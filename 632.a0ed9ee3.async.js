(self.webpackChunk_antv_li_website=self.webpackChunk_antv_li_website||[]).push([[632],{36248:function(Gt,st,L){"use strict";L.d(st,{sg:function(){return sa},x1:function(){return Da},by:function(){return Oa}});var tt={};L.r(tt),L.d(tt,{cluster:function(){return rv},hierarchy:function(){return je},pack:function(){return hi},packEnclose:function(){return li},packSiblings:function(){return Fc},partition:function(){return $i},stratify:function(){return lv},tree:function(){return vv},treemap:function(){return to},treemapBinary:function(){return hv},treemapDice:function(){return cn},treemapResquarify:function(){return gv},treemapSlice:function(){return Gn},treemapSliceDice:function(){return pv},treemapSquarify:function(){return Qi}});var D=L(95876),g=L(85556),h=L(47165),nt=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],gt;(function(t){t.ERROR="error",t.WARN="warn",t.INFO="log"})(gt||(gt={}));var Dt="AntV/G2Plot";function j(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=0;return"".concat(Dt,": ").concat(t.replace(/%s/g,function(){return"".concat(e[r++])}))}function q(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t){var a=new Error(j.apply(void 0,__spreadArray([e],n,!1)));throw a.name=Dt,a}}function vt(t,e,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];e||console[t](j.apply(void 0,(0,g.ev)([n],r,!1)))}function U(t,e){var n={};return t!==null&&typeof t=="object"&&e.forEach(function(r){var a=t[r];a!==void 0&&(n[r]=a)}),n}function Pt(t,e){if(!t)return{};var n=t.filter(function(i){var o=(0,h.U2)(i,[e]);return(0,h.hj)(o)&&!isNaN(o)}),r=n.every(function(i){return(0,h.U2)(i,[e])>=0}),a=n.every(function(i){return(0,h.U2)(i,[e])<=0});return r?{min:0}:a?{max:0}:{}}function J(t,e,n,r,a){if(a===void 0&&(a=[]),!Array.isArray(t))return{nodes:[],links:[]};var i=[],o={},s=-1;return t.forEach(function(l){var u=l[e],c=l[n],d=l[r],f=U(l,a);o[u]||(o[u]=(0,g.pi)({id:++s,name:u},f)),o[c]||(o[c]=(0,g.pi)({id:++s,name:c},f)),i.push((0,g.pi)({source:o[u].id,target:o[c].id,value:d},f))}),{nodes:Object.values(o).sort(function(l,u){return l.id-u.id}),links:i}}function Z(t,e){var n=(0,h.hX)(t,function(r){var a=r[e];return a===null||typeof a=="number"&&!isNaN(a)});return vt(gt.WARN,n.length===t.length,"illegal data existed in chart data."),n}var z=5,C={}.toString,K=function(t,e){return C.call(t)==="[object "+e+"]"},wt=function(t){return K(t,"Array")},Ot=function(t){return typeof t=="object"&&t!==null},Zt=function(t){if(!Ot(t)||!K(t,"Object"))return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Ct=function(t,e,n,r){n=n||0,r=r||z;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=e[a];i?Zt(i)?(Zt(t[a])||(t[a]={}),n<r?Ct(t[a],i,n+1,r):t[a]=e[a]):wt(i)?(t[a]=[],t[a]=t[a].concat(i)):t[a]=i:t[a]=i}},b=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Ct(t,e[r]);return t};function Ut(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function N(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.reduce(function(r,a){return a(r)},n)}}function Et(t,e){return t.geometries.find(function(n){return n.type===e})}function Lt(t){return(0,h.u4)(t.geometries,function(e,n){return e.concat(n.elements)},[])}function A(t){return(0,h.U2)(t,["views","length"],0)<=0?Lt(t):(0,h.u4)(t.views,function(e,n){return e.concat(A(n))},Lt(t))}function E(t){return(0,h.U2)(t,["views","length"],0)<=0?t.geometries:(0,h.u4)(t.views,function(e,n){return e.concat(n.geometries)},t.geometries)}function P(t){if(!(0,h.P9)(t,"Object"))return t;var e=(0,g.pi)({},t);return e.formatter&&!e.content&&(e.content=e.formatter),e}var I;function T(){return I||(I=document.createElement("canvas").getContext("2d")),I}var M=(0,h.HP)(function(t,e){e===void 0&&(e={});var n=e.fontSize,r=e.fontFamily,a=r===void 0?"sans-serif":r,i=e.fontWeight,o=e.fontStyle,s=e.fontVariant,l=T();l.font=[o,i,s,"".concat(n,"px"),a].join(" ");var u=l.measureText((0,h.HD)(t)?t:"");return u.width},function(t,e){return e===void 0&&(e={}),(0,g.ev)([t],(0,h.VO)(e),!0).join("")});function R(t){return typeof t=="number"&&!isNaN(t)}function V(t,e,n){var r=Math.min(e,n),a=Math.max(e,n);return t>=r&&t<=a}function H(t){if((0,h.hj)(t))return[t,t,t,t];if((0,h.kJ)(t)){var e=t.length;if(e===1)return[t[0],t[0],t[0],t[0]];if(e===2)return[t[0],t[1],t[0],t[1]];if(e===3)return[t[0],t[1],t[2],t[1]];if(e===4)return t}return[0,0,0,0]}function at(t,e,n){e===void 0&&(e="bottom"),n===void 0&&(n=25);var r=H(t),a=[e.startsWith("top")?n:0,e.startsWith("right")?n:0,e.startsWith("bottom")?n:0,e.startsWith("left")?n:0];return[r[0]+a[0],r[1]+a[1],r[2]+a[2],r[3]+a[3]]}function ut(t){var e=t.map(function(r){return H(r)}),n=[0,0,0,0];return e.length>0&&(n=n.map(function(r,a){return e.forEach(function(i,o){r+=e[o][a]}),r})),n}var ot=L(29617);function ht(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var r=1,a=t.length;r<a;r+=1){var i=t[r];n.push(["L",i.x,i.y])}e&&n.push(["Z"])}return n}var St=function(t,e,n,r){var a=[],i,o,s=!!r,l,u;if(s){l=[1/0,1/0],u=[-1/0,-1/0];for(var c=0,d=t.length;c<d;c++){var f=t[c];l=ot.VV([0,0],l,f),u=ot.Fp([0,0],u,f)}l=ot.VV([0,0],l,r[0]),u=ot.Fp([0,0],u,r[1])}for(var c=0,v=t.length;c<v;c++){var f=t[c];if(n)i=t[c?c-1:v-1],o=t[(c+1)%v];else if(c===0||c===v-1){a.push(f);continue}else i=t[c-1],o=t[c+1];var p=[0,0];p=ot.lu(p,o,i),p=ot.bA(p,p,e);var y=ot.TE(f,i),m=ot.TE(f,o),x=y+m;x!==0&&(y/=x,m/=x);var F=ot.bA([0,0],p,-y),w=ot.bA([0,0],p,m),S=ot.IH([0,0],f,F),_=ot.IH([0,0],f,w);s&&(S=ot.Fp([0,0],S,l),S=ot.VV([0,0],S,u),_=ot.Fp([0,0],_,l),_=ot.VV([0,0],_,u)),a.push(S),a.push(_)}return n&&a.push(a.shift()),a};function mt(t,e,n){for(var r=!!e,a=[],i=0,o=t.length;i<o;i+=2)a.push([t[i],t[i+1]]);for(var s=St(a,.4,r,n),l=a.length,u=[],c,d,f,i=0;i<l-1;i++)c=s[i*2],d=s[i*2+1],f=a[i+1],u.push(["C",c[0],c[1],d[0],d[1],f[0],f[1]]);return r&&(c=s[l],d=s[l+1],f=a[0],u.push(["C",c[0],c[1],d[0],d[1],f[0],f[1]])),u}function pt(t,e,n){var r=[],a=t[0],i=null;if(t.length<=2)return ht(t,e);for(var o=0,s=t.length;o<s;o++){var l=t[o];(!i||!(i.x===l.x&&i.y===l.y))&&(r.push(l.x),r.push(l.y),i=l)}var u=n||[[0,0],[1,1]],c=mt(r,e,u);return c.unshift(["M",a.x,a.y]),c}function kt(t){if(!t)return t;var e=t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return e.map(function(n){return n.toLowerCase()}).join("-")}function yt(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,h.U2)(t,"fill")&&(e.color=t.fill);var r=U(t,n),a=r.shadowColor,i=r.shadowBlur,o=i===void 0?0:i,s=r.shadowOffsetX,l=s===void 0?0:s,u=r.shadowOffsetY,c=u===void 0?0:u;e["text-shadow"]="".concat([a,"".concat(l,"px"),"".concat(c,"px"),"".concat(o,"px")].join(" "));var d=U(t,n),f=d.stroke,v=d.lineWidth,p=v===void 0?0:v;return e["-webkit-text-stroke"]="".concat(["".concat(p,"px"),f].join(" ")),(0,h.S6)(t,function(y,m){["fontSize"].includes(m)&&(0,h.hj)(y)?e[kt(m)]="".concat(y,"px"):m&&!n.includes(m)&&(e[kt(m)]="".concat(y))}),e}function ct(t,e){t.style["pointer-events"]="none",(0,h.S6)(e,function(n,r){r&&n&&(t.style[r]=n)})}var xt=function(t,e,n){var r=e.statistic,a=e.plotType,i=r.title,o=r.content;[i,o].forEach(function(s,l){if(s){var u="";l===0?u=o?"translate(-50%, -100%)":"translate(-50%, -50%)":u=i?"translate(-50%, 0)":"translate(-50%, -50%)";var c=(0,h.mf)(s.style)?s.style(n):s.style;t.annotation().html((0,g.pi)({position:["50%","50%"],html:function(d,f){var v=f.getCoordinate(),p=0;if(a==="pie"||a==="ring-progress")p=v.getRadius()*v.innerRadius*2;else if(a==="liquid"){var y=(0,h.U2)(f.geometries,[0,"elements",0,"shape"]);if(y){var m=y.find(function(S){return S.get("name")==="wrap"}),x=m.getCanvasBBox().width;p=x}}else p||(p=v.getWidth());ct(d,(0,g.pi)({width:"".concat(p,"px"),transform:u},yt(c)));var F=f.getData();if(s.customHtml)return s.customHtml(d,f,n,F);var w=s.content;return s.formatter&&(w=s.formatter(n,F)),w?(0,h.HD)(w)?w:"".concat(w):"<div></div>"},key:"".concat(l===0?"top":"bottom","-statistic")},U(s,["offsetX","offsetY","rotate","style","formatter"])))}})},Mt=function(t,e,n){var r=e.statistic,a=r.title,i=r.content;[a,i].forEach(function(o){if(o){var s=(0,h.mf)(o.style)?o.style(n):o.style;t.annotation().html((0,g.pi)({position:["50%","100%"],html:function(l,u){var c=u.getCoordinate(),d=u.views[0].getCoordinate(),f=d.getCenter(),v=d.getRadius(),p=Math.max(Math.sin(d.startAngle),Math.sin(d.endAngle))*v,y=f.y+p-c.y.start-parseFloat((0,h.U2)(s,"fontSize",0)),m=c.getRadius()*c.innerRadius*2;ct(l,(0,g.pi)({width:"".concat(m,"px"),transform:"translate(-50%, ".concat(y,"px)")},yt(s)));var x=u.getData();if(o.customHtml)return o.customHtml(l,u,n,x);var F=o.content;return o.formatter&&(F=o.formatter(n,x)),F?(0,h.HD)(F)?F:"".concat(F):"<div></div>"}},U(o,["offsetX","offsetY","rotate","style","formatter"])))}})};function Vt(t,e){return e?(0,h.u4)(e,function(n,r,a){return n.replace(new RegExp("{\\s*".concat(a,"\\s*}"),"g"),r)},t):t}function B(t,e){return t.views.find(function(n){return n.id===e})}function Ht(t){var e=t.parent;return e?e.views:[]}function Kt(t){return Ht(t).filter(function(e){return e!==t})}function Qt(t,e,n){n===void 0&&(n=t.geometries),typeof e=="boolean"?t.animate(e):t.animate(!0),(0,h.S6)(n,function(r){var a;(0,h.mf)(e)?a=e(r.type||r.shapeType,r)||!0:a=e,r.animate(a)})}function ae(){return typeof window=="object"?window==null?void 0:window.devicePixelRatio:2}function te(t,e){e===void 0&&(e=t);var n=document.createElement("canvas"),r=ae();n.width=t*r,n.height=e*r,n.style.width="".concat(t,"px"),n.style.height="".concat(e,"px");var a=n.getContext("2d");return a.scale(r,r),n}function le(t,e,n,r){r===void 0&&(r=n);var a=e.backgroundColor,i=e.opacity;t.globalAlpha=i,t.fillStyle=a,t.beginPath(),t.fillRect(0,0,n,r),t.closePath()}function ne(t,e,n){var r=t+e;return n?r*2:r}function re(t,e){var n=e?[[t*.25,t*.25],[t*.75,t*.75]]:[[t*.5,t*.5]];return n}function Xt(t,e){var n=e*Math.PI/180,r={a:Math.cos(n)*(1/t),b:Math.sin(n)*(1/t),c:-Math.sin(n)*(1/t),d:Math.cos(n)*(1/t),e:0,f:0};return r}var ie={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function se(t,e,n,r){var a=e.size,i=e.fill,o=e.lineWidth,s=e.stroke,l=e.fillOpacity;t.beginPath(),t.globalAlpha=l,t.fillStyle=i,t.strokeStyle=s,t.lineWidth=o,t.arc(n,r,a/2,0,2*Math.PI,!1),t.fill(),o&&t.stroke(),t.closePath()}function Jn(t){var e=b({},ie,t),n=e.size,r=e.padding,a=e.isStagger,i=e.rotation,o=ne(n,r,a),s=re(o,a),l=te(o,o),u=l.getContext("2d");le(u,e,o);for(var c=0,d=s;c<d.length;c++){var f=d[c],v=f[0],p=f[1];se(u,e,v,p)}var y=u.createPattern(l,"repeat");if(y){var m=ae(),x=Xt(m,i);y.setTransform(x)}return y}var mn={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function Kn(t,e,n){var r=e.stroke,a=e.lineWidth,i=e.strokeOpacity,o=new Path2D(n);t.globalAlpha=i,t.lineCap="square",t.strokeStyle=a?r:"transparent",t.lineWidth=a,t.stroke(o)}function Qn(t){var e=b({},mn,t),n=e.spacing,r=e.rotation,a=e.lineWidth,i=n+a||1,o=n+a||1,s=`
            M 0 0 L `.concat(i,` 0
            M 0 `).concat(o," L ").concat(i," ").concat(o,`
            `),l=te(i,o),u=l.getContext("2d");le(u,e,i,o),Kn(u,e,s);var c=u.createPattern(l,"repeat");if(c){var d=ae(),f=Xt(d,r);c.setTransform(f)}return c}var Fn={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function We(t,e,n,r){var a=e.stroke,i=e.size,o=e.fill,s=e.lineWidth,l=e.fillOpacity;t.globalAlpha=l,t.strokeStyle=a,t.lineWidth=s,t.fillStyle=o,t.strokeRect(n-i/2,r-i/2,i,i),t.fillRect(n-i/2,r-i/2,i,i)}function Be(t){var e=b({},Fn,t),n=e.size,r=e.padding,a=e.isStagger,i=e.rotation,o=ne(n,r,a),s=re(o,a),l=te(o,o),u=l.getContext("2d");le(u,e,o);for(var c=0,d=s;c<d.length;c++){var f=d[c],v=f[0],p=f[1];We(u,e,v,p)}var y=u.createPattern(l,"repeat");if(y){var m=ae(),x=Xt(m,i);y.setTransform(x)}return y}function bn(t){var e=t.type,n=t.cfg,r;switch(e){case"dot":r=Jn(n);break;case"line":r=Qn(n);break;case"square":r=Be(n);break;default:break}return r}function ue(t){var e=this;return function(n){var r,a=n.options,i=n.chart,o=a.pattern;if(!o)return n;var s=function(l){for(var u,c,d,f=[],v=1;v<arguments.length;v++)f[v-1]=arguments[v];var p=i.getTheme().defaultColor,y=p,m=(c=(u=i.geometries)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.getAttribute("color");if(m){var x=m.getFields()[0],F=(0,h.U2)(l,x);y=D.Zr.getMappingValue(m,F,((d=m.values)===null||d===void 0?void 0:d[0])||p)}var w=o;typeof o=="function"&&(w=o.call(e,l,y)),w instanceof CanvasPattern||(w=bn(b({},{cfg:{backgroundColor:y}},w)));var S=a[t];return(0,g.pi)((0,g.pi)({},typeof S=="function"?S.call.apply(S,(0,g.ev)([e,l],f,!1)):S||{}),{fill:w||y})};return b({},n,{options:(r={},r[t]=s,r)})}}function Ie(t){var e=t.chart,n=t.options,r=n.legend,a=n.colorField,i=n.seriesField;return r===!1?e.legend(!1):(a||i)&&e.legend(a||i,r),t}function Yt(t){var e=t.chart,n=t.options,r=n.tooltip;return r!==void 0&&e.tooltip(r),t}function zt(t){var e=t.chart,n=t.options,r=n.interactions;return(0,h.S6)(r,function(a){a.enable===!1?e.removeInteraction(a.type):e.interaction(a.type,a.cfg||{})}),t}function It(t){var e=t.chart,n=t.options,r=n.animation;return Qt(e,r),t}function At(t){var e=t.chart,n=t.options,r=n.theme;return r&&e.theme(r),t}function De(t){var e=t.chart,n=t.options,r=n.state;return r&&(0,h.S6)(e.geometries,function(a){a.state(r)}),t}function Qe(t){var e=t.chart,n=t.options,r=n.slider;return e.option("slider",r),t}function tr(t){var e=t.chart,n=t.options,r=n.scrollbar;return e.option("scrollbar",r),t}function qt(t,e){return function(n){var r=n.chart,a=n.options,i={};return(0,h.S6)(t,function(o,s){i[s]=U(o,nt)}),i=b({},e,a.meta,i),r.scale(i),n}}function Wt(t){return function(e){var n=e.chart,r=e.options,a=n.getController("annotation");return(0,h.S6)((0,g.ev)((0,g.ev)([],r.annotations||[],!0),t||[],!0),function(i){a.annotation(i)}),e}}function Oe(t){var e=t.chart,n=t.options,r=n.yAxis,a=n.limitInPlot,i=a;return(0,h.Kn)(r)&&(0,h.UM)(a)&&(Object.values(U(r,["min","max","minLimit","maxLimit"])).some(function(o){return!(0,h.UM)(o)})?i=!0:i=!1),e.limitInPlot=i,t}function Xr(t){return t===void 0&&(t="rect"),function(e){var n=e.chart,r=e.options,a=r.coordinate,i=Array.from(a||[]).map(function(o){return o.type==="reflectX"?["reflect","x"]:o.type==="reflectY"?["reflect","y"]:o.type==="transpose"?["transpose"]:null}).filter(function(o){return!!o});return i.length!==0&&n.coordinate({type:t,actions:i}),e}}var Yr={locale:"en-US"};function Kp(t){each(t,function(e,n){return Yr[n]=e})}var Sn={};function $r(t,e){Sn[t]=e}function _n(t){return{get:function(e,n){return Vt((0,h.U2)(Sn[t],e)||(0,h.U2)(Sn[Yr.locale],e)||(0,h.U2)(Sn["en-US"],e)||e,n)}}}var zo={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}},No={locale:"zh-CN",general:{increase:"\u589E\u52A0",decrease:"\u51CF\u5C11",root:"\u521D\u59CB"},statistic:{total:"\u603B\u8BA1"},conversionTag:{label:"\u8F6C\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603B\u8BA1"}};function ve(t,e){if(t===!1)return{fields:!1};var n=(0,h.U2)(t,"fields"),r=(0,h.U2)(t,"formatter");return r&&!n&&(n=e),{fields:n,formatter:r}}function wn(t,e){var n=t.type,r=t.xField,a=t.yField,i=t.colorField,o=t.shapeField,s=t.sizeField,l=t.styleField,u=t.rawFields,c=[];if(u=((0,h.mf)(u)?u(n,e):u)||[],e==="color")c=(0,g.ev)([i||r],u,!0);else if(e==="shape")c=(0,g.ev)([o||r],u,!0);else if(e==="size")c=(0,g.ev)([s||r],u,!0);else{c=(0,g.ev)([r,a,i,o,s,l],u,!0);var d=["x","y","color","shape","size","style"].indexOf(e),f=c[d];c.splice(d,1),c.unshift(f)}var v=(0,h.jj)(c.filter(function(y){return!!y})),p=n==="line"&&[r,a].includes(v.join("*"))?"":v.join("*");return{mappingFields:v,tileMappingField:p}}function Ge(t,e){if(e)return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a={};return t.forEach(function(i,o){a[i]=n[o]}),delete a.undefined,e(a)}}function oe(t){var e=t.chart,n=t.options,r=n.type,a=n.args,i=n.mapping,o=n.xField,s=n.yField,l=n.colorField,u=n.shapeField,c=n.sizeField,d=n.tooltipFields,f=n.label,v=n.state,p=n.customInfo;if(!i)return t;var y=i.color,m=i.shape,x=i.size,F=i.style,w=i.tooltip,S=e[r](a).position("".concat(o,"*").concat(s));if((0,h.HD)(y))l?S.color(l,y):S.color(y);else if((0,h.mf)(y)){var _=wn(n,"color"),O=_.mappingFields,W=_.tileMappingField;S.color(W,Ge(O,y))}else l&&S.color(l,y);if((0,h.HD)(m))u?S.shape(u,[m]):S.shape(m);else if((0,h.mf)(m)){var X=wn(n,"shape"),O=X.mappingFields,W=X.tileMappingField;S.shape(W,Ge(O,m))}else u&&S.shape(u,m);if((0,h.hj)(x))c?S.size(c,x):S.size(x);else if((0,h.mf)(x)){var ft=wn(n,"size"),O=ft.mappingFields,W=ft.tileMappingField;S.size(W,Ge(O,x))}else c&&S.size(c,x);if((0,h.mf)(F)){var et=wn(n,"style"),O=et.mappingFields,W=et.tileMappingField;S.style(W,Ge(O,F))}else(0,h.Kn)(F)&&S.style(F);if(d===!1?S.tooltip(!1):(0,h.xb)(d)||S.tooltip(d.join("*"),Ge(d,w)),f===!1)S.label(!1);else if(f){var Y=f.callback,_t=f.fields,Nt=(0,g._T)(f,["callback","fields"]);S.label({fields:_t||[s],callback:Y,cfg:P(Nt)})}return v&&S.state(v),p&&S.customInfo(p),[o,s].filter(function(Rt){return Rt!==l}).forEach(function(Rt){e.legend(Rt,!1)}),(0,g.pi)((0,g.pi)({},t),{ext:{geometry:S}})}function An(t){var e=t.options,n=e.area,r=e.xField,a=e.yField,i=e.seriesField,o=e.smooth,s=e.tooltip,l=e.useDeferredLabel,u=ve(s,[r,a,i]),c=u.fields,d=u.formatter;return n?oe(b({},t,{options:{type:"area",colorField:i,tooltipFields:c,mapping:(0,h.b$)({shape:o?"smooth":"area",tooltip:d},n),args:{useDeferredLabel:l}}})):t}function jr(t){var e=t.options,n=e.edge,r=e.xField,a=e.yField,i=e.seriesField,o=e.tooltip,s=e.useDeferredLabel,l=ve(o,[r,a,i]),u=l.fields,c=l.formatter;return n?oe(b({},t,{options:{type:"edge",colorField:i,tooltipFields:u,mapping:(0,g.pi)({tooltip:c},n),args:{useDeferredLabel:s}}})):t}function Uo(t){var e=t.chart,n=t.options,r=t.ext,a=n.seriesField,i=n.isGroup,o=n.isStack,s=n.marginRatio,l=n.widthRatio,u=n.groupField,c=n.theme,d=[];if(a&&(i&&d.push({type:"dodge",dodgeBy:u||a,marginRatio:s}),o&&d.push({type:"stack",marginRatio:s})),d.length&&(r!=null&&r.geometry)){var f=r==null?void 0:r.geometry;f.adjust(d)}return(0,h.UM)(l)||e.theme(b({},(0,h.Kn)(c)?c:(0,D.gh)(c),{columnWidthRatio:l})),t}function ee(t){var e=t.options,n=e.xField,r=e.yField,a=e.interval,i=e.seriesField,o=e.tooltip,s=e.minColumnWidth,l=e.maxColumnWidth,u=e.columnBackground,c=e.dodgePadding,d=e.intervalPadding,f=e.useDeferredLabel,v=ve(o,[n,r,i]),p=v.fields,y=v.formatter,m=(a?oe(b({},t,{options:{type:"interval",colorField:i,tooltipFields:p,mapping:(0,g.pi)({tooltip:y},a),args:{dodgePadding:c,intervalPadding:d,minColumnWidth:s,maxColumnWidth:l,background:u,useDeferredLabel:f}}})):t).ext;return Uo((0,g.pi)((0,g.pi)({},t),{ext:m}))}function Ze(t){var e=t.options,n=e.line,r=e.stepType,a=e.xField,i=e.yField,o=e.seriesField,s=e.smooth,l=e.connectNulls,u=e.tooltip,c=e.useDeferredLabel,d=ve(u,[a,i,o]),f=d.fields,v=d.formatter;return n?oe(b({},t,{options:{type:"line",colorField:o,tooltipFields:f,mapping:(0,h.b$)({shape:r||(s?"smooth":"line"),tooltip:v},n),args:{connectNulls:l,useDeferredLabel:c}}})):t}function ce(t){var e=t.options,n=e.point,r=e.xField,a=e.yField,i=e.seriesField,o=e.sizeField,s=e.shapeField,l=e.tooltip,u=e.useDeferredLabel,c=ve(l,[r,a,i,o,s]),d=c.fields,f=c.formatter;return n?oe(b({},t,{options:{type:"point",colorField:i,shapeField:s,tooltipFields:d,mapping:(0,g.pi)({tooltip:f},n),args:{useDeferredLabel:u}}})):t}function Dn(t){var e=t.options,n=e.polygon,r=e.xField,a=e.yField,i=e.seriesField,o=e.tooltip,s=e.useDeferredLabel,l=ve(o,[r,a,i]),u=l.fields,c=l.formatter;return n?oe(b({},t,{options:{type:"polygon",colorField:i,tooltipFields:u,mapping:(0,g.pi)({tooltip:c},n),args:{useDeferredLabel:s}}})):t}function er(t){var e=t.options,n=e.schema,r=e.xField,a=e.yField,i=e.seriesField,o=e.tooltip,s=e.useDeferredLabel,l=ve(o,[r,a,i]),u=l.fields,c=l.formatter;return n?oe(b({},t,{options:{type:"schema",colorField:i,tooltipFields:u,mapping:(0,g.pi)({tooltip:c},n),args:{useDeferredLabel:s}}})):t}function Vo(t){var e=t.options,n=e.violin,r=e.xField,a=e.yField,i=e.seriesField,o=e.sizeField,s=e.tooltip,l=ve(s,[r,a,i,o]),u=l.fields,c=l.formatter;return n?oe(b({},t,{options:{type:"violin",colorField:i,tooltipFields:u,mapping:(0,g.pi)({tooltip:c},n)}})):t}var Wo=L(75262),Bo=L(31770),Jr="data-chart-source-type",Kr=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],lt=function(t){(0,g.ZT)(e,t);function e(n,r){var a=t.call(this)||this;return a.container=typeof n=="string"?document.getElementById(n):n,a.options=b({},a.getDefaultOptions(),r),a.createG2(),a.bindEvents(),a}return e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var n=this.options,r=n.width,a=n.height,i=n.defaultInteractions;this.chart=new D.kL((0,g.pi)((0,g.pi)((0,g.pi)((0,g.pi)({container:this.container,autoFit:!1},this.getChartSize(r,a)),{localRefresh:!1}),U(this.options,Kr)),{defaultInteractions:i})),this.container.setAttribute(Jr,"G2Plot")},e.prototype.getChartSize=function(n,r){var a=Ut(this.container);return{width:n||a.width||400,height:r||a.height||400}},e.prototype.bindEvents=function(){var n=this;this.chart&&this.chart.on("*",function(r){r!=null&&r.type&&n.emit(r.type,r)})},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(n){this.updateOption(n),this.render()},e.prototype.updateOption=function(n){this.options=b({},this.options,n)},e.prototype.setState=function(n,r,a){a===void 0&&(a=!0);var i=A(this.chart);(0,h.S6)(i,function(o){r(o.getData())&&o.setState(n,a)})},e.prototype.getStates=function(){var n=A(this.chart),r=[];return(0,h.S6)(n,function(a){var i=a.getData(),o=a.getStates();(0,h.S6)(o,function(s){r.push({data:i,state:s,geometry:a.geometry,element:a})})}),r},e.prototype.changeData=function(n){this.update({data:n})},e.prototype.changeSize=function(n,r){this.chart.changeSize(n,r)},e.prototype.addAnnotations=function(n,r){r=r||this.chart;var a=(0,g.ev)([],n,!0),i=r.getController("annotation"),o=i.getComponents().map(function(u){return u.extra});i.clear(!0);for(var s=function(u){var c=o[u],d=a.findIndex(function(f){return f.id&&f.id===c.id});d!==-1&&(c=b({},c,a[d]),a.splice(d,1)),i.annotation(c)},l=0;l<o.length;l++)s(l);a.forEach(function(u){return i.annotation(u)}),r.render(!0)},e.prototype.removeAnnotations=function(n){var r=this.chart.getController("annotation"),a=r.getComponents().map(function(s){return s.extra});r.clear(!0);for(var i=function(s){var l=a[s];n.find(function(u){return u.id&&u.id===l.id})||r.annotation(l)},o=0;o<a.length;o++)i(o);this.chart.render(!0)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(Jr)},e.prototype.execAdaptor=function(){var n=this.getSchemaAdaptor(),r=this.options,a=r.padding,i=r.appendPadding;this.chart.padding=a,this.chart.appendPadding=i,n({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var n=this;if(!this.unbind){var r=this.options.autoFit,a=r===void 0?!0:r;a&&(this.unbind=(0,Bo.ak)(this.container,function(){var i=Ut(n.container),o=i.width,s=i.height;(o!==n.chart.width||s!==n.chart.height)&&n.triggerResize()}))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(Wo.Z);function Qr(t,e,n,r){var a=(0,h.u4)(t,function(i,o){var s=o[n],l=i.has(s)?i.get(s):0,u=o[e];return l=R(u)?l+u:l,i.set(s,l),i},new Map);return(0,h.UI)(t,function(i){var o,s=i[e],l=i[n],u=R(s)&&a.get(l)!==0?s/a.get(l):0;return(0,g.pi)((0,g.pi)({},i),(o={},o[r]=u,o))})}function Go(t,e,n,r){var a=(0,h.u4)(t,function(i,o){var s=(0,h.u4)(n,function(c,d){return"".concat(c).concat(o[d])},""),l=i.has(s)?i.get(s):0,u=o[e];return l=R(u)?l+u:l,i.set(s,l),i},new Map);return(0,h.UI)(t,function(i){var o,s=i[e],l=(0,h.u4)(n,function(c,d){return"".concat(c).concat(i[d])},""),u=R(s)&&a.get(l)!==0?s/a.get(l):0;return(0,g.pi)((0,g.pi)({},i),(o={},o[r]=u,o))})}function tn(t,e,n,r,a){return a?Qr(t,e,n,r):t}function Zo(t){var e=t.chart,n=t.options,r=n.data,a=n.color,i=n.lineStyle,o=n.lineShape,s=n.point,l=n.area,u=n.seriesField,c=s==null?void 0:s.state,d=l==null?void 0:l.state;e.data(r);var f=b({},t,{options:{shapeField:u,line:{color:a,style:i,shape:o},point:s&&(0,g.pi)({color:a,shape:"circle"},s),area:l&&(0,g.pi)({color:a},l),label:void 0}}),v=b({},f,{options:{tooltip:!1,state:c}}),p=b({},f,{options:{tooltip:!1,state:d}});return Ze(f),ce(v),An(p),t}function Mn(t){var e,n,r=t.options,a=r.xAxis,i=r.yAxis,o=r.xField,s=r.yField,l=r.data;return N(qt((e={},e[o]=a,e[s]=i,e),(n={},n[o]={type:"cat"},n[s]=Pt(l,s),n)))(t)}function qo(t){var e=t.chart,n=t.options,r=n.reflect;if(r){var a=r;(0,h.kJ)(a)||(a=[a]);var i=a.map(function(o){return["reflect",o]});e.coordinate({type:"rect",actions:i})}return t}function ta(t){var e=t.chart,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField;return r===!1?e.axis(i,!1):e.axis(i,r),a===!1?e.axis(o,!1):e.axis(o,a),t}function ea(t){var e=t.chart,n=t.options,r=n.legend,a=n.seriesField;return r&&a?e.legend(a,r):r===!1&&e.legend(!1),t}function Ho(t){var e=t.chart,n=t.options,r=n.label,a=n.yField,i=Et(e,"line");if(!r)i.label(!1);else{var o=r.fields,s=r.callback,l=(0,g._T)(r,["fields","callback"]);i.label({fields:o||[a],callback:s,cfg:(0,g.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},P(l))})}return t}function Xo(t){var e=t.chart,n=t.options,r=n.isStack;return r&&(0,h.S6)(e.geometries,function(a){a.adjust("stack")}),t}function na(t){return N(Zo,Mn,Xo,At,qo,ta,ea,Yt,Ho,Qe,tr,zt,It,Wt(),Oe)(t)}function Yo(t){var e=t.chart,n=t.options,r=n.data,a=n.areaStyle,i=n.areaShape,o=n.color,s=n.point,l=n.line,u=n.isPercent,c=n.xField,d=n.yField,f=n.tooltip,v=n.seriesField,p=n.startOnZero,y=s==null?void 0:s.state,m=tn(r,d,c,d,u);e.data(m);var x=u?(0,g.pi)({formatter:function(_){return{name:_[v]||_[c],value:(Number(_[d])*100).toFixed(2)+"%"}}},f):f,F=b({},t,{options:{area:{color:o,style:a,shape:i},point:s&&(0,g.pi)({color:o},s),tooltip:x,label:void 0,args:{startOnZero:p}}}),w={chart:e,options:b({line:{size:2}},(0,h.CE)(n,["state"]),{line:l&&(0,g.pi)({color:o},l),sizeField:v,state:l==null?void 0:l.state,tooltip:!1,label:void 0,args:{startOnZero:p}})},S=b({},F,{options:{tooltip:!1,state:y}});return An(F),Ze(w),ce(S),t}function $o(t){var e=t.chart,n=t.options,r=n.label,a=n.yField,i=Et(e,"area");if(!r)i.label(!1);else{var o=r.fields,s=r.callback,l=(0,g._T)(r,["fields","callback"]);i.label({fields:o||[a],callback:s,cfg:(0,g.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},P(l))})}return t}function jo(t){var e=t.chart,n=t.options,r=n.isStack,a=n.isPercent,i=n.seriesField;return(a||r)&&i&&(0,h.S6)(e.geometries,function(o){o.adjust("stack")}),t}function ra(t){return N(At,ue("areaStyle"),Xr("rect"),Yo,Mn,jo,ta,ea,Yt,$o,Qe,Wt(),zt,It,Oe)(t)}var Jo=b({},lt.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),Ko=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="area",n}return e.getDefaultOptions=function(){return Jo},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(n){this.updateOption({data:n});var r=this.options,a=r.isPercent,i=r.xField,o=r.yField,s=this,l=s.chart,u=s.options;Mn({chart:l,options:u}),this.chart.changeData(tn(n,o,i,o,a))},e.prototype.getSchemaAdaptor=function(){return ra},e}(lt),Qo=10,tl=5,el={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},nl=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buttonGroup=null,n.buttonCfg=(0,g.pi)({name:"button"},el),n}return e.prototype.getButtonCfg=function(){var n=this.context.view,r=(0,h.U2)(n,["interactions","filter-action","cfg","buttonConfig"]);return b(this.buttonCfg,r,this.cfg)},e.prototype.drawButton=function(){var n=this.getButtonCfg(),r=this.context.view.foregroundGroup.addGroup({name:n.name}),a=this.drawText(r);this.drawBackground(r,a.getBBox()),this.buttonGroup=r},e.prototype.drawText=function(n){var r,a=this.getButtonCfg();return n.addShape({type:"text",name:"button-text",attrs:(0,g.pi)({text:a.text},(r=a.textStyle)===null||r===void 0?void 0:r.default)})},e.prototype.drawBackground=function(n,r){var a,i=this.getButtonCfg(),o=H(i.padding),s=n.addShape({type:"rect",name:"button-rect",attrs:(0,g.pi)({x:r.x-o[3],y:r.y-o[0],width:r.width+o[1]+o[3],height:r.height+o[0]+o[2]},(a=i.buttonStyle)===null||a===void 0?void 0:a.default)});return s.toBack(),n.on("mouseenter",function(){var l;s.attr((l=i.buttonStyle)===null||l===void 0?void 0:l.active)}),n.on("mouseleave",function(){var l;s.attr((l=i.buttonStyle)===null||l===void 0?void 0:l.default)}),s},e.prototype.resetPosition=function(){var n=this.context.view,r=n.getCoordinate(),a=r.convert({x:1,y:1}),i=this.buttonGroup,o=i.getBBox(),s=D.Zr.transform(null,[["t",a.x-o.width-Qo,a.y+o.height+tl]]);i.setMatrix(s)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var n=this.buttonGroup;n&&n.remove(),t.prototype.destroy.call(this)},e}(D.aU);(0,D.zl)("brush-reset-button",nl,{name:"brush-reset-button"}),(0,D.w_)("filter-action",{});function be(t){return t.isInPlot()}function Pe(t,e,n){var r=n||{},a=r.mask,i=r.isStartEnable,o=e||"rect";switch(t){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i||be,action:["brush:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:a==null?void 0:a.style}]}],processing:[{trigger:"mousemove",isEnable:be,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:be,action:["brush:filter","brush:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(s){return i?!i(s):!1}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:i||function(s){return!s.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:a==null?void 0:a.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i||be,action:["brush-x:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:a==null?void 0:a.style}]}],processing:[{trigger:"mousemove",isEnable:be,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:be,action:["brush-x:filter","brush-x:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:i||function(s){return!s.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:a==null?void 0:a.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i||be,action:["brush-y:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:a==null?void 0:a.style}]}],processing:[{trigger:"mousemove",isEnable:be,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:be,action:["brush-y:filter","brush-y:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:i||function(s){return!s.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:a==null?void 0:a.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};default:return{}}}(0,D.w_)("brush",Pe("brush")),(0,D.w_)("brush-highlight",Pe("brush-highlight")),(0,D.w_)("brush-x",Pe("brush-x","x-rect")),(0,D.w_)("brush-y",Pe("brush-y","y-rect")),(0,D.w_)("brush-x-highlight",Pe("brush-x-highlight","x-rect")),(0,D.w_)("brush-y-highlight",Pe("brush-y-highlight","y-rect"));var aa=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function ia(t){var e=t.options,n=e.brush,r=(0,h.hX)(e.interactions||[],function(a){return aa.indexOf(a.type)===-1});return n!=null&&n.enabled&&(aa.forEach(function(a){var i=!1;switch(n.type){case"x-rect":i=a===(n.action==="highlight"?"brush-x-highlight":"brush-x");break;case"y-rect":i=a===(n.action==="highlight"?"brush-y-highlight":"brush-y");break;default:i=a===(n.action==="highlight"?"brush-highlight":"brush");break}var o={type:a,enable:i};n&&(o.cfg=Pe(a,n.type,n)),r.push(o)}),(n==null?void 0:n.action)!=="highlight"&&r.push({type:"filter-action",cfg:{buttonConfig:n.button}})),b({},t,{options:{interactions:r}})}var Ce={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},nr=function(t,e){return t==="hover"?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};(0,D.w_)(Ce.hover,{start:nr(Ce.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),(0,D.w_)(Ce.click,{start:nr(Ce.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function rl(t){return t===void 0&&(t=!1),function(e){var n=e.chart,r=e.options,a=r.connectedArea,i=function(){n.removeInteraction(Ce.hover),n.removeInteraction(Ce.click)};if(!t&&a){var o=a.trigger||"hover";i(),n.interaction(Ce[o],{start:nr(o,a.style)})}else i();return e}}function oa(t,e){return!(0,h.hj)(t)||!(0,h.hj)(e)||t===0&&e===0?"-":t===e?"100%":t===0?"\u221E":"".concat((100*e/t).toFixed(2),"%")}function al(t,e){return b({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:t.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:t.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:oa}},t)}function Tn(t,e){return(0,h.UI)(e.getModel().points,function(n){return t.convertPoint(n)})}function il(t,e,n){var r=t.view,a=t.geometry,i=t.group,o=t.options,s=t.horizontal,l=o.offset,u=o.size,c=o.arrow,d=r.getCoordinate(),f=Tn(d,e)[3],v=Tn(d,n)[0],p=v.y-f.y,y=v.x-f.x;if(typeof c!="boolean"){var m=c.headSize,x=o.spacing,F;s?(y-m)/2<x?(x=Math.max(1,(y-m)/2),F=[[f.x+x,f.y-l],[f.x+x,f.y-l-u],[v.x-x,v.y-l-u/2]]):F=[[f.x+x,f.y-l],[f.x+x,f.y-l-u],[v.x-x-m,v.y-l-u],[v.x-x,v.y-l-u/2],[v.x-x-m,v.y-l]]:(p-m)/2<x?(x=Math.max(1,(p-m)/2),F=[[f.x+l,f.y+x],[f.x+l+u,f.y+x],[v.x+l+u/2,v.y-x]]):F=[[f.x+l,f.y+x],[f.x+l+u,f.y+x],[v.x+l+u,v.y-x-m],[v.x+l+u/2,v.y-x],[v.x+l,v.y-x-m]],i.addShape("polygon",{id:"".concat(r.id,"-conversion-tag-arrow-").concat(a.getElementId(e.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:e,nextElement:n},attrs:(0,g.pi)((0,g.pi)({},c.style||{}),{points:F})})}}function ol(t,e,n){var r,a,i,o=t.view,s=t.geometry,l=t.group,u=t.options,c=t.field,d=t.horizontal,f=u.offset,v=u.size;if(typeof u.text!="boolean"){var p=o.getCoordinate(),y=((r=u.text)===null||r===void 0?void 0:r.formatter)&&((a=u.text)===null||a===void 0?void 0:a.formatter(e.getData()[c],n.getData()[c])),m=Tn(p,e)[d?3:0],x=Tn(p,n)[d?0:3],F=l.addShape("text",{id:"".concat(o.id,"-conversion-tag-text-").concat(s.getElementId(e.getModel().mappingData)),name:"conversion-tag-text",origin:{element:e,nextElement:n},attrs:(0,g.pi)((0,g.pi)({},((i=u.text)===null||i===void 0?void 0:i.style)||{}),{text:y,x:d?(m.x+x.x)/2:m.x+f+v/2,y:d?m.y-f-v/2:(m.y+x.y)/2})});if(d){var w=x.x-m.x,S=F.getBBox().width;if(S>w){var _=S/y.length,O=Math.max(1,Math.ceil(w/_)-1),W="".concat(y.slice(0,O),"...");F.attr("text",W)}}}}function ll(t,e,n){il(t,e,n),ol(t,e,n)}function sl(t,e,n){return e===void 0&&(e=!0),n===void 0&&(n=!1),function(r){var a=r.options,i=r.chart,o=a.conversionTag,s=a.theme;return o&&!n&&(i.theme(b({},(0,h.Kn)(s)?s:(0,D.gh)(s),{columnWidthRatio:1/3})),i.annotation().shape({render:function(l,u){var c=l.addGroup({id:"".concat(i.id,"-conversion-tag-group"),name:"conversion-tag-group"}),d=(0,h.sE)(i.geometries,function(p){return p.type==="interval"}),f={view:u,geometry:d,group:c,field:t,horizontal:e,options:al(o,e)},v=d.elements;(0,h.S6)(v,function(p,y){y>0&&ll(f,v[y-1],p)})}})),r}}function ul(t){var e=t.options,n=e.legend,r=e.seriesField,a=e.isStack;return r?n!==!1&&(n=(0,g.pi)({position:a?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t}function cl(t){var e=t.chart,n=t.options,r=n.data,a=n.columnStyle,i=n.color,o=n.columnWidthRatio,s=n.isPercent,l=n.isGroup,u=n.isStack,c=n.xField,d=n.yField,f=n.seriesField,v=n.groupField,p=n.tooltip,y=n.shape,m=s&&l&&u?Go(r,d,[c,v],d):tn(r,d,c,d,s),x=[];u&&f&&!l?m.forEach(function(S){var _=x.find(function(O){return O[c]===S[c]&&O[f]===S[f]});_?_[d]+=S[d]||0:x.push((0,g.pi)({},S))}):x=m,e.data(x);var F=s?(0,g.pi)({formatter:function(S){var _;return{name:l&&u?"".concat(S[f]," - ").concat(S[v]):(_=S[f])!==null&&_!==void 0?_:S[c],value:(Number(S[d])*100).toFixed(2)+"%"}}},p):p,w=b({},t,{options:{data:x,widthRatio:o,tooltip:F,interval:{shape:y,style:a,color:i}}});return ee(w),w}function rr(t){var e,n,r=t.options,a=r.xAxis,i=r.yAxis,o=r.xField,s=r.yField,l=r.data,u=r.isPercent,c=u?{max:1,min:0,minLimit:0,maxLimit:1}:{};return N(qt((e={},e[o]=a,e[s]=i,e),(n={},n[o]={type:"cat"},n[s]=(0,g.pi)((0,g.pi)({},Pt(l,s)),c),n)))(t)}function fl(t){var e=t.chart,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField;return r===!1?e.axis(i,!1):e.axis(i,r),a===!1?e.axis(o,!1):e.axis(o,a),t}function dl(t){var e=t.chart,n=t.options,r=n.legend,a=n.seriesField;return r&&a?e.legend(a,r):r===!1&&e.legend(!1),t}function vl(t){var e=t.chart,n=t.options,r=n.label,a=n.yField,i=n.isRange,o=Et(e,"interval");if(!r)o.label(!1);else{var s=r.callback,l=(0,g._T)(r,["callback"]);o.label({fields:[a],callback:s,cfg:(0,g.pi)({layout:l!=null&&l.position?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},P(i?(0,g.pi)({content:function(u){var c;return(c=u[a])===null||c===void 0?void 0:c.join("-")}},l):l))})}return t}function hl(t){var e=t.chart,n=t.options,r=n.tooltip,a=n.isGroup,i=n.isStack,o=n.groupField,s=n.data,l=n.xField,u=n.yField,c=n.seriesField;if(r===!1)e.tooltip(!1);else{var d=r;if(a&&i){var f=d.customItems,v=(d==null?void 0:d.formatter)||function(p){return{name:"".concat(p[c]," - ").concat(p[o]),value:p[u]}};d=(0,g.pi)((0,g.pi)({},d),{customItems:function(p){var y=[];return(0,h.S6)(p,function(m){var x=(0,h.hX)(s,function(F){return(0,h.BD)(F,U(m.data,[l,c]))});x.forEach(function(F){y.push((0,g.pi)((0,g.pi)((0,g.pi)({},m),{value:F[u],data:F,mappingData:{_origin:F}}),v(F)))})}),f?f(y):y}})}e.tooltip(d)}return t}function En(t,e){e===void 0&&(e=!1);var n=t.options,r=n.seriesField;return N(ul,At,ue("columnStyle"),De,Xr("rect"),cl,rr,fl,dl,hl,Qe,tr,vl,ia,zt,It,Wt(),sl(n.yField,!e,!!r),rl(!n.isStack),Oe)(t)}function pl(t){var e=t.options,n=e.xField,r=e.yField,a=e.xAxis,i=e.yAxis,o={left:"bottom",right:"top",top:"left",bottom:"right"},s=i!==!1?(0,g.pi)({position:o[(i==null?void 0:i.position)||"left"]},i):!1,l=a!==!1?(0,g.pi)({position:o[(a==null?void 0:a.position)||"bottom"]},a):!1;return(0,g.pi)((0,g.pi)({},t),{options:(0,g.pi)((0,g.pi)({},e),{xField:r,yField:n,xAxis:s,yAxis:l})})}function gl(t){var e=t.options,n=e.label;return n&&!n.position&&(n.position="left",n.layout||(n.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),b({},t,{options:{label:n}})}function yl(t){var e=t.options,n=e.seriesField,r=e.isStack,a=e.legend;return n?a!==!1&&(a=(0,g.pi)({position:r?"top-left":"right-top"},a||{})):a=!1,b({},t,{options:{legend:a}})}function xl(t){var e=t.options,n=[{type:"transpose"},{type:"reflectY"}].concat(e.coordinate||[]);return b({},t,{options:{coordinate:n}})}function ml(t){var e=t.chart,n=t.options,r=n.barStyle,a=n.barWidthRatio,i=n.minBarWidth,o=n.maxBarWidth,s=n.barBackground;return En({chart:e,options:(0,g.pi)((0,g.pi)({},n),{columnStyle:r,columnWidthRatio:a,minColumnWidth:i,maxColumnWidth:o,columnBackground:s})},!0)}function la(t){return N(pl,gl,yl,Yt,xl,ml)(t)}var Fl=b({},lt.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),bl=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="bar",n}return e.getDefaultOptions=function(){return Fl},e.prototype.changeData=function(n){var r,a;this.updateOption({data:n});var i=this,o=i.chart,s=i.options,l=s.isPercent,u=s.xField,c=s.yField,d=s.xAxis,f=s.yAxis;r=[c,u],u=r[0],c=r[1],a=[f,d],d=a[0],f=a[1];var v=(0,g.pi)((0,g.pi)({},s),{xField:u,yField:c,yAxis:f,xAxis:d});rr({chart:o,options:v}),o.changeData(tn(n,u,c,u,l))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return la},e}(lt),Sl=b({},lt.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),sa=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="column",n}return e.getDefaultOptions=function(){return Sl},e.prototype.changeData=function(n){this.updateOption({data:n});var r=this.options,a=r.yField,i=r.xField,o=r.isPercent,s=this,l=s.chart,u=s.options;rr({chart:l,options:u}),this.chart.changeData(tn(n,a,i,a,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return En},e}(lt),ar,Me="$$percentage$$",Te="$$mappingValue$$",Se="$$conversion$$",ir="$$totalPercentage$$",en="$$x$$",nn="$$y$$",_l={appendPadding:[0,80],minSize:0,maxSize:1,meta:(ar={},ar[Te]={min:0,max:1,nice:!1},ar),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},ua="CONVERSION_TAG_NAME";function or(t,e,n){var r=[],a=n.yField,i=n.maxSize,o=n.minSize,s=(0,h.U2)((0,h.UT)(e,a),[a]),l=(0,h.hj)(i)?i:1,u=(0,h.hj)(o)?o:0;return r=(0,h.UI)(t,function(c,d){var f=(c[a]||0)/s;return c[Me]=f,c[Te]=(l-u)*f+u,c[Se]=[(0,h.U2)(t,[d-1,a]),c[a]],c}),r}function lr(t){return function(e){var n=e.chart,r=e.options,a=r.conversionTag,i=r.filteredData,o=i||n.getOptions().data;if(a){var s=a.formatter;o.forEach(function(l,u){if(!(u<=0||Number.isNaN(l[Te]))){var c=t(l,u,o,{top:!0,name:ua,text:{content:(0,h.mf)(s)?s(l,o):s,offsetX:a.offsetX,offsetY:a.offsetY,position:"end",autoRotate:!1,style:(0,g.pi)({textAlign:"start",textBaseline:"middle"},a.style)}});n.annotation().line(c)}})}return e}}function wl(t){var e=t.chart,n=t.options,r=n.data,a=r===void 0?[]:r,i=n.yField,o=n.maxSize,s=n.minSize,l=or(a,a,{yField:i,maxSize:o,minSize:s});return e.data(l),t}function Al(t){var e=t.chart,n=t.options,r=n.xField,a=n.yField,i=n.color,o=n.tooltip,s=n.label,l=n.shape,u=l===void 0?"funnel":l,c=n.funnelStyle,d=n.state,f=ve(o,[r,a]),v=f.fields,p=f.formatter;oe({chart:e,options:{type:"interval",xField:r,yField:Te,colorField:r,tooltipFields:(0,h.kJ)(v)&&v.concat([Me,Se]),mapping:{shape:u,tooltip:p,color:i,style:c},label:s,state:d}});var y=Et(t.chart,"interval");return y.adjust("symmetric"),t}function Dl(t){var e=t.chart,n=t.options,r=n.isTransposed;return e.coordinate({type:"rect",actions:r?[]:[["transpose"],["scale",1,-1]]}),t}function ca(t){var e=t.options,n=t.chart,r=e.maxSize,a=(0,h.U2)(n,["geometries","0","dataArray"],[]),i=(0,h.U2)(n,["options","data","length"]),o=(0,h.UI)(a,function(l){return(0,h.U2)(l,["0","nextPoints","0","x"])*i-.5}),s=function(l,u,c,d){var f=r-(r-l[Te])/2;return(0,g.pi)((0,g.pi)({},d),{start:[o[u-1]||u-.5,f],end:[o[u-1]||u-.5,f+.05]})};return lr(s)(t),t}function fa(t){return N(wl,Al,Dl,ca)(t)}function Ml(t){var e,n=t.chart,r=t.options,a=r.data,i=a===void 0?[]:a,o=r.yField;return n.data(i),n.scale((e={},e[o]={sync:!0},e)),t}function Tl(t){var e=t.chart,n=t.options,r=n.data,a=n.xField,i=n.yField,o=n.color,s=n.compareField,l=n.isTransposed,u=n.tooltip,c=n.maxSize,d=n.minSize,f=n.label,v=n.funnelStyle,p=n.state,y=n.showFacetTitle;return e.facet("mirror",{fields:[s],transpose:!l,padding:l?0:[32,0,0,0],showTitle:y,eachView:function(m,x){var F=l?x.rowIndex:x.columnIndex;l||m.coordinate({type:"rect",actions:[["transpose"],["scale",F===0?-1:1,-1]]});var w=or(x.data,r,{yField:i,maxSize:c,minSize:d});m.data(w);var S=ve(u,[a,i,s]),_=S.fields,O=S.formatter,W=l?{offset:F===0?10:-23,position:F===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:F===0?"end":"start"}};oe({chart:m,options:{type:"interval",xField:a,yField:Te,colorField:a,tooltipFields:(0,h.kJ)(_)&&_.concat([Me,Se]),mapping:{shape:"funnel",tooltip:O,color:o,style:v},label:f===!1?!1:b({},W,f),state:p}})}}),t}function da(t){var e=t.chart,n=t.index,r=t.options,a=r.conversionTag,i=r.isTransposed;((0,h.hj)(n)?[e]:e.views).forEach(function(o,s){var l=(0,h.U2)(o,["geometries","0","dataArray"],[]),u=(0,h.U2)(o,["options","data","length"]),c=(0,h.UI)(l,function(f){return(0,h.U2)(f,["0","nextPoints","0","x"])*u-.5}),d=function(f,v,p,y){var m=(n||s)===0?-1:1;return b({},y,{start:[c[v-1]||v-.5,f[Te]],end:[c[v-1]||v-.5,f[Te]+.05],text:i?{style:{textAlign:"start"}}:{offsetX:a!==!1?m*a.offsetX:0,style:{textAlign:(n||s)===0?"end":"start"}}})};lr(d)(b({},{chart:o,options:r}))})}function El(t){var e=t.chart;return e.once("beforepaint",function(){return da(t)}),t}function kl(t){return N(Ml,Tl,El)(t)}function Il(t){var e=t.chart,n=t.options,r=n.data,a=r===void 0?[]:r,i=n.yField,o=(0,h.u4)(a,function(u,c){return u+(c[i]||0)},0),s=(0,h.UT)(a,i)[i],l=(0,h.UI)(a,function(u,c){var d=[],f=[];if(u[ir]=(u[i]||0)/o,c){var v=a[c-1][en],p=a[c-1][nn];d[0]=v[3],f[0]=p[3],d[1]=v[2],f[1]=p[2]}else d[0]=-.5,f[0]=1,d[1]=.5,f[1]=1;return f[2]=f[1]-u[ir],d[2]=(f[2]+1)/4,f[3]=f[2],d[3]=-d[2],u[en]=d,u[nn]=f,u[Me]=(u[i]||0)/s,u[Se]=[(0,h.U2)(a,[c-1,i]),u[i]],u});return e.data(l),t}function Ol(t){var e=t.chart,n=t.options,r=n.xField,a=n.yField,i=n.color,o=n.tooltip,s=n.label,l=n.funnelStyle,u=n.state,c=ve(o,[r,a]),d=c.fields,f=c.formatter;return oe({chart:e,options:{type:"polygon",xField:en,yField:nn,colorField:r,tooltipFields:(0,h.kJ)(d)&&d.concat([Me,Se]),label:s,state:u,mapping:{tooltip:f,color:i,style:l}}}),t}function Pl(t){var e=t.chart,n=t.options,r=n.isTransposed;return e.coordinate({type:"rect",actions:r?[["transpose"],["reflect","x"]]:[]}),t}function Cl(t){var e=function(n,r,a,i){return(0,g.pi)((0,g.pi)({},i),{start:[n[en][1],n[nn][1]],end:[n[en][1]+.05,n[nn][1]]})};return lr(e)(t),t}function Rl(t){return N(Il,Ol,Pl,Cl)(t)}function Ll(t){var e,n=t.chart,r=t.options,a=r.data,i=a===void 0?[]:a,o=r.yField;return n.data(i),n.scale((e={},e[o]={sync:!0},e)),t}function zl(t){var e=t.chart,n=t.options,r=n.seriesField,a=n.isTransposed,i=n.showFacetTitle;return e.facet("rect",{fields:[r],padding:[a?0:32,10,0,10],showTitle:i,eachView:function(o,s){fa(b({},t,{chart:o,options:{data:s.data}}))}}),t}function Nl(t){return N(Ll,zl)(t)}var Ul=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rendering=!1,n}return e.prototype.change=function(n){var r=this;if(!this.rendering){var a=n.seriesField,i=n.compareField,o=i?da:ca,s=this.context.view,l=a||i?s.views:[s];(0,h.UI)(l,function(u,c){var d=u.getController("annotation"),f=(0,h.hX)((0,h.U2)(d,["option"],[]),function(p){var y=p.name;return y!==ua});d.clear(!0),(0,h.S6)(f,function(p){typeof p=="object"&&u.annotation()[p.type](p)});var v=(0,h.U2)(u,["filteredData"],u.getOptions().data);o({chart:u,index:c,options:(0,g.pi)((0,g.pi)({},n),{filteredData:or(v,v,n)})}),u.filterData(v),r.rendering=!0,u.render(!0)})}this.rendering=!1},e}(D.aU),va="funnel-conversion-tag",sr="funnel-afterrender",ha={trigger:"afterrender",action:"".concat(va,":change")};(0,D.zl)(va,Ul),(0,D.w_)(sr,{start:[ha]});function Vl(t){var e=t.options,n=e.compareField,r=e.xField,a=e.yField,i=e.locale,o=e.funnelStyle,s=e.data,l=_n(i),u={label:n?{fields:[r,a,n,Me,Se],formatter:function(d){return"".concat(d[a])}}:{fields:[r,a,Me,Se],offset:0,position:"middle",formatter:function(d){return"".concat(d[r]," ").concat(d[a])}},tooltip:{title:r,formatter:function(d){return{name:d[r],value:d[a]}}},conversionTag:{formatter:function(d){return"".concat(l.get(["conversionTag","label"]),": ").concat(oa.apply(void 0,d[Se]))}}},c;return(n||o)&&(c=function(d){return b({},n&&{lineWidth:1,stroke:"#fff"},(0,h.mf)(o)?o(d):o)}),b({options:u},t,{options:{funnelStyle:c,data:(0,h.d9)(s)}})}function Wl(t){var e=t.options,n=e.compareField,r=e.dynamicHeight,a=e.seriesField;return a?Nl(t):n?kl(t):r?Rl(t):fa(t)}function Bl(t){var e,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField;return N(qt((e={},e[i]=r,e[o]=a,e)))(t)}function Gl(t){var e=t.chart;return e.axis(!1),t}function Zl(t){var e=t.chart,n=t.options,r=n.legend;return r===!1?e.legend(!1):e.legend(r),t}function ql(t){var e=t.chart,n=t.options,r=n.interactions,a=n.dynamicHeight;return(0,h.S6)(r,function(i){i.enable===!1?e.removeInteraction(i.type):e.interaction(i.type,i.cfg||{})}),a?e.removeInteraction(sr):e.interaction(sr,{start:[(0,g.pi)((0,g.pi)({},ha),{arg:n})]}),t}function pa(t){return N(Vl,Wl,Bl,Gl,Yt,ql,Zl,It,At,Wt())(t)}var Hl=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="funnel",n}return e.getDefaultOptions=function(){return _l},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return pa},e.prototype.setState=function(n,r,a){a===void 0&&(a=!0);var i=A(this.chart);(0,h.S6)(i,function(o){r(o.getData())&&o.setState(n,a)})},e.prototype.getStates=function(){var n=A(this.chart),r=[];return(0,h.S6)(n,function(a){var i=a.getData(),o=a.getStates();(0,h.S6)(o,function(s){r.push({data:i,state:s,geometry:a.geometry,element:a})})}),r},e.CONVERSATION_FIELD=Se,e.PERCENT_FIELD=Me,e.TOTAL_PERCENT_FIELD=ir,e}(lt),kn,ur="range",ga="type",_e="percent",Xl="#f0f0f0",ya="indicator-view",xa="range-view",Yl={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(kn={},kn[ur]={sync:"v"},kn[_e]={sync:"v",tickCount:5,tickInterval:.2},kn),animation:!1};function $l(t,e){return t.map(function(n,r){var a;return a={},a[ur]=n-(t[r-1]||0),a[ga]="".concat(r),a[_e]=e,a})}function ma(t){var e;return[(e={},e[_e]=(0,h.uZ)(t,0,1),e)]}function Fa(t,e){var n=(0,h.U2)(e,["ticks"],[]),r=(0,h.dp)(n)?(0,h.jj)(n):[0,(0,h.uZ)(t,0,1),1];return r[0]||r.shift(),$l(r,t)}function jl(t){var e=t.chart,n=t.options,r=n.percent,a=n.range,i=n.radius,o=n.innerRadius,s=n.startAngle,l=n.endAngle,u=n.axis,c=n.indicator,d=n.gaugeStyle,f=n.type,v=n.meter,p=a.color,y=a.width;if(c){var m=ma(r),x=e.createView({id:ya});x.data(m),x.point().position("".concat(_e,"*1")).shape(c.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:c}),x.coordinate("polar",{startAngle:s,endAngle:l,radius:o*i}),x.axis(_e,u),x.scale(_e,U(u,nt))}var F=Fa(r,n.range),w=e.createView({id:xa});w.data(F);var S=(0,h.HD)(p)?[p,Xl]:p,_=ee({chart:w,options:{xField:"1",yField:ur,seriesField:ga,rawFields:[_e],isStack:!0,interval:{color:S,style:d,shape:f==="meter"?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:y,maxColumnWidth:y}}).ext,O=_.geometry;return O.customInfo({meter:v}),w.coordinate("polar",{innerRadius:o,radius:i,startAngle:s,endAngle:l}).transpose(),t}function Jl(t){var e;return N(qt((e={range:{min:0,max:1,maxLimit:1,minLimit:0}},e[_e]={},e)))(t)}function ba(t,e){var n=t.chart,r=t.options,a=r.statistic,i=r.percent;if(n.getController("annotation").clear(!0),a){var o=a.content,s=void 0;o&&(s=b({},{content:"".concat((i*100).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},o)),Mt(n,{statistic:(0,g.pi)((0,g.pi)({},a),{content:s})},{percent:i})}return e&&n.render(!0),t}function Kl(t){var e=t.chart,n=t.options,r=n.tooltip;return r?e.tooltip(b({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(a,i){var o=(0,h.U2)(i,[0,"data",_e],0);return"".concat((o*100).toFixed(2),"%")}},r)):e.tooltip(!1),t}function Ql(t){var e=t.chart;return e.legend(!1),t}function Sa(t){return N(At,It,jl,Jl,Kl,ba,zt,Wt(),Ql)(t)}(0,D.Fj)("point","gauge-indicator",{draw:function(t,e){var n=t.customInfo,r=n.indicator,a=n.defaultColor,i=r,o=i.pointer,s=i.pin,l=e.addGroup(),u=this.parsePoint({x:0,y:0});return o&&l.addShape("line",{name:"pointer",attrs:(0,g.pi)({x1:u.x,y1:u.y,x2:t.x,y2:t.y,stroke:a},o.style)}),s&&l.addShape("circle",{name:"pin",attrs:(0,g.pi)({x:u.x,y:u.y,stroke:a},s.style)}),l}}),(0,D.Fj)("interval","meter-gauge",{draw:function(t,e){var n=t.customInfo.meter,r=n===void 0?{}:n,a=r.steps,i=a===void 0?50:a,o=r.stepRatio,s=o===void 0?.5:o;i=i<1?1:i,s=(0,h.uZ)(s,0,1);var l=this.coordinate,u=l.startAngle,c=l.endAngle,d=0;if(s>0&&s<1){var f=c-u;d=f/i/(s/(1-s)+1-1/i)}for(var v=d/(1-s)*s,p=e.addGroup(),y=this.coordinate.getCenter(),m=this.coordinate.getRadius(),x=D.Zr.getAngle(t,this.coordinate),F=x.startAngle,w=x.endAngle,S=F;S<w;){var _=void 0,O=(S-u)%(v+d);O<v?_=S+(v-O):(S+=v+d-O,_=S+v);var W=D.Zr.getSectorPath(y.x,y.y,m,S,Math.min(_,w),m*this.coordinate.innerRadius);p.addShape("path",{name:"meter-gauge",attrs:{path:W,fill:t.color,stroke:t.color,lineWidth:.5}}),S=_+d}return p}});var ts=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="gauge",n}return e.getDefaultOptions=function(){return Yl},e.prototype.changeData=function(n){this.chart.emit(D.ld.BEFORE_CHANGE_DATA,D.ju.fromData(this.chart,D.ld.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:n});var r=this.chart.views.find(function(i){return i.id===ya});r&&r.data(ma(n));var a=this.chart.views.find(function(i){return i.id===xa});a&&a.data(Fa(n,this.options.range)),ba({chart:this.chart,options:this.options},!0),this.chart.emit(D.ld.AFTER_CHANGE_DATA,D.ju.fromData(this.chart,D.ld.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Sa},e}(lt);function _a(t,e,n){if(n===1)return[0,e];var r=Math.floor(t/e);return[e*r,e*(r+1)]}function es(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function wa(t,e,n,r,a){var i=(0,h.d9)(t);(0,h.MR)(i,e);var o=(0,h.I)(i,e),s=(0,h.rx)(o),l=s.max-s.min,u=n;if(!n&&r&&(u=r>1?l/(r-1):s.max),!n&&!r){var c=es(o);u=l/c}var d={},f=(0,h.vM)(i,a);(0,h.xb)(f)?(0,h.S6)(i,function(p){var y=p[e],m=_a(y,u,r),x="".concat(m[0],"-").concat(m[1]);(0,h.wH)(d,x)||(d[x]={range:m,count:0}),d[x].count+=1}):Object.keys(f).forEach(function(p){(0,h.S6)(f[p],function(y){var m=y[e],x=_a(m,u,r),F="".concat(x[0],"-").concat(x[1]),w="".concat(F,"-").concat(p);(0,h.wH)(d,w)||(d[w]={range:x,count:0},d[w][a]=p),d[w].count+=1})});var v=[];return(0,h.S6)(d,function(p){v.push(p)}),v}var In="range",rn="count",ns=b({},lt.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function rs(t){var e=t.chart,n=t.options,r=n.data,a=n.binField,i=n.binNumber,o=n.binWidth,s=n.color,l=n.stackField,u=n.legend,c=n.columnStyle,d=wa(r,a,o,i,l);e.data(d);var f=b({},t,{options:{xField:In,yField:rn,seriesField:l,isStack:!0,interval:{color:s,style:c}}});return ee(f),u&&l?e.legend(l,u):e.legend(!1),t}function as(t){var e,n=t.options,r=n.xAxis,a=n.yAxis;return N(qt((e={},e[In]=r,e[rn]=a,e)))(t)}function is(t){var e=t.chart,n=t.options,r=n.xAxis,a=n.yAxis;return r===!1?e.axis(In,!1):e.axis(In,r),a===!1?e.axis(rn,!1):e.axis(rn,a),t}function os(t){var e=t.chart,n=t.options,r=n.label,a=Et(e,"interval");if(!r)a.label(!1);else{var i=r.callback,o=(0,g._T)(r,["callback"]);a.label({fields:[rn],callback:i,cfg:P(o)})}return t}function Aa(t){return N(At,ue("columnStyle"),rs,as,is,De,os,Yt,zt,It)(t)}var ls=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="histogram",n}return e.getDefaultOptions=function(){return ns},e.prototype.changeData=function(n){this.updateOption({data:n});var r=this.options,a=r.binField,i=r.binNumber,o=r.binWidth,s=r.stackField;this.chart.changeData(wa(n,a,o,i,s))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Aa},e}(lt),ss=b({},lt.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),us=function(t){(0,g.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.active=function(){var n=this.getView(),r=this.context.event;if(r.data){var a=r.data.items,i=n.geometries.filter(function(o){return o.type==="point"});(0,h.S6)(i,function(o){(0,h.S6)(o.elements,function(s){var l=(0,h.cx)(a,function(u){return u.data===s.data})!==-1;s.setState("active",l)})})}},e.prototype.reset=function(){var n=this.getView(),r=n.geometries.filter(function(a){return a.type==="point"});(0,h.S6)(r,function(a){(0,h.S6)(a.elements,function(i){i.setState("active",!1)})})},e.prototype.getView=function(){return this.context.view},e}(D.Mx);(0,D.zl)("marker-active",us),(0,D.w_)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var Da=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="line",n}return e.getDefaultOptions=function(){return ss},e.prototype.changeData=function(n){this.updateOption({data:n});var r=this,a=r.chart,i=r.options;Mn({chart:a,options:i}),this.chart.changeData(n)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return na},e}(lt),Ma=b({},lt.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),cs=[1,0,0,0,1,0,0,0,1];function cr(t,e){var n=e?(0,g.ev)([],e,!0):(0,g.ev)([],cs,!0);return D.Zr.transform(n,t)}var fs=function(t){(0,g.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getActiveElements=function(){var n=D.Zr.getDelegationObject(this.context);if(n){var r=this.context.view,a=n.component,i=n.item,o=a.get("field");if(o){var s=r.geometries[0].elements;return s.filter(function(l){return l.getModel().data[o]===i.value})}}return[]},e.prototype.getActiveElementLabels=function(){var n=this.context.view,r=this.getActiveElements(),a=n.geometries[0].labelsContainer.getChildren();return a.filter(function(i){return r.find(function(o){return(0,h.Xy)(o.getData(),i.get("data"))})})},e.prototype.transfrom=function(n){n===void 0&&(n=7.5);var r=this.getActiveElements(),a=this.getActiveElementLabels();r.forEach(function(i,o){var s=a[o],l=i.geometry.coordinate;if(l.isPolar&&l.isTransposed){var u=D.Zr.getAngle(i.getModel(),l),c=u.startAngle,d=u.endAngle,f=(c+d)/2,v=n,p=v*Math.cos(f),y=v*Math.sin(f);i.shape.setMatrix(cr([["t",p,y]])),s.setMatrix(cr([["t",p,y]]))}})},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(D.aU);function ds(t){var e=t.event,n,r=e.target;return r&&(n=r.get("element")),n}var vs=function(t){(0,g.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getAnnotations=function(n){var r=n||this.context.view;return r.getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var n=this,r=this.context.view;r.removeInteraction("tooltip"),r.on("afterchangesize",function(){var a=n.getAnnotations(r);n.initialAnnotation=a})},e.prototype.change=function(n){var r=this.context,a=r.view,i=r.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var o=(0,h.U2)(i,["data","data"]);if(i.type.match("legend-item")){var s=D.Zr.getDelegationObject(this.context),l=a.getGroupedFields()[0];if(s&&l){var u=s.item;o=a.getData().find(function(v){return v[l]===u.value})}}if(o){var c=(0,h.U2)(n,"annotations",[]),d=(0,h.U2)(n,"statistic",{});a.getController("annotation").clear(!0),(0,h.S6)(c,function(v){typeof v=="object"&&a.annotation()[v.type](v)}),xt(a,{statistic:d,plotType:"pie"},o),a.render(!0)}var f=ds(this.context);f&&f.shape.toFront()},e.prototype.reset=function(){var n=this.context.view,r=n.getController("annotation");r.clear(!0);var a=this.getInitialAnnotation();(0,h.S6)(a,function(i){n.annotation()[i.type](i)}),n.render(!0)},e}(D.aU),Ta="pie-statistic";(0,D.zl)(Ta,vs),(0,D.w_)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),(0,D.zl)("pie-legend",fs),(0,D.w_)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});function hs(t,e){var n=null;return(0,h.S6)(t,function(r){typeof r[e]=="number"&&(n+=r[e])}),n}function ps(t,e){var n;switch(t){case"inner":return n="-30%",(0,h.HD)(e)&&e.endsWith("%")?parseFloat(e)*.01>0?n:e:e<0?e:n;case"outer":return n=12,(0,h.HD)(e)&&e.endsWith("%")?parseFloat(e)*.01<0?n:e:e>0?e:n;default:return e}}function On(t,e){return(0,h.yW)(Z(t,e),function(n){return n[e]===0})}function gs(t){var e=t.chart,n=t.options,r=n.data,a=n.angleField,i=n.colorField,o=n.color,s=n.pieStyle,l=n.shape,u=Z(r,a);if(On(u,a)){var c="$$percentage$$";u=u.map(function(f){var v;return(0,g.pi)((0,g.pi)({},f),(v={},v[c]=1/u.length,v))}),e.data(u);var d=b({},t,{options:{xField:"1",yField:c,seriesField:i,isStack:!0,interval:{color:o,shape:l,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}});ee(d)}else{e.data(u);var d=b({},t,{options:{xField:"1",yField:a,seriesField:i,isStack:!0,interval:{color:o,shape:l,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}});ee(d)}return t}function ys(t){var e,n=t.chart,r=t.options,a=r.meta,i=r.colorField,o=b({},a);return n.scale(o,(e={},e[i]={type:"cat"},e)),t}function xs(t){var e=t.chart,n=t.options,r=n.radius,a=n.innerRadius,i=n.startAngle,o=n.endAngle;return e.coordinate({type:"theta",cfg:{radius:r,innerRadius:a,startAngle:i,endAngle:o}}),t}function ms(t){var e=t.chart,n=t.options,r=n.label,a=n.colorField,i=n.angleField,o=e.geometries[0];if(!r)o.label(!1);else{var s=r.callback,l=(0,g._T)(r,["callback"]),u=P(l);if(u.content){var c=u.content;u.content=function(p,y,m){var x=p[a],F=p[i],w=e.getScaleByField(i),S=w==null?void 0:w.scale(F);return(0,h.mf)(c)?c((0,g.pi)((0,g.pi)({},p),{percent:S}),y,m):(0,h.HD)(c)?Vt(c,{value:F,name:x,percentage:(0,h.hj)(S)&&!(0,h.UM)(F)?"".concat((S*100).toFixed(2),"%"):null}):c}}var d={inner:"",outer:"pie-outer",spider:"pie-spider"},f=u.type?d[u.type]:"pie-outer",v=u.layout?(0,h.kJ)(u.layout)?u.layout:[u.layout]:[];u.layout=(f?[{type:f}]:[]).concat(v),o.label({fields:a?[i,a]:[i],callback:s,cfg:(0,g.pi)((0,g.pi)({},u),{offset:ps(u.type,u.offset),type:"pie"})})}return t}function Ea(t){var e=t.innerRadius,n=t.statistic,r=t.angleField,a=t.colorField,i=t.meta,o=t.locale,s=_n(o);if(e&&n){var l=b({},Ma.statistic,n),u=l.title,c=l.content;return u!==!1&&(u=b({},{formatter:function(d){var f=d?d[a]:(0,h.UM)(u.content)?s.get(["statistic","total"]):u.content,v=(0,h.U2)(i,[a,"formatter"])||function(p){return p};return v(f)}},u)),c!==!1&&(c=b({},{formatter:function(d,f){var v=d?d[r]:hs(f,r),p=(0,h.U2)(i,[r,"formatter"])||function(y){return y};return d||(0,h.UM)(c.content)?p(v):c.content}},c)),b({},{statistic:{title:u,content:c}},t)}return t}function ka(t){var e=t.chart,n=t.options,r=Ea(n),a=r.innerRadius,i=r.statistic;return e.getController("annotation").clear(!0),N(Wt())(t),a&&i&&xt(e,{statistic:i,plotType:"pie"}),t}function Fs(t){var e=t.chart,n=t.options,r=n.tooltip,a=n.colorField,i=n.angleField,o=n.data;if(r===!1)e.tooltip(r);else if(e.tooltip(b({},r,{shared:!1})),On(o,i)){var s=(0,h.U2)(r,"fields"),l=(0,h.U2)(r,"formatter");(0,h.xb)((0,h.U2)(r,"fields"))&&(s=[a,i],l=l||function(u){return{name:u[a],value:(0,h.BB)(u[i])}}),e.geometries[0].tooltip(s.join("*"),Ge(s,l))}return t}function bs(t){var e=t.chart,n=t.options,r=Ea(n),a=r.interactions,i=r.statistic,o=r.annotations;return(0,h.S6)(a,function(s){var l,u;if(s.enable===!1)e.removeInteraction(s.type);else if(s.type==="pie-statistic-active"){var c=[];!((l=s.cfg)===null||l===void 0)&&l.start||(c=[{trigger:"element:mouseenter",action:"".concat(Ta,":change"),arg:{statistic:i,annotations:o}}]),(0,h.S6)((u=s.cfg)===null||u===void 0?void 0:u.start,function(d){c.push((0,g.pi)((0,g.pi)({},d),{arg:{statistic:i,annotations:o}}))}),e.interaction(s.type,b({},s.cfg,{start:c}))}else e.interaction(s.type,s.cfg||{})}),t}function Ia(t){return N(ue("pieStyle"),gs,ys,At,xs,Ie,Fs,ms,De,ka,bs,It)(t)}var Oa=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="pie",n}return e.getDefaultOptions=function(){return Ma},e.prototype.changeData=function(n){this.chart.emit(D.ld.BEFORE_CHANGE_DATA,D.ju.fromData(this.chart,D.ld.BEFORE_CHANGE_DATA,null));var r=this.options,a=this.options.angleField,i=Z(r.data,a),o=Z(n,a);On(i,a)||On(o,a)?this.update({data:n}):(this.updateOption({data:n}),this.chart.data(o),ka({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(D.ld.AFTER_CHANGE_DATA,D.ju.fromData(this.chart,D.ld.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ia},e}(lt),Pa=["#FAAD14","#E8EDF3"],Ss={percent:.2,color:Pa,animation:{}};function fr(t){var e=(0,h.uZ)(R(t)?t:0,0,1);return[{current:"".concat(e),type:"current",percent:e},{current:"".concat(e),type:"target",percent:1}]}function Ca(t){var e=t.chart,n=t.options,r=n.percent,a=n.progressStyle,i=n.color,o=n.barWidthRatio;e.data(fr(r));var s=b({},t,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:o,interval:{style:a,color:(0,h.HD)(i)?[i,Pa[1]]:i},args:{zIndexReversed:!0,sortZIndex:!0}}});return ee(s),e.tooltip(!1),e.axis(!1),e.legend(!1),t}function _s(t){var e=t.chart;return e.coordinate("rect").transpose(),t}function Ra(t){return N(Ca,qt({}),_s,It,At,Wt())(t)}var ws=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="process",n}return e.getDefaultOptions=function(){return Ss},e.prototype.changeData=function(n){this.updateOption({percent:n}),this.chart.changeData(fr(n))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ra},e}(lt);function As(t){var e=t.chart,n=t.options,r=n.innerRadius,a=n.radius;return e.coordinate("theta",{innerRadius:r,radius:a}),t}function La(t,e){var n=t.chart,r=t.options,a=r.innerRadius,i=r.statistic,o=r.percent,s=r.meta;if(n.getController("annotation").clear(!0),a&&i){var l=(0,h.U2)(s,["percent","formatter"])||function(c){return"".concat((c*100).toFixed(2),"%")},u=i.content;u&&(u=b({},u,{content:(0,h.UM)(u.content)?l(o):u.content})),xt(n,{statistic:(0,g.pi)((0,g.pi)({},i),{content:u}),plotType:"ring-progress"},{percent:o})}return e&&n.render(!0),t}function za(t){return N(Ca,qt({}),As,La,It,At,Wt())(t)}var Ds={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},Ms=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="ring-process",n}return e.getDefaultOptions=function(){return Ds},e.prototype.changeData=function(n){this.chart.emit(D.ld.BEFORE_CHANGE_DATA,D.ju.fromData(this.chart,D.ld.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:n}),this.chart.data(fr(n)),La({chart:this.chart,options:this.options},!0),this.chart.emit(D.ld.AFTER_CHANGE_DATA,D.ju.fromData(this.chart,D.ld.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return za},e}(lt),Re=L(28744),Ts={exp:Re.regressionExp,linear:Re.regressionLinear,loess:Re.regressionLoess,log:Re.regressionLog,poly:Re.regressionPoly,pow:Re.regressionPow,quad:Re.regressionQuad};function Es(t,e){var n=10,r={regionStyle:[{position:{start:[t,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[t,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[t,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[t,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-n,offsetY:-n,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:-n,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:n,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-n,offsetY:n,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return r}var ks=function(t,e){var n=e.view,r=e.options,a=r.xField,i=r.yField,o=n.getScaleByField(a),s=n.getScaleByField(i),l=t.map(function(u){return n.getCoordinate().convert({x:o.scale(u[0]),y:s.scale(u[1])})});return pt(l,!1)},Is=function(t){var e=t.options,n=e.xField,r=e.yField,a=e.data,i=e.regressionLine,o=i.type,s=o===void 0?"linear":o,l=i.algorithm,u=i.equation,c,d=null;if(l)c=(0,h.kJ)(l)?l:l(a),d=u;else{var f=Ts[s]().x(function(v){return v[n]}).y(function(v){return v[r]});c=f(a),d=Ps(s,c)}return[ks(c,t),d]},Os=function(t){var e,n=t.meta,r=n===void 0?{}:n,a=t.xField,i=t.yField,o=t.data,s=o[0][a],l=o[0][i],u=s>0,c=l>0;function d(f,v){var p=(0,h.U2)(r,[f]);function y(x){return(0,h.U2)(p,x)}var m={};return v==="x"?((0,h.hj)(s)&&((0,h.hj)(y("min"))||(m.min=u?0:s*2),(0,h.hj)(y("max"))||(m.max=u?s*2:0)),m):((0,h.hj)(l)&&((0,h.hj)(y("min"))||(m.min=c?0:l*2),(0,h.hj)(y("max"))||(m.max=c?l*2:0)),m)}return(0,g.pi)((0,g.pi)({},r),(e={},e[a]=(0,g.pi)((0,g.pi)({},r[a]),d(a,"x")),e[i]=(0,g.pi)((0,g.pi)({},r[i]),d(i,"y")),e))};function Ps(t,e){var n,r,a,i=function(u,c){return c===void 0&&(c=4),Math.round(u*Math.pow(10,c))/Math.pow(10,c)},o=function(u){return Number.isFinite(u)?i(u):"?"};switch(t){case"linear":return"y = ".concat(o(e.a),"x + ").concat(o(e.b),", R^2 = ").concat(o(e.rSquared));case"exp":return"y = ".concat(o(e.a),"e^(").concat(o(e.b),"x), R^2 = ").concat(o(e.rSquared));case"log":return"y = ".concat(o(e.a),"ln(x) + ").concat(o(e.b),", R^2 = ").concat(o(e.rSquared));case"quad":return"y = ".concat(o(e.a),"x^2 + ").concat(o(e.b),"x + ").concat(o(e.c),", R^2 = ").concat(o(e.rSquared));case"poly":for(var s="y = ".concat(o((n=e.coefficients)===null||n===void 0?void 0:n[0])," + ").concat(o((r=e.coefficients)===null||r===void 0?void 0:r[1]),"x + ").concat(o((a=e.coefficients)===null||a===void 0?void 0:a[2]),"x^2"),l=3;l<e.coefficients.length;++l)s+=" + ".concat(o(e.coefficients[l]),"x^").concat(l);return"".concat(s,", R^2 = ").concat(o(e.rSquared));case"pow":return"y = ".concat(o(e.a),"x^").concat(o(e.b),", R^2 = ").concat(o(e.rSquared))}return null}function Na(t){var e=t.data,n=e===void 0?[]:e,r=t.xField,a=t.yField;if(n.length){for(var i=!0,o=!0,s=n[0],l=void 0,u=1;u<n.length&&(l=n[u],s[r]!==l[r]&&(i=!1),s[a]!==l[a]&&(o=!1),!(!i&&!o));u++)s=l;var c=[];i&&c.push(r),o&&c.push(a);var d=U(Os(t),c);return b({},t,{meta:d})}return t}function Cs(t){var e=t.chart,n=t.options,r=n.data,a=n.type,i=n.color,o=n.shape,s=n.pointStyle,l=n.shapeField,u=n.colorField,c=n.xField,d=n.yField,f=n.sizeField,v=n.size,p=n.tooltip;f&&(v||(v=[2,8]),(0,h.hj)(v)&&(v=[v,v])),p&&!p.fields&&(p=(0,g.pi)((0,g.pi)({},p),{fields:[c,d,u,f,l]})),e.data(r),ce(b({},t,{options:{seriesField:u,point:{color:i,shape:o,size:v,style:s},tooltip:p}}));var y=Et(e,"point");return a&&y.adjust(a),t}function Pn(t){var e,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField,s=Na(n);return N(qt((e={},e[i]=r,e[o]=a,e)))(b({},t,{options:s}))}function Rs(t){var e=t.chart,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField;return e.axis(i,r),e.axis(o,a),t}function Ls(t){var e=t.chart,n=t.options,r=n.legend,a=n.colorField,i=n.shapeField,o=n.sizeField,s=n.shapeLegend,l=n.sizeLegend,u=r!==!1;return a&&e.legend(a,u?r:!1),i&&(s?e.legend(i,s):e.legend(i,s===!1?!1:r)),o&&e.legend(o,l||!1),!u&&!s&&!l&&e.legend(!1),t}function zs(t){var e=t.chart,n=t.options,r=n.label,a=n.yField,i=Et(e,"point");if(!r)i.label(!1);else{var o=r.callback,s=(0,g._T)(r,["callback"]);i.label({fields:[a],callback:o,cfg:P(s)})}return t}function Ns(t){var e=t.options,n=e.quadrant,r=[];if(n){var a=n.xBaseline,i=a===void 0?0:a,o=n.yBaseline,s=o===void 0?0:o,l=n.labels,u=n.regionStyle,c=n.lineStyle,d=Es(i,s),f=new Array(4).join(",").split(",");f.forEach(function(v,p){r.push((0,g.pi)((0,g.pi)({type:"region",top:!1},d.regionStyle[p].position),{style:b({},d.regionStyle[p].style,u==null?void 0:u[p])}),(0,g.pi)({type:"text",top:!0},b({},d.labelStyle[p],l==null?void 0:l[p])))}),r.push({type:"line",top:!1,start:["min",s],end:["max",s],style:b({},d.lineStyle,c)},{type:"line",top:!1,start:[i,"min"],end:[i,"max"],style:b({},d.lineStyle,c)})}return N(Wt(r))(t)}function Us(t){var e=t.options,n=t.chart,r=e.regressionLine;if(r){var a=r.style,i=r.equationStyle,o=i===void 0?{}:i,s=r.top,l=s===void 0?!1:s,u=r.showEquation,c=u===void 0?!1:u,d={stroke:"#9ba29a",lineWidth:2,opacity:.5},f={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};n.annotation().shape({top:l,render:function(v,p){var y=v.addGroup({id:"".concat(n.id,"-regression-line"),name:"regression-line-group"}),m=Is({view:p,options:e}),x=m[0],F=m[1];y.addShape("path",{name:"regression-line",attrs:(0,g.pi)((0,g.pi)({path:x},d),a)}),c&&y.addShape("text",{name:"regression-equation",attrs:(0,g.pi)((0,g.pi)((0,g.pi)({},f),o),{text:F})})}})}return t}function Vs(t){var e=t.chart,n=t.options,r=n.tooltip;return r?e.tooltip(r):r===!1&&e.tooltip(!1),t}function Ua(t){return N(Cs,Pn,Rs,Ls,Vs,zs,ia,Qe,tr,zt,Ns,It,At,Us)(t)}var Ws=b({},lt.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});(0,D.w_)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var Bs=function(t){(0,g.ZT)(e,t);function e(n,r){var a=t.call(this,n,r)||this;return a.type="scatter",a.on(D.ld.BEFORE_RENDER,function(i){var o,s,l=a,u=l.options,c=l.chart;if(((o=i.data)===null||o===void 0?void 0:o.source)===D.xC.FILTER){var d=a.chart.filterData(a.chart.getData());Pn({chart:c,options:(0,g.pi)((0,g.pi)({},u),{data:d})})}((s=i.data)===null||s===void 0?void 0:s.source)===D.xC.RESET&&Pn({chart:c,options:u})}),a}return e.getDefaultOptions=function(){return Ws},e.prototype.changeData=function(n){this.updateOption(Na(b({},this.options,{data:n})));var r=this,a=r.options,i=r.chart;Pn({chart:i,options:a}),this.chart.changeData(n)},e.prototype.getSchemaAdaptor=function(){return Ua},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(lt),an="$$stock-range$$",Cn="trend",Va="up",Wa="down",Gs={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(t,e,n){var r;if(t==="x"){var a=n[0];r=a?a.title:e}else r=e;return{position:t==="y"?"start":"end",content:r,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},Zs=b({},lt.getDefaultOptions(),{tooltip:Gs,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function Ba(t,e){return(0,h.UI)(t,function(n){var r=n&&(0,g.pi)({},n);if((0,h.kJ)(e)&&r){var a=e[0],i=e[1],o=e[2],s=e[3];r[Cn]=r[a]<=r[i]?Va:Wa,r[an]=[r[a],r[i],r[o],r[s]]}return r})}function qs(t){var e=t.chart,n=t.options,r=n.yField,a=n.data,i=n.risingFill,o=n.fallingFill,s=n.tooltip,l=n.stockStyle;e.data(Ba(a,r));var u=s;return u!==!1&&(u=b({},{fields:r},u)),er(b({},t,{options:{schema:{shape:"candle",color:[i,o],style:l},yField:an,seriesField:Cn,rawFields:r,tooltip:u}})),t}function Hs(t){var e,n,r=t.chart,a=t.options,i=a.meta,o=a.xAxis,s=a.yAxis,l=a.xField,u=(e={},e[l]={type:"timeCat",tickCount:6},e[Cn]={values:[Va,Wa]},e),c=b(u,i,(n={},n[l]=U(o,nt),n[an]=U(s,nt),n));return r.scale(c),t}function Xs(t){var e=t.chart,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField;return r===!1?e.axis(i,!1):e.axis(i,r),a===!1?e.axis(an,!1):e.axis(an,a),t}function Ys(t){var e=t.chart,n=t.options,r=n.tooltip;return r!==!1?e.tooltip(r):e.tooltip(!1),t}function $s(t){var e=t.chart,n=t.options,r=n.legend;return r?e.legend(Cn,r):r===!1&&e.legend(!1),t}function Ga(t){N(At,qs,Hs,Xs,Ys,$s,zt,It,Wt(),Qe)(t)}var js=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="stock",n}return e.getDefaultOptions=function(){return Zs},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ga},e.prototype.changeData=function(n){this.updateOption({data:n});var r=this.options.yField;this.chart.changeData(Ba(n,r))},e}(lt);function Le(t){return(0,h.UI)(t||[],function(e,n){return{x:"".concat(n),y:e}})}var on="x",qe="y",Za={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return"".concat((0,h.U2)(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},Js={appendPadding:2,tooltip:(0,g.pi)({},Za),animation:{}};function Ks(t){var e=t.chart,n=t.options,r=n.data,a=n.color,i=n.areaStyle,o=n.point,s=n.line,l=o==null?void 0:o.state,u=Le(r);e.data(u);var c=b({},t,{options:{xField:on,yField:qe,area:{color:a,style:i},line:s,point:o}}),d=b({},c,{options:{tooltip:!1}}),f=b({},c,{options:{tooltip:!1,state:l}});return An(c),Ze(d),ce(f),e.axis(!1),e.legend(!1),t}function He(t){var e,n,r=t.options,a=r.xAxis,i=r.yAxis,o=r.data,s=Le(o);return N(qt((e={},e[on]=a,e[qe]=i,e),(n={},n[on]={type:"cat"},n[qe]=Pt(s,qe),n)))(t)}function qa(t){return N(ue("areaStyle"),Ks,He,Yt,At,It,Wt())(t)}var Qs={appendPadding:2,tooltip:(0,g.pi)({},Za),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},tu=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="tiny-area",n}return e.getDefaultOptions=function(){return Qs},e.prototype.changeData=function(n){this.updateOption({data:n});var r=this,a=r.chart,i=r.options;He({chart:a,options:i}),a.changeData(Le(n))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return qa},e}(lt);function eu(t){var e=t.chart,n=t.options,r=n.data,a=n.color,i=n.columnStyle,o=n.columnWidthRatio,s=Le(r);e.data(s);var l=b({},t,{options:{xField:on,yField:qe,widthRatio:o,interval:{style:i,color:a}}});return ee(l),e.axis(!1),e.legend(!1),e.interaction("element-active"),t}function Ha(t){return N(At,ue("columnStyle"),eu,He,Yt,It,Wt())(t)}var nu={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return"".concat((0,h.U2)(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},ru={appendPadding:2,tooltip:(0,g.pi)({},nu),animation:{}},au=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="tiny-column",n}return e.getDefaultOptions=function(){return ru},e.prototype.changeData=function(n){this.updateOption({data:n});var r=this,a=r.chart,i=r.options;He({chart:a,options:i}),a.changeData(Le(n))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ha},e}(lt);function iu(t){var e=t.chart,n=t.options,r=n.data,a=n.color,i=n.lineStyle,o=n.point,s=o==null?void 0:o.state,l=Le(r);e.data(l);var u=b({},t,{options:{xField:on,yField:qe,line:{color:a,style:i},point:o}}),c=b({},u,{options:{tooltip:!1,state:s}});return Ze(u),ce(c),e.axis(!1),e.legend(!1),t}function Xa(t){return N(iu,He,At,Yt,It,Wt())(t)}var ou=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="tiny-line",n}return e.getDefaultOptions=function(){return Js},e.prototype.changeData=function(n){this.updateOption({data:n});var r=this,a=r.chart,i=r.options;He({chart:a,options:i}),a.changeData(Le(n))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Xa},e}(lt),lu={line:na,pie:Ia,column:En,bar:la,area:ra,gauge:Sa,"tiny-line":Xa,"tiny-column":Ha,"tiny-area":qa,"ring-progress":za,progress:Ra,scatter:Ua,histogram:Aa,funnel:pa,stock:Ga},su={line:Da,pie:Oa,column:sa,bar:bl,area:Ko,gauge:ts,"tiny-line":ou,"tiny-column":au,"tiny-area":tu,"ring-progress":Ms,progress:ws,scatter:Bs,histogram:ls,funnel:Hl,stock:js},uu={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function dr(t,e,n){var r=su[t];if(!r){console.error("could not find ".concat(t," plot"));return}var a=lu[t];a({chart:e,options:b({},r.getDefaultOptions(),(0,h.U2)(uu,t,{}),n)})}function cu(t){var e=t.chart,n=t.options,r=n.views,a=n.legend;return(0,h.S6)(r,function(i){var o=i.region,s=i.data,l=i.meta,u=i.axes,c=i.coordinate,d=i.interactions,f=i.annotations,v=i.tooltip,p=i.geometries,y=e.createView({region:o});y.data(s);var m={};u&&(0,h.S6)(u,function(x,F){m[F]=U(x,nt)}),m=b({},l,m),y.scale(m),u?(0,h.S6)(u,function(x,F){y.axis(F,x)}):y.axis(!1),y.coordinate(c),(0,h.S6)(p,function(x){var F=oe({chart:y,options:x}).ext,w=x.adjust;w&&F.geometry.adjust(w)}),(0,h.S6)(d,function(x){x.enable===!1?y.removeInteraction(x.type):y.interaction(x.type,x.cfg)}),(0,h.S6)(f,function(x){y.annotation()[x.type]((0,g.pi)({},x))}),typeof i.animation=="boolean"?y.animate(!1):(y.animate(!0),(0,h.S6)(y.geometries,function(x){x.animate(i.animation)})),v&&(y.interaction("tooltip"),y.tooltip(v))}),a?(0,h.S6)(a,function(i,o){e.legend(o,i)}):e.legend(!1),e.tooltip(n.tooltip),t}function fu(t){var e=t.chart,n=t.options,r=n.plots,a=n.data,i=a===void 0?[]:a;return(0,h.S6)(r,function(o){var s=o.type,l=o.region,u=o.options,c=u===void 0?{}:u,d=o.top,f=c.tooltip;if(d){dr(s,e,(0,g.pi)((0,g.pi)({},c),{data:i}));return}var v=e.createView((0,g.pi)({region:l},U(c,Kr)));f&&v.interaction("tooltip"),dr(s,v,(0,g.pi)({data:i},c))}),t}function du(t){var e=t.chart,n=t.options;return e.option("slider",n.slider),t}function vu(t){return N(It,cu,fu,zt,It,At,Yt,du,Wt())(t)}function hu(t,e){var n=t.getModel(),r=n.data,a;return(0,h.kJ)(r)?a=r[0][e]:a=r[e],a}function pu(t){var e=Lt(t);(0,h.S6)(e,function(n){n.hasState("active")&&n.setState("active",!1),n.hasState("selected")&&n.setState("selected",!1),n.hasState("inactive")&&n.setState("inactive",!1)})}var gu=function(t){(0,g.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getAssociationItems=function(n,r){var a,i=this.context.event,o=r||{},s=o.linkField,l=o.dim,u=[];if(!((a=i.data)===null||a===void 0)&&a.data){var c=i.data.data;(0,h.S6)(n,function(d){var f,v,p=s;if(l==="x"?p=d.getXScale().field:l==="y"?p=(f=d.getYScales().find(function(m){return m.field===p}))===null||f===void 0?void 0:f.field:p||(p=(v=d.getGroupScales()[0])===null||v===void 0?void 0:v.field),!!p){var y=(0,h.UI)(Lt(d),function(m){var x=!1,F=!1,w=(0,h.kJ)(c)?(0,h.U2)(c[0],p):(0,h.U2)(c,p);return hu(m,p)===w?x=!0:F=!0,{element:m,view:d,active:x,inactive:F}});u.push.apply(u,y)}})}return u},e.prototype.showTooltip=function(n){var r=Kt(this.context.view),a=this.getAssociationItems(r,n);(0,h.S6)(a,function(i){if(i.active){var o=i.element.shape.getCanvasBBox();i.view.showTooltip({x:o.minX+o.width/2,y:o.minY+o.height/2})}})},e.prototype.hideTooltip=function(){var n=Kt(this.context.view);(0,h.S6)(n,function(r){r.hideTooltip()})},e.prototype.active=function(n){var r=Ht(this.context.view),a=this.getAssociationItems(r,n);(0,h.S6)(a,function(i){var o=i.active,s=i.element;o&&s.setState("active",!0)})},e.prototype.selected=function(n){var r=Ht(this.context.view),a=this.getAssociationItems(r,n);(0,h.S6)(a,function(i){var o=i.active,s=i.element;o&&s.setState("selected",!0)})},e.prototype.highlight=function(n){var r=Ht(this.context.view),a=this.getAssociationItems(r,n);(0,h.S6)(a,function(i){var o=i.inactive,s=i.element;o&&s.setState("inactive",!0)})},e.prototype.reset=function(){var n=Ht(this.context.view);(0,h.S6)(n,function(r){pu(r)})},e}(D.aU);(0,D.zl)("association",gu),(0,D.w_)("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),(0,D.w_)("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),(0,D.w_)("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),(0,D.w_)("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var yu=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="mix",n}return e.prototype.getSchemaAdaptor=function(){return vu},e}(lt),Xe;(function(t){t.DEV="DEV",t.BETA="BETA",t.STABLE="STABLE"})(Xe||(Xe={}));function xu(t,e){console.warn(t===Xe.DEV?"Plot '".concat(e,"' is in DEV stage, just give us issues."):t===Xe.BETA?"Plot '".concat(e,"' is in BETA stage, DO NOT use it in production env."):t===Xe.STABLE?"Plot '".concat(e,`' is in STABLE stage, import it by "import { `).concat(e,` } from '@antv/g2plot'".`):"invalid Stage type.")}var Qp=function(){function t(){}return Object.defineProperty(t,"MultiView",{get:function(){return xu(Xe.STABLE,"MultiView"),yu},enumerable:!1,configurable:!0}),t}(),ye="first-axes-view",xe="second-axes-view",ze="series-field-key";function Ya(t,e,n,r,a){var i=[];e.forEach(function(d){r.forEach(function(f){var v,p=(v={},v[t]=f[t],v[n]=d,v[d]=f[d],v);i.push(p)})});var o=Object.values((0,h.vM)(i,n)),s=o[0],l=s===void 0?[]:s,u=o[1],c=u===void 0?[]:u;return a?[l.reverse(),c.reverse()]:[l,c]}function we(t){return t!=="vertical"}function mu(t,e,n){var r=e[0],a=e[1],i=r.autoPadding,o=a.autoPadding,s=t.__axisPosition,l=s.layout,u=s.position;if(we(l)&&u==="top"&&(r.autoPadding=n.instance(i.top,0,i.bottom,i.left),a.autoPadding=n.instance(o.top,i.left,o.bottom,0)),we(l)&&u==="bottom"&&(r.autoPadding=n.instance(i.top,i.right/2+5,i.bottom,i.left),a.autoPadding=n.instance(o.top,o.right,o.bottom,i.right/2+5)),!we(l)&&u==="bottom"){var c=i.left>=o.left?i.left:o.left;r.autoPadding=n.instance(i.top,i.right,i.bottom/2+5,c),a.autoPadding=n.instance(i.bottom/2+5,o.right,o.bottom,c)}if(!we(l)&&u==="top"){var c=i.left>=o.left?i.left:o.left;r.autoPadding=n.instance(i.top,i.right,0,c),a.autoPadding=n.instance(0,o.right,i.top,c)}}function Fu(t){var e=t.chart,n=t.options,r=n.data,a=n.xField,i=n.yField,o=n.color,s=n.barStyle,l=n.widthRatio,u=n.legend,c=n.layout,d=Ya(a,i,ze,r,we(c));u?e.legend(ze,u):u===!1&&e.legend(!1);var f,v,p=d[0],y=d[1];we(c)?(f=e.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:ye}),f.coordinate().transpose().reflect("x"),v=e.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:xe}),v.coordinate().transpose(),f.data(p),v.data(y)):(f=e.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:ye}),v=e.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:xe}),v.coordinate().reflect("y"),f.data(p),v.data(y));var m=b({},t,{chart:f,options:{widthRatio:l,xField:a,yField:i[0],seriesField:ze,interval:{color:o,style:s}}});ee(m);var x=b({},t,{chart:v,options:{xField:a,yField:i[1],seriesField:ze,widthRatio:l,interval:{color:o,style:s}}});return ee(x),t}function bu(t){var e,n,r,a=t.options,i=t.chart,o=a.xAxis,s=a.yAxis,l=a.xField,u=a.yField,c=B(i,ye),d=B(i,xe),f={};return(0,h.XP)((a==null?void 0:a.meta)||{}).map(function(v){(0,h.U2)(a==null?void 0:a.meta,[v,"alias"])&&(f[v]=a.meta[v].alias)}),i.scale((e={},e[ze]={sync:!0,formatter:function(v){return(0,h.U2)(f,v,v)}},e)),qt((n={},n[l]=o,n[u[0]]=s[u[0]],n))(b({},t,{chart:c})),qt((r={},r[l]=o,r[u[1]]=s[u[1]],r))(b({},t,{chart:d})),t}function Su(t){var e=t.chart,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField,s=n.layout,l=B(e,ye),u=B(e,xe);return(r==null?void 0:r.position)==="bottom"?u.axis(i,(0,g.pi)((0,g.pi)({},r),{label:{formatter:function(){return""}}})):u.axis(i,!1),r===!1?l.axis(i,!1):l.axis(i,(0,g.pi)({position:we(s)?"top":"bottom"},r)),a===!1?(l.axis(o[0],!1),u.axis(o[1],!1)):(l.axis(o[0],a[o[0]]),u.axis(o[1],a[o[1]])),e.__axisPosition={position:l.getOptions().axes[i].position,layout:s},t}function _u(t){var e=t.chart;return zt(b({},t,{chart:B(e,ye)})),zt(b({},t,{chart:B(e,xe)})),t}function wu(t){var e=t.chart,n=t.options,r=n.yField,a=n.yAxis;return Oe(b({},t,{chart:B(e,ye),options:{yAxis:a[r[0]]}})),Oe(b({},t,{chart:B(e,xe),options:{yAxis:a[r[1]]}})),t}function Au(t){var e=t.chart;return At(b({},t,{chart:B(e,ye)})),At(b({},t,{chart:B(e,xe)})),At(t),t}function Du(t){var e=t.chart;return It(b({},t,{chart:B(e,ye)})),It(b({},t,{chart:B(e,xe)})),t}function Mu(t){var e=this,n,r,a=t.chart,i=t.options,o=i.label,s=i.yField,l=i.layout,u=B(a,ye),c=B(a,xe),d=Et(u,"interval"),f=Et(c,"interval");if(!o)d.label(!1),f.label(!1);else{var v=o.callback,p=(0,g._T)(o,["callback"]);p.position||(p.position="middle"),p.offset===void 0&&(p.offset=2);var y=(0,g.pi)({},p);if(we(l)){var m=((n=y.style)===null||n===void 0?void 0:n.textAlign)||(p.position==="middle"?"center":"left");p.style=b({},p.style,{textAlign:m});var x={left:"right",right:"left",center:"center"};y.style=b({},y.style,{textAlign:x[m]})}else{var F={top:"bottom",bottom:"top",middle:"middle"};typeof p.position=="string"?p.position=F[p.position]:typeof p.position=="function"&&(p.position=function(){for(var _=[],O=0;O<arguments.length;O++)_[O]=arguments[O];return F[p.position.apply(e,_)]});var w=((r=y.style)===null||r===void 0?void 0:r.textBaseline)||"bottom";y.style=b({},y.style,{textBaseline:w});var S={top:"bottom",bottom:"top",middle:"middle"};p.style=b({},p.style,{textBaseline:S[w]})}d.label({fields:[s[0]],callback:v,cfg:P(y)}),f.label({fields:[s[1]],callback:v,cfg:P(p)})}return t}function Tu(t){return N(Fu,bu,Su,wu,Au,Mu,Yt,_u,Du)(t)}var tg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="bidirectional-bar",n}return e.getDefaultOptions=function(){return b({},t.getDefaultOptions.call(this),{syncViewPadding:mu})},e.prototype.changeData=function(n){n===void 0&&(n=[]),this.chart.emit(D.ld.BEFORE_CHANGE_DATA,D.ju.fromData(this.chart,D.ld.BEFORE_CHANGE_DATA,null)),this.updateOption({data:n});var r=this.options,a=r.xField,i=r.yField,o=r.layout,s=Ya(a,i,ze,n,we(o)),l=s[0],u=s[1],c=B(this.chart,ye),d=B(this.chart,xe);c.data(l),d.data(u),this.chart.render(!0),this.chart.emit(D.ld.AFTER_CHANGE_DATA,D.ju.fromData(this.chart,D.ld.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Tu},e.SERIES_FIELD_KEY=ze,e}(lt),vr,Ye="$$range$$",Eu="low-q1-median-q3-high",ku="$$y_outliers$$",$a="outliers_view",Iu=b({},lt.getDefaultOptions(),{meta:(vr={},vr[Ye]={min:0,alias:Eu},vr),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),ja=function(t,e){var n=t;if(Array.isArray(e)){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4];n=(0,h.UI)(t,function(l){return l[Ye]=[l[r],l[a],l[i],l[o],l[s]],l})}return n};function Ou(t){var e=t.chart,n=t.options,r=n.xField,a=n.yField,i=n.groupField,o=n.color,s=n.tooltip,l=n.boxStyle;e.data(ja(n.data,a));var u=(0,h.kJ)(a)?Ye:a,c=a?(0,h.kJ)(a)?a:[a]:[],d=s;d!==!1&&(d=b({},{fields:(0,h.kJ)(a)?a:[]},d));var f=er(b({},t,{options:{xField:r,yField:u,seriesField:i,tooltip:d,rawFields:c,label:!1,schema:{shape:"box",color:o,style:l}}})).ext;return i&&f.geometry.adjust("dodge"),t}function Pu(t){var e=t.chart,n=t.options,r=n.xField,a=n.data,i=n.outliersField,o=n.outliersStyle,s=n.padding,l=n.label;if(!i)return t;var u=e.createView({padding:s,id:$a}),c=a.reduce(function(d,f){var v=f[i];return v.forEach(function(p){var y;return d.push((0,g.pi)((0,g.pi)({},f),(y={},y[i]=p,y)))}),d},[]);return u.data(c),ce({chart:u,options:{xField:r,yField:i,point:{shape:"circle",style:o},label:l}}),u.axis(!1),t}function Cu(t){var e,n,r=t.chart,a=t.options,i=a.meta,o=a.xAxis,s=a.yAxis,l=a.xField,u=a.yField,c=a.outliersField,d=Array.isArray(u)?Ye:u,f={};if(c){var v=ku;f=(e={},e[c]={sync:v,nice:!0},e[d]={sync:v,nice:!0},e)}var p=b(f,i,(n={},n[l]=U(o,nt),n[d]=U(s,nt),n));return r.scale(p),t}function Ru(t){var e=t.chart,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField,s=Array.isArray(o)?Ye:o;return r===!1?e.axis(i,!1):e.axis(i,r),a===!1?e.axis(Ye,!1):e.axis(s,a),t}function Lu(t){var e=t.chart,n=t.options,r=n.legend,a=n.groupField;return a?r?e.legend(a,r):e.legend(a,{position:"bottom"}):e.legend(!1),t}function zu(t){return N(Ou,Pu,Cu,Ru,Lu,Yt,Wt(),zt,It,At)(t)}var eg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="box",n}return e.getDefaultOptions=function(){return Iu},e.prototype.changeData=function(n){this.updateOption({data:n});var r=this.options.yField,a=this.chart.views.find(function(i){return i.id===$a});a&&a.data(n),this.chart.changeData(ja(n,r))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return zu},e}(lt);function Ja(t,e,n){return t.length>1?"".concat(e,"_").concat(n):"".concat(e)}function Ka(t){var e=t.data,n=t.xField,r=t.measureField,a=t.rangeField,i=t.targetField,o=t.layout,s=[],l=[];e.forEach(function(d,f){var v=[d[a]].flat();v.sort(function(m,x){return m-x}),v.forEach(function(m,x){var F,w=x===0?m:v[x]-v[x-1];s.push((F={rKey:"".concat(a,"_").concat(x)},F[n]=n?d[n]:String(f),F[a]=w,F))});var p=[d[r]].flat();p.forEach(function(m,x){var F;s.push((F={mKey:Ja(p,r,x)},F[n]=n?d[n]:String(f),F[r]=m,F))});var y=[d[i]].flat();y.forEach(function(m,x){var F;s.push((F={tKey:Ja(y,i,x)},F[n]=n?d[n]:String(f),F[i]=m,F))}),l.push(d[a],d[r],d[i])});var u=Math.min.apply(Math,l.flat(1/0)),c=Math.max.apply(Math,l.flat(1/0));return u=u>0?0:u,o==="vertical"&&s.reverse(),{min:u,max:c,ds:s}}function Nu(t){var e=t.chart,n=t.options,r=n.bulletStyle,a=n.targetField,i=n.rangeField,o=n.measureField,s=n.xField,l=n.color,u=n.layout,c=n.size,d=n.label,f=Ka(n),v=f.min,p=f.max,y=f.ds;e.data(y);var m=b({},t,{options:{xField:s,yField:i,seriesField:"rKey",isStack:!0,label:(0,h.U2)(d,"range"),interval:{color:(0,h.U2)(l,"range"),style:(0,h.U2)(r,"range"),size:(0,h.U2)(c,"range")}}});ee(m),e.geometries[0].tooltip(!1);var x=b({},t,{options:{xField:s,yField:o,seriesField:"mKey",isStack:!0,label:(0,h.U2)(d,"measure"),interval:{color:(0,h.U2)(l,"measure"),style:(0,h.U2)(r,"measure"),size:(0,h.U2)(c,"measure")}}});ee(x);var F=b({},t,{options:{xField:s,yField:a,seriesField:"tKey",label:(0,h.U2)(d,"target"),point:{color:(0,h.U2)(l,"target"),style:(0,h.U2)(r,"target"),size:(0,h.mf)((0,h.U2)(c,"target"))?function(w){return(0,h.U2)(c,"target")(w)/2}:(0,h.U2)(c,"target")/2,shape:u==="horizontal"?"line":"hyphen"}}});return ce(F),u==="horizontal"&&e.coordinate().transpose(),(0,g.pi)((0,g.pi)({},t),{ext:{data:{min:v,max:p}}})}function Qa(t){var e,n,r=t.options,a=t.ext,i=r.xAxis,o=r.yAxis,s=r.targetField,l=r.rangeField,u=r.measureField,c=r.xField,d=a.data;return N(qt((e={},e[c]=i,e[u]=o,e),(n={},n[u]={min:d==null?void 0:d.min,max:d==null?void 0:d.max,sync:!0},n[s]={sync:"".concat(u)},n[l]={sync:"".concat(u)},n)))(t)}function Uu(t){var e=t.chart,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.measureField,s=n.rangeField,l=n.targetField;return e.axis("".concat(s),!1),e.axis("".concat(l),!1),r===!1?e.axis("".concat(i),!1):e.axis("".concat(i),r),a===!1?e.axis("".concat(o),!1):e.axis("".concat(o),a),t}function Vu(t){var e=t.chart,n=t.options,r=n.legend;return e.removeInteraction("legend-filter"),e.legend(r),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),t}function Wu(t){var e=t.chart,n=t.options,r=n.label,a=n.measureField,i=n.targetField,o=n.rangeField,s=e.geometries,l=s[0],u=s[1],c=s[2];return(0,h.U2)(r,"range")?l.label("".concat(o),(0,g.pi)({layout:[{type:"limit-in-plot"}]},P(r.range))):l.label(!1),(0,h.U2)(r,"measure")?u.label("".concat(a),(0,g.pi)({layout:[{type:"limit-in-plot"}]},P(r.measure))):u.label(!1),(0,h.U2)(r,"target")?c.label("".concat(i),(0,g.pi)({layout:[{type:"limit-in-plot"}]},P(r.target))):c.label(!1),t}function Bu(t){N(Nu,Qa,Uu,Vu,At,Wu,Yt,zt,It)(t)}var Gu=b({},lt.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),ng=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="bullet",n}return e.getDefaultOptions=function(){return Gu},e.prototype.changeData=function(n){this.updateOption({data:n});var r=Ka(this.options),a=r.min,i=r.max,o=r.ds;Qa({options:this.options,ext:{data:{min:a,max:i}},chart:this.chart}),this.chart.changeData(o)},e.prototype.getSchemaAdaptor=function(){return Bu},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(lt),Zu={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};function qu(t,e,n){(0,h.U5)(t,function(r,a){r.inEdges=e.filter(function(i){return"".concat(n.target(i))==="".concat(a)}),r.outEdges=e.filter(function(i){return"".concat(n.source(i))==="".concat(a)}),r.edges=r.outEdges.concat(r.inEdges),r.frequency=r.edges.length,r.value=0,r.inEdges.forEach(function(i){r.value+=n.targetWeight(i)}),r.outEdges.forEach(function(i){r.value+=n.sourceWeight(i)})})}function Hu(t,e){var n={weight:function(a,i){return i.value-a.value},frequency:function(a,i){return i.frequency-a.frequency},id:function(a,i){return"".concat(e.id(a)).localeCompare("".concat(e.id(i)))}},r=n[e.sortBy];!r&&(0,h.mf)(e.sortBy)&&(r=e.sortBy),r&&t.sort(r)}function Xu(t,e){var n=t.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var r=e.nodePaddingRatio;if(r<0||r>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var a=r/(2*n),i=e.nodeWidthRatio;if(i<=0||i>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var o=0;t.forEach(function(l){o+=l.value}),t.forEach(function(l){l.weight=l.value/o,l.width=l.weight*(1-r),l.height=i}),t.forEach(function(l,u){for(var c=0,d=u-1;d>=0;d--)c+=t[d].width+2*a;var f=l.minX=a+c,v=l.maxX=l.minX+l.width,p=l.minY=e.y-i/2,y=l.maxY=p+i;l.x=[f,v,v,f],l.y=[p,p,y,y]})}else{var s=1/n;t.forEach(function(l,u){l.x=(u+.5)*s,l.y=e.y})}return t}function Yu(t,e,n){if(n.weight){var r={};(0,h.U5)(t,function(a,i){r[i]=a.value}),e.forEach(function(a){var i=n.source(a),o=n.target(a),s=t[i],l=t[o];if(s&&l){var u=r[i],c=n.sourceWeight(a),d=s.minX+(s.value-u)/s.value*s.width,f=d+c/s.value*s.width;r[i]-=c;var v=r[o],p=n.targetWeight(a),y=l.minX+(l.value-v)/l.value*l.width,m=y+p/l.value*l.width;r[o]-=p;var x=n.y;a.x=[d,f,y,m],a.y=[x,x,x,x],a.source=s,a.target=l}})}else e.forEach(function(a){var i=t[n.source(a)],o=t[n.target(a)];i&&o&&(a.x=[i.x,o.x],a.y=[i.y,o.y],a.source=i,a.target=o)});return e}function $u(t){return(0,h.f0)({},Zu,t)}function ju(t,e){var n=$u(t),r={},a=e.nodes,i=e.links;a.forEach(function(l){var u=n.id(l);r[u]=l}),qu(r,i,n),Hu(a,n);var o=Xu(a,n),s=Yu(r,i,n);return{nodes:o,links:s}}var ti="x",ei="y",ni="name",ri="source",Ju={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(t,e){var n=(t[0]+t[1])/2,r=n>.5?-4:4;return{offsetX:r,content:e}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(t){return!(0,h.U2)(t,[0,"data","isNode"])},formatter:function(t){var e=t.source,n=t.target,r=t.value;return{name:"".concat(e," -> ").concat(n),value:r}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function Ku(t){var e=t.options,n=e.data,r=e.sourceField,a=e.targetField,i=e.weightField,o=e.nodePaddingRatio,s=e.nodeWidthRatio,l=e.rawFields,u=l===void 0?[]:l,c=J(n,r,a,i),d=ju({weight:!0,nodePaddingRatio:o,nodeWidthRatio:s},c),f=d.nodes,v=d.links,p=f.map(function(m){return(0,g.pi)((0,g.pi)({},U(m,(0,g.ev)(["id","x","y","name"],u,!0))),{isNode:!0})}),y=v.map(function(m){return(0,g.pi)((0,g.pi)({source:m.source.name,target:m.target.name,name:m.source.name||m.target.name},U(m,(0,g.ev)(["x","y","value"],u,!0))),{isNode:!1})});return(0,g.pi)((0,g.pi)({},t),{ext:(0,g.pi)((0,g.pi)({},t.ext),{chordData:{nodesData:p,edgesData:y}})})}function Qu(t){var e,n=t.chart;return n.scale((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},e[ni]={sync:"color"},e[ri]={sync:"color"},e)),t}function tc(t){var e=t.chart;return e.axis(!1),t}function ec(t){var e=t.chart;return e.legend(!1),t}function nc(t){var e=t.chart,n=t.options,r=n.tooltip;return e.tooltip(r),t}function rc(t){var e=t.chart;return e.coordinate("polar").reflect("y"),t}function ac(t){var e=t.chart,n=t.options,r=t.ext.chordData.nodesData,a=n.nodeStyle,i=n.label,o=n.tooltip,s=e.createView();return s.data(r),Dn({chart:s,options:{xField:ti,yField:ei,seriesField:ni,polygon:{style:a},label:i,tooltip:o}}),t}function ic(t){var e=t.chart,n=t.options,r=t.ext.chordData.edgesData,a=n.edgeStyle,i=n.tooltip,o=e.createView();o.data(r);var s={xField:ti,yField:ei,seriesField:ri,edge:{style:a,shape:"arc"},tooltip:i};return jr({chart:o,options:s}),t}function oc(t){var e=t.chart,n=t.options,r=n.animation;return Qt(e,r,E(e)),t}function lc(t){return N(At,Ku,rc,Qu,tc,ec,nc,ic,ac,zt,De,oc)(t)}var rg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="chord",n}return e.getDefaultOptions=function(){return Ju},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return lc},e}(lt),sc=["x","y","r","name","value","path","depth"],uc={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},ai=4,cc=0,ii=5,oi="drilldown-bread-crumb",fc={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},ln="hierarchy-data-transform-params",dc=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.name="drill-down",n.historyCache=[],n.breadCrumbGroup=null,n.breadCrumbCfg=fc,n}return e.prototype.click=function(){var n=(0,h.U2)(this.context,["event","data","data"]);if(!n)return!1;this.drill(n),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(this.breadCrumbGroup){var n=this.context.view.getCoordinate(),r=this.breadCrumbGroup,a=r.getBBox(),i=this.getButtonCfg().position,o={x:n.start.x,y:n.end.y-(a.height+ii*2)};n.isPolar&&(o={x:0,y:0}),i==="bottom-left"&&(o={x:n.start.x,y:n.start.y});var s=D.Zr.transform(null,[["t",o.x+cc,o.y+a.height+ii]]);r.setMatrix(s)}},e.prototype.back=function(){(0,h.dp)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(n){var r=this.context.view,a=(0,h.U2)(r,["interactions","drill-down","cfg","transformData"],function(u){return u}),i=a((0,g.pi)({data:n.data},n[ln]));r.changeData(i);for(var o=[],s=n;s;){var l=s.data;o.unshift({id:"".concat(l.name,"_").concat(s.height,"_").concat(s.depth),name:l.name,children:a((0,g.pi)({data:l},n[ln]))}),s=s.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(o)},e.prototype.backTo=function(n){if(!(!n||n.length<=0)){var r=this.context.view,a=(0,h.Z$)(n).children;r.changeData(a),n.length>1?(this.historyCache=n,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var n=this.context.view,r=(0,h.U2)(n,["interactions","drill-down","cfg","drillDownConfig"]);return b(this.breadCrumbCfg,r==null?void 0:r.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var n=this,r=this.getButtonCfg(),a=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:oi});var i=0;a.forEach(function(o,s){var l=n.breadCrumbGroup.addShape({type:"text",id:o.id,name:"".concat(oi,"_").concat(o.name,"_text"),attrs:(0,g.pi)((0,g.pi)({text:s===0&&!(0,h.UM)(r.rootText)?r.rootText:o.name},r.textStyle),{x:i,y:0})}),u=l.getBBox();if(i+=u.width+ai,l.on("click",function(f){var v,p=f.target.get("id");if(p!==((v=(0,h.Z$)(a))===null||v===void 0?void 0:v.id)){var y=a.slice(0,a.findIndex(function(m){return m.id===p})+1);n.backTo(y)}}),l.on("mouseenter",function(f){var v,p=f.target.get("id");p!==((v=(0,h.Z$)(a))===null||v===void 0?void 0:v.id)?l.attr(r.activeTextStyle):l.attr({cursor:"default"})}),l.on("mouseleave",function(){l.attr(r.textStyle)}),s<a.length-1){var c=n.breadCrumbGroup.addShape({type:"text",name:"".concat(r.name,"_").concat(o.name,"_divider"),attrs:(0,g.pi)((0,g.pi)({text:r.dividerText},r.textStyle),{x:i,y:0})}),d=c.getBBox();i+=d.width+ai}})},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),t.prototype.destroy.call(this)},e}(D.aU),vc=L(58335),hc=L.n(vc);function pc(t){return hc()(t)==="object"&&"length"in t?t:Array.from(t)}function gc(t){for(var e=t.length,n,r;e;)r=Math.random()*e--|0,n=t[e],t[e]=t[r],t[r]=n;return t}function li(t){for(var e=0,n=(t=gc(Array.from(t))).length,r=[],a,i;e<n;)a=t[e],i&&si(i,a)?++e:(i=xc(r=yc(r,a)),e=0);return i}function yc(t,e){var n,r;if(hr(e,t))return[e];for(n=0;n<t.length;++n)if(Rn(e,t[n])&&hr(sn(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Rn(sn(t[n],t[r]),e)&&Rn(sn(t[n],e),t[r])&&Rn(sn(t[r],e),t[n])&&hr(ui(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Rn(t,e){var n=t.r-e.r,r=e.x-t.x,a=e.y-t.y;return n<0||n*n<r*r+a*a}function si(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,a=e.y-t.y;return n>0&&n*n>r*r+a*a}function hr(t,e){for(var n=0;n<e.length;++n)if(!si(t,e[n]))return!1;return!0}function xc(t){switch(t.length){case 1:return mc(t[0]);case 2:return sn(t[0],t[1]);case 3:return ui(t[0],t[1],t[2])}}function mc(t){return{x:t.x,y:t.y,r:t.r}}function sn(t,e){var n=t.x,r=t.y,a=t.r,i=e.x,o=e.y,s=e.r,l=i-n,u=o-r,c=s-a,d=Math.sqrt(l*l+u*u);return{x:(n+i+l/d*c)/2,y:(r+o+u/d*c)/2,r:(d+a+s)/2}}function ui(t,e,n){var r=t.x,a=t.y,i=t.r,o=e.x,s=e.y,l=e.r,u=n.x,c=n.y,d=n.r,f=r-o,v=r-u,p=a-s,y=a-c,m=l-i,x=d-i,F=r*r+a*a-i*i,w=F-o*o-s*s+l*l,S=F-u*u-c*c+d*d,_=v*p-f*y,O=(p*S-y*w)/(_*2)-r,W=(y*m-p*x)/_,X=(v*w-f*S)/(_*2)-a,ft=(f*x-v*m)/_,et=W*W+ft*ft-1,Y=2*(i+O*W+X*ft),_t=O*O+X*X-i*i,Nt=-(et?(Y+Math.sqrt(Y*Y-4*et*_t))/(2*et):_t/Y);return{x:r+O+W*Nt,y:a+X+ft*Nt,r:Nt}}function ci(t,e,n){var r=t.x-e.x,a,i,o=t.y-e.y,s,l,u=r*r+o*o;u?(i=e.r+n.r,i*=i,l=t.r+n.r,l*=l,i>l?(a=(u+l-i)/(2*u),s=Math.sqrt(Math.max(0,l/u-a*a)),n.x=t.x-a*r-s*o,n.y=t.y-a*o+s*r):(a=(u+i-l)/(2*u),s=Math.sqrt(Math.max(0,i/u-a*a)),n.x=e.x+a*r-s*o,n.y=e.y+a*o+s*r)):(n.x=e.x+n.r,n.y=e.y)}function fi(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,a=e.y-t.y;return n>0&&n*n>r*r+a*a}function di(t){var e=t._,n=t.next._,r=e.r+n.r,a=(e.x*n.r+n.x*e.r)/r,i=(e.y*n.r+n.y*e.r)/r;return a*a+i*i}function Ln(t){this._=t,this.next=null,this.previous=null}function vi(t){if(!(a=(t=pc(t)).length))return 0;var e,n,r,a,i,o,s,l,u,c,d;if(e=t[0],e.x=0,e.y=0,!(a>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(a>2))return e.r+n.r;ci(n,e,r=t[2]),e=new Ln(e),n=new Ln(n),r=new Ln(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<a;++s){ci(e._,n._,r=t[s]),r=new Ln(r),l=n.next,u=e.previous,c=n._.r,d=e._.r;do if(c<=d){if(fi(l._,r._)){n=l,e.next=n,n.previous=e,--s;continue t}c+=l._.r,l=l.next}else{if(fi(u._,r._)){e=u,e.next=n,n.previous=e,--s;continue t}d+=u._.r,u=u.previous}while(l!==u.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,i=di(e);(r=r.next)!==n;)(o=di(r))<i&&(e=r,i=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=li(e),s=0;s<a;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}function Fc(t){return vi(t),t}function bc(t){return t==null?null:zn(t)}function zn(t){if(typeof t!="function")throw new Error;return t}function Ne(){return 0}function $e(t){return function(){return t}}function Sc(t){return Math.sqrt(t.value)}function hi(){var t=null,e=1,n=1,r=Ne;function a(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(pi(t)).eachAfter(pr(r,.5)).eachBefore(gi(1)):i.eachBefore(pi(Sc)).eachAfter(pr(Ne,1)).eachAfter(pr(r,i.r/Math.min(e,n))).eachBefore(gi(Math.min(e,n)/(2*i.r))),i}return a.radius=function(i){return arguments.length?(t=bc(i),a):t},a.size=function(i){return arguments.length?(e=+i[0],n=+i[1],a):[e,n]},a.padding=function(i){return arguments.length?(r=typeof i=="function"?i:$e(+i),a):r},a}function pi(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function pr(t,e){return function(n){if(r=n.children){var r,a,i=r.length,o=t(n)*e||0,s;if(o)for(a=0;a<i;++a)r[a].r+=o;if(s=vi(r),o)for(a=0;a<i;++a)r[a].r-=o;n.r=s+o}}}function gi(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var _c=L(12134),wc=L.n(_c);function Ac(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function Dc(){return this.eachAfter(Ac)}var Mc=L(57913),yi=L.n(Mc);function Tc(t,e){var n=-1,r=yi()(this),a;try{for(r.s();!(a=r.n()).done;){var i=a.value;t.call(e,i,++n,this)}}catch(o){r.e(o)}finally{r.f()}return this}function Ec(t,e){for(var n=this,r=[n],a,i,o=-1;n=r.pop();)if(t.call(e,n,++o,this),a=n.children)for(i=a.length-1;i>=0;--i)r.push(a[i]);return this}function kc(t,e){for(var n=this,r=[n],a=[],i,o,s,l=-1;n=r.pop();)if(a.push(n),i=n.children)for(o=0,s=i.length;o<s;++o)r.push(i[o]);for(;n=a.pop();)t.call(e,n,++l,this);return this}function Ic(t,e){var n=-1,r=yi()(this),a;try{for(r.s();!(a=r.n()).done;){var i=a.value;if(t.call(e,i,++n,this))return i}}catch(o){r.e(o)}finally{r.f()}}function Oc(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,a=r&&r.length;--a>=0;)n+=r[a].value;e.value=n})}function Pc(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Cc(t){for(var e=this,n=Rc(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var a=r.length;t!==n;)r.splice(a,0,t),t=t.parent;return r}function Rc(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),a=null;for(t=n.pop(),e=r.pop();t===e;)a=t,t=n.pop(),e=r.pop();return a}function Lc(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function zc(){return Array.from(this)}function Nc(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Uc(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}var Vc=L(51490),xi=L.n(Vc),Wc=xi()().mark(mi);function mi(){var t,e,n,r,a,i;return xi()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=this,n=[t];case 1:e=n.reverse(),n=[];case 2:if(!(t=e.pop())){s.next=8;break}return s.next=5,t;case 5:if(r=t.children)for(a=0,i=r.length;a<i;++a)n.push(r[a]);s.next=2;break;case 8:if(n.length){s.next=1;break}case 9:case"end":return s.stop()}},Wc,this)}function je(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Zc)):e===void 0&&(e=Gc);for(var n=new Je(t),r,a=[n],i,o,s,l;r=a.pop();)if((o=e(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)a.push(i=o[s]=new Je(o[s])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(Fi)}function Bc(){return je(this).eachBefore(qc)}function Gc(t){return t.children}function Zc(t){return Array.isArray(t)?t[1]:null}function qc(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Fi(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Je(t){this.data=t,this.depth=this.height=0,this.parent=null}Je.prototype=je.prototype=wc()({constructor:Je,count:Dc,each:Tc,eachAfter:kc,eachBefore:Ec,find:Ic,sum:Oc,sort:Pc,path:Cc,ancestors:Lc,descendants:zc,leaves:Nc,links:Uc,copy:Bc},Symbol.iterator,mi);var bi="nodeIndex",Si="childNodeCount",gr="nodeAncestor",yr="Invalid field: it must be a string!";function xr(t,e){var n=t.field,r=t.fields;if((0,h.HD)(n))return n;if((0,h.kJ)(n))return console.warn(yr),n[0];if(console.warn("".concat(yr," will try to get fields instead.")),(0,h.HD)(r))return r;if((0,h.kJ)(r)&&r.length)return r[0];if(e)return e;throw new TypeError(yr)}function mr(t){var e=[];if(t&&t.each){var n,r;t.each(function(a){var i,o;a.parent!==n?(n=a.parent,r=0):r+=1;var s=(0,h.hX)((((i=a.ancestors)===null||i===void 0?void 0:i.call(a))||[]).map(function(l){return e.find(function(u){return u.name===l.name})||l}),function(l){var u=l.depth;return u>0&&u<a.depth});a[gr]=s,a[Si]=((o=a.children)===null||o===void 0?void 0:o.length)||0,a[bi]=r,e.push(a)})}else t&&t.eachNode&&t.eachNode(function(a){e.push(a)});return e}var Hc={field:"value",as:["x","y","r"],sort:function(t,e){return e.value-t.value}};function Xc(t,e){e=(0,h.f0)({},Hc,e);var n=e.as;if(!(0,h.kJ)(n)||n.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var r;try{r=xr(e)}catch(u){console.warn(u)}var a=function(u){return hi().size(e.size).padding(e.padding)(je(u).sum(function(c){return c[r]}).sort(e.sort))},i=a(t),o=n[0],s=n[1],l=n[2];return i.each(function(u){u[o]=u.x,u[s]=u.y,u[l]=u.r}),mr(i)}function _i(t){var e=t.data,n=t.hierarchyConfig,r=t.rawFields,a=r===void 0?[]:r,i=t.enableDrillDown,o=Xc(e,(0,g.pi)((0,g.pi)({},n),{field:"value",as:["x","y","r"]})),s=[];return o.forEach(function(l){for(var u,c=l.data.name,d=(0,g.pi)({},l);d.depth>1;)c="".concat((u=d.parent.data)===null||u===void 0?void 0:u.name," / ").concat(c),d=d.parent;if(i&&l.depth>2)return null;var f=b({},l.data,(0,g.pi)((0,g.pi)((0,g.pi)({},U(l.data,a)),{path:c}),l));f.ext=n,f[ln]={hierarchyConfig:n,rawFields:a,enableDrillDown:i},s.push(f)}),s}function wi(t,e,n){var r=ut([t,e]),a=r[0],i=r[1],o=r[2],s=r[3],l=n.width,u=n.height,c=l-(s+i),d=u-(a+o),f=Math.min(c,d),v=(c-f)/2,p=(d-f)/2,y=a+p,m=i+v,x=o+p,F=s+v,w=[y,m,x,F],S=f<0?0:f;return{finalPadding:w,finalSize:S}}function Yc(t){var e=t.chart,n=Math.min(e.viewBBox.width,e.viewBBox.height);return b({options:{size:function(r){var a=r.r;return a*n}}},t)}function $c(t){var e=t.options,n=t.chart,r=n.viewBBox,a=e.padding,i=e.appendPadding,o=e.drilldown,s=i;if(o!=null&&o.enabled){var l=at(n.appendPadding,(0,h.U2)(o,["breadCrumb","position"]));s=ut([l,i])}var u=wi(a,s,r).finalPadding;return n.padding=u,n.appendPadding=0,t}function jc(t){var e=t.chart,n=t.options,r=e.padding,a=e.appendPadding,i=n.color,o=n.colorField,s=n.pointStyle,l=n.hierarchyConfig,u=n.sizeField,c=n.rawFields,d=c===void 0?[]:c,f=n.drilldown,v=_i({data:n.data,hierarchyConfig:l,enableDrillDown:f==null?void 0:f.enabled,rawFields:d});e.data(v);var p=e.viewBBox,y=wi(r,a,p).finalSize,m=function(x){var F=x.r;return F*y};return u&&(m=function(x){return x[u]*y}),ce(b({},t,{options:{xField:"x",yField:"y",seriesField:o,sizeField:u,rawFields:(0,g.ev)((0,g.ev)([],sc,!0),d,!0),point:{color:i,style:s,shape:"circle",size:m}}})),t}function Jc(t){return N(qt({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(t)}function Kc(t){var e=t.chart,n=t.options,r=n.tooltip;if(r===!1)e.tooltip(!1);else{var a=r;(0,h.U2)(r,"fields")||(a=b({},{customItems:function(i){return i.map(function(o){var s=(0,h.U2)(e.getOptions(),"scales"),l=(0,h.U2)(s,["name","formatter"],function(c){return c}),u=(0,h.U2)(s,["value","formatter"],function(c){return c});return(0,g.pi)((0,g.pi)({},o),{name:l(o.data.name),value:u(o.data.value)})})}},a)),e.tooltip(a)}return t}function Qc(t){var e=t.chart;return e.axis(!1),t}function tf(t){var e=t.drilldown,n=t.interactions,r=n===void 0?[]:n;return e!=null&&e.enabled?b({},t,{interactions:(0,g.ev)((0,g.ev)([],r,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:_i,enableDrillDown:!0}}],!1)}):t}function ef(t){var e=t.chart,n=t.options;return zt({chart:e,options:tf(n)}),t}function nf(t){return N(ue("pointStyle"),Yc,$c,At,Jc,jc,Qc,Ie,Kc,ef,It,Wt())(t)}function Ai(t){var e=(0,h.U2)(t,["event","data","data"],{});return(0,h.kJ)(e.children)&&e.children.length>0}function Di(t){var e=t.view.getCoordinate(),n=e.innerRadius;if(n){var r=t.event,a=r.x,i=r.y,o=e.center,s=o.x,l=o.y,u=e.getRadius()*n,c=Math.sqrt(Math.pow(s-a,2)+Math.pow(l-i,2));return c<u}return!1}(0,D.zl)("drill-down-action",dc),(0,D.w_)("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:Ai},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:Di}],start:[{trigger:"element:click",isEnable:Ai,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:Di,action:["drill-down-action:back"]}]});var ag=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="circle-packing",n}return e.getDefaultOptions=function(){return uc},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return nf},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},e}(lt),fe="left-axes-view",de="right-axes-view",Mi={nice:!0,label:{autoHide:!0,autoRotate:!1}},rf=(0,g.pi)((0,g.pi)({},Mi),{position:"left"}),af=(0,g.pi)((0,g.pi)({},Mi),{position:"right",grid:null}),Ke;(function(t){t.Left="Left",t.Right="Right"})(Ke||(Ke={}));var Ue;(function(t){t.Line="line",t.Column="column"})(Ue||(Ue={}));function Fr(t){return(0,h.U2)(t,"geometry")===Ue.Line}function br(t){return(0,h.U2)(t,"geometry")===Ue.Column}function Ti(t,e,n){return br(n)?b({},{geometry:Ue.Column,label:n.label&&n.isRange?{content:function(r){var a;return(a=r[e])===null||a===void 0?void 0:a.join("-")}}:void 0},n):(0,g.pi)({geometry:Ue.Line},n)}function Ei(t,e){var n=t[0],r=t[1];if((0,h.kJ)(e)){var a=e[0],i=e[1];return[a,i]}var o=(0,h.U2)(e,n),s=(0,h.U2)(e,r);return[o,s]}function ki(t,e){return e===Ke.Left?t===!1?!1:b({},rf,t):e===Ke.Right?t===!1?!1:b({},af,t):t}function of(t){var e=t.options,n=t.chart,r=e.geometryOption,a=r.isStack,i=r.color,o=r.seriesField,s=r.groupField,l=r.isGroup,u=["xField","yField"];if(Fr(r)){Ze(b({},t,{options:(0,g.pi)((0,g.pi)((0,g.pi)({},U(e,u)),r),{line:{color:r.color,style:r.lineStyle}})})),ce(b({},t,{options:(0,g.pi)((0,g.pi)((0,g.pi)({},U(e,u)),r),{point:r.point&&(0,g.pi)({color:i,shape:"circle"},r.point)})}));var c=[];l&&c.push({type:"dodge",dodgeBy:s||o,customOffset:0}),a&&c.push({type:"stack"}),c.length&&(0,h.S6)(n.geometries,function(d){d.adjust(c)})}return br(r)&&En(b({},t,{options:(0,g.pi)((0,g.pi)((0,g.pi)({},U(e,u)),r),{widthRatio:r.columnWidthRatio,interval:(0,g.pi)((0,g.pi)({},U(r,["color"])),{style:r.columnStyle})})})),t}function Ii(t){var e=t.view,n=t.geometryOption,r=t.yField,a=t.legend,i=(0,h.U2)(a,"marker"),o=Et(e,Fr(n)?"line":"interval");if(!n.seriesField){var s=(0,h.U2)(e,"options.scales.".concat(r,".alias"))||r,l=o.getAttribute("color"),u=e.getTheme().defaultColor;l&&(u=D.Zr.getMappingValue(l,s,(0,h.U2)(l,["values",0],u)));var c=((0,h.mf)(i)?i:!(0,h.xb)(i)&&b({},{style:{stroke:u,fill:u}},i))||(Fr(n)?{symbol:function(f,v,p){return[["M",f-p,v],["L",f+p,v]]},style:{lineWidth:2,r:6,stroke:u}}:{symbol:"square",style:{fill:u}});return[{value:r,name:s,marker:c,isGeometry:!0,viewId:e.id}]}var d=o.getGroupAttributes();return(0,h.u4)(d,function(f,v){var p=D.Zr.getLegendItems(e,o,v,e.getTheme(),i);return f.concat(p)},[])}var Oi=function(t,e){var n=e[0],r=e[1],a=t.getOptions().data,i=t.getXScale(),o=(0,h.dp)(a);if(!(!i||!o)){var s=!0,l=(0,h.I)(a,i.field),u=s?l:l.reverse(),c=(0,h.dp)(u),d=Math.floor(n*(c-1)),f=Math.floor(r*(c-1));t.filter(i.field,function(v){var p=u.indexOf(v);return p>-1?V(p,d,f):!0}),t.getRootView().render(!0)}};function lf(t){var e,n=t.options,r=n.geometryOptions,a=r===void 0?[]:r,i=n.xField,o=n.yField,s=(0,h.yW)(a,function(l){var u=l.geometry;return u===Ue.Line||u===void 0});return b({},{options:{geometryOptions:[],meta:(e={},e[i]={type:"cat",sync:!0,range:s?[0,1]:void 0},e),tooltip:{showMarkers:s,showCrosshairs:s,shared:!0,crosshairs:{type:"x"}},interactions:s?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},t,{options:{yAxis:Ei(o,n.yAxis),geometryOptions:[Ti(i,o[0],a[0]),Ti(i,o[1],a[1])],annotations:Ei(o,n.annotations)}})}function sf(t){var e,n,r=t.chart,a=t.options,i=a.geometryOptions,o={line:0,column:1},s=[{type:(e=i[0])===null||e===void 0?void 0:e.geometry,id:fe},{type:(n=i[1])===null||n===void 0?void 0:n.geometry,id:de}];return s.sort(function(l,u){return-o[l.type]+o[u.type]}).forEach(function(l){return r.createView({id:l.id})}),t}function uf(t){var e=t.chart,n=t.options,r=n.xField,a=n.yField,i=n.geometryOptions,o=n.data,s=n.tooltip,l=[(0,g.pi)((0,g.pi)({},i[0]),{id:fe,data:o[0],yField:a[0]}),(0,g.pi)((0,g.pi)({},i[1]),{id:de,data:o[1],yField:a[1]})];return l.forEach(function(u){var c=u.id,d=u.data,f=u.yField,v=br(u)&&u.isPercent,p=v?Qr(d,f,r,f):d,y=B(e,c).data(p),m=v?(0,g.pi)({formatter:function(x){return{name:x[u.seriesField]||f,value:(Number(x[f])*100).toFixed(2)+"%"}}},s):s;of({chart:y,options:{xField:r,yField:f,tooltip:m,geometryOption:u}})}),t}function cf(t){var e,n=t.chart,r=t.options,a=r.geometryOptions,i=((e=n.getTheme())===null||e===void 0?void 0:e.colors10)||[],o=0;return n.once("beforepaint",function(){(0,h.S6)(a,function(s,l){var u=B(n,l===0?fe:de);if(!s.color){var c=u.getGroupScales(),d=(0,h.U2)(c,[0,"values","length"],1),f=i.slice(o,o+d).concat(l===0?[]:i);u.geometries.forEach(function(v){s.seriesField?v.color(s.seriesField,f):v.color(f[0])}),o+=d}}),n.render(!0)}),t}function ff(t){var e,n,r=t.chart,a=t.options,i=a.xAxis,o=a.yAxis,s=a.xField,l=a.yField;return qt((e={},e[s]=i,e[l[0]]=o[0],e))(b({},t,{chart:B(r,fe)})),qt((n={},n[s]=i,n[l[1]]=o[1],n))(b({},t,{chart:B(r,de)})),t}function df(t){var e=t.chart,n=t.options,r=B(e,fe),a=B(e,de),i=n.xField,o=n.yField,s=n.xAxis,l=n.yAxis;return e.axis(i,!1),e.axis(o[0],!1),e.axis(o[1],!1),r.axis(i,s),r.axis(o[0],ki(l[0],Ke.Left)),a.axis(i,!1),a.axis(o[1],ki(l[1],Ke.Right)),t}function vf(t){var e=t.chart,n=t.options,r=n.tooltip,a=B(e,fe),i=B(e,de);return e.tooltip(r),a.tooltip({shared:!0}),i.tooltip({shared:!0}),t}function hf(t){var e=t.chart;return zt(b({},t,{chart:B(e,fe)})),zt(b({},t,{chart:B(e,de)})),t}function pf(t){var e=t.chart,n=t.options,r=n.annotations,a=(0,h.U2)(r,[0]),i=(0,h.U2)(r,[1]);return Wt(a)(b({},t,{chart:B(e,fe),options:{annotations:a}})),Wt(i)(b({},t,{chart:B(e,de),options:{annotations:i}})),t}function gf(t){var e=t.chart;return At(b({},t,{chart:B(e,fe)})),At(b({},t,{chart:B(e,de)})),At(t),t}function yf(t){var e=t.chart;return It(b({},t,{chart:B(e,fe)})),It(b({},t,{chart:B(e,de)})),t}function xf(t){var e=t.chart,n=t.options,r=n.yAxis;return Oe(b({},t,{chart:B(e,fe),options:{yAxis:r[0]}})),Oe(b({},t,{chart:B(e,de),options:{yAxis:r[1]}})),t}function mf(t){var e=t.chart,n=t.options,r=n.legend,a=n.geometryOptions,i=n.yField,o=n.data,s=B(e,fe),l=B(e,de);if(r===!1)e.legend(!1);else if((0,h.Kn)(r)&&r.custom===!0)e.legend(r);else{var u=(0,h.U2)(a,[0,"legend"],r),c=(0,h.U2)(a,[1,"legend"],r);e.once("beforepaint",function(){var d=o[0].length?Ii({view:s,geometryOption:a[0],yField:i[0],legend:u}):[],f=o[1].length?Ii({view:l,geometryOption:a[1],yField:i[1],legend:c}):[];e.legend(b({},r,{custom:!0,items:d.concat(f)}))}),a[0].seriesField&&s.legend(a[0].seriesField,u),a[1].seriesField&&l.legend(a[1].seriesField,c),e.on("legend-item:click",function(d){var f=(0,h.U2)(d,"gEvent.delegateObject",{});if(f&&f.item){var v=f.item,p=v.value,y=v.isGeometry,m=v.viewId;if(y){var x=(0,h.cx)(i,function(S){return S===p});if(x>-1){var F=(0,h.U2)(B(e,m),"geometries");(0,h.S6)(F,function(S){S.changeVisible(!f.item.unchecked)})}}else{var w=(0,h.U2)(e.getController("legend"),"option.items",[]);(0,h.S6)(e.views,function(S){var _=S.getGroupScales();(0,h.S6)(_,function(O){O.values&&O.values.indexOf(p)>-1&&S.filter(O.field,function(W){var X=(0,h.sE)(w,function(ft){return ft.value===W});return!X.unchecked})}),e.render(!0)})}}})}return t}function Ff(t){var e=t.chart,n=t.options,r=n.slider,a=B(e,fe),i=B(e,de);return r&&(a.option("slider",r),a.on("slider:valuechanged",function(o){var s=o.event,l=s.value,u=s.originValue;(0,h.Xy)(l,u)||Oi(i,l)}),e.once("afterpaint",function(){if(!(0,h.jn)(r)){var o=r.start,s=r.end;(o||s)&&Oi(i,[o,s])}})),t}function bf(t){return N(lf,sf,gf,uf,ff,df,xf,vf,hf,pf,yf,cf,mf,Ff)(t)}var ig=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="dual-axes",n}return e.prototype.getDefaultOptions=function(){return b({},t.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return bf},e}(lt);function Sf(t,e){var n=e.data,r=e.coordinate,a=e.interactions,i=e.annotations,o=e.animation,s=e.tooltip,l=e.axes,u=e.meta,c=e.geometries;n&&t.data(n);var d={};l&&(0,h.S6)(l,function(f,v){d[v]=U(f,nt)}),d=b({},u,d),t.scale(d),r&&t.coordinate(r),l===!1?t.axis(!1):(0,h.S6)(l,function(f,v){t.axis(v,f)}),(0,h.S6)(c,function(f){var v=oe({chart:t,options:f}).ext,p=f.adjust;p&&v.geometry.adjust(p)}),(0,h.S6)(a,function(f){f.enable===!1?t.removeInteraction(f.type):t.interaction(f.type,f.cfg)}),(0,h.S6)(i,function(f){t.annotation()[f.type]((0,g.pi)({},f))}),Qt(t,o),s?(t.interaction("tooltip"),t.tooltip(s)):s===!1&&t.removeInteraction("tooltip")}function _f(t){var e=t.chart,n=t.options,r=n.type,a=n.data,i=n.fields,o=n.eachView,s=(0,h.CE)(n,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(a),e.facet(r,(0,g.pi)((0,g.pi)({},s),{fields:i,eachView:function(l,u){var c=o(l,u);if(c.geometries)Sf(l,c);else{var d=c,f=d.options;f.tooltip&&l.interaction("tooltip"),dr(d.type,l,f)}}})),t}function wf(t){var e=t.chart,n=t.options,r=n.axes,a=n.meta,i=n.tooltip,o=n.coordinate,s=n.theme,l=n.legend,u=n.interactions,c=n.annotations,d={};return r&&(0,h.S6)(r,function(f,v){d[v]=U(f,nt)}),d=b({},a,d),e.scale(d),e.coordinate(o),r?(0,h.S6)(r,function(f,v){e.axis(v,f)}):e.axis(!1),i?(e.interaction("tooltip"),e.tooltip(i)):i===!1&&e.removeInteraction("tooltip"),e.legend(l),s&&e.theme(s),(0,h.S6)(u,function(f){f.enable===!1?e.removeInteraction(f.type):e.interaction(f.type,f.cfg)}),(0,h.S6)(c,function(f){e.annotation()[f.type]((0,g.pi)({},f))}),t}function Af(t){return N(At,_f,wf)(t)}var Df={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}},og=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="area",n}return e.getDefaultOptions=function(){return Df},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Af},e}(lt);function Mf(t){var e=t.chart,n=t.options,r=n.data,a=n.type,i=n.xField,o=n.yField,s=n.colorField,l=n.sizeField,u=n.sizeRatio,c=n.shape,d=n.color,f=n.tooltip,v=n.heatmapStyle,p=n.meta;e.data(r);var y="polygon";a==="density"&&(y="heatmap");var m=ve(f,[i,o,s]),x=m.fields,F=m.formatter,w=1;return(u||u===0)&&(!c&&!l?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):u<0||u>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):w=u),oe(b({},t,{options:{type:y,colorField:s,tooltipFields:x,shapeField:l||"",label:void 0,mapping:{tooltip:F,shape:c&&(l?function(S){var _=r.map(function(ft){return ft[l]}),O=(p==null?void 0:p[l])||{},W=O.min,X=O.max;return W=(0,h.hj)(W)?W:Math.min.apply(Math,_),X=(0,h.hj)(X)?X:Math.max.apply(Math,_),[c,((0,h.U2)(S,l)-W)/(X-W),w]}:function(){return[c,1,w]}),color:d||s&&e.getTheme().sequenceColors.join("-"),style:v}}})),t}function Tf(t){var e,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField;return N(qt((e={},e[i]=r,e[o]=a,e)))(t)}function Ef(t){var e=t.chart,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField;return r===!1?e.axis(i,!1):e.axis(i,r),a===!1?e.axis(o,!1):e.axis(o,a),t}function kf(t){var e=t.chart,n=t.options,r=n.legend,a=n.colorField,i=n.sizeField,o=n.sizeLegend,s=r!==!1;return a&&e.legend(a,s?r:!1),i&&e.legend(i,o===void 0?r:o),!s&&!o&&e.legend(!1),t}function If(t){var e=t.chart,n=t.options,r=n.label,a=n.colorField,i=n.type,o=Et(e,i==="density"?"heatmap":"polygon");if(!r)o.label(!1);else if(a){var s=r.callback,l=(0,g._T)(r,["callback"]);o.label({fields:[a],callback:s,cfg:P(l)})}return t}function Of(t){var e,n,r=t.chart,a=t.options,i=a.coordinate,o=a.reflect,s=b({actions:[]},i!=null?i:{type:"rect"});return o&&((n=(e=s.actions)===null||e===void 0?void 0:e.push)===null||n===void 0||n.call(e,["reflect",o])),r.coordinate(s),t}function Pf(t){return N(At,ue("heatmapStyle"),Tf,Of,Mf,Ef,kf,Yt,If,Wt(),zt,It,De)(t)}var Cf=b({},lt.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});(0,D.Fj)("polygon","circle",{draw:function(t,e){var n,r,a=t.x,i=t.y,o=this.parsePoints(t.points),s=Math.abs(o[2].x-o[1].x),l=Math.abs(o[1].y-o[0].y),u=Math.min(s,l)/2,c=Number(t.shape[1]),d=Number(t.shape[2]),f=Math.sqrt(d),v=u*f*Math.sqrt(c),p=((n=t.style)===null||n===void 0?void 0:n.fill)||t.color||((r=t.defaultStyle)===null||r===void 0?void 0:r.fill),y=e.addShape("circle",{attrs:(0,g.pi)((0,g.pi)((0,g.pi)({x:a,y:i,r:v},t.defaultStyle),t.style),{fill:p})});return y}}),(0,D.Fj)("polygon","square",{draw:function(t,e){var n,r,a=t.x,i=t.y,o=this.parsePoints(t.points),s=Math.abs(o[2].x-o[1].x),l=Math.abs(o[1].y-o[0].y),u=Math.min(s,l),c=Number(t.shape[1]),d=Number(t.shape[2]),f=Math.sqrt(d),v=u*f*Math.sqrt(c),p=((n=t.style)===null||n===void 0?void 0:n.fill)||t.color||((r=t.defaultStyle)===null||r===void 0?void 0:r.fill),y=e.addShape("rect",{attrs:(0,g.pi)((0,g.pi)((0,g.pi)({x:a-v/2,y:i-v/2,width:v,height:v},t.defaultStyle),t.style),{fill:p})});return y}});var lg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="heatmap",n}return e.getDefaultOptions=function(){return Cf},e.prototype.getSchemaAdaptor=function(){return Pf},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(lt),Rf="liquid";function Pi(t){return[{percent:t,type:Rf}]}function Lf(t){var e=t.chart,n=t.options,r=n.percent,a=n.liquidStyle,i=n.radius,o=n.outline,s=n.wave,l=n.shape,u=n.shapeStyle,c=n.animation;e.scale({percent:{min:0,max:1}}),e.data(Pi(r));var d=n.color||e.getTheme().defaultColor,f=b({},t,{options:{xField:"type",yField:"percent",widthRatio:i,interval:{color:d,style:a,shape:"liquid-fill-gauge"}}}),v=ee(f).ext,p=v.geometry,y=e.getTheme().background,m={percent:r,radius:i,outline:o,wave:s,shape:l,shapeStyle:u,background:y,animation:c};return p.customInfo(m),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function Ci(t,e){var n=t.chart,r=t.options,a=r.statistic,i=r.percent,o=r.meta;n.getController("annotation").clear(!0);var s=(0,h.U2)(o,["percent","formatter"])||function(u){return"".concat((u*100).toFixed(2),"%")},l=a.content;return l&&(l=b({},l,{content:(0,h.UM)(l.content)?s(i):l.content})),xt(n,{statistic:(0,g.pi)((0,g.pi)({},a),{content:l}),plotType:"liquid"},{percent:i}),e&&n.render(!0),t}function zf(t){return N(At,ue("liquidStyle"),Lf,Ci,qt({}),It,zt)(t)}var Nf={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},Ri=5e3;function Li(t,e,n){return t+(e-t)*n}function Uf(t){var e=(0,g.pi)({opacity:1},t.style);return t.color&&!e.fill&&(e.fill=t.color),e}function Vf(t){var e={fill:"#fff",fillOpacity:0,lineWidth:4},n=(0,h.CD)({},e,t.style);return t.color&&!n.stroke&&(n.stroke=t.color),(0,h.hj)(t.opacity)&&(n.opacity=n.strokeOpacity=t.opacity),n}function Wf(t,e,n,r){return e===0?[[t+1/2*n/Math.PI/2,r/2],[t+1/2*n/Math.PI,r],[t+n/4,r]]:e===1?[[t+1/2*n/Math.PI/2*(Math.PI-2),r],[t+1/2*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:e===2?[[t+1/2*n/Math.PI/2,-r/2],[t+1/2*n/Math.PI,-r],[t+n/4,-r]]:[[t+1/2*n/Math.PI/2*(Math.PI-2),-r],[t+1/2*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function Bf(t,e,n,r,a,i,o){for(var s=Math.ceil(2*t/n*4)*4,l=[],u=r;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*n;var c=i-t+u-t*2;l.push(["M",c,e]);for(var d=0,f=0;f<s;++f){var v=f%4,p=Wf(f*n/4,v,n,a);l.push(["C",p[0][0]+c,-p[0][1]+e,p[1][0]+c,-p[1][1]+e,p[2][0]+c,-p[2][1]+e]),f===s-1&&(d=p[2][0])}return l.push(["L",d+c,o+t]),l.push(["L",c,o+t]),l.push(["Z"]),l}function Gf(t,e,n,r,a,i,o,s,l,u){for(var c=a.fill,d=a.opacity,f=o.getBBox(),v=f.maxX-f.minX,p=f.maxY-f.minY,y=0;y<r;y++){var m=r<=1?1:y/(r-1),x=i.addShape("path",{name:"waterwave-path",attrs:{path:Bf(s,f.minY+p*n,l,0,v/32,t,e),fill:c,opacity:Li(.2,.9,m)*d}});try{if(u===!1)return;var F=cr([["t",l,0]]);x.stopAnimate(),x.animate({matrix:F},{duration:Li(.5*Ri,Ri,m),repeat:!0})}catch(w){console.warn("off-screen group animate error!")}}}function Zf(t,e,n,r){var a=n*2/3,i=Math.max(a,r),o=a/2,s=t,l=o+e-i/2,u=Math.asin(o/((i-o)*.85)),c=Math.sin(u)*o,d=Math.cos(u)*o,f=s-d,v=l+c,p=t,y=l+o/Math.sin(u);return`
      M `.concat(f," ").concat(v,`
      A `).concat(o," ").concat(o," 0 1 1 ").concat(f+d*2," ").concat(v,`
      Q `).concat(p," ").concat(y," ").concat(t," ").concat(e+i/2,`
      Q `).concat(p," ").concat(y," ").concat(f," ").concat(v,`
      Z 
    `)}function qf(t,e,n,r){var a=n/2,i=r/2;return`
      M `.concat(t," ").concat(e-i,` 
      a `).concat(a," ").concat(i," 0 1 0 0 ").concat(i*2,`
      a `).concat(a," ").concat(i," 0 1 0 0 ").concat(-i*2,`
      Z
    `)}function Hf(t,e,n,r){var a=r/2,i=n/2;return`
      M `.concat(t," ").concat(e-a,`
      L `).concat(t+i," ").concat(e,`
      L `).concat(t," ").concat(e+a,`
      L `).concat(t-i," ").concat(e,`
      Z
    `)}function Xf(t,e,n,r){var a=r/2,i=n/2;return`
      M `.concat(t," ").concat(e-a,`
      L `).concat(t+i," ").concat(e+a,`
      L `).concat(t-i," ").concat(e+a,`
      Z
    `)}function Yf(t,e,n,r){var a=.618,i=r/2,o=n/2*a;return`
      M `.concat(t-o," ").concat(e-i,`
      L `).concat(t+o," ").concat(e-i,`
      L `).concat(t+o," ").concat(e+i,`
      L `).concat(t-o," ").concat(e+i,`
      Z
    `)}var zi={pin:Zf,circle:qf,diamond:Hf,triangle:Xf,rect:Yf};(0,D.Fj)("interval","liquid-fill-gauge",{draw:function(t,e){var n=.5,r=.5,a=t.customInfo,i=a,o=i.percent,s=i.radius,l=i.shape,u=i.shapeStyle,c=i.background,d=i.animation,f=a.outline,v=a.wave,p=f.border,y=f.distance,m=v.count,x=v.length,F=(0,h.u4)(t.points,function(Rt,$t){return Math.min(Rt,$t.x)},1/0),w=this.parsePoint({x:n,y:r}),S=this.parsePoint({x:F,y:r}),_=w.x-S.x,O=Math.min(_,S.y*s),W=Uf(t),X=Vf((0,h.CD)({},t,f)),ft=O-p/2,et=typeof l=="function"?l:zi[l]||zi.circle,Y=et(w.x,w.y,ft*2,ft*2);if(u&&e.addShape("path",{name:"shape",attrs:(0,g.pi)({path:Y},u)}),o>0){var _t=e.addGroup({name:"waves"}),Nt=_t.setClip({type:"path",attrs:{path:Y}});Gf(w.x,w.y,1-t.points[1].y,m,W,_t,Nt,O*2,x,d)}return e.addShape("path",{name:"distance",attrs:{path:Y,fill:"transparent",lineWidth:p+y*2,stroke:c==="transparent"?"#fff":c}}),e.addShape("path",{name:"wrap",attrs:(0,h.CD)(X,{path:Y,fill:"transparent",lineWidth:p})}),e}});var sg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="liquid",n}return e.getDefaultOptions=function(){return Nf},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(n){this.chart.emit(D.ld.BEFORE_CHANGE_DATA,D.ju.fromData(this.chart,D.ld.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:n}),this.chart.data(Pi(n)),Ci({chart:this.chart,options:this.options},!0),this.chart.emit(D.ld.AFTER_CHANGE_DATA,D.ju.fromData(this.chart,D.ld.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return zf},e}(lt);function $f(t){var e=t.chart,n=t.options,r=n.data,a=n.lineStyle,i=n.color,o=n.point,s=n.area;e.data(r);var l=b({},t,{options:{line:{style:a,color:i},point:o&&(0,g.pi)({color:i},o),area:s&&(0,g.pi)({color:i},s),label:void 0}}),u=b({},l,{options:{tooltip:!1}}),c=(o==null?void 0:o.state)||n.state,d=b({},l,{options:{tooltip:!1,state:c}});return Ze(l),ce(d),An(u),t}function jf(t){var e,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField;return N(qt((e={},e[i]=r,e[o]=a,e)))(t)}function Jf(t){var e=t.chart,n=t.options,r=n.radius,a=n.startAngle,i=n.endAngle;return e.coordinate("polar",{radius:r,startAngle:a,endAngle:i}),t}function Kf(t){var e=t.chart,n=t.options,r=n.xField,a=n.xAxis,i=n.yField,o=n.yAxis;return e.axis(r,a),e.axis(i,o),t}function Qf(t){var e=t.chart,n=t.options,r=n.label,a=n.yField,i=Et(e,"line");if(!r)i.label(!1);else{var o=r.fields,s=r.callback,l=(0,g._T)(r,["fields","callback"]);i.label({fields:o||[a],callback:s,cfg:P(l)})}return t}function td(t){return N($f,jf,At,Jf,Kf,Ie,Yt,Qf,zt,It,Wt())(t)}var ed=function(t){(0,g.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(n){var r=this.getTooltipCfg(),a=r.shared,i=r.title,o=t.prototype.getTooltipItems.call(this,n);if(o.length>0){var s=this.view.geometries[0],l=s.dataArray,u=o[0].name,c=[];return l.forEach(function(d){d.forEach(function(f){var v=D.Zr.getTooltipItems(f,s),p=v[0];if(!a&&p&&p.name===u){var y=(0,h.UM)(i)?u:i;c.push((0,g.pi)((0,g.pi)({},p),{name:p.title,title:y}))}else if(a&&p){var y=(0,h.UM)(i)?p.name||u:i;c.push((0,g.pi)((0,g.pi)({},p),{name:p.title,title:y}))}})}),c}return[]},e}(D.fw);(0,D.ak)("radar-tooltip",ed);var nd=function(t){(0,g.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var n=this.context.view;n.removeInteraction("tooltip")},e.prototype.show=function(){var n=this.context.event,r=this.getTooltipController();r.showTooltip({x:n.x,y:n.y})},e.prototype.hide=function(){var n=this.getTooltipController();n.hideTooltip()},e.prototype.getTooltipController=function(){var n=this.context.view;return n.getController("radar-tooltip")},e}(D.aU);(0,D.zl)("radar-tooltip",nd),(0,D.w_)("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var ug=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="radar",n}return e.prototype.changeData=function(n){this.updateOption({data:n}),this.chart.changeData(n)},e.prototype.getDefaultOptions=function(){return b({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return td},e}(lt);function rd(t,e,n){var r=n.map(function(o){return o[e]}).filter(function(o){return o!==void 0}),a=r.length>0?Math.max.apply(Math,r):0,i=Math.abs(t)%360;return i?a*360/i:a}function ad(t,e,n){var r=[];return t.forEach(function(a){var i=r.find(function(o){return o[e]===a[e]});i?i[n]+=a[n]||null:r.push((0,g.pi)({},a))}),r}function id(t){var e=t.chart,n=t.options,r=n.barStyle,a=n.color,i=n.tooltip,o=n.colorField,s=n.type,l=n.xField,u=n.yField,c=n.data,d=n.shape,f=Z(c,u);e.data(f);var v=b({},t,{options:{tooltip:i,seriesField:o,interval:{style:r,color:a,shape:d||(s==="line"?"line":"intervel")},minColumnWidth:n.minBarWidth,maxColumnWidth:n.maxBarWidth,columnBackground:n.barBackground}});return ee(v),s==="line"&&ce({chart:e,options:{xField:l,yField:u,seriesField:o,point:{shape:"circle",color:a}}}),t}function Ni(t){var e,n=t.options,r=n.yField,a=n.xField,i=n.data,o=n.isStack,s=n.isGroup,l=n.colorField,u=n.maxAngle,c=o&&!s&&l?ad(i,a,r):i,d=Z(c,r);return N(qt((e={},e[r]={min:0,max:rd(u,r,d)},e)))(t)}function od(t){var e=t.chart,n=t.options,r=n.radius,a=n.innerRadius,i=n.startAngle,o=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:a,startAngle:i,endAngle:o}}).transpose(),t}function ld(t){var e=t.chart,n=t.options,r=n.xField,a=n.xAxis;return e.axis(r,a),t}function sd(t){var e=t.chart,n=t.options,r=n.label,a=n.yField,i=Et(e,"interval");if(!r)i.label(!1);else{var o=r.callback,s=(0,g._T)(r,["callback"]);i.label({fields:[a],callback:o,cfg:(0,g.pi)((0,g.pi)({},P(s)),{type:"polar"})})}return t}function ud(t){return N(ue("barStyle"),id,Ni,ld,od,zt,It,At,Yt,Ie,Wt(),sd)(t)}var cd=b({},lt.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),cg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="radial-bar",n}return e.getDefaultOptions=function(){return cd},e.prototype.changeData=function(n){this.updateOption({data:n}),Ni({chart:this.chart,options:this.options}),this.chart.changeData(n)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ud},e}(lt);function fd(t){var e=t.chart,n=t.options,r=n.data,a=n.sectorStyle,i=n.shape,o=n.color;return e.data(r),N(ee)(b({},t,{options:{marginRatio:1,interval:{style:a,color:o,shape:i}}})),t}function dd(t){var e=t.chart,n=t.options,r=n.label,a=n.xField,i=Et(e,"interval");if(r===!1)i.label(!1);else if((0,h.Kn)(r)){var o=r.callback,s=r.fields,l=(0,g._T)(r,["callback","fields"]),u=l.offset,c=l.layout;(u===void 0||u>=0)&&(c=c?(0,h.kJ)(c)?c:[c]:[],l.layout=(0,h.hX)(c,function(d){return d.type!=="limit-in-shape"}),l.layout.length||delete l.layout),i.label({fields:s||[a],callback:o,cfg:P(l)})}else vt(gt.WARN,r===null,"the label option must be an Object."),i.label({fields:[a]});return t}function vd(t){var e=t.chart,n=t.options,r=n.legend,a=n.seriesField;return r===!1?e.legend(!1):a&&e.legend(a,r),t}function hd(t){var e=t.chart,n=t.options,r=n.radius,a=n.innerRadius,i=n.startAngle,o=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:a,startAngle:i,endAngle:o}}),t}function pd(t){var e,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField;return N(qt((e={},e[i]=r,e[o]=a,e)))(t)}function gd(t){var e=t.chart,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField;return r?e.axis(i,r):e.axis(i,!1),a?e.axis(o,a):e.axis(o,!1),t}function yd(t){N(ue("sectorStyle"),fd,pd,dd,hd,gd,vd,Yt,zt,It,At,Wt(),De)(t)}var xd=b({},lt.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),fg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="rose",n}return e.getDefaultOptions=function(){return xd},e.prototype.changeData=function(n){this.updateOption({data:n}),this.chart.changeData(n)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return yd},e}(lt),Ui="x",Vi="y",Wi="name",Nn="nodes",Un="edges";function md(t,e,n){var r=[];return t.forEach(function(a){var i=a[e],o=a[n];r.includes(i)||r.push(i),r.includes(o)||r.push(o)}),r}function Fd(t,e,n,r){var a={};return e.forEach(function(i){a[i]={},e.forEach(function(o){a[i][o]=0})}),t.forEach(function(i){a[i[n]][i[r]]=1}),a}function bd(t,e,n){if(!(0,h.kJ)(t))return[];var r=[],a=md(t,e,n),i=Fd(t,a,e,n),o={};a.forEach(function(l){o[l]=0});function s(l){o[l]=1,a.forEach(function(u){if(i[l][u]!=0)if(o[u]==1)r.push("".concat(l,"_").concat(u));else{if(o[u]==-1)return;s(u)}}),o[l]=-1}return a.forEach(function(l){o[l]!=-1&&s(l)}),r.length!==0&&console.warn("sankey data contains circle, ".concat(r.length," records removed."),r),t.filter(function(l){return r.findIndex(function(u){return u==="".concat(l[e],"_").concat(l[n])})<0})}function Sd(t){return t.target.depth}function _d(t){return t.depth}function wd(t,e){return e-1-t.height}function Sr(t,e){return t.sourceLinks.length?t.depth:e-1}function Ad(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?(0,h.F)(t.sourceLinks,Sd)-1:0}function Vn(t){return function(){return t}}function _r(t,e){for(var n=0,r=0;r<t.length;r++)n+=e(t[r]);return n}function wr(t,e){for(var n=-1/0,r=0;r<t.length;r++)n=Math.max(e(t[r]),n);return n}function Dd(t,e){for(var n=1/0,r=0;r<t.length;r++)n=Math.min(e(t[r]),n);return n}function Bi(t,e){return Wn(t.source,e.source)||t.index-e.index}function Gi(t,e){return Wn(t.target,e.target)||t.index-e.index}function Wn(t,e){return t.y0-e.y0}function Ar(t){return t.value}function Md(t){return t.index}function Td(t){return t.nodes}function Ed(t){return t.links}function Zi(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function qi(t){for(var e=t.nodes,n=0,r=e;n<r.length;n++){for(var a=r[n],i=a.y0,o=i,s=0,l=a.sourceLinks;s<l.length;s++){var u=l[s];u.y0=i+u.width/2,i+=u.width}for(var c=0,d=a.targetLinks;c<d.length;c++){var u=d[c];u.y1=o+u.width/2,o+=u.width}}}function kd(){var t=0,e=0,n=1,r=1,a=24,i=8,o,s=Md,l=Sr,u,c,d,f=Td,v=Ed,p=6;function y(k){var G={nodes:f(k),links:v(k)};return m(G),x(G),F(G),w(G),O(G),qi(G),G}y.update=function(k){return qi(k),k},y.nodeId=function(k){return arguments.length?(s=typeof k=="function"?k:Vn(k),y):s},y.nodeAlign=function(k){return arguments.length?(l=typeof k=="function"?k:Vn(k),y):l},y.nodeDepth=function(k){return arguments.length?(u=k,y):u},y.nodeSort=function(k){return arguments.length?(c=k,y):c},y.nodeWidth=function(k){return arguments.length?(a=+k,y):a},y.nodePadding=function(k){return arguments.length?(i=o=+k,y):i},y.nodes=function(k){return arguments.length?(f=typeof k=="function"?k:Vn(k),y):f},y.links=function(k){return arguments.length?(v=typeof k=="function"?k:Vn(k),y):v},y.linkSort=function(k){return arguments.length?(d=k,y):d},y.size=function(k){return arguments.length?(t=e=0,n=+k[0],r=+k[1],y):[n-t,r-e]},y.extent=function(k){return arguments.length?(t=+k[0][0],n=+k[1][0],e=+k[0][1],r=+k[1][1],y):[[t,e],[n,r]]},y.iterations=function(k){return arguments.length?(p=+k,y):p};function m(k){var G=k.nodes,Q=k.links;G.forEach(function(bt,Bt){bt.index=Bt,bt.sourceLinks=[],bt.targetLinks=[]});var rt=new Map(G.map(function(bt){return[s(bt),bt]}));if(Q.forEach(function(bt,Bt){bt.index=Bt;var jt=bt.source,Jt=bt.target;typeof jt!="object"&&(jt=bt.source=Zi(rt,jt)),typeof Jt!="object"&&(Jt=bt.target=Zi(rt,Jt)),jt.sourceLinks.push(bt),Jt.targetLinks.push(bt)}),d!=null)for(var $=0,it=G;$<it.length;$++){var Ft=it[$],Tt=Ft.sourceLinks,dt=Ft.targetLinks;Tt.sort(d),dt.sort(d)}}function x(k){for(var G=k.nodes,Q=0,rt=G;Q<rt.length;Q++){var $=rt[Q];$.value=$.fixedValue===void 0?Math.max(_r($.sourceLinks,Ar),_r($.targetLinks,Ar)):$.fixedValue}}function F(k){for(var G=k.nodes,Q=G.length,rt=new Set(G),$=new Set,it=0;rt.size;){if(rt.forEach(function(bt){bt.depth=it;for(var Bt=0,jt=bt.sourceLinks;Bt<jt.length;Bt++){var Jt=jt[Bt].target;$.add(Jt)}}),++it>Q)throw new Error("circular link");rt=$,$=new Set}if(u)for(var Ft=Math.max(wr(G,function(bt){return bt.depth})+1,0),Tt=void 0,dt=0;dt<G.length;dt++)Tt=G[dt],Tt.depth=u.call(null,Tt,Ft)}function w(k){for(var G=k.nodes,Q=G.length,rt=new Set(G),$=new Set,it=0;rt.size;){if(rt.forEach(function(Ft){Ft.height=it;for(var Tt=0,dt=Ft.targetLinks;Tt<dt.length;Tt++){var bt=dt[Tt].source;$.add(bt)}}),++it>Q)throw new Error("circular link");rt=$,$=new Set}}function S(k){for(var G=k.nodes,Q=Math.max(wr(G,function(Jt){return Jt.depth})+1,0),rt=(n-t-a)/(Q-1),$=new Array(Q).fill(0).map(function(){return[]}),it=0,Ft=G;it<Ft.length;it++){var Tt=Ft[it],dt=Math.max(0,Math.min(Q-1,Math.floor(l.call(null,Tt,Q))));Tt.layer=dt,Tt.x0=t+dt*rt,Tt.x1=Tt.x0+a,$[dt]?$[dt].push(Tt):$[dt]=[Tt]}if(c)for(var bt=0,Bt=$;bt<Bt.length;bt++){var jt=Bt[bt];jt.sort(c)}return $}function _(k){for(var G=Dd(k,function(ke){return(r-e-(ke.length-1)*o)/_r(ke,Ar)}),Q=0,rt=k;Q<rt.length;Q++){for(var $=rt[Q],it=e,Ft=0,Tt=$;Ft<Tt.length;Ft++){var dt=Tt[Ft];dt.y0=it,dt.y1=it+dt.value*G,it=dt.y1+o;for(var bt=0,Bt=dt.sourceLinks;bt<Bt.length;bt++){var jt=Bt[bt];jt.width=jt.value*G}}it=(r-it+o)/($.length+1);for(var Jt=0;Jt<$.length;++Jt){var dt=$[Jt];dt.y0+=it*(Jt+1),dt.y1+=it*(Jt+1)}Nt($)}}function O(k){var G=S(k);o=Math.min(i,(r-e)/(wr(G,function(it){return it.length})-1)),_(G);for(var Q=0;Q<p;++Q){var rt=Math.pow(.99,Q),$=Math.max(1-rt,(Q+1)/p);X(G,rt,$),W(G,rt,$)}}function W(k,G,Q){for(var rt=1,$=k.length;rt<$;++rt){for(var it=k[rt],Ft=0,Tt=it;Ft<Tt.length;Ft++){for(var dt=Tt[Ft],bt=0,Bt=0,jt=0,Jt=dt.targetLinks;jt<Jt.length;jt++){var ke=Jt[jt],gn=ke.source,Hr=ke.value,yn=Hr*(dt.layer-gn.layer);bt+=Rt(gn,dt)*yn,Bt+=yn}if(Bt>0){var xn=(bt/Bt-dt.y0)*G;dt.y0+=xn,dt.y1+=xn,_t(dt)}}c===void 0&&it.sort(Wn),it.length&&ft(it,Q)}}function X(k,G,Q){for(var rt=k.length,$=rt-2;$>=0;--$){for(var it=k[$],Ft=0,Tt=it;Ft<Tt.length;Ft++){for(var dt=Tt[Ft],bt=0,Bt=0,jt=0,Jt=dt.sourceLinks;jt<Jt.length;jt++){var ke=Jt[jt],gn=ke.target,Hr=ke.value,yn=Hr*(gn.layer-dt.layer);bt+=$t(dt,gn)*yn,Bt+=yn}if(Bt>0){var xn=(bt/Bt-dt.y0)*G;dt.y0+=xn,dt.y1+=xn,_t(dt)}}c===void 0&&it.sort(Wn),it.length&&ft(it,Q)}}function ft(k,G){var Q=k.length>>1,rt=k[Q];Y(k,rt.y0-o,Q-1,G),et(k,rt.y1+o,Q+1,G),Y(k,r,k.length-1,G),et(k,e,0,G)}function et(k,G,Q,rt){for(;Q<k.length;++Q){var $=k[Q],it=(G-$.y0)*rt;it>1e-6&&($.y0+=it,$.y1+=it),G=$.y1+o}}function Y(k,G,Q,rt){for(;Q>=0;--Q){var $=k[Q],it=($.y1-G)*rt;it>1e-6&&($.y0-=it,$.y1-=it),G=$.y0-o}}function _t(k){var G=k.sourceLinks,Q=k.targetLinks;if(d===void 0){for(var rt=0,$=Q;rt<$.length;rt++){var it=$[rt].source.sourceLinks;it.sort(Gi)}for(var Ft=0,Tt=G;Ft<Tt.length;Ft++){var dt=Tt[Ft].target.targetLinks;dt.sort(Bi)}}}function Nt(k){if(d===void 0)for(var G=0,Q=k;G<Q.length;G++){var rt=Q[G],$=rt.sourceLinks,it=rt.targetLinks;$.sort(Gi),it.sort(Bi)}}function Rt(k,G){for(var Q=k.y0-(k.sourceLinks.length-1)*o/2,rt=0,$=k.sourceLinks;rt<$.length;rt++){var it=$[rt],Ft=it.target,Tt=it.width;if(Ft===G)break;Q+=Tt+o}for(var dt=0,bt=G.targetLinks;dt<bt.length;dt++){var Bt=bt[dt],Ft=Bt.source,Tt=Bt.width;if(Ft===k)break;Q-=Tt}return Q}function $t(k,G){for(var Q=G.y0-(G.targetLinks.length-1)*o/2,rt=0,$=G.targetLinks;rt<$.length;rt++){var it=$[rt],Ft=it.source,Tt=it.width;if(Ft===k)break;Q+=Tt+o}for(var dt=0,bt=k.sourceLinks;dt<bt.length;dt++){var Bt=bt[dt],Ft=Bt.target,Tt=Bt.width;if(Ft===G)break;Q-=Tt}return Q}return y}var Id={left:_d,right:wd,center:Ad,justify:Sr},Od={nodeId:function(t){return t.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function Pd(t){var e=(0,h.HD)(t)?Id[t]:(0,h.mf)(t)?t:null;return e||Sr}function Cd(t){return(0,h.f0)({},Od,t)}function Rd(t,e){var n=Cd(t),r=n.nodeId,a=n.nodeSort,i=n.nodeAlign,o=n.nodeWidth,s=n.nodePadding,l=n.nodeDepth,u=kd().nodeSort(a).nodeWidth(o).nodePadding(s).nodeDepth(l).nodeAlign(Pd(i)).extent([[0,0],[1,1]]).nodeId(r),c=u(e),d=c.nodes.map(function(v){var p=v.x0,y=v.x1,m=v.y0,x=v.y1;return v.x=[p,y,y,p],v.y=[m,m,x,x],v}).filter(function(v){return v.name!==null}),f=c.links.map(function(v){var p=v.source,y=v.target,m=p.x1,x=y.x0;v.x=[m,m,x,x];var F=v.width/2;return v.y=[v.y0+F,v.y0-F,v.y1+F,v.y1-F],v}).filter(function(v){var p=v.source,y=v.target;return p.name!==null&&y.name!==null});return{nodes:d,links:f}}function Ld(t){return t==="node-link"}function zd(t,e,n){return R(t)?t/n:e}function Nd(t,e,n){return R(t)?t/n:e}function Hi(t,e,n){var r=t.dataType,a=t.data,i=t.sourceField,o=t.targetField,s=t.weightField,l=t.nodeAlign,u=t.nodeSort,c=t.nodePadding,d=t.nodePaddingRatio,f=t.nodeWidth,v=t.nodeWidthRatio,p=t.nodeDepth,y=t.rawFields,m=y===void 0?[]:y,x;Ld(r)?x=a:x=J(bd(a,i,o),i,o,s,m);var F=Rd({nodeAlign:l,nodePadding:Nd(c,d,n),nodeWidth:zd(f,v,e),nodeSort:u,nodeDepth:p},x),w=F.nodes,S=F.links;return{nodes:w.map(function(_){return(0,g.pi)((0,g.pi)({},U(_,(0,g.ev)(["x","y","name"],m,!0))),{isNode:!0})}),edges:S.map(function(_){return(0,g.pi)((0,g.pi)({source:_.source.name,target:_.target.name,name:_.source.name||_.target.name},U(_,(0,g.ev)(["x","y","value"],m,!0))),{isNode:!1})})}}function Ud(t){var e=t.options,n=e.rawFields,r=n===void 0?[]:n;return b({},{options:{tooltip:{fields:(0,h.jj)((0,g.ev)(["name","source","target","value","isNode"],r,!0))},label:{fields:(0,h.jj)((0,g.ev)(["x","name"],r,!0))}}},t)}function Vd(t){var e=t.chart,n=t.options,r=n.color,a=n.nodeStyle,i=n.edgeStyle,o=n.label,s=n.tooltip,l=n.nodeState,u=n.edgeState,c=n.rawFields,d=c===void 0?[]:c;e.legend(!1),e.tooltip(s),e.axis(!1),e.coordinate().reflect("y");var f=Hi(n,e.width,e.height),v=f.nodes,p=f.edges,y=e.createView({id:Un});y.data(p),jr({chart:y,options:{xField:Ui,yField:Vi,seriesField:Wi,rawFields:(0,g.ev)(["source","target"],d,!0),edge:{color:r,style:i,shape:"arc"},tooltip:s,state:u}});var m=e.createView({id:Nn});return m.data(v),Dn({chart:m,options:{xField:Ui,yField:Vi,seriesField:Wi,polygon:{color:r,style:a},label:o,tooltip:s,state:l}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),t}function Wd(t){var e=t.chart,n=t.options,r=n.animation,a=(0,g.ev)((0,g.ev)([],e.views[0].geometries,!0),e.views[1].geometries,!0);return Qt(e,r,a),t}function Bd(t){var e=t.chart,n=t.options,r=n.nodeDraggable,a="sankey-node-draggable";return r?e.interaction(a):e.removeInteraction(a),t}function Gd(t){var e=t.chart,n=t.options,r=n.interactions,a=r===void 0?[]:r,i=[].concat(a,n.nodeInteractions||[]),o=[].concat(a,n.edgeInteractions||[]),s=B(e,Nn),l=B(e,Un);return i.forEach(function(u){(u==null?void 0:u.enable)===!1?s.removeInteraction(u.type):s.interaction(u.type,u.cfg||{})}),o.forEach(function(u){(u==null?void 0:u.enable)===!1?l.removeInteraction(u.type):l.interaction(u.type,u.cfg||{})}),t}function Zd(t){return N(Ud,Vd,Gd,Bd,Wd,At)(t)}var qd=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDragging=!1,n}return e.prototype.isNodeElement=function(){var n=(0,h.U2)(this.context,"event.target");if(n){var r=n.get("element");return r&&r.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return B(this.context.view,Nn)},e.prototype.getEdgeView=function(){return B(this.context.view,Un)},e.prototype.getCurrentDatumIdx=function(n){return this.getNodeView().geometries[0].elements.indexOf(n)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,h.U2)(this.context,"event.x"),y:(0,h.U2)(this.context,"event.y")};var n=this.context.event.target.get("element"),r=this.getCurrentDatumIdx(n);if(r===-1)return;this.currentElementIdx=r,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var n=this.context.view,r={x:(0,h.U2)(this.context,"event.x"),y:(0,h.U2)(this.context,"event.y")},a=r.x-this.prevPoint.x,i=r.y-this.prevPoint.y,o=this.getNodeView(),s=o.geometries[0].elements[this.currentElementIdx];if(s&&s.getModel()){var l=s.getModel().data,u=o.getOptions().data,c=o.getCoordinate(),d={x:a/c.getWidth(),y:i/c.getHeight()},f=(0,g.pi)((0,g.pi)({},l),{x:l.x.map(function(x){return x+=d.x}),y:l.y.map(function(x){return x+=d.y})}),v=(0,g.ev)([],u,!0);v[this.currentElementIdx]=f,o.data(v);var p=l.name,y=this.getEdgeView(),m=y.getOptions().data;m.forEach(function(x){x.source===p&&(x.x[0]+=d.x,x.x[1]+=d.x,x.y[0]+=d.y,x.y[1]+=d.y),x.target===p&&(x.x[2]+=d.x,x.x[3]+=d.x,x.y[2]+=d.y,x.y[3]+=d.y)}),y.data(m),this.prevPoint=r,n.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(D.aU);(0,D.zl)("sankey-node-drag",qd),(0,D.w_)("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(t){return t.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var dg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="sankey",n}return e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(n){var r=n.name;return r},callback:function(n){var r=n[1]===1;return{style:{fill:"#545454",textAlign:r?"end":"start"},offsetX:r?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(n){return!(0,h.U2)(n,[0,"data","isNode"])},formatter:function(n){var r=n.source,a=n.target,i=n.value;return{name:r+" -> "+a,value:i}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(n){this.updateOption({data:n});var r=Hi(this.options,this.chart.width,this.chart.height),a=r.nodes,i=r.edges,o=B(this.chart,Nn),s=B(this.chart,Un);o.changeData(a),s.changeData(i)},e.prototype.getSchemaAdaptor=function(){return Zd},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(lt),Dr="ancestor-node",Xi="value",un="path",Hd=[un,bi,gr,Si,"name","depth","height"],Xd=b({},lt.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}});function Yi(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function cn(t,e,n,r,a){for(var i=t.children,o,s=-1,l=i.length,u=t.value&&(r-e)/t.value;++s<l;)o=i[s],o.y0=n,o.y1=a,o.x0=e,o.x1=e+=o.value*u}function $i(){var t=1,e=1,n=0,r=!1;function a(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=t,o.y1=e/s,o.eachBefore(i(e,s)),r&&o.eachBefore(Yi),o}function i(o,s){return function(l){l.children&&cn(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var u=l.x0,c=l.y0,d=l.x1-n,f=l.y1-n;d<u&&(u=d=(u+d)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=d,l.y1=f}}return a.round=function(o){return arguments.length?(r=!!o,a):r},a.size=function(o){return arguments.length?(t=+o[0],e=+o[1],a):[t,e]},a.padding=function(o){return arguments.length?(n=+o,a):n},a}var Yd={field:"value",size:[1,1],round:!1,padding:0,sort:function(t,e){return e.value-t.value},as:["x","y"],ignoreParentValue:!0};function $d(t,e){e=(0,h.f0)({},Yd,e);var n=e.as;if(!(0,h.kJ)(n)||n.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var r;try{r=xr(e)}catch(l){console.warn(l)}var a=function(l){return $i().size(e.size).round(e.round).padding(e.padding)(je(l).sum(function(u){return(0,h.dp)(u.children)?e.ignoreParentValue?0:u[r]-(0,h.u4)(u.children,function(c,d){return c+d[r]},0):u[r]}).sort(e.sort))},i=a(t),o=n[0],s=n[1];return i.each(function(l){var u,c;l[o]=[l.x0,l.x1,l.x1,l.x0],l[s]=[l.y1,l.y1,l.y0,l.y0],l.name=l.name||((u=l.data)===null||u===void 0?void 0:u.name)||((c=l.data)===null||c===void 0?void 0:c.label),l.data.name=l.name,["x0","x1","y0","y1"].forEach(function(d){n.indexOf(d)===-1&&delete l[d]})}),mr(i)}function jd(t,e){return t.parent===e.parent?1:2}function Jd(t){return t.reduce(Kd,0)/t.length}function Kd(t,e){return t+e.x}function Qd(t){return 1+t.reduce(tv,0)}function tv(t,e){return Math.max(t,e.y)}function ev(t){for(var e;e=t.children;)t=e[0];return t}function nv(t){for(var e;e=t.children;)t=e[e.length-1];return t}function rv(){var t=jd,e=1,n=1,r=!1;function a(i){var o,s=0;i.eachAfter(function(f){var v=f.children;v?(f.x=Jd(v),f.y=Qd(v)):(f.x=o?s+=t(f,o):0,f.y=0,o=f)});var l=ev(i),u=nv(i),c=l.x-t(l,u)/2,d=u.x+t(u,l)/2;return i.eachAfter(r?function(f){f.x=(f.x-i.x)*e,f.y=(i.y-f.y)*n}:function(f){f.x=(f.x-c)/(d-c)*e,f.y=(1-(i.y?f.y/i.y:1))*n})}return a.separation=function(i){return arguments.length?(t=i,a):t},a.size=function(i){return arguments.length?(r=!1,e=+i[0],n=+i[1],a):r?null:[e,n]},a.nodeSize=function(i){return arguments.length?(r=!0,e=+i[0],n=+i[1],a):r?[e,n]:null},a}var av={depth:-1},ji={};function iv(t){return t.id}function ov(t){return t.parentId}function lv(){var t=iv,e=ov;function n(r){var a=Array.from(r),i=a.length,o,s,l,u,c,d,f,v=new Map;for(s=0;s<i;++s)o=a[s],c=a[s]=new Je(o),(d=t(o,s,r))!=null&&(d+="")&&(f=c.id=d,v.set(f,v.has(f)?ji:c)),(d=e(o,s,r))!=null&&(d+="")&&(c.parent=d);for(s=0;s<i;++s)if(c=a[s],d=c.parent){if(u=v.get(d),!u)throw new Error("missing: "+d);if(u===ji)throw new Error("ambiguous: "+d);u.children?u.children.push(c):u.children=[c],c.parent=u}else{if(l)throw new Error("multiple roots");l=c}if(!l)throw new Error("no root");if(l.parent=av,l.eachBefore(function(p){p.depth=p.parent.depth+1,--i}).eachBefore(Fi),l.parent=null,i>0)throw new Error("cycle");return l}return n.id=function(r){return arguments.length?(t=zn(r),n):t},n.parentId=function(r){return arguments.length?(e=zn(r),n):e},n}function sv(t,e){return t.parent===e.parent?1:2}function Mr(t){var e=t.children;return e?e[0]:t.t}function Tr(t){var e=t.children;return e?e[e.length-1]:t.t}function uv(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function cv(t){for(var e=0,n=0,r=t.children,a=r.length,i;--a>=0;)i=r[a],i.z+=e,i.m+=e,e+=i.s+(n+=i.c)}function fv(t,e,n){return t.a.parent===e.parent?t.a:n}function Bn(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Bn.prototype=Object.create(Je.prototype);function dv(t){for(var e=new Bn(t,0),n,r=[e],a,i,o,s;n=r.pop();)if(i=n._.children)for(n.children=new Array(s=i.length),o=s-1;o>=0;--o)r.push(a=n.children[o]=new Bn(i[o],o)),a.parent=n;return(e.parent=new Bn(null,0)).children=[e],e}function vv(){var t=sv,e=1,n=1,r=null;function a(u){var c=dv(u);if(c.eachAfter(i),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var d=u,f=u,v=u;u.eachBefore(function(F){F.x<d.x&&(d=F),F.x>f.x&&(f=F),F.depth>v.depth&&(v=F)});var p=d===f?1:t(d,f)/2,y=p-d.x,m=e/(f.x+p+y),x=n/(v.depth||1);u.eachBefore(function(F){F.x=(F.x+y)*m,F.y=F.depth*x})}return u}function i(u){var c=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(c){cv(u);var v=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+t(u._,f._),u.m=u.z-v):u.z=v}else f&&(u.z=f.z+t(u._,f._));u.parent.A=s(u,f,u.parent.A||d[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,d){if(c){for(var f=u,v=u,p=c,y=f.parent.children[0],m=f.m,x=v.m,F=p.m,w=y.m,S;p=Tr(p),f=Mr(f),p&&f;)y=Mr(y),v=Tr(v),v.a=u,S=p.z+F-f.z-m+t(p._,f._),S>0&&(uv(fv(p,u,d),u,S),m+=S,x+=S),F+=p.m,m+=f.m,w+=y.m,x+=v.m;p&&!Tr(v)&&(v.t=p,v.m+=F-x),f&&!Mr(y)&&(y.t=f,y.m+=m-w,d=u)}return d}function l(u){u.x*=e,u.y=u.depth*n}return a.separation=function(u){return arguments.length?(t=u,a):t},a.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],a):r?null:[e,n]},a.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],a):r?[e,n]:null},a}function Gn(t,e,n,r,a){for(var i=t.children,o,s=-1,l=i.length,u=t.value&&(a-n)/t.value;++s<l;)o=i[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}var Ji=(1+Math.sqrt(5))/2;function Ki(t,e,n,r,a,i){for(var o=[],s=e.children,l,u,c=0,d=0,f=s.length,v,p,y=e.value,m,x,F,w,S,_,O;c<f;){v=a-n,p=i-r;do m=s[d++].value;while(!m&&d<f);for(x=F=m,_=Math.max(p/v,v/p)/(y*t),O=m*m*_,S=Math.max(F/O,O/x);d<f;++d){if(m+=u=s[d].value,u<x&&(x=u),u>F&&(F=u),O=m*m*_,w=Math.max(F/O,O/x),w>S){m-=u;break}S=w}o.push(l={value:m,dice:v<p,children:s.slice(c,d)}),l.dice?cn(l,n,r,a,y?r+=p*m/y:i):Gn(l,n,r,y?n+=v*m/y:a,i),y-=m,c=d}return o}var Qi=function t(e){function n(r,a,i,o,s){Ki(e,r,a,i,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Ji);function to(){var t=Qi,e=!1,n=1,r=1,a=[0],i=Ne,o=Ne,s=Ne,l=Ne,u=Ne;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),a=[0],e&&f.eachBefore(Yi),f}function d(f){var v=a[f.depth],p=f.x0+v,y=f.y0+v,m=f.x1-v,x=f.y1-v;m<p&&(p=m=(p+m)/2),x<y&&(y=x=(y+x)/2),f.x0=p,f.y0=y,f.x1=m,f.y1=x,f.children&&(v=a[f.depth+1]=i(f)/2,p+=u(f)-v,y+=o(f)-v,m-=s(f)-v,x-=l(f)-v,m<p&&(p=m=(p+m)/2),x<y&&(y=x=(y+x)/2),t(f,p,y,m,x))}return c.round=function(f){return arguments.length?(e=!!f,c):e},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(t=zn(f),c):t},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(i=typeof f=="function"?f:$e(+f),c):i},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:$e(+f),c):o},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:$e(+f),c):s},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:$e(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:$e(+f),c):u},c}function hv(t,e,n,r,a){var i=t.children,o,s=i.length,l,u=new Array(s+1);for(u[0]=l=o=0;o<s;++o)u[o+1]=l+=i[o].value;c(0,s,t.value,e,n,r,a);function c(d,f,v,p,y,m,x){if(d>=f-1){var F=i[d];F.x0=p,F.y0=y,F.x1=m,F.y1=x;return}for(var w=u[d],S=v/2+w,_=d+1,O=f-1;_<O;){var W=_+O>>>1;u[W]<S?_=W+1:O=W}S-u[_-1]<u[_]-S&&d+1<_&&--_;var X=u[_]-w,ft=v-X;if(m-p>x-y){var et=v?(p*ft+m*X)/v:m;c(d,_,X,p,y,et,x),c(_,f,ft,et,y,m,x)}else{var Y=v?(y*ft+x*X)/v:x;c(d,_,X,p,y,m,Y),c(_,f,ft,p,Y,m,x)}}}function pv(t,e,n,r,a){(t.depth&1?Gn:cn)(t,e,n,r,a)}var gv=function t(e){function n(r,a,i,o,s){if((l=r._squarify)&&l.ratio===e)for(var l,u,c,d,f=-1,v,p=l.length,y=r.value;++f<p;){for(u=l[f],c=u.children,d=u.value=0,v=c.length;d<v;++d)u.value+=c[d].value;u.dice?cn(u,a,i,o,y?i+=(s-i)*u.value/y:s):Gn(u,a,i,y?a+=(o-a)*u.value/y:o,s),y-=u.value}else r._squarify=l=Ki(e,r,a,i,o,s),l.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Ji),yv={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value},ratio:.5*(1+Math.sqrt(5))};function xv(t,e){return t==="treemapSquarify"?tt[t].ratio(e):tt[t]}function eo(t,e){e=(0,h.f0)({},yv,e);var n=e.as;if(!(0,h.kJ)(n)||n.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var r;try{r=xr(e)}catch(u){console.warn(u)}var a=xv(e.tile,e.ratio),i=function(u){return to().tile(a).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(je(u).sum(function(c){return e.ignoreParentValue&&c.children?0:c[r]}).sort(e.sort))},o=i(t),s=n[0],l=n[1];return o.each(function(u){u[s]=[u.x0,u.x1,u.x1,u.x0],u[l]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(c){n.indexOf(c)===-1&&delete u[c]})}),mr(o)}function no(t){var e=t.data,n=t.colorField,r=t.rawFields,a=t.hierarchyConfig,i=a===void 0?{}:a,o=i.activeDepth,s={partition:$d,treemap:eo},l=t.seriesField,u=t.type||"partition",c=s[u](e,(0,g.pi)((0,g.pi)({field:l||"value"},(0,h.CE)(i,["activeDepth"])),{type:"hierarchy.".concat(u),as:["x","y"]})),d=[];return c.forEach(function(f){var v,p,y,m,x,F;if(f.depth===0||o>0&&f.depth>o)return null;for(var w=f.data.name,S=(0,g.pi)({},f);S.depth>1;)w="".concat((p=S.parent.data)===null||p===void 0?void 0:p.name," / ").concat(w),S=S.parent;var _=(0,g.pi)((0,g.pi)((0,g.pi)({},U(f.data,(0,g.ev)((0,g.ev)([],r||[],!0),[i.field],!1))),(v={},v[un]=w,v[Dr]=S.data.name,v)),f);l&&(_[l]=f.data[l]||((m=(y=f.parent)===null||y===void 0?void 0:y.data)===null||m===void 0?void 0:m[l])),n&&(_[n]=f.data[n]||((F=(x=f.parent)===null||x===void 0?void 0:x.data)===null||F===void 0?void 0:F[n])),_.ext=i,_[ln]={hierarchyConfig:i,colorField:n,rawFields:r},d.push(_)}),d}function mv(t){var e=t.chart,n=t.options,r=n.color,a=n.colorField,i=a===void 0?Dr:a,o=n.sunburstStyle,s=n.rawFields,l=s===void 0?[]:s,u=n.shape,c=no(n);e.data(c);var d;return o&&(d=function(f){return b({},{fillOpacity:Math.pow(.85,f.depth)},(0,h.mf)(o)?o(f):o)}),Dn(b({},t,{options:{xField:"x",yField:"y",seriesField:i,rawFields:(0,h.jj)((0,g.ev)((0,g.ev)([],Hd,!0),l,!0)),polygon:{color:r,style:d,shape:u}}})),t}function Fv(t){var e=t.chart;return e.axis(!1),t}function bv(t){var e=t.chart,n=t.options,r=n.label,a=Et(e,"polygon");if(!r)a.label(!1);else{var i=r.fields,o=i===void 0?["name"]:i,s=r.callback,l=(0,g._T)(r,["fields","callback"]);a.label({fields:o,callback:s,cfg:P(l)})}return t}function Sv(t){var e=t.chart,n=t.options,r=n.innerRadius,a=n.radius,i=n.reflect,o=e.coordinate({type:"polar",cfg:{innerRadius:r,radius:a}});return i&&o.reflect(i),t}function _v(t){var e,n=t.options,r=n.hierarchyConfig,a=n.meta;return N(qt({},(e={},e[Xi]=(0,h.U2)(a,(0,h.U2)(r,["field"],"value")),e)))(t)}function wv(t){var e=t.chart,n=t.options,r=n.tooltip;if(r===!1)e.tooltip(!1);else{var a=r;(0,h.U2)(r,"fields")||(a=b({},{customItems:function(i){return i.map(function(o){var s=(0,h.U2)(e.getOptions(),"scales"),l=(0,h.U2)(s,[un,"formatter"],function(c){return c}),u=(0,h.U2)(s,[Xi,"formatter"],function(c){return c});return(0,g.pi)((0,g.pi)({},o),{name:l(o.data[un]),value:u(o.data.value)})})}},a)),e.tooltip(a)}return t}function Av(t){var e=t.drilldown,n=t.interactions,r=n===void 0?[]:n;return e!=null&&e.enabled?b({},t,{interactions:(0,g.ev)((0,g.ev)([],r,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:no}}],!1)}):t}function Dv(t){var e=t.chart,n=t.options,r=n.drilldown;return zt({chart:e,options:Av(n)}),r!=null&&r.enabled&&(e.appendPadding=at(e.appendPadding,(0,h.U2)(r,["breadCrumb","position"]))),t}function Mv(t){return N(At,ue("sunburstStyle"),mv,Fv,_v,Ie,Sv,wv,bv,Dv,It,Wt())(t)}var vg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="sunburst",n}return e.getDefaultOptions=function(){return Xd},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Mv},e.SUNBURST_ANCESTOR_FIELD=Dr,e.SUNBURST_PATH_FIELD=un,e.NODE_ANCESTORS_FIELD=gr,e}(lt);function ro(t,e){if((0,h.kJ)(t))return t.find(function(n){return n.type===e})}function ao(t,e){var n=ro(t,e);return n&&n.enable!==!1}function Er(t){var e=t.interactions,n=t.drilldown;return(0,h.U2)(n,"enabled")||ao(e,"treemap-drill-down")}function Tv(t){var e=t.interactions["drill-down"];if(e){var n=e.context.actions.find(function(r){return r.name==="drill-down-action"});n.reset()}}function kr(t){var e=t.data,n=t.colorField,r=t.enableDrillDown,a=t.hierarchyConfig,i=eo(e,(0,g.pi)((0,g.pi)({},a),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),o=[];return i.forEach(function(s){if(s.depth===0||r&&s.depth!==1||!r&&s.children)return null;var l=s.ancestors().map(function(f){return{data:f.data,height:f.height,value:f.value}}),u=r&&(0,h.kJ)(e.path)?l.concat(e.path.slice(1)):l,c=Object.assign({},s.data,(0,g.pi)({x:s.x,y:s.y,depth:s.depth,value:s.value,path:u},s));if(!s.data[n]&&s.parent){var d=s.ancestors().find(function(f){return f.data[n]});c[n]=d==null?void 0:d.data[n]}else c[n]=s.data[n];c[ln]={hierarchyConfig:a,colorField:n,enableDrillDown:r},o.push(c)}),o}function Ev(t){var e=t.options,n=e.colorField;return b({options:{rawFields:["value"],tooltip:{fields:["name","value",n,"path"],formatter:function(r){return{name:r.name,value:r.value}}}}},t)}function kv(t){var e=t.chart,n=t.options,r=n.color,a=n.colorField,i=n.rectStyle,o=n.hierarchyConfig,s=n.rawFields,l=kr({data:n.data,colorField:n.colorField,enableDrillDown:Er(n),hierarchyConfig:o});return e.data(l),Dn(b({},t,{options:{xField:"x",yField:"y",seriesField:a,rawFields:s,polygon:{color:r,style:i}}})),e.coordinate().reflect("y"),t}function Iv(t){var e=t.chart;return e.axis(!1),t}function Ov(t){var e=t.drilldown,n=t.interactions,r=n===void 0?[]:n,a=Er(t);return a?b({},t,{interactions:(0,g.ev)((0,g.ev)([],r,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:kr}}],!1)}):t}function Pv(t){var e=t.chart,n=t.options,r=n.interactions,a=n.drilldown;zt({chart:e,options:Ov(n)});var i=ro(r,"view-zoom");i&&(i.enable!==!1?e.getCanvas().on("mousewheel",function(s){s.preventDefault()}):e.getCanvas().off("mousewheel"));var o=Er(n);return o&&(e.appendPadding=at(e.appendPadding,(0,h.U2)(a,["breadCrumb","position"]))),t}function Cv(t){return N(Ev,At,ue("rectStyle"),kv,Iv,Ie,Yt,Pv,It,Wt())(t)}var Rv={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},hg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="treemap",n}return e.getDefaultOptions=function(){return Rv},e.prototype.changeData=function(n){var r=this.options,a=r.colorField,i=r.interactions,o=r.hierarchyConfig;this.updateOption({data:n});var s=kr({data:n,colorField:a,enableDrillDown:ao(i,"treemap-drill-down"),hierarchyConfig:o});this.chart.changeData(s),Tv(this.chart)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Cv},e}(lt),Ae="id",Ir="path",Lv={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(t){return{name:t.id,value:t.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function Zn(t){if(t){var e=t.geometries[0].elements;e.forEach(function(n){n.shape.toFront()})}}var zv=(0,D.gj)("element-active"),Nv=function(t){(0,g.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){Zn(this.context.view)},e.prototype.active=function(){t.prototype.active.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(zv),Uv=(0,D.gj)("element-highlight"),Vv=function(t){(0,g.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){Zn(this.context.view)},e.prototype.highlight=function(){t.prototype.highlight.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.clear=function(){t.prototype.clear.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(Uv),Wv=(0,D.gj)("element-selected"),Bv=(0,D.gj)("element-single-selected"),Gv=function(t){(0,g.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){Zn(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(Wv),Zv=function(t){(0,g.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){Zn(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(Bv);(0,D.zl)("venn-element-active",Nv),(0,D.zl)("venn-element-highlight",Vv),(0,D.zl)("venn-element-selected",Gv),(0,D.zl)("venn-element-single-selected",Zv),(0,D.w_)("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),(0,D.w_)("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),(0,D.w_)("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),(0,D.w_)("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),(0,D.w_)("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),(0,D.w_)("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var qv=function(t){(0,g.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getLabelPoint=function(n,r,a){var i=n.data,o=i.x,s=i.y,l=n.customLabelInfo,u=l.offsetX,c=l.offsetY;return{content:n.content[a],x:o+u,y:s+c}},e}(D.Lc);(0,D.gp)("venn",qv);var Hv=L(12611),Xv=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Yv=/[^\s\,]+/gi;function pg(t){var e=t||[];if(isArray(e))return e;if(isString(e))return e=e.match(Xv),each(e,function(n,r){if(n=n.match(Yv),n[0].length>1){var a=n[0].charAt(0);n.splice(1,0,n[0].substr(1)),n[0]=a}each(n,function(i,o){isNaN(i)||(n[o]=+i)}),e[r]=n}),e}var gg=null;function $v(t,e,n){var r=null,a=n;return e<a&&(a=e,r="add"),t<a&&(a=t,r="del"),{type:r,min:a}}var jv=function(t,e){var n=t.length,r=e.length,a,i,o=0;if(n===0||r===0)return null;for(var s=[],l=0;l<=n;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=r;u++)s[0][u]={min:u};for(var l=1;l<=n;l++){a=t[l-1];for(var u=1;u<=r;u++){i=e[u-1],isEqual(a,i)?o=0:o=1;var c=s[l-1][u].min+1,d=s[l][u-1].min+1,f=s[l-1][u-1].min+o;s[l][u]=$v(c,d,f)}}return s};function yg(t,e){var n=jv(t,e),r=t.length,a=e.length,i=[],o=1,s=1;if(n[r][a]!==r){for(var l=1;l<=r;l++){var u=n[l][l].min;s=l;for(var c=o;c<=a;c++)n[l][c].min<u&&(u=n[l][c].min,s=c);o=s,n[l][o].type&&i.push({index:l-1,type:n[l][o].type})}for(var l=i.length-1;l>=0;l--)o=i[l].index,i[l].type==="add"?t.splice(o,0,[].concat(t[o])):t.splice(o,1)}if(r=t.length,r<a)for(var l=0;l<a-r;l++)t[r-1][0]==="z"||t[r-1][0]==="Z"?t.splice(r-2,0,t[r-2]):t.push(t[r-1]);return t}var fn=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Jv=new RegExp("([a-z])["+fn+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+fn+"]*,?["+fn+"]*)+)","ig"),Kv=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+fn+"]*,?["+fn+"]*","ig");function Qv(t){if(!t)return null;if((0,Hv.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(Jv,function(r,a,i){var o=[],s=a.toLowerCase();if(i.replace(Kv,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(n.push([a].concat(o.splice(0,2))),s="l",a=a==="m"?"l":"L"),s==="o"&&o.length===1&&n.push([a,o[0]]),s==="r")n.push([a].concat(o));else for(;o.length>=e[s]&&(n.push([a].concat(o.splice(0,e[s]))),!!e[s]););return""}),n}var th=/[a-z]/;function io(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function xg(t){var e=parsePathString(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var a=e[r][0];if(th.test(a)||["V","H","T","S"].indexOf(a)>=0){n=!0;break}}if(!n)return e;var i=[],o=0,s=0,l=0,u=0,c=0,d,f,v=e[0];(v[0]==="M"||v[0]==="m")&&(o=+v[1],s=+v[2],l=o,u=s,c++,i[0]=["M",o,s]);for(var r=c,p=e.length;r<p;r++){var y=e[r],m=i[r-1],x=[],a=y[0],F=a.toUpperCase();if(a!==F)switch(x[0]=F,F){case"A":x[1]=y[1],x[2]=y[2],x[3]=y[3],x[4]=y[4],x[5]=y[5],x[6]=+y[6]+o,x[7]=+y[7]+s;break;case"V":x[1]=+y[1]+s;break;case"H":x[1]=+y[1]+o;break;case"M":l=+y[1]+o,u=+y[2]+s,x[1]=l,x[2]=u;break;default:for(var w=1,S=y.length;w<S;w++)x[w]=+y[w]+(w%2?o:s)}else x=e[r];switch(F){case"Z":o=+l,s=+u;break;case"H":o=x[1],x=["L",o,s];break;case"V":s=x[1],x=["L",o,s];break;case"T":o=x[1],s=x[2];var _=io([m[1],m[2]],[m[3],m[4]]);x=["Q",_[0],_[1],o,s];break;case"S":o=x[x.length-2],s=x[x.length-1];var O=m.length,W=io([m[O-4],m[O-3]],[m[O-2],m[O-1]]);x=["C",W[0],W[1],x[1],x[2],o,s];break;case"M":l=x[x.length-2],u=x[x.length-1];break;default:o=x[x.length-2],s=x[x.length-1]}i.push(x)}return i}var dn=Math.PI*2,Or=function(t,e,n,r,a,i,o){var s=t.x,l=t.y;s*=e,l*=n;var u=r*s-a*l,c=a*s+r*l;return{x:u+i,y:c+o}},eh=function(t,e){var n=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),r=Math.cos(t),a=Math.sin(t),i=Math.cos(t+e),o=Math.sin(t+e);return[{x:r-a*n,y:a+r*n},{x:i+o*n,y:o-i*n},{x:i,y:o}]},oo=function(t,e,n,r){var a=t*r-e*n<0?-1:1,i=t*n+e*r;return i>1&&(i=1),i<-1&&(i=-1),a*Math.acos(i)},nh=function(t,e,n,r,a,i,o,s,l,u,c,d){var f=Math.pow(a,2),v=Math.pow(i,2),p=Math.pow(c,2),y=Math.pow(d,2),m=f*v-f*y-v*p;m<0&&(m=0),m/=f*y+v*p,m=Math.sqrt(m)*(o===s?-1:1);var x=m*a/i*d,F=m*-i/a*c,w=u*x-l*F+(t+n)/2,S=l*x+u*F+(e+r)/2,_=(c-x)/a,O=(d-F)/i,W=(-c-x)/a,X=(-d-F)/i,ft=oo(1,0,_,O),et=oo(_,O,W,X);return s===0&&et>0&&(et-=dn),s===1&&et<0&&(et+=dn),[w,S,ft,et]},rh=function(t){var e=t.px,n=t.py,r=t.cx,a=t.cy,i=t.rx,o=t.ry,s=t.xAxisRotation,l=s===void 0?0:s,u=t.largeArcFlag,c=u===void 0?0:u,d=t.sweepFlag,f=d===void 0?0:d,v=[];if(i===0||o===0)return[{x1:0,y1:0,x2:0,y2:0,x:r,y:a}];var p=Math.sin(l*dn/360),y=Math.cos(l*dn/360),m=y*(e-r)/2+p*(n-a)/2,x=-p*(e-r)/2+y*(n-a)/2;if(m===0&&x===0)return[{x1:0,y1:0,x2:0,y2:0,x:r,y:a}];i=Math.abs(i),o=Math.abs(o);var F=Math.pow(m,2)/Math.pow(i,2)+Math.pow(x,2)/Math.pow(o,2);F>1&&(i*=Math.sqrt(F),o*=Math.sqrt(F));var w=nh(e,n,r,a,i,o,c,f,p,y,m,x),S=w[0],_=w[1],O=w[2],W=w[3],X=Math.abs(W)/(dn/4);Math.abs(1-X)<1e-7&&(X=1);var ft=Math.max(Math.ceil(X),1);W/=ft;for(var et=0;et<ft;et++)v.push(eh(O,W)),O+=W;return v.map(function(Y){var _t=Or(Y[0],i,o,y,p,S,_),Nt=_t.x,Rt=_t.y,$t=Or(Y[1],i,o,y,p,S,_),k=$t.x,G=$t.y,Q=Or(Y[2],i,o,y,p,S,_),rt=Q.x,$=Q.y;return{x1:Nt,y1:Rt,x2:k,y2:G,x:rt,y:$}})};function mg(t,e,n,r,a,i,o,s,l){var u=rh({px:t,py:e,cx:s,cy:l,rx:n,ry:r,xAxisRotation:a,largeArcFlag:i,sweepFlag:o});return u.reduce(function(c,d){var f=d.x1,v=d.y1,p=d.x2,y=d.y2,m=d.x,x=d.y;return c.push(f,v,p,y,m,x),c},[])}function Fg(t,e){"TQ".indexOf(t[0])<0&&(e.qx=null,e.qy=null);var n=t.slice(1),r=n[0],a=n[1];switch(t[0]){case"M":return e.x=r,e.y=a,t;case"A":return["C"].concat(arcToCubic.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"Q":return e.qx=r,e.qy=a,["C"].concat(quadToCubic.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"L":return["C"].concat(lineToCubic(e.x1,e.y1,t[1],t[2]));case"H":return["C"].concat(lineToCubic(e.x1,e.y1,t[1],e.y1));case"V":return["C"].concat(lineToCubic(e.x1,e.y1,e.x1,t[1]));case"Z":return["C"].concat(lineToCubic(e.x1,e.y1,e.x,e.y));default:}return t}function bg(t,e){e===void 0&&(e=!1);for(var n=path2Absolute(t),r={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},a=[],i="",o=n.length,s,l,u=[],c=0;c<o;c+=1)n[c]&&(i=n[c][0]),a[c]=i,n[c]=segmentToCubic(n[c],r),ah(n,a,c),o=n.length,i==="Z"&&u.push(c),s=n[c],l=s.length,r.x1=+s[l-2],r.y1=+s[l-1],r.x2=+s[l-4]||r.x1,r.y2=+s[l-3]||r.y1;return e?[n,u]:n}function ah(t,e,n){if(t[n].length>7){t[n].shift();for(var r=t[n],a=n;r.length;)e[n]="A",t.splice(a+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}var lo=function(t,e,n,r,a){var i=-3*e+9*n-9*r+3*a,o=t*i+6*e-12*n+6*r;return t*o-3*e+3*n},so=function(t,e,n,r,a,i,o,s,l){l===null&&(l=1),l=l>1?1:l<0?0:l;for(var u=l/2,c=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],v=0,p=0;p<c;p++){var y=u*d[p]+u,m=lo(y,t,n,a,o),x=lo(y,e,r,i,s),F=m*m+x*x;v+=f[p]*Math.sqrt(F)}return u*v},ih=function(t,e,n,r,a,i,o,s){for(var l=[],u=[[],[]],c,d,f,v,p=0;p<2;++p){if(p===0?(d=6*t-12*n+6*a,c=-3*t+9*n-9*a+3*o,f=3*n-3*t):(d=6*e-12*r+6*i,c=-3*e+9*r-9*i+3*s,f=3*r-3*e),Math.abs(c)<1e-12){if(Math.abs(d)<1e-12)continue;v=-f/d,v>0&&v<1&&l.push(v);continue}var y=d*d-4*f*c,m=Math.sqrt(y);if(!(y<0)){var x=(-d+m)/(2*c);x>0&&x<1&&l.push(x);var F=(-d-m)/(2*c);F>0&&F<1&&l.push(F)}}for(var w=l.length,S=w,_;w--;)v=l[w],_=1-v,u[0][w]=_*_*_*t+3*_*_*v*n+3*_*v*v*a+v*v*v*o,u[1][w]=_*_*_*e+3*_*_*v*r+3*_*v*v*i+v*v*v*s;return u[0][S]=t,u[1][S]=e,u[0][S+1]=o,u[1][S+1]=s,u[0].length=u[1].length=S+2,{min:{x:Math.min.apply(0,u[0]),y:Math.min.apply(0,u[1])},max:{x:Math.max.apply(0,u[0]),y:Math.max.apply(0,u[1])}}},oh=function(t,e,n,r,a,i,o,s){if(!(Math.max(t,n)<Math.min(a,o)||Math.min(t,n)>Math.max(a,o)||Math.max(e,r)<Math.min(i,s)||Math.min(e,r)>Math.max(i,s))){var l=(t*r-e*n)*(a-o)-(t-n)*(a*s-i*o),u=(t*r-e*n)*(i-s)-(e-r)*(a*s-i*o),c=(t-n)*(i-s)-(e-r)*(a-o);if(c){var d=l/c,f=u/c,v=+d.toFixed(2),p=+f.toFixed(2);if(!(v<+Math.min(t,n).toFixed(2)||v>+Math.max(t,n).toFixed(2)||v<+Math.min(a,o).toFixed(2)||v>+Math.max(a,o).toFixed(2)||p<+Math.min(e,r).toFixed(2)||p>+Math.max(e,r).toFixed(2)||p<+Math.min(i,s).toFixed(2)||p>+Math.max(i,s).toFixed(2)))return{x:d,y:f}}}},Ee=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},Pr=function(t,e,n,r){return t===null&&(t=e=n=r=0),e===null&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:rectPath(t,e,n,r),vb:[t,e,n,r].join(" ")}},lh=function(t,e){return t=Pr(t),e=Pr(e),Ee(e,t.x,t.y)||Ee(e,t.x2,t.y)||Ee(e,t.x,t.y2)||Ee(e,t.x2,t.y2)||Ee(t,e.x,e.y)||Ee(t,e.x2,e.y)||Ee(t,e.x,e.y2)||Ee(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},uo=function(t,e,n,r,a,i,o,s){isArray(t)||(t=[t,e,n,r,a,i,o,s]);var l=ih.apply(null,t);return Pr(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},co=function(t,e,n,r,a,i,o,s,l){var u=1-l,c=Math.pow(u,3),d=Math.pow(u,2),f=l*l,v=f*l,p=c*t+d*3*l*n+u*3*l*l*a+v*o,y=c*e+d*3*l*r+u*3*l*l*i+v*s,m=t+2*l*(n-t)+f*(a-2*n+t),x=e+2*l*(r-e)+f*(i-2*r+e),F=n+2*l*(a-n)+f*(o-2*a+n),w=r+2*l*(i-r)+f*(s-2*i+r),S=u*t+l*n,_=u*e+l*r,O=u*a+l*o,W=u*i+l*s,X=90-Math.atan2(m-F,x-w)*180/Math.PI;return{x:p,y,m:{x:m,y:x},n:{x:F,y:w},start:{x:S,y:_},end:{x:O,y:W},alpha:X}},sh=function(t,e,n){var r=uo(t),a=uo(e);if(!lh(r,a))return n?0:[];for(var i=so.apply(0,t),o=so.apply(0,e),s=~~(i/8),l=~~(o/8),u=[],c=[],d={},f=n?0:[],v=0;v<s+1;v++){var p=co.apply(0,t.concat(v/s));u.push({x:p.x,y:p.y,t:v/s})}for(var v=0;v<l+1;v++){var p=co.apply(0,e.concat(v/l));c.push({x:p.x,y:p.y,t:v/l})}for(var v=0;v<s;v++)for(var y=0;y<l;y++){var m=u[v],x=u[v+1],F=c[y],w=c[y+1],S=Math.abs(x.x-m.x)<.001?"y":"x",_=Math.abs(w.x-F.x)<.001?"y":"x",O=oh(m.x,m.y,x.x,x.y,F.x,F.y,w.x,w.y);if(O){if(d[O.x.toFixed(4)]===O.y.toFixed(4))continue;d[O.x.toFixed(4)]=O.y.toFixed(4);var W=m.t+Math.abs((O[S]-m[S])/(x[S]-m[S]))*(x.t-m.t),X=F.t+Math.abs((O[_]-F[_])/(w[_]-F[_]))*(w.t-F.t);W>=0&&W<=1&&X>=0&&X<=1&&(n?f++:f.push({x:O.x,y:O.y,t1:W,t2:X}))}}return f},uh=function(t,e,n){t=path2Curve(t),e=path2Curve(e);for(var r,a,i,o,s,l,u,c,d,f,v=n?0:[],p=0,y=t.length;p<y;p++){var m=t[p];if(m[0]==="M")r=s=m[1],a=l=m[2];else{m[0]==="C"?(d=[r,a].concat(m.slice(1)),r=d[6],a=d[7]):(d=[r,a,r,a,s,l,s,l],r=s,a=l);for(var x=0,F=e.length;x<F;x++){var w=e[x];if(w[0]==="M")i=u=w[1],o=c=w[2];else{w[0]==="C"?(f=[i,o].concat(w.slice(1)),i=f[6],o=f[7]):(f=[i,o,i,o,u,c,u,c],i=u,o=c);var S=sh(d,f,n);if(n)v+=S;else{for(var _=0,O=S.length;_<O;_++)S[_].segment1=p,S[_].segment2=x,S[_].bez1=d,S[_].bez2=f;v=v.concat(S)}}}}}return v};function Sg(t,e){return uh(t,e)}function fo(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function _g(t){t=parsePath(t);for(var e=[],n=null,r=null,a=null,i=0,o=t.length,s=0;s<o;s++){var l=t[s];r=t[s+1];var u=l[0],c={command:u,prePoint:n,params:l,startTangent:null,endTangent:null};switch(u){case"M":a=[l[1],l[2]],i=s;break;case"A":var d=getArcParams(n,l);c.arcParams=d;break;default:break}if(u==="Z")n=a,r=t[i+1];else{var f=l.length;n=[l[f-2],l[f-1]]}r&&r[0]==="Z"&&(r=t[i],e[i]&&(e[i].prePoint=n)),c.currentPoint=n,e[i]&&isSamePoint(n,e[i].currentPoint)&&(e[i].prePoint=c.prePoint);var v=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=v;var p=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]];else if(u==="Q"){var y=[l[1],l[2]];c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[n[0]-y[0],n[1]-y[1]]}else if(u==="T"){var m=e[s-1],y=fo(m.currentPoint,p);m.command==="Q"?(c.command="Q",c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[n[0]-y[0],n[1]-y[1]]):(c.command="TL",c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]])}else if(u==="C"){var x=[l[1],l[2]],F=[l[3],l[4]];c.startTangent=[p[0]-x[0],p[1]-x[1]],c.endTangent=[n[0]-F[0],n[1]-F[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[x[0]-F[0],x[1]-F[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[F[0]-x[0],F[1]-x[1]])}else if(u==="S"){var m=e[s-1],x=fo(m.currentPoint,p),F=[l[1],l[2]];m.command==="C"?(c.command="C",c.startTangent=[p[0]-x[0],p[1]-x[1]],c.endTangent=[n[0]-F[0],n[1]-F[1]]):(c.command="SQ",c.startTangent=[p[0]-F[0],p[1]-F[1]],c.endTangent=[n[0]-F[0],n[1]-F[1]])}else if(u==="A"){var w=.001,S=c.arcParams||{},_=S.cx,O=_===void 0?0:_,W=S.cy,X=W===void 0?0:W,ft=S.rx,et=ft===void 0?0:ft,Y=S.ry,_t=Y===void 0?0:Y,Nt=S.sweepFlag,Rt=Nt===void 0?0:Nt,$t=S.startAngle,k=$t===void 0?0:$t,G=S.endAngle,Q=G===void 0?0:G;Rt===0&&(w*=-1);var rt=et*Math.cos(k-w)+O,$=_t*Math.sin(k-w)+X;c.startTangent=[rt-a[0],$-a[1]];var it=et*Math.cos(k+Q+w)+O,Ft=_t*Math.sin(k+Q-w)+X;c.endTangent=[p[0]-it,p[1]-Ft]}e.push(c)}return e}function vo(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var a=t[r],i=t[r+1];e.push({from:{x:a[0],y:a[1]},to:{x:i[0],y:i[1]}})}if(e.length>1){var o=t[0],s=t[n-1];e.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return e}function ch(t,e){var n=!1;return each(t,function(r){if(getLineIntersect(r.from,r.to,e.from,e.to))return n=!0,!1}),n}function ho(t){var e=t.map(function(r){return r[0]}),n=t.map(function(r){return r[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function fh(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function wg(t,e){if(t.length<2||e.length<2)return!1;var n=ho(t),r=ho(e);if(!fh(n,r))return!1;var a=!1;if(each(e,function(l){if(isPointInPolygon(t,l[0],l[1]))return a=!0,!1}),a||(each(t,function(l){if(isPointInPolygon(e,l[0],l[1]))return a=!0,!1}),a))return!0;var i=vo(t),o=vo(e),s=!1;return each(o,function(l){if(ch(i,l))return s=!0,!1}),s}function dh(t){return b({},t.defaultStyle,{fill:t.color},t.style)}(0,D.Fj)("schema","venn",{draw:function(t,e){var n=t.data,r=Qv(n[Ir]),a=dh(t),i=e.addGroup({name:"venn-shape"});i.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},a),{path:r}),name:"venn-path"});var o=t.customInfo,s=o.offsetX,l=o.offsetY,u=D.Zr.transform(null,[["t",s,l]]);return i.setMatrix(u),i},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{lineWidth:0,stroke:e,fill:e,r:4}}}});var Cr=L(80052),vh=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}},po={normal:function(t){return t},multiply:function(t,e){return t*e/255},screen:function(t,e){return 255*(1-(1-t/255)*(1-e/255))},overlay:function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},darken:function(t,e){return t>e?e:t},lighten:function(t,e){return t>e?t:e},dodge:function(t,e){return t===255?255:(t=255*(e/255)/(1-t/255),t>255?255:t)},burn:function(t,e){return e===255?255:t===0?0:255*(1-Math.min(1,(1-e/255)/(t/255)))}},hh=function(t){if(!po[t])throw new Error("unknown blend mode "+t);return po[t]};function ph(t,e,n){n===void 0&&(n="normal");var r=vh(hh(n))(qn(t),qn(e)),a=qn(t),i=a[0],o=a[1],s=a[2],l=a[3],u=qn(e),c=u[0],d=u[1],f=u[2],v=u[3],p=Number((l+v*(1-l)).toFixed(2)),y=Math.round((l*(1-v)*(i/255)+l*v*(r[0]/255)+(1-l)*v*(c/255))/p*255),m=Math.round((l*(1-v)*(o/255)+l*v*(r[1]/255)+(1-l)*v*(d/255))/p*255),x=Math.round((l*(1-v)*(s/255)+l*v*(r[2]/255)+(1-l)*v*(f/255))/p*255);return"rgba(".concat(y,", ").concat(m,", ").concat(x,", ").concat(p,")")}function qn(t){var e=t.replace("/s+/g",""),n;return typeof e=="string"&&!e.startsWith("rgba")&&!e.startsWith("#")?n=Cr.Z.rgb2arr(Cr.Z.toRGB(e)).concat([1]):(e.startsWith("rgba")&&(n=e.replace("rgba(","").replace(")","").split(",")),e.startsWith("#")&&(n=Cr.Z.rgb2arr(e).concat([1])),n.map(function(r,a){return a===3?Number(r):r|0}))}var me=L(41995),go=1e-10;function Rr(t,e){var n=yh(t),r=n.filter(function(W){return gh(W,t)}),a=0,i=0,o,s=[];if(r.length>1){var l=mo(r);for(o=0;o<r.length;++o){var u=r[o];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}r.sort(function(W,X){return X.angle-W.angle});var c=r[r.length-1];for(o=0;o<r.length;++o){var d=r[o];i+=(c.x+d.x)*(d.y-c.y);for(var f={x:(d.x+c.x)/2,y:(d.y+c.y)/2},v=null,p=0;p<d.parentIndex.length;++p)if(c.parentIndex.indexOf(d.parentIndex[p])>-1){var y=t[d.parentIndex[p]],m=Math.atan2(d.x-y.x,d.y-y.y),x=Math.atan2(c.x-y.x,c.y-y.y),F=x-m;F<0&&(F+=2*Math.PI);var w=x-F/2,S=ge(f,{x:y.x+y.radius*Math.sin(w),y:y.y+y.radius*Math.cos(w)});S>y.radius*2&&(S=y.radius*2),(v===null||v.width>S)&&(v={circle:y,width:S,p1:d,p2:c})}v!==null&&(s.push(v),a+=Lr(v.circle.radius,v.width),c=d)}}else{var _=t[0];for(o=1;o<t.length;++o)t[o].radius<_.radius&&(_=t[o]);var O=!1;for(o=0;o<t.length;++o)if(ge(t[o],_)>Math.abs(_.radius-t[o].radius)){O=!0;break}O?a=i=0:(a=_.radius*_.radius*Math.PI,s.push({circle:_,p1:{x:_.x,y:_.y+_.radius},p2:{x:_.x-go,y:_.y+_.radius},width:_.radius*2}))}return i/=2,e&&(e.area=a+i,e.arcArea=a,e.polygonArea=i,e.arcs=s,e.innerPoints=r,e.intersectionPoints=n),a+i}function gh(t,e){for(var n=0;n<e.length;++n)if(ge(t,e[n])>e[n].radius+go)return!1;return!0}function yh(t){for(var e=[],n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)for(var a=xo(t[n],t[r]),i=0;i<a.length;++i){var o=a[i];o.parentIndex=[n,r],e.push(o)}return e}function Lr(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function ge(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function yo(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var r=t-(n*n-e*e+t*t)/(2*n),a=e-(n*n-t*t+e*e)/(2*n);return Lr(t,r)+Lr(e,a)}function xo(t,e){var n=ge(t,e),r=t.radius,a=e.radius;if(n>=r+a||n<=Math.abs(r-a))return[];var i=(r*r-a*a+n*n)/(2*n),o=Math.sqrt(r*r-i*i),s=t.x+i*(e.x-t.x)/n,l=t.y+i*(e.y-t.y)/n,u=-(e.y-t.y)*(o/n),c=-(e.x-t.x)*(o/n);return[{x:s+u,y:l-c},{x:s-u,y:l+c}]}function mo(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function zr(t,e,n){var r=e[0].radius-ge(e[0],t),a,i;for(a=1;a<e.length;++a)i=e[a].radius-ge(e[a],t),i<=r&&(r=i);for(a=0;a<n.length;++a)i=ge(n[a],t)-n[a].radius,i<=r&&(r=i);return r}function Fo(t,e){var n=[],r;for(r=0;r<t.length;++r){var a=t[r];n.push({x:a.x,y:a.y}),n.push({x:a.x+a.radius/2,y:a.y}),n.push({x:a.x-a.radius/2,y:a.y}),n.push({x:a.x,y:a.y+a.radius/2}),n.push({x:a.x,y:a.y-a.radius/2})}var i=n[0],o=zr(n[0],t,e);for(r=1;r<n.length;++r){var s=zr(n[r],t,e);s>=o&&(i=n[r],o=s)}var l=(0,me.nelderMead)(function(f){return-1*zr({x:f[0],y:f[1]},t,e)},[i.x,i.y],{maxIterations:500,minErrorDelta:1e-10}).x,u={x:l[0],y:l[1]},c=!0;for(r=0;r<t.length;++r)if(ge(u,t[r])>t[r].radius){c=!1;break}for(r=0;r<e.length;++r)if(ge(u,e[r])<e[r].radius){c=!1;break}if(!c)if(t.length==1)u={x:t[0].x,y:t[0].y};else{var d={};Rr(t,d),d.arcs.length===0?u={x:0,y:-1e3,disjoint:!0}:d.arcs.length==1?u={x:d.arcs[0].circle.x,y:d.arcs[0].circle.y}:e.length?u=Fo(t,[]):u=mo(d.arcs.map(function(f){return f.p1}))}return u}function xh(t){var e={},n=[];for(var r in t)n.push(r),e[r]=[];for(var a=0;a<n.length;a++)for(var i=t[n[a]],o=a+1;o<n.length;++o){var s=t[n[o]],l=ge(i,s);l+s.radius<=i.radius+1e-10?e[n[o]].push(n[a]):l+i.radius<=s.radius+1e-10&&e[n[a]].push(n[o])}return e}function mh(t,e){for(var n={},r=xh(t),a=0;a<e.length;++a){for(var i=e[a].sets,o={},s={},l=0;l<i.length;++l){o[i[l]]=!0;for(var u=r[i[l]],c=0;c<u.length;++c)s[u[c]]=!0}var d=[],f=[];for(var v in t)v in o?d.push(t[v]):v in s||f.push(t[v]);var p=Fo(d,f);n[i]=p,p.disjoint&&e[a].size>0&&console.log("WARNING: area "+i+" not represented on screen")}return n}function Fh(t,e,n){var r=[],a=t-n,i=e;return r.push("M",a,i),r.push("A",n,n,0,1,0,a+2*n,i),r.push("A",n,n,0,1,0,a,i),r.join(" ")}function Ag(t){var e=t.split(" ");return{x:parseFloat(e[1]),y:parseFloat(e[2]),radius:-parseFloat(e[4])}}function bh(t){var e={};Rr(t,e);var n=e.arcs;if(n.length===0)return"M 0 0";if(n.length==1){var r=n[0].circle;return Fh(r.x,r.y,r.radius)}else{for(var a=[`
M`,n[0].p2.x,n[0].p2.y],i=0;i<n.length;++i){var o=n[i],s=o.circle.radius,l=o.width>s;a.push(`
A`,s,s,0,l?1:0,1,o.p1.x,o.p1.y)}return a.join(" ")}}function Sh(t,e){e=e||{},e.maxIterations=e.maxIterations||500;var n=e.initialLayout||Dh,r=e.lossFunction||Ur;t=_h(t);var a=n(t,e),i=[],o=[],s;for(s in a)a.hasOwnProperty(s)&&(i.push(a[s].x),i.push(a[s].y),o.push(s));for(var l=(0,me.nelderMead)(function(d){for(var f={},v=0;v<o.length;++v){var p=o[v];f[p]={x:d[2*v],y:d[2*v+1],radius:a[p].radius}}return r(f,t)},i,e),u=l.x,c=0;c<o.length;++c)s=o[c],a[s].x=u[2*c],a[s].y=u[2*c+1];return a}var bo=1e-10;function Nr(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+bo?Math.abs(t-e):(0,me.bisect)(function(r){return yo(t,e,r)-n},0,t+e)}function _h(t){t=t.slice();var e=[],n={},r,a,i,o;for(r=0;r<t.length;++r){var s=t[r];s.sets.length==1?e.push(s.sets[0]):s.sets.length==2&&(i=s.sets[0],o=s.sets[1],n[[i,o]]=!0,n[[o,i]]=!0)}for(e.sort(function(l,u){return l>u?1:-1}),r=0;r<e.length;++r)for(i=e[r],a=r+1;a<e.length;++a)o=e[a],[i,o]in n||t.push({sets:[i,o],size:0});return t}function wh(t,e,n){var r=(0,me.zerosM)(e.length,e.length),a=(0,me.zerosM)(e.length,e.length);return t.filter(function(i){return i.sets.length==2}).map(function(i){var o=n[i.sets[0]],s=n[i.sets[1]],l=Math.sqrt(e[o].size/Math.PI),u=Math.sqrt(e[s].size/Math.PI),c=Nr(l,u,i.size);r[o][s]=r[s][o]=c;var d=0;i.size+1e-10>=Math.min(e[o].size,e[s].size)?d=1:i.size<=1e-10&&(d=-1),a[o][s]=a[s][o]=d}),{distances:r,constraints:a}}function Ah(t,e,n,r){var a=0,i;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<n.length;++i)for(var o=t[2*i],s=t[2*i+1],l=i+1;l<n.length;++l){var u=t[2*l],c=t[2*l+1],d=n[i][l],f=r[i][l],v=(u-o)*(u-o)+(c-s)*(c-s),p=Math.sqrt(v),y=v-d*d;f>0&&p<=d||f<0&&p>=d||(a+=2*y*y,e[2*i]+=4*y*(o-u),e[2*i+1]+=4*y*(s-c),e[2*l]+=4*y*(u-o),e[2*l+1]+=4*y*(c-s))}return a}function Dh(t,e){var n=Th(t,e),r=e.lossFunction||Ur;if(t.length>=8){var a=Mh(t,e),i=r(a,t),o=r(n,t);i+1e-8<o&&(n=a)}return n}function Mh(t,e){e=e||{};var n=e.restarts||10,r=[],a={},i;for(i=0;i<t.length;++i){var o=t[i];o.sets.length==1&&(a[o.sets[0]]=r.length,r.push(o))}var s=wh(t,r,a),l=s.distances,u=s.constraints,c=(0,me.norm2)(l.map(me.norm2))/l.length;l=l.map(function(F){return F.map(function(w){return w/c})});var d=function(F,w){return Ah(F,w,l,u)},f,v;for(i=0;i<n;++i){var p=(0,me.zeros)(l.length*2).map(Math.random);v=(0,me.conjugateGradient)(d,p,e),(!f||v.fx<f.fx)&&(f=v)}var y=f.x,m={};for(i=0;i<r.length;++i){var x=r[i];m[x.sets[0]]={x:y[2*i]*c,y:y[2*i+1]*c,radius:Math.sqrt(x.size/Math.PI)}}if(e.history)for(i=0;i<e.history.length;++i)(0,me.scale)(e.history[i].x,c);return m}function Th(t,e){for(var n=e&&e.lossFunction?e.lossFunction:Ur,r={},a={},i,o=0;o<t.length;++o){var s=t[o];s.sets.length==1&&(i=s.sets[0],r[i]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:s.size,radius:Math.sqrt(s.size/Math.PI)},a[i]=[])}t=t.filter(function(k){return k.sets.length==2});for(var o=0;o<t.length;++o){var l=t[o],u=l.hasOwnProperty("weight")?l.weight:1,c=l.sets[0],d=l.sets[1];l.size+bo>=Math.min(r[c].size,r[d].size)&&(u=0),a[c].push({set:d,size:l.size,weight:u}),a[d].push({set:c,size:l.size,weight:u})}var f=[];for(i in a)if(a.hasOwnProperty(i)){for(var v=0,o=0;o<a[i].length;++o)v+=a[i][o].size*a[i][o].weight;f.push({set:i,size:v})}function p(k,G){return G.size-k.size}f.sort(p);var y={};function m(k){return k.set in y}function x(k,G){r[G].x=k.x,r[G].y=k.y,y[G]=!0}x({x:0,y:0},f[0].set);for(var o=1;o<f.length;++o){var F=f[o].set,w=a[F].filter(m);if(i=r[F],w.sort(p),w.length===0)throw"ERROR: missing pairwise overlap information";for(var S=[],_=0;_<w.length;++_){var O=r[w[_].set],W=Nr(i.radius,O.radius,w[_].size);S.push({x:O.x+W,y:O.y}),S.push({x:O.x-W,y:O.y}),S.push({y:O.y+W,x:O.x}),S.push({y:O.y-W,x:O.x});for(var X=_+1;X<w.length;++X)for(var ft=r[w[X].set],et=Nr(i.radius,ft.radius,w[X].size),Y=xo({x:O.x,y:O.y,radius:W},{x:ft.x,y:ft.y,radius:et}),_t=0;_t<Y.length;++_t)S.push(Y[_t])}for(var Nt=1e50,Rt=S[0],_=0;_<S.length;++_){r[F].x=S[_].x,r[F].y=S[_].y;var $t=n(r,t);$t<Nt&&(Nt=$t,Rt=S[_])}x(Rt,F)}return r}function Ur(t,e){var n=0;function r(c){return c.map(function(d){return t[d]})}for(var a=0;a<e.length;++a){var i=e[a],o=void 0;if(i.sets.length!=1){if(i.sets.length==2){var s=t[i.sets[0]],l=t[i.sets[1]];o=yo(s.radius,l.radius,ge(s,l))}else o=Rr(r(i.sets));var u=i.hasOwnProperty("weight")?i.weight:1;n+=u*(o-i.size)*(o-i.size)}}return n}function Eh(t,e,n){n===null?t.sort(function(y,m){return m.radius-y.radius}):t.sort(n);var r;if(t.length>0){var a=t[0].x,i=t[0].y;for(r=0;r<t.length;++r)t[r].x-=a,t[r].y-=i}if(t.length==2){var o=distance(t[0],t[1]);o<Math.abs(t[1].radius-t[0].radius)&&(t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10,t[1].y=t[0].y)}if(t.length>1){var s=Math.atan2(t[1].x,t[1].y)-e,l=void 0,u=void 0,c=Math.cos(s),d=Math.sin(s);for(r=0;r<t.length;++r)l=t[r].x,u=t[r].y,t[r].x=c*l-d*u,t[r].y=d*l+c*u}if(t.length>2){for(var f=Math.atan2(t[2].x,t[2].y)-e;f<0;)f+=2*Math.PI;for(;f>2*Math.PI;)f-=2*Math.PI;if(f>Math.PI){var v=t[1].y/(1e-10+t[1].x);for(r=0;r<t.length;++r){var p=(t[r].x+v*t[r].y)/(1+v*v);t[r].x=2*p-t[r].x,t[r].y=2*p*v-t[r].y}}}}function kh(t){t.map(function(u){u.parent=u});function e(u){return u.parent!==u&&(u.parent=e(u.parent)),u.parent}function n(u,c){var d=e(u),f=e(c);d.parent=f}for(var r=0;r<t.length;++r)for(var a=r+1;a<t.length;++a){var i=t[r].radius+t[a].radius;distance(t[r],t[a])+1e-10<i&&n(t[a],t[r])}for(var o={},s,r=0;r<t.length;++r)s=e(t[r]).parent.setid,s in o||(o[s]=[]),o[s].push(t[r]);t.map(function(u){delete u.parent});var l=[];for(s in o)o.hasOwnProperty(s)&&l.push(o[s]);return l}function Vr(t){var e=function(n){var r=Math.max.apply(null,t.map(function(i){return i[n]+i.radius})),a=Math.min.apply(null,t.map(function(i){return i[n]-i.radius}));return{max:r,min:a}};return{xRange:e("x"),yRange:e("y")}}function Dg(t,e,n){e===null&&(e=Math.PI/2);var r=[],a,i;for(i in t)if(t.hasOwnProperty(i)){var o=t[i];r.push({x:o.x,y:o.y,radius:o.radius,setid:i})}var s=kh(r);for(a=0;a<s.length;++a){Eh(s[a],e,n);var l=Vr(s[a]);s[a].size=(l.xRange.max-l.xRange.min)*(l.yRange.max-l.yRange.min),s[a].bounds=l}s.sort(function(p,y){return y.size-p.size}),r=s[0];var u=r.bounds,c=(u.xRange.max-u.xRange.min)/50;function d(p,y,m){if(p){var x=p.bounds,F,w,S;y?F=u.xRange.max-x.xRange.min+c:(F=u.xRange.max-x.xRange.max,S=(x.xRange.max-x.xRange.min)/2-(u.xRange.max-u.xRange.min)/2,S<0&&(F+=S)),m?w=u.yRange.max-x.yRange.min+c:(w=u.yRange.max-x.yRange.max,S=(x.yRange.max-x.yRange.min)/2-(u.yRange.max-u.yRange.min)/2,S<0&&(w+=S));for(var _=0;_<p.length;++_)p[_].x+=F,p[_].y+=w,r.push(p[_])}}for(var f=1;f<s.length;)d(s[f],!0,!1),d(s[f+1],!1,!0),d(s[f+2],!0,!0),f+=3,u=Vr(r);var v={};for(a=0;a<r.length;++a)v[r[a].setid]=r[a];return v}function Ih(t,e,n,r){var a=[],i=[];for(var o in t)t.hasOwnProperty(o)&&(i.push(o),a.push(t[o]));e-=2*r,n-=2*r;var s=Vr(a),l=s.xRange,u=s.yRange;if(l.max==l.min||u.max==u.min)return console.log("not scaling solution: zero size detected"),t;for(var c=e/(l.max-l.min),d=n/(u.max-u.min),f=Math.min(d,c),v=(e-(l.max-l.min)*f)/2,p=(n-(u.max-u.min)*f)/2,y={},m=0;m<a.length;++m){var x=a[m];y[i[m]]={radius:f*x.radius,x:r+v+(x.x-l.min)*f,y:r+p+(x.y-u.min)*f}}return y}var Oh=(0,h.HP)(function(t,e,n,r){var a=new Map,i=t.length;return e.forEach(function(o,s){if(o[r].length===1)a.set(o[Ae],t[(s+i)%i]);else{var l=o[r].map(function(u){return a.get(u)});a.set(o[Ae],l.slice(1).reduce(function(u,c){return ph(u,c,n)},l[0]))}}),a},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return JSON.stringify(t)});function Ph(t,e,n,r){r===void 0&&(r=0);var a=t.data,i=t.setsField,o=t.sizeField;if(a.length===0)return vt(gt.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),[];var s=a.map(function(d){var f;return(0,g.pi)((0,g.pi)({},d),(f={sets:d[i]||[],size:d[o]},f[Ir]="",f[Ae]="",f))});s.sort(function(d,f){return d.sets.length-f.sets.length});var l=Sh(s),u=Ih(l,e,n,r),c=mh(u,s);return s.forEach(function(d){var f=d.sets,v=f.join(",");d[Ae]=v;var p=f.map(function(x){return u[x]}),y=bh(p);/[zZ]$/.test(y)||(y+=" Z"),d[Ir]=y;var m=c[v]||{x:0,y:0};(0,h.f0)(d,m)}),s}function Ch(t,e){for(var n=0;n<e.length;n++)if(!t.includes(e[n]))return!1;return!0}var Rh=40;function So(t,e,n){var r=t.chart,a=t.options,i=a.blendMode,o=a.setsField,s=r.getTheme(),l=s.colors10,u=s.colors20,c=n;(0,h.kJ)(c)||(c=e.filter(function(f){return f[o].length===1}).length<=10?l:u);var d=Oh(c,e,i,o);return function(f){return d.get(f)||c[0]}}function Lh(t,e){var n=t.options,r=n.color;if(typeof r!="function"){var a=typeof r=="string"?[r]:r,i=So(t,e,a);return function(o){return i(o[Ae])}}return r}function zh(t){var e=t.chart,n=t.options,r=n.legend,a=n.appendPadding,i=n.padding,o=H(a);return r!==!1&&(o=at(a,(0,h.U2)(r,"position"),Rh)),e.appendPadding=ut([o,i]),t}function Nh(t){var e=t.options,n=e.data;n||(vt(gt.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),n=[]);var r=n.filter(function(i){return i.sets.length===1}).map(function(i){return i.sets[0]}),a=n.filter(function(i){var o=i.sets;return Ch(r,o)});return(0,h.Xy)(a,n)||vt(gt.WARN,!1,"warn: %s","\u4EA4\u96C6\u4E2D\u4E0D\u80FD\u51FA\u73B0\u4E0D\u5B58\u5728\u7684\u96C6\u5408, \u8BF7\u8F93\u5165\u5408\u6CD5\u6570\u636E"),(0,h.b$)({},t,{options:{data:a}})}function Uh(t){var e=t.chart,n=t.options,r=n.pointStyle,a=n.setsField,i=n.sizeField,o=H(e.appendPadding),s=o[0],l=o[1],u=o[2],c=o[3],d={offsetX:c,offsetY:s},f=e.viewBBox,v=f.width,p=f.height,y=Ph(n,Math.max(v-(l+c),0),Math.max(p-(s+u),0),0);e.data(y);var m=er(b({},t,{options:{xField:"x",yField:"y",sizeField:i,seriesField:Ae,rawFields:[a,i],schema:{shape:"venn",style:r}}})).ext,x=m.geometry;x.customInfo(d);var F=Lh(t,y);return typeof F=="function"&&x.color(Ae,function(w){var S=y.find(function(O){return O[Ae]===w}),_=So(t,y)(w);return F(S,_)}),t}function Vh(t){var e=t.chart,n=t.options,r=n.label,a=H(e.appendPadding),i=a[0],o=a[3],s={offsetX:o,offsetY:i},l=Et(e,"schema");if(!r)l.label(!1);else{var u=r.callback,c=(0,g._T)(r,["callback"]);l.label({fields:["id"],callback:u,cfg:(0,h.b$)({},P(c),{type:"venn",customLabelInfo:s})})}return t}function Wh(t){var e=t.chart,n=t.options,r=n.legend,a=n.sizeField;return e.legend(Ae,r),e.legend(a,!1),t}function Bh(t){var e=t.chart;return e.axis(!1),t}function Gh(t){var e=t.options,n=t.chart,r=e.interactions;if(r){var a={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};zt(b({},t,{options:{interactions:r.map(function(i){return(0,g.pi)((0,g.pi)({},i),{type:a[i.type]||i.type})})}}))}return n.removeInteraction("legend-active"),n.removeInteraction("legend-highlight"),t}function Zh(t){return N(zh,At,Nh,Uh,Vh,qt({}),Wh,Bh,Yt,Gh,It)(t)}var Mg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="venn",n}return e.getDefaultOptions=function(){return Lv},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Zh},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},e}(lt),he="x",Ve="violinY",qh="violinSize",_o="minMax",wo="quantile",Ao="median",Wr="violin_view",Hh="min_max_view",Xh="quantile_view",Yh="median_view",$h=b({},lt.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),jh=L(64051),Jh=L.n(jh);function Do(t,e){var n=t.length*e;if(t.length===0)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return e===1?t[t.length-1]:e===0?t[0]:n%1!==0?t[Math.ceil(n)-1]:t.length%2===0?(t[n-1]+t[n])/2:t[n]}function vn(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Hn(t,e,n,r){for(n=n||0,r=r||t.length-1;r>n;){if(r-n>600){var a=r-n+1,i=e-n+1,o=Math.log(a),s=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*s*(a-s)/a);i-a/2<0&&(l*=-1);var u=Math.max(n,Math.floor(e-i*s/a+l)),c=Math.min(r,Math.floor(e+(a-i)*s/a+l));Hn(t,e,u,c)}var d=t[e],f=n,v=r;for(vn(t,n,e),t[r]>d&&vn(t,n,r);f<v;){for(vn(t,f,v),f++,v--;t[f]<d;)f++;for(;t[v]>d;)v--}t[n]===d?vn(t,n,v):(v++,vn(t,v,r)),v<=e&&(n=v+1),e<=v&&(r=v-1)}}function hn(t,e){var n=t.slice();if(Array.isArray(e)){Kh(n,e);for(var r=[],a=0;a<e.length;a++)r[a]=Do(n,e[a]);return r}else{var i=To(n.length,e);return Mo(n,i,0,n.length-1),Do(n,e)}}function Mo(t,e,n,r){e%1===0?Hn(t,e,n,r):(e=Math.floor(e),Hn(t,e,n,r),Hn(t,e+1,e+1,r))}function Kh(t,e){for(var n=[0],r=0;r<e.length;r++)n.push(To(t.length,e[r]));n.push(t.length-1),n.sort(Qh);for(var a=[0,n.length-1];a.length;){var i=Math.ceil(a.pop()),o=Math.floor(a.pop());if(!(i-o<=1)){var s=Math.floor((o+i)/2);Mo(t,n[s],Math.floor(n[o]),Math.ceil(n[i])),a.push(o,s,s,i)}}}function Qh(t,e){return t-e}function To(t,e){var n=t*e;return e===1?t-1:e===0?0:n%1!==0?Math.ceil(n)-1:t%2===0?n-.5:n}var Eo=function(t){return{low:(0,h.VV)(t),high:(0,h.Fp)(t),q1:hn(t,.25),q3:hn(t,.75),median:hn(t,[.5]),minMax:[(0,h.VV)(t),(0,h.Fp)(t)],quantile:[hn(t,.25),hn(t,.75)]}},ko=function(t,e){var n=Jh().create(t,e);return{violinSize:n.map(function(r){return r.y}),violinY:n.map(function(r){return r.x})}},Io=function(t){var e=t.xField,n=t.yField,r=t.seriesField,a=t.data,i=t.kde,o={min:i.min,max:i.max,size:i.sampleSize,width:i.width};if(!r){var s=(0,h.vM)(a,e);return Object.keys(s).map(function(c){var d=s[c],f=d.map(function(v){return v[n]});return(0,g.pi)((0,g.pi)({x:c},ko(f,o)),Eo(f))})}var l=[],u=(0,h.vM)(a,r);return Object.keys(u).forEach(function(c){var d=(0,h.vM)(u[c],e);return Object.keys(d).forEach(function(f){var v,p=d[f],y=p.map(function(m){return m[n]});l.push((0,g.pi)((0,g.pi)((v={x:f},v[r]=c,v),ko(y,o)),Eo(y)))})}),l},Xn=["low","high","q1","q3","median"],Yn=[{type:"dodge",marginRatio:1/32}];function tp(t){var e=t.chart,n=t.options;return e.data(Io(n)),t}function ep(t){var e=t.chart,n=t.options,r=n.seriesField,a=n.color,i=n.shape,o=i===void 0?"violin":i,s=n.violinStyle,l=n.tooltip,u=n.state,c=e.createView({id:Wr});return Vo({chart:c,options:{xField:he,yField:Ve,seriesField:r||he,sizeField:qh,tooltip:(0,g.pi)({fields:Xn},l),violin:{style:s,color:a,shape:o},state:u}}),c.geometries[0].adjust(Yn),t}function np(t){var e=t.chart,n=t.options,r=n.seriesField,a=n.color,i=n.tooltip,o=n.box;if(o===!1)return t;var s=e.createView({id:Hh});ee({chart:s,options:{xField:he,yField:_o,seriesField:r||he,tooltip:(0,g.pi)({fields:Xn},i),state:typeof o=="object"?o.state:{},interval:{color:a,size:1,style:{lineWidth:0}}}}),s.geometries[0].adjust(Yn);var l=e.createView({id:Xh});ee({chart:l,options:{xField:he,yField:wo,seriesField:r||he,tooltip:(0,g.pi)({fields:Xn},i),state:typeof o=="object"?o.state:{},interval:{color:a,size:8,style:{fillOpacity:1}}}}),l.geometries[0].adjust(Yn);var u=e.createView({id:Yh});return ce({chart:u,options:{xField:he,yField:Ao,seriesField:r||he,tooltip:(0,g.pi)({fields:Xn},i),state:typeof o=="object"?o.state:{},point:{color:a,size:1,style:{fill:"white",lineWidth:0}}}}),u.geometries[0].adjust(Yn),l.axis(!1),s.axis(!1),u.axis(!1),u.legend(!1),s.legend(!1),l.legend(!1),t}function rp(t){var e,n=t.chart,r=t.options,a=r.meta,i=r.xAxis,o=r.yAxis,s={},l=b(s,a,(e={},e[he]=(0,g.pi)((0,g.pi)({sync:!0},U(i,nt)),{type:"cat"}),e[Ve]=(0,g.pi)({sync:!0},U(o,nt)),e[_o]=(0,g.pi)({sync:Ve},U(o,nt)),e[wo]=(0,g.pi)({sync:Ve},U(o,nt)),e[Ao]=(0,g.pi)({sync:Ve},U(o,nt)),e));return n.scale(l),t}function ap(t){var e=t.chart,n=t.options,r=n.xAxis,a=n.yAxis,i=B(e,Wr);return r===!1?i.axis(he,!1):i.axis(he,r),a===!1?i.axis(Ve,!1):i.axis(Ve,a),e.axis(!1),t}function ip(t){var e=t.chart,n=t.options,r=n.legend,a=n.seriesField,i=n.shape;if(r===!1)e.legend(!1);else{var o=a||he,s=(0,h.CE)(r,["selected"]);(!i||!i.startsWith("hollow"))&&((0,h.U2)(s,["marker","style","lineWidth"])||(0,h.t8)(s,["marker","style","lineWidth"],0)),e.legend(o,s),(0,h.U2)(r,"selected")&&(0,h.S6)(e.views,function(l){return l.legend(o,r)})}return t}function op(t){var e=t.chart,n=B(e,Wr);return Wt()((0,g.pi)((0,g.pi)({},t),{chart:n})),t}function lp(t){var e=t.chart,n=t.options,r=n.animation;return(0,h.S6)(e.views,function(a){Qt(a,r)}),t}function sp(t){return N(At,tp,ep,np,rp,Yt,ap,ip,zt,op,lp)(t)}var Tg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="violin",n}return e.getDefaultOptions=function(){return $h},e.prototype.changeData=function(n){this.updateOption({data:n}),this.chart.changeData(Io(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return sp},e}(lt),pe="$$yField$$",$n="$$diffField$$",Br="$$absoluteField$$",Gr="$$isTotal$$",up={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function cp(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var a=n===0?"M":"L";e.push([a,r.x,r.y])}}var i=t[0];return e.push(["L",i.x,i.y]),e.push(["z"]),e}function fp(t){return b({},t.defaultStyle,t.style,{fill:t.color})}(0,D.Fj)("interval","waterfall",{draw:function(t,e){var n=t.customInfo,r=t.points,a=t.nextPoints,i=e.addGroup(),o=this.parsePath(cp(r)),s=fp(t);i.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},s),{path:o})});var l=(0,h.U2)(n,"leaderLine");if(l&&a){var u=[["M",r[2].x,r[2].y],["L",a[0].x,a[0].y]];r[2].y===a[1].y&&(u[1]=["L",a[1].x,a[1].y]),u=this.parsePath(u),i.addShape("path",{attrs:(0,g.pi)({path:u},l.style||{})})}return i}});function dp(t,e,n,r,a){var i,o=[];if((0,h.u4)(t,function(l,u){var c;vt(gt.WARN,(0,h.hj)(u[n]),"".concat(u[n]," is not a valid number"));var d=(0,h.o8)(u[n])?null:u[n];return o.push((0,g.pi)((0,g.pi)({},u),(c={},c[r]=[l,l+d],c))),l+d},0),o.length&&a){var s=(0,h.U2)(o,[[t.length-1],r,[1]]);o.push((i={},i[e]=a.label,i[n]=s,i[r]=[0,s],i))}return o}function Oo(t,e,n,r){var a=dp(t,e,n,pe,r);return a.map(function(i,o){var s;return(0,h.Kn)(i)?(0,g.pi)((0,g.pi)({},i),(s={},s[Br]=i[pe][1],s[$n]=i[pe][1]-i[pe][0],s[Gr]=o===t.length,s)):i})}function vp(t){var e=t.options,n=e.locale,r=e.total,a=_n(n).get(["waterfall","total"]);return r&&typeof r.label!="string"&&a&&(t.options.total.label=a),t}function hp(t){var e=t.chart,n=t.options,r=n.data,a=n.xField,i=n.yField,o=n.total,s=n.leaderLine,l=n.columnWidthRatio,u=n.waterfallStyle,c=n.risingFill,d=n.fallingFill,f=n.color,v=n.shape,p=n.customInfo;e.data(Oo(r,a,i,o));var y=f||function(w){return(0,h.U2)(w,[Gr])?(0,h.U2)(o,["style","fill"],""):(0,h.U2)(w,[pe,1])-(0,h.U2)(w,[pe,0])>0?c:d},m=b({},t,{options:{xField:a,yField:pe,seriesField:a,rawFields:[i,$n,Gr,pe],widthRatio:l,interval:{style:u,shape:v||"waterfall",color:y}}}),x=ee(m).ext,F=x.geometry;return F.customInfo((0,g.pi)((0,g.pi)({},p),{leaderLine:s})),t}function pp(t){var e,n,r=t.options,a=r.xAxis,i=r.yAxis,o=r.xField,s=r.yField,l=r.meta,u=b({},{alias:s},(0,h.U2)(l,s));return N(qt((e={},e[o]=a,e[s]=i,e[pe]=i,e),b({},l,(n={},n[pe]=u,n[$n]=u,n[Br]=u,n))))(t)}function gp(t){var e=t.chart,n=t.options,r=n.xAxis,a=n.yAxis,i=n.xField,o=n.yField;return r===!1?e.axis(i,!1):e.axis(i,r),a===!1?(e.axis(o,!1),e.axis(pe,!1)):(e.axis(o,a),e.axis(pe,a)),t}function yp(t){var e=t.chart,n=t.options,r=n.legend,a=n.total,i=n.risingFill,o=n.fallingFill,s=n.locale,l=_n(s);if(r===!1)e.legend(!1);else{var u=[{name:l.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:i}}},{name:l.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:o}}}];a&&u.push({name:a.label||"",value:"total",marker:{symbol:"square",style:b({},{r:5},(0,h.U2)(a,"style"))}}),e.legend(b({},{custom:!0,position:"top",items:u},r)),e.removeInteraction("legend-filter")}return t}function xp(t){var e=t.chart,n=t.options,r=n.label,a=n.labelMode,i=n.xField,o=Et(e,"interval");if(!r)o.label(!1);else{var s=r.callback,l=(0,g._T)(r,["callback"]);o.label({fields:a==="absolute"?[Br,i]:[$n,i],callback:s,cfg:P(l)})}return t}function mp(t){var e=t.chart,n=t.options,r=n.tooltip,a=n.xField,i=n.yField;if(r!==!1){e.tooltip((0,g.pi)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[i]},r));var o=e.geometries[0];r!=null&&r.formatter?o.tooltip("".concat(a,"*").concat(i),r.formatter):o.tooltip(i)}else e.tooltip(!1);return t}function Fp(t){return N(vp,At,hp,pp,gp,yp,mp,xp,De,zt,It,Wt())(t)}var Eg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="waterfall",n}return e.getDefaultOptions=function(){return up},e.prototype.changeData=function(n){var r=this.options,a=r.xField,i=r.yField,o=r.total;this.updateOption({data:n}),this.chart.changeData(Oo(n,a,i,o))},e.prototype.getSchemaAdaptor=function(){return Fp},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(lt),Zr="color",bp=b({},lt.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",Zr],formatter:function(t){return{name:t.text,value:t.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),Sp={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function _p(t,e){return e=(0,h.f0)({},Sp,e),wp(t,e)}function wp(t,e){var n=zp();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(l){(0,h.UM)(e[l])||n[l](e[l])}),n.words(t),e.imageMask&&n.createMask(e.imageMask);var r=n.start(),a=r._tags;a.forEach(function(l){l.x+=e.size[0]/2,l.y+=e.size[1]/2});var i=e.size,o=i[0],s=i[1];return a.push({text:"",value:0,x:0,y:0,opacity:0}),a.push({text:"",value:0,x:o,y:s,opacity:0}),a}var qr=Math.PI/180,pn=64,jn=2048;function Ap(t){return t.text}function Dp(){return"serif"}function Po(){return"normal"}function Mp(t){return t.value}function Tp(){return~~(Math.random()*2)*90}function Ep(){return 1}function kp(t,e,n,r){if(!e.sprite){var a=t.context,i=t.ratio;a.clearRect(0,0,(pn<<5)/i,jn/i);var o=0,s=0,l=0,u=n.length;for(--r;++r<u;){e=n[r],a.save(),a.font=e.style+" "+e.weight+" "+~~((e.size+1)/i)+"px "+e.font;var c=a.measureText(e.text+"m").width*i,d=e.size<<1;if(e.rotate){var f=Math.sin(e.rotate*qr),v=Math.cos(e.rotate*qr),p=c*v,y=c*f,m=d*v,x=d*f;c=Math.max(Math.abs(p+x),Math.abs(p-x))+31>>5<<5,d=~~Math.max(Math.abs(y+m),Math.abs(y-m))}else c=c+31>>5<<5;if(d>l&&(l=d),o+c>=pn<<5&&(o=0,s+=l,l=0),s+d>=jn)break;a.translate((o+(c>>1))/i,(s+(d>>1))/i),e.rotate&&a.rotate(e.rotate*qr),a.fillText(e.text,0,0),e.padding&&(a.lineWidth=2*e.padding,a.strokeText(e.text,0,0)),a.restore(),e.width=c,e.height=d,e.xoff=o,e.yoff=s,e.x1=c>>1,e.y1=d>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=c}for(var F=a.getImageData(0,0,(pn<<5)/i,jn/i).data,w=[];--r>=0;)if(e=n[r],!!e.hasText){for(var c=e.width,S=c>>5,d=e.y1-e.y0,_=0;_<d*S;_++)w[_]=0;if(o=e.xoff,o==null)return;s=e.yoff;for(var O=0,W=-1,X=0;X<d;X++){for(var _=0;_<c;_++){var ft=S*X+(_>>5),et=F[(s+X)*(pn<<5)+(o+_)<<2]?1<<31-_%32:0;w[ft]|=et,O|=et}O?W=X:(e.y0++,d--,X--,s++)}e.y1=e.y0+W,e.sprite=w.slice(0,(e.y1-e.y0)*S)}}}function Ip(t,e,n){n>>=5;for(var r=t.sprite,a=t.width>>5,i=t.x-(a<<4),o=i&127,s=32-o,l=t.y1-t.y0,u=(t.y+t.y0)*n+(i>>5),c,d=0;d<l;d++){c=0;for(var f=0;f<=a;f++)if((c<<s|(f<a?(c=r[d*a+f])>>>o:0))&e[u+f])return!0;u+=n}return!1}function Op(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function Pp(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function Co(t){var e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Cp(t){var e=4,n=e*t[0]/t[1],r=0,a=0;return function(i){var o=i<0?-1:1;switch(Math.sqrt(1+4*o*i)-o&3){case 0:r+=n;break;case 1:a+=e;break;case 2:r-=n;break;default:a-=e;break}return[r,a]}}function Ro(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function Rp(){return document.createElement("canvas")}function Fe(t){return(0,h.mf)(t)?t:function(){return t}}var Lp={archimedean:Co,rectangular:Cp};function zp(){var t=[256,256],e=Dp,n=Mp,r=Po,a=Tp,i=Ep,o=Co,s=Math.random,l=[],u=1/0,c=Ap,d=Po,f=Rp,v={};v.start=function(){var m=t[0],x=t[1],F=p(f()),w=v.board?v.board:Ro((t[0]>>5)*t[1]),S=l.length,_=[],O=l.map(function(et,Y,_t){return et.text=c.call(this,et,Y,_t),et.font=e.call(this,et,Y,_t),et.style=d.call(this,et,Y,_t),et.weight=r.call(this,et,Y,_t),et.rotate=a.call(this,et,Y,_t),et.size=~~n.call(this,et,Y,_t),et.padding=i.call(this,et,Y,_t),et}).sort(function(et,Y){return Y.size-et.size}),W=-1,X=v.board?[{x:0,y:0},{x:m,y:x}]:null;ft();function ft(){for(var et=Date.now();Date.now()-et<u&&++W<S;){var Y=O[W];Y.x=m*(s()+.5)>>1,Y.y=x*(s()+.5)>>1,kp(F,Y,O,W),Y.hasText&&y(w,Y,X)&&(_.push(Y),X?v.hasImage||Op(X,Y):X=[{x:Y.x+Y.x0,y:Y.y+Y.y0},{x:Y.x+Y.x1,y:Y.y+Y.y1}],Y.x-=t[0]>>1,Y.y-=t[1]>>1)}v._tags=_,v._bounds=X}return v};function p(m){m.width=m.height=1;var x=Math.sqrt(m.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);m.width=(pn<<5)/x,m.height=jn/x;var F=m.getContext("2d",{willReadFrequently:!0});return F.fillStyle=F.strokeStyle="red",F.textAlign="center",{context:F,ratio:x}}function y(m,x,F){for(var w=x.x,S=x.y,_=Math.sqrt(t[0]*t[0]+t[1]*t[1]),O=o(t),W=s()<.5?1:-1,X,ft=-W,et,Y;(X=O(ft+=W))&&(et=~~X[0],Y=~~X[1],!(Math.min(Math.abs(et),Math.abs(Y))>=_));)if(x.x=w+et,x.y=S+Y,!(x.x+x.x0<0||x.y+x.y0<0||x.x+x.x1>t[0]||x.y+x.y1>t[1])&&(!F||!Ip(x,m,t[0]))&&(!F||Pp(x,F))){for(var _t=x.sprite,Nt=x.width>>5,Rt=t[0]>>5,$t=x.x-(Nt<<4),k=$t&127,G=32-k,Q=x.y1-x.y0,rt=void 0,$=(x.y+x.y0)*Rt+($t>>5),it=0;it<Q;it++){rt=0;for(var Ft=0;Ft<=Nt;Ft++)m[$+Ft]|=rt<<G|(Ft<Nt?(rt=_t[it*Nt+Ft])>>>k:0);$+=Rt}return delete x.sprite,!0}return!1}return v.createMask=function(m){var x=document.createElement("canvas"),F=t[0],w=t[1];if(!(!F||!w)){var S=F>>5,_=Ro((F>>5)*w);x.width=F,x.height=w;var O=x.getContext("2d");O.drawImage(m,0,0,m.width,m.height,0,0,F,w);for(var W=O.getImageData(0,0,F,w).data,X=0;X<w;X++)for(var ft=0;ft<F;ft++){var et=S*X+(ft>>5),Y=X*F+ft<<2,_t=W[Y]>=250&&W[Y+1]>=250&&W[Y+2]>=250,Nt=_t?1<<31-ft%32:0;_[et]|=Nt}v.board=_,v.hasImage=!0}},v.timeInterval=function(m){u=m==null?1/0:m},v.words=function(m){l=m},v.size=function(m){t=[+m[0],+m[1]]},v.font=function(m){e=Fe(m)},v.fontWeight=function(m){r=Fe(m)},v.rotate=function(m){a=Fe(m)},v.spiral=function(m){o=Lp[m]||m},v.fontSize=function(m){n=Fe(m)},v.padding=function(m){i=Fe(m)},v.random=function(m){s=Fe(m)},v}function Lo(t){var e=t.options,n=t.chart,r=n,a=r.width,i=r.height,o=r.padding,s=r.appendPadding,l=r.ele,u=e.data,c=e.imageMask,d=e.wordField,f=e.weightField,v=e.colorField,p=e.wordStyle,y=e.timeInterval,m=e.random,x=e.spiral,F=e.autoFit,w=F===void 0?!0:F,S=e.placementStrategy;if(!u||!u.length)return[];var _=p.fontFamily,O=p.fontWeight,W=p.padding,X=p.fontSize,ft=Bp(u,f),et=[qp(ft),Hp(ft)],Y=u.map(function(Rt){return{text:Rt[d],value:Rt[f],color:Rt[v],datum:Rt}}),_t={imageMask:c,font:_,fontSize:Wp(X,et),fontWeight:O,size:Np({width:a,height:i,padding:o,appendPadding:s,autoFit:w,container:l}),padding:W,timeInterval:y,random:m,spiral:x,rotate:Gp(e)};if((0,h.mf)(S)){var Nt=Y.map(function(Rt,$t,k){return(0,g.pi)((0,g.pi)((0,g.pi)({},Rt),{hasText:!!Rt.text,font:Fe(_t.font)(Rt,$t,k),weight:Fe(_t.fontWeight)(Rt,$t,k),rotate:Fe(_t.rotate)(Rt,$t,k),size:Fe(_t.fontSize)(Rt,$t,k),style:"normal"}),S.call(n,Rt,$t,k))});return Nt.push({text:"",value:0,x:0,y:0,opacity:0}),Nt.push({text:"",value:0,x:_t.size[0],y:_t.size[1],opacity:0}),Nt}return _p(Y,_t)}function Np(t){var e=t.width,n=t.height,r=t.container,a=t.autoFit,i=t.padding,o=t.appendPadding;if(a){var s=Ut(r);e=s.width,n=s.height}e=e||400,n=n||400;var l=Up({padding:i,appendPadding:o}),u=l[0],c=l[1],d=l[2],f=l[3],v=[e-(f+c),n-(u+d)];return v}function Up(t){var e=H(t.padding),n=H(t.appendPadding),r=e[0]+n[0],a=e[1]+n[1],i=e[2]+n[2],o=e[3]+n[3];return[r,a,i,o]}function Vp(t){return new Promise(function(e,n){if(t instanceof HTMLImageElement){e(t);return}if((0,h.HD)(t)){var r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=function(){e(r)},r.onerror=function(){vt(gt.ERROR,!1,"image %s load failed !!!",t),n()};return}vt(gt.WARN,t===void 0,"The type of imageMask option must be String or HTMLImageElement."),n()})}function Wp(t,e){if((0,h.mf)(t))return t;if((0,h.kJ)(t)){var n=t[0],r=t[1];if(!e)return function(){return(r+n)/2};var a=e[0],i=e[1];return i===a?function(){return(r+n)/2}:function(s){var l=s.value;return(r-n)/(i-a)*(l-a)+n}}return function(){return t}}function Bp(t,e){return t.map(function(n){return n[e]}).filter(function(n){return typeof n=="number"&&!isNaN(n)})}function Gp(t){var e=Zp(t),n=e.rotation,r=e.rotationSteps;if(!(0,h.kJ)(n))return n;var a=n[0],i=n[1],o=r===1?0:(i-a)/(r-1);return function(){return i===a?i:Math.floor(Math.random()*r)*o}}function Zp(t){var e=t.wordStyle.rotationSteps;return e<1&&(vt(gt.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1),{rotation:t.wordStyle.rotation,rotationSteps:e}}function qp(t){return Math.min.apply(Math,t)}function Hp(t){return Math.max.apply(Math,t)}function Xp(t){var e=t.chart,n=t.options,r=n.colorField,a=n.color,i=Lo(t);e.data(i);var o=b({},t,{options:{xField:"x",yField:"y",seriesField:r&&Zr,rawFields:(0,h.mf)(a)&&(0,g.ev)((0,g.ev)([],(0,h.U2)(n,"rawFields",[]),!0),["datum"],!1),point:{color:a,shape:"word-cloud"}}}),s=ce(o).ext;return s.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),t}function Yp(t){return N(qt({x:{nice:!1},y:{nice:!1}}))(t)}function $p(t){var e=t.chart,n=t.options,r=n.legend,a=n.colorField;return r===!1?e.legend(!1):a&&e.legend(Zr,r),t}function jp(t){N(Xp,Yp,Yt,$p,zt,It,At,De)(t)}(0,D.Fj)("point","word-cloud",{draw:function(t,e){var n=t.x,r=t.y,a=e.addShape("text",{attrs:(0,g.pi)((0,g.pi)({},Jp(t)),{x:n,y:r})}),i=t.data.rotate;return typeof i=="number"&&D.Zr.rotate(a,i*Math.PI/180),a}});function Jp(t){return{fontSize:t.data.size,text:t.data.text,textAlign:"center",fontFamily:t.data.font,fontWeight:t.data.weight,fill:t.color||t.defaultStyle.stroke,textBaseline:"alphabetic"}}var kg=function(t){(0,g.ZT)(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="word-cloud",n}return e.getDefaultOptions=function(){return bp},e.prototype.changeData=function(n){this.updateOption({data:n}),this.options.imageMask?this.render():this.chart.changeData(Lo({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var n=this;return new Promise(function(r){var a=n.options.imageMask;if(!a){t.prototype.render.call(n),r();return}var i=function(o){n.options=(0,g.pi)((0,g.pi)({},n.options),{imageMask:o||null}),t.prototype.render.call(n),r()};Vp(a).then(i).catch(i)})},e.prototype.getSchemaAdaptor=function(){return jp},e.prototype.triggerResize=function(){var n=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){t.prototype.triggerResize.call(n)}))},e}(lt),Ig=function(t){(0,g.ZT)(e,t);function e(n,r,a,i){var o=t.call(this,n,b({},i,r))||this;return o.type="g2-plot",o.defaultOptions=i,o.adaptor=a,o}return e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor},e}(lt),Og="2.4.32";$r("en-US",zo),$r("zh-CN",No);var Pg={scale:qt,legend:Ie,tooltip:Yt,annotation:Wt,interaction:zt,theme:At,animation:It}},86610:function(){"use strict"},28744:function(Gt,st){(function(L,tt){tt(st)})(this,function(L){"use strict";function tt(A,E){return D(A)||g(A,E)||h()}function D(A){if(Array.isArray(A))return A}function g(A,E){var P=[],I=!0,T=!1,M=void 0;try{for(var R=A[Symbol.iterator](),V;!(I=(V=R.next()).done)&&(P.push(V.value),!(E&&P.length===E));I=!0);}catch(H){T=!0,M=H}finally{try{!I&&R.return!=null&&R.return()}finally{if(T)throw M}}return P}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function nt(A,E,P,I){A=A.filter(function(mt,pt){var kt=E(mt,pt),yt=P(mt,pt);return kt!=null&&isFinite(kt)&&yt!=null&&isFinite(yt)}),I&&A.sort(function(mt,pt){return E(mt)-E(pt)});for(var T=A.length,M=new Float64Array(T),R=new Float64Array(T),V=0,H=0,at,ut,ot,ht=0;ht<T;)ot=A[ht],M[ht]=at=+E(ot,ht,A),R[ht]=ut=+P(ot,ht,A),++ht,V+=(at-V)/ht,H+=(ut-H)/ht;for(var St=0;St<T;++St)M[St]-=V,R[St]-=H;return[M,R,V,H]}function gt(A,E,P,I){for(var T=0,M=0,R=A.length;M<R;M++){var V=A[M],H=+E(V,M,A),at=+P(V,M,A);H!=null&&isFinite(H)&&at!=null&&isFinite(at)&&I(H,at,T++)}}function Dt(A,E,P,I,T){var M=0,R=0;return gt(A,E,P,function(V,H){var at=H-T(V),ut=H-I;M+=at*at,R+=ut*ut}),1-M/R}function j(A){return Math.atan2(A[1][1]-A[0][1],A[1][0]-A[0][0])*180/Math.PI}function q(A){return[(A[0][0]+A[1][0])/2,(A[0][1]+A[1][1])/2]}function vt(A,E,P){for(var I=Math.log(E-A)*Math.LOG10E+1|0,T=1*Math.pow(10,-I/2-1),M=1e4,R=[H(A),H(E)],V=0;at(R)&&V<M;);return R;function H(ut){return[ut,P(ut)]}function at(ut){V++;for(var ot=ut.length,ht=!1,St=0;St<ot-1;St++){var mt=ut[St],pt=ut[St+1],kt=q([mt,pt]),yt=H(kt[0]),ct=j([mt,kt]),xt=j([mt,yt]),Mt=Math.abs(ct-xt);Mt>T&&(ut.splice(St+1,0,yt),ht=!0)}return ht}}function U(A,E,P,I){var T=I-A*A,M=Math.abs(T)<1e-24?0:(P-A*E)/T,R=E-M*A;return[R,M]}function Pt(){var A=function(M){return M[0]},E=function(M){return M[1]},P;function I(T){var M=0,R=0,V=0,H=0,at=0,ut=0,ot=P?+P[0]:1/0,ht=P?+P[1]:-1/0;gt(T,A,E,function(xt,Mt){var Vt=Math.log(Mt),B=xt*Mt;++M,R+=(Mt-R)/M,H+=(B-H)/M,ut+=(xt*B-ut)/M,V+=(Mt*Vt-V)/M,at+=(B*Vt-at)/M,P||(xt<ot&&(ot=xt),xt>ht&&(ht=xt))});var St=U(H/R,V/R,at/R,ut/R),mt=tt(St,2),pt=mt[0],kt=mt[1];pt=Math.exp(pt);var yt=function(Mt){return pt*Math.exp(kt*Mt)},ct=vt(ot,ht,yt);return ct.a=pt,ct.b=kt,ct.predict=yt,ct.rSquared=Dt(T,A,E,R,yt),ct}return I.domain=function(T){return arguments.length?(P=T,I):P},I.x=function(T){return arguments.length?(A=T,I):A},I.y=function(T){return arguments.length?(E=T,I):E},I}function J(){var A=function(M){return M[0]},E=function(M){return M[1]},P;function I(T){var M=0,R=0,V=0,H=0,at=0,ut=P?+P[0]:1/0,ot=P?+P[1]:-1/0;gt(T,A,E,function(ct,xt){++M,R+=(ct-R)/M,V+=(xt-V)/M,H+=(ct*xt-H)/M,at+=(ct*ct-at)/M,P||(ct<ut&&(ut=ct),ct>ot&&(ot=ct))});var ht=U(R,V,H,at),St=tt(ht,2),mt=St[0],pt=St[1],kt=function(xt){return pt*xt+mt},yt=[[ut,kt(ut)],[ot,kt(ot)]];return yt.a=pt,yt.b=mt,yt.predict=kt,yt.rSquared=Dt(T,A,E,V,kt),yt}return I.domain=function(T){return arguments.length?(P=T,I):P},I.x=function(T){return arguments.length?(A=T,I):A},I.y=function(T){return arguments.length?(E=T,I):E},I}function Z(A){A.sort(function(P,I){return P-I});var E=A.length/2;return E%1===0?(A[E-1]+A[E])/2:A[Math.floor(E)]}var z=2,C=1e-12;function K(){var A=function(M){return M[0]},E=function(M){return M[1]},P=.3;function I(T){for(var M=nt(T,A,E,!0),R=tt(M,4),V=R[0],H=R[1],at=R[2],ut=R[3],ot=V.length,ht=Math.max(2,~~(P*ot)),St=new Float64Array(ot),mt=new Float64Array(ot),pt=new Float64Array(ot).fill(1),kt=-1;++kt<=z;){for(var yt=[0,ht-1],ct=0;ct<ot;++ct){for(var xt=V[ct],Mt=yt[0],Vt=yt[1],B=xt-V[Mt]>V[Vt]-xt?Mt:Vt,Ht=0,Kt=0,Qt=0,ae=0,te=0,le=1/Math.abs(V[B]-xt||1),ne=Mt;ne<=Vt;++ne){var re=V[ne],Xt=H[ne],ie=wt(Math.abs(xt-re)*le)*pt[ne],se=re*ie;Ht+=ie,Kt+=se,Qt+=Xt*ie,ae+=Xt*se,te+=re*se}var Jn=U(Kt/Ht,Qt/Ht,ae/Ht,te/Ht),mn=tt(Jn,2),Kn=mn[0],Qn=mn[1];St[ct]=Kn+Qn*xt,mt[ct]=Math.abs(H[ct]-St[ct]),Ot(V,ct+1,yt)}if(kt===z)break;var Fn=Z(mt);if(Math.abs(Fn)<C)break;for(var We=0,Be,bn;We<ot;++We)Be=mt[We]/(6*Fn),pt[We]=Be>=1?C:(bn=1-Be*Be)*bn}return Zt(V,St,at,ut)}return I.bandwidth=function(T){return arguments.length?(P=T,I):P},I.x=function(T){return arguments.length?(A=T,I):A},I.y=function(T){return arguments.length?(E=T,I):E},I}function wt(A){return(A=1-A*A*A)*A*A}function Ot(A,E,P){var I=A[E],T=P[0],M=P[1]+1;if(!(M>=A.length))for(;E>T&&A[M]-I<=I-A[T];)P[0]=++T,P[1]=M,++M}function Zt(A,E,P,I){for(var T=A.length,M=[],R=0,V=0,H=[],at;R<T;++R)at=A[R]+P,H[0]===at?H[1]+=(E[R]-H[1])/++V:(V=0,H[1]+=I,H=[at,E[R]],M.push(H));return H[1]+=I,M}function Ct(){var A=function(R){return R[0]},E=function(R){return R[1]},P=Math.E,I;function T(M){var R=0,V=0,H=0,at=0,ut=0,ot=I?+I[0]:1/0,ht=I?+I[1]:-1/0,St=Math.log(P);gt(M,A,E,function(Mt,Vt){var B=Math.log(Mt)/St;++R,V+=(B-V)/R,H+=(Vt-H)/R,at+=(B*Vt-at)/R,ut+=(B*B-ut)/R,I||(Mt<ot&&(ot=Mt),Mt>ht&&(ht=Mt))});var mt=U(V,H,at,ut),pt=tt(mt,2),kt=pt[0],yt=pt[1],ct=function(Vt){return yt*Math.log(Vt)/St+kt},xt=vt(ot,ht,ct);return xt.a=yt,xt.b=kt,xt.predict=ct,xt.rSquared=Dt(M,A,E,H,ct),xt}return T.domain=function(M){return arguments.length?(I=M,T):I},T.x=function(M){return arguments.length?(A=M,T):A},T.y=function(M){return arguments.length?(E=M,T):E},T.base=function(M){return arguments.length?(P=M,T):P},T}function b(){var A=function(M){return M[0]},E=function(M){return M[1]},P;function I(T){var M=nt(T,A,E),R=tt(M,4),V=R[0],H=R[1],at=R[2],ut=R[3],ot=V.length,ht=0,St=0,mt=0,pt=0,kt=0,yt,ct,xt,Mt;for(yt=0;yt<ot;)ct=V[yt],xt=H[yt++],Mt=ct*ct,ht+=(Mt-ht)/yt,St+=(Mt*ct-St)/yt,mt+=(Mt*Mt-mt)/yt,pt+=(ct*xt-pt)/yt,kt+=(Mt*xt-kt)/yt;var Vt=0,B=0,Ht=P?+P[0]:1/0,Kt=P?+P[1]:-1/0;gt(T,A,E,function(ie,se){B++,Vt+=(se-Vt)/B,P||(ie<Ht&&(Ht=ie),ie>Kt&&(Kt=ie))});var Qt=mt-ht*ht,ae=ht*Qt-St*St,te=(kt*ht-pt*St)/ae,le=(pt*Qt-kt*St)/ae,ne=-te*ht,re=function(se){return se=se-at,te*se*se+le*se+ne+ut},Xt=vt(Ht,Kt,re);return Xt.a=te,Xt.b=le-2*te*at,Xt.c=ne-le*at+te*at*at+ut,Xt.predict=re,Xt.rSquared=Dt(T,A,E,Vt,re),Xt}return I.domain=function(T){return arguments.length?(P=T,I):P},I.x=function(T){return arguments.length?(A=T,I):A},I.y=function(T){return arguments.length?(E=T,I):E},I}function Ut(){var A=function(R){return R[0]},E=function(R){return R[1]},P=3,I;function T(M){if(P===1){var R=J().x(A).y(E).domain(I)(M);return R.coefficients=[R.b,R.a],delete R.a,delete R.b,R}if(P===2){var V=b().x(A).y(E).domain(I)(M);return V.coefficients=[V.c,V.b,V.a],delete V.a,delete V.b,delete V.c,V}var H=nt(M,A,E),at=tt(H,4),ut=at[0],ot=at[1],ht=at[2],St=at[3],mt=ut.length,pt=[],kt=[],yt=P+1,ct=0,xt=0,Mt=I?+I[0]:1/0,Vt=I?+I[1]:-1/0;gt(M,A,E,function(re,Xt){++xt,ct+=(Xt-ct)/xt,I||(re<Mt&&(Mt=re),re>Vt&&(Vt=re))});var B,Ht,Kt,Qt,ae;for(B=0;B<yt;++B){for(Kt=0,Qt=0;Kt<mt;++Kt)Qt+=Math.pow(ut[Kt],B)*ot[Kt];for(pt.push(Qt),ae=new Float64Array(yt),Ht=0;Ht<yt;++Ht){for(Kt=0,Qt=0;Kt<mt;++Kt)Qt+=Math.pow(ut[Kt],B+Ht);ae[Ht]=Qt}kt.push(ae)}kt.push(pt);var te=Et(kt),le=function(Xt){Xt-=ht;var ie=St+te[0]+te[1]*Xt+te[2]*Xt*Xt;for(B=3;B<yt;++B)ie+=te[B]*Math.pow(Xt,B);return ie},ne=vt(Mt,Vt,le);return ne.coefficients=N(yt,te,-ht,St),ne.predict=le,ne.rSquared=Dt(M,A,E,ct,le),ne}return T.domain=function(M){return arguments.length?(I=M,T):I},T.x=function(M){return arguments.length?(A=M,T):A},T.y=function(M){return arguments.length?(E=M,T):E},T.order=function(M){return arguments.length?(P=M,T):P},T}function N(A,E,P,I){var T=Array(A),M,R,V,H;for(M=0;M<A;++M)T[M]=0;for(M=A-1;M>=0;--M)for(V=E[M],H=1,T[M]+=V,R=1;R<=M;++R)H*=(M+1-R)/R,T[M-R]+=V*Math.pow(P,R)*H;return T[0]+=I,T}function Et(A){var E=A.length-1,P=[],I,T,M,R,V;for(I=0;I<E;++I){for(R=I,T=I+1;T<E;++T)Math.abs(A[I][T])>Math.abs(A[I][R])&&(R=T);for(M=I;M<E+1;++M)V=A[M][I],A[M][I]=A[M][R],A[M][R]=V;for(T=I+1;T<E;++T)for(M=E;M>=I;M--)A[M][T]-=A[M][I]*A[I][T]/A[I][I]}for(T=E-1;T>=0;--T){for(V=0,M=T+1;M<E;++M)V+=A[M][T]*P[M];P[T]=(A[E][T]-V)/A[T][T]}return P}function Lt(){var A=function(M){return M[0]},E=function(M){return M[1]},P;function I(T){var M=0,R=0,V=0,H=0,at=0,ut=0,ot=P?+P[0]:1/0,ht=P?+P[1]:-1/0;gt(T,A,E,function(xt,Mt){var Vt=Math.log(xt),B=Math.log(Mt);++M,R+=(Vt-R)/M,V+=(B-V)/M,H+=(Vt*B-H)/M,at+=(Vt*Vt-at)/M,ut+=(Mt-ut)/M,P||(xt<ot&&(ot=xt),xt>ht&&(ht=xt))});var St=U(R,V,H,at),mt=tt(St,2),pt=mt[0],kt=mt[1];pt=Math.exp(pt);var yt=function(Mt){return pt*Math.pow(Mt,kt)},ct=vt(ot,ht,yt);return ct.a=pt,ct.b=kt,ct.predict=yt,ct.rSquared=Dt(T,A,E,ut,yt),ct}return I.domain=function(T){return arguments.length?(P=T,I):P},I.x=function(T){return arguments.length?(A=T,I):A},I.y=function(T){return arguments.length?(E=T,I):E},I}L.regressionExp=Pt,L.regressionLinear=J,L.regressionLoess=K,L.regressionLog=Ct,L.regressionPoly=Ut,L.regressionPow=Lt,L.regressionQuad=b,Object.defineProperty(L,"__esModule",{value:!0})})},41995:function(Gt,st){(function(L,tt){tt(st)})(this,function(L){"use strict";function tt(J,Z,z,C){C=C||{};var K=C.maxIterations||100,wt=C.tolerance||1e-10,Ot=J(Z),Zt=J(z),Ct=z-Z;if(Ot*Zt>0)throw"Initial bisect points must have opposite signs";if(Ot===0)return Z;if(Zt===0)return z;for(var b=0;b<K;++b){Ct/=2;var Ut=Z+Ct,N=J(Ut);if(N*Ot>=0&&(Z=Ut),Math.abs(Ct)<wt||N===0)return Ut}return Z+Ct}function D(J){for(var Z=new Array(J),z=0;z<J;++z)Z[z]=0;return Z}function g(J,Z){return D(J).map(function(){return D(Z)})}function h(J,Z){for(var z=0,C=0;C<J.length;++C)z+=J[C]*Z[C];return z}function nt(J){return Math.sqrt(h(J,J))}function gt(J,Z,z){for(var C=0;C<Z.length;++C)J[C]=Z[C]*z}function Dt(J,Z,z,C,K){for(var wt=0;wt<J.length;++wt)J[wt]=Z*z[wt]+C*K[wt]}function j(J,Z,z){z=z||{};var C=z.maxIterations||Z.length*200,K=z.nonZeroDelta||1.05,wt=z.zeroDelta||.001,Ot=z.minErrorDelta||1e-6,Zt=z.minErrorDelta||1e-5,Ct=z.rho!==void 0?z.rho:1,b=z.chi!==void 0?z.chi:2,Ut=z.psi!==void 0?z.psi:-.5,N=z.sigma!==void 0?z.sigma:.5,Et,Lt=Z.length,A=new Array(Lt+1);A[0]=Z,A[0].fx=J(Z),A[0].id=0;for(var E=0;E<Lt;++E){var P=Z.slice();P[E]=P[E]?P[E]*K:wt,A[E+1]=P,A[E+1].fx=J(P),A[E+1].id=E+1}function I(mt){for(var pt=0;pt<mt.length;pt++)A[Lt][pt]=mt[pt];A[Lt].fx=mt.fx}for(var T=function(mt,pt){return mt.fx-pt.fx},M=Z.slice(),R=Z.slice(),V=Z.slice(),H=Z.slice(),at=0;at<C;++at){if(A.sort(T),z.history){var ut=A.map(function(mt){var pt=mt.slice();return pt.fx=mt.fx,pt.id=mt.id,pt});ut.sort(function(mt,pt){return mt.id-pt.id}),z.history.push({x:A[0].slice(),fx:A[0].fx,simplex:ut})}for(Et=0,E=0;E<Lt;++E)Et=Math.max(Et,Math.abs(A[0][E]-A[1][E]));if(Math.abs(A[0].fx-A[Lt].fx)<Ot&&Et<Zt)break;for(E=0;E<Lt;++E){M[E]=0;for(var ot=0;ot<Lt;++ot)M[E]+=A[ot][E];M[E]/=Lt}var ht=A[Lt];if(Dt(R,1+Ct,M,-Ct,ht),R.fx=J(R),R.fx<A[0].fx)Dt(H,1+b,M,-b,ht),H.fx=J(H),H.fx<R.fx?I(H):I(R);else if(R.fx>=A[Lt-1].fx){var St=!1;if(R.fx>ht.fx?(Dt(V,1+Ut,M,-Ut,ht),V.fx=J(V),V.fx<ht.fx?I(V):St=!0):(Dt(V,1-Ut*Ct,M,Ut*Ct,ht),V.fx=J(V),V.fx<R.fx?I(V):St=!0),St){if(N>=1)break;for(E=1;E<A.length;++E)Dt(A[E],1-N,A[0],N,A[E]),A[E].fx=J(A[E])}}else I(R)}return A.sort(T),{fx:A[0].fx,x:A[0]}}function q(J,Z,z,C,K,wt,Ot){var Zt=z.fx,Ct=h(z.fxprime,Z),b=Zt,Ut=Zt,N=Ct,Et=0;K=K||1,wt=wt||1e-6,Ot=Ot||.1;function Lt(E,P,I){for(var T=0;T<16;++T)if(K=(E+P)/2,Dt(C.x,1,z.x,K,Z),b=C.fx=J(C.x,C.fxprime),N=h(C.fxprime,Z),b>Zt+wt*K*Ct||b>=I)P=K;else{if(Math.abs(N)<=-Ot*Ct)return K;N*(P-E)>=0&&(P=E),E=K,I=b}return 0}for(var A=0;A<10;++A){if(Dt(C.x,1,z.x,K,Z),b=C.fx=J(C.x,C.fxprime),N=h(C.fxprime,Z),b>Zt+wt*K*Ct||A&&b>=Ut)return Lt(Et,K,Ut);if(Math.abs(N)<=-Ot*Ct)return K;if(N>=0)return Lt(K,Et,b);Ut=b,Et=K,K*=2}return K}function vt(J,Z,z){var C={x:Z.slice(),fx:0,fxprime:Z.slice()},K={x:Z.slice(),fx:0,fxprime:Z.slice()},wt=Z.slice(),Ot,Zt,Ct=1,b;z=z||{},b=z.maxIterations||Z.length*20,C.fx=J(C.x,C.fxprime),Ot=C.fxprime.slice(),gt(Ot,C.fxprime,-1);for(var Ut=0;Ut<b;++Ut){if(Ct=q(J,Ot,C,K,Ct),z.history&&z.history.push({x:C.x.slice(),fx:C.fx,fxprime:C.fxprime.slice(),alpha:Ct}),!Ct)gt(Ot,C.fxprime,-1);else{Dt(wt,1,K.fxprime,-1,C.fxprime);var N=h(C.fxprime,C.fxprime),Et=Math.max(0,h(wt,K.fxprime)/N);Dt(Ot,Et,Ot,-1,K.fxprime),Zt=C,C=K,K=Zt}if(nt(C.fxprime)<=1e-5)break}return z.history&&z.history.push({x:C.x.slice(),fx:C.fx,fxprime:C.fxprime.slice(),alpha:Ct}),C}function U(J,Z,z){z=z||{};for(var C=z.maxIterations||Z.length*100,K=z.learnRate||.001,wt={x:Z.slice(),fx:0,fxprime:Z.slice()},Ot=0;Ot<C&&(wt.fx=J(wt.x,wt.fxprime),z.history&&z.history.push({x:wt.x.slice(),fx:wt.fx,fxprime:wt.fxprime.slice()}),Dt(wt.x,1,wt.x,-K,wt.fxprime),!(nt(wt.fxprime)<=1e-5));++Ot);return wt}function Pt(J,Z,z){z=z||{};var C={x:Z.slice(),fx:0,fxprime:Z.slice()},K={x:Z.slice(),fx:0,fxprime:Z.slice()},wt=z.maxIterations||Z.length*100,Ot=z.learnRate||1,Zt=Z.slice(),Ct=z.c1||.001,b=z.c2||.1,Ut,N=[];if(z.history){var Et=J;J=function(A,E){return N.push(A.slice()),Et(A,E)}}C.fx=J(C.x,C.fxprime);for(var Lt=0;Lt<wt&&(gt(Zt,C.fxprime,-1),Ot=q(J,Zt,C,K,Ot,Ct,b),z.history&&(z.history.push({x:C.x.slice(),fx:C.fx,fxprime:C.fxprime.slice(),functionCalls:N,learnRate:Ot,alpha:Ot}),N=[]),Ut=C,C=K,K=Ut,!(Ot===0||nt(C.fxprime)<1e-5));++Lt);return C}L.bisect=tt,L.nelderMead=j,L.conjugateGradient=vt,L.gradientDescent=U,L.gradientDescentLineSearch=Pt,L.zeros=D,L.zerosM=g,L.norm2=nt,L.weightedSum=Dt,L.scale=gt})},1054:function(Gt){"use strict";var st=Gt.exports;Gt.exports.isNumber=function(L){return typeof L=="number"},Gt.exports.findMin=function(L){if(L.length===0)return 1/0;for(var tt=L[0],D=1;D<L.length;D++)tt=Math.min(tt,L[D]);return tt},Gt.exports.findMax=function(L){if(L.length===0)return-1/0;for(var tt=L[0],D=1;D<L.length;D++)tt=Math.max(tt,L[D]);return tt},Gt.exports.findMinMulti=function(L){for(var tt=st.findMin(L[0]),D=1;D<L.length;D++)tt=Math.min(tt,st.findMin(L[D]));return tt},Gt.exports.findMaxMulti=function(L){for(var tt=st.findMax(L[0]),D=1;D<L.length;D++)tt=Math.max(tt,st.findMax(L[D]));return tt},Gt.exports.inside=function(L,tt,D){return L<=D&&D<=tt}},64051:function(Gt,st,L){"use strict";var tt=50,D=2,g=Math.log(2),h=Gt.exports,nt=L(1054);function gt(j){return 1-Math.abs(j)}Gt.exports.getUnifiedMinMax=function(j,q){return h.getUnifiedMinMaxMulti([j],q)},Gt.exports.getUnifiedMinMaxMulti=function(j,q){q=q||{};var vt=!1,U=!1,Pt=nt.isNumber(q.width)?q.width:D,J=nt.isNumber(q.size)?q.size:tt,Z=nt.isNumber(q.min)?q.min:(vt=!0,nt.findMinMulti(j)),z=nt.isNumber(q.max)?q.max:(U=!0,nt.findMaxMulti(j)),C=z-Z,K=C/(J-1);return vt&&(Z=Z-2*Pt*K),U&&(z=z+2*Pt*K),{min:Z,max:z}},Gt.exports.create=function(j,q){if(q=q||{},!j||j.length===0)return[];var vt=nt.isNumber(q.size)?q.size:tt,U=nt.isNumber(q.width)?q.width:D,Pt=h.getUnifiedMinMax(j,{size:vt,width:U,min:q.min,max:q.max}),J=Pt.min,Z=Pt.max,z=Z-J,C=z/(vt-1);if(z===0)return[{x:J,y:1}];for(var K=[],wt=0;wt<vt;wt++)K.push({x:J+wt*C,y:0});var Ot=function(A){return Math.floor((A-J)/C)},Zt=Dt(gt,U),Ct=Zt[U],b=Zt[U-1]-Zt[U-2],Ut=0;j.forEach(function(A){var E=Ot(A);if(!(E+U<0||E-U>=K.length)){var P=Math.max(E-U,0),I=E,T=Math.min(E+U,K.length-1),M=P-(E-U),R=E+U-T,V=Zt[-U-1+M]||0,H=Zt[-U-1+R]||0,at=Ct/(Ct-V-H);M>0&&(Ut+=at*(M-1)*b);var ut=Math.max(0,E-U+1);nt.inside(0,K.length-1,ut)&&(K[ut].y+=at*1*b),nt.inside(0,K.length-1,I+1)&&(K[I+1].y-=at*2*b),nt.inside(0,K.length-1,T+1)&&(K[T+1].y+=at*1*b)}});var N=Ut,Et=0,Lt=0;return K.forEach(function(A){Et+=A.y,N+=Et,A.y=N,Lt+=N}),Lt>0&&K.forEach(function(A){A.y/=Lt}),K};function Dt(j,q){for(var vt={},U=0,Pt=-q;Pt<=q;Pt++)U+=j(Pt/q),vt[Pt]=U;return vt}Gt.exports.getExpectedValueFromPdf=function(j){if(!(!j||j.length===0)){var q=0;return j.forEach(function(vt){q+=vt.x*vt.y}),q}},Gt.exports.getXWithLeftTailArea=function(j,q){if(!(!j||j.length===0)){for(var vt=0,U=0,Pt=0;Pt<j.length&&(U=Pt,vt+=j[Pt].y,!(vt>=q));Pt++);return j[U].x}},Gt.exports.getPerplexity=function(j){if(!(!j||j.length===0)){var q=0;return j.forEach(function(vt){var U=Math.log(vt.y);isFinite(U)&&(q+=vt.y*U)}),q=-q/g,Math.pow(2,q)}}},53473:function(Gt,st){"use strict";Object.defineProperty(st,"__esModule",{value:!0}),st.SizeSensorId=st.SensorTabIndex=st.SensorClassName=void 0;var L="size-sensor-id";st.SizeSensorId=L;var tt="size-sensor-object";st.SensorClassName=tt;var D="-1";st.SensorTabIndex=D},30649:function(Gt,st){"use strict";Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var L=function(D){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,h=null;return function(){for(var nt=this,gt=arguments.length,Dt=new Array(gt),j=0;j<gt;j++)Dt[j]=arguments[j];clearTimeout(h),h=setTimeout(function(){D.apply(nt,Dt)},g)}};st.default=L},81924:function(Gt,st){"use strict";Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var L=1,tt=function(){return"".concat(L++)};st.default=tt},31770:function(Gt,st,L){"use strict";var tt;tt={value:!0},tt=tt=st.ak=void 0;var D=L(85783),g=function(Dt,j){var q=(0,D.getSensor)(Dt);return q.bind(j),function(){q.unbind(j)}};st.ak=g;var h=function(Dt){var j=(0,D.getSensor)(Dt);(0,D.removeSensor)(j)};tt=h;var nt="1.0.2";tt=nt},85783:function(Gt,st,L){"use strict";Object.defineProperty(st,"__esModule",{value:!0}),st.removeSensor=st.getSensor=st.Sensors=void 0;var tt=h(L(81924)),D=L(16171),g=L(53473);function h(q){return q&&q.__esModule?q:{default:q}}var nt={};st.Sensors=nt;function gt(q){q&&nt[q]&&delete nt[q]}var Dt=function(vt){var U=vt.getAttribute(g.SizeSensorId);if(U&&nt[U])return nt[U];var Pt=(0,tt.default)();vt.setAttribute(g.SizeSensorId,Pt);var J=(0,D.createSensor)(vt,function(){return gt(Pt)});return nt[Pt]=J,J};st.getSensor=Dt;var j=function(vt){var U=vt.element.getAttribute(g.SizeSensorId);vt.destroy(),gt(U)};st.removeSensor=j},16171:function(Gt,st,L){"use strict";Object.defineProperty(st,"__esModule",{value:!0}),st.createSensor=void 0;var tt=L(88307),D=L(54604),g=typeof ResizeObserver!="undefined"?D.createSensor:tt.createSensor;st.createSensor=g},88307:function(Gt,st,L){"use strict";Object.defineProperty(st,"__esModule",{value:!0}),st.createSensor=void 0;var tt=g(L(30649)),D=L(53473);function g(nt){return nt&&nt.__esModule?nt:{default:nt}}var h=function(gt,Dt){var j=void 0,q=[],vt=function(){getComputedStyle(gt).position==="static"&&(gt.style.position="relative");var C=document.createElement("object");return C.onload=function(){C.contentDocument.defaultView.addEventListener("resize",U),U()},C.style.display="block",C.style.position="absolute",C.style.top="0",C.style.left="0",C.style.height="100%",C.style.width="100%",C.style.overflow="hidden",C.style.pointerEvents="none",C.style.zIndex="-1",C.style.opacity="0",C.setAttribute("class",D.SensorClassName),C.setAttribute("tabindex",D.SensorTabIndex),C.type="text/html",gt.appendChild(C),C.data="about:blank",C},U=(0,tt.default)(function(){q.forEach(function(z){z(gt)})}),Pt=function(C){j||(j=vt()),q.indexOf(C)===-1&&q.push(C)},J=function(){j&&j.parentNode&&(j.contentDocument&&j.contentDocument.defaultView.removeEventListener("resize",U),j.parentNode.removeChild(j),gt.removeAttribute(D.SizeSensorId),j=void 0,q=[],Dt&&Dt())},Z=function(C){var K=q.indexOf(C);K!==-1&&q.splice(K,1),q.length===0&&j&&J()};return{element:gt,bind:Pt,destroy:J,unbind:Z}};st.createSensor=h},54604:function(Gt,st,L){"use strict";Object.defineProperty(st,"__esModule",{value:!0}),st.createSensor=void 0;var tt=L(53473),D=g(L(30649));function g(nt){return nt&&nt.__esModule?nt:{default:nt}}var h=function(gt,Dt){var j=void 0,q=[],vt=(0,D.default)(function(){q.forEach(function(z){z(gt)})}),U=function(){var C=new ResizeObserver(vt);return C.observe(gt),vt(),C},Pt=function(C){j||(j=U()),q.indexOf(C)===-1&&q.push(C)},J=function(){j.disconnect(),q=[],j=void 0,gt.removeAttribute(tt.SizeSensorId),Dt&&Dt()},Z=function(C){var K=q.indexOf(C);K!==-1&&q.splice(K,1),q.length===0&&j&&J()};return{element:gt,bind:Pt,destroy:J,unbind:Z}};st.createSensor=h}}]);
