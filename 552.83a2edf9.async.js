"use strict";(self.webpackChunk_antv_li_website=self.webpackChunk_antv_li_website||[]).push([[552],{74121:function(z,D,l){l.r(D);var h=l(87363),r=l.n(h),L=l(36248),I=l(90005),R=l.n(I),M=l(81821),H=l.n(M),_=l(15934),C=l(30095),T=l(14214),W=l(89446),X=l(86610);function K(a,n){return N(a)||j(a,n)||S(a,n)||F()}function F(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(a,n){if(a){if(typeof a=="string")return P(a,n);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return P(a,n)}}function P(a,n){(n==null||n>a.length)&&(n=a.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=a[e];return o}function j(a,n){var e=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(e!=null){var o,u,t,c,g=[],d=!0,m=!1;try{if(t=(e=e.call(a)).next,n===0){if(Object(e)!==e)return;d=!1}else for(;!(d=(o=t.call(e)).done)&&(g.push(o.value),g.length!==n);d=!0);}catch(f){m=!0,u=f}finally{try{if(!d&&e.return!=null&&(c=e.return(),Object(c)!==c))return}finally{if(m)throw u}}return g}}function N(a){if(Array.isArray(a))return a}var V=function(n){var e=n.tableData,o=n.id,u=n.columns,t=n.value,c=n.settingVisible,g=c===void 0?!0:c,d=n.reloadSignal,m=n.theme,f=m===void 0?"light":m,Z=(0,h.useState)([]),b=K(Z,2),$=b[0],A=b[1],v=(0,h.useRef)(),p=function(s){var E=t.y;if(!t.split){var O;E="".concat(t.y,"(").concat((O=_.d0.find(function(Y){return Y.id===t.aggregation}))===null||O===void 0?void 0:O.displayName,")")}if(v.current)v.current.update({data:s,xField:t.x,yField:E,seriesField:t.split});else{var U=new L.x1(o,{data:s,padding:[20,20,30,20],xField:t.x,yField:E,color:["#5B8FF9","#60DBA8","#65789B"],seriesField:t.split,label:{style:{fill:f==="light"?"black":"white"}},xAxis:{label:{style:{fill:f==="light"?"black":"white"}}},yAxis:{label:{style:{fill:f==="light"?"black":"white"}},grid:{line:{style:{lineDash:[5]}}}}});v.current=U,U.render()}},x=function(){v.current&&(v.current.destroy(),v.current=null)};(0,h.useEffect)(function(){if(t.x&&t.y&&e.length>1){var i=(0,_.jm)(t.x,t.y,t.aggregation,e,t.split);A(i),p(i)}else x()},[e,d]),(0,W.YP)(t,function(){if(t.x&&t.y&&e.length>1){var i=(0,_.jm)(t.x,t.y,t.aggregation,e,t.split);A(i),p(i)}else x()});var y=function(s,E){t[s]=E},B=t.x&&t.y;return r().createElement("div",{className:"chartContainer"},g&&r().createElement("div",{className:"settings"},r().createElement("div",{className:"item"},r().createElement(C.Z,{label:"X\u8F74",value:t.x,onChange:function(s){y("x",s)},columns:u}),r().createElement(C.Z,{label:r().createElement("div",{className:"splitLabel"},r().createElement("div",null,"Y\u8F74"),r().createElement(T.Z,{value:t.aggregation,onChange:function(s){y("aggregation",s)}})),value:t.y,onChange:function(s){y("y",s)},columns:u}),r().createElement(C.Z,{label:"\u62C6\u5206",value:t.split,onChange:function(s){y("split",s)},columns:u}))),r().createElement("div",{className:R()("content",{empty:!B})},B?r().createElement("div",{id:o,className:"g2Container"}):r().createElement(M.Empty,null)))};D.default=r().memo(V)}}]);
