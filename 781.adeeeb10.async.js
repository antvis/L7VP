(self.webpackChunk_antv_li_website=self.webpackChunk_antv_li_website||[]).push([[781],{80052:function(ai,Sn,tt){"use strict";var Ve=tt(47165),ye=/rgba?\(([\s.,0-9]+)\)/,ut=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,oe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,cr=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,re=function(Gt){return/^[r,R,L,l]{1}[\s]*\(/.test(Gt)},ie=function(){var Gt=document.createElement("i");return Gt.title="Web Colour Picker",Gt.style.display="none",document.body.appendChild(Gt),Gt},Ft=function(Gt,lr,tr,xt){return Gt[xt]+(lr[xt]-Gt[xt])*tr};function Dt(Gt){return"#"+kt(Gt[0])+kt(Gt[1])+kt(Gt[2])}var or=function(Gt){return[parseInt(Gt.substr(1,2),16),parseInt(Gt.substr(3,2),16),parseInt(Gt.substr(5,2),16)]},kt=function(Gt){var lr=Math.round(Gt).toString(16);return lr.length===1?"0"+lr:lr},Mt=function(Gt,lr){var tr=isNaN(Number(lr))||lr<0?0:lr>1?1:Number(lr),xt=Gt.length-1,gt=Math.floor(xt*tr),er=xt*tr-gt,Lt=Gt[gt],Nt=gt===xt?Lt:Gt[gt+1];return Dt([Ft(Lt,Nt,er,0),Ft(Lt,Nt,er,1),Ft(Lt,Nt,er,2)])},U,D=function(Gt){if(Gt[0]==="#"&&Gt.length===7)return Gt;U||(U=ie()),U.style.color=Gt;var lr=document.defaultView.getComputedStyle(U,"").getPropertyValue("color"),tr=ye.exec(lr),xt=tr[1].split(/\s*,\s*/).map(function(gt){return Number(gt)});return lr=Dt(xt),lr},Pt=function(Gt){var lr=(0,Ve.HD)(Gt)?Gt.split("-"):Gt,tr=(0,Ve.UI)(lr,function(xt){return or(xt.indexOf("#")===-1?D(xt):xt)});return function(xt){return Mt(tr,xt)}},lt=function(Gt){if(re(Gt)){var lr,tr=void 0;if(Gt[0]==="l"){var xt=ut.exec(Gt),gt=+xt[1]+90;tr=xt[2],lr="linear-gradient("+gt+"deg, "}else if(Gt[0]==="r"){lr="radial-gradient(";var xt=oe.exec(Gt);tr=xt[4]}var er=tr.match(cr);return(0,Ve.S6)(er,function(Lt,Nt){var Tr=Lt.split(":");lr+=Tr[1]+" "+Tr[0]*100+"%",Nt!==er.length-1&&(lr+=", ")}),lr+=")",lr}return Gt};Sn.Z={rgb2arr:or,gradient:Pt,toRGB:(0,Ve.HP)(D),toCSSGradient:lt}},22680:function(ai,Sn,tt){"use strict";var Ve=tt(85556),ye=tt(75262),ut=tt(37898),oe=function(cr){(0,Ve.ZT)(re,cr);function re(ie){var Ft=cr.call(this)||this;Ft.destroyed=!1;var Dt=Ft.getDefaultCfg();return Ft.cfg=(0,ut.CD)(Dt,ie),Ft}return re.prototype.getDefaultCfg=function(){return{}},re.prototype.get=function(ie){return this.cfg[ie]},re.prototype.set=function(ie,Ft){this.cfg[ie]=Ft},re.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},re}(ye.Z);Sn.Z=oe},59294:function(ai,Sn,tt){"use strict";tt.d(Sn,{Z:function(){return Uf}});var Ve=tt(85556),ye=tt(32655),ut=tt(40023),oe=tt(37898),cr=tt(47165),re=0,ie=0,Ft=0,Dt=1e3,or,kt,Mt=0,U=0,D=0,Pt=typeof performance=="object"&&performance.now?performance:Date,lt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(St){setTimeout(St,17)};function Gt(){return U||(lt(lr),U=Pt.now()+D)}function lr(){U=0}function tr(){this._call=this._time=this._next=null}tr.prototype=xt.prototype={constructor:tr,restart:function(St,Pe,yt){if(typeof St!="function")throw new TypeError("callback is not a function");yt=(yt==null?Gt():+yt)+(Pe==null?0:+Pe),!this._next&&kt!==this&&(kt?kt._next=this:or=this,kt=this),this._call=St,this._time=yt,Tr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tr())}};function xt(St,Pe,yt){var qt=new tr;return qt.restart(St,Pe,yt),qt}function gt(){Gt(),++re;for(var St=or,Pe;St;)(Pe=U-St._time)>=0&&St._call.call(null,Pe),St=St._next;--re}function er(){U=(Mt=Pt.now())+D,re=ie=0;try{gt()}finally{re=0,Nt(),U=0}}function Lt(){var St=Pt.now(),Pe=St-Mt;Pe>Dt&&(D-=Pe,Mt=St)}function Nt(){for(var St,Pe=or,yt,qt=1/0;Pe;)Pe._call?(qt>Pe._time&&(qt=Pe._time),St=Pe,Pe=Pe._next):(yt=Pe._next,Pe._next=null,Pe=St?St._next=yt:or=yt);kt=St,Tr(qt)}function Tr(St){if(!re){ie&&(ie=clearTimeout(ie));var Pe=St-U;Pe>24?(St<1/0&&(ie=setTimeout(er,St-Pt.now()-D)),Ft&&(Ft=clearInterval(Ft))):(Ft||(Mt=Pt.now(),Ft=setInterval(Lt,Dt)),re=1,lt(er))}}var vr=tt(58335);function Yr(St,Pe,yt){St.prototype=Pe.prototype=yt,yt.constructor=St}function mn(St,Pe){var yt=Object.create(St.prototype);for(var qt in Pe)yt[qt]=Pe[qt];return yt}function Mn(){}var Fr=.7,Rn=1/Fr,Wn="\\s*([+-]?\\d+)\\s*",Ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rr=/^#([0-9a-f]{3,8})$/,un=new RegExp("^rgb\\(".concat(Wn,",").concat(Wn,",").concat(Wn,"\\)$")),yn=new RegExp("^rgb\\(".concat(Et,",").concat(Et,",").concat(Et,"\\)$")),Vt=new RegExp("^rgba\\(".concat(Wn,",").concat(Wn,",").concat(Wn,",").concat(Ge,"\\)$")),Ce=new RegExp("^rgba\\(".concat(Et,",").concat(Et,",").concat(Et,",").concat(Ge,"\\)$")),be=new RegExp("^hsl\\(".concat(Ge,",").concat(Et,",").concat(Et,"\\)$")),Ae=new RegExp("^hsla\\(".concat(Ge,",").concat(Et,",").concat(Et,",").concat(Ge,"\\)$")),_e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yr(Mn,fe,{copy:function(Pe){return Object.assign(new this.constructor,this,Pe)},displayable:function(){return this.rgb().displayable()},hex:ze,formatHex:ze,formatHex8:Bt,formatHsl:at,formatRgb:wt,toString:wt});function ze(){return this.rgb().formatHex()}function Bt(){return this.rgb().formatHex8()}function at(){return rt(this).formatHsl()}function wt(){return this.rgb().formatRgb()}function fe(St){var Pe,yt;return St=(St+"").trim().toLowerCase(),(Pe=Rr.exec(St))?(yt=Pe[1].length,Pe=parseInt(Pe[1],16),yt===6?st(Pe):yt===3?new sr(Pe>>8&15|Pe>>4&240,Pe>>4&15|Pe&240,(Pe&15)<<4|Pe&15,1):yt===8?Tt(Pe>>24&255,Pe>>16&255,Pe>>8&255,(Pe&255)/255):yt===4?Tt(Pe>>12&15|Pe>>8&240,Pe>>8&15|Pe>>4&240,Pe>>4&15|Pe&240,((Pe&15)<<4|Pe&15)/255):null):(Pe=un.exec(St))?new sr(Pe[1],Pe[2],Pe[3],1):(Pe=yn.exec(St))?new sr(Pe[1]*255/100,Pe[2]*255/100,Pe[3]*255/100,1):(Pe=Vt.exec(St))?Tt(Pe[1],Pe[2],Pe[3],Pe[4]):(Pe=Ce.exec(St))?Tt(Pe[1]*255/100,Pe[2]*255/100,Pe[3]*255/100,Pe[4]):(Pe=be.exec(St))?Kr(Pe[1],Pe[2]/100,Pe[3]/100,1):(Pe=Ae.exec(St))?Kr(Pe[1],Pe[2]/100,Pe[3]/100,Pe[4]):_e.hasOwnProperty(St)?st(_e[St]):St==="transparent"?new sr(NaN,NaN,NaN,0):null}function st(St){return new sr(St>>16&255,St>>8&255,St&255,1)}function Tt(St,Pe,yt,qt){return qt<=0&&(St=Pe=yt=NaN),new sr(St,Pe,yt,qt)}function ir(St){return St instanceof Mn||(St=fe(St)),St?(St=St.rgb(),new sr(St.r,St.g,St.b,St.opacity)):new sr}function bt(St,Pe,yt,qt){return arguments.length===1?ir(St):new sr(St,Pe,yt,qt==null?1:qt)}function sr(St,Pe,yt,qt){this.r=+St,this.g=+Pe,this.b=+yt,this.opacity=+qt}Yr(sr,bt,mn(Mn,{brighter:function(Pe){return Pe=Pe==null?Rn:Math.pow(Rn,Pe),new sr(this.r*Pe,this.g*Pe,this.b*Pe,this.opacity)},darker:function(Pe){return Pe=Pe==null?Fr:Math.pow(Fr,Pe),new sr(this.r*Pe,this.g*Pe,this.b*Pe,this.opacity)},rgb:function(){return this},clamp:function(){return new sr(qn(this.r),qn(this.g),qn(this.b),fn(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dr,formatHex:dr,formatHex8:Pr,formatRgb:an,toString:an}));function dr(){return"#".concat(cn(this.r)).concat(cn(this.g)).concat(cn(this.b))}function Pr(){return"#".concat(cn(this.r)).concat(cn(this.g)).concat(cn(this.b)).concat(cn((isNaN(this.opacity)?1:this.opacity)*255))}function an(){var St=fn(this.opacity);return"".concat(St===1?"rgb(":"rgba(").concat(qn(this.r),", ").concat(qn(this.g),", ").concat(qn(this.b)).concat(St===1?")":", ".concat(St,")"))}function fn(St){return isNaN(St)?1:Math.max(0,Math.min(1,St))}function qn(St){return Math.max(0,Math.min(255,Math.round(St)||0))}function cn(St){return St=qn(St),(St<16?"0":"")+St.toString(16)}function Kr(St,Pe,yt,qt){return qt<=0?St=Pe=yt=NaN:yt<=0||yt>=1?St=Pe=NaN:Pe<=0&&(St=NaN),new ve(St,Pe,yt,qt)}function rt(St){if(St instanceof ve)return new ve(St.h,St.s,St.l,St.opacity);if(St instanceof Mn||(St=fe(St)),!St)return new ve;if(St instanceof ve)return St;St=St.rgb();var Pe=St.r/255,yt=St.g/255,qt=St.b/255,_r=Math.min(Pe,yt,qt),rn=Math.max(Pe,yt,qt),xn=NaN,vn=rn-_r,Ii=(rn+_r)/2;return vn?(Pe===rn?xn=(yt-qt)/vn+(yt<qt)*6:yt===rn?xn=(qt-Pe)/vn+2:xn=(Pe-yt)/vn+4,vn/=Ii<.5?rn+_r:2-rn-_r,xn*=60):vn=Ii>0&&Ii<1?0:xn,new ve(xn,vn,Ii,St.opacity)}function de(St,Pe,yt,qt){return arguments.length===1?rt(St):new ve(St,Pe,yt,qt==null?1:qt)}function ve(St,Pe,yt,qt){this.h=+St,this.s=+Pe,this.l=+yt,this.opacity=+qt}Yr(ve,de,mn(Mn,{brighter:function(Pe){return Pe=Pe==null?Rn:Math.pow(Rn,Pe),new ve(this.h,this.s,this.l*Pe,this.opacity)},darker:function(Pe){return Pe=Pe==null?Fr:Math.pow(Fr,Pe),new ve(this.h,this.s,this.l*Pe,this.opacity)},rgb:function(){var Pe=this.h%360+(this.h<0)*360,yt=isNaN(Pe)||isNaN(this.s)?0:this.s,qt=this.l,_r=qt+(qt<.5?qt:1-qt)*yt,rn=2*qt-_r;return new sr(Ee(Pe>=240?Pe-240:Pe+120,rn,_r),Ee(Pe,rn,_r),Ee(Pe<120?Pe+240:Pe-120,rn,_r),this.opacity)},clamp:function(){return new ve(ce(this.h),xe(this.s),xe(this.l),fn(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Pe=fn(this.opacity);return"".concat(Pe===1?"hsl(":"hsla(").concat(ce(this.h),", ").concat(xe(this.s)*100,"%, ").concat(xe(this.l)*100,"%").concat(Pe===1?")":", ".concat(Pe,")"))}}));function ce(St){return St=(St||0)%360,St<0?St+360:St}function xe(St){return Math.max(0,Math.min(1,St||0))}function Ee(St,Pe,yt){return(St<60?Pe+(yt-Pe)*St/60:St<180?yt:St<240?Pe+(yt-Pe)*(240-St)/60:Pe)*255}function Be(St,Pe,yt,qt,_r){var rn=St*St,xn=rn*St;return((1-3*St+3*rn-xn)*Pe+(4-6*rn+3*xn)*yt+(1+3*St+3*rn-3*xn)*qt+xn*_r)/6}function Re(St){var Pe=St.length-1;return function(yt){var qt=yt<=0?yt=0:yt>=1?(yt=1,Pe-1):Math.floor(yt*Pe),_r=St[qt],rn=St[qt+1],xn=qt>0?St[qt-1]:2*_r-rn,vn=qt<Pe-1?St[qt+2]:2*rn-_r;return Be((yt-qt/Pe)*Pe,xn,_r,rn,vn)}}function ct(St){var Pe=St.length;return function(yt){var qt=Math.floor(((yt%=1)<0?++yt:yt)*Pe),_r=St[(qt+Pe-1)%Pe],rn=St[qt%Pe],xn=St[(qt+1)%Pe],vn=St[(qt+2)%Pe];return Be((yt-qt/Pe)*Pe,_r,rn,xn,vn)}}var ht=function(St){return function(){return St}};function Ht(St,Pe){return function(yt){return St+yt*Pe}}function Yt(St,Pe,yt){return St=Math.pow(St,yt),Pe=Math.pow(Pe,yt)-St,yt=1/yt,function(qt){return Math.pow(St+qt*Pe,yt)}}function rr(St,Pe){var yt=Pe-St;return yt?Ht(St,yt>180||yt<-180?yt-360*Math.round(yt/360):yt):constant(isNaN(St)?Pe:St)}function hr(St){return(St=+St)==1?Hr:function(Pe,yt){return yt-Pe?Yt(Pe,yt,St):ht(isNaN(Pe)?yt:Pe)}}function Hr(St,Pe){var yt=Pe-St;return yt?Ht(St,yt):ht(isNaN(St)?Pe:St)}var Zt=function St(Pe){var yt=hr(Pe);function qt(_r,rn){var xn=yt((_r=bt(_r)).r,(rn=bt(rn)).r),vn=yt(_r.g,rn.g),Ii=yt(_r.b,rn.b),Fa=Hr(_r.opacity,rn.opacity);return function(_o){return _r.r=xn(_o),_r.g=vn(_o),_r.b=Ii(_o),_r.opacity=Fa(_o),_r+""}}return qt.gamma=St,qt}(1);function qr(St){return function(Pe){var yt=Pe.length,qt=new Array(yt),_r=new Array(yt),rn=new Array(yt),xn,vn;for(xn=0;xn<yt;++xn)vn=bt(Pe[xn]),qt[xn]=vn.r||0,_r[xn]=vn.g||0,rn[xn]=vn.b||0;return qt=St(qt),_r=St(_r),rn=St(rn),vn.opacity=1,function(Ii){return vn.r=qt(Ii),vn.g=_r(Ii),vn.b=rn(Ii),vn+""}}}var Qr=qr(Re),dn=qr(ct);function kn(St,Pe){Pe||(Pe=[]);var yt=St?Math.min(Pe.length,St.length):0,qt=Pe.slice(),_r;return function(rn){for(_r=0;_r<yt;++_r)qt[_r]=St[_r]*(1-rn)+Pe[_r]*rn;return qt}}function wr(St){return ArrayBuffer.isView(St)&&!(St instanceof DataView)}function ei(St,Pe){return(wr(Pe)?kn:Ln)(St,Pe)}function Ln(St,Pe){var yt=Pe?Pe.length:0,qt=St?Math.min(yt,St.length):0,_r=new Array(qt),rn=new Array(yt),xn;for(xn=0;xn<qt;++xn)_r[xn]=_a(St[xn],Pe[xn]);for(;xn<yt;++xn)rn[xn]=Pe[xn];return function(vn){for(xn=0;xn<qt;++xn)rn[xn]=_r[xn](vn);return rn}}function yi(St,Pe){var yt=new Date;return St=+St,Pe=+Pe,function(qt){return yt.setTime(St*(1-qt)+Pe*qt),yt}}function fa(St,Pe){return St=+St,Pe=+Pe,function(yt){return St*(1-yt)+Pe*yt}}function _i(St,Pe){var yt={},qt={},_r;(St===null||vr(St)!=="object")&&(St={}),(Pe===null||vr(Pe)!=="object")&&(Pe={});for(_r in Pe)_r in St?yt[_r]=_a(St[_r],Pe[_r]):qt[_r]=Pe[_r];return function(rn){for(_r in yt)qt[_r]=yt[_r](rn);return qt}}var Ja=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gr=new RegExp(Ja.source,"g");function oi(St){return function(){return St}}function is(St){return function(Pe){return St(Pe)+""}}function qa(St,Pe){var yt=Ja.lastIndex=Gr.lastIndex=0,qt,_r,rn,xn=-1,vn=[],Ii=[];for(St=St+"",Pe=Pe+"";(qt=Ja.exec(St))&&(_r=Gr.exec(Pe));)(rn=_r.index)>yt&&(rn=Pe.slice(yt,rn),vn[xn]?vn[xn]+=rn:vn[++xn]=rn),(qt=qt[0])===(_r=_r[0])?vn[xn]?vn[xn]+=_r:vn[++xn]=_r:(vn[++xn]=null,Ii.push({i:xn,x:fa(qt,_r)})),yt=Gr.lastIndex;return yt<Pe.length&&(rn=Pe.slice(yt),vn[xn]?vn[xn]+=rn:vn[++xn]=rn),vn.length<2?Ii[0]?is(Ii[0].x):oi(Pe):(Pe=Ii.length,function(Fa){for(var _o=0,vl;_o<Pe;++_o)vn[(vl=Ii[_o]).i]=vl.x(Fa);return vn.join("")})}function _a(St,Pe){var yt=vr(Pe),qt;return Pe==null||yt==="boolean"?ht(Pe):(yt==="number"?fa:yt==="string"?(qt=fe(Pe))?(Pe=qt,Zt):qa:Pe instanceof fe?Zt:Pe instanceof Date?yi:wr(Pe)?kn:Array.isArray(Pe)?Ln:typeof Pe.valueOf!="function"&&typeof Pe.toString!="function"||isNaN(Pe)?_i:fa)(St,Pe)}var Ti=tt(71055),oa=tt(20939),zi=function(St){return["fill","stroke","fillStyle","strokeStyle"].includes(St)},dl=function(St){return/^[r,R,L,l]{1}[\s]*\(/.test(St)},go=[1,0,0,0,1,0,0,0,1];function Ol(St,Pe,yt){var qt={},_r=Pe.fromAttrs,rn=Pe.toAttrs;if(!St.destroyed){var xn;for(var vn in rn)if(!(0,cr.Xy)(_r[vn],rn[vn]))if(vn==="path"){var Ii=rn[vn],Fa=_r[vn];Ii.length>Fa.length?(Ii=oa.parsePathString(rn[vn]),Fa=oa.parsePathString(_r[vn]),Fa=oa.fillPathByDiff(Fa,Ii),Fa=oa.formatPath(Fa,Ii),Pe.fromAttrs.path=Fa,Pe.toAttrs.path=Ii):Pe.pathFormatted||(Ii=oa.parsePathString(rn[vn]),Fa=oa.parsePathString(_r[vn]),Fa=oa.formatPath(Fa,Ii),Pe.fromAttrs.path=Fa,Pe.toAttrs.path=Ii,Pe.pathFormatted=!0),qt[vn]=[];for(var _o=0;_o<Ii.length;_o++){for(var vl=Ii[_o],Us=Fa[_o],Eo=[],as=0;as<vl.length;as++)(0,cr.hj)(vl[as])&&Us&&(0,cr.hj)(Us[as])?(xn=_a(Us[as],vl[as]),Eo.push(xn(yt))):Eo.push(vl[as]);qt[vn].push(Eo)}}else if(vn==="matrix"){var Os=ei(_r[vn]||go,rn[vn]||go),Yf=Os(yt);qt[vn]=Yf}else zi(vn)&&dl(rn[vn])?qt[vn]=rn[vn]:(0,cr.mf)(rn[vn])||(xn=_a(_r[vn],rn[vn]),qt[vn]=xn(yt));St.attr(qt)}}function Es(St,Pe,yt){var qt=Pe.startTime,_r=Pe.delay;if(yt<qt+_r||Pe._paused)return!1;var rn,xn=Pe.duration,vn=Pe.easing,Ii=(0,Ti._)(vn);if(yt=yt-qt-Pe.delay,Pe.repeat)rn=yt%xn/xn,rn=Ii(rn);else if(rn=yt/xn,rn<1)rn=Ii(rn);else return Pe.onFrame?St.attr(Pe.onFrame(1)):St.attr(Pe.toAttrs),!0;if(Pe.onFrame){var Fa=Pe.onFrame(rn);St.attr(Fa)}else Ol(St,Pe,rn);return!1}var Gs=function(){function St(Pe){this.animators=[],this.current=0,this.timer=null,this.canvas=Pe}return St.prototype.initTimer=function(){var Pe=this,yt=!1,qt,_r,rn;this.timer=xt(function(xn){if(Pe.current=xn,Pe.animators.length>0){for(var vn=Pe.animators.length-1;vn>=0;vn--){if(qt=Pe.animators[vn],qt.destroyed){Pe.removeAnimator(vn);continue}if(!qt.isAnimatePaused()){_r=qt.get("animations");for(var Ii=_r.length-1;Ii>=0;Ii--)rn=_r[Ii],yt=Es(qt,rn,xn),yt&&(_r.splice(Ii,1),yt=!1,rn.callback&&rn.callback())}_r.length===0&&Pe.removeAnimator(vn)}var Fa=Pe.canvas.get("autoDraw");Fa||Pe.canvas.draw()}})},St.prototype.addAnimator=function(Pe){this.animators.push(Pe)},St.prototype.removeAnimator=function(Pe){this.animators.splice(Pe,1)},St.prototype.isAnimating=function(){return!!this.animators.length},St.prototype.stop=function(){this.timer&&this.timer.stop()},St.prototype.stopAllAnimations=function(Pe){Pe===void 0&&(Pe=!0),this.animators.forEach(function(yt){yt.stopAnimate(Pe)}),this.animators=[],this.canvas.draw()},St.prototype.getTime=function(){return this.current},St}(),iu=Gs,ql=tt(64727),$f=40,ju=0,au=":",Ms=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Ts(St,Pe){for(var yt in St)if(St.hasOwnProperty(yt)&&yt.indexOf(au+Pe)>=0)return!0;return!1}function Ph(St,Pe,yt){yt.name=Pe,yt.target=St,yt.currentTarget=St,yt.delegateTarget=St,St.emit(Pe,yt)}function ff(St,Pe,yt){if(yt.bubbles){var qt=void 0,_r=!1;if(Pe==="mouseenter"?(qt=yt.fromShape,_r=!0):Pe==="mouseleave"&&(_r=!0,qt=yt.toShape),St.isCanvas()&&_r)return;if(qt&&(0,oe.UY)(St,qt)){yt.bubbles=!1;return}yt.name=Pe,yt.currentTarget=St,yt.delegateTarget=St,St.emit(Pe,yt)}}var wa=function(){function St(Pe){var yt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(qt){var _r=qt.type;yt._triggerEvent(_r,qt)},this._onDocumentMove=function(qt){var _r=yt.canvas,rn=_r.get("el");if(rn!==qt.target&&(yt.dragging||yt.currentShape)){var xn=yt._getPointInfo(qt);yt.dragging&&yt._emitEvent("drag",qt,xn,yt.draggingShape)}},this._onDocumentMouseUp=function(qt){var _r=yt.canvas,rn=_r.get("el");if(rn!==qt.target&&yt.dragging){var xn=yt._getPointInfo(qt);yt.draggingShape&&yt._emitEvent("drop",qt,xn,null),yt._emitEvent("dragend",qt,xn,yt.draggingShape),yt._afterDrag(yt.draggingShape,xn,qt)}},this.canvas=Pe.canvas}return St.prototype.init=function(){this._bindEvents()},St.prototype._bindEvents=function(){var Pe=this,yt=this.canvas.get("el");(0,oe.S6)(Ms,function(qt){yt.addEventListener(qt,Pe._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},St.prototype._clearEvents=function(){var Pe=this,yt=this.canvas.get("el");(0,oe.S6)(Ms,function(qt){yt.removeEventListener(qt,Pe._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},St.prototype._getEventObj=function(Pe,yt,qt,_r,rn,xn){var vn=new ql.Z(Pe,yt);return vn.fromShape=rn,vn.toShape=xn,vn.x=qt.x,vn.y=qt.y,vn.clientX=qt.clientX,vn.clientY=qt.clientY,vn.propagationPath.push(_r),vn},St.prototype._getShape=function(Pe,yt){return this.canvas.getShape(Pe.x,Pe.y,yt)},St.prototype._getPointInfo=function(Pe){var yt=this.canvas,qt=yt.getClientByEvent(Pe),_r=yt.getPointByEvent(Pe);return{x:_r.x,y:_r.y,clientX:qt.x,clientY:qt.y}},St.prototype._triggerEvent=function(Pe,yt){var qt=this._getPointInfo(yt),_r=this._getShape(qt,yt),rn=this["_on"+Pe],xn=!1;if(rn)rn.call(this,qt,_r,yt);else{var vn=this.currentShape;Pe==="mouseenter"||Pe==="dragenter"||Pe==="mouseover"?(this._emitEvent(Pe,yt,qt,null,null,_r),_r&&this._emitEvent(Pe,yt,qt,_r,null,_r),Pe==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",yt,qt,null)):Pe==="mouseleave"||Pe==="dragleave"||Pe==="mouseout"?(xn=!0,vn&&this._emitEvent(Pe,yt,qt,vn,vn,null),this._emitEvent(Pe,yt,qt,null,vn,null),Pe==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",yt,qt,null)):this._emitEvent(Pe,yt,qt,_r,null,null)}if(xn||(this.currentShape=_r),_r&&!_r.get("destroyed")){var Ii=this.canvas,Fa=Ii.get("el");Fa.style.cursor=_r.attr("cursor")||Ii.get("cursor")}},St.prototype._onmousedown=function(Pe,yt,qt){qt.button===ju&&(this.mousedownShape=yt,this.mousedownPoint=Pe,this.mousedownTimeStamp=qt.timeStamp),this._emitEvent("mousedown",qt,Pe,yt,null,null)},St.prototype._emitMouseoverEvents=function(Pe,yt,qt,_r){var rn=this.canvas.get("el");qt!==_r&&(qt&&(this._emitEvent("mouseout",Pe,yt,qt,qt,_r),this._emitEvent("mouseleave",Pe,yt,qt,qt,_r),(!_r||_r.get("destroyed"))&&(rn.style.cursor=this.canvas.get("cursor"))),_r&&(this._emitEvent("mouseover",Pe,yt,_r,qt,_r),this._emitEvent("mouseenter",Pe,yt,_r,qt,_r)))},St.prototype._emitDragoverEvents=function(Pe,yt,qt,_r,rn){_r?(_r!==qt&&(qt&&this._emitEvent("dragleave",Pe,yt,qt,qt,_r),this._emitEvent("dragenter",Pe,yt,_r,qt,_r)),rn||this._emitEvent("dragover",Pe,yt,_r)):qt&&this._emitEvent("dragleave",Pe,yt,qt,qt,_r),rn&&this._emitEvent("dragover",Pe,yt,_r)},St.prototype._afterDrag=function(Pe,yt,qt){Pe&&(Pe.set("capture",!0),this.draggingShape=null),this.dragging=!1;var _r=this._getShape(yt,qt);_r!==Pe&&this._emitMouseoverEvents(qt,yt,Pe,_r),this.currentShape=_r},St.prototype._onmouseup=function(Pe,yt,qt){if(qt.button===ju){var _r=this.draggingShape;this.dragging?(_r&&this._emitEvent("drop",qt,Pe,yt),this._emitEvent("dragend",qt,Pe,_r),this._afterDrag(_r,Pe,qt)):(this._emitEvent("mouseup",qt,Pe,yt),yt===this.mousedownShape&&this._emitEvent("click",qt,Pe,yt),this.mousedownShape=null,this.mousedownPoint=null)}},St.prototype._ondragover=function(Pe,yt,qt){qt.preventDefault();var _r=this.currentShape;this._emitDragoverEvents(qt,Pe,_r,yt,!0)},St.prototype._onmousemove=function(Pe,yt,qt){var _r=this.canvas,rn=this.currentShape,xn=this.draggingShape;if(this.dragging)xn&&this._emitDragoverEvents(qt,Pe,rn,yt,!1),this._emitEvent("drag",qt,Pe,xn);else{var vn=this.mousedownPoint;if(vn){var Ii=this.mousedownShape,Fa=qt.timeStamp,_o=Fa-this.mousedownTimeStamp,vl=vn.clientX-Pe.clientX,Us=vn.clientY-Pe.clientY,Eo=vl*vl+Us*Us;_o>120||Eo>$f?Ii&&Ii.get("draggable")?(xn=this.mousedownShape,xn.set("capture",!1),this.draggingShape=xn,this.dragging=!0,this._emitEvent("dragstart",qt,Pe,xn),this.mousedownShape=null,this.mousedownPoint=null):!Ii&&_r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",qt,Pe,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(qt,Pe,rn,yt),this._emitEvent("mousemove",qt,Pe,yt)):(this._emitMouseoverEvents(qt,Pe,rn,yt),this._emitEvent("mousemove",qt,Pe,yt))}else this._emitMouseoverEvents(qt,Pe,rn,yt),this._emitEvent("mousemove",qt,Pe,yt)}},St.prototype._emitEvent=function(Pe,yt,qt,_r,rn,xn){var vn=this._getEventObj(Pe,yt,qt,_r,rn,xn);if(_r){vn.shape=_r,Ph(_r,Pe,vn);for(var Ii=_r.getParent();Ii;)Ii.emitDelegation(Pe,vn),vn.propagationStopped||ff(Ii,Pe,vn),vn.propagationPath.push(Ii),Ii=Ii.getParent()}else{var Fa=this.canvas;Ph(Fa,Pe,vn)}},St.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},St}(),ea=wa,$s="px",Ql=(0,ye.qY)(),Al=Ql&&Ql.name==="firefox",lc=function(St){(0,Ve.ZT)(Pe,St);function Pe(yt){var qt=St.call(this,yt)||this;return qt.initContainer(),qt.initDom(),qt.initEvents(),qt.initTimeline(),qt}return Pe.prototype.getDefaultCfg=function(){var yt=St.prototype.getDefaultCfg.call(this);return yt.cursor="default",yt.supportCSSTransform=!1,yt},Pe.prototype.initContainer=function(){var yt=this.get("container");(0,oe.HD)(yt)&&(yt=document.getElementById(yt),this.set("container",yt))},Pe.prototype.initDom=function(){var yt=this.createDom();this.set("el",yt);var qt=this.get("container");qt.appendChild(yt),this.setDOMSize(this.get("width"),this.get("height"))},Pe.prototype.initEvents=function(){var yt=new ea({canvas:this});yt.init(),this.set("eventController",yt)},Pe.prototype.initTimeline=function(){var yt=new iu(this);this.set("timeline",yt)},Pe.prototype.setDOMSize=function(yt,qt){var _r=this.get("el");oe.jU&&(_r.style.width=yt+$s,_r.style.height=qt+$s)},Pe.prototype.changeSize=function(yt,qt){this.setDOMSize(yt,qt),this.set("width",yt),this.set("height",qt),this.onCanvasChange("changeSize")},Pe.prototype.getRenderer=function(){return this.get("renderer")},Pe.prototype.getCursor=function(){return this.get("cursor")},Pe.prototype.setCursor=function(yt){this.set("cursor",yt);var qt=this.get("el");oe.jU&&qt&&(qt.style.cursor=yt)},Pe.prototype.getPointByEvent=function(yt){var qt=this.get("supportCSSTransform");if(qt){if(Al&&!(0,oe.kK)(yt.layerX)&&yt.layerX!==yt.offsetX)return{x:yt.layerX,y:yt.layerY};if(!(0,oe.kK)(yt.offsetX))return{x:yt.offsetX,y:yt.offsetY}}var _r=this.getClientByEvent(yt),rn=_r.x,xn=_r.y;return this.getPointByClient(rn,xn)},Pe.prototype.getClientByEvent=function(yt){var qt=yt;return yt.touches&&(yt.type==="touchend"?qt=yt.changedTouches[0]:qt=yt.touches[0]),{x:qt.clientX,y:qt.clientY}},Pe.prototype.getPointByClient=function(yt,qt){var _r=this.get("el"),rn=_r.getBoundingClientRect();return{x:yt-rn.left,y:qt-rn.top}},Pe.prototype.getClientByPoint=function(yt,qt){var _r=this.get("el"),rn=_r.getBoundingClientRect();return{x:yt+rn.left,y:qt+rn.top}},Pe.prototype.draw=function(){},Pe.prototype.removeDom=function(){var yt=this.get("el");yt.parentNode.removeChild(yt)},Pe.prototype.clearEvents=function(){var yt=this.get("eventController");yt.destroy()},Pe.prototype.isCanvas=function(){return!0},Pe.prototype.getParent=function(){return null},Pe.prototype.destroy=function(){var yt=this.get("timeline");this.get("destroyed")||(this.clear(),yt&&yt.stop(),this.clearEvents(),this.removeDom(),St.prototype.destroy.call(this))},Pe}(ut.Z),Uf=lc},40023:function(ai,Sn,tt){"use strict";var Ve=tt(85556),ye=tt(32494),ut=tt(37898),oe={},cr="_INDEX";function re(Mt,U){if(Mt.set("canvas",U),Mt.isGroup()){var D=Mt.get("children");D.length&&D.forEach(function(Pt){re(Pt,U)})}}function ie(Mt,U){if(Mt.set("timeline",U),Mt.isGroup()){var D=Mt.get("children");D.length&&D.forEach(function(Pt){ie(Pt,U)})}}function Ft(Mt,U){var D=Mt.getChildren();return D.indexOf(U)>=0}function Dt(Mt,U,D){D===void 0&&(D=!0),D?U.destroy():(U.set("parent",null),U.set("canvas",null)),(0,ut.As)(Mt.getChildren(),U)}function or(Mt){return function(U,D){var Pt=Mt(U,D);return Pt===0?U[cr]-D[cr]:Pt}}var kt=function(Mt){(0,Ve.ZT)(U,Mt);function U(){return Mt!==null&&Mt.apply(this,arguments)||this}return U.prototype.isCanvas=function(){return!1},U.prototype.getBBox=function(){var D=1/0,Pt=-1/0,lt=1/0,Gt=-1/0,lr=this.getChildren().filter(function(xt){return xt.get("visible")&&(!xt.isGroup()||xt.isGroup()&&xt.getChildren().length>0)});lr.length>0?(0,ut.S6)(lr,function(xt){var gt=xt.getBBox(),er=gt.minX,Lt=gt.maxX,Nt=gt.minY,Tr=gt.maxY;er<D&&(D=er),Lt>Pt&&(Pt=Lt),Nt<lt&&(lt=Nt),Tr>Gt&&(Gt=Tr)}):(D=0,Pt=0,lt=0,Gt=0);var tr={x:D,y:lt,minX:D,minY:lt,maxX:Pt,maxY:Gt,width:Pt-D,height:Gt-lt};return tr},U.prototype.getCanvasBBox=function(){var D=1/0,Pt=-1/0,lt=1/0,Gt=-1/0,lr=this.getChildren().filter(function(xt){return xt.get("visible")&&(!xt.isGroup()||xt.isGroup()&&xt.getChildren().length>0)});lr.length>0?(0,ut.S6)(lr,function(xt){var gt=xt.getCanvasBBox(),er=gt.minX,Lt=gt.maxX,Nt=gt.minY,Tr=gt.maxY;er<D&&(D=er),Lt>Pt&&(Pt=Lt),Nt<lt&&(lt=Nt),Tr>Gt&&(Gt=Tr)}):(D=0,Pt=0,lt=0,Gt=0);var tr={x:D,y:lt,minX:D,minY:lt,maxX:Pt,maxY:Gt,width:Pt-D,height:Gt-lt};return tr},U.prototype.getDefaultCfg=function(){var D=Mt.prototype.getDefaultCfg.call(this);return D.children=[],D},U.prototype.onAttrChange=function(D,Pt,lt){if(Mt.prototype.onAttrChange.call(this,D,Pt,lt),D==="matrix"){var Gt=this.getTotalMatrix();this._applyChildrenMarix(Gt)}},U.prototype.applyMatrix=function(D){var Pt=this.getTotalMatrix();Mt.prototype.applyMatrix.call(this,D);var lt=this.getTotalMatrix();lt!==Pt&&this._applyChildrenMarix(lt)},U.prototype._applyChildrenMarix=function(D){var Pt=this.getChildren();(0,ut.S6)(Pt,function(lt){lt.applyMatrix(D)})},U.prototype.addShape=function(){for(var D=[],Pt=0;Pt<arguments.length;Pt++)D[Pt]=arguments[Pt];var lt=D[0],Gt=D[1];(0,ut.Kn)(lt)?Gt=lt:Gt.type=lt;var lr=oe[Gt.type];lr||(lr=(0,ut.jC)(Gt.type),oe[Gt.type]=lr);var tr=this.getShapeBase(),xt=new tr[lr](Gt);return this.add(xt),xt},U.prototype.addGroup=function(){for(var D=[],Pt=0;Pt<arguments.length;Pt++)D[Pt]=arguments[Pt];var lt=D[0],Gt=D[1],lr;if((0,ut.mf)(lt))Gt?lr=new lt(Gt):lr=new lt({parent:this});else{var tr=lt||{},xt=this.getGroupBase();lr=new xt(tr)}return this.add(lr),lr},U.prototype.getCanvas=function(){var D;return this.isCanvas()?D=this:D=this.get("canvas"),D},U.prototype.getShape=function(D,Pt,lt){if(!(0,ut.pP)(this))return null;var Gt=this.getChildren(),lr;if(this.isCanvas())lr=this._findShape(Gt,D,Pt,lt);else{var tr=[D,Pt,1];tr=this.invertFromMatrix(tr),this.isClipped(tr[0],tr[1])||(lr=this._findShape(Gt,tr[0],tr[1],lt))}return lr},U.prototype._findShape=function(D,Pt,lt,Gt){for(var lr=null,tr=D.length-1;tr>=0;tr--){var xt=D[tr];if((0,ut.pP)(xt)&&(xt.isGroup()?lr=xt.getShape(Pt,lt,Gt):xt.isHit(Pt,lt)&&(lr=xt)),lr)break}return lr},U.prototype.add=function(D){var Pt=this.getCanvas(),lt=this.getChildren(),Gt=this.get("timeline"),lr=D.getParent();lr&&Dt(lr,D,!1),D.set("parent",this),Pt&&re(D,Pt),Gt&&ie(D,Gt),lt.push(D),D.onCanvasChange("add"),this._applyElementMatrix(D)},U.prototype._applyElementMatrix=function(D){var Pt=this.getTotalMatrix();Pt&&D.applyMatrix(Pt)},U.prototype.getChildren=function(){return this.get("children")||[]},U.prototype.sort=function(){var D=this.getChildren();(0,ut.S6)(D,function(Pt,lt){return Pt[cr]=lt,Pt}),D.sort(or(function(Pt,lt){return Pt.get("zIndex")-lt.get("zIndex")})),this.onCanvasChange("sort")},U.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var D=this.getChildren(),Pt=D.length-1;Pt>=0;Pt--)D[Pt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},U.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Mt.prototype.destroy.call(this))},U.prototype.getFirst=function(){return this.getChildByIndex(0)},U.prototype.getLast=function(){var D=this.getChildren();return this.getChildByIndex(D.length-1)},U.prototype.getChildByIndex=function(D){var Pt=this.getChildren();return Pt[D]},U.prototype.getCount=function(){var D=this.getChildren();return D.length},U.prototype.contain=function(D){var Pt=this.getChildren();return Pt.indexOf(D)>-1},U.prototype.removeChild=function(D,Pt){Pt===void 0&&(Pt=!0),this.contain(D)&&D.remove(Pt)},U.prototype.findAll=function(D){var Pt=[],lt=this.getChildren();return(0,ut.S6)(lt,function(Gt){D(Gt)&&Pt.push(Gt),Gt.isGroup()&&(Pt=Pt.concat(Gt.findAll(D)))}),Pt},U.prototype.find=function(D){var Pt=null,lt=this.getChildren();return(0,ut.S6)(lt,function(Gt){if(D(Gt)?Pt=Gt:Gt.isGroup()&&(Pt=Gt.find(D)),Pt)return!1}),Pt},U.prototype.findById=function(D){return this.find(function(Pt){return Pt.get("id")===D})},U.prototype.findByClassName=function(D){return this.find(function(Pt){return Pt.get("className")===D})},U.prototype.findAllByName=function(D){return this.findAll(function(Pt){return Pt.get("name")===D})},U}(ye.Z);Sn.Z=kt},32494:function(ai,Sn,tt){"use strict";var Ve=tt(85556),ye=tt(47165),ut=tt(73432),oe=tt(37898),cr=tt(92615),re=tt(22680),ie=ut.vs,Ft="matrix",Dt=["zIndex","capture","visible","type"],or=["repeat"],kt=":",Mt="*";function U(lr){for(var tr=[],xt=0;xt<lr.length;xt++)(0,ye.kJ)(lr[xt])?tr.push([].concat(lr[xt])):tr.push(lr[xt]);return tr}function D(lr,tr){var xt={},gt=tr.attrs;for(var er in lr)xt[er]=gt[er];return xt}function Pt(lr,tr){var xt={},gt=tr.attr();return(0,ye.S6)(lr,function(er,Lt){or.indexOf(Lt)===-1&&!(0,ye.Xy)(gt[Lt],er)&&(xt[Lt]=er)}),xt}function lt(lr,tr){if(tr.onFrame)return lr;var xt=tr.startTime,gt=tr.delay,er=tr.duration,Lt=Object.prototype.hasOwnProperty;return(0,ye.S6)(lr,function(Nt){xt+gt<Nt.startTime+Nt.delay+Nt.duration&&er>Nt.delay&&(0,ye.S6)(tr.toAttrs,function(Tr,vr){Lt.call(Nt.toAttrs,vr)&&(delete Nt.toAttrs[vr],delete Nt.fromAttrs[vr])})}),lr}var Gt=function(lr){(0,Ve.ZT)(tr,lr);function tr(xt){var gt=lr.call(this,xt)||this;gt.attrs={};var er=gt.getDefaultAttrs();return(0,ye.CD)(er,xt.attrs),gt.attrs=er,gt.initAttrs(er),gt.initAnimate(),gt}return tr.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},tr.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},tr.prototype.onCanvasChange=function(xt){},tr.prototype.initAttrs=function(xt){},tr.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},tr.prototype.isGroup=function(){return!1},tr.prototype.getParent=function(){return this.get("parent")},tr.prototype.getCanvas=function(){return this.get("canvas")},tr.prototype.attr=function(){for(var xt,gt=[],er=0;er<arguments.length;er++)gt[er]=arguments[er];var Lt=gt[0],Nt=gt[1];if(!Lt)return this.attrs;if((0,ye.Kn)(Lt)){for(var Tr in Lt)this.setAttr(Tr,Lt[Tr]);return this.afterAttrsChange(Lt),this}return gt.length===2?(this.setAttr(Lt,Nt),this.afterAttrsChange((xt={},xt[Lt]=Nt,xt)),this):this.attrs[Lt]},tr.prototype.isClipped=function(xt,gt){var er=this.getClip();return er&&!er.isHit(xt,gt)},tr.prototype.setAttr=function(xt,gt){var er=this.attrs[xt];er!==gt&&(this.attrs[xt]=gt,this.onAttrChange(xt,gt,er))},tr.prototype.onAttrChange=function(xt,gt,er){xt==="matrix"&&this.set("totalMatrix",null)},tr.prototype.afterAttrsChange=function(xt){if(this.cfg.isClipShape){var gt=this.cfg.applyTo;gt&&gt.onCanvasChange("clip")}else this.onCanvasChange("attr")},tr.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},tr.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},tr.prototype.setZIndex=function(xt){this.set("zIndex",xt);var gt=this.getParent();return gt&&gt.sort(),this},tr.prototype.toFront=function(){var xt=this.getParent();if(xt){var gt=xt.getChildren(),er=this.get("el"),Lt=gt.indexOf(this);gt.splice(Lt,1),gt.push(this),this.onCanvasChange("zIndex")}},tr.prototype.toBack=function(){var xt=this.getParent();if(xt){var gt=xt.getChildren(),er=this.get("el"),Lt=gt.indexOf(this);gt.splice(Lt,1),gt.unshift(this),this.onCanvasChange("zIndex")}},tr.prototype.remove=function(xt){xt===void 0&&(xt=!0);var gt=this.getParent();gt?((0,oe.As)(gt.getChildren(),this),gt.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),xt&&this.destroy()},tr.prototype.resetMatrix=function(){this.attr(Ft,this.getDefaultMatrix()),this.onCanvasChange("matrix")},tr.prototype.getMatrix=function(){return this.attr(Ft)},tr.prototype.setMatrix=function(xt){this.attr(Ft,xt),this.onCanvasChange("matrix")},tr.prototype.getTotalMatrix=function(){var xt=this.cfg.totalMatrix;if(!xt){var gt=this.attr("matrix"),er=this.cfg.parentMatrix;er&&gt?xt=(0,cr.xq)(er,gt):xt=gt||er,this.set("totalMatrix",xt)}return xt},tr.prototype.applyMatrix=function(xt){var gt=this.attr("matrix"),er=null;xt&&gt?er=(0,cr.xq)(xt,gt):er=gt||xt,this.set("totalMatrix",er),this.set("parentMatrix",xt)},tr.prototype.getDefaultMatrix=function(){return null},tr.prototype.applyToMatrix=function(xt){var gt=this.attr("matrix");return gt?(0,cr.rG)(gt,xt):xt},tr.prototype.invertFromMatrix=function(xt){var gt=this.attr("matrix");if(gt){var er=(0,cr.U_)(gt);if(er)return(0,cr.rG)(er,xt)}return xt},tr.prototype.setClip=function(xt){var gt=this.getCanvas(),er=null;if(xt){var Lt=this.getShapeBase(),Nt=(0,ye.jC)(xt.type),Tr=Lt[Nt];Tr&&(er=new Tr({type:xt.type,isClipShape:!0,applyTo:this,attrs:xt.attrs,canvas:gt}))}return this.set("clipShape",er),this.onCanvasChange("clip"),er},tr.prototype.getClip=function(){var xt=this.cfg.clipShape;return xt||null},tr.prototype.clone=function(){var xt=this,gt=this.attrs,er={};(0,ye.S6)(gt,function(Tr,vr){(0,ye.kJ)(gt[vr])?er[vr]=U(gt[vr]):er[vr]=gt[vr]});var Lt=this.constructor,Nt=new Lt({attrs:er});return(0,ye.S6)(Dt,function(Tr){Nt.set(Tr,xt.get(Tr))}),Nt},tr.prototype.destroy=function(){var xt=this.destroyed;xt||(this.attrs={},lr.prototype.destroy.call(this))},tr.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},tr.prototype.animate=function(){for(var xt=[],gt=0;gt<arguments.length;gt++)xt[gt]=arguments[gt];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var er=this.get("timeline");er||(er=this.get("canvas").get("timeline"),this.set("timeline",er));var Lt=this.get("animations")||[];er.timer||er.initTimer();var Nt=xt[0],Tr=xt[1],vr=xt[2],Yr=vr===void 0?"easeLinear":vr,mn=xt[3],Mn=mn===void 0?ye.ZT:mn,Fr=xt[4],Rn=Fr===void 0?0:Fr,Wn,Ge,Et,Rr,un;(0,ye.mf)(Nt)?(Wn=Nt,Nt={}):(0,ye.Kn)(Nt)&&Nt.onFrame&&(Wn=Nt.onFrame,Ge=Nt.repeat),(0,ye.Kn)(Tr)?(un=Tr,Tr=un.duration,Yr=un.easing||"easeLinear",Rn=un.delay||0,Ge=un.repeat||Ge||!1,Mn=un.callback||ye.ZT,Et=un.pauseCallback||ye.ZT,Rr=un.resumeCallback||ye.ZT):((0,ye.hj)(Mn)&&(Rn=Mn,Mn=null),(0,ye.mf)(Yr)?(Mn=Yr,Yr="easeLinear"):Yr=Yr||"easeLinear");var yn=Pt(Nt,this),Vt={fromAttrs:D(yn,this),toAttrs:yn,duration:Tr,easing:Yr,repeat:Ge,callback:Mn,pauseCallback:Et,resumeCallback:Rr,delay:Rn,startTime:er.getTime(),id:(0,ye.EL)(),onFrame:Wn,pathFormatted:!1};Lt.length>0?Lt=lt(Lt,Vt):er.addAnimator(this),Lt.push(Vt),this.set("animations",Lt),this.set("_pause",{isPaused:!1})}},tr.prototype.stopAnimate=function(xt){var gt=this;xt===void 0&&(xt=!0);var er=this.get("animations");(0,ye.S6)(er,function(Lt){xt&&(Lt.onFrame?gt.attr(Lt.onFrame(1)):gt.attr(Lt.toAttrs)),Lt.callback&&Lt.callback()}),this.set("animating",!1),this.set("animations",[])},tr.prototype.pauseAnimate=function(){var xt=this.get("timeline"),gt=this.get("animations"),er=xt.getTime();return(0,ye.S6)(gt,function(Lt){Lt._paused=!0,Lt._pauseTime=er,Lt.pauseCallback&&Lt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:er}),this},tr.prototype.resumeAnimate=function(){var xt=this.get("timeline"),gt=xt.getTime(),er=this.get("animations"),Lt=this.get("_pause").pauseTime;return(0,ye.S6)(er,function(Nt){Nt.startTime=Nt.startTime+(gt-Lt),Nt._paused=!1,Nt._pauseTime=null,Nt.resumeCallback&&Nt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",er),this},tr.prototype.emitDelegation=function(xt,gt){var er=this,Lt=gt.propagationPath,Nt=this.getEvents(),Tr;xt==="mouseenter"?Tr=gt.fromShape:xt==="mouseleave"&&(Tr=gt.toShape);for(var vr=function(Fr){var Rn=Lt[Fr],Wn=Rn.get("name");if(Wn){if((Rn.isGroup()||Rn.isCanvas&&Rn.isCanvas())&&Tr&&(0,oe.UY)(Rn,Tr))return"break";(0,ye.kJ)(Wn)?(0,ye.S6)(Wn,function(Ge){er.emitDelegateEvent(Rn,Ge,gt)}):Yr.emitDelegateEvent(Rn,Wn,gt)}},Yr=this,mn=0;mn<Lt.length;mn++){var Mn=vr(mn);if(Mn==="break")break}},tr.prototype.emitDelegateEvent=function(xt,gt,er){var Lt=this.getEvents(),Nt=gt+kt+er.type;(Lt[Nt]||Lt[Mt])&&(er.name=Nt,er.currentTarget=xt,er.delegateTarget=this,er.delegateObject=xt.get("delegateObject"),this.emit(Nt,er))},tr.prototype.translate=function(xt,gt){xt===void 0&&(xt=0),gt===void 0&&(gt=0);var er=this.getMatrix(),Lt=ie(er,[["t",xt,gt]]);return this.setMatrix(Lt),this},tr.prototype.move=function(xt,gt){var er=this.attr("x")||0,Lt=this.attr("y")||0;return this.translate(xt-er,gt-Lt),this},tr.prototype.moveTo=function(xt,gt){return this.move(xt,gt)},tr.prototype.scale=function(xt,gt){var er=this.getMatrix(),Lt=ie(er,[["s",xt,gt||xt]]);return this.setMatrix(Lt),this},tr.prototype.rotate=function(xt){var gt=this.getMatrix(),er=ie(gt,[["r",xt]]);return this.setMatrix(er),this},tr.prototype.rotateAtStart=function(xt){var gt=this.attr(),er=gt.x,Lt=gt.y,Nt=this.getMatrix(),Tr=ie(Nt,[["t",-er,-Lt],["r",xt],["t",er,Lt]]);return this.setMatrix(Tr),this},tr.prototype.rotateAtPoint=function(xt,gt,er){var Lt=this.getMatrix(),Nt=ie(Lt,[["t",-xt,-gt],["r",er],["t",xt,gt]]);return this.setMatrix(Nt),this},tr}(re.Z);Sn.Z=Gt},66531:function(ai,Sn,tt){"use strict";var Ve=tt(85556),ye=tt(40023),ut=function(oe){(0,Ve.ZT)(cr,oe);function cr(){return oe!==null&&oe.apply(this,arguments)||this}return cr.prototype.isGroup=function(){return!0},cr.prototype.isEntityGroup=function(){return!1},cr.prototype.clone=function(){for(var re=oe.prototype.clone.call(this),ie=this.getChildren(),Ft=0;Ft<ie.length;Ft++){var Dt=ie[Ft];re.add(Dt.clone())}return re},cr}(ye.Z);Sn.Z=ut},3649:function(ai,Sn,tt){"use strict";var Ve=tt(85556),ye=tt(32494),ut=tt(92615),oe=function(cr){(0,Ve.ZT)(re,cr);function re(ie){return cr.call(this,ie)||this}return re.prototype._isInBBox=function(ie,Ft){var Dt=this.getBBox();return Dt.minX<=ie&&Dt.maxX>=ie&&Dt.minY<=Ft&&Dt.maxY>=Ft},re.prototype.afterAttrsChange=function(ie){cr.prototype.afterAttrsChange.call(this,ie),this.clearCacheBBox()},re.prototype.getBBox=function(){var ie=this.cfg.bbox;return ie||(ie=this.calculateBBox(),this.set("bbox",ie)),ie},re.prototype.getCanvasBBox=function(){var ie=this.cfg.canvasBBox;return ie||(ie=this.calculateCanvasBBox(),this.set("canvasBBox",ie)),ie},re.prototype.applyMatrix=function(ie){cr.prototype.applyMatrix.call(this,ie),this.set("canvasBBox",null)},re.prototype.calculateCanvasBBox=function(){var ie=this.getBBox(),Ft=this.getTotalMatrix(),Dt=ie.minX,or=ie.minY,kt=ie.maxX,Mt=ie.maxY;if(Ft){var U=(0,ut.rG)(Ft,[ie.minX,ie.minY]),D=(0,ut.rG)(Ft,[ie.maxX,ie.minY]),Pt=(0,ut.rG)(Ft,[ie.minX,ie.maxY]),lt=(0,ut.rG)(Ft,[ie.maxX,ie.maxY]);Dt=Math.min(U[0],D[0],Pt[0],lt[0]),kt=Math.max(U[0],D[0],Pt[0],lt[0]),or=Math.min(U[1],D[1],Pt[1],lt[1]),Mt=Math.max(U[1],D[1],Pt[1],lt[1])}var Gt=this.attrs;if(Gt.shadowColor){var lr=Gt.shadowBlur,tr=lr===void 0?0:lr,xt=Gt.shadowOffsetX,gt=xt===void 0?0:xt,er=Gt.shadowOffsetY,Lt=er===void 0?0:er,Nt=Dt-tr+gt,Tr=kt+tr+gt,vr=or-tr+Lt,Yr=Mt+tr+Lt;Dt=Math.min(Dt,Nt),kt=Math.max(kt,Tr),or=Math.min(or,vr),Mt=Math.max(Mt,Yr)}return{x:Dt,y:or,minX:Dt,minY:or,maxX:kt,maxY:Mt,width:kt-Dt,height:Mt-or}},re.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},re.prototype.isClipShape=function(){return this.get("isClipShape")},re.prototype.isInShape=function(ie,Ft){return!1},re.prototype.isOnlyHitBox=function(){return!1},re.prototype.isHit=function(ie,Ft){var Dt=this.get("startArrowShape"),or=this.get("endArrowShape"),kt=[ie,Ft,1];kt=this.invertFromMatrix(kt);var Mt=kt[0],U=kt[1],D=this._isInBBox(Mt,U);return this.isOnlyHitBox()?D:!!(D&&!this.isClipped(Mt,U)&&(this.isInShape(Mt,U)||Dt&&Dt.isHit(Mt,U)||or&&or.isHit(Mt,U)))},re}(ye.Z);Sn.Z=oe},71055:function(ai,Sn,tt){"use strict";tt.d(Sn,{_:function(){return Tt},C:function(){return ir}});var Ve={};tt.r(Ve),tt.d(Ve,{easeBack:function(){return Ae},easeBackIn:function(){return Ce},easeBackInOut:function(){return Ae},easeBackOut:function(){return be},easeBounce:function(){return un},easeBounceIn:function(){return Rr},easeBounceInOut:function(){return yn},easeBounceOut:function(){return un},easeCircle:function(){return Nt},easeCircleIn:function(){return er},easeCircleInOut:function(){return Nt},easeCircleOut:function(){return Lt},easeCubic:function(){return Ft},easeCubicIn:function(){return re},easeCubicInOut:function(){return Ft},easeCubicOut:function(){return ie},easeElastic:function(){return wt},easeElasticIn:function(){return at},easeElasticInOut:function(){return fe},easeElasticOut:function(){return wt},easeExp:function(){return gt},easeExpIn:function(){return tr},easeExpInOut:function(){return gt},easeExpOut:function(){return xt},easeLinear:function(){return ye},easePoly:function(){return Mt},easePolyIn:function(){return or},easePolyInOut:function(){return Mt},easePolyOut:function(){return kt},easeQuad:function(){return cr},easeQuadIn:function(){return ut},easeQuadInOut:function(){return cr},easeQuadOut:function(){return oe},easeSin:function(){return Gt},easeSinIn:function(){return Pt},easeSinInOut:function(){return Gt},easeSinOut:function(){return lt}});function ye(bt){return+bt}function ut(bt){return bt*bt}function oe(bt){return bt*(2-bt)}function cr(bt){return((bt*=2)<=1?bt*bt:--bt*(2-bt)+1)/2}function re(bt){return bt*bt*bt}function ie(bt){return--bt*bt*bt+1}function Ft(bt){return((bt*=2)<=1?bt*bt*bt:(bt-=2)*bt*bt+2)/2}var Dt=3,or=function bt(sr){sr=+sr;function dr(Pr){return Math.pow(Pr,sr)}return dr.exponent=bt,dr}(Dt),kt=function bt(sr){sr=+sr;function dr(Pr){return 1-Math.pow(1-Pr,sr)}return dr.exponent=bt,dr}(Dt),Mt=function bt(sr){sr=+sr;function dr(Pr){return((Pr*=2)<=1?Math.pow(Pr,sr):2-Math.pow(2-Pr,sr))/2}return dr.exponent=bt,dr}(Dt),U=Math.PI,D=U/2;function Pt(bt){return+bt==1?1:1-Math.cos(bt*D)}function lt(bt){return Math.sin(bt*D)}function Gt(bt){return(1-Math.cos(U*bt))/2}function lr(bt){return(Math.pow(2,-10*bt)-.0009765625)*1.0009775171065494}function tr(bt){return lr(1-+bt)}function xt(bt){return 1-lr(bt)}function gt(bt){return((bt*=2)<=1?lr(1-bt):2-lr(bt-1))/2}function er(bt){return 1-Math.sqrt(1-bt*bt)}function Lt(bt){return Math.sqrt(1- --bt*bt)}function Nt(bt){return((bt*=2)<=1?1-Math.sqrt(1-bt*bt):Math.sqrt(1-(bt-=2)*bt)+1)/2}var Tr=4/11,vr=6/11,Yr=8/11,mn=3/4,Mn=9/11,Fr=10/11,Rn=15/16,Wn=21/22,Ge=63/64,Et=1/Tr/Tr;function Rr(bt){return 1-un(1-bt)}function un(bt){return(bt=+bt)<Tr?Et*bt*bt:bt<Yr?Et*(bt-=vr)*bt+mn:bt<Fr?Et*(bt-=Mn)*bt+Rn:Et*(bt-=Wn)*bt+Ge}function yn(bt){return((bt*=2)<=1?1-un(1-bt):un(bt-1)+1)/2}var Vt=1.70158,Ce=function bt(sr){sr=+sr;function dr(Pr){return(Pr=+Pr)*Pr*(sr*(Pr-1)+Pr)}return dr.overshoot=bt,dr}(Vt),be=function bt(sr){sr=+sr;function dr(Pr){return--Pr*Pr*((Pr+1)*sr+Pr)+1}return dr.overshoot=bt,dr}(Vt),Ae=function bt(sr){sr=+sr;function dr(Pr){return((Pr*=2)<1?Pr*Pr*((sr+1)*Pr-sr):(Pr-=2)*Pr*((sr+1)*Pr+sr)+2)/2}return dr.overshoot=bt,dr}(Vt),_e=2*Math.PI,ze=1,Bt=.3,at=function bt(sr,dr){var Pr=Math.asin(1/(sr=Math.max(1,sr)))*(dr/=_e);function an(fn){return sr*lr(- --fn)*Math.sin((Pr-fn)/dr)}return an.amplitude=function(fn){return bt(fn,dr*_e)},an.period=function(fn){return bt(sr,fn)},an}(ze,Bt),wt=function bt(sr,dr){var Pr=Math.asin(1/(sr=Math.max(1,sr)))*(dr/=_e);function an(fn){return 1-sr*lr(fn=+fn)*Math.sin((fn+Pr)/dr)}return an.amplitude=function(fn){return bt(fn,dr*_e)},an.period=function(fn){return bt(sr,fn)},an}(ze,Bt),fe=function bt(sr,dr){var Pr=Math.asin(1/(sr=Math.max(1,sr)))*(dr/=_e);function an(fn){return((fn=fn*2-1)<0?sr*lr(-fn)*Math.sin((Pr-fn)/dr):2-sr*lr(fn)*Math.sin((Pr+fn)/dr))/2}return an.amplitude=function(fn){return bt(fn,dr*_e)},an.period=function(fn){return bt(sr,fn)},an}(ze,Bt),st={};function Tt(bt){return st[bt.toLowerCase()]||Ve[bt]}function ir(bt,sr){st[bt.toLowerCase()]=sr}},5997:function(ai,Sn,tt){"use strict";tt.d(Sn,{b:function(){return ut},W:function(){return ye}});var Ve=new Map;function ye(de,ve){Ve.set(de,ve)}function ut(de){return Ve.get(de)}function oe(de){var ve=de.attr(),ce=ve.x,xe=ve.y,Ee=ve.width,Be=ve.height;return{x:ce,y:xe,width:Ee,height:Be}}function cr(de){var ve=de.attr(),ce=ve.x,xe=ve.y,Ee=ve.r;return{x:ce-Ee,y:xe-Ee,width:Ee*2,height:Ee*2}}var re=tt(47165);function ie(de,ve,ce,xe){var Ee=de-ce,Be=ve-xe;return Math.sqrt(Ee*Ee+Be*Be)}function Ft(de,ve){return Math.abs(de-ve)<.001}function Dt(de,ve){var ce=(0,re.VV)(de),xe=(0,re.VV)(ve),Ee=(0,re.Fp)(de),Be=(0,re.Fp)(ve);return{x:ce,y:xe,width:Ee-ce,height:Be-xe}}function or(de,ve,ce,xe){return{minX:(0,re.VV)([de,ce]),maxX:(0,re.Fp)([de,ce]),minY:(0,re.VV)([ve,xe]),maxY:(0,re.Fp)([ve,xe])}}function kt(de){return(de+Math.PI*2)%(Math.PI*2)}var Mt=tt(29617),U={box:function(de,ve,ce,xe){return Dt([de,ce],[ve,xe])},length:function(de,ve,ce,xe){return ie(de,ve,ce,xe)},pointAt:function(de,ve,ce,xe,Ee){return{x:(1-Ee)*de+Ee*ce,y:(1-Ee)*ve+Ee*xe}},pointDistance:function(de,ve,ce,xe,Ee,Be){var Re=(ce-de)*(Ee-de)+(xe-ve)*(Be-ve);if(Re<0)return ie(de,ve,Ee,Be);var ct=(ce-de)*(ce-de)+(xe-ve)*(xe-ve);return Re>ct?ie(ce,xe,Ee,Be):this.pointToLine(de,ve,ce,xe,Ee,Be)},pointToLine:function(de,ve,ce,xe,Ee,Be){var Re=[ce-de,xe-ve];if(Mt.I6(Re,[0,0]))return Math.sqrt((Ee-de)*(Ee-de)+(Be-ve)*(Be-ve));var ct=[-Re[1],Re[0]];Mt.Fv(ct,ct);var ht=[Ee-de,Be-ve];return Math.abs(Mt.AK(ht,ct))},tangentAngle:function(de,ve,ce,xe){return Math.atan2(xe-ve,ce-de)}},D=1e-4;function Pt(de,ve,ce,xe,Ee,Be){var Re,ct=1/0,ht=[ce,xe],Ht=20;Be&&Be>200&&(Ht=Be/10);for(var Yt=1/Ht,rr=Yt/10,hr=0;hr<=Ht;hr++){var Hr=hr*Yt,Zt=[Ee.apply(null,de.concat([Hr])),Ee.apply(null,ve.concat([Hr]))],qr=ie(ht[0],ht[1],Zt[0],Zt[1]);qr<ct&&(Re=Hr,ct=qr)}if(Re===0)return{x:de[0],y:ve[0]};if(Re===1){var Qr=de.length;return{x:de[Qr-1],y:ve[Qr-1]}}ct=1/0;for(var hr=0;hr<32&&!(rr<D);hr++){var dn=Re-rr,kn=Re+rr,Zt=[Ee.apply(null,de.concat([dn])),Ee.apply(null,ve.concat([dn]))],qr=ie(ht[0],ht[1],Zt[0],Zt[1]);if(dn>=0&&qr<ct)Re=dn,ct=qr;else{var wr=[Ee.apply(null,de.concat([kn])),Ee.apply(null,ve.concat([kn]))],ei=ie(ht[0],ht[1],wr[0],wr[1]);kn<=1&&ei<ct?(Re=kn,ct=ei):rr*=.5}}return{x:Ee.apply(null,de.concat([Re])),y:Ee.apply(null,ve.concat([Re]))}}function lt(de,ve){for(var ce=0,xe=de.length,Ee=0;Ee<xe;Ee++){var Be=de[Ee],Re=ve[Ee],ct=de[(Ee+1)%xe],ht=ve[(Ee+1)%xe];ce+=ie(Be,Re,ct,ht)}return ce/2}function Gt(de,ve,ce,xe){var Ee=1-xe;return Ee*Ee*de+2*xe*Ee*ve+xe*xe*ce}function lr(de,ve,ce){var xe=de+ce-2*ve;if(Ft(xe,0))return[.5];var Ee=(de-ve)/xe;return Ee<=1&&Ee>=0?[Ee]:[]}function tr(de,ve,ce,xe){return 2*(1-xe)*(ve-de)+2*xe*(ce-ve)}function xt(de,ve,ce,xe,Ee,Be,Re){var ct=Gt(de,ce,Ee,Re),ht=Gt(ve,xe,Be,Re),Ht=U.pointAt(de,ve,ce,xe,Re),Yt=U.pointAt(ce,xe,Ee,Be,Re);return[[de,ve,Ht.x,Ht.y,ct,ht],[ct,ht,Yt.x,Yt.y,Ee,Be]]}function gt(de,ve,ce,xe,Ee,Be,Re){if(Re===0)return(ie(de,ve,ce,xe)+ie(ce,xe,Ee,Be)+ie(de,ve,Ee,Be))/2;var ct=xt(de,ve,ce,xe,Ee,Be,.5),ht=ct[0],Ht=ct[1];return ht.push(Re-1),Ht.push(Re-1),gt.apply(null,ht)+gt.apply(null,Ht)}var er={box:function(de,ve,ce,xe,Ee,Be){var Re=lr(de,ce,Ee)[0],ct=lr(ve,xe,Be)[0],ht=[de,Ee],Ht=[ve,Be];return Re!==void 0&&ht.push(Gt(de,ce,Ee,Re)),ct!==void 0&&Ht.push(Gt(ve,xe,Be,ct)),Dt(ht,Ht)},length:function(de,ve,ce,xe,Ee,Be){return gt(de,ve,ce,xe,Ee,Be,3)},nearestPoint:function(de,ve,ce,xe,Ee,Be,Re,ct){return Pt([de,ce,Ee],[ve,xe,Be],Re,ct,Gt)},pointDistance:function(de,ve,ce,xe,Ee,Be,Re,ct){var ht=this.nearestPoint(de,ve,ce,xe,Ee,Be,Re,ct);return ie(ht.x,ht.y,Re,ct)},interpolationAt:Gt,pointAt:function(de,ve,ce,xe,Ee,Be,Re){return{x:Gt(de,ce,Ee,Re),y:Gt(ve,xe,Be,Re)}},divide:function(de,ve,ce,xe,Ee,Be,Re){return xt(de,ve,ce,xe,Ee,Be,Re)},tangentAngle:function(de,ve,ce,xe,Ee,Be,Re){var ct=tr(de,ce,Ee,Re),ht=tr(ve,xe,Be,Re),Ht=Math.atan2(ht,ct);return kt(Ht)}};function Lt(de,ve,ce,xe,Ee){var Be=1-Ee;return Be*Be*Be*de+3*ve*Ee*Be*Be+3*ce*Ee*Ee*Be+xe*Ee*Ee*Ee}function Nt(de,ve,ce,xe,Ee){var Be=1-Ee;return 3*(Be*Be*(ve-de)+2*Be*Ee*(ce-ve)+Ee*Ee*(xe-ce))}function Tr(de,ve,ce,xe){var Ee=-3*de+9*ve-9*ce+3*xe,Be=6*de-12*ve+6*ce,Re=3*ve-3*de,ct=[],ht,Ht,Yt;if(Ft(Ee,0))Ft(Be,0)||(ht=-Re/Be,ht>=0&&ht<=1&&ct.push(ht));else{var rr=Be*Be-4*Ee*Re;Ft(rr,0)?ct.push(-Be/(2*Ee)):rr>0&&(Yt=Math.sqrt(rr),ht=(-Be+Yt)/(2*Ee),Ht=(-Be-Yt)/(2*Ee),ht>=0&&ht<=1&&ct.push(ht),Ht>=0&&Ht<=1&&ct.push(Ht))}return ct}function vr(de,ve,ce,xe,Ee,Be,Re,ct,ht){var Ht=Lt(de,ce,Ee,Re,ht),Yt=Lt(ve,xe,Be,ct,ht),rr=U.pointAt(de,ve,ce,xe,ht),hr=U.pointAt(ce,xe,Ee,Be,ht),Hr=U.pointAt(Ee,Be,Re,ct,ht),Zt=U.pointAt(rr.x,rr.y,hr.x,hr.y,ht),qr=U.pointAt(hr.x,hr.y,Hr.x,Hr.y,ht);return[[de,ve,rr.x,rr.y,Zt.x,Zt.y,Ht,Yt],[Ht,Yt,qr.x,qr.y,Hr.x,Hr.y,Re,ct]]}function Yr(de,ve,ce,xe,Ee,Be,Re,ct,ht){if(ht===0)return lt([de,ce,Ee,Re],[ve,xe,Be,ct]);var Ht=vr(de,ve,ce,xe,Ee,Be,Re,ct,.5),Yt=Ht[0],rr=Ht[1];return Yt.push(ht-1),rr.push(ht-1),Yr.apply(null,Yt)+Yr.apply(null,rr)}var mn={extrema:Tr,box:function(de,ve,ce,xe,Ee,Be,Re,ct){for(var ht=[de,Re],Ht=[ve,ct],Yt=Tr(de,ce,Ee,Re),rr=Tr(ve,xe,Be,ct),hr=0;hr<Yt.length;hr++)ht.push(Lt(de,ce,Ee,Re,Yt[hr]));for(var hr=0;hr<rr.length;hr++)Ht.push(Lt(ve,xe,Be,ct,rr[hr]));return Dt(ht,Ht)},length:function(de,ve,ce,xe,Ee,Be,Re,ct){return Yr(de,ve,ce,xe,Ee,Be,Re,ct,3)},nearestPoint:function(de,ve,ce,xe,Ee,Be,Re,ct,ht,Ht,Yt){return Pt([de,ce,Ee,Re],[ve,xe,Be,ct],ht,Ht,Lt,Yt)},pointDistance:function(de,ve,ce,xe,Ee,Be,Re,ct,ht,Ht,Yt){var rr=this.nearestPoint(de,ve,ce,xe,Ee,Be,Re,ct,ht,Ht,Yt);return ie(rr.x,rr.y,ht,Ht)},interpolationAt:Lt,pointAt:function(de,ve,ce,xe,Ee,Be,Re,ct,ht){return{x:Lt(de,ce,Ee,Re,ht),y:Lt(ve,xe,Be,ct,ht)}},divide:function(de,ve,ce,xe,Ee,Be,Re,ct,ht){return vr(de,ve,ce,xe,Ee,Be,Re,ct,ht)},tangentAngle:function(de,ve,ce,xe,Ee,Be,Re,ct,ht){var Ht=Nt(de,ce,Ee,Re,ht),Yt=Nt(ve,xe,Be,ct,ht);return kt(Math.atan2(Yt,Ht))}};function Mn(de,ve){var ce=Math.abs(de);return ve>0?ce:ce*-1}var Fr={box:function(de,ve,ce,xe){return{x:de-ce,y:ve-xe,width:ce*2,height:xe*2}},length:function(de,ve,ce,xe){return Math.PI*(3*(ce+xe)-Math.sqrt((3*ce+xe)*(ce+3*xe)))},nearestPoint:function(de,ve,ce,xe,Ee,Be){var Re=ce,ct=xe;if(Re===0||ct===0)return{x:de,y:ve};for(var ht=Ee-de,Ht=Be-ve,Yt=Math.abs(ht),rr=Math.abs(Ht),hr=Re*Re,Hr=ct*ct,Zt=Math.PI/4,qr,Qr,dn=0;dn<4;dn++){qr=Re*Math.cos(Zt),Qr=ct*Math.sin(Zt);var kn=(hr-Hr)*Math.pow(Math.cos(Zt),3)/Re,wr=(Hr-hr)*Math.pow(Math.sin(Zt),3)/ct,ei=qr-kn,Ln=Qr-wr,yi=Yt-kn,fa=rr-wr,_i=Math.hypot(Ln,ei),Ja=Math.hypot(fa,yi),Gr=_i*Math.asin((ei*fa-Ln*yi)/(_i*Ja)),oi=Gr/Math.sqrt(hr+Hr-qr*qr-Qr*Qr);Zt+=oi,Zt=Math.min(Math.PI/2,Math.max(0,Zt))}return{x:de+Mn(qr,ht),y:ve+Mn(Qr,Ht)}},pointDistance:function(de,ve,ce,xe,Ee,Be){var Re=this.nearestPoint(de,ve,ce,xe,Ee,Be);return ie(Re.x,Re.y,Ee,Be)},pointAt:function(de,ve,ce,xe,Ee){var Be=2*Math.PI*Ee;return{x:de+ce*Math.cos(Be),y:ve+xe*Math.sin(Be)}},tangentAngle:function(de,ve,ce,xe,Ee){var Be=2*Math.PI*Ee,Re=Math.atan2(xe*Math.cos(Be),-ce*Math.sin(Be));return kt(Re)}};function Rn(de,ve,ce,xe,Ee,Be,Re,ct){return-1*ce*Math.cos(Ee)*Math.sin(ct)-xe*Math.sin(Ee)*Math.cos(ct)}function Wn(de,ve,ce,xe,Ee,Be,Re,ct){return-1*ce*Math.sin(Ee)*Math.sin(ct)+xe*Math.cos(Ee)*Math.cos(ct)}function Ge(de,ve,ce){return Math.atan(-ve/de*Math.tan(ce))}function Et(de,ve,ce){return Math.atan(ve/(de*Math.tan(ce)))}function Rr(de,ve,ce,xe,Ee,Be){return ce*Math.cos(Ee)*Math.cos(Be)-xe*Math.sin(Ee)*Math.sin(Be)+de}function un(de,ve,ce,xe,Ee,Be){return ce*Math.sin(Ee)*Math.cos(Be)+xe*Math.cos(Ee)*Math.sin(Be)+ve}function yn(de,ve,ce,xe){var Ee=Math.atan2(xe*de,ce*ve);return(Ee+Math.PI*2)%(Math.PI*2)}function Vt(de,ve,ce){return{x:de*Math.cos(ce),y:ve*Math.sin(ce)}}function Ce(de,ve,ce){var xe=Math.cos(ce),Ee=Math.sin(ce);return[de*xe-ve*Ee,de*Ee+ve*xe]}var be={box:function(de,ve,ce,xe,Ee,Be,Re){for(var ct=Ge(ce,xe,Ee),ht=1/0,Ht=-1/0,Yt=[Be,Re],rr=-Math.PI*2;rr<=Math.PI*2;rr+=Math.PI){var hr=ct+rr;Be<Re?Be<hr&&hr<Re&&Yt.push(hr):Re<hr&&hr<Be&&Yt.push(hr)}for(var rr=0;rr<Yt.length;rr++){var Hr=Rr(de,ve,ce,xe,Ee,Yt[rr]);Hr<ht&&(ht=Hr),Hr>Ht&&(Ht=Hr)}for(var Zt=Et(ce,xe,Ee),qr=1/0,Qr=-1/0,dn=[Be,Re],rr=-Math.PI*2;rr<=Math.PI*2;rr+=Math.PI){var kn=Zt+rr;Be<Re?Be<kn&&kn<Re&&dn.push(kn):Re<kn&&kn<Be&&dn.push(kn)}for(var rr=0;rr<dn.length;rr++){var wr=un(de,ve,ce,xe,Ee,dn[rr]);wr<qr&&(qr=wr),wr>Qr&&(Qr=wr)}return{x:ht,y:qr,width:Ht-ht,height:Qr-qr}},length:function(de,ve,ce,xe,Ee,Be,Re){},nearestPoint:function(de,ve,ce,xe,Ee,Be,Re,ct,ht){var Ht=Ce(ct-de,ht-ve,-Ee),Yt=Ht[0],rr=Ht[1],hr=Fr.nearestPoint(0,0,ce,xe,Yt,rr),Hr=yn(ce,xe,hr.x,hr.y);Hr<Be?hr=Vt(ce,xe,Be):Hr>Re&&(hr=Vt(ce,xe,Re));var Zt=Ce(hr.x,hr.y,Ee);return{x:Zt[0]+de,y:Zt[1]+ve}},pointDistance:function(de,ve,ce,xe,Ee,Be,Re,ct,ht){var Ht=this.nearestPoint(de,ve,ce,xe,ct,ht);return ie(Ht.x,Ht.y,ct,ht)},pointAt:function(de,ve,ce,xe,Ee,Be,Re,ct){var ht=(Re-Be)*ct+Be;return{x:Rr(de,ve,ce,xe,Ee,ht),y:un(de,ve,ce,xe,Ee,ht)}},tangentAngle:function(de,ve,ce,xe,Ee,Be,Re,ct){var ht=(Re-Be)*ct+Be,Ht=Rn(de,ve,ce,xe,Ee,Be,Re,ht),Yt=Wn(de,ve,ce,xe,Ee,Be,Re,ht);return kt(Math.atan2(Yt,Ht))}};function Ae(de){for(var ve=0,ce=[],xe=0;xe<de.length-1;xe++){var Ee=de[xe],Be=de[xe+1],Re=ie(Ee[0],Ee[1],Be[0],Be[1]),ct={from:Ee,to:Be,length:Re};ce.push(ct),ve+=Re}return{segments:ce,totalLength:ve}}function _e(de){if(de.length<2)return 0;for(var ve=0,ce=0;ce<de.length-1;ce++){var xe=de[ce],Ee=de[ce+1];ve+=ie(xe[0],xe[1],Ee[0],Ee[1])}return ve}function ze(de,ve){if(ve>1||ve<0||de.length<2)return null;var ce=Ae(de),xe=ce.segments,Ee=ce.totalLength;if(Ee===0)return{x:de[0][0],y:de[0][1]};for(var Be=0,Re=null,ct=0;ct<xe.length;ct++){var ht=xe[ct],Ht=ht.from,Yt=ht.to,rr=ht.length/Ee;if(ve>=Be&&ve<=Be+rr){var hr=(ve-Be)/rr;Re=U.pointAt(Ht[0],Ht[1],Yt[0],Yt[1],hr);break}Be+=rr}return Re}function Bt(de,ve){if(ve>1||ve<0||de.length<2)return 0;for(var ce=Ae(de),xe=ce.segments,Ee=ce.totalLength,Be=0,Re=0,ct=0;ct<xe.length;ct++){var ht=xe[ct],Ht=ht.from,Yt=ht.to,rr=ht.length/Ee;if(ve>=Be&&ve<=Be+rr){Re=Math.atan2(Yt[1]-Ht[1],Yt[0]-Ht[0]);break}Be+=rr}return Re}function at(de,ve,ce){for(var xe=1/0,Ee=0;Ee<de.length-1;Ee++){var Be=de[Ee],Re=de[Ee+1],ct=U.pointDistance(Be[0],Be[1],Re[0],Re[1],ve,ce);ct<xe&&(xe=ct)}return xe}var wt={box:function(de){for(var ve=[],ce=[],xe=0;xe<de.length;xe++){var Ee=de[xe];ve.push(Ee[0]),ce.push(Ee[1])}return Dt(ve,ce)},length:function(de){return _e(de)},pointAt:function(de,ve){return ze(de,ve)},pointDistance:function(de,ve,ce){return at(de,ve,ce)},tangentAngle:function(de,ve){return Bt(de,ve)}};function fe(de){var ve=de.slice(0);return de.length&&ve.push(de[0]),ve}var st={box:function(de){return wt.box(de)},length:function(de){return _e(fe(de))},pointAt:function(de,ve){return ze(fe(de),ve)},pointDistance:function(de,ve,ce){return at(fe(de),ve,ce)},tangentAngle:function(de,ve){return Bt(fe(de),ve)}};function Tt(de,ve){return!de||!ve?de||ve:{minX:Math.min(de.minX,ve.minX),minY:Math.min(de.minY,ve.minY),maxX:Math.max(de.maxX,ve.maxX),maxY:Math.max(de.maxY,ve.maxY)}}function ir(de,ve){var ce=de.get("startArrowShape"),xe=de.get("endArrowShape"),Ee=null,Be=null;return ce&&(Ee=ce.getCanvasBBox(),ve=Tt(ve,Ee)),xe&&(Be=xe.getCanvasBBox(),ve=Tt(ve,Be)),ve}function bt(de){for(var ve=de.attr(),ce=ve.points,xe=[],Ee=[],Be=0;Be<ce.length;Be++){var Re=ce[Be];xe.push(Re[0]),Ee.push(Re[1])}var ct=Dt(xe,Ee),ht=ct.x,Ht=ct.y,Yt=ct.width,rr=ct.height,hr={minX:ht,minY:Ht,maxX:ht+Yt,maxY:Ht+rr};return hr=ir(de,hr),{x:hr.minX,y:hr.minY,width:hr.maxX-hr.minX,height:hr.maxY-hr.minY}}function sr(de){for(var ve=de.attr(),ce=ve.points,xe=[],Ee=[],Be=0;Be<ce.length;Be++){var Re=ce[Be];xe.push(Re[0]),Ee.push(Re[1])}return Dt(xe,Ee)}var dr=tt(6226);function Pr(de){var ve=de.attr(),ce=ve.x,xe=ve.y,Ee=ve.text,Be=ve.fontSize,Re=ve.lineHeight,ct=ve.font;ct||(ct=(0,dr.$O)(ve));var ht=(0,dr.mY)(Ee,ct),Ht;if(!ht)Ht={x:ce,y:xe,width:0,height:0};else{var Yt=ve.textAlign,rr=ve.textBaseline,hr=(0,dr.FE)(Ee,Be,Re),Hr={x:ce,y:xe-hr};Yt&&(Yt==="end"||Yt==="right"?Hr.x-=ht:Yt==="center"&&(Hr.x-=ht/2)),rr&&(rr==="top"?Hr.y+=hr:rr==="middle"&&(Hr.y+=hr/2)),Ht={x:Hr.x,y:Hr.y,width:ht,height:hr}}return Ht}var an=tt(84656);function fn(de,ve){for(var ce=[],xe=[],Ee=[],Be=0;Be<de.length;Be++){var Re=de[Be],ct=Re.currentPoint,ht=Re.params,Ht=Re.prePoint,Yt=void 0;switch(Re.command){case"Q":Yt=er.box(Ht[0],Ht[1],ht[1],ht[2],ht[3],ht[4]);break;case"C":Yt=mn.box(Ht[0],Ht[1],ht[1],ht[2],ht[3],ht[4],ht[5],ht[6]);break;case"A":var rr=Re.arcParams;Yt=be.box(rr.cx,rr.cy,rr.rx,rr.ry,rr.xRotation,rr.startAngle,rr.endAngle);break;default:ce.push(ct[0]),xe.push(ct[1]);break}Yt&&(Re.box=Yt,ce.push(Yt.x,Yt.x+Yt.width),xe.push(Yt.y,Yt.y+Yt.height)),ve&&(Re.command==="L"||Re.command==="M")&&Re.prePoint&&Re.nextPoint&&Ee.push(Re)}ce=ce.filter(function(dn){return!Number.isNaN(dn)&&dn!==1/0&&dn!==-1/0}),xe=xe.filter(function(dn){return!Number.isNaN(dn)&&dn!==1/0&&dn!==-1/0});var hr=(0,re.VV)(ce),Hr=(0,re.VV)(xe),Zt=(0,re.Fp)(ce),qr=(0,re.Fp)(xe);if(Ee.length===0)return{x:hr,y:Hr,width:Zt-hr,height:qr-Hr};for(var Be=0;Be<Ee.length;Be++){var Re=Ee[Be],ct=Re.currentPoint,Qr=void 0;ct[0]===hr?(Qr=qn(Re,ve),hr=hr-Qr.xExtra):ct[0]===Zt&&(Qr=qn(Re,ve),Zt=Zt+Qr.xExtra),ct[1]===Hr?(Qr=qn(Re,ve),Hr=Hr-Qr.yExtra):ct[1]===qr&&(Qr=qn(Re,ve),qr=qr+Qr.yExtra)}return{x:hr,y:Hr,width:Zt-hr,height:qr-Hr}}function qn(de,ve){var ce=de.prePoint,xe=de.currentPoint,Ee=de.nextPoint,Be=Math.pow(xe[0]-ce[0],2)+Math.pow(xe[1]-ce[1],2),Re=Math.pow(xe[0]-Ee[0],2)+Math.pow(xe[1]-Ee[1],2),ct=Math.pow(ce[0]-Ee[0],2)+Math.pow(ce[1]-Ee[1],2),ht=Math.acos((Be+Re-ct)/(2*Math.sqrt(Be)*Math.sqrt(Re)));if(!ht||Math.sin(ht)===0||(0,re.vQ)(ht,0))return{xExtra:0,yExtra:0};var Ht=Math.abs(Math.atan2(Ee[1]-xe[1],Ee[0]-xe[0])),Yt=Math.abs(Math.atan2(Ee[0]-xe[0],Ee[1]-xe[1]));Ht=Ht>Math.PI/2?Math.PI-Ht:Ht,Yt=Yt>Math.PI/2?Math.PI-Yt:Yt;var rr={xExtra:Math.cos(ht/2-Ht)*(ve/2*(1/Math.sin(ht/2)))-ve/2||0,yExtra:Math.cos(Yt-ht/2)*(ve/2*(1/Math.sin(ht/2)))-ve/2||0};return rr}function cn(de){var ve=de.attr(),ce=ve.path,xe=ve.stroke,Ee=xe?ve.lineWidth:0,Be=de.get("segments")||(0,an.zx)(ce),Re=fn(Be,Ee),ct=Re.x,ht=Re.y,Ht=Re.width,Yt=Re.height,rr={minX:ct,minY:ht,maxX:ct+Ht,maxY:ht+Yt};return rr=ir(de,rr),{x:rr.minX,y:rr.minY,width:rr.maxX-rr.minX,height:rr.maxY-rr.minY}}function Kr(de){var ve=de.attr(),ce=ve.x1,xe=ve.y1,Ee=ve.x2,Be=ve.y2,Re=Math.min(ce,Ee),ct=Math.max(ce,Ee),ht=Math.min(xe,Be),Ht=Math.max(xe,Be),Yt={minX:Re,maxX:ct,minY:ht,maxY:Ht};return Yt=ir(de,Yt),{x:Yt.minX,y:Yt.minY,width:Yt.maxX-Yt.minX,height:Yt.maxY-Yt.minY}}function rt(de){var ve=de.attr(),ce=ve.x,xe=ve.y,Ee=ve.rx,Be=ve.ry;return{x:ce-Ee,y:xe-Be,width:Ee*2,height:Be*2}}ye("rect",oe),ye("image",oe),ye("circle",cr),ye("marker",cr),ye("polyline",bt),ye("polygon",sr),ye("text",Pr),ye("path",cn),ye("line",Kr),ye("ellipse",rt)},64727:function(ai,Sn){"use strict";var tt=function(){function Ve(ye,ut){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=ye,this.name=ye,this.originalEvent=ut,this.timeStamp=ut.timeStamp}return Ve.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Ve.prototype.stopPropagation=function(){this.propagationStopped=!0},Ve.prototype.toString=function(){var ye=this.type;return"[Event (type="+ye+")]"},Ve.prototype.save=function(){},Ve.prototype.restore=function(){},Ve}();Sn.Z=tt},58881:function(ai,Sn,tt){"use strict";tt.r(Sn),tt.d(Sn,{AbstractCanvas:function(){return or.Z},AbstractGroup:function(){return kt.Z},AbstractShape:function(){return Mt.Z},Base:function(){return Dt.Z},Event:function(){return Ft.Z},PathUtil:function(){return Ve},assembleFont:function(){return D.$O},getBBoxMethod:function(){return U.b},getOffScreenContext:function(){return Gt.L},getTextHeight:function(){return D.FE},invert:function(){return lt.U_},isAllowCapture:function(){return Pt.pP},multiplyVec2:function(){return lt.rG},registerBBox:function(){return U.W},registerEasing:function(){return lr.C},version:function(){return tr}});var Ve=tt(20939),ye=tt(64205),ut=tt.n(ye),ie={};for(var oe in ye)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(oe)<0&&(ie[oe]=function(xt){return ye[xt]}.bind(0,oe));tt.d(Sn,ie);var cr=tt(12309),re=tt.n(cr),ie={};for(var oe in cr)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(oe)<0&&(ie[oe]=function(gt){return cr[gt]}.bind(0,oe));tt.d(Sn,ie);var Ft=tt(64727),Dt=tt(22680),or=tt(59294),kt=tt(66531),Mt=tt(3649),U=tt(5997),D=tt(6226),Pt=tt(37898),lt=tt(92615),Gt=tt(18554),lr=tt(71055),tr="0.5.11"},12309:function(){},64205:function(){},92615:function(ai,Sn,tt){"use strict";tt.d(Sn,{U_:function(){return ut},rG:function(){return ye},xq:function(){return Ve}});function Ve(oe,cr){var re=[],ie=oe[0],Ft=oe[1],Dt=oe[2],or=oe[3],kt=oe[4],Mt=oe[5],U=oe[6],D=oe[7],Pt=oe[8],lt=cr[0],Gt=cr[1],lr=cr[2],tr=cr[3],xt=cr[4],gt=cr[5],er=cr[6],Lt=cr[7],Nt=cr[8];return re[0]=lt*ie+Gt*or+lr*U,re[1]=lt*Ft+Gt*kt+lr*D,re[2]=lt*Dt+Gt*Mt+lr*Pt,re[3]=tr*ie+xt*or+gt*U,re[4]=tr*Ft+xt*kt+gt*D,re[5]=tr*Dt+xt*Mt+gt*Pt,re[6]=er*ie+Lt*or+Nt*U,re[7]=er*Ft+Lt*kt+Nt*D,re[8]=er*Dt+Lt*Mt+Nt*Pt,re}function ye(oe,cr){var re=[],ie=cr[0],Ft=cr[1];return re[0]=oe[0]*ie+oe[3]*Ft+oe[6],re[1]=oe[1]*ie+oe[4]*Ft+oe[7],re}function ut(oe){var cr=[],re=oe[0],ie=oe[1],Ft=oe[2],Dt=oe[3],or=oe[4],kt=oe[5],Mt=oe[6],U=oe[7],D=oe[8],Pt=D*or-kt*U,lt=-D*Dt+kt*Mt,Gt=U*Dt-or*Mt,lr=re*Pt+ie*lt+Ft*Gt;return lr?(lr=1/lr,cr[0]=Pt*lr,cr[1]=(-D*ie+Ft*U)*lr,cr[2]=(kt*ie-Ft*or)*lr,cr[3]=lt*lr,cr[4]=(D*re-Ft*Mt)*lr,cr[5]=(-kt*re+Ft*Dt)*lr,cr[6]=Gt*lr,cr[7]=(-U*re+ie*Mt)*lr,cr[8]=(or*re-ie*Dt)*lr,cr):null}},18554:function(ai,Sn,tt){"use strict";tt.d(Sn,{L:function(){return ye}});var Ve=null;function ye(){if(!Ve){var ut=document.createElement("canvas");ut.width=1,ut.height=1,Ve=ut.getContext("2d")}return Ve}},20939:function(ai,Sn,tt){"use strict";tt.r(Sn),tt.d(Sn,{catmullRomToBezier:function(){return re},fillPath:function(){return Rn},fillPathByDiff:function(){return Rr},formatPath:function(){return Vt},intersection:function(){return Yr},parsePathArray:function(){return D},parsePathString:function(){return cr},pathToAbsolute:function(){return Ft},pathToCurve:function(){return Mt},rectPath:function(){return xt}});var Ve=tt(47165),ye=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,ut=new RegExp("([a-z])["+ye+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+ye+"]*,?["+ye+"]*)+)","ig"),oe=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+ye+"]*,?["+ye+"]*","ig"),cr=function(Ce){if(!Ce)return null;if((0,Ve.kJ)(Ce))return Ce;var be={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},Ae=[];return String(Ce).replace(ut,function(_e,ze,Bt){var at=[],wt=ze.toLowerCase();if(Bt.replace(oe,function(fe,st){st&&at.push(+st)}),wt==="m"&&at.length>2&&(Ae.push([ze].concat(at.splice(0,2))),wt="l",ze=ze==="m"?"l":"L"),wt==="o"&&at.length===1&&Ae.push([ze,at[0]]),wt==="r")Ae.push([ze].concat(at));else for(;at.length>=be[wt]&&(Ae.push([ze].concat(at.splice(0,be[wt]))),!!be[wt]););return Ce}),Ae},re=function(Ce,be){for(var Ae=[],_e=0,ze=Ce.length;ze-2*!be>_e;_e+=2){var Bt=[{x:+Ce[_e-2],y:+Ce[_e-1]},{x:+Ce[_e],y:+Ce[_e+1]},{x:+Ce[_e+2],y:+Ce[_e+3]},{x:+Ce[_e+4],y:+Ce[_e+5]}];be?_e?ze-4===_e?Bt[3]={x:+Ce[0],y:+Ce[1]}:ze-2===_e&&(Bt[2]={x:+Ce[0],y:+Ce[1]},Bt[3]={x:+Ce[2],y:+Ce[3]}):Bt[0]={x:+Ce[ze-2],y:+Ce[ze-1]}:ze-4===_e?Bt[3]=Bt[2]:_e||(Bt[0]={x:+Ce[_e],y:+Ce[_e+1]}),Ae.push(["C",(-Bt[0].x+6*Bt[1].x+Bt[2].x)/6,(-Bt[0].y+6*Bt[1].y+Bt[2].y)/6,(Bt[1].x+6*Bt[2].x-Bt[3].x)/6,(Bt[1].y+6*Bt[2].y-Bt[3].y)/6,Bt[2].x,Bt[2].y])}return Ae},ie=function(Ce,be,Ae,_e,ze){var Bt=[];if(ze===null&&_e===null&&(_e=Ae),Ce=+Ce,be=+be,Ae=+Ae,_e=+_e,ze!==null){var at=Math.PI/180,wt=Ce+Ae*Math.cos(-_e*at),fe=Ce+Ae*Math.cos(-ze*at),st=be+Ae*Math.sin(-_e*at),Tt=be+Ae*Math.sin(-ze*at);Bt=[["M",wt,st],["A",Ae,Ae,0,+(ze-_e>180),0,fe,Tt]]}else Bt=[["M",Ce,be],["m",0,-_e],["a",Ae,_e,0,1,1,0,2*_e],["a",Ae,_e,0,1,1,0,-2*_e],["z"]];return Bt},Ft=function(Ce){if(Ce=cr(Ce),!Ce||!Ce.length)return[["M",0,0]];var be=[],Ae=0,_e=0,ze=0,Bt=0,at=0,wt,fe;Ce[0][0]==="M"&&(Ae=+Ce[0][1],_e=+Ce[0][2],ze=Ae,Bt=_e,at++,be[0]=["M",Ae,_e]);for(var st=Ce.length===3&&Ce[0][0]==="M"&&Ce[1][0].toUpperCase()==="R"&&Ce[2][0].toUpperCase()==="Z",Tt=void 0,ir=void 0,bt=at,sr=Ce.length;bt<sr;bt++){if(be.push(Tt=[]),ir=Ce[bt],wt=ir[0],wt!==wt.toUpperCase())switch(Tt[0]=wt.toUpperCase(),Tt[0]){case"A":Tt[1]=ir[1],Tt[2]=ir[2],Tt[3]=ir[3],Tt[4]=ir[4],Tt[5]=ir[5],Tt[6]=+ir[6]+Ae,Tt[7]=+ir[7]+_e;break;case"V":Tt[1]=+ir[1]+_e;break;case"H":Tt[1]=+ir[1]+Ae;break;case"R":fe=[Ae,_e].concat(ir.slice(1));for(var dr=2,Pr=fe.length;dr<Pr;dr++)fe[dr]=+fe[dr]+Ae,fe[++dr]=+fe[dr]+_e;be.pop(),be=be.concat(re(fe,st));break;case"O":be.pop(),fe=ie(Ae,_e,ir[1],ir[2]),fe.push(fe[0]),be=be.concat(fe);break;case"U":be.pop(),be=be.concat(ie(Ae,_e,ir[1],ir[2],ir[3])),Tt=["U"].concat(be[be.length-1].slice(-2));break;case"M":ze=+ir[1]+Ae,Bt=+ir[2]+_e;break;default:for(var dr=1,Pr=ir.length;dr<Pr;dr++)Tt[dr]=+ir[dr]+(dr%2?Ae:_e)}else if(wt==="R")fe=[Ae,_e].concat(ir.slice(1)),be.pop(),be=be.concat(re(fe,st)),Tt=["R"].concat(ir.slice(-2));else if(wt==="O")be.pop(),fe=ie(Ae,_e,ir[1],ir[2]),fe.push(fe[0]),be=be.concat(fe);else if(wt==="U")be.pop(),be=be.concat(ie(Ae,_e,ir[1],ir[2],ir[3])),Tt=["U"].concat(be[be.length-1].slice(-2));else for(var an=0,fn=ir.length;an<fn;an++)Tt[an]=ir[an];if(wt=wt.toUpperCase(),wt!=="O")switch(Tt[0]){case"Z":Ae=+ze,_e=+Bt;break;case"H":Ae=Tt[1];break;case"V":_e=Tt[1];break;case"M":ze=Tt[Tt.length-2],Bt=Tt[Tt.length-1];break;default:Ae=Tt[Tt.length-2],_e=Tt[Tt.length-1]}}return be},Dt=function(Ce,be,Ae,_e){return[Ce,be,Ae,_e,Ae,_e]},or=function(Ce,be,Ae,_e,ze,Bt){var at=.3333333333333333,wt=2/3;return[at*Ce+wt*Ae,at*be+wt*_e,at*ze+wt*Ae,at*Bt+wt*_e,ze,Bt]},kt=function(Ce,be,Ae,_e,ze,Bt,at,wt,fe,st){Ae===_e&&(Ae+=1);var Tt=Math.PI*120/180,ir=Math.PI/180*(+ze||0),bt=[],sr,dr,Pr,an,fn,qn=function(Ln,yi,fa){var _i=Ln*Math.cos(fa)-yi*Math.sin(fa),Ja=Ln*Math.sin(fa)+yi*Math.cos(fa);return{x:_i,y:Ja}};if(st)dr=st[0],Pr=st[1],an=st[2],fn=st[3];else{sr=qn(Ce,be,-ir),Ce=sr.x,be=sr.y,sr=qn(wt,fe,-ir),wt=sr.x,fe=sr.y,Ce===wt&&be===fe&&(wt+=1,fe+=1);var cn=(Ce-wt)/2,Kr=(be-fe)/2,rt=cn*cn/(Ae*Ae)+Kr*Kr/(_e*_e);rt>1&&(rt=Math.sqrt(rt),Ae=rt*Ae,_e=rt*_e);var de=Ae*Ae,ve=_e*_e,ce=(Bt===at?-1:1)*Math.sqrt(Math.abs((de*ve-de*Kr*Kr-ve*cn*cn)/(de*Kr*Kr+ve*cn*cn)));an=ce*Ae*Kr/_e+(Ce+wt)/2,fn=ce*-_e*cn/Ae+(be+fe)/2,dr=Math.asin(((be-fn)/_e).toFixed(9)),Pr=Math.asin(((fe-fn)/_e).toFixed(9)),dr=Ce<an?Math.PI-dr:dr,Pr=wt<an?Math.PI-Pr:Pr,dr<0&&(dr=Math.PI*2+dr),Pr<0&&(Pr=Math.PI*2+Pr),at&&dr>Pr&&(dr=dr-Math.PI*2),!at&&Pr>dr&&(Pr=Pr-Math.PI*2)}var xe=Pr-dr;if(Math.abs(xe)>Tt){var Ee=Pr,Be=wt,Re=fe;Pr=dr+Tt*(at&&Pr>dr?1:-1),wt=an+Ae*Math.cos(Pr),fe=fn+_e*Math.sin(Pr),bt=kt(wt,fe,Ae,_e,ze,0,at,Be,Re,[Pr,Ee,an,fn])}xe=Pr-dr;var ct=Math.cos(dr),ht=Math.sin(dr),Ht=Math.cos(Pr),Yt=Math.sin(Pr),rr=Math.tan(xe/4),hr=4/3*Ae*rr,Hr=4/3*_e*rr,Zt=[Ce,be],qr=[Ce+hr*ht,be-Hr*ct],Qr=[wt+hr*Yt,fe-Hr*Ht],dn=[wt,fe];if(qr[0]=2*Zt[0]-qr[0],qr[1]=2*Zt[1]-qr[1],st)return[qr,Qr,dn].concat(bt);bt=[qr,Qr,dn].concat(bt).join().split(",");for(var kn=[],wr=0,ei=bt.length;wr<ei;wr++)kn[wr]=wr%2?qn(bt[wr-1],bt[wr],ir).y:qn(bt[wr],bt[wr+1],ir).x;return kn},Mt=function(Ce,be){var Ae=Ft(Ce),_e=be&&Ft(be),ze={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Bt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},at=[],wt=[],fe="",st="",Tt,ir=function(cn,Kr,rt){var de,ve;if(!cn)return["C",Kr.x,Kr.y,Kr.x,Kr.y,Kr.x,Kr.y];switch(!(cn[0]in{T:1,Q:1})&&(Kr.qx=Kr.qy=null),cn[0]){case"M":Kr.X=cn[1],Kr.Y=cn[2];break;case"A":cn=["C"].concat(kt.apply(0,[Kr.x,Kr.y].concat(cn.slice(1))));break;case"S":rt==="C"||rt==="S"?(de=Kr.x*2-Kr.bx,ve=Kr.y*2-Kr.by):(de=Kr.x,ve=Kr.y),cn=["C",de,ve].concat(cn.slice(1));break;case"T":rt==="Q"||rt==="T"?(Kr.qx=Kr.x*2-Kr.qx,Kr.qy=Kr.y*2-Kr.qy):(Kr.qx=Kr.x,Kr.qy=Kr.y),cn=["C"].concat(or(Kr.x,Kr.y,Kr.qx,Kr.qy,cn[1],cn[2]));break;case"Q":Kr.qx=cn[1],Kr.qy=cn[2],cn=["C"].concat(or(Kr.x,Kr.y,cn[1],cn[2],cn[3],cn[4]));break;case"L":cn=["C"].concat(Dt(Kr.x,Kr.y,cn[1],cn[2]));break;case"H":cn=["C"].concat(Dt(Kr.x,Kr.y,cn[1],Kr.y));break;case"V":cn=["C"].concat(Dt(Kr.x,Kr.y,Kr.x,cn[1]));break;case"Z":cn=["C"].concat(Dt(Kr.x,Kr.y,Kr.X,Kr.Y));break;default:break}return cn},bt=function(cn,Kr){if(cn[Kr].length>7){cn[Kr].shift();for(var rt=cn[Kr];rt.length;)at[Kr]="A",_e&&(wt[Kr]="A"),cn.splice(Kr++,0,["C"].concat(rt.splice(0,6)));cn.splice(Kr,1),Tt=Math.max(Ae.length,_e&&_e.length||0)}},sr=function(cn,Kr,rt,de,ve){cn&&Kr&&cn[ve][0]==="M"&&Kr[ve][0]!=="M"&&(Kr.splice(ve,0,["M",de.x,de.y]),rt.bx=0,rt.by=0,rt.x=cn[ve][1],rt.y=cn[ve][2],Tt=Math.max(Ae.length,_e&&_e.length||0))};Tt=Math.max(Ae.length,_e&&_e.length||0);for(var dr=0;dr<Tt;dr++){Ae[dr]&&(fe=Ae[dr][0]),fe!=="C"&&(at[dr]=fe,dr&&(st=at[dr-1])),Ae[dr]=ir(Ae[dr],ze,st),at[dr]!=="A"&&fe==="C"&&(at[dr]="C"),bt(Ae,dr),_e&&(_e[dr]&&(fe=_e[dr][0]),fe!=="C"&&(wt[dr]=fe,dr&&(st=wt[dr-1])),_e[dr]=ir(_e[dr],Bt,st),wt[dr]!=="A"&&fe==="C"&&(wt[dr]="C"),bt(_e,dr)),sr(Ae,_e,ze,Bt,dr),sr(_e,Ae,Bt,ze,dr);var Pr=Ae[dr],an=_e&&_e[dr],fn=Pr.length,qn=_e&&an.length;ze.x=Pr[fn-2],ze.y=Pr[fn-1],ze.bx=parseFloat(Pr[fn-4])||ze.x,ze.by=parseFloat(Pr[fn-3])||ze.y,Bt.bx=_e&&(parseFloat(an[qn-4])||Bt.x),Bt.by=_e&&(parseFloat(an[qn-3])||Bt.y),Bt.x=_e&&an[qn-2],Bt.y=_e&&an[qn-1]}return _e?[Ae,_e]:Ae},U=/,?([a-z]),?/gi,D=function(Ce){return Ce.join(",").replace(U,"$1")},Pt=function(Ce,be,Ae,_e,ze){var Bt=-3*be+9*Ae-9*_e+3*ze,at=Ce*Bt+6*be-12*Ae+6*_e;return Ce*at-3*be+3*Ae},lt=function(Ce,be,Ae,_e,ze,Bt,at,wt,fe){fe===null&&(fe=1),fe=fe>1?1:fe<0?0:fe;for(var st=fe/2,Tt=12,ir=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],bt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],sr=0,dr=0;dr<Tt;dr++){var Pr=st*ir[dr]+st,an=Pt(Pr,Ce,Ae,ze,at),fn=Pt(Pr,be,_e,Bt,wt),qn=an*an+fn*fn;sr+=bt[dr]*Math.sqrt(qn)}return st*sr},Gt=function(Ce,be,Ae,_e,ze,Bt,at,wt){for(var fe=[],st=[[],[]],Tt,ir,bt,sr,dr=0;dr<2;++dr){if(dr===0?(ir=6*Ce-12*Ae+6*ze,Tt=-3*Ce+9*Ae-9*ze+3*at,bt=3*Ae-3*Ce):(ir=6*be-12*_e+6*Bt,Tt=-3*be+9*_e-9*Bt+3*wt,bt=3*_e-3*be),Math.abs(Tt)<1e-12){if(Math.abs(ir)<1e-12)continue;sr=-bt/ir,sr>0&&sr<1&&fe.push(sr);continue}var Pr=ir*ir-4*bt*Tt,an=Math.sqrt(Pr);if(!(Pr<0)){var fn=(-ir+an)/(2*Tt);fn>0&&fn<1&&fe.push(fn);var qn=(-ir-an)/(2*Tt);qn>0&&qn<1&&fe.push(qn)}}for(var cn=fe.length,Kr=cn,rt;cn--;)sr=fe[cn],rt=1-sr,st[0][cn]=rt*rt*rt*Ce+3*rt*rt*sr*Ae+3*rt*sr*sr*ze+sr*sr*sr*at,st[1][cn]=rt*rt*rt*be+3*rt*rt*sr*_e+3*rt*sr*sr*Bt+sr*sr*sr*wt;return st[0][Kr]=Ce,st[1][Kr]=be,st[0][Kr+1]=at,st[1][Kr+1]=wt,st[0].length=st[1].length=Kr+2,{min:{x:Math.min.apply(0,st[0]),y:Math.min.apply(0,st[1])},max:{x:Math.max.apply(0,st[0]),y:Math.max.apply(0,st[1])}}},lr=function(Ce,be,Ae,_e,ze,Bt,at,wt){if(!(Math.max(Ce,Ae)<Math.min(ze,at)||Math.min(Ce,Ae)>Math.max(ze,at)||Math.max(be,_e)<Math.min(Bt,wt)||Math.min(be,_e)>Math.max(Bt,wt))){var fe=(Ce*_e-be*Ae)*(ze-at)-(Ce-Ae)*(ze*wt-Bt*at),st=(Ce*_e-be*Ae)*(Bt-wt)-(be-_e)*(ze*wt-Bt*at),Tt=(Ce-Ae)*(Bt-wt)-(be-_e)*(ze-at);if(Tt){var ir=fe/Tt,bt=st/Tt,sr=+ir.toFixed(2),dr=+bt.toFixed(2);if(!(sr<+Math.min(Ce,Ae).toFixed(2)||sr>+Math.max(Ce,Ae).toFixed(2)||sr<+Math.min(ze,at).toFixed(2)||sr>+Math.max(ze,at).toFixed(2)||dr<+Math.min(be,_e).toFixed(2)||dr>+Math.max(be,_e).toFixed(2)||dr<+Math.min(Bt,wt).toFixed(2)||dr>+Math.max(Bt,wt).toFixed(2)))return{x:ir,y:bt}}}},tr=function(Ce,be,Ae){return be>=Ce.x&&be<=Ce.x+Ce.width&&Ae>=Ce.y&&Ae<=Ce.y+Ce.height},xt=function(Ce,be,Ae,_e,ze){if(ze)return[["M",+Ce+ +ze,be],["l",Ae-ze*2,0],["a",ze,ze,0,0,1,ze,ze],["l",0,_e-ze*2],["a",ze,ze,0,0,1,-ze,ze],["l",ze*2-Ae,0],["a",ze,ze,0,0,1,-ze,-ze],["l",0,ze*2-_e],["a",ze,ze,0,0,1,ze,-ze],["z"]];var Bt=[["M",Ce,be],["l",Ae,0],["l",0,_e],["l",-Ae,0],["z"]];return Bt.parsePathArray=D,Bt},gt=function(Ce,be,Ae,_e){return Ce===null&&(Ce=be=Ae=_e=0),be===null&&(be=Ce.y,Ae=Ce.width,_e=Ce.height,Ce=Ce.x),{x:Ce,y:be,width:Ae,w:Ae,height:_e,h:_e,x2:Ce+Ae,y2:be+_e,cx:Ce+Ae/2,cy:be+_e/2,r1:Math.min(Ae,_e)/2,r2:Math.max(Ae,_e)/2,r0:Math.sqrt(Ae*Ae+_e*_e)/2,path:xt(Ce,be,Ae,_e),vb:[Ce,be,Ae,_e].join(" ")}},er=function(Ce,be){return Ce=gt(Ce),be=gt(be),tr(be,Ce.x,Ce.y)||tr(be,Ce.x2,Ce.y)||tr(be,Ce.x,Ce.y2)||tr(be,Ce.x2,Ce.y2)||tr(Ce,be.x,be.y)||tr(Ce,be.x2,be.y)||tr(Ce,be.x,be.y2)||tr(Ce,be.x2,be.y2)||(Ce.x<be.x2&&Ce.x>be.x||be.x<Ce.x2&&be.x>Ce.x)&&(Ce.y<be.y2&&Ce.y>be.y||be.y<Ce.y2&&be.y>Ce.y)},Lt=function(Ce,be,Ae,_e,ze,Bt,at,wt){(0,Ve.kJ)(Ce)||(Ce=[Ce,be,Ae,_e,ze,Bt,at,wt]);var fe=Gt.apply(null,Ce);return gt(fe.min.x,fe.min.y,fe.max.x-fe.min.x,fe.max.y-fe.min.y)},Nt=function(Ce,be,Ae,_e,ze,Bt,at,wt,fe){var st=1-fe,Tt=Math.pow(st,3),ir=Math.pow(st,2),bt=fe*fe,sr=bt*fe,dr=Tt*Ce+ir*3*fe*Ae+st*3*fe*fe*ze+sr*at,Pr=Tt*be+ir*3*fe*_e+st*3*fe*fe*Bt+sr*wt,an=Ce+2*fe*(Ae-Ce)+bt*(ze-2*Ae+Ce),fn=be+2*fe*(_e-be)+bt*(Bt-2*_e+be),qn=Ae+2*fe*(ze-Ae)+bt*(at-2*ze+Ae),cn=_e+2*fe*(Bt-_e)+bt*(wt-2*Bt+_e),Kr=st*Ce+fe*Ae,rt=st*be+fe*_e,de=st*ze+fe*at,ve=st*Bt+fe*wt,ce=90-Math.atan2(an-qn,fn-cn)*180/Math.PI;return{x:dr,y:Pr,m:{x:an,y:fn},n:{x:qn,y:cn},start:{x:Kr,y:rt},end:{x:de,y:ve},alpha:ce}},Tr=function(Ce,be,Ae){var _e=Lt(Ce),ze=Lt(be);if(!er(_e,ze))return Ae?0:[];for(var Bt=lt.apply(0,Ce),at=lt.apply(0,be),wt=~~(Bt/8),fe=~~(at/8),st=[],Tt=[],ir={},bt=Ae?0:[],sr=0;sr<wt+1;sr++){var dr=Nt.apply(0,Ce.concat(sr/wt));st.push({x:dr.x,y:dr.y,t:sr/wt})}for(var sr=0;sr<fe+1;sr++){var dr=Nt.apply(0,be.concat(sr/fe));Tt.push({x:dr.x,y:dr.y,t:sr/fe})}for(var sr=0;sr<wt;sr++)for(var Pr=0;Pr<fe;Pr++){var an=st[sr],fn=st[sr+1],qn=Tt[Pr],cn=Tt[Pr+1],Kr=Math.abs(fn.x-an.x)<.001?"y":"x",rt=Math.abs(cn.x-qn.x)<.001?"y":"x",de=lr(an.x,an.y,fn.x,fn.y,qn.x,qn.y,cn.x,cn.y);if(de){if(ir[de.x.toFixed(4)]===de.y.toFixed(4))continue;ir[de.x.toFixed(4)]=de.y.toFixed(4);var ve=an.t+Math.abs((de[Kr]-an[Kr])/(fn[Kr]-an[Kr]))*(fn.t-an.t),ce=qn.t+Math.abs((de[rt]-qn[rt])/(cn[rt]-qn[rt]))*(cn.t-qn.t);ve>=0&&ve<=1&&ce>=0&&ce<=1&&(Ae?bt+=1:bt.push({x:de.x,y:de.y,t1:ve,t2:ce}))}}return bt},vr=function(Ce,be,Ae){Ce=Mt(Ce),be=Mt(be);for(var _e,ze,Bt,at,wt,fe,st,Tt,ir,bt,sr=Ae?0:[],dr=0,Pr=Ce.length;dr<Pr;dr++){var an=Ce[dr];if(an[0]==="M")_e=wt=an[1],ze=fe=an[2];else{an[0]==="C"?(ir=[_e,ze].concat(an.slice(1)),_e=ir[6],ze=ir[7]):(ir=[_e,ze,_e,ze,wt,fe,wt,fe],_e=wt,ze=fe);for(var fn=0,qn=be.length;fn<qn;fn++){var cn=be[fn];if(cn[0]==="M")Bt=st=cn[1],at=Tt=cn[2];else{cn[0]==="C"?(bt=[Bt,at].concat(cn.slice(1)),Bt=bt[6],at=bt[7]):(bt=[Bt,at,Bt,at,st,Tt,st,Tt],Bt=st,at=Tt);var Kr=Tr(ir,bt,Ae);if(Ae)sr+=Kr;else{for(var rt=0,de=Kr.length;rt<de;rt++)Kr[rt].segment1=dr,Kr[rt].segment2=fn,Kr[rt].bez1=ir,Kr[rt].bez2=bt;sr=sr.concat(Kr)}}}}}return sr},Yr=function(Ce,be){return vr(Ce,be)};function mn(Ce,be){var Ae=[],_e=[];function ze(Bt,at){if(Bt.length===1)Ae.push(Bt[0]),_e.push(Bt[0]);else{for(var wt=[],fe=0;fe<Bt.length-1;fe++)fe===0&&Ae.push(Bt[0]),fe===Bt.length-2&&_e.push(Bt[fe+1]),wt[fe]=[(1-at)*Bt[fe][0]+at*Bt[fe+1][0],(1-at)*Bt[fe][1]+at*Bt[fe+1][1]];ze(wt,at)}}return Ce.length&&ze(Ce,be),{left:Ae,right:_e.reverse()}}function Mn(Ce,be,Ae){var _e=[[Ce[1],Ce[2]]];Ae=Ae||2;var ze=[];be[0]==="A"?(_e.push(be[6]),_e.push(be[7])):be[0]==="C"?(_e.push([be[1],be[2]]),_e.push([be[3],be[4]]),_e.push([be[5],be[6]])):be[0]==="S"||be[0]==="Q"?(_e.push([be[1],be[2]]),_e.push([be[3],be[4]])):_e.push([be[1],be[2]]);for(var Bt=_e,at=1/Ae,wt=0;wt<Ae-1;wt++){var fe=at/(1-at*wt),st=mn(Bt,fe);ze.push(st.left),Bt=st.right}ze.push(Bt);var Tt=ze.map(function(ir){var bt=[];return ir.length===4&&(bt.push("C"),bt=bt.concat(ir[2])),ir.length>=3&&(ir.length===3&&bt.push("Q"),bt=bt.concat(ir[1])),ir.length===2&&bt.push("L"),bt=bt.concat(ir[ir.length-1]),bt});return Tt}var Fr=function(Ce,be,Ae){if(Ae===1)return[[].concat(Ce)];var _e=[];if(be[0]==="L"||be[0]==="C"||be[0]==="Q")_e=_e.concat(Mn(Ce,be,Ae));else{var ze=[].concat(Ce);ze[0]==="M"&&(ze[0]="L");for(var Bt=0;Bt<=Ae-1;Bt++)_e.push(ze)}return _e},Rn=function(Ce,be){if(Ce.length===1)return Ce;var Ae=Ce.length-1,_e=be.length-1,ze=Ae/_e,Bt=[];if(Ce.length===1&&Ce[0][0]==="M"){for(var at=0;at<_e-Ae;at++)Ce.push(Ce[0]);return Ce}for(var at=0;at<_e;at++){var wt=Math.floor(ze*at);Bt[wt]=(Bt[wt]||0)+1}var fe=Bt.reduce(function(st,Tt,ir){return ir===Ae?st.concat(Ce[Ae]):st.concat(Fr(Ce[ir],Ce[ir+1],Tt))},[]);return fe.unshift(Ce[0]),(be[_e]==="Z"||be[_e]==="z")&&fe.push("Z"),fe},Wn=function(Ce,be){if(Ce.length!==be.length)return!1;var Ae=!0;return(0,Ve.S6)(Ce,function(_e,ze){if(_e!==be[ze])return Ae=!1,!1}),Ae};function Ge(Ce,be,Ae){var _e=null,ze=Ae;return be<ze&&(ze=be,_e="add"),Ce<ze&&(ze=Ce,_e="del"),{type:_e,min:ze}}var Et=function(Ce,be){var Ae=Ce.length,_e=be.length,ze,Bt,at=0;if(Ae===0||_e===0)return null;for(var wt=[],fe=0;fe<=Ae;fe++)wt[fe]=[],wt[fe][0]={min:fe};for(var st=0;st<=_e;st++)wt[0][st]={min:st};for(var fe=1;fe<=Ae;fe++){ze=Ce[fe-1];for(var st=1;st<=_e;st++){Bt=be[st-1],Wn(ze,Bt)?at=0:at=1;var Tt=wt[fe-1][st].min+1,ir=wt[fe][st-1].min+1,bt=wt[fe-1][st-1].min+at;wt[fe][st]=Ge(Tt,ir,bt)}}return wt},Rr=function(Ce,be){var Ae=Et(Ce,be),_e=Ce.length,ze=be.length,Bt=[],at=1,wt=1;if(Ae[_e][ze].min!==_e){for(var fe=1;fe<=_e;fe++){var st=Ae[fe][fe].min;wt=fe;for(var Tt=at;Tt<=ze;Tt++)Ae[fe][Tt].min<st&&(st=Ae[fe][Tt].min,wt=Tt);at=wt,Ae[fe][at].type&&Bt.push({index:fe-1,type:Ae[fe][at].type})}for(var fe=Bt.length-1;fe>=0;fe--)at=Bt[fe].index,Bt[fe].type==="add"?Ce.splice(at,0,[].concat(Ce[at])):Ce.splice(at,1)}_e=Ce.length;var ir=ze-_e;if(_e<ze)for(var fe=0;fe<ir;fe++)Ce[_e-1][0]==="z"||Ce[_e-1][0]==="Z"?Ce.splice(_e-2,0,Ce[_e-2]):Ce.push(Ce[_e-1]),_e+=1;return Ce};function un(Ce,be,Ae){for(var _e=[].concat(Ce),ze,Bt=1/(Ae+1),at=yn(be)[0],wt=1;wt<=Ae;wt++)Bt*=wt,ze=Math.floor(Ce.length*Bt),ze===0?_e.unshift([at[0]*Bt+Ce[ze][0]*(1-Bt),at[1]*Bt+Ce[ze][1]*(1-Bt)]):_e.splice(ze,0,[at[0]*Bt+Ce[ze][0]*(1-Bt),at[1]*Bt+Ce[ze][1]*(1-Bt)]);return _e}function yn(Ce){var be=[];switch(Ce[0]){case"M":be.push([Ce[1],Ce[2]]);break;case"L":be.push([Ce[1],Ce[2]]);break;case"A":be.push([Ce[6],Ce[7]]);break;case"Q":be.push([Ce[3],Ce[4]]),be.push([Ce[1],Ce[2]]);break;case"T":be.push([Ce[1],Ce[2]]);break;case"C":be.push([Ce[5],Ce[6]]),be.push([Ce[1],Ce[2]]),be.push([Ce[3],Ce[4]]);break;case"S":be.push([Ce[3],Ce[4]]),be.push([Ce[1],Ce[2]]);break;case"H":be.push([Ce[1],Ce[1]]);break;case"V":be.push([Ce[1],Ce[1]]);break;default:}return be}var Vt=function(Ce,be){if(Ce.length<=1)return Ce;for(var Ae,_e=0;_e<be.length;_e++)if(Ce[_e][0]!==be[_e][0])switch(Ae=yn(Ce[_e]),be[_e][0]){case"M":Ce[_e]=["M"].concat(Ae[0]);break;case"L":Ce[_e]=["L"].concat(Ae[0]);break;case"A":Ce[_e]=[].concat(be[_e]),Ce[_e][6]=Ae[0][0],Ce[_e][7]=Ae[0][1];break;case"Q":if(Ae.length<2)if(_e>0)Ae=un(Ae,Ce[_e-1],1);else{Ce[_e]=be[_e];break}Ce[_e]=["Q"].concat(Ae.reduce(function(ze,Bt){return ze.concat(Bt)},[]));break;case"T":Ce[_e]=["T"].concat(Ae[0]);break;case"C":if(Ae.length<3)if(_e>0)Ae=un(Ae,Ce[_e-1],2);else{Ce[_e]=be[_e];break}Ce[_e]=["C"].concat(Ae.reduce(function(ze,Bt){return ze.concat(Bt)},[]));break;case"S":if(Ae.length<2)if(_e>0)Ae=un(Ae,Ce[_e-1],1);else{Ce[_e]=be[_e];break}Ce[_e]=["S"].concat(Ae.reduce(function(ze,Bt){return ze.concat(Bt)},[]));break;default:Ce[_e]=be[_e]}return Ce}},6226:function(ai,Sn,tt){"use strict";tt.d(Sn,{$O:function(){return re},FE:function(){return ut},mY:function(){return cr}});var Ve=tt(37898),ye=tt(18554);function ut(ie,Ft,Dt){var or=1;if((0,Ve.HD)(ie)&&(or=ie.split(`
`).length),or>1){var kt=oe(Ft,Dt);return Ft*or+kt*(or-1)}return Ft}function oe(ie,Ft){return Ft?Ft-ie:ie*.14}function cr(ie,Ft){var Dt=(0,ye.L)(),or=0;if((0,Ve.kK)(ie)||ie==="")return or;if(Dt.save(),Dt.font=Ft,(0,Ve.HD)(ie)&&ie.includes(`
`)){var kt=ie.split(`
`);(0,Ve.S6)(kt,function(Mt){var U=Dt.measureText(Mt).width;or<U&&(or=U)})}else or=Dt.measureText(ie).width;return Dt.restore(),or}function re(ie){var Ft=ie.fontSize,Dt=ie.fontFamily,or=ie.fontWeight,kt=ie.fontStyle,Mt=ie.fontVariant;return[kt,Mt,or,Ft+"px",Dt].join(" ").trim()}},37898:function(ai,Sn,tt){"use strict";tt.d(Sn,{As:function(){return ye},CD:function(){return Ve.CD},HD:function(){return Ve.HD},Kn:function(){return Ve.Kn},S6:function(){return Ve.S6},UY:function(){return oe},jC:function(){return Ve.jC},jU:function(){return ut},kK:function(){return Ve.UM},mf:function(){return Ve.mf},pP:function(){return cr}});var Ve=tt(47165);function ye(re,ie){var Ft=re.indexOf(ie);Ft!==-1&&re.splice(Ft,1)}var ut=typeof window!="undefined"&&typeof window.document!="undefined";function oe(re,ie){if(re.isCanvas())return!0;for(var Ft=ie.getParent(),Dt=!1;Ft;){if(Ft===re){Dt=!0;break}Ft=Ft.getParent()}return Dt}function cr(re){return re.cfg.visible&&re.cfg.capture}},95876:function(ai,Sn,tt){"use strict";tt.d(Sn,{aU:function(){return gl},xC:function(){return Sl},kL:function(){return b_},ju:function(){return Ul},Lc:function(){return av},Mx:function(){return gl},fw:function(){return Sg},Zr:function(){return __},ld:function(){return tr},gj:function(){return $i},gh:function(){return vb},zl:function(){return Oi},ak:function(){return ki},gp:function(){return ih},w_:function(){return fo},Fj:function(){return Ya}});var Ve={};tt.r(Ve),tt.d(Ve,{assign:function(){return _r},default:function(){return fi},defaultI18n:function(){return Fa},format:function(){return Dr},parse:function(){return jr},setGlobalDateI18n:function(){return vl},setGlobalDateMasks:function(){return jt}});var ye={};tt.r(ye),tt.d(ye,{Arc:function(){return Yv},DataMarker:function(){return ag},DataRegion:function(){return ky},Html:function(){return Wy},Image:function(){return _0},Line:function(){return $v},Region:function(){return ig},RegionFilter:function(){return E0},Shape:function(){return Fy},Text:function(){return S0}});var ut={};tt.r(ut),tt.d(ut,{ellipsisHead:function(){return X1},ellipsisMiddle:function(){return T0},ellipsisTail:function(){return sg},getDefault:function(){return $y}});var oe={};tt.r(oe),tt.d(oe,{equidistance:function(){return uu},equidistanceWithReverseBoth:function(){return qf},getDefault:function(){return O0},reserveBoth:function(){return Vd},reserveFirst:function(){return A0},reserveLast:function(){return Yy}});var cr={};tt.r(cr),tt.d(cr,{fixedAngle:function(){return ue},getDefault:function(){return X},unfixedAngle:function(){return ge}});var re={};tt.r(re),tt.d(re,{autoEllipsis:function(){return ut},autoHide:function(){return oe},autoRotate:function(){return cr}});var ie={};tt.r(ie),tt.d(ie,{Base:function(){return Ma},Circle:function(){return pl},Html:function(){return Rs},Line:function(){return zc}});var Ft={};tt.r(Ft),tt.d(Ft,{CONTAINER_CLASS:function(){return Wc},CROSSHAIR_X:function(){return Ox},CROSSHAIR_Y:function(){return Ax},LIST_CLASS:function(){return Xv},LIST_ITEM_CLASS:function(){return fg},MARKER_CLASS:function(){return Q1},NAME_CLASS:function(){return Tx},TITLE_CLASS:function(){return Xh},VALUE_CLASS:function(){return Xy}});var Dt={};tt.r(Dt),tt.d(Dt,{Base:function(){return Yo},Circle:function(){return nS},Ellipse:function(){return zs},Image:function(){return iS},Line:function(){return lS},Marker:function(){return ia},Path:function(){return gp},Polygon:function(){return I_},Polyline:function(){return Yb},Rect:function(){return IC},Text:function(){return L_}});var or={};tt.r(or),tt.d(or,{Canvas:function(){return vd},Group:function(){return Qc},Shape:function(){return Dt},getArcParams:function(){return Tg},version:function(){return ym}});var kt={};tt.r(kt),tt.d(kt,{Base:function(){return jo},Circle:function(){return ao},Dom:function(){return k_},Ellipse:function(){return mp},Image:function(){return Vb},Line:function(){return ew},Marker:function(){return W_},Path:function(){return bS},Polygon:function(){return $_},Polyline:function(){return U_},Rect:function(){return xS},Text:function(){return wp}});var Mt={};tt.r(Mt),tt.d(Mt,{Canvas:function(){return vv},Group:function(){return LC},Shape:function(){return kt},version:function(){return $C}});var U=tt(85556),D=tt(47165),Pt;(function(h){h.FORE="fore",h.MID="mid",h.BG="bg"})(Pt||(Pt={}));var lt;(function(h){h.TOP="top",h.TOP_LEFT="top-left",h.TOP_RIGHT="top-right",h.RIGHT="right",h.RIGHT_TOP="right-top",h.RIGHT_BOTTOM="right-bottom",h.LEFT="left",h.LEFT_TOP="left-top",h.LEFT_BOTTOM="left-bottom",h.BOTTOM="bottom",h.BOTTOM_LEFT="bottom-left",h.BOTTOM_RIGHT="bottom-right",h.RADIUS="radius",h.CIRCLE="circle",h.NONE="none"})(lt||(lt={}));var Gt;(function(h){h.AXIS="axis",h.GRID="grid",h.LEGEND="legend",h.TOOLTIP="tooltip",h.ANNOTATION="annotation",h.SLIDER="slider",h.SCROLLBAR="scrollbar",h.OTHER="other"})(Gt||(Gt={}));var lr={FORE:3,MID:2,BG:1},tr;(function(h){h.BEFORE_RENDER="beforerender",h.AFTER_RENDER="afterrender",h.BEFORE_PAINT="beforepaint",h.AFTER_PAINT="afterpaint",h.BEFORE_CHANGE_DATA="beforechangedata",h.AFTER_CHANGE_DATA="afterchangedata",h.BEFORE_CLEAR="beforeclear",h.AFTER_CLEAR="afterclear",h.BEFORE_DESTROY="beforedestroy",h.BEFORE_CHANGE_SIZE="beforechangesize",h.AFTER_CHANGE_SIZE="afterchangesize"})(tr||(tr={}));var xt;(function(h){h.BEFORE_DRAW_ANIMATE="beforeanimate",h.AFTER_DRAW_ANIMATE="afteranimate",h.BEFORE_RENDER_LABEL="beforerenderlabel",h.AFTER_RENDER_LABEL="afterrenderlabel"})(xt||(xt={}));var gt;(function(h){h.MOUSE_ENTER="plot:mouseenter",h.MOUSE_DOWN="plot:mousedown",h.MOUSE_MOVE="plot:mousemove",h.MOUSE_UP="plot:mouseup",h.MOUSE_LEAVE="plot:mouseleave",h.TOUCH_START="plot:touchstart",h.TOUCH_MOVE="plot:touchmove",h.TOUCH_END="plot:touchend",h.TOUCH_CANCEL="plot:touchcancel",h.CLICK="plot:click",h.DBLCLICK="plot:dblclick",h.CONTEXTMENU="plot:contextmenu",h.LEAVE="plot:leave",h.ENTER="plot:enter"})(gt||(gt={}));var er;(function(h){h.ACTIVE="active",h.INACTIVE="inactive",h.SELECTED="selected",h.DEFAULT="default"})(er||(er={}));var Lt=["color","shape","size"],Nt="_origin",Tr=1,vr=1,Yr=.25,mn={};function Mn(h){var f=mn[h];if(!f)throw new Error("G engine '".concat(h,"' is not exist, please register it at first."));return f}function Fr(h,f){mn[h]=f}var Rn,Wn,Ge,Et;function Rr(){Rn=document.createElement("table"),Wn=document.createElement("tr"),Ge=/^\s*<(\w+|!)[^>]*>/,Et={tr:document.createElement("tbody"),tbody:Rn,thead:Rn,tfoot:Rn,td:Wn,th:Wn,"*":document.createElement("div")}}function un(h){Rn||Rr();var f=Ge.test(h)&&RegExp.$1;(!f||!(f in Et))&&(f="*");var t=Et[f];h=typeof h=="string"?h.replace(/(^\s*)|(\s*$)/g,""):h,t.innerHTML=""+h;var c=t.childNodes[0];return c&&t.contains(c)&&t.removeChild(c),c}function yn(h,f){if(h)for(var t in f)f.hasOwnProperty(t)&&(h.style[t]=f[t]);return h}function Vt(h){var f=getComputedStyle(h);return{width:(h.clientWidth||parseInt(f.width,10))-parseInt(f.paddingLeft,10)-parseInt(f.paddingRight,10),height:(h.clientHeight||parseInt(f.height,10))-parseInt(f.paddingTop,10)-parseInt(f.paddingBottom,10)}}function Ce(h){return typeof h=="number"&&!isNaN(h)}function be(h,f,t,c){var v=t,y=c;if(f){var b=Vt(h);v=b.width?b.width:v,y=b.height?b.height:y}return{width:Math.max(Ce(v)?v:Tr,Tr),height:Math.max(Ce(y)?y:vr,vr)}}function Ae(h){var f=h.parentNode;f&&f.removeChild(h)}var _e=tt(75262),ze=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this)||this;c.destroyed=!1;var v=t.visible,y=v===void 0?!0:v;return c.visible=y,c}return f.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},f.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},f.prototype.destroy=function(){this.off(),this.destroyed=!0},f.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},f}(_e.Z),Bt=ze,at=tt(58881),wt=0,fe=1/2,st=1/2,Tt=.05,ir=function(){function h(f){var t=f.xField,c=f.yField,v=f.adjustNames,y=v===void 0?["x","y"]:v,b=f.dimValuesMap;this.adjustNames=y,this.xField=t,this.yField=c,this.dimValuesMap=b}return h.prototype.isAdjust=function(f){return this.adjustNames.indexOf(f)>=0},h.prototype.getAdjustRange=function(f,t,c){var v=this.yField,y=c.indexOf(t),b=c.length,M,A;return!v&&this.isAdjust("y")?(M=0,A=1):b>1?(M=c[y===0?0:y-1],A=c[y===b-1?b-1:y+1],y!==0?M+=(t-M)/2:M-=(A-t)/2,y!==b-1?A-=(A-t)/2:A+=(t-c[b-2])/2):(M=t===0?0:t-.5,A=t===0?1:t+.5),{pre:M,next:A}},h.prototype.adjustData=function(f,t){var c=this,v=this.getDimValues(t);D.S6(f,function(y,b){D.S6(v,function(M,A){c.adjustDim(A,M,y,b)})})},h.prototype.groupData=function(f,t){return D.S6(f,function(c){c[t]===void 0&&(c[t]=wt)}),D.vM(f,t)},h.prototype.adjustDim=function(f,t,c,v){},h.prototype.getDimValues=function(f){var t=this,c=t.xField,v=t.yField,y=D.f0({},this.dimValuesMap),b=[];if(c&&this.isAdjust("x")&&b.push(c),v&&this.isAdjust("y")&&b.push(v),b.forEach(function(A){y&&y[A]||(y[A]=D.I(f,A).sort(function(B,H){return B-H}))}),!v&&this.isAdjust("y")){var M="y";y[M]=[wt,1]}return y},h}(),bt=ir,sr={},dr=function(h){return sr[h.toLowerCase()]},Pr=function(h,f){if(dr(h))throw new Error("Adjust type '"+h+"' existed.");sr[h.toLowerCase()]=f},an=tt(58335);var fn=function(f,t){return fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,v){c.__proto__=v}||function(c,v){for(var y in v)v.hasOwnProperty(y)&&(c[y]=v[y])},fn(f,t)};function qn(h,f){fn(h,f);function t(){this.constructor=h}h.prototype=f===null?Object.create(f):(t.prototype=f.prototype,new t)}var cn=function(){return cn=Object.assign||function(t){for(var c,v=1,y=arguments.length;v<y;v++){c=arguments[v];for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(t[b]=c[b])}return t},cn.apply(this,arguments)};function Kr(h,f){var t={};for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&f.indexOf(c)<0&&(t[c]=h[c]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,c=Object.getOwnPropertySymbols(h);v<c.length;v++)f.indexOf(c[v])<0&&Object.prototype.propertyIsEnumerable.call(h,c[v])&&(t[c[v]]=h[c[v]]);return t}function rt(h,f,t,c){var v=arguments.length,y=v<3?f:c===null?c=Object.getOwnPropertyDescriptor(f,t):c,b;if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(h,f,t,c);else for(var M=h.length-1;M>=0;M--)(b=h[M])&&(y=(v<3?b(y):v>3?b(f,t,y):b(f,t))||y);return v>3&&y&&Object.defineProperty(f,t,y),y}function de(h,f){return function(t,c){f(t,c,h)}}function ve(h,f){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,f)}function ce(h,f,t,c){function v(y){return y instanceof t?y:new t(function(b){b(y)})}return new(t||(t=Promise))(function(y,b){function M(H){try{B(c.next(H))}catch(W){b(W)}}function A(H){try{B(c.throw(H))}catch(W){b(W)}}function B(H){H.done?y(H.value):v(H.value).then(M,A)}B((c=c.apply(h,f||[])).next())})}function xe(h,f){var t={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},c,v,y,b;return b={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function M(B){return function(H){return A([B,H])}}function A(B){if(c)throw new TypeError("Generator is already executing.");for(;t;)try{if(c=1,v&&(y=B[0]&2?v.return:B[0]?v.throw||((y=v.return)&&y.call(v),0):v.next)&&!(y=y.call(v,B[1])).done)return y;switch(v=0,y&&(B=[B[0]&2,y.value]),B[0]){case 0:case 1:y=B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++,v=B[1],B=[0];continue;case 7:B=t.ops.pop(),t.trys.pop();continue;default:if(y=t.trys,!(y=y.length>0&&y[y.length-1])&&(B[0]===6||B[0]===2)){t=0;continue}if(B[0]===3&&(!y||B[1]>y[0]&&B[1]<y[3])){t.label=B[1];break}if(B[0]===6&&t.label<y[1]){t.label=y[1],y=B;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(B);break}y[2]&&t.ops.pop(),t.trys.pop();continue}B=f.call(h,t)}catch(H){B=[6,H],v=0}finally{c=y=0}if(B[0]&5)throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}}function Ee(h,f,t,c){c===void 0&&(c=t),h[c]=f[t]}function Be(h,f){for(var t in h)t!=="default"&&!f.hasOwnProperty(t)&&(f[t]=h[t])}function Re(h){var f=typeof Symbol=="function"&&Symbol.iterator,t=f&&h[f],c=0;if(t)return t.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&c>=h.length&&(h=void 0),{value:h&&h[c++],done:!h}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")}function ct(h,f){var t=typeof Symbol=="function"&&h[Symbol.iterator];if(!t)return h;var c=t.call(h),v,y=[],b;try{for(;(f===void 0||f-- >0)&&!(v=c.next()).done;)y.push(v.value)}catch(M){b={error:M}}finally{try{v&&!v.done&&(t=c.return)&&t.call(c)}finally{if(b)throw b.error}}return y}function ht(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat(ct(arguments[f]));return h}function Ht(){for(var h=0,f=0,t=arguments.length;f<t;f++)h+=arguments[f].length;for(var c=Array(h),v=0,f=0;f<t;f++)for(var y=arguments[f],b=0,M=y.length;b<M;b++,v++)c[v]=y[b];return c}function Yt(h){return this instanceof Yt?(this.v=h,this):new Yt(h)}function rr(h,f,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=t.apply(h,f||[]),v,y=[];return v={},b("next"),b("throw"),b("return"),v[Symbol.asyncIterator]=function(){return this},v;function b(Y){c[Y]&&(v[Y]=function(Q){return new Promise(function(te,he){y.push([Y,Q,te,he])>1||M(Y,Q)})})}function M(Y,Q){try{A(c[Y](Q))}catch(te){W(y[0][3],te)}}function A(Y){Y.value instanceof Yt?Promise.resolve(Y.value.v).then(B,H):W(y[0][2],Y)}function B(Y){M("next",Y)}function H(Y){M("throw",Y)}function W(Y,Q){Y(Q),y.shift(),y.length&&M(y[0][0],y[0][1])}}function hr(h){var f,t;return f={},c("next"),c("throw",function(v){throw v}),c("return"),f[Symbol.iterator]=function(){return this},f;function c(v,y){f[v]=h[v]?function(b){return(t=!t)?{value:Yt(h[v](b)),done:v==="return"}:y?y(b):b}:y}}function Hr(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f=h[Symbol.asyncIterator],t;return f?f.call(h):(h=typeof Re=="function"?Re(h):h[Symbol.iterator](),t={},c("next"),c("throw"),c("return"),t[Symbol.asyncIterator]=function(){return this},t);function c(y){t[y]=h[y]&&function(b){return new Promise(function(M,A){b=h[y](b),v(M,A,b.done,b.value)})}}function v(y,b,M,A){Promise.resolve(A).then(function(B){y({value:B,done:M})},b)}}function Zt(h,f){return Object.defineProperty?Object.defineProperty(h,"raw",{value:f}):h.raw=f,h}function qr(h){if(h&&h.__esModule)return h;var f={};if(h!=null)for(var t in h)Object.hasOwnProperty.call(h,t)&&(f[t]=h[t]);return f.default=h,f}function Qr(h){return h&&h.__esModule?h:{default:h}}function dn(h,f){if(!f.has(h))throw new TypeError("attempted to get private field on non-instance");return f.get(h)}function kn(h,f,t){if(!f.has(h))throw new TypeError("attempted to set private field on non-instance");return f.set(h,t),t}var wr=function(h){qn(f,h);function f(t){var c=h.call(this,t)||this;c.cacheMap={},c.adjustDataArray=[],c.mergeData=[];var v=t.marginRatio,y=v===void 0?fe:v,b=t.dodgeRatio,M=b===void 0?st:b,A=t.dodgeBy,B=t.intervalPadding,H=t.dodgePadding,W=t.xDimensionLength,Y=t.groupNum,Q=t.defaultSize,te=t.maxColumnWidth,he=t.minColumnWidth,Me=t.columnWidthRatio,Fe=t.customOffset;return c.marginRatio=y,c.dodgeRatio=M,c.dodgeBy=A,c.intervalPadding=B,c.dodgePadding=H,c.xDimensionLegenth=W,c.groupNum=Y,c.defaultSize=Q,c.maxColumnWidth=te,c.minColumnWidth=he,c.columnWidthRatio=Me,c.customOffset=Fe,c}return f.prototype.process=function(t){var c=D.d9(t),v=D.xH(c),y=this.dodgeBy,b=y?D.ru(v,y):c;return this.cacheMap={},this.adjustDataArray=b,this.mergeData=v,this.adjustData(b,v),this.adjustDataArray=[],this.mergeData=[],c},f.prototype.adjustDim=function(t,c,v,y){var b=this,M=this.customOffset,A=this.getDistribution(t),B=this.groupData(v,t);return D.S6(B,function(H,W){var Y;c.length===1?Y={pre:c[0]-1,next:c[0]+1}:Y=b.getAdjustRange(t,parseFloat(W),c),D.S6(H,function(Q){var te=Q[t],he=A[te],Me=he.indexOf(y);if(D.UM(M))Q[t]=b.getDodgeOffset(Y,Me,he.length);else{var Fe=Y.pre,Qe=Y.next;Q[t]=D.mf(M)?M(Q,Y):(Fe+Qe)/2+M}})}),[]},f.prototype.getDodgeOffset=function(t,c,v){var y=this,b=y.dodgeRatio,M=y.marginRatio,A=y.intervalPadding,B=y.dodgePadding,H=t.pre,W=t.next,Y=W-H,Q;if(!D.UM(A)&&D.UM(B)&&A>=0){var te=this.getIntervalOnlyOffset(v,c);Q=H+te}else if(!D.UM(B)&&D.UM(A)&&B>=0){var te=this.getDodgeOnlyOffset(v,c);Q=H+te}else if(!D.UM(A)&&!D.UM(B)&&A>=0&&B>=0){var te=this.getIntervalAndDodgeOffset(v,c);Q=H+te}else{var he=Y*b/v,Me=M*he,te=1/2*(Y-v*he-(v-1)*Me)+((c+1)*he+c*Me)-1/2*he-1/2*Y;Q=(H+W)/2+te}return Q},f.prototype.getIntervalOnlyOffset=function(t,c){var v=this,y=v.defaultSize,b=v.intervalPadding,M=v.xDimensionLegenth,A=v.groupNum,B=v.dodgeRatio,H=v.maxColumnWidth,W=v.minColumnWidth,Y=v.columnWidthRatio,Q=b/M,te=(1-(A-1)*Q)/A*B/(t-1),he=((1-Q*(A-1))/A-te*(t-1))/t;if(he=D.UM(Y)?he:1/A/t*Y,!D.UM(H)){var Me=H/M;he=Math.min(he,Me)}if(!D.UM(W)){var Fe=W/M;he=Math.max(he,Fe)}he=y?y/M:he,te=((1-(A-1)*Q)/A-t*he)/(t-1);var Qe=((1/2+c)*he+c*te+1/2*Q)*A-Q/2;return Qe},f.prototype.getDodgeOnlyOffset=function(t,c){var v=this,y=v.defaultSize,b=v.dodgePadding,M=v.xDimensionLegenth,A=v.groupNum,B=v.marginRatio,H=v.maxColumnWidth,W=v.minColumnWidth,Y=v.columnWidthRatio,Q=b/M,te=1*B/(A-1),he=((1-te*(A-1))/A-Q*(t-1))/t;if(he=Y?1/A/t*Y:he,!D.UM(H)){var Me=H/M;he=Math.min(he,Me)}if(!D.UM(W)){var Fe=W/M;he=Math.max(he,Fe)}he=y?y/M:he,te=(1-(he*t+Q*(t-1))*A)/(A-1);var Qe=((1/2+c)*he+c*Q+1/2*te)*A-te/2;return Qe},f.prototype.getIntervalAndDodgeOffset=function(t,c){var v=this,y=v.intervalPadding,b=v.dodgePadding,M=v.xDimensionLegenth,A=v.groupNum,B=y/M,H=b/M,W=((1-B*(A-1))/A-H*(t-1))/t,Y=((1/2+c)*W+c*H+1/2*B)*A-B/2;return Y},f.prototype.getDistribution=function(t){var c=this.adjustDataArray,v=this.cacheMap,y=v[t];return y||(y={},D.S6(c,function(b,M){var A=D.I(b,t);A.length||A.push(0),D.S6(A,function(B){y[B]||(y[B]=[]),y[B].push(M)})}),v[t]=y),y},f}(bt),ei=wr;function Ln(h,f){return(f-h)*Math.random()+h}var yi=function(h){qn(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.process=function(t){var c=D.d9(t),v=D.xH(c);return this.adjustData(c,v),c},f.prototype.adjustDim=function(t,c,v){var y=this,b=this.groupData(v,t);return D.S6(b,function(M,A){return y.adjustGroup(M,t,parseFloat(A),c)})},f.prototype.getAdjustOffset=function(t){var c=t.pre,v=t.next,y=(v-c)*Tt;return Ln(c+y,v-y)},f.prototype.adjustGroup=function(t,c,v,y){var b=this,M=this.getAdjustRange(c,v,y);return D.S6(t,function(A){A[c]=b.getAdjustOffset(M)}),t},f}(bt),fa=yi,_i=D.Ct,Ja=function(h){qn(f,h);function f(t){var c=h.call(this,t)||this,v=t.adjustNames,y=v===void 0?["y"]:v,b=t.height,M=b===void 0?NaN:b,A=t.size,B=A===void 0?10:A,H=t.reverseOrder,W=H===void 0?!1:H;return c.adjustNames=y,c.height=M,c.size=B,c.reverseOrder=W,c}return f.prototype.process=function(t){var c=this,v=c.yField,y=c.reverseOrder,b=v?this.processStack(t):this.processOneDimStack(t);return y?this.reverse(b):b},f.prototype.reverse=function(t){return t.slice(0).reverse()},f.prototype.processStack=function(t){var c=this,v=c.xField,y=c.yField,b=c.reverseOrder,M=b?this.reverse(t):t,A=new _i,B=new _i;return M.map(function(H){return H.map(function(W){var Y,Q=D.U2(W,v,0),te=D.U2(W,[y]),he=Q.toString();if(te=D.kJ(te)?te[1]:te,!D.UM(te)){var Me=te>=0?A:B;Me.has(he)||Me.set(he,0);var Fe=Me.get(he),Qe=te+Fe;return Me.set(he,Qe),cn(cn({},W),(Y={},Y[y]=[Fe,Qe],Y))}return W})})},f.prototype.processOneDimStack=function(t){var c=this,v=this,y=v.xField,b=v.height,M=v.reverseOrder,A="y",B=M?this.reverse(t):t,H=new _i;return B.map(function(W){return W.map(function(Y){var Q,te=c.size,he=Y[y],Me=te*2/b;H.has(he)||H.set(he,Me/2);var Fe=H.get(he);return H.set(he,Fe+Me),cn(cn({},Y),(Q={},Q[A]=Fe,Q))})})},f}(bt),Gr=Ja,oi=function(h){qn(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.process=function(t){var c=D.xH(t),v=this,y=v.xField,b=v.yField,M=this.getXValuesMaxMap(c),A=Math.max.apply(Math,Object.keys(M).map(function(B){return M[B]}));return D.UI(t,function(B){return D.UI(B,function(H){var W,Y,Q=H[b],te=H[y];if(D.kJ(Q)){var he=(A-M[te])/2;return cn(cn({},H),(W={},W[b]=D.UI(Q,function(Fe){return he+Fe}),W))}var Me=(A-Q)/2;return cn(cn({},H),(Y={},Y[b]=[Me,Q+Me],Y))})})},f.prototype.getXValuesMaxMap=function(t){var c=this,v=this,y=v.xField,b=v.yField,M=D.vM(t,function(A){return A[y]});return D.Q8(M,function(A){return c.getDimMaxValue(A,b)})},f.prototype.getDimMaxValue=function(t,c){var v=D.UI(t,function(b){return D.U2(b,c,[])}),y=D.xH(v);return Math.max.apply(Math,y)},f}(bt),is=oi;Pr("Dodge",ei),Pr("Jitter",fa),Pr("Stack",Gr),Pr("Symmetric",is);var qa=function(h,f){return(0,D.HD)(f)?f:h.invert(h.scale(f))},_a=function(){function h(f){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(f)}return h.prototype.mapping=function(){for(var f=this,t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];var v=t.map(function(y,b){return f._toOriginParam(y,f.scales[b])});return this.callback.apply(this,v)},h.prototype.getLinearValue=function(f){var t=this.values.length-1,c=Math.floor(t*f),v=t*f-c,y=this.values[c],b=c===t?y:this.values[c+1];return y+(b-y)*v},h.prototype.getNames=function(){for(var f=this.scales,t=this.names,c=Math.min(f.length,t.length),v=[],y=0;y<c;y+=1)v.push(t[y]);return v},h.prototype.getFields=function(){return this.scales.map(function(f){return f.field})},h.prototype.getScale=function(f){return this.scales[this.names.indexOf(f)]},h.prototype.defaultCallback=function(){for(var f=this,t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];return t.length===0?this.values:t.map(function(v,y){var b=f.scales[y];return b.type==="identity"?b.values[0]:f._getAttributeValue(b,v)})},h.prototype._parseCfg=function(f){var t=this,c=f.type,v=c===void 0?"base":c,y=f.names,b=y===void 0?[]:y,M=f.scales,A=M===void 0?[]:M,B=f.values,H=B===void 0?[]:B,W=f.callback;this.type=v,this.scales=A,this.values=H,this.names=b,this.callback=function(){for(var Y=[],Q=0;Q<arguments.length;Q++)Y[Q]=arguments[Q];if(W){var te=W.apply(void 0,Y);if(!(0,D.UM)(te))return[te]}return t.defaultCallback.apply(t,Y)}},h.prototype._getAttributeValue=function(f,t){if(f.isCategory&&!this.linear){var c=f.translate(t);return this.values[c%this.values.length]}var v=f.scale(t);return this.getLinearValue(v)},h.prototype._toOriginParam=function(f,t){return t.isLinear?f:(0,D.kJ)(f)?f.map(function(c){return qa(t,c)}):qa(t,f)},h}(),Ti=_a,oa=tt(80052),zi=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;return c.type="color",c.names=["color"],(0,D.HD)(c.values)&&(c.linear=!0),c.gradient=oa.Z.gradient(c.values),c}return f.prototype.getLinearValue=function(t){return this.gradient(t)},f}(Ti),dl=zi,go=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;return c.type="opacity",c.names=["opacity"],c}return f}(Ti),Ol=go,Es=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;return c.names=["x","y"],c.type="position",c}return f.prototype.mapping=function(t,c){var v=this.scales,y=v[0],b=v[1];return(0,D.UM)(t)||(0,D.UM)(c)?[]:[(0,D.kJ)(t)?t.map(function(M){return y.scale(M)}):y.scale(t),(0,D.kJ)(c)?c.map(function(M){return b.scale(M)}):b.scale(c)]},f}(Ti),Gs=Es,iu=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;return c.type="shape",c.names=["shape"],c}return f.prototype.getLinearValue=function(t){var c=Math.round((this.values.length-1)*t);return this.values[c]},f}(Ti),ql=iu,$f=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;return c.type="size",c.names=["size"],c}return f}(Ti),ju=$f,au={};function Ms(h){return au[h]}function Ts(h,f){au[h]=f}var Ph=function(){function h(f){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=f,this.initCfg(),this.init()}return h.prototype.translate=function(f){return f},h.prototype.change=function(f){(0,D.f0)(this.__cfg__,f),this.init()},h.prototype.clone=function(){return this.constructor(this.__cfg__)},h.prototype.getTicks=function(){var f=this;return(0,D.UI)(this.ticks,function(t,c){return(0,D.Kn)(t)?t:{text:f.getText(t,c),tickValue:t,value:f.scale(t)}})},h.prototype.getText=function(f,t){var c=this.formatter,v=c?c(f,t):f;return(0,D.UM)(v)||!(0,D.mf)(v.toString)?"":v.toString()},h.prototype.getConfig=function(f){return this.__cfg__[f]},h.prototype.init=function(){(0,D.f0)(this,this.__cfg__),this.setDomain(),(0,D.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},h.prototype.initCfg=function(){},h.prototype.setDomain=function(){},h.prototype.calculateTicks=function(){var f=this.tickMethod,t=[];if((0,D.HD)(f)){var c=Ms(f);if(!c)throw new Error("There is no method to to calculate ticks!");t=c(this)}else(0,D.mf)(f)&&(t=f(this));return t},h.prototype.rangeMin=function(){return this.range[0]},h.prototype.rangeMax=function(){return this.range[1]},h.prototype.calcPercent=function(f,t,c){return(0,D.hj)(f)?(f-t)/(c-t):NaN},h.prototype.calcValue=function(f,t,c){return t+f*(c-t)},h}(),ff=Ph,wa=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return f.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},f.prototype.translate=function(t){this.buildIndexMap();var c=this.translateIndexMap.get(t);return c===void 0&&(c=(0,D.hj)(t)?t:NaN),c},f.prototype.scale=function(t){var c=this.translate(t),v=this.calcPercent(c,this.min,this.max);return this.calcValue(v,this.rangeMin(),this.rangeMax())},f.prototype.invert=function(t){var c=this.max-this.min,v=this.calcPercent(t,this.rangeMin(),this.rangeMax()),y=Math.round(c*v)+this.min;return y<this.min||y>this.max?NaN:this.values[y]},f.prototype.getText=function(t){for(var c=[],v=1;v<arguments.length;v++)c[v-1]=arguments[v];var y=t;return(0,D.hj)(t)&&!this.values.includes(t)&&(y=this.values[y]),h.prototype.getText.apply(this,(0,U.pr)([y],c))},f.prototype.initCfg=function(){this.tickMethod="cat"},f.prototype.setDomain=function(){if((0,D.UM)(this.getConfig("min"))&&(this.min=0),(0,D.UM)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},f}(ff),ea=wa,$s=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Ql="\\d\\d?",Al="\\d\\d",lc="\\d{3}",Uf="\\d{4}",St="[^\\s]+",Pe=/\[([^]*?)\]/gm;function yt(h,f){for(var t=[],c=0,v=h.length;c<v;c++)t.push(h[c].substr(0,f));return t}var qt=function(h){return function(f,t){var c=t[h].map(function(y){return y.toLowerCase()}),v=c.indexOf(f.toLowerCase());return v>-1?v:null}};function _r(h){for(var f=[],t=1;t<arguments.length;t++)f[t-1]=arguments[t];for(var c=0,v=f;c<v.length;c++){var y=v[c];for(var b in y)h[b]=y[b]}return h}var rn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],xn=["January","February","March","April","May","June","July","August","September","October","November","December"],vn=yt(xn,3),Ii=yt(rn,3),Fa={dayNamesShort:Ii,dayNames:rn,monthNamesShort:vn,monthNames:xn,amPm:["am","pm"],DoFn:function(h){return h+["th","st","nd","rd"][h%10>3?0:(h-h%10!==10?1:0)*h%10]}},_o=_r({},Fa),vl=function(h){return _o=_r(_o,h)},Us=function(h){return h.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Eo=function(h,f){for(f===void 0&&(f=2),h=String(h);h.length<f;)h="0"+h;return h},as={D:function(h){return String(h.getDate())},DD:function(h){return Eo(h.getDate())},Do:function(h,f){return f.DoFn(h.getDate())},d:function(h){return String(h.getDay())},dd:function(h){return Eo(h.getDay())},ddd:function(h,f){return f.dayNamesShort[h.getDay()]},dddd:function(h,f){return f.dayNames[h.getDay()]},M:function(h){return String(h.getMonth()+1)},MM:function(h){return Eo(h.getMonth()+1)},MMM:function(h,f){return f.monthNamesShort[h.getMonth()]},MMMM:function(h,f){return f.monthNames[h.getMonth()]},YY:function(h){return Eo(String(h.getFullYear()),4).substr(2)},YYYY:function(h){return Eo(h.getFullYear(),4)},h:function(h){return String(h.getHours()%12||12)},hh:function(h){return Eo(h.getHours()%12||12)},H:function(h){return String(h.getHours())},HH:function(h){return Eo(h.getHours())},m:function(h){return String(h.getMinutes())},mm:function(h){return Eo(h.getMinutes())},s:function(h){return String(h.getSeconds())},ss:function(h){return Eo(h.getSeconds())},S:function(h){return String(Math.round(h.getMilliseconds()/100))},SS:function(h){return Eo(Math.round(h.getMilliseconds()/10),2)},SSS:function(h){return Eo(h.getMilliseconds(),3)},a:function(h,f){return h.getHours()<12?f.amPm[0]:f.amPm[1]},A:function(h,f){return h.getHours()<12?f.amPm[0].toUpperCase():f.amPm[1].toUpperCase()},ZZ:function(h){var f=h.getTimezoneOffset();return(f>0?"-":"+")+Eo(Math.floor(Math.abs(f)/60)*100+Math.abs(f)%60,4)},Z:function(h){var f=h.getTimezoneOffset();return(f>0?"-":"+")+Eo(Math.floor(Math.abs(f)/60),2)+":"+Eo(Math.abs(f)%60,2)}},Os=function(h){return+h-1},Yf=[null,Ql],hf=[null,St],Id=["isPm",St,function(h,f){var t=h.toLowerCase();return t===f.amPm[0]?0:t===f.amPm[1]?1:null}],pe=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(h){var f=(h+"").match(/([+-]|\d\d)/gi);if(f){var t=+f[1]*60+parseInt(f[2],10);return f[0]==="+"?t:-t}return 0}],Ie={D:["day",Ql],DD:["day",Al],Do:["day",Ql+St,function(h){return parseInt(h,10)}],M:["month",Ql,Os],MM:["month",Al,Os],YY:["year",Al,function(h){var f=new Date,t=+(""+f.getFullYear()).substr(0,2);return+(""+(+h>68?t-1:t)+h)}],h:["hour",Ql,void 0,"isPm"],hh:["hour",Al,void 0,"isPm"],H:["hour",Ql],HH:["hour",Al],m:["minute",Ql],mm:["minute",Al],s:["second",Ql],ss:["second",Al],YYYY:["year",Uf],S:["millisecond","\\d",function(h){return+h*100}],SS:["millisecond",Al,function(h){return+h*10}],SSS:["millisecond",lc],d:Yf,dd:Yf,ddd:hf,dddd:hf,MMM:["month",St,qt("monthNamesShort")],MMMM:["month",St,qt("monthNames")],a:Id,A:Id,ZZ:pe,Z:pe},qe={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},jt=function(h){return _r(qe,h)},Dr=function(h,f,t){if(f===void 0&&(f=qe.default),t===void 0&&(t={}),typeof h=="number"&&(h=new Date(h)),Object.prototype.toString.call(h)!=="[object Date]"||isNaN(h.getTime()))throw new Error("Invalid Date pass to format");f=qe[f]||f;var c=[];f=f.replace(Pe,function(y,b){return c.push(b),"@@@"});var v=_r(_r({},_o),t);return f=f.replace($s,function(y){return as[y](h,v)}),f.replace(/@@@/g,function(){return c.shift()})};function jr(h,f,t){if(t===void 0&&(t={}),typeof f!="string")throw new Error("Invalid format in fecha parse");if(f=qe[f]||f,h.length>1e3)return null;var c=new Date,v={year:c.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},y=[],b=[],M=f.replace(Pe,function(pt,Qt){return b.push(Us(Qt)),"@@@"}),A={},B={};M=Us(M).replace($s,function(pt){var Qt=Ie[pt],Sr=Qt[0],Mr=Qt[1],Or=Qt[3];if(A[Sr])throw new Error("Invalid format. "+Sr+" specified twice in format");return A[Sr]=!0,Or&&(B[Or]=!0),y.push(Qt),"("+Mr+")"}),Object.keys(B).forEach(function(pt){if(!A[pt])throw new Error("Invalid format. "+pt+" is required in specified format")}),M=M.replace(/@@@/g,function(){return b.shift()});var H=h.match(new RegExp(M,"i"));if(!H)return null;for(var W=_r(_r({},_o),t),Y=1;Y<H.length;Y++){var Q=y[Y-1],te=Q[0],he=Q[2],Me=he?he(H[Y],W):+H[Y];if(Me==null)return null;v[te]=Me}v.isPm===1&&v.hour!=null&&+v.hour!=12?v.hour=+v.hour+12:v.isPm===0&&+v.hour==12&&(v.hour=0);var Fe;if(v.timezoneOffset==null){Fe=new Date(v.year,v.month,v.day,v.hour,v.minute,v.second,v.millisecond);for(var Qe=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Y=0,nt=Qe.length;Y<nt;Y++)if(A[Qe[Y][0]]&&v[Qe[Y][0]]!==Fe[Qe[Y][1]]())return null}else if(Fe=new Date(Date.UTC(v.year,v.month,v.day,v.hour,v.minute-v.timezoneOffset,v.second,v.millisecond)),v.month>11||v.month<0||v.day>31||v.day<1||v.hour>23||v.hour<0||v.minute>59||v.minute<0||v.second>59||v.second<0)return null;return Fe}var Pn={format:Dr,parse:jr,defaultI18n:Fa,setGlobalDateI18n:vl,setGlobalDateMasks:jt},fi=Pn;function Hn(h){return function(f,t,c,v){for(var y=(0,D.UM)(c)?0:c,b=(0,D.UM)(v)?f.length:v;y<b;){var M=y+b>>>1;h(f[M])>t?b=M:y=M+1}return y}}var ci="format";function hi(h,f){var t=Ve[ci]||fi[ci];return t(h,f)}function si(h){return(0,D.HD)(h)&&(h.indexOf("T")>0?h=new Date(h).getTime():h=new Date(h.replace(/-/gi,"/")).getTime()),(0,D.J_)(h)&&(h=h.getTime()),h}var Vr=1e3,Gn=60*Vr,di=60*Gn,ni=24*di,jn=ni*31,Bi=ni*365,Ui=[["HH:mm:ss",Vr],["HH:mm:ss",Vr*10],["HH:mm:ss",Vr*30],["HH:mm",Gn],["HH:mm",Gn*10],["HH:mm",Gn*30],["HH",di],["HH",di*6],["HH",di*12],["YYYY-MM-DD",ni],["YYYY-MM-DD",ni*4],["YYYY-WW",ni*7],["YYYY-MM",jn],["YYYY-MM",jn*4],["YYYY-MM",jn*6],["YYYY",ni*380]];function ma(h,f,t){var c=(f-h)/t,v=Hn(function(b){return b[1]})(Ui,c)-1,y=Ui[v];return v<0?y=Ui[0]:v>=Ui.length&&(y=(0,D.Z$)(Ui)),y}var Mo=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="timeCat",t}return f.prototype.translate=function(t){t=si(t);var c=this.values.indexOf(t);return c===-1&&((0,D.hj)(t)&&t<this.values.length?c=t:c=NaN),c},f.prototype.getText=function(t,c){var v=this.translate(t);if(v>-1){var y=this.values[v],b=this.formatter;return y=b?b(y,c):hi(y,this.mask),y}return t},f.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},f.prototype.setDomain=function(){var t=this.values;(0,D.S6)(t,function(c,v){t[v]=si(c)}),t.sort(function(c,v){return c-v}),h.prototype.setDomain.call(this)},f}(ea),il=Mo,mo=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.isContinuous=!0,t}return f.prototype.scale=function(t){if((0,D.UM)(t))return NaN;var c=this.rangeMin(),v=this.rangeMax(),y=this.max,b=this.min;if(y===b)return c;var M=this.getScalePercent(t);return c+M*(v-c)},f.prototype.init=function(){h.prototype.init.call(this);var t=this.ticks,c=(0,D.YM)(t),v=(0,D.Z$)(t);c<this.min&&(this.min=c),v>this.max&&(this.max=v),(0,D.UM)(this.minLimit)||(this.min=c),(0,D.UM)(this.maxLimit)||(this.max=v)},f.prototype.setDomain=function(){var t=(0,D.rx)(this.values),c=t.min,v=t.max;(0,D.UM)(this.min)&&(this.min=c),(0,D.UM)(this.max)&&(this.max=v),this.min>this.max&&(this.min=c,this.max=v)},f.prototype.calculateTicks=function(){var t=this,c=h.prototype.calculateTicks.call(this);return this.nice||(c=(0,D.hX)(c,function(v){return v>=t.min&&v<=t.max})),c},f.prototype.getScalePercent=function(t){var c=this.max,v=this.min;return(t-v)/(c-v)},f.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},f}(ff),As=mo,ou=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return f.prototype.invert=function(t){var c=this.getInvertPercent(t);return this.min+c*(this.max-this.min)},f.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},f}(As),os=ou;function Ys(h,f){var t=Math.E,c;return f>=0?c=Math.pow(t,Math.log(f)/h):c=Math.pow(t,Math.log(-f)/h)*-1,c}function al(h,f){return h===1?1:Math.log(f)/Math.log(h)}function Tu(h,f,t){(0,D.UM)(t)&&(t=Math.max.apply(null,h));var c=t;return(0,D.S6)(h,function(v){v>0&&v<c&&(c=v)}),c===t&&(c=t/f),c>1&&(c=1),c}function Is(h){var f=h.toString().split(/[eE]/),t=(f[0].split(".")[1]||"").length-+(f[1]||0);return t>0?t:0}function lu(h,f){var t=Is(h),c=Is(f),v=Math.pow(10,Math.max(t,c));return(h*v+f*v)/v}var ha=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="log",t}return f.prototype.invert=function(t){var c=this.base,v=al(c,this.max),y=this.rangeMin(),b=this.rangeMax()-y,M,A=this.positiveMin;if(A){if(t===0)return 0;M=al(c,A/c);var B=1/(v-M)*b;if(t<B)return t/B*A}else M=al(c,this.min);var H=(t-y)/b,W=H*(v-M)+M;return Math.pow(c,W)},f.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},f.prototype.setDomain=function(){h.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=Tu(this.values,this.base,this.max))},f.prototype.getScalePercent=function(t){var c=this.max,v=this.min;if(c===v||t<=0)return 0;var y=this.base,b=this.positiveMin;b&&(v=b*1/y);var M;return t<b?M=t/b/(al(y,c)-al(y,v)):M=(al(y,t)-al(y,v))/(al(y,c)-al(y,v)),M},f}(As),Vn=ha,$r=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="pow",t}return f.prototype.invert=function(t){var c=this.getInvertPercent(t),v=this.exponent,y=Ys(v,this.max),b=Ys(v,this.min),M=c*(y-b)+b,A=M>=0?1:-1;return Math.pow(M,v)*A},f.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},f.prototype.getScalePercent=function(t){var c=this.max,v=this.min;if(c===v)return 0;var y=this.exponent,b=(Ys(y,t)-Ys(y,v))/(Ys(y,c)-Ys(y,v));return b},f}(As),Fn=$r,Ri=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="time",t}return f.prototype.getText=function(t,c){var v=this.translate(t),y=this.formatter;return y?y(v,c):hi(v,this.mask)},f.prototype.scale=function(t){var c=t;return((0,D.HD)(c)||(0,D.J_)(c))&&(c=this.translate(c)),h.prototype.scale.call(this,c)},f.prototype.translate=function(t){return si(t)},f.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},f.prototype.setDomain=function(){var t=this.values,c=this.getConfig("min"),v=this.getConfig("max");if((!(0,D.UM)(c)||!(0,D.hj)(c))&&(this.min=this.translate(this.min)),(!(0,D.UM)(v)||!(0,D.hj)(v))&&(this.max=this.translate(this.max)),t&&t.length){var y=[],b=1/0,M=b,A=0;(0,D.S6)(t,function(B){var H=si(B);if(isNaN(H))throw new TypeError("Invalid Time: "+B+" in time scale!");b>H?(M=b,b=H):M>H&&(M=H),A<H&&(A=H),y.push(H)}),t.length>1&&(this.minTickInterval=M-b),(0,D.UM)(c)&&(this.min=b),(0,D.UM)(v)&&(this.max=A)}},f}(os),Ki=Ri,Gi=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="quantize",t}return f.prototype.invert=function(t){var c=this.ticks,v=c.length,y=this.getInvertPercent(t),b=Math.floor(y*(v-1));if(b>=v-1)return(0,D.Z$)(c);if(b<0)return(0,D.YM)(c);var M=c[b],A=c[b+1],B=b/(v-1),H=(b+1)/(v-1);return M+(y-B)/(H-B)*(A-M)},f.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},f.prototype.calculateTicks=function(){var t=h.prototype.calculateTicks.call(this);return this.nice||((0,D.Z$)(t)!==this.max&&t.push(this.max),(0,D.YM)(t)!==this.min&&t.unshift(this.min)),t},f.prototype.getScalePercent=function(t){var c=this.ticks;if(t<(0,D.YM)(c))return 0;if(t>(0,D.Z$)(c))return 1;var v=0;return(0,D.S6)(c,function(y,b){if(t>=y)v=b;else return!1}),v/(c.length-1)},f}(As),Do=Gi,Ei=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="quantile",t}return f.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},f}(Do),Lo=Ei,yo={};function ol(h){return yo[h]}function Il(h,f){if(ol(h))throw new Error("type '"+h+"' existed.");yo[h]=f}var Rl=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return f.prototype.calculateTicks=function(){return this.values},f.prototype.scale=function(t){return this.values[0]!==t&&(0,D.hj)(t)?t:this.range[0]},f.prototype.invert=function(t){var c=this.range;return t<c[0]||t>c[1]?NaN:this.values[0]},f}(ff),Vu=Rl;function js(h){var f=h.values,t=h.tickInterval,c=h.tickCount,v=h.showLast;if((0,D.hj)(t)){var y=(0,D.hX)(f,function(te,he){return he%t===0}),b=(0,D.Z$)(f);return v&&(0,D.Z$)(y)!==b&&y.push(b),y}var M=f.length,A=h.min,B=h.max;if((0,D.UM)(A)&&(A=0),(0,D.UM)(B)&&(B=f.length-1),!(0,D.hj)(c)||c>=M)return f.slice(A,B+1);if(c<=0||B<=0)return[];for(var H=c===1?M:Math.floor(M/(c-1)),W=[],Y=A,Q=0;Q<c&&!(Y>=B);Q++)Y=Math.min(A+Q*H,B),Q===c-1&&v?W.push(f[B]):W.push(f[Y]);return W}function Rd(h){var f=h.min,t=h.max,c=h.nice,v=h.tickCount,y=new Pv;return y.domain([f,t]),c&&y.nice(v),y.ticks(v)}var Lv=5,Dd=Math.sqrt(50),uo=Math.sqrt(10),Dl=Math.sqrt(2),Pv=function(){function h(){this._domain=[0,1]}return h.prototype.domain=function(f){return f?(this._domain=Array.from(f,Number),this):this._domain.slice()},h.prototype.nice=function(f){var t,c;f===void 0&&(f=Lv);var v=this._domain.slice(),y=0,b=this._domain.length-1,M=this._domain[y],A=this._domain[b],B;return A<M&&(t=[A,M],M=t[0],A=t[1],c=[b,y],y=c[0],b=c[1]),B=jf(M,A,f),B>0?(M=Math.floor(M/B)*B,A=Math.ceil(A/B)*B,B=jf(M,A,f)):B<0&&(M=Math.ceil(M*B)/B,A=Math.floor(A*B)/B,B=jf(M,A,f)),B>0?(v[y]=Math.floor(M/B)*B,v[b]=Math.ceil(A/B)*B,this.domain(v)):B<0&&(v[y]=Math.ceil(M*B)/B,v[b]=Math.floor(A*B)/B,this.domain(v)),this},h.prototype.ticks=function(f){return f===void 0&&(f=Lv),Vs(this._domain[0],this._domain[this._domain.length-1],f||Lv)},h}();function Vs(h,f,t){var c,v=-1,y,b,M;if(f=+f,h=+h,t=+t,h===f&&t>0)return[h];if((c=f<h)&&(y=h,h=f,f=y),(M=jf(h,f,t))===0||!isFinite(M))return[];if(M>0)for(h=Math.ceil(h/M),f=Math.floor(f/M),b=new Array(y=Math.ceil(f-h+1));++v<y;)b[v]=(h+v)*M;else for(h=Math.floor(h*M),f=Math.ceil(f*M),b=new Array(y=Math.ceil(h-f+1));++v<y;)b[v]=(h-v)/M;return c&&b.reverse(),b}function jf(h,f,t){var c=(f-h)/Math.max(0,t),v=Math.floor(Math.log(c)/Math.LN10),y=c/Math.pow(10,v);return v>=0?(y>=Dd?10:y>=uo?5:y>=Dl?2:1)*Math.pow(10,v):-Math.pow(10,-v)/(y>=Dd?10:y>=uo?5:y>=Dl?2:1)}function Le(h,f,t){var c;return t==="ceil"?c=Math.ceil(h/f):t==="floor"?c=Math.floor(h/f):c=Math.round(h/f),c*f}function It(h,f,t){var c=Le(h,t,"floor"),v=Le(f,t,"ceil");c=(0,D.ri)(c,t),v=(0,D.ri)(v,t);for(var y=[],b=Math.max((v-c)/(Math.pow(2,12)-1),t),M=c;M<=v;M=M+b){var A=(0,D.ri)(M,b);y.push(A)}return{min:c,max:v,ticks:y}}function Xt(h,f,t){var c,v=h.minLimit,y=h.maxLimit,b=h.min,M=h.max,A=h.tickCount,B=A===void 0?5:A,H=(0,D.UM)(v)?(0,D.UM)(f)?b:f:v,W=(0,D.UM)(y)?(0,D.UM)(t)?M:t:y;if(H>W&&(c=[H,W],W=c[0],H=c[1]),B<=2)return[H,W];for(var Y=(W-H)/(B-1),Q=[],te=0;te<B;te++)Q.push(H+Y*te);return Q}function nr(h){var f=h.min,t=h.max,c=h.tickInterval,v=h.minLimit,y=h.maxLimit,b=Rd(h);return!(0,D.UM)(v)||!(0,D.UM)(y)?Xt(h,(0,D.YM)(b),(0,D.Z$)(b)):c?It(f,t,c).ticks:b}function Lr(h){return Math.abs(h)<1e-15?h:parseFloat(h.toFixed(15))}var Tn=[1,5,2,2.5,4,3],Ci=null,Ea=Number.EPSILON*100;function Jo(h,f){return(h%f+f)%f}function ls(h){return Math.round(h*1e12)/1e12}function ss(h,f,t,c,v,y){var b=(0,D.dp)(f),M=(0,D.cq)(f,h),A=0,B=Jo(c,y);return(B<Ea||y-B<Ea)&&c<=0&&v>=0&&(A=1),1-M/(b-1)-t+A}function sc(h,f,t){var c=(0,D.dp)(f),v=(0,D.cq)(f,h),y=1;return 1-v/(c-1)-t+y}function Ld(h,f,t,c,v,y){var b=(h-1)/(y-v),M=(f-1)/(Math.max(y,c)-Math.min(t,v));return 2-Math.max(b/M,M/b)}function wy(h,f){return h>=f?2-(h-1)/(f-1):1}function xy(h,f,t,c){var v=f-h;return 1-.5*(Math.pow(f-c,2)+Math.pow(h-t,2))/Math.pow(.1*v,2)}function Sy(h,f,t){var c=f-h;if(t>c){var v=(t-c)/2;return 1-Math.pow(v,2)/Math.pow(.1*c,2)}return 1}function Np(){return 1}function Pd(h,f,t,c,v,y){t===void 0&&(t=5),c===void 0&&(c=!0),v===void 0&&(v=Tn),y===void 0&&(y=[.25,.2,.5,.05]);var b=t<0?0:Math.round(t);if(Number.isNaN(h)||Number.isNaN(f)||typeof h!="number"||typeof f!="number"||!b)return{min:0,max:0,ticks:[]};if(f-h<1e-15||b===1)return{min:h,max:f,ticks:[h]};if(f-h>1e148){var M=t||5,A=(f-h)/M;return{min:h,max:f,ticks:Array(M).fill(null).map(function(b1,w1){return Lr(h+A*w1)})}}for(var B={score:-2,lmin:0,lmax:0,lstep:0},H=1;H<1/0;){for(var W=0;W<v.length;W+=1){var Y=v[W],Q=sc(Y,v,H);if(y[0]*Q+y[1]+y[2]+y[3]<B.score){H=1/0;break}for(var te=2;te<1/0;){var he=wy(te,b);if(y[0]*Q+y[1]+y[2]*he+y[3]<B.score)break;for(var Me=(f-h)/(te+1)/H/Y,Fe=Math.ceil(Math.log10(Me));Fe<1/0;){var Qe=H*Y*Math.pow(10,Fe),nt=Sy(h,f,Qe*(te-1));if(y[0]*Q+y[1]*nt+y[2]*he+y[3]<B.score)break;var pt=Math.floor(f/Qe)*H-(te-1)*H,Qt=Math.ceil(h/Qe)*H;if(pt<=Qt)for(var M=Qt-pt,Sr=0;Sr<=M;Sr+=1){var Mr=pt+Sr,Or=Mr*(Qe/H),Xr=Or+Qe*(te-1),tn=Qe,ti=ss(Y,v,H,Or,Xr,tn),ri=xy(h,f,Or,Xr),Yi=Ld(te,b,h,f,Or,Xr),xa=Np(),vo=y[0]*ti+y[1]*ri+y[2]*Yi+y[3]*xa;vo>B.score&&(!c||Or<=h&&Xr>=f)&&(B.lmin=Or,B.lmax=Xr,B.lstep=tn,B.score=vo)}Fe+=1}te+=1}}H+=1}var _u=Lr(B.lmax),ws=Lr(B.lmin),Uu=Lr(B.lstep),Oo=Math.floor(ls((_u-ws)/Uu))+1,Rc=new Array(Oo);Rc[0]=Lr(ws);for(var W=1;W<Oo;W++)Rc[W]=Lr(Rc[W-1]+Uu);return{min:Math.min(h,(0,D.YM)(Rc)),max:Math.max(f,(0,D.Z$)(Rc)),ticks:Rc}}function Bv(h){var f=h.min,t=h.max,c=h.tickCount,v=h.nice,y=h.tickInterval,b=h.minLimit,M=h.maxLimit,A=Pd(f,t,c,v).ticks;return!(0,D.UM)(b)||!(0,D.UM)(M)?Xt(h,(0,D.YM)(A),(0,D.Z$)(A)):y?It(f,t,y).ticks:A}function Hp(h){var f=h.base,t=h.tickCount,c=h.min,v=h.max,y=h.values,b,M=al(f,v);if(c>0)b=Math.floor(al(f,c));else{var A=Tu(y,f,v);b=Math.floor(al(f,A))}for(var B=M-b,H=Math.ceil(B/t),W=[],Y=b;Y<M+H;Y=Y+H)W.push(Math.pow(f,Y));return c<=0&&W.unshift(0),W}function Go(h,f,t){if(t===void 0&&(t=5),h===f)return{max:f,min:h,ticks:[h]};var c=t<0?0:Math.round(t);if(c===0)return{max:f,min:h,ticks:[]};var v=1.5,y=.5+1.5*v,b=f-h,M=b/c,A=Math.pow(10,Math.floor(Math.log10(M))),B=A;2*A-M<v*(M-B)&&(B=2*A,5*A-M<y*(M-B)&&(B=5*A,10*A-M<v*(M-B)&&(B=10*A)));for(var H=Math.ceil(f/B),W=Math.floor(h/B),Y=Math.max(H*B,f),Q=Math.min(W*B,h),te=Math.floor((Y-Q)/B)+1,he=new Array(te),Me=0;Me<te;Me++)he[Me]=Lr(Q+Me*B);return{min:Q,max:Y,ticks:he}}function wi(h){var f=h.exponent,t=h.tickCount,c=Math.ceil(Ys(f,h.max)),v=Math.floor(Ys(f,h.min)),y=Go(v,c,t).ticks;return y.map(function(b){var M=b>=0?1:-1;return Math.pow(b,f)*M})}function zp(h,f){var t=h.length*f;return f===1?h[h.length-1]:f===0?h[0]:t%1!==0?h[Math.ceil(t)-1]:h.length%2===0?(h[t-1]+h[t])/2:h[t]}function Ca(h){var f=h.tickCount,t=h.values;if(!t||!t.length)return[];for(var c=t.slice().sort(function(M,A){return M-A}),v=[],y=0;y<f;y++){var b=y/(f-1);v.push(zp(c,b))}return v}function Vf(h){var f=h.min,t=h.max,c=h.tickCount,v=h.tickInterval,y=h.minLimit,b=h.maxLimit,M=Go(f,t,c).ticks;return!(0,D.UM)(y)||!(0,D.UM)(b)?Xt(h,(0,D.YM)(M),(0,D.Z$)(M)):v?It(f,t,v).ticks:M}function su(h){var f=h.min,t=h.max,c=h.minTickInterval,v=h.tickInterval,y=h.tickCount;if(v)y=Math.ceil((t-f)/v);else{v=ma(f,t,y)[1];var b=(t-f)/v,M=b/y;M>1&&(v=v*Math.ceil(M)),c&&v<c&&(v=c)}v=Math.max(Math.floor((t-f)/(Math.pow(2,12)-1)),v);for(var A=[],B=f;B<t+v;B+=v)A.push(B);return A}function _y(h){var f=js((0,U.pi)({showLast:!0},h));return f}function df(h){return new Date(h).getFullYear()}function f0(h){return new Date(h,0,1).getTime()}function Xf(h){return new Date(h).getMonth()}function h0(h,f){var t=df(h),c=df(f),v=Xf(h),y=Xf(f);return(c-t)*12+(y-v)%12}function vf(h,f){return new Date(h,f,1).getTime()}function uc(h,f){return Math.ceil((f-h)/ni)}function us(h,f){return Math.ceil((f-h)/di)}function Bd(h,f){return Math.ceil((f-h)/(60*1e3))}function Ou(h){var f=h.min,t=h.max,c=h.minTickInterval,v=h.tickCount,y=h.tickInterval,b=[];y||(y=(t-f)/v,c&&y<c&&(y=c)),y=Math.max(Math.floor((t-f)/(Math.pow(2,12)-1)),y);var M=df(f);if(y>Bi)for(var A=df(t),B=Math.ceil(y/Bi),H=M;H<=A+B;H=H+B)b.push(f0(H));else if(y>jn)for(var W=Math.ceil(y/jn),Y=Xf(f),Q=h0(f,t),H=0;H<=Q+W;H=H+W)b.push(vf(M,H+Y));else if(y>ni)for(var te=new Date(f),he=te.getFullYear(),Me=te.getMonth(),Fe=te.getDate(),Qe=Math.ceil(y/ni),nt=uc(f,t),H=0;H<nt+Qe;H=H+Qe)b.push(new Date(he,Me,Fe+H).getTime());else if(y>di)for(var te=new Date(f),he=te.getFullYear(),Me=te.getMonth(),Qe=te.getDate(),pt=te.getHours(),Qt=Math.ceil(y/di),Sr=us(f,t),H=0;H<=Sr+Qt;H=H+Qt)b.push(new Date(he,Me,Qe,pt+H).getTime());else if(y>Gn)for(var Mr=Bd(f,t),Or=Math.ceil(y/Gn),H=0;H<=Mr+Or;H=H+Or)b.push(f+H*Gn);else{var Xr=y;Xr<Vr&&(Xr=Vr);for(var tn=Math.floor(f/Vr)*Vr,ti=Math.ceil((t-f)/Vr),ri=Math.ceil(Xr/Vr),H=0;H<ti+ri;H=H+ri)b.push(tn+H*Vr)}return b.length>=512&&console.warn("Notice: current ticks length("+b.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+y+") is too small, increase the value to solve the problem!"),b}Ts("cat",js),Ts("time-cat",_y),Ts("wilkinson-extended",Bv),Ts("r-pretty",Vf),Ts("time",su),Ts("time-pretty",Ou),Ts("log",Hp),Ts("pow",wi),Ts("quantile",Ca),Ts("d3-linear",nr),Il("cat",ea),Il("category",ea),Il("identity",Vu),Il("linear",os),Il("log",Vn),Il("pow",Fn),Il("time",Ki),Il("timeCat",il),Il("quantize",Do),Il("quantile",Lo);var N1={},Wp=function(h){return N1[h.toLowerCase()]},Bh=function(h,f){if(Wp(h))throw new Error("Attribute type '".concat(h,"' existed."));N1[h.toLowerCase()]=f};Bh("Color",dl),Bh("Opacity",Ol),Bh("Position",Gs),Bh("Shape",ql),Bh("Size",ju);var Fc=tt(90968);function Gp(){var h=new Fc.WT(3);return Fc.WT!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0),h}function X2(h){var f=new glMatrix.ARRAY_TYPE(3);return f[0]=h[0],f[1]=h[1],f[2]=h[2],f}function gx(h){var f=h[0],t=h[1],c=h[2];return Math.hypot(f,t,c)}function Z2(h,f,t){var c=new glMatrix.ARRAY_TYPE(3);return c[0]=h,c[1]=f,c[2]=t,c}function K2(h,f){return h[0]=f[0],h[1]=f[1],h[2]=f[2],h}function mx(h,f,t,c){return h[0]=f,h[1]=t,h[2]=c,h}function kh(h,f,t){return h[0]=f[0]+t[0],h[1]=f[1]+t[1],h[2]=f[2]+t[2],h}function $p(h,f,t){return h[0]=f[0]-t[0],h[1]=f[1]-t[1],h[2]=f[2]-t[2],h}function Up(h,f,t){return h[0]=f[0]*t[0],h[1]=f[1]*t[1],h[2]=f[2]*t[2],h}function Ey(h,f,t){return h[0]=f[0]/t[0],h[1]=f[1]/t[1],h[2]=f[2]/t[2],h}function My(h,f){return h[0]=Math.ceil(f[0]),h[1]=Math.ceil(f[1]),h[2]=Math.ceil(f[2]),h}function yx(h,f){return h[0]=Math.floor(f[0]),h[1]=Math.floor(f[1]),h[2]=Math.floor(f[2]),h}function Cx(h,f,t){return h[0]=Math.min(f[0],t[0]),h[1]=Math.min(f[1],t[1]),h[2]=Math.min(f[2],t[2]),h}function cc(h,f,t){return h[0]=Math.max(f[0],t[0]),h[1]=Math.max(f[1],t[1]),h[2]=Math.max(f[2],t[2]),h}function kd(h,f){return h[0]=Math.round(f[0]),h[1]=Math.round(f[1]),h[2]=Math.round(f[2]),h}function Xu(h,f,t){return h[0]=f[0]*t,h[1]=f[1]*t,h[2]=f[2]*t,h}function bx(h,f,t,c){return h[0]=f[0]+t[0]*c,h[1]=f[1]+t[1]*c,h[2]=f[2]+t[2]*c,h}function pf(h,f){var t=f[0]-h[0],c=f[1]-h[1],v=f[2]-h[2];return Math.hypot(t,c,v)}function wx(h,f){var t=f[0]-h[0],c=f[1]-h[1],v=f[2]-h[2];return t*t+c*c+v*v}function Yp(h){var f=h[0],t=h[1],c=h[2];return f*f+t*t+c*c}function Bn(h,f){return h[0]=-f[0],h[1]=-f[1],h[2]=-f[2],h}function kv(h,f){return h[0]=1/f[0],h[1]=1/f[1],h[2]=1/f[2],h}function Ty(h,f){var t=f[0],c=f[1],v=f[2],y=t*t+c*c+v*v;return y>0&&(y=1/Math.sqrt(y)),h[0]=f[0]*y,h[1]=f[1]*y,h[2]=f[2]*y,h}function Fh(h,f){return h[0]*f[0]+h[1]*f[1]+h[2]*f[2]}function d0(h,f,t){var c=f[0],v=f[1],y=f[2],b=t[0],M=t[1],A=t[2];return h[0]=v*A-y*M,h[1]=y*b-c*A,h[2]=c*M-v*b,h}function fc(h,f,t,c){var v=f[0],y=f[1],b=f[2];return h[0]=v+c*(t[0]-v),h[1]=y+c*(t[1]-y),h[2]=b+c*(t[2]-b),h}function H1(h,f,t,c,v,y){var b=y*y,M=b*(2*y-3)+1,A=b*(y-2)+y,B=b*(y-1),H=b*(3-2*y);return h[0]=f[0]*M+t[0]*A+c[0]*B+v[0]*H,h[1]=f[1]*M+t[1]*A+c[1]*B+v[1]*H,h[2]=f[2]*M+t[2]*A+c[2]*B+v[2]*H,h}function jp(h,f,t,c,v,y){var b=1-y,M=b*b,A=y*y,B=M*b,H=3*y*M,W=3*A*b,Y=A*y;return h[0]=f[0]*B+t[0]*H+c[0]*W+v[0]*Y,h[1]=f[1]*B+t[1]*H+c[1]*W+v[1]*Y,h[2]=f[2]*B+t[2]*H+c[2]*W+v[2]*Y,h}function Nh(h,f){f=f||1;var t=glMatrix.RANDOM()*2*Math.PI,c=glMatrix.RANDOM()*2-1,v=Math.sqrt(1-c*c)*f;return h[0]=Math.cos(t)*v,h[1]=Math.sin(t)*v,h[2]=c*f,h}function z1(h,f,t){var c=f[0],v=f[1],y=f[2],b=t[3]*c+t[7]*v+t[11]*y+t[15];return b=b||1,h[0]=(t[0]*c+t[4]*v+t[8]*y+t[12])/b,h[1]=(t[1]*c+t[5]*v+t[9]*y+t[13])/b,h[2]=(t[2]*c+t[6]*v+t[10]*y+t[14])/b,h}function Fd(h,f,t){var c=f[0],v=f[1],y=f[2];return h[0]=c*t[0]+v*t[3]+y*t[6],h[1]=c*t[1]+v*t[4]+y*t[7],h[2]=c*t[2]+v*t[5]+y*t[8],h}function W1(h,f,t){var c=t[0],v=t[1],y=t[2],b=t[3],M=f[0],A=f[1],B=f[2],H=v*B-y*A,W=y*M-c*B,Y=c*A-v*M,Q=v*Y-y*W,te=y*H-c*Y,he=c*W-v*H,Me=b*2;return H*=Me,W*=Me,Y*=Me,Q*=2,te*=2,he*=2,h[0]=M+H+Q,h[1]=A+W+te,h[2]=B+Y+he,h}function G1(h,f,t,c){var v=[],y=[];return v[0]=f[0]-t[0],v[1]=f[1]-t[1],v[2]=f[2]-t[2],y[0]=v[0],y[1]=v[1]*Math.cos(c)-v[2]*Math.sin(c),y[2]=v[1]*Math.sin(c)+v[2]*Math.cos(c),h[0]=y[0]+t[0],h[1]=y[1]+t[1],h[2]=y[2]+t[2],h}function $1(h,f,t,c){var v=[],y=[];return v[0]=f[0]-t[0],v[1]=f[1]-t[1],v[2]=f[2]-t[2],y[0]=v[2]*Math.sin(c)+v[0]*Math.cos(c),y[1]=v[1],y[2]=v[2]*Math.cos(c)-v[0]*Math.sin(c),h[0]=y[0]+t[0],h[1]=y[1]+t[1],h[2]=y[2]+t[2],h}function v0(h,f,t,c){var v=[],y=[];return v[0]=f[0]-t[0],v[1]=f[1]-t[1],v[2]=f[2]-t[2],y[0]=v[0]*Math.cos(c)-v[1]*Math.sin(c),y[1]=v[0]*Math.sin(c)+v[1]*Math.cos(c),y[2]=v[2],h[0]=y[0]+t[0],h[1]=y[1]+t[1],h[2]=y[2]+t[2],h}function Vp(h,f){var t=h[0],c=h[1],v=h[2],y=f[0],b=f[1],M=f[2],A=Math.sqrt(t*t+c*c+v*v),B=Math.sqrt(y*y+b*b+M*M),H=A*B,W=H&&Fh(h,f)/H;return Math.acos(Math.min(Math.max(W,-1),1))}function Xp(h){return h[0]=0,h[1]=0,h[2]=0,h}function Fv(h){return"vec3("+h[0]+", "+h[1]+", "+h[2]+")"}function Nv(h,f){return h[0]===f[0]&&h[1]===f[1]&&h[2]===f[2]}function Nd(h,f){var t=h[0],c=h[1],v=h[2],y=f[0],b=f[1],M=f[2];return Math.abs(t-y)<=glMatrix.EPSILON*Math.max(1,Math.abs(t),Math.abs(y))&&Math.abs(c-b)<=glMatrix.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(v-M)<=glMatrix.EPSILON*Math.max(1,Math.abs(v),Math.abs(M))}var Zp=null,p0=null,U1=null,Oy=null,g0=null,m0=null,y0=null,C0=function(){var h=Gp();return function(f,t,c,v,y,b){var M,A;for(t||(t=3),c||(c=0),v?A=Math.min(v*t+c,f.length):A=f.length,M=c;M<A;M+=t)h[0]=f[M],h[1]=f[M+1],h[2]=f[M+2],y(h,h,b),f[M]=h[0],f[M+1]=h[1],f[M+2]=h[2];return f}}(),Hv=tt(91312),Pa=tt(73432),Hd=function(){function h(f){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var t=f.start,c=f.end,v=f.matrix,y=v===void 0?[1,0,0,0,1,0,0,0,1]:v,b=f.isTransposed,M=b===void 0?!1:b;this.start=t,this.end=c,this.matrix=y,this.originalMatrix=(0,U.ev)([],y),this.isTransposed=M}return h.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},h.prototype.update=function(f){(0,D.f0)(this,f),this.initial()},h.prototype.convertDim=function(f,t){var c,v=this[t],y=v.start,b=v.end;return this.isReflect(t)&&(c=[b,y],y=c[0],b=c[1]),y+f*(b-y)},h.prototype.invertDim=function(f,t){var c,v=this[t],y=v.start,b=v.end;return this.isReflect(t)&&(c=[b,y],y=c[0],b=c[1]),(f-y)/(b-y)},h.prototype.applyMatrix=function(f,t,c){c===void 0&&(c=0);var v=this.matrix,y=[f,t,c];return Fd(y,y,v),y},h.prototype.invertMatrix=function(f,t,c){c===void 0&&(c=0);var v=this.matrix,y=Hv.U_([0,0,0,0,0,0,0,0,0],v),b=[f,t,c];return y&&Fd(b,b,y),b},h.prototype.convert=function(f){var t=this.convertPoint(f),c=t.x,v=t.y,y=this.applyMatrix(c,v,1);return{x:y[0],y:y[1]}},h.prototype.invert=function(f){var t=this.invertMatrix(f.x,f.y,1);return this.invertPoint({x:t[0],y:t[1]})},h.prototype.rotate=function(f){var t=this.matrix,c=this.center;return Pa.m$(t,t,[-c.x,-c.y]),Pa.zu(t,t,f),Pa.m$(t,t,[c.x,c.y]),this},h.prototype.reflect=function(f){return f==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},h.prototype.scale=function(f,t){var c=this.matrix,v=this.center;return Pa.m$(c,c,[-v.x,-v.y]),Pa.lh(c,c,[f,t]),Pa.m$(c,c,[v.x,v.y]),this},h.prototype.translate=function(f,t){var c=this.matrix;return Pa.m$(c,c,[f,t]),this},h.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},h.prototype.getCenter=function(){return this.center},h.prototype.getWidth=function(){return this.width},h.prototype.getHeight=function(){return this.height},h.prototype.getRadius=function(){return this.radius},h.prototype.isReflect=function(f){return f==="x"?this.isReflectX:this.isReflectY},h.prototype.resetMatrix=function(f){this.matrix=f||(0,U.ev)([],this.originalMatrix)},h}(),Ll=Hd,Hh=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;return c.isRect=!0,c.type="cartesian",c.initial(),c}return f.prototype.initial=function(){h.prototype.initial.call(this);var t=this.start,c=this.end;this.x={start:t.x,end:c.x},this.y={start:t.y,end:c.y}},f.prototype.convertPoint=function(t){var c,v=t.x,y=t.y;return this.isTransposed&&(c=[y,v],v=c[0],y=c[1]),{x:this.convertDim(v,"x"),y:this.convertDim(y,"y")}},f.prototype.invertPoint=function(t){var c,v=this.invertDim(t.x,"x"),y=this.invertDim(t.y,"y");return this.isTransposed&&(c=[y,v],v=c[0],y=c[1]),{x:v,y}},f}(Ll),zh=Hh,Vi=tt(29617),Ay=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;c.isHelix=!0,c.type="helix";var v=t.startAngle,y=v===void 0?1.25*Math.PI:v,b=t.endAngle,M=b===void 0?7.25*Math.PI:b,A=t.innerRadius,B=A===void 0?0:A,H=t.radius;return c.startAngle=y,c.endAngle=M,c.innerRadius=B,c.radius=H,c.initial(),c}return f.prototype.initial=function(){h.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,c=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(c=c*this.radius),this.d=Math.floor(c*(1-this.innerRadius)/t),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*c,end:this.innerRadius*c+this.d*.99}},f.prototype.convertPoint=function(t){var c,v=t.x,y=t.y;this.isTransposed&&(c=[y,v],v=c[0],y=c[1]);var b=this.convertDim(v,"x"),M=this.a*b,A=this.convertDim(y,"y");return{x:this.center.x+Math.cos(b)*(M+A),y:this.center.y+Math.sin(b)*(M+A)}},f.prototype.invertPoint=function(t){var c,v=this.d+this.y.start,y=Vi.$X([0,0],[t.x,t.y],[this.center.x,this.center.y]),b=Pa.Dg(y,[1,0],!0),M=b*this.a;Vi.kE(y)<M&&(M=Vi.kE(y));var A=Math.floor((Vi.kE(y)-M)/v);b=2*A*Math.PI+b;var B=this.a*b,H=Vi.kE(y)-B;H=(0,D.vQ)(H,0)?0:H;var W=this.invertDim(b,"x"),Y=this.invertDim(H,"y");return W=(0,D.vQ)(W,0)?0:W,Y=(0,D.vQ)(Y,0)?0:Y,this.isTransposed&&(c=[Y,W],W=c[0],Y=c[1]),{x:W,y:Y}},f}(Ll),zv=Ay,el=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;c.isPolar=!0,c.type="polar";var v=t.startAngle,y=v===void 0?-Math.PI/2:v,b=t.endAngle,M=b===void 0?Math.PI*3/2:b,A=t.innerRadius,B=A===void 0?0:A,H=t.radius;return c.startAngle=y,c.endAngle=M,c.innerRadius=B,c.radius=H,c.initial(),c}return f.prototype.initial=function(){for(h.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var t=this.getOneBox(),c=t.maxX-t.minX,v=t.maxY-t.minY,y=Math.abs(t.minX)/c,b=Math.abs(t.minY)/v,M;this.height/v>this.width/c?(M=this.width/c,this.circleCenter={x:this.center.x-(.5-y)*this.width,y:this.center.y-(.5-b)*M*v}):(M=this.height/v,this.circleCenter={x:this.center.x-(.5-y)*M*c,y:this.center.y-(.5-b)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=M*this.radius:(this.radius<=0||this.radius>M)&&(this.polarRadius=M):this.polarRadius=M,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},f.prototype.getRadius=function(){return this.polarRadius},f.prototype.convertPoint=function(t){var c,v=this.getCenter(),y=t.x,b=t.y;return this.isTransposed&&(c=[b,y],y=c[0],b=c[1]),y=this.convertDim(y,"x"),b=this.convertDim(b,"y"),{x:v.x+Math.cos(y)*b,y:v.y+Math.sin(y)*b}},f.prototype.invertPoint=function(t){var c,v=this.getCenter(),y=[t.x-v.x,t.y-v.y],b=this,M=b.startAngle,A=b.endAngle;this.isReflect("x")&&(c=[A,M],M=c[0],A=c[1]);var B=[1,0,0,0,1,0,0,0,1];Pa.zu(B,B,M);var H=[1,0,0];Fd(H,H,B);var W=[H[0],H[1]],Y=Pa.Dg(W,y,A<M);(0,D.vQ)(Y,Math.PI*2)&&(Y=0);var Q=Vi.kE(y),te=Y/(A-M);te=A-M>0?te:-te;var he=this.invertDim(Q,"y"),Me={x:0,y:0};return Me.x=this.isTransposed?he:te,Me.y=this.isTransposed?te:he,Me},f.prototype.getCenter=function(){return this.circleCenter},f.prototype.getOneBox=function(){var t=this.startAngle,c=this.endAngle;if(Math.abs(c-t)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var v=[0,Math.cos(t),Math.cos(c)],y=[0,Math.sin(t),Math.sin(c)],b=Math.min(t,c);b<Math.max(t,c);b+=Math.PI/18)v.push(Math.cos(b)),y.push(Math.sin(b));return{minX:Math.min.apply(Math,v),maxX:Math.max.apply(Math,v),minY:Math.min.apply(Math,y),maxY:Math.max.apply(Math,y)}},f}(Ll),b0=el,Wh={},Gh=function(h){return Wh[h.toLowerCase()]},Nl=function(h,f){Wh[h.toLowerCase()]=f};Nl("rect",zh),Nl("cartesian",zh),Nl("polar",b0),Nl("helix",zv);function Kp(h,f,t){var c=new at.Event(f,t);c.target=h,c.propagationPath.push(h),h.emitDelegation(f,c);for(var v=h.getParent();v;)v.emitDelegation(f,c),c.propagationPath.push(v),v=v.getParent()}var $h=[1,0,0,0,1,0,0,0,1];function cs(h,f,t){if(t===void 0&&(t=$h),!f)return null;var c=Pa.vs(t,[["t",-h.x,-h.y],["r",f],["t",h.x,h.y]]);return c}function hc(h,f){return!h.x&&!h.y?null:Pa.vs(f||$h,[["t",h.x,h.y]])}function Iy(h){var f=[1,0,0],t=[0,0,0];return Fd(t,f,h),Math.atan2(t[1],t[0])}function zd(h,f){var t=[0,0];return Vi.kK(t,f,h),t}function qp(h,f){var t=zd(h,[f.minX,f.minY]),c=zd(h,[f.maxX,f.minY]),v=zd(h,[f.minX,f.maxY]),y=zd(h,[f.maxX,f.maxY]),b=Math.min(t[0],c[0],v[0],y[0]),M=Math.max(t[0],c[0],v[0],y[0]),A=Math.min(t[1],c[1],v[1],y[1]),B=Math.max(t[1],c[1],v[1],y[1]);return{x:b,y:A,minX:b,minY:A,maxX:M,maxY:B,width:M-b,height:B-A}}function Qp(h,f,t,c){if(f){var v=cs({x:t,y:c},f,h.getMatrix());h.setMatrix(v)}}function Wd(h,f,t){var c=hc({x:f,y:t});h.attr("matrix",c)}function Zu(h){var f=0,t=0,c=0,v=0;return(0,D.hj)(h)?f=t=c=v=h:(0,D.kJ)(h)&&(f=h[0],c=(0,D.UM)(h[1])?h[0]:h[1],v=(0,D.UM)(h[2])?h[0]:h[2],t=(0,D.UM)(h[3])?c:h[3]),[f,c,v,t]}function Jp(h){for(var f=h.childNodes,t=f.length,c=t-1;c>=0;c--)h.removeChild(f[c])}function Hl(h,f){return!!h.className.match(new RegExp("(\\s|^)"+f+"(\\s|$)"))}function Zf(h){var f=h.start,t=h.end,c=Math.min(f.x,t.x),v=Math.min(f.y,t.y),y=Math.max(f.x,t.x),b=Math.max(f.y,t.y);return{x:c,y:v,minX:c,minY:v,maxX:y,maxY:b,width:y-c,height:b-v}}function w0(h){var f=h.map(function(M){return M.x}),t=h.map(function(M){return M.y}),c=Math.min.apply(Math,f),v=Math.min.apply(Math,t),y=Math.max.apply(Math,f),b=Math.max.apply(Math,t);return{x:c,y:v,minX:c,minY:v,maxX:y,maxY:b,width:y-c,height:b-v}}function co(h,f,t,c){var v=h+t,y=f+c;return{x:h,y:f,width:t,height:c,minX:h,minY:f,maxX:isNaN(v)?0:v,maxY:isNaN(y)?0:y}}function Xs(h,f,t){return(1-t)*h+f*t}function Uh(h,f,t){return{x:h.x+Math.cos(t)*f,y:h.y+Math.sin(t)*f}}function Nc(h,f){var t=f.x-h.x,c=f.y-h.y;return Math.sqrt(t*t+c*c)}var xx=function(h){return new Promise(function(f){setTimeout(f,h)})},Gd=function(h,f,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[h,f].includes(1/0)?Math.abs(h)===Math.abs(f):Math.abs(h-f)<t};function eg(h,f){var t=Math.max(h.minX,f.minX),c=Math.max(h.minY,f.minY),v=Math.min(h.maxX,f.maxX),y=Math.min(h.maxY,f.maxY);return co(t,c,v-t,y-c)}function Ry(h,f){var t=Math.min(h.minX,f.minX),c=Math.min(h.minY,f.minY),v=Math.max(h.maxX,f.maxX),y=Math.max(h.maxY,f.maxY);return co(t,c,v-t,y-c)}function x0(h){var f=h.getClip(),t=f&&f.getBBox(),c;if(!h.isGroup())c=h.getBBox();else{var v=1/0,y=-1/0,b=1/0,M=-1/0,A=h.getChildren();A.length>0?(0,D.S6)(A,function(B){if(B.get("visible")){if(B.isGroup()&&B.get("children").length===0)return!0;var H=x0(B),W=B.applyToMatrix([H.minX,H.minY,1]),Y=B.applyToMatrix([H.minX,H.maxY,1]),Q=B.applyToMatrix([H.maxX,H.minY,1]),te=B.applyToMatrix([H.maxX,H.maxY,1]),he=Math.min(W[0],Y[0],Q[0],te[0]),Me=Math.max(W[0],Y[0],Q[0],te[0]),Fe=Math.min(W[1],Y[1],Q[1],te[1]),Qe=Math.max(W[1],Y[1],Q[1],te[1]);he<v&&(v=he),Me>y&&(y=Me),Fe<b&&(b=Fe),Qe>M&&(M=Qe)}}):(v=0,y=0,b=0,M=0),c=co(v,b,y-v,M-b)}return t?eg(c,t):c}function Dy(h,f){if(!(!h.getClip()&&!f.getClip())){var t=f.getClip();if(!t){h.setClip(null);return}var c={type:t.get("type"),attrs:t.attr()};h.setClip(c)}}function fs(h){return h+"px"}function $d(h,f,t,c){var v=Nc(h,f),y=c/v,b=0;return t==="start"?b=0-y:t==="end"&&(b=1+y),{x:Xs(h.x,f.x,b),y:Xs(h.y,f.y,b)}}var Y1={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Ud=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;return c.initCfg(),c}return f.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},f.prototype.clear=function(){},f.prototype.update=function(t){var c=this,v=this.get("defaultCfg")||{};(0,D.S6)(t,function(y,b){var M=c.get(b),A=y;M!==y&&((0,D.Kn)(y)&&v[b]&&(A=(0,D.b$)({},v[b],y)),c.set(b,A))}),this.updateInner(t),this.afterUpdate(t)},f.prototype.updateInner=function(t){},f.prototype.afterUpdate=function(t){(0,D.wH)(t,"visible")&&(t.visible?this.show():this.hide()),(0,D.wH)(t,"capture")&&this.setCapture(t.capture)},f.prototype.getLayoutBBox=function(){return this.getBBox()},f.prototype.getLocationType=function(){return this.get("locationType")},f.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},f.prototype.setOffset=function(t,c){this.update({offsetX:t,offsetY:c})},f.prototype.setLocation=function(t){var c=(0,U.pi)({},t);this.update(c)},f.prototype.getLocation=function(){var t=this,c={},v=this.get("locationType"),y=Y1[v];return(0,D.S6)(y,function(b){c[b]=t.get(b)}),c},f.prototype.isList=function(){return!1},f.prototype.isSlider=function(){return!1},f.prototype.init=function(){},f.prototype.initCfg=function(){var t=this,c=this.get("defaultCfg");(0,D.S6)(c,function(v,y){var b=t.get(y);if((0,D.Kn)(b)){var M=(0,D.b$)({},v,b);t.set(y,M)}})},f}(at.Base),Ly=Ud,gf="update_status",tg=["visible","tip","delegateObject"],Yh=["container","group","shapesMap","isRegister","isUpdating","destroyed"],Py=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},f.prototype.remove=function(){this.clear();var t=this.get("group");t.remove()},f.prototype.clear=function(){var t=this.get("group");t.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},f.prototype.getChildComponentById=function(t){var c=this.getElementById(t),v=c&&c.get("component");return v},f.prototype.getElementById=function(t){return this.get("shapesMap")[t]},f.prototype.getElementByLocalId=function(t){var c=this.getElementId(t);return this.getElementById(c)},f.prototype.getElementsByName=function(t){var c=[];return(0,D.S6)(this.get("shapesMap"),function(v){v.get("name")===t&&c.push(v)}),c},f.prototype.getContainer=function(){return this.get("container")},f.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},f.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var c=this.get("group");this.updateElements(t,c),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},f.prototype.show=function(){var t=this.get("group");t.show(),this.set("visible",!0)},f.prototype.hide=function(){var t=this.get("group");t.hide(),this.set("visible",!1)},f.prototype.setCapture=function(t){var c=this.get("group");c.set("capture",t),this.set("capture",t)},f.prototype.destroy=function(){this.removeEvent(),this.remove(),h.prototype.destroy.call(this)},f.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},f.prototype.getLayoutBBox=function(){var t=this.get("group"),c=this.getInnerLayoutBBox(),v=t.getTotalMatrix();return v&&(c=qp(v,c)),c},f.prototype.on=function(t,c,v){var y=this.get("group");return y.on(t,c,v),this},f.prototype.off=function(t,c){var v=this.get("group");return v&&v.off(t,c),this},f.prototype.emit=function(t,c){var v=this.get("group");v.emit(t,c)},f.prototype.init=function(){h.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},f.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},f.prototype.delegateEmit=function(t,c){var v=this.get("group");c.target=v,v.emit(t,c),Kp(v,t,c)},f.prototype.createOffScreenGroup=function(){var t=this.get("group"),c=t.getGroupBase(),v=new c({delegateObject:this.getDelegateObject()});return v},f.prototype.applyOffset=function(){var t=this.get("offsetX"),c=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:c})},f.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},f.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",x0(t)),t},f.prototype.addGroup=function(t,c){this.appendDelegateObject(t,c);var v=t.addGroup(c);return this.get("isRegister")&&this.registerElement(v),v},f.prototype.addShape=function(t,c){this.appendDelegateObject(t,c);var v=t.addShape(c);return this.get("isRegister")&&this.registerElement(v),v},f.prototype.addComponent=function(t,c){var v=c.id,y=c.component,b=(0,U._T)(c,["id","component"]),M=new y((0,U.pi)((0,U.pi)({},b),{id:v,container:t,updateAutoRender:this.get("updateAutoRender")}));return M.init(),M.render(),this.get("isRegister")&&this.registerElement(M.get("group")),M},f.prototype.initEvent=function(){},f.prototype.removeEvent=function(){var t=this.get("group");t.off()},f.prototype.getElementId=function(t){var c=this.get("id"),v=this.get("name");return c+"-"+v+"-"+t},f.prototype.registerElement=function(t){var c=t.get("id");this.get("shapesMap")[c]=t},f.prototype.unregisterElement=function(t){var c=t.get("id");delete this.get("shapesMap")[c]},f.prototype.moveElementTo=function(t,c){var v=hc(c);t.attr("matrix",v)},f.prototype.addAnimation=function(t,c,v){var y=c.attr("opacity");(0,D.UM)(y)&&(y=1),c.attr("opacity",0),c.animate({opacity:y},v)},f.prototype.removeAnimation=function(t,c,v){c.animate({opacity:0},v)},f.prototype.updateAnimation=function(t,c,v,y){c.animate(v,y)},f.prototype.updateElements=function(t,c){var v=this,y=this.get("animate"),b=this.get("animateOption"),M=t.getChildren().slice(0),A;(0,D.S6)(M,function(B){var H=B.get("id"),W=v.getElementById(H),Y=B.get("name");if(W)if(B.get("isComponent")){var Q=B.get("component"),te=W.get("component"),he=(0,D.ei)(Q.cfg,(0,D.e5)((0,D.XP)(Q.cfg),Yh));te.update(he),W.set(gf,"update")}else{var Me=v.getReplaceAttrs(W,B);y&&b.update?v.updateAnimation(Y,W,Me,b.update):W.attr(Me),B.isGroup()&&v.updateElements(B,W),(0,D.S6)(tg,function(pt){W.set(pt,B.get(pt))}),Dy(W,B),A=W,W.set(gf,"update")}else{c.add(B);var Fe=c.getChildren();if(Fe.splice(Fe.length-1,1),A){var Qe=Fe.indexOf(A);Fe.splice(Qe+1,0,B)}else Fe.unshift(B);if(v.registerElement(B),B.set(gf,"add"),B.get("isComponent")){var Q=B.get("component");Q.set("container",c)}else B.isGroup()&&v.registerNewGroup(B);if(A=B,y){var nt=v.get("isInit")?b.appear:b.enter;nt&&v.addAnimation(Y,B,nt)}}})},f.prototype.clearUpdateStatus=function(t){var c=t.getChildren();(0,D.S6)(c,function(v){v.set(gf,null)})},f.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},f.prototype.getDelegateObject=function(){var t,c=this.get("name"),v=(t={},t[c]=this,t.component=this,t);return v},f.prototype.appendDelegateObject=function(t,c){var v=t.get("delegateObject");c.delegateObject||(c.delegateObject={}),(0,D.CD)(c.delegateObject,v)},f.prototype.getReplaceAttrs=function(t,c){var v=t.attr(),y=c.attr();return(0,D.S6)(v,function(b,M){y[M]===void 0&&(y[M]=void 0)}),y},f.prototype.registerNewGroup=function(t){var c=this,v=t.getChildren();(0,D.S6)(v,function(y){c.registerElement(y),y.set(gf,"add"),y.isGroup()&&c.registerNewGroup(y)})},f.prototype.deleteElements=function(){var t=this,c=this.get("shapesMap"),v=[];(0,D.S6)(c,function(M,A){!M.get(gf)||M.destroyed?v.push([A,M]):M.set(gf,null)});var y=this.get("animate"),b=this.get("animateOption");(0,D.S6)(v,function(M){var A=M[0],B=M[1];if(!B.destroyed){var H=B.get("name");if(y&&b.leave){var W=(0,D.CD)({callback:function(){t.removeElement(B)}},b.leave);t.removeAnimation(H,B,W)}else t.removeElement(B)}delete c[A]})},f.prototype.removeElement=function(t){if(t.get("isGroup")){var c=t.get("component");c&&c.destroy()}t.remove()},f}(Ly),Jl=Py,Au="\u2026";function Hc(h){for(var f=0,t=0;t<h.length;t++)f+=mf(h,t);return f}function mf(h,f){return h.charCodeAt(f)>0&&h.charCodeAt(f)<128?1:2}function Co(h,f,t){t===void 0&&(t="tail");var c=h.length,v="";if(t==="tail"){for(var y=0,b=0;y<f;){var M=mf(h,b);if(y+M<=f)v+=h[b],y+=mf(h,b),b++;else break}v+=Au}else if(t==="head"){for(var y=0,b=c-1;y<f;){var M=mf(h,b);if(y+M<=f)v+=h[b],y+=mf(h,b),b--;else break}v=Au+v}else{for(var A="",B="",y=0,H=0,W=c-1;y<f;){var Y=mf(h,H),Q=!1;Y+y<=f&&(A+=h[H],H++,y+=Y,Q=!0);var te=mf(h,W);if(te+y<=f&&(B=h[W]+B,y+=te,W--,Q=!0),!Q)break}v=A+Au+B}return v}var Wv="\u2026",On=2,rg=400;function By(h){for(var f=h.map(function(A){var B=A.attr("text");return(0,D.UM)(B)?"":""+B}),t=0,c=0,v=0;v<f.length;v+=1){for(var y=0,b=0;b<=f[v].length;b+=1){var M=f[v].charCodeAt(b);M>=19968&&M<=40869?y+=2:y+=1}y>t&&(t=y,c=v)}return h[c].getBBox().width}function Gv(h){if(h.length>rg)return By(h);var f=0;return(0,D.S6)(h,function(t){var c=t.getBBox(),v=c.width;f<v&&(f=v)}),f}function Ta(h,f){var t=f.getCanvasBBox();return h?t.width:t.height}function yf(h,f){return h.getBBox().width<f}function dc(h,f,t,c){var v;c===void 0&&(c="tail");var y=(v=f.attr("text"))!==null&&v!==void 0?v:"";if(c==="tail"){var b=(0,D.ei)(f.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),M=(0,D.Lo)(y,t,b,"\u2026");return y!==M?(f.attr("text",M),f.set("tip",y),!0):(f.set("tip",null),!1)}var A=Ta(h,f),B=Hc(y),H=!1;if(t<A){var W=Math.floor(t/A*B)-On,Y=void 0;W>=0?Y=Co(y,W,c):Y=Wv,Y&&(f.attr("text",Y),H=!0)}return H?f.set("tip",y):f.set("tip",null),H}function Yd(h,f){var t=f.x,c=f.y,v=f.content,y=f.style,b=f.id,M=f.name,A=f.rotate,B=f.maxLength,H=f.autoEllipsis,W=f.isVertical,Y=f.ellipsisPosition,Q=f.background,te=h.addGroup({id:b+"-group",name:M+"-group",attrs:{x:t,y:c}}),he=te.addShape({type:"text",id:b,name:M,attrs:(0,U.pi)({x:0,y:0,text:v},y)}),Me=Zu((0,D.U2)(Q,"padding",0));if(B&&H){var Fe=B-(Me[1]+Me[3]);dc(!W,he,Fe,Y)}if(Q){var Qe=(0,D.U2)(Q,"style",{}),nt=he.getCanvasBBox(),pt=nt.minX,Qt=nt.minY,Sr=nt.width,Mr=nt.height,Or=te.addShape("rect",{id:b+"-bg",name:b+"-bg",attrs:(0,U.pi)({x:pt-Me[3],y:Qt-Me[0],width:Sr+Me[1]+Me[3],height:Mr+Me[0]+Me[2]},Qe)});Or.toBack()}Wd(te,t,c),Qp(te,A,t,c)}var ji={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"},ng=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:ji.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:ji.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:ji.lineColor,lineWidth:1}}}})},f.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},f.prototype.renderLine=function(t){var c=this.get("start"),v=this.get("end"),y=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,U.pi)({x1:c.x,y1:c.y,x2:v.x,y2:v.y},y)})},f.prototype.getLabelPoint=function(t,c,v){var y;return v==="start"?y=0:v==="center"?y=.5:(0,D.HD)(v)&&v.indexOf("%")!==-1?y=parseInt(v,10)/100:(0,D.hj)(v)?y=v:y=1,(y>1||y<0)&&(y=1),{x:Xs(t.x,c.x,y),y:Xs(t.y,c.y,y)}},f.prototype.renderLabel=function(t){var c=this.get("text"),v=this.get("start"),y=this.get("end"),b=c.position,M=c.content,A=c.style,B=c.offsetX,H=c.offsetY,W=c.autoRotate,Y=c.maxLength,Q=c.autoEllipsis,te=c.ellipsisPosition,he=c.background,Me=c.isVertical,Fe=Me===void 0?!1:Me,Qe=this.getLabelPoint(v,y,b),nt=Qe.x+B,pt=Qe.y+H,Qt={id:this.getElementId("line-text"),name:"annotation-line-text",x:nt,y:pt,content:M,style:A,maxLength:Y,autoEllipsis:Q,ellipsisPosition:te,background:he,isVertical:Fe};if(W){var Sr=[y.x-v.x,y.y-v.y];Qt.rotate=Math.atan2(Sr[1],Sr[0])}Yd(t,Qt)},f}(Jl),$v=ng,Uv=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:ji.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:ji.fontFamily}}})},f.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},f.prototype.renderInner=function(t){var c=this.getLocation(),v=c.x,y=c.y,b=this.get("content"),M=this.get("style"),A=this.getElementId("text"),B=this.get("name")+"-text",H=this.get("maxLength"),W=this.get("autoEllipsis"),Y=this.get("isVertical"),Q=this.get("ellipsisPosition"),te=this.get("background"),he=this.get("rotate"),Me={id:A,name:B,x:v,y,content:b,style:M,maxLength:H,autoEllipsis:W,isVertical:Y,ellipsisPosition:Q,background:te,rotate:he};Yd(t,Me)},f.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var c=this.getLocation(),v=c.x,y=c.y,b=this.get("rotate");Wd(t,v,y),Qp(t,b,v,y)}},f}(Jl),S0=Uv,Zs=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},f.prototype.renderInner=function(t){this.renderArc(t)},f.prototype.getArcPath=function(){var t=this.getLocation(),c=t.center,v=t.radius,y=t.startAngle,b=t.endAngle,M=Uh(c,v,y),A=Uh(c,v,b),B=b-y>Math.PI?1:0,H=[["M",M.x,M.y]];if(b-y===Math.PI*2){var W=Uh(c,v,y+Math.PI);H.push(["A",v,v,0,B,1,W.x,W.y]),H.push(["A",v,v,0,B,1,A.x,A.y])}else H.push(["A",v,v,0,B,1,A.x,A.y]);return H},f.prototype.renderArc=function(t){var c=this.getArcPath(),v=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,U.pi)({path:c},v)})},f}(Jl),Yv=Zs,jd=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:ji.regionColor,opacity:.4}}})},f.prototype.renderInner=function(t){this.renderRegion(t)},f.prototype.renderRegion=function(t){var c=this.get("start"),v=this.get("end"),y=this.get("style"),b=Zf({start:c,end:v});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,U.pi)({x:b.x,y:b.y,width:b.width,height:b.height},y)})},f}(Jl),ig=jd,j1=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},f.prototype.renderInner=function(t){this.renderImage(t)},f.prototype.getImageAttrs=function(){var t=this.get("start"),c=this.get("end"),v=this.get("style"),y=Zf({start:t,end:c}),b=this.get("src");return(0,U.pi)({x:y.x,y:y.y,img:b,width:y.width,height:y.height},v)},f.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},f}(Jl),_0=j1,Sx=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:ji.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:ji.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:ji.fontFamily}}}})},f.prototype.renderInner=function(t){(0,D.U2)(this.get("line"),"display")&&this.renderLine(t),(0,D.U2)(this.get("text"),"display")&&this.renderText(t),(0,D.U2)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},f.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},f.prototype.renderPoint=function(t){var c=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:c})},f.prototype.renderLine=function(t){var c=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:c})},f.prototype.renderText=function(t){var c=this.getShapeAttrs().text,v=c.x,y=c.y,b=c.text,M=(0,U._T)(c,["x","y","text"]),A=this.get("text"),B=A.background,H=A.maxLength,W=A.autoEllipsis,Y=A.isVertival,Q=A.ellipsisPosition,te={x:v,y,id:this.getElementId("text"),name:"annotation-text",content:b,style:M,background:B,maxLength:H,autoEllipsis:W,isVertival:Y,ellipsisPosition:Q};Yd(t,te)},f.prototype.autoAdjust=function(t){var c=this.get("direction"),v=this.get("x"),y=this.get("y"),b=(0,D.U2)(this.get("line"),"length",0),M=this.get("coordinateBBox"),A=t.getBBox(),B=A.minX,H=A.maxX,W=A.minY,Y=A.maxY,Q=t.findById(this.getElementId("text-group")),te=t.findById(this.getElementId("text")),he=t.findById(this.getElementId("line"));if(M&&Q){var Me=Q.attr("x"),Fe=Q.attr("y"),Qe=te.getCanvasBBox(),nt=Qe.width,pt=Qe.height,Qt=0,Sr=0;if(v+B<=M.minX)if(c==="leftward")Qt=1;else{var Mr=M.minX-(v+B);Me=Q.attr("x")+Mr}else if(v+H>=M.maxX)if(c==="rightward")Qt=-1;else{var Mr=v+H-M.maxX;Me=Q.attr("x")-Mr}if(Qt&&(he&&he.attr("path",[["M",0,0],["L",b*Qt,0]]),Me=(b+2+nt)*Qt),y+W<=M.minY)if(c==="upward")Sr=1;else{var Mr=M.minY-(y+W);Fe=Q.attr("y")+Mr}else if(y+Y>=M.maxY)if(c==="downward")Sr=-1;else{var Mr=y+Y-M.maxY;Fe=Q.attr("y")-Mr}Sr&&(he&&he.attr("path",[["M",0,0],["L",0,b*Sr]]),Fe=(b+2+pt)*Sr),(Me!==Q.attr("x")||Fe!==Q.attr("y"))&&Wd(Q,Me,Fe)}},f.prototype.getShapeAttrs=function(){var t=(0,D.U2)(this.get("line"),"display"),c=(0,D.U2)(this.get("point"),"style",{}),v=(0,D.U2)(this.get("line"),"style",{}),y=(0,D.U2)(this.get("text"),"style",{}),b=this.get("direction"),M=t?(0,D.U2)(this.get("line"),"length",0):0,A=0,B=0,H="top",W="start";switch(b){case"upward":B=-1,H="bottom";break;case"downward":B=1,H="top";break;case"leftward":A=-1,W="end";break;case"rightward":A=1,W="start";break}return{point:(0,U.pi)({x:0,y:0},c),line:(0,U.pi)({path:[["M",0,0],["L",M*A,M*B]]},v),text:(0,U.pi)({x:(M+2)*A,y:(M+2)*B,text:(0,D.U2)(this.get("text"),"content",""),textBaseline:H,textAlign:W},y)}},f}(Jl),ag=Sx,og=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:ji.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:ji.textColor,fontFamily:ji.fontFamily}}}})},f.prototype.renderInner=function(t){var c=(0,D.U2)(this.get("region"),"style",{}),v=(0,D.U2)(this.get("text"),"style",{}),y=this.get("lineLength")||0,b=this.get("points");if(b.length){var M=w0(b),A=[];A.push(["M",b[0].x,M.minY-y]),b.forEach(function(H){A.push(["L",H.x,H.y])}),A.push(["L",b[b.length-1].x,b[b.length-1].y-y]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,U.pi)({path:A},c)});var B=(0,U.pi)({id:this.getElementId("text"),name:"annotation-text",x:(M.minX+M.maxX)/2,y:M.minY-y},this.get("text"));Yd(t,B)}},f}(Jl),ky=og,Iu=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},f.prototype.renderInner=function(t){var c=this,v=this.get("start"),y=this.get("end"),b=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,D.S6)(this.get("shapes"),function(A,B){var H=A.get("type"),W=(0,D.d9)(A.attr());c.adjustShapeAttrs(W),c.addShape(b,{id:c.getElementId("shape-"+H+"-"+B),capture:!1,type:H,attrs:W})});var M=Zf({start:v,end:y});b.setClip({type:"rect",attrs:{x:M.minX,y:M.minY,width:M.width,height:M.height}})},f.prototype.adjustShapeAttrs=function(t){var c=this.get("color");t.fill&&(t.fill=t.fillStyle=c),t.stroke=t.strokeStyle=c},f}(Jl),E0=Iu,Cf=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"annotation",type:"shape",draw:D.ZT})},f.prototype.renderInner=function(t){var c=this.get("render");(0,D.mf)(c)&&c(t)},f}(Jl),Fy=Cf;function Ks(h,f,t){var c;try{c=window.getComputedStyle?window.getComputedStyle(h,null)[f]:h.style[f]}catch(v){}finally{c=c===void 0?t:c}return c}function Ny(h,f){var t=Ks(h,"width",f);return t==="auto"&&(t=h.offsetWidth),parseFloat(t)}function Kf(h,f){var t=Ny(h,f),c=parseFloat(Ks(h,"borderLeftWidth"))||0,v=parseFloat(Ks(h,"paddingLeft"))||0,y=parseFloat(Ks(h,"paddingRight"))||0,b=parseFloat(Ks(h,"borderRightWidth"))||0,M=parseFloat(Ks(h,"marginRight"))||0,A=parseFloat(Ks(h,"marginLeft"))||0;return t+c+b+v+y+A+M}function lg(h,f){var t=Ks(h,"height",f);return t==="auto"&&(t=h.offsetHeight),parseFloat(t)}function V1(h,f){var t=lg(h,f),c=parseFloat(Ks(h,"borderTopWidth"))||0,v=parseFloat(Ks(h,"paddingTop"))||0,y=parseFloat(Ks(h,"paddingBottom"))||0,b=parseFloat(Ks(h,"borderBottomWidth"))||0,M=parseFloat(Ks(h,"marginTop"))||0,A=parseFloat(Ks(h,"marginBottom"))||0;return t+c+b+v+y+M+A}var Hy=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},f.prototype.getContainer=function(){return this.get("container")},f.prototype.show=function(){var t=this.get("container");t.style.display="",this.set("visible",!0)},f.prototype.hide=function(){var t=this.get("container");t.style.display="none",this.set("visible",!1)},f.prototype.setCapture=function(t){var c=this.getContainer(),v=t?"auto":"none";c.style.pointerEvents=v,this.set("capture",t)},f.prototype.getBBox=function(){var t=this.getContainer(),c=parseFloat(t.style.left)||0,v=parseFloat(t.style.top)||0;return co(c,v,t.clientWidth,t.clientHeight)},f.prototype.clear=function(){var t=this.get("container");Jp(t)},f.prototype.destroy=function(){this.removeEvent(),this.removeDom(),h.prototype.destroy.call(this)},f.prototype.init=function(){h.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},f.prototype.initCapture=function(){this.setCapture(this.get("capture"))},f.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},f.prototype.initDom=function(){},f.prototype.initContainer=function(){var t=this.get("container");if((0,D.UM)(t)){t=this.createDom();var c=this.get("parent");(0,D.HD)(c)&&(c=document.getElementById(c),this.set("parent",c)),c.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else(0,D.HD)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},f.prototype.resetStyles=function(){var t=this.get("domStyles"),c=this.get("defaultStyles");t?t=(0,D.b$)({},c,t):t=c,this.set("domStyles",t)},f.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var c=this.getContainer();this.applyChildrenStyles(c,t);var v=this.get("containerClassName");if(v&&Hl(c,v)){var y=t[v];yn(c,y)}}},f.prototype.applyChildrenStyles=function(t,c){(0,D.S6)(c,function(v,y){var b=t.getElementsByClassName(y);(0,D.S6)(b,function(M){yn(M,v)})})},f.prototype.applyStyle=function(t,c){var v=this.get("domStyles");yn(c,v[t])},f.prototype.createDom=function(){var t=this.get("containerTpl");return un(t)},f.prototype.initEvent=function(){},f.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},f.prototype.removeEvent=function(){},f.prototype.updateInner=function(t){(0,D.wH)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},f.prototype.resetPosition=function(){},f}(Ly),zy=Hy,_x=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},f.prototype.render=function(){var t=this.getContainer(),c=this.get("html");Jp(t);var v=(0,D.mf)(c)?c(t):c;if((0,D.kK)(v))t.appendChild(v);else if((0,D.HD)(v)||(0,D.hj)(v)){var y=un(""+v);y&&t.appendChild(y)}this.resetPosition()},f.prototype.resetPosition=function(){var t=this.getContainer(),c=this.getLocation(),v=c.x,y=c.y,b=this.get("alignX"),M=this.get("alignY"),A=this.get("offsetX"),B=this.get("offsetY"),H=Kf(t),W=V1(t),Y={x:v,y};b==="middle"?Y.x-=Math.round(H/2):b==="right"&&(Y.x-=Math.round(H)),M==="middle"?Y.y-=Math.round(W/2):M==="bottom"&&(Y.y-=Math.round(W)),A&&(Y.x+=A),B&&(Y.y+=B),yn(t,{position:"absolute",left:Y.x+"px",top:Y.y+"px",zIndex:this.get("zIndex")})},f}(zy),Wy=_x;function Ku(h,f,t){var c=f+"Style",v=null;return(0,D.S6)(t,function(y,b){h[b]&&y[c]&&(v||(v={}),(0,D.CD)(v,y[c]))}),v}var Gy=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:ji.lineColor}},tickLine:{style:{lineWidth:1,stroke:ji.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:ji.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:ji.textColor,fontFamily:ji.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:ji.textColor,textBaseline:"middle",fontFamily:ji.fontFamily,textAlign:"center"},iconStyle:{fill:ji.descriptionIconFill,stroke:ji.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:ji.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},f.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},f.prototype.isList=function(){return!0},f.prototype.getItems=function(){return this.get("ticks")},f.prototype.setItems=function(t){this.update({ticks:t})},f.prototype.updateItem=function(t,c){(0,D.CD)(t,c),this.clear(),this.render()},f.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},f.prototype.setItemState=function(t,c,v){t[c]=v,this.updateTickStates(t)},f.prototype.hasState=function(t,c){return!!t[c]},f.prototype.getItemStates=function(t){var c=this.get("tickStates"),v=[];return(0,D.S6)(c,function(y,b){t[b]&&v.push(b)}),v},f.prototype.clearItemsState=function(t){var c=this,v=this.getItemsByState(t);(0,D.S6)(v,function(y){c.setItemState(y,t,!1)})},f.prototype.getItemsByState=function(t){var c=this,v=this.getItems();return(0,D.hX)(v,function(y){return c.hasState(y,t)})},f.prototype.getSidePoint=function(t,c){var v=this,y=v.getSideVector(c,t);return{x:t.x+y[0],y:t.y+y[1]}},f.prototype.getTextAnchor=function(t){var c;return(0,D.vQ)(t[0],0)?c="center":t[0]>0?c="start":t[0]<0&&(c="end"),c},f.prototype.getTextBaseline=function(t){var c;return(0,D.vQ)(t[1],0)?c="middle":t[1]>0?c="top":t[1]<0&&(c="bottom"),c},f.prototype.processOverlap=function(t){},f.prototype.drawLine=function(t){var c=this.getLinePath(),v=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,D.CD)({path:c},v.style)})},f.prototype.getTickLineItems=function(t){var c=this,v=[],y=this.get("tickLine"),b=y.alignTick,M=y.length,A=1,B=t.length;return B>=2&&(A=t[1].value-t[0].value),(0,D.S6)(t,function(H){var W=H.point;b||(W=c.getTickPoint(H.value-A/2));var Y=c.getSidePoint(W,M);v.push({startPoint:W,tickValue:H.value,endPoint:Y,tickId:H.id,id:"tickline-"+H.id})}),v},f.prototype.getSubTickLineItems=function(t){var c=[],v=this.get("subTickLine"),y=v.count,b=t.length;if(b>=2)for(var M=0;M<b-1;M++)for(var A=t[M],B=t[M+1],H=0;H<y;H++){var W=(H+1)/(y+1),Y=(1-W)*A.tickValue+W*B.tickValue,Q=this.getTickPoint(Y),te=this.getSidePoint(Q,v.length);c.push({startPoint:Q,endPoint:te,tickValue:Y,id:"sub-"+A.id+"-"+H})}return c},f.prototype.getTickLineAttrs=function(t,c,v,y){var b=this.get(c).style,M={points:[t.startPoint,t.endPoint]},A=(0,D.U2)(this.get("theme"),["tickLine","style"],{});b=(0,D.mf)(b)?(0,D.CD)({},A,b(M,v,y)):b;var B=t.startPoint,H=t.endPoint;return(0,U.pi)({x1:B.x,y1:B.y,x2:H.x,y2:H.y},b)},f.prototype.drawTick=function(t,c,v,y,b){this.addShape(c,{type:"line",id:this.getElementId(t.id),name:"axis-"+v,attrs:this.getTickLineAttrs(t,v,y,b)})},f.prototype.drawTickLines=function(t){var c=this,v=this.get("ticks"),y=this.get("subTickLine"),b=this.getTickLineItems(v),M=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),A=this.get("tickLine");if((0,D.S6)(b,function(H,W){if(A.displayWithLabel){var Y=c.getElementId("label-"+H.tickId);t.findById(Y)&&c.drawTick(H,M,"tickLine",W,b)}else c.drawTick(H,M,"tickLine",W,b)}),y){var B=this.getSubTickLineItems(b);(0,D.S6)(B,function(H,W){c.drawTick(H,M,"subTickLine",W,B)})}},f.prototype.processTicks=function(){var t=this,c=this.get("ticks");(0,D.S6)(c,function(v){v.point=t.getTickPoint(v.value),(0,D.UM)(v.id)&&(v.id=v.name)})},f.prototype.drawTicks=function(t){var c=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var v=this.get("ticks");(0,D.S6)(v,function(y){c.applyTickStates(y,t)})},f.prototype.optimizeTicks=function(){var t=this.get("optimize"),c=this.get("ticks");if(t&&t.enable&&t.threshold>0){var v=(0,D.dp)(c);if(v>t.threshold){var y=Math.ceil(v/t.threshold),b=c.filter(function(M,A){return A%y===0});this.set("ticks",b),this.set("originalTicks",c)}}},f.prototype.getLabelAttrs=function(t,c,v){var y=this.get("label"),b=y.offset,M=y.offsetX,A=y.offsetY,B=y.rotate,H=y.formatter,W=this.getSidePoint(t.point,b),Y=this.getSideVector(b,W),Q=H?H(t.name,t,c):t.name,te=y.style;te=(0,D.mf)(te)?(0,D.U2)(this.get("theme"),["label","style"],{}):te;var he=(0,D.CD)({x:W.x+M,y:W.y+A,text:Q,textAlign:this.getTextAnchor(Y),textBaseline:this.getTextBaseline(Y)},te);return B&&(he.matrix=cs(W,B)),he},f.prototype.drawLabels=function(t){var c=this,v=this.get("ticks"),y=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,D.S6)(v,function(Y,Q){c.addShape(y,{type:"text",name:"axis-label",id:c.getElementId("label-"+Y.id),attrs:c.getLabelAttrs(Y,Q,v),delegateObject:{tick:Y,item:Y,index:Q}})}),this.processOverlap(y);var b=y.getChildren(),M=(0,D.U2)(this.get("theme"),["label","style"],{}),A=this.get("label"),B=A.style,H=A.formatter;if((0,D.mf)(B)){var W=b.map(function(Y){return(0,D.U2)(Y.get("delegateObject"),"tick")});(0,D.S6)(b,function(Y,Q){var te=Y.get("delegateObject").tick,he=H?H(te.name,te,Q):te.name,Me=(0,D.CD)({},M,B(he,Q,W));Y.attr(Me)})}},f.prototype.getTitleAttrs=function(){var t=this.get("title"),c=t.style,v=t.position,y=t.offset,b=t.spacing,M=b===void 0?0:b,A=t.autoRotate,B=c.fontSize,H=.5;v==="start"?H=0:v==="end"&&(H=1);var W=this.getTickPoint(H),Y=this.getSidePoint(W,y||M+B/2),Q=(0,D.CD)({x:Y.x,y:Y.y,text:t.text},c),te=t.rotate,he=te;if((0,D.UM)(te)&&A){var Me=this.getAxisVector(W),Fe=[1,0];he=Pa.Dg(Me,Fe,!0)}if(he){var Qe=cs(Y,he);Q.matrix=Qe}return Q},f.prototype.drawTitle=function(t){var c,v=this.getTitleAttrs(),y=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:v});!((c=this.get("title"))===null||c===void 0)&&c.description&&this.drawDescriptionIcon(t,y,v.matrix)},f.prototype.drawDescriptionIcon=function(t,c,v){var y=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),b=c.getBBox(),M=b.maxX,A=b.maxY,B=b.height,H=this.get("title").iconStyle,W=4,Y=B/2,Q=Y/6,te=M+W,he=A-B/2,Me=[te+Y,he-Y],Fe=Me[0],Qe=Me[1],nt=[Fe+Y,Qe+Y],pt=nt[0],Qt=nt[1],Sr=[Fe,Qt+Y],Mr=Sr[0],Or=Sr[1],Xr=[te,Qe+Y],tn=Xr[0],ti=Xr[1],ri=[te+Y,he-B/4],Yi=ri[0],xa=ri[1],vo=[Yi,xa+Q],_u=vo[0],ws=vo[1],Uu=[_u,ws+Q],Oo=Uu[0],Rc=Uu[1],b1=[Oo,Rc+Y*3/4],w1=b1[0],C2=b1[1];this.addShape(y,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:(0,U.pi)({path:[["M",Fe,Qe],["A",Y,Y,0,0,1,pt,Qt],["A",Y,Y,0,0,1,Mr,Or],["A",Y,Y,0,0,1,tn,ti],["A",Y,Y,0,0,1,Fe,Qe],["M",Yi,xa],["L",_u,ws],["M",Oo,Rc],["L",w1,C2]],lineWidth:Q,matrix:v},H)}),this.addShape(y,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:te,y:he-B/2,width:B,height:B,stroke:"#000",fill:"#000",opacity:0,matrix:v,cursor:"pointer"}})},f.prototype.applyTickStates=function(t,c){var v=this.getItemStates(t);if(v.length){var y=this.get("tickStates"),b=this.getElementId("label-"+t.id),M=c.findById(b);if(M){var A=Ku(t,"label",y);A&&M.attr(A)}var B=this.getElementId("tickline-"+t.id),H=c.findById(B);if(H){var W=Ku(t,"tickLine",y);W&&H.attr(W)}}},f.prototype.updateTickStates=function(t){var c=this.getItemStates(t),v=this.get("tickStates"),y=this.get("label"),b=this.getElementByLocalId("label-"+t.id),M=this.get("tickLine"),A=this.getElementByLocalId("tickline-"+t.id);if(c.length){if(b){var B=Ku(t,"label",v);B&&b.attr(B)}if(A){var H=Ku(t,"tickLine",v);H&&A.attr(H)}}else b&&b.attr(y.style),A&&A.attr(M.style)},f}(Jl),jh=Gy;function M0(h,f,t,c){var v=f.getChildren(),y=!1;return(0,D.S6)(v,function(b){var M=dc(h,b,t,c);y=y||M}),y}function $y(){return sg}function X1(h,f,t){return M0(h,f,t,"head")}function sg(h,f,t){return M0(h,f,t,"tail")}function T0(h,f,t){return M0(h,f,t,"middle")}function Uy(h){var f=h.attr("matrix");return f&&f[0]!==1}function Ru(h){var f=Uy(h)?Iy(h.attr("matrix")):0;return f%360}function vc(h,f,t,c){var v=!1,y=Ru(f),b=Math.abs(h?t.attr("y")-f.attr("y"):t.attr("x")-f.attr("x")),M=(h?t.attr("y")>f.attr("y"):t.attr("x")>f.attr("x"))?f.getBBox():t.getBBox();if(h){var A=Math.abs(Math.cos(y));Gd(A,0,Math.PI/180)?v=M.width+c>b:v=M.height/A+c>b}else{var A=Math.abs(Math.sin(y));Gd(A,0,Math.PI/180)?v=M.width+c>b:v=M.height/A+c>b}return v}function bf(h,f,t,c){var v=(c==null?void 0:c.minGap)||0,y=f.getChildren().slice().filter(function(te){return te.get("visible")});if(!y.length)return!1;var b=!1;t&&y.reverse();for(var M=y.length,A=y[0],B=A,H=1;H<M;H++){var W=y[H],Y=W.getBBox(),Q=vc(h,B,W,v);Q?(W.hide(),b=!0):B=W}return b}function jv(h,f,t){var c=(t==null?void 0:t.minGap)||0,v=f.getChildren().slice();if(v.length<2)return!1;var y=!1,b=v[0],M=b.getBBox(),A=v[1],B=v.length,H=Ru(b),W=Math.abs(h?A.attr("y")-b.attr("y"):A.attr("x")-b.attr("x")),Y=0;if(h){var Q=Math.abs(Math.cos(H));if(Gd(Q,0,Math.PI/180)){var te=Gv(v);Y=(te+c)/W}else Y=(M.height/Q+c)/W}else{var Q=Math.abs(Math.sin(H));if(Gd(Q,0,Math.PI/180)){var te=Gv(v);Y=(te+c)/W}else Y=(M.height/Q+c)/W}if(Y>1){Y=Math.ceil(Y);for(var he=0;he<B;he++)he%Y!==0&&(v[he].hide(),y=!0)}return y}function O0(){return uu}function A0(h,f,t,c){return bf(h,f,!1,c)}function Yy(h,f,t,c){return bf(h,f,!0,c)}function Vd(h,f,t,c){var v=(c==null?void 0:c.minGap)||0,y=f.getChildren().slice();if(y.length<=2)return!1;for(var b=!1,M=y.length,A=y[0],B=y[M-1],H=A,W=1;W<M-1;W++){var Y=y[W],Q=Y.getBBox(),te=vc(h,H,Y,v);te?(Y.hide(),b=!0):H=Y}var he=vc(h,H,B,v);return he&&(H.hide(),b=!0),b}function uu(h,f,t,c){var v=jv(h,f,c);return bf(h,f,!1)&&(v=!0),v}function qf(h,f,t,c){var v=f.getChildren().slice(),y=jv(h,f,c);if(v.length>2){var b=v[0],M=v[v.length-1];b.get("visible")||(b.show(),bf(h,f,!1,c)&&(y=!0)),M.get("visible")||(M.show(),bf(h,f,!0,c)&&(y=!0))}return y}function Oa(h,f){(0,D.S6)(h,function(t){var c=t.attr("x"),v=t.attr("y"),y=cs({x:c,y:v},f);t.attr("matrix",y)})}function F(h,f,t,c){var v=f.getChildren();if(!v.length||!h&&v.length<2)return!1;var y=Gv(v),b=!1;if(h)b=!!t&&y>t;else{var M=Math.abs(v[1].attr("x")-v[0].attr("x"));b=y>M}if(b){var A=c(t,y);Oa(v,A)}return b}function X(){return ue}function ue(h,f,t,c){return F(h,f,t,function(){return(0,D.hj)(c)?c:h?ji.verticalAxisRotate:ji.horizontalAxisRotate})}function ge(h,f,t){return F(h,f,t,function(c,v){if(!c)return h?ji.verticalAxisRotate:ji.horizontalAxisRotate;if(h)return-Math.acos(c/v);var y=0;return c>v?y=Math.PI/4:(y=Math.asin(c/v),y>Math.PI/4&&(y=Math.PI/4)),y})}var Ke=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{type:"line",locationType:"region",start:null,end:null})},f.prototype.getLinePath=function(){var t=this.get("start"),c=this.get("end"),v=[];return v.push(["M",t.x,t.y]),v.push(["L",c.x,c.y]),v},f.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),c=this.get("end"),v=h.prototype.getInnerLayoutBBox.call(this),y=Math.min(t.x,c.x,v.x),b=Math.min(t.y,c.y,v.y),M=Math.max(t.x,c.x,v.maxX),A=Math.max(t.y,c.y,v.maxY);return{x:y,y:b,minX:y,minY:b,maxX:M,maxY:A,width:M-y,height:A-b}},f.prototype.isVertical=function(){var t=this.get("start"),c=this.get("end");return(0,D.vQ)(t.x,c.x)},f.prototype.isHorizontal=function(){var t=this.get("start"),c=this.get("end");return(0,D.vQ)(t.y,c.y)},f.prototype.getTickPoint=function(t){var c=this,v=c.get("start"),y=c.get("end"),b=y.x-v.x,M=y.y-v.y;return{x:v.x+b*t,y:v.y+M*t}},f.prototype.getSideVector=function(t){var c=this.getAxisVector(),v=Vi.Fv([0,0],c),y=this.get("verticalFactor"),b=[v[1],v[0]*-1];return Vi.bA([0,0],b,t*y)},f.prototype.getAxisVector=function(){var t=this.get("start"),c=this.get("end");return[c.x-t.x,c.y-t.y]},f.prototype.processOverlap=function(t){var c=this,v=this.isVertical(),y=this.isHorizontal();if(!(!v&&!y)){var b=this.get("label"),M=this.get("title"),A=this.get("verticalLimitLength"),B=b.offset,H=A,W=0,Y=0;M&&(W=M.style.fontSize,Y=M.spacing),H&&(H=H-B-Y-W);var Q=this.get("overlapOrder");if((0,D.S6)(Q,function(Me){b[Me]&&c.canProcessOverlap(Me)&&c.autoProcessOverlap(Me,b[Me],t,H)}),M&&(0,D.UM)(M.offset)){var te=t.getCanvasBBox(),he=v?te.width:te.height;M.offset=B+he+Y+W/2}}},f.prototype.canProcessOverlap=function(t){var c=this.get("label");return t==="autoRotate"?(0,D.UM)(c.rotate):!0},f.prototype.autoProcessOverlap=function(t,c,v,y){var b=this,M=this.isVertical(),A=!1,B=re[t];if(c===!0){var H=this.get("label");A=B.getDefault()(M,v,y)}else if((0,D.mf)(c))A=c(M,v,y);else if((0,D.Kn)(c)){var W=c;B[W.type]&&(A=B[W.type](M,v,y,W.cfg))}else B[c]&&(A=B[c](M,v,y));if(t==="autoRotate"){if(A){var Y=v.getChildren(),Q=this.get("verticalFactor");(0,D.S6)(Y,function(he){var Me=he.attr("textAlign");if(Me==="center"){var Fe=Q>0?"end":"start";he.attr("textAlign",Fe)}})}}else if(t==="autoHide"){var te=v.getChildren().slice(0);(0,D.S6)(te,function(he){he.get("visible")||(b.get("isRegister")&&b.unregisterElement(he),he.remove())})}},f}(jh),ar=Ke,zr=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},f.prototype.getLinePath=function(){var t=this.get("center"),c=t.x,v=t.y,y=this.get("radius"),b=y,M=this.get("startAngle"),A=this.get("endAngle"),B=[];if(Math.abs(A-M)===Math.PI*2)B=[["M",c,v-b],["A",y,b,0,1,1,c,v+b],["A",y,b,0,1,1,c,v-b],["Z"]];else{var H=this.getCirclePoint(M),W=this.getCirclePoint(A),Y=Math.abs(A-M)>Math.PI?1:0,Q=M>A?0:1;B=[["M",c,v],["L",H.x,H.y],["A",y,b,0,Y,Q,W.x,W.y],["L",c,v]]}return B},f.prototype.getTickPoint=function(t){var c=this.get("startAngle"),v=this.get("endAngle"),y=c+(v-c)*t;return this.getCirclePoint(y)},f.prototype.getSideVector=function(t,c){var v=this.get("center"),y=[c.x-v.x,c.y-v.y],b=this.get("verticalFactor"),M=Vi.kE(y);return Vi.bA(y,y,b*t/M),y},f.prototype.getAxisVector=function(t){var c=this.get("center"),v=[t.x-c.x,t.y-c.y];return[v[1],-1*v[0]]},f.prototype.getCirclePoint=function(t,c){var v=this.get("center");return c=c||this.get("radius"),{x:v.x+Math.cos(t)*c,y:v.y+Math.sin(t)*c}},f.prototype.canProcessOverlap=function(t){var c=this.get("label");return t==="autoRotate"?(0,D.UM)(c.rotate):!0},f.prototype.processOverlap=function(t){var c=this,v=this.get("label"),y=this.get("title"),b=this.get("verticalLimitLength"),M=v.offset,A=b,B=0,H=0;y&&(B=y.style.fontSize,H=y.spacing),A&&(A=A-M-H-B);var W=this.get("overlapOrder");if((0,D.S6)(W,function(Q){v[Q]&&c.canProcessOverlap(Q)&&c.autoProcessOverlap(Q,v[Q],t,A)}),y&&(0,D.UM)(y.offset)){var Y=t.getCanvasBBox().height;y.offset=M+Y+H+B/2}},f.prototype.autoProcessOverlap=function(t,c,v,y){var b=this,M=!1,A=re[t];if(y>0)if(c===!0)M=A.getDefault()(!1,v,y);else if((0,D.mf)(c))M=c(!1,v,y);else if((0,D.Kn)(c)){var B=c;A[B.type]&&(M=A[B.type](!1,v,y,B.cfg))}else A[c]&&(M=A[c](!1,v,y));if(t==="autoRotate"){if(M){var H=v.getChildren(),W=this.get("verticalFactor");(0,D.S6)(H,function(Q){var te=Q.attr("textAlign");if(te==="center"){var he=W>0?"end":"start";Q.attr("textAlign",he)}})}}else if(t==="autoHide"){var Y=v.getChildren().slice(0);(0,D.S6)(Y,function(Q){Q.get("visible")||(b.get("isRegister")&&b.unregisterElement(Q),Q.remove())})}},f}(jh),Qn=zr,ta=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:ji.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:ji.textColor,textAlign:"center",textBaseline:"middle",fontFamily:ji.fontFamily}},textBackground:{padding:5,style:{stroke:ji.lineColor}}}})},f.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},f.prototype.renderText=function(t){var c=this.get("text"),v=c.style,y=c.autoRotate,b=c.content;if(!(0,D.UM)(b)){var M=this.getTextPoint(),A=null;if(y){var B=this.getRotateAngle();A=cs(M,B)}this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,U.pi)((0,U.pi)((0,U.pi)({},M),{text:b,matrix:A}),v)})}},f.prototype.renderLine=function(t){var c=this.getLinePath(),v=this.get("line"),y=v.style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,U.pi)({path:c},y)})},f.prototype.renderBackground=function(t){var c=this.getElementId("text"),v=t.findById(c),y=this.get("textBackground");if(y&&v){var b=v.getBBox(),M=Zu(y.padding),A=y.style,B=this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,U.pi)({x:b.x-M[3],y:b.y-M[0],width:b.width+M[1]+M[3],height:b.height+M[0]+M[2],matrix:v.attr("matrix")},A)});B.toBack()}},f}(Jl),Ma=ta,hs=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{type:"line",locationType:"region",start:null,end:null})},f.prototype.getRotateAngle=function(){var t=this.getLocation(),c=t.start,v=t.end,y=this.get("text").position,b=Math.atan2(v.y-c.y,v.x-c.x),M=y==="start"?b-Math.PI/2:b+Math.PI/2;return M},f.prototype.getTextPoint=function(){var t=this.getLocation(),c=t.start,v=t.end,y=this.get("text"),b=y.position,M=y.offset;return $d(c,v,b,M)},f.prototype.getLinePath=function(){var t=this.getLocation(),c=t.start,v=t.end;return[["M",c.x,c.y],["L",v.x,v.y]]},f}(Ma),zc=hs,Qf=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},f.prototype.getRotateAngle=function(){var t=this.getLocation(),c=t.startAngle,v=t.endAngle,y=this.get("text").position,b=y==="start"?c+Math.PI/2:v-Math.PI/2;return b},f.prototype.getTextPoint=function(){var t=this.get("text"),c=t.position,v=t.offset,y=this.getLocation(),b=y.center,M=y.radius,A=y.startAngle,B=y.endAngle,H=c==="start"?A:B,W=this.getRotateAngle()-Math.PI,Y=Uh(b,M,H),Q=Math.cos(W)*v,te=Math.sin(W)*v;return{x:Y.x+Q,y:Y.y+te}},f.prototype.getLinePath=function(){var t=this.getLocation(),c=t.center,v=t.radius,y=t.startAngle,b=t.endAngle,M=null;if(b-y===Math.PI*2){var A=c.x,B=c.y;M=[["M",A,B-v],["A",v,v,0,1,1,A,B+v],["A",v,v,0,1,1,A,B-v],["Z"]]}else{var H=Uh(c,v,y),W=Uh(c,v,b),Y=Math.abs(b-y)>Math.PI?1:0,Q=y>b?0:1;M=[["M",H.x,H.y],["A",v,v,0,Y,Q,W.x,W.y]]}return M},f}(Ma),pl=Qf,I0="g2-crosshair",pc=I0+"-line",jy=I0+"-text",R0,Jf=(R0={},R0[""+I0]={position:"relative"},R0[""+pc]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},R0[""+jy]={position:"absolute",color:ji.textColor,fontFamily:ji.fontFamily},R0),$o=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+I0+'"></div>',crosshairTpl:'<div class="'+pc+'"></div>',textTpl:'<span class="'+jy+'">{content}</span>',domStyles:null,containerClassName:I0,defaultStyles:Jf,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},f.prototype.render=function(){this.resetText(),this.resetPosition()},f.prototype.initCrossHair=function(){var t=this.getContainer(),c=this.get("crosshairTpl"),v=un(c);t.appendChild(v),this.applyStyle(pc,v),this.set("crosshairEl",v)},f.prototype.getTextPoint=function(){var t=this.getLocation(),c=t.start,v=t.end,y=this.get("text"),b=y.position,M=y.offset;return $d(c,v,b,M)},f.prototype.resetText=function(){var t=this.get("text"),c=this.get("textEl");if(t){var v=t.content;if(!c){var y=this.getContainer(),b=(0,D.ng)(this.get("textTpl"),t);c=un(b),y.appendChild(c),this.applyStyle(jy,c),this.set("textEl",c)}c.innerHTML=v}else c&&c.remove()},f.prototype.isVertical=function(t,c){return t.x===c.x},f.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var c=this.get("start"),v=this.get("end"),y=Math.min(c.x,v.x),b=Math.min(c.y,v.y);this.isVertical(c,v)?yn(t,{width:"1px",height:fs(Math.abs(v.y-c.y))}):yn(t,{height:"1px",width:fs(Math.abs(v.x-c.x))}),yn(t,{top:fs(b),left:fs(y)}),this.alignText()},f.prototype.alignText=function(){var t=this.get("textEl");if(t){var c=this.get("text").align,v=t.clientWidth,y=this.getTextPoint();switch(c){case"center":y.x=y.x-v/2;break;case"right":y.x=y.x-v;case"left":break}yn(t,{top:fs(y.y),left:fs(y.x)})}},f.prototype.updateInner=function(t){(0,D.wH)(t,"text")&&this.resetText(),h.prototype.updateInner.call(this,t)},f}(zy),Rs=$o,Z1=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:ji.lineColor}}}})},f.prototype.getLineType=function(){var t=this.get("line")||this.get("defaultCfg").line;return t.type},f.prototype.renderInner=function(t){this.drawGrid(t)},f.prototype.getAlternatePath=function(t,c){var v=this.getGridPath(t),y=c.slice(0).reverse(),b=this.getGridPath(y,!0),M=this.get("closed");return M?v=v.concat(b):(b[0][0]="L",v=v.concat(b),v.push(["Z"])),v},f.prototype.getPathStyle=function(){return this.get("line").style},f.prototype.drawGrid=function(t){var c=this,v=this.get("line"),y=this.get("items"),b=this.get("alternateColor"),M=null;(0,D.S6)(y,function(A,B){var H=A.id||B;if(v){var W=c.getPathStyle();W=(0,D.mf)(W)?W(A,B,y):W;var Y=c.getElementId("line-"+H),Q=c.getGridPath(A.points);c.addShape(t,{type:"path",name:"grid-line",id:Y,attrs:(0,D.CD)({path:Q},W)})}if(b&&B>0){var te=c.getElementId("region-"+H),he=B%2===0;if((0,D.HD)(b))he&&c.drawAlternateRegion(te,t,M.points,A.points,b);else{var Me=he?b[1]:b[0];c.drawAlternateRegion(te,t,M.points,A.points,Me)}}M=A})},f.prototype.drawAlternateRegion=function(t,c,v,y,b){var M=this.getAlternatePath(v,y);this.addShape(c,{type:"path",id:t,name:"grid-region",attrs:{path:M,fill:b}})},f}(Jl),Ex=Z1;function Di(h,f,t,c){var v=t-h,y=c-f;return Math.sqrt(v*v+y*y)}var wf=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{type:"circle",center:null,closed:!0})},f.prototype.getGridPath=function(t,c){var v=this.getLineType(),y=this.get("closed"),b=[];if(t.length)if(v==="circle"){var M=this.get("center"),A=t[0],B=Di(M.x,M.y,A.x,A.y),H=c?0:1;y?(b.push(["M",M.x,M.y-B]),b.push(["A",B,B,0,0,H,M.x,M.y+B]),b.push(["A",B,B,0,0,H,M.x,M.y-B]),b.push(["Z"])):(0,D.S6)(t,function(W,Y){Y===0?b.push(["M",W.x,W.y]):b.push(["A",B,B,0,0,H,W.x,W.y])})}else(0,D.S6)(t,function(W,Y){Y===0?b.push(["M",W.x,W.y]):b.push(["L",W.x,W.y])}),y&&b.push(["Z"]);return b},f}(Ex),q2=wf,Q2=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{type:"line"})},f.prototype.getGridPath=function(t){var c=[];return(0,D.S6)(t,function(v,y){y===0?c.push(["M",v.x,v.y]):c.push(["L",v.x,v.y])}),c},f}(Ex),K1=Q2,J2=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},f.prototype.getLayoutBBox=function(){var t=h.prototype.getLayoutBBox.call(this),c=this.get("maxWidth"),v=this.get("maxHeight"),y=t.width,b=t.height;return c&&(y=Math.min(y,c)),v&&(b=Math.min(b,v)),co(t.minX,t.minY,y,b)},f.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},f.prototype.resetLocation=function(){var t=this.get("x"),c=this.get("y"),v=this.get("offsetX"),y=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+v,y:c+y})},f.prototype.applyOffset=function(){this.resetLocation()},f.prototype.getDrawPoint=function(){return this.get("currentPoint")},f.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},f.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},f.prototype.drawBackground=function(t){var c=this.get("background"),v=t.getBBox(),y=Zu(c.padding),b=(0,U.pi)({x:0,y:0,width:v.width+y[1]+y[3],height:v.height+y[0]+y[2]},c.style),M=this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:b});M.toBack()},f.prototype.drawTitle=function(t){var c=this.get("currentPoint"),v=this.get("title"),y=v.spacing,b=v.style,M=v.text,A=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,U.pi)({text:M,x:c.x,y:c.y},b)}),B=A.getBBox();this.set("currentPoint",{x:c.x,y:B.maxY+y})},f.prototype.resetDraw=function(){var t=this.get("background"),c={x:0,y:0};if(t){var v=Zu(t.padding);c.x=v[3],c.y=v[0]}this.set("currentPoint",c)},f}(Jl),Vv=J2,Vh={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},Vy={fill:ji.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:ji.fontFamily,fontWeight:"normal",lineHeight:12},ug="navigation-arrow-right",Xd="navigation-arrow-left",xf={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},cg=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var c=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var v=t.getCurrentNavigationMatrix();t.get("animate")?c.animate({matrix:v},100):c.attr({matrix:v})}},t.onNavigationAfter=function(){var c=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var v=t.getCurrentNavigationMatrix();t.get("animate")?c.animate({matrix:v},100):c.attr({matrix:v})}},t}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:ji.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:ji.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:Vh,itemName:{spacing:16,style:Vy},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:Vy,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:ji.uncheckedColor},markerStyle:{fill:ji.uncheckedColor,stroke:ji.uncheckedColor}},inactive:{nameStyle:{fill:ji.uncheckedColor},markerStyle:{opacity:.2}}}}})},f.prototype.isList=function(){return!0},f.prototype.getItems=function(){return this.get("items")},f.prototype.setItems=function(t){this.update({items:t})},f.prototype.updateItem=function(t,c){(0,D.CD)(t,c),this.clear(),this.render()},f.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},f.prototype.setItemState=function(t,c,v){t[c]=v;var y=this.getElementByLocalId("item-"+t.id);if(y){var b=this.getItems(),M=b.indexOf(t),A=this.createOffScreenGroup(),B=this.drawItem(t,M,this.getItemHeight(),A);this.updateElements(B,y),this.clearUpdateStatus(y)}},f.prototype.hasState=function(t,c){return!!t[c]},f.prototype.getItemStates=function(t){var c=this.get("itemStates"),v=[];return(0,D.S6)(c,function(y,b){t[b]&&v.push(b)}),v},f.prototype.clearItemsState=function(t){var c=this,v=this.getItemsByState(t);(0,D.S6)(v,function(y){c.setItemState(y,t,!1)})},f.prototype.getItemsByState=function(t){var c=this,v=this.getItems();return(0,D.hX)(v,function(y){return c.hasState(y,t)})},f.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},f.prototype.processItems=function(){var t=this.get("items");(0,D.S6)(t,function(c){c.id||(c.id=c.name)})},f.prototype.drawItems=function(t){var c=this,v=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),y=this.addGroup(v,{id:this.getElementId("item-group"),name:"legend-item-group"}),b=this.getItemHeight(),M=this.get("itemWidth"),A=this.get("itemSpacing"),B=this.get("itemMarginBottom"),H=this.get("currentPoint"),W=H.x,Y=H.y,Q=this.get("layout"),te=this.get("items"),he=!1,Me=0,Fe=this.get("maxWidth"),Qe=this.get("maxHeight");(0,D.S6)(te,function(nt,pt){var Qt=c.drawItem(nt,pt,b,y),Sr=Qt.getBBox(),Mr=M||Sr.width;Mr>Me&&(Me=Mr),Q==="horizontal"?(Fe&&Fe<H.x+Mr-W&&(he=!0,H.x=W,H.y+=b+B),c.moveElementTo(Qt,H),H.x+=Mr+A):(Qe&&Qe<H.y+b+B-Y&&(he=!0,H.x+=Me+A,H.y=Y,Me=0),c.moveElementTo(Qt,H),H.y+=b+B)}),he&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=W,this.startY=Y,this.adjustNavigation(t,y))},f.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var c=(this.get("itemName")||{}).style;if((0,D.mf)(c)){var v=this.getItems();v.forEach(function(y,b){var M=(0,U.pi)((0,U.pi)({},Vy),c(y,b,v)).fontSize;t<M&&(t=M)})}else c&&(t=c.fontSize)}return t},f.prototype.drawMarker=function(t,c,v,y){var b=(0,U.pi)((0,U.pi)((0,U.pi)({x:0,y:y/2},c.style),{symbol:(0,D.U2)(v.marker,"symbol","circle")}),(0,D.U2)(v.marker,"style",{})),M=this.addShape(t,{type:"marker",id:this.getElementId("item-"+v.id+"-marker"),name:"legend-item-marker",attrs:b}),A=M.getBBox();M.attr("x",A.width/2);var B=M.attr(),H=B.stroke,W=B.fill;return H&&M.set("isStroke",!0),W&&M.set("isFill",!0),M},f.prototype.drawItemText=function(t,c,v,y,b,M,A){var B=v.formatter,H=v.style,W=(0,U.pi)((0,U.pi)({x:M,y:b/2,text:B?B(y[c],y,A):y[c]},Vy),(0,D.mf)(H)?H(y,A,this.getItems()):H);return this.addShape(t,{type:"text",id:this.getElementId("item-"+y.id+"-"+c),name:"legend-item-"+c,attrs:W})},f.prototype.drawRadio=function(t,c,v,y,b){var M,A,B=c.style||{},H=(M=B.r)!==null&&M!==void 0?M:y/2,W=H*3.6/8,Y=[b+H,y/2-H],Q=Y[0],te=Y[1],he=[Q+H,te+H],Me=he[0],Fe=he[1],Qe=[Q,Fe+H],nt=Qe[0],pt=Qe[1],Qt=[b,te+H],Sr=Qt[0],Mr=Qt[1],Or=v.showRadio,Xr=(0,U.pi)((0,U.pi)({path:[["M",Q,te],["A",H,H,0,0,1,Me,Fe],["L",Me-W,Fe],["L",Me,Fe],["A",H,H,0,0,1,nt,pt],["L",nt,pt-W],["L",nt,pt],["A",H,H,0,0,1,Sr,Mr],["L",Sr+W,Mr],["L",Sr,Mr],["A",H,H,0,0,1,Q,te],["L",Q,te+W]],stroke:"#000000",fill:"#ffffff"},B),{opacity:Or?(A=B==null?void 0:B.opacity)!==null&&A!==void 0?A:.45:0}),tn=this.addShape(t,{type:"path",id:this.getElementId("item-"+v.id+"-radio"),name:"legend-item-radio",attrs:Xr});return tn.set("tip",c.tip),tn},f.prototype.drawItem=function(t,c,v,y){var b="item-"+t.id,M=this.addGroup(y,{name:"legend-item-container",id:this.getElementId("item-container-"+b),delegateObject:{item:t,index:c}}),A=this.addGroup(M,{name:"legend-item",id:this.getElementId(b),delegateObject:{item:t,index:c}}),B=this.get("marker"),H=this.get("itemName"),W=this.get("itemValue"),Y=this.get("itemBackground"),Q=this.get("radio"),te=this.getLimitItemWidth(),he=0;if(B){var Me=this.drawMarker(A,B,t,v),Fe=B.spacing,Qe=(0,D.U2)(t,["marker","spacing"]);(0,D.hj)(Qe)&&(Fe=Qe),he=Me.getBBox().maxX+Fe}if(H){var nt=this.drawItemText(A,"name",H,t,v,he,c);te&&dc(!0,nt,(0,D.uZ)(te-he,0,te)),he=nt.getBBox().maxX+H.spacing}if(W){var pt=this.drawItemText(A,"value",W,t,v,he,c);te&&(W.alignRight?(pt.attr({textAlign:"right",x:te}),dc(!0,pt,(0,D.uZ)(te-he,0,te),"head")):dc(!0,pt,(0,D.uZ)(te-he,0,te))),he=pt.getBBox().maxX+W.spacing}if(Q&&this.drawRadio(A,Q,t,v,he),Y){var Qt=A.getBBox(),Sr=this.addShape(A,{type:"rect",name:"legend-item-background",id:this.getElementId(b+"-background"),attrs:(0,U.pi)({x:0,y:0,width:Qt.width,height:v},Y.style)});Sr.toBack()}return this.applyItemStates(t,A),A},f.prototype.adjustNavigation=function(t,c){var v=this,y=this.startX,b=this.startY,M=this.get("layout"),A=c.findAll(function(ri){return ri.get("name")==="legend-item"}),B=this.get("maxWidth"),H=this.get("maxHeight"),W=this.get("itemWidth"),Y=this.get("itemSpacing"),Q=this.getItemHeight(),te=(0,D.b$)({},Vh,this.get("pageNavigator")),he=this.drawNavigation(t,M,"00/00",te),Me=he.getBBox(),Fe={x:y,y:b},Qe=1,nt=0,pt=0,Qt=0,Sr=this.get("itemMarginBottom");function Mr(ri,Yi){var xa=ri.getBBox(),vo=W||xa.width,_u=Yi.x+vo+Y+Me.width;return _u>B}if(M==="horizontal"){var Or=this.get("maxRow")||1,Xr=Q+(Or===1?0:Sr),tn=B-Y-Me.width-Me.minX;this.pageHeight=Xr*Or,this.pageWidth=tn,(0,D.S6)(A,function(ri){var Yi=ri.getBBox(),xa=W||Yi.width;(nt&&nt<Fe.x+xa+Y||Mr(ri,Fe))&&(Qe===1&&(nt=Fe.x+Y,v.moveElementTo(he,{x:tn,y:Fe.y+Q/2-Me.height/2-Me.minY})),Qe+=1,Fe.x=y,Fe.y+=Xr),v.moveElementTo(ri,Fe),ri.getParent().setClip({type:"rect",attrs:{x:Fe.x,y:Fe.y,width:xa+Y,height:Q}}),Fe.x+=xa+Y})}else{(0,D.S6)(A,function(ri){var Yi=ri.getBBox();Yi.width>pt&&(pt=Yi.width)}),Qt=pt,pt+=Y,B&&(pt=Math.min(B,pt),Qt=Math.min(B,Qt)),this.pageWidth=pt,this.pageHeight=H-Math.max(Me.height,Q+Sr);var ti=Math.floor(this.pageHeight/(Q+Sr));(0,D.S6)(A,function(ri,Yi){Yi!==0&&Yi%ti===0&&(Qe+=1,Fe.x+=pt,Fe.y=b),v.moveElementTo(ri,Fe),ri.getParent().setClip({type:"rect",attrs:{x:Fe.x,y:Fe.y,width:pt,height:Q}}),Fe.y+=Q+Sr}),this.totalPagesCnt=Qe,this.moveElementTo(he,{x:y+Qt/2-Me.width/2-Me.minX,y:H-Me.height-Me.minY})}this.pageHeight&&this.pageWidth&&c.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),M==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(Qe/this.get("maxRow")):this.totalPagesCnt=Qe,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(he),c.attr("matrix",this.getCurrentNavigationMatrix())},f.prototype.drawNavigation=function(t,c,v,y){var b={x:0,y:0},M=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),A=(0,D.U2)(y.marker,"style",{}),B=A.size,H=B===void 0?12:B,W=(0,U._T)(A,["size"]),Y=this.drawArrow(M,b,Xd,c==="horizontal"?"up":"left",H,W);Y.on("click",this.onNavigationBack);var Q=Y.getBBox();b.x+=Q.width+2;var te=this.addShape(M,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,U.pi)({x:b.x,y:b.y+H/2,text:v,textBaseline:"middle"},(0,D.U2)(y.text,"style"))}),he=te.getBBox();b.x+=he.width+2;var Me=this.drawArrow(M,b,ug,c==="horizontal"?"down":"right",H,W);return Me.on("click",this.onNavigationAfter),M},f.prototype.updateNavigation=function(t){var c=(0,D.b$)({},Vh,this.get("pageNavigator")),v=c.marker.style,y=v.fill,b=v.opacity,M=v.inactiveFill,A=v.inactiveOpacity,B=this.currentPageIndex+"/"+this.totalPagesCnt,H=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),W=t?t.findById(this.getElementId(Xd)):this.getElementByLocalId(Xd),Y=t?t.findById(this.getElementId(ug)):this.getElementByLocalId(ug);H.attr("text",B),W.attr("opacity",this.currentPageIndex===1?A:b),W.attr("fill",this.currentPageIndex===1?M:y),W.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),Y.attr("opacity",this.currentPageIndex===this.totalPagesCnt?A:b),Y.attr("fill",this.currentPageIndex===this.totalPagesCnt?M:y),Y.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var Q=W.getBBox().maxX+2;H.attr("x",Q),Q+=H.getBBox().width+2,this.updateArrowPath(Y,{x:Q,y:0})},f.prototype.drawArrow=function(t,c,v,y,b,M){var A=c.x,B=c.y,H=this.addShape(t,{type:"path",id:this.getElementId(v),name:v,attrs:(0,U.pi)({size:b,direction:y,path:[["M",A+b/2,B],["L",A,B+b],["L",A+b,B+b],["Z"]],cursor:"pointer"},M)});return H.attr("matrix",cs({x:A+b/2,y:B+b/2},xf[y])),H},f.prototype.updateArrowPath=function(t,c){var v=c.x,y=c.y,b=t.attr(),M=b.size,A=b.direction,B=cs({x:v+M/2,y:y+M/2},xf[A]);t.attr("path",[["M",v+M/2,y],["L",v,y+M],["L",v+M,y+M],["Z"]]),t.attr("matrix",B)},f.prototype.getCurrentNavigationMatrix=function(){var t=this,c=t.currentPageIndex,v=t.pageWidth,y=t.pageHeight,b=this.get("layout"),M=b==="horizontal"?{x:0,y:y*(1-c)}:{x:v*(1-c),y:0};return hc(M)},f.prototype.applyItemStates=function(t,c){var v=this.getItemStates(t),y=v.length>0;if(y){var b=c.getChildren(),M=this.get("itemStates");(0,D.S6)(b,function(A){var B=A.get("name"),H=B.split("-")[2],W=Ku(t,H,M);W&&(A.attr(W),H==="marker"&&!(A.get("isStroke")&&A.get("isFill"))&&(A.get("isStroke")&&A.attr("fill",null),A.get("isFill")&&A.attr("stroke",null)))})}},f.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),c=this.get("maxItemWidth");return c?t&&(c=t<=c?t:c):t&&(c=t),c},f}(Vv),e_=cg,q1=1.4,Mx=.4,t_=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:ji.textColor,textBaseline:"middle",fontFamily:ji.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:ji.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},f.prototype.isSlider=function(){return!0},f.prototype.getValue=function(){return this.getCurrentValue()},f.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},f.prototype.setRange=function(t,c){this.update({min:t,max:c})},f.prototype.setValue=function(t){var c=this.getValue();this.set("value",t);var v=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(v),this.delegateEmit("valuechanged",{originValue:c,value:t})},f.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},f.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},f.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},f.prototype.bindHandlersEvent=function(t){var c=this;t.on("legend-handler-min:drag",function(v){var y=c.getValueByCanvasPoint(v.x,v.y),b=c.getCurrentValue(),M=b[1];M<y&&(M=y),c.setValue([y,M])}),t.on("legend-handler-max:drag",function(v){var y=c.getValueByCanvasPoint(v.x,v.y),b=c.getCurrentValue(),M=b[0];M>y&&(M=y),c.setValue([M,y])})},f.prototype.bindRailEvent=function(t){},f.prototype.bindTrackEvent=function(t){var c=this,v=null;t.on("legend-track:dragstart",function(y){v={x:y.x,y:y.y}}),t.on("legend-track:drag",function(y){if(v){var b=c.getValueByCanvasPoint(v.x,v.y),M=c.getValueByCanvasPoint(y.x,y.y),A=c.getCurrentValue(),B=A[1]-A[0],H=c.getRange(),W=M-b;W<0?A[0]+W>H.min?c.setValue([A[0]+W,A[1]+W]):c.setValue([H.min,H.min+B]):W>0&&(W>0&&A[1]+W<H.max?c.setValue([A[0]+W,A[1]+W]):c.setValue([H.max-B,H.max])),v={x:y.x,y:y.y}}}),t.on("legend-track:dragend",function(y){v=null})},f.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},f.prototype.drawLabel=function(t,c){var v=this.get("label"),y=v.style,b=v.align,M=v.formatter,A=this.get(t),B=this.getLabelAlignAttrs(t,b),H="label-"+t;this.addShape(c,{type:"text",id:this.getElementId(H),name:"legend-label-"+t,attrs:(0,U.pi)((0,U.pi)({x:0,y:0,text:(0,D.mf)(M)?M(A):A},y),B)})},f.prototype.getLabelAlignAttrs=function(t,c){var v=this.isVertical(),y="center",b="middle";return v?(y="start",c!=="rail"?t==="min"?b="top":b="bottom":b="top"):c!=="rail"?(b="top",t==="min"?y="start":y="end"):(y="start",b="middle"),{textAlign:y,textBaseline:b}},f.prototype.getRailPath=function(t,c,v,y){var b=this.get("rail"),M=b.size,A=b.defaultLength,B=b.type,H=this.isVertical(),W=A,Y=v,Q=y;Y||(Y=H?M:W),Q||(Q=H?W:M);var te=[];return B==="color"?(te.push(["M",t,c]),te.push(["L",t+Y,c]),te.push(["L",t+Y,c+Q]),te.push(["L",t,c+Q]),te.push(["Z"])):(te.push(["M",t+Y,c]),te.push(["L",t+Y,c+Q]),te.push(["L",t,c+Q]),te.push(["Z"])),te},f.prototype.drawRail=function(t){var c=this.get("rail"),v=c.style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,U.pi)({path:this.getRailPath(0,0)},v)})},f.prototype.getTrackColor=function(t){var c=t.length;if(!c)return null;if(c===1)return t[0];var v;this.isVertical()?v="l(90)":v="l(0)";for(var y=0;y<c;y++){var b=y/(c-1);v+=" "+b+":"+t[y]}return v},f.prototype.getTrackPath=function(t){var c=this.getRailShape(t),v=c.attr("path");return(0,D.d9)(v)},f.prototype.getClipTrackAttrs=function(t){var c=this.getCurrentValue(),v=c[0],y=c[1],b=this.getRailBBox(t),M=this.getPointByValue(v,t),A=this.getPointByValue(y,t),B=this.isVertical(),H,W,Y,Q;return B?(H=b.minX,W=M.y,Y=b.width,Q=A.y-M.y):(H=M.x,W=b.minY,Y=A.x-M.x,Q=b.height),{x:H,y:W,width:Y,height:Q}},f.prototype.getTrackAttrs=function(t){var c=this.get("track"),v=this.get("colors"),y=this.getTrackPath(t);return(0,D.CD)({path:y,fill:this.getTrackColor(v)},c.style)},f.prototype.resetTrackClip=function(t){var c=t||this.get("group"),v=this.getElementId("track"),y=c.findById(v),b=y.getClip(),M=this.getClipTrackAttrs(t);b?b.attr(M):y.setClip({type:"rect",attrs:M})},f.prototype.resetTrack=function(t){var c=this.getElementId("track"),v=t.findById(c),y=this.getTrackAttrs(t);v?v.attr(y):this.addShape(t,{type:"path",id:c,draggable:this.get("slidable"),name:"legend-track",attrs:y})},f.prototype.getPointByValue=function(t,c){var v=this.getRange(),y=v.min,b=v.max,M=(t-y)/(b-y),A=this.getRailBBox(c),B=this.isVertical(),H={x:0,y:0};return B?(H.x=A.minX+A.width/2,H.y=Xs(A.minY,A.maxY,M)):(H.x=Xs(A.minX,A.maxX,M),H.y=A.minY+A.height/2),H},f.prototype.getRailShape=function(t){var c=t||this.get("group");return c.findById(this.getElementId("rail"))},f.prototype.getRailBBox=function(t){var c=this.getRailShape(t),v=c.getBBox();return v},f.prototype.getRailCanvasBBox=function(){var t=this.get("group"),c=t.findById(this.getElementId("rail")),v=c.getCanvasBBox();return v},f.prototype.isVertical=function(){return this.get("layout")==="vertical"},f.prototype.getValueByCanvasPoint=function(t,c){var v=this.getRange(),y=v.min,b=v.max,M=this.getRailCanvasBBox(),A=this.isVertical(),B=this.get("step"),H;A?H=(c-M.minY)/M.height:H=(t-M.minX)/M.width;var W=Xs(y,b,H);if(B){var Y=Math.round((W-y)/B);W=y+Y*B}return W>b&&(W=b),W<y&&(W=y),W},f.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var c=this.get("values");return c?[Math.max(Math.min.apply(Math,(0,U.pr)(c,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,U.pr)(c,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},f.prototype.resetHandlers=function(t){var c=this.getCurrentValue(),v=c[0],y=c[1];this.resetHandler(t,"min",v),this.resetHandler(t,"max",y)},f.prototype.getHandlerPath=function(t,c){var v=this.isVertical(),y=[],b=t.size,M=c.x,A=c.y,B=b*q1,H=b/2,W=b/6;if(v){var Y=M+B*Mx;y.push(["M",M,A]),y.push(["L",Y,A+H]),y.push(["L",M+B,A+H]),y.push(["L",M+B,A-H]),y.push(["L",Y,A-H]),y.push(["Z"]),y.push(["M",Y,A+W]),y.push(["L",M+B-2,A+W]),y.push(["M",Y,A-W]),y.push(["L",M+B-2,A-W])}else{var Q=A+B*Mx;y.push(["M",M,A]),y.push(["L",M-H,Q]),y.push(["L",M-H,A+B]),y.push(["L",M+H,A+B]),y.push(["L",M+H,Q]),y.push(["Z"]),y.push(["M",M-W,Q]),y.push(["L",M-W,A+B-2]),y.push(["M",M+W,Q]),y.push(["L",M+W,A+B-2])}return y},f.prototype.resetHandler=function(t,c,v){var y=this.getPointByValue(v,t),b=this.get("handler"),M=this.getHandlerPath(b,y),A=this.getElementId("handler-"+c),B=t.findById(A),H=this.isVertical();B?B.attr("path",M):this.addShape(t,{type:"path",name:"legend-handler-"+c,draggable:!0,id:A,attrs:(0,U.pi)((0,U.pi)({path:M},b.style),{cursor:H?"ns-resize":"ew-resize"})})},f.prototype.fixedElements=function(t){var c=t.findById(this.getElementId("rail")),v=t.findById(this.getElementId("label-min")),y=t.findById(this.getElementId("label-max")),b=this.getDrawPoint();this.isVertical()?this.fixedVertail(v,y,c,b):this.fixedHorizontal(v,y,c,b)},f.prototype.fitRailLength=function(t,c,v,y){var b=this.isVertical(),M=b?"height":"width",A=this.get("label"),B=A.align,H=A.spacing,W=this.get("max"+(0,D.jC)(M));if(W){var Y=B==="rail"?v[M]+t[M]+c[M]+H*2:v[M],Q=Y-W;Q>0&&this.changeRailLength(y,M,v[M]-Q)}},f.prototype.changeRailLength=function(t,c,v){var y=t.getBBox(),b;c==="height"?b=this.getRailPath(y.x,y.y,y.width,v):b=this.getRailPath(y.x,y.y,v,y.height),t.attr("path",b)},f.prototype.changeRailPosition=function(t,c,v){var y=t.getBBox(),b=this.getRailPath(c,v,y.width,y.height);t.attr("path",b)},f.prototype.fixedHorizontal=function(t,c,v,y){var b=this.get("label"),M=b.align,A=b.spacing,B=v.getBBox(),H=t.getBBox(),W=c.getBBox(),Y=B.height;this.fitRailLength(H,W,B,v),B=v.getBBox(),M==="rail"?(t.attr({x:y.x,y:y.y+Y/2}),this.changeRailPosition(v,y.x+H.width+A,y.y),c.attr({x:y.x+H.width+B.width+A*2,y:y.y+Y/2})):M==="top"?(t.attr({x:y.x,y:y.y}),c.attr({x:y.x+B.width,y:y.y}),this.changeRailPosition(v,y.x,y.y+H.height+A)):(this.changeRailPosition(v,y.x,y.y),t.attr({x:y.x,y:y.y+B.height+A}),c.attr({x:y.x+B.width,y:y.y+B.height+A}))},f.prototype.fixedVertail=function(t,c,v,y){var b=this.get("label"),M=b.align,A=b.spacing,B=v.getBBox(),H=t.getBBox(),W=c.getBBox();if(this.fitRailLength(H,W,B,v),B=v.getBBox(),M==="rail")t.attr({x:y.x,y:y.y}),this.changeRailPosition(v,y.x,y.y+H.height+A),c.attr({x:y.x,y:y.y+H.height+B.height+A*2});else if(M==="right")t.attr({x:y.x+B.width+A,y:y.y}),this.changeRailPosition(v,y.x,y.y),c.attr({x:y.x+B.width+A,y:y.y+B.height});else{var Y=Math.max(H.width,W.width);t.attr({x:y.x,y:y.y}),this.changeRailPosition(v,y.x+Y+A,y.y),c.attr({x:y.x,y:y.y+B.height})}},f}(Vv),D0=t_,Wc="g2-tooltip",Xh="g2-tooltip-title",Xv="g2-tooltip-list",fg="g2-tooltip-list-item",Q1="g2-tooltip-marker",Xy="g2-tooltip-value",Tx="g2-tooltip-name",Ox="g2-tooltip-crosshair-x",Ax="g2-tooltip-crosshair-y",Gc,r_=(Gc={},Gc[""+Wc]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:ji.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Gc[""+Xh]={marginBottom:"4px"},Gc[""+Xv]={margin:"0px",listStyleType:"none",padding:"0px"},Gc[""+fg]={listStyleType:"none",marginBottom:"4px"},Gc[""+Q1]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Gc[""+Xy]={display:"inline-block",float:"right",marginLeft:"30px"},Gc[""+Ox]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Gc[""+Ax]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Gc);function J1(h,f,t,c,v){var y={left:h<v.x,right:h+t>v.x+v.width,top:f<v.y,bottom:f+c>v.y+v.height};return y}function n_(h,f,t,c,v,y){var b=h,M=f;switch(y){case"left":b=h-c-t,M=f-v/2;break;case"right":b=h+t,M=f-v/2;break;case"top":b=h-c/2,M=f-v-t;break;case"bottom":b=h-c/2,M=f+t;break;default:b=h+t,M=f-v-t;break}return{x:b,y:M}}function i_(h,f,t,c,v,y,b){var M=n_(h,f,t,c,v,y);if(b){var A=J1(M.x,M.y,c,v,b);y==="auto"?(A.right&&(M.x=Math.max(0,h-c-t)),A.top&&(M.y=Math.max(0,f-v-t))):y==="top"||y==="bottom"?(A.left&&(M.x=b.x),A.right&&(M.x=b.x+b.width-c),y==="top"&&A.top&&(M.y=f+t),y==="bottom"&&A.bottom&&(M.y=f-v-t)):(A.top&&(M.y=b.y),A.bottom&&(M.y=b.y+b.height-v),y==="left"&&A.left&&(M.x=h+t),y==="right"&&A.right&&(M.x=h-c-t))}return M}function Zy(h,f){var t=!1;return(0,D.S6)(f,function(c){if((0,D.wH)(h,c))return t=!0,!1}),t}var a_=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Wc+'"><div class="'+Xh+'"></div><ul class="'+Xv+'"></ul></div>',itemTpl:'<li class="'+fg+`" data-index={index}>
          <span class="`+Q1+`" style="background:{color}"></span>
          <span class="`+Tx+`">{name}</span>:
          <span class="`+Xy+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Ox+'"></div>',yCrosshairTpl:'<div class="'+Ax+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Wc,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:r_})},f.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},f.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},f.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),yn(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},f.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),yn(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},f.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},f.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},f.prototype.setCrossHairsVisible=function(t){var c=t?"":"none",v=this.get("xCrosshairDom"),y=this.get("yCrosshairDom");v&&yn(v,{display:c}),y&&yn(y,{display:c})},f.prototype.initContainer=function(){if(h.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},f.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(Zy(t,["title","showTitle"])&&this.resetTitle(),(0,D.wH)(t,"items")&&this.renderItems()),h.prototype.updateInner.call(this,t)},f.prototype.initDom=function(){this.cacheDoms()},f.prototype.removeDom=function(){h.prototype.removeDom.call(this),this.clearCrosshairs()},f.prototype.resetPosition=function(){var t=this.get("x"),c=this.get("y"),v=this.get("offset"),y=this.getOffset(),b=y.offsetX,M=y.offsetY,A=this.get("position"),B=this.get("region"),H=this.getContainer(),W=this.getBBox(),Y=W.width,Q=W.height,te;B&&(te=Zf(B));var he=i_(t,c,v,Y,Q,A,te);yn(H,{left:fs(he.x+b),top:fs(he.y+M)}),this.resetCrosshairs()},f.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),c=this.get("parent"),v=this.get("container");v&&v.parentNode===c?c.replaceChild(t,v):c.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},f.prototype.getHtmlContentNode=function(){var t,c=this.get("customContent");if(c){var v=c(this.get("title"),this.get("items"));(0,D.kK)(v)?t=v:t=un(v)}return t},f.prototype.cacheDoms=function(){var t=this.getContainer(),c=t.getElementsByClassName(Xh)[0],v=t.getElementsByClassName(Xv)[0];this.set("titleDom",c),this.set("listDom",v)},f.prototype.resetTitle=function(){var t=this.get("title"),c=this.get("showTitle");c&&t?this.setTitle(t):this.setTitle("")},f.prototype.setTitle=function(t){var c=this.get("titleDom");c&&(c.innerText=t)},f.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),c=this.get("crosshairs");if(!t||!c)this.clearCrosshairs();else{var v=Zf(t),y=this.get("xCrosshairDom"),b=this.get("yCrosshairDom");c==="x"?(this.resetCrosshair("x",v),b&&(b.remove(),this.set("yCrosshairDom",null))):c==="y"?(this.resetCrosshair("y",v),y&&(y.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",v),this.resetCrosshair("y",v)),this.setCrossHairsVisible(this.get("visible"))}},f.prototype.resetCrosshair=function(t,c){var v=this.checkCrosshair(t),y=this.get(t);t==="x"?yn(v,{left:fs(y),top:fs(c.y),height:fs(c.height)}):yn(v,{top:fs(y),left:fs(c.x),width:fs(c.width)})},f.prototype.checkCrosshair=function(t){var c=t+"CrosshairDom",v=t+"CrosshairTpl",y="CROSSHAIR_"+t.toUpperCase(),b=Ft[y],M=this.get(c),A=this.get("parent");return M||(M=un(this.get(v)),this.applyStyle(b,M),A.appendChild(M),this.set(c,M)),M},f.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),c=this.get("itemTpl"),v=this.get("listDom");v&&((0,D.S6)(t,function(y){var b=oa.Z.toCSSGradient(y.color),M=(0,U.pi)((0,U.pi)({},y),{color:b}),A=(0,D.ng)(c,M),B=un(A);v.appendChild(B)}),this.applyChildrenStyles(v,this.get("domStyles")))},f.prototype.clearItemDoms=function(){this.get("listDom")&&Jp(this.get("listDom"))},f.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),c=this.get("yCrosshairDom");t&&t.remove(),c&&c.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},f}(zy),L0=a_,Ix={opacity:0},hg={stroke:"#C5C5C5",strokeOpacity:.85},Ky={fill:"#CACED4",opacity:.85},ll=tt(84656);function Ar(h){return(0,D.UI)(h,function(f,t){var c=t===0?"M":"L",v=f[0],y=f[1];return[c,v,y]})}function cu(h){return Ar(h)}function ra(h){if(h.length<=2)return cu(h);var f=[];(0,D.S6)(h,function(b){(0,D.Xy)(b,f.slice(f.length-2))||f.push(b[0],b[1])});var t=(0,ll.e9)(f,!1),c=(0,D.YM)(h),v=c[0],y=c[1];return t.unshift(["M",v,y]),t}function P0(h,f,t,c){c===void 0&&(c=!0);var v=new os({values:h}),y=new ea({values:(0,D.UI)(h,function(M,A){return A})}),b=(0,D.UI)(h,function(M,A){return[y.scale(A)*f,t-v.scale(M)*t]});return c?ra(b):cu(b)}function B0(h,f){var t=new os({values:h}),c=t.max<0?t.max:Math.max(0,t.min);return f-t.scale(c)*f}function Zh(h,f,t,c){var v=(0,U.pr)(h),y=B0(c,t);return v.push(["L",f,y]),v.push(["L",0,y]),v.push(["Z"]),v}var Zv=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Ix,lineStyle:hg,areaStyle:Ky})},f.prototype.renderInner=function(t){var c=this.cfg,v=c.width,y=c.height,b=c.data,M=c.smooth,A=c.isArea,B=c.backgroundStyle,H=c.lineStyle,W=c.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,U.pi)({x:0,y:0,width:v,height:y},B)});var Y=P0(b,v,y,M);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:(0,U.pi)({path:Y},H)}),A){var Q=Zh(Y,v,y,b);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:(0,U.pi)({path:Q},W)})}},f.prototype.applyOffset=function(){var t=this.cfg,c=t.x,v=t.y;this.moveElementTo(this.get("group"),{x:c,y:v})},f}(Jl),Zd=null,eb={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},qy=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"handler",x:0,y:0,width:10,height:24,style:eb})},f.prototype.renderInner=function(t){var c=this.cfg,v=c.width,y=c.height,b=c.style,M=b.fill,A=b.stroke,B=b.radius,H=b.opacity,W=b.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:v,height:y,fill:M,stroke:A,radius:B,opacity:H,cursor:W}});var Y=1/3*v,Q=2/3*v,te=1/4*y,he=3/4*y;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:Y,y1:te,x2:Y,y2:he,stroke:A,cursor:W}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:Q,y1:te,x2:Q,y2:he,stroke:A,cursor:W}})},f.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},f.prototype.initEvent=function(){this.bindEvents()},f.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var c=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",c),t.draw()}),this.get("group").on("mouseleave",function(){var c=t.get("style").fill;t.getElementByLocalId("background").attr("fill",c),t.draw()})},f.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},f}(Jl),tb=null,Rx={fill:"#416180",opacity:.05},Kd={fill:"#5B8FF9",opacity:.15,cursor:"move"},dg=10,Dx={width:dg,height:24},Lx={textBaseline:"middle",fill:"#000",opacity:.45},Px="sliderchange",rb=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.onMouseDown=function(c){return function(v){t.currentTarget=c;var y=v.originalEvent;y.stopPropagation(),y.preventDefault(),t.prevX=(0,D.U2)(y,"touches.0.pageX",y.pageX),t.prevY=(0,D.U2)(y,"touches.0.pageY",y.pageY);var b=t.getContainerDOM();b.addEventListener("mousemove",t.onMouseMove),b.addEventListener("mouseup",t.onMouseUp),b.addEventListener("mouseleave",t.onMouseUp),b.addEventListener("touchmove",t.onMouseMove),b.addEventListener("touchend",t.onMouseUp),b.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(c){var v=t.cfg.width,y=[t.get("start"),t.get("end")];c.stopPropagation(),c.preventDefault();var b=(0,D.U2)(c,"touches.0.pageX",c.pageX),M=(0,D.U2)(c,"touches.0.pageY",c.pageY),A=b-t.prevX,B=t.adjustOffsetRange(A/v);t.updateStartEnd(B),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=b,t.prevY=M,t.draw(),t.emit(Px,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:y,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var c=t.getContainerDOM();c&&(c.removeEventListener("mousemove",t.onMouseMove),c.removeEventListener("mouseup",t.onMouseUp),c.removeEventListener("mouseleave",t.onMouseUp),c.removeEventListener("touchmove",t.onMouseMove),c.removeEventListener("touchend",t.onMouseUp),c.removeEventListener("touchcancel",t.onMouseUp))},t}return f.prototype.setRange=function(t,c){this.set("minLimit",t),this.set("maxLimit",c);var v=this.get("start"),y=this.get("end"),b=(0,D.uZ)(v,t,c),M=(0,D.uZ)(y,t,c);!this.get("isInit")&&(v!==b||y!==M)&&this.setValue([b,M])},f.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},f.prototype.setValue=function(t){var c=this.getRange();if((0,D.kJ)(t)&&t.length===2){var v=[this.get("start"),this.get("end")];this.update({start:(0,D.uZ)(t[0],c.min,c.max),end:(0,D.uZ)(t[1],c.min,c.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:v,value:t})}},f.prototype.getValue=function(){return[this.get("start"),this.get("end")]},f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Rx,foregroundStyle:Kd,handlerStyle:Dx,textStyle:Lx}})},f.prototype.update=function(t){var c=t.start,v=t.end,y=(0,U.pi)({},t);(0,D.UM)(c)||(y.start=(0,D.uZ)(c,0,1)),(0,D.UM)(v)||(y.end=(0,D.uZ)(v,0,1)),h.prototype.update.call(this,y),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},f.prototype.init=function(){this.set("start",(0,D.uZ)(this.get("start"),0,1)),this.set("end",(0,D.uZ)(this.get("end"),0,1)),h.prototype.init.call(this)},f.prototype.render=function(){h.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},f.prototype.renderInner=function(t){var c=this.cfg,v=c.start,y=c.end,b=c.width,M=c.height,A=c.trendCfg,B=A===void 0?{}:A,H=c.minText,W=c.maxText,Y=c.backgroundStyle,Q=Y===void 0?{}:Y,te=c.foregroundStyle,he=te===void 0?{}:te,Me=c.textStyle,Fe=Me===void 0?{}:Me,Qe=(0,D.b$)({},eb,this.cfg.handlerStyle),nt=v*b,pt=y*b;(0,D.dp)((0,D.U2)(B,"data"))&&(this.trend=this.addComponent(t,(0,U.pi)({component:Zv,id:this.getElementId("trend"),x:0,y:0,width:b,height:M},B))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,U.pi)({x:0,y:0,width:b,height:M},Q)});var Qt=this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:(0,U.pi)({y:M/2,textAlign:"right",text:H,silent:!1},Fe)}),Sr=this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:(0,U.pi)({y:M/2,textAlign:"left",text:W,silent:!1},Fe)}),Mr=this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,U.pi)({y:0,height:M},he)}),Or=(0,D.U2)(Qe,"width",dg),Xr=(0,D.U2)(Qe,"height",24);this.minHandler=this.addComponent(t,{component:qy,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(M-Xr)/2,width:Or,height:Xr,cursor:"ew-resize",style:Qe}),this.maxHandler=this.addComponent(t,{component:qy,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(M-Xr)/2,width:Or,height:Xr,cursor:"ew-resize",style:Qe})},f.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},f.prototype.initEvent=function(){this.bindEvents()},f.prototype.updateUI=function(t,c,v){var y=this.cfg,b=y.start,M=y.end,A=y.width,B=y.minText,H=y.maxText,W=y.handlerStyle,Y=y.height,Q=b*A,te=M*A;this.trend&&(this.trend.update({width:A,height:Y}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",Q),t.attr("width",te-Q);var he=(0,D.U2)(W,"width",dg);c.attr("text",B),v.attr("text",H);var Me=this._dodgeText([Q,te],c,v),Fe=Me[0],Qe=Me[1];this.minHandler&&(this.minHandler.update({x:Q-he/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,D.S6)(Fe,function(nt,pt){return c.attr(pt,nt)}),this.maxHandler&&(this.maxHandler.update({x:te-he/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,D.S6)(Qe,function(nt,pt){return v.attr(pt,nt)})},f.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var c=t.findById(this.getElementId("foreground"));c.on("mousedown",this.onMouseDown("foreground")),c.on("touchstart",this.onMouseDown("foreground"))},f.prototype.adjustOffsetRange=function(t){var c=this.cfg,v=c.start,y=c.end;switch(this.currentTarget){case"minHandler":{var b=0-v,M=1-v;return Math.min(M,Math.max(b,t))}case"maxHandler":{var b=0-y,M=1-y;return Math.min(M,Math.max(b,t))}case"foreground":{var b=0-v,M=1-y;return Math.min(M,Math.max(b,t))}}},f.prototype.updateStartEnd=function(t){var c=this.cfg,v=c.start,y=c.end;switch(this.currentTarget){case"minHandler":v+=t;break;case"maxHandler":y+=t;break;case"foreground":v+=t,y+=t;break}this.set("start",v),this.set("end",y)},f.prototype._dodgeText=function(t,c,v){var y,b,M=this.cfg,A=M.handlerStyle,B=M.width,H=2,W=(0,D.U2)(A,"width",dg),Y=t[0],Q=t[1],te=!1;Y>Q&&(y=[Q,Y],Y=y[0],Q=y[1],b=[v,c],c=b[0],v=b[1],te=!0);var he=c.getBBox(),Me=v.getBBox(),Fe=he.width>Y-H?{x:Y+W/2+H,textAlign:"left"}:{x:Y-W/2-H,textAlign:"right"},Qe=Me.width>B-Q-H?{x:Q-W/2-H,textAlign:"right"}:{x:Q+W/2+H,textAlign:"left"};return te?[Qe,Fe]:[Fe,Qe]},f.prototype.draw=function(){var t=this.get("container"),c=t&&t.get("canvas");c&&c.draw()},f.prototype.getContainerDOM=function(){var t=this.get("container"),c=t&&t.get("canvas");return c&&c.get("container")},f}(Jl),o_=null;function Kv(h,f,t){if(h){if(typeof h.addEventListener=="function")return h.addEventListener(f,t,!1),{remove:function(){h.removeEventListener(f,t,!1)}};if(typeof h.attachEvent=="function")return h.attachEvent("on"+f,t),{remove:function(){h.detachEvent("on"+f,t)}}}}var qd={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},k0={default:qd,hover:{thumbColor:"rgba(0,0,0,0.2)"}},Bx=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.clearEvents=D.ZT,t.onStartEvent=function(c){return function(v){t.isMobile=c,v.originalEvent.preventDefault();var y=c?(0,D.U2)(v.originalEvent,"touches.0.clientX"):v.clientX,b=c?(0,D.U2)(v.originalEvent,"touches.0.clientY"):v.clientY;t.startPos=t.cfg.isHorizontal?y:b,t.bindLaterEvent()}},t.bindLaterEvent=function(){var c=t.getContainerDOM(),v=[];t.isMobile?v=[Kv(c,"touchmove",t.onMouseMove),Kv(c,"touchend",t.onMouseUp),Kv(c,"touchcancel",t.onMouseUp)]:v=[Kv(c,"mousemove",t.onMouseMove),Kv(c,"mouseup",t.onMouseUp),Kv(c,"mouseleave",t.onMouseUp)],t.clearEvents=function(){v.forEach(function(y){y.remove()})}},t.onMouseMove=function(c){var v=t.cfg,y=v.isHorizontal,b=v.thumbOffset;c.preventDefault();var M=t.isMobile?(0,D.U2)(c,"touches.0.clientX"):c.clientX,A=t.isMobile?(0,D.U2)(c,"touches.0.clientY"):c.clientY,B=y?M:A,H=B-t.startPos;t.startPos=B,t.updateThumbOffset(b+H)},t.onMouseUp=function(c){c.preventDefault(),t.clearEvents()},t.onTrackClick=function(c){var v=t.cfg,y=v.isHorizontal,b=v.x,M=v.y,A=v.thumbLen,B=t.getContainerDOM(),H=B.getBoundingClientRect(),W=c.clientX,Y=c.clientY,Q=y?W-H.left-b-A/2:Y-H.top-M-A/2,te=t.validateRange(Q);t.updateThumbOffset(te)},t.onThumbMouseOver=function(){var c=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",c),t.draw()},t.onThumbMouseOut=function(){var c=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",c),t.draw()},t}return f.prototype.setRange=function(t,c){this.set("minLimit",t),this.set("maxLimit",c);var v=this.getValue(),y=(0,D.uZ)(v,t,c);v!==y&&!this.get("isInit")&&this.setValue(y)},f.prototype.getRange=function(){var t=this.get("minLimit")||0,c=this.get("maxLimit")||1;return{min:t,max:c}},f.prototype.setValue=function(t){var c=this.getRange(),v=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,D.uZ)(t,c.min,c.max)}),this.delegateEmit("valuechange",{originalValue:v,value:this.getValue()})},f.prototype.getValue=function(){return(0,D.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return(0,U.pi)((0,U.pi)({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:k0})},f.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},f.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},f.prototype.initEvent=function(){this.bindEvents()},f.prototype.renderTrackShape=function(t){var c=this.cfg,v=c.trackLen,y=c.theme,b=y===void 0?{default:{}}:y,M=(0,D.b$)({},k0,b).default,A=M.lineCap,B=M.trackColor,H=M.size,W=(0,D.U2)(this.cfg,"size",H),Y=this.get("isHorizontal")?{x1:0+W/2,y1:W/2,x2:v-W/2,y2:W/2,lineWidth:W,stroke:B,lineCap:A}:{x1:W/2,y1:0+W/2,x2:W/2,y2:v-W/2,lineWidth:W,stroke:B,lineCap:A};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:Y})},f.prototype.renderThumbShape=function(t){var c=this.cfg,v=c.thumbOffset,y=c.thumbLen,b=c.theme,M=(0,D.b$)({},k0,b).default,A=M.size,B=M.lineCap,H=M.thumbColor,W=(0,D.U2)(this.cfg,"size",A),Y=this.get("isHorizontal")?{x1:v+W/2,y1:W/2,x2:v+y-W/2,y2:W/2,lineWidth:W,stroke:H,lineCap:B,cursor:"default"}:{x1:W/2,y1:v+W/2,x2:W/2,y2:v+y-W/2,lineWidth:W,stroke:H,lineCap:B,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:Y})},f.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp);var c=t.findById(this.getElementId("track"));c.on("click",this.onTrackClick);var v=t.findById(this.getElementId("thumb"));v.on("mouseover",this.onThumbMouseOver),v.on("mouseout",this.onThumbMouseOut)},f.prototype.getContainerDOM=function(){var t=this.get("container"),c=t&&t.get("canvas");return c&&c.get("container")},f.prototype.validateRange=function(t){var c=this.cfg,v=c.thumbLen,y=c.trackLen,b=t;return t+v>y?b=y-v:t+v<v&&(b=0),b},f.prototype.draw=function(){var t=this.get("container"),c=t&&t.get("canvas");c&&c.draw()},f.prototype.updateThumbOffset=function(t){var c=this.cfg,v=c.thumbOffset,y=c.isHorizontal,b=c.thumbLen,M=c.size,A=this.validateRange(t);if(A!==v){var B=this.getElementByLocalId("thumb");y?B.attr({x1:A+M/2,x2:A+b-M/2}):B.attr({y1:A+M/2,y2:A+b-M/2}),this.emitOffsetChange(A)}},f.prototype.emitOffsetChange=function(t){var c=this.cfg,v=c.thumbOffset,y=c.trackLen,b=c.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,D.uZ)(t/(y-b),0,1)}),this.delegateEmit("valuechange",{originalValue:v,value:t})},f}(Jl),Sf=ar,nb=Qn,kx=K1,Fx=q2,vg=e_,qv=D0,Qd=L0;function F0(h){if((0,D.xb)(h))return null;var f=h[0].x,t=h[0].x,c=h[0].y,v=h[0].y;return(0,D.S6)(h,function(y){f=f>y.x?y.x:f,t=t<y.x?y.x:t,c=c>y.y?y.y:c,v=v<y.y?y.y:v}),{minX:f,maxX:t,minY:c,maxY:v,centerX:(f+t)/2,centerY:(c+v)/2}}function _f(h){return Array.from(new Set(h)).length===1}function N0(h){return((0,D.VV)(h)+(0,D.Fp)(h))/2}function sl(h,f,t,c){return{x:h+t*Math.cos(c),y:f+t*Math.sin(c)}}function eh(h,f,t,c,v,y){y===void 0&&(y=0);var b=sl(h,f,t,c),M=sl(h,f,t,v),A=sl(h,f,y,c),B=sl(h,f,y,v);if(v-c===Math.PI*2){var H=sl(h,f,t,c+Math.PI),W=sl(h,f,y,c+Math.PI),Y=[["M",b.x,b.y],["A",t,t,0,1,1,H.x,H.y],["A",t,t,0,1,1,M.x,M.y],["M",A.x,A.y]];return y&&(Y.push(["A",y,y,0,1,0,W.x,W.y]),Y.push(["A",y,y,0,1,0,B.x,B.y])),Y.push(["M",b.x,b.y]),Y.push(["Z"]),Y}var Q=v-c<=Math.PI?0:1,te=[["M",b.x,b.y],["A",t,t,0,Q,1,M.x,M.y],["L",B.x,B.y]];return y&&te.push(["A",y,y,0,Q,0,A.x,A.y]),te.push(["L",b.x,b.y]),te.push(["Z"]),te}function ib(h,f,t,c,v){var y=sl(h,f,t,c),b=sl(h,f,t,v);if((0,D.vQ)(v-c,Math.PI*2)){var M=sl(h,f,t,c+Math.PI);return[["M",y.x,y.y],["A",t,t,0,1,1,M.x,M.y],["A",t,t,0,1,1,y.x,y.y],["A",t,t,0,1,0,M.x,M.y],["A",t,t,0,1,0,y.x,y.y],["Z"]]}var A=v-c<=Math.PI?0:1;return[["M",y.x,y.y],["A",t,t,0,A,1,b.x,b.y]]}function Jd(h,f){var t=h.points,c=F0(t),v,y,b=f.startAngle,M=f.endAngle,A=M-b;return f.isTransposed?(v=c.maxY*A,y=c.minY*A):(v=c.maxX*A,y=c.minX*A),v+=b,y+=b,{startAngle:y,endAngle:v}}function Nx(h,f){if((0,D.hj)(h)&&(0,D.hj)(f))return[h,f];if(h=h,f=f,_f(h)||_f(f))return[N0(h),N0(f)];for(var t=-1,c=0,v=0,y,b=h.length-1,M,A=0;++t<h.length;)y=b,b=t,A+=M=h[y]*f[b]-h[b]*f[y],c+=(h[y]+h[b])*M,v+=(f[y]+f[b])*M;return A*=3,[c/A,v/A]}function ev(h,f){var t=h.attr(),c=f.attr();return(0,D.S6)(t,function(v,y){c[y]===void 0&&(c[y]=void 0)}),c}function tv(h,f,t){var c=Math.min(f,t),v=Math.max(f,t);return h>=c&&h<=v}function l_(h,f,t){if((0,D.HD)(h))return h.padEnd(f,t);if((0,D.kJ)(h)){var c=h.length;if(c<f)for(var v=f-c,y=0;y<v;y++)h.push(t)}return h}function Du(h,f){return typeof h=="object"&&f.forEach(function(t){delete h[t]}),h}function Kh(h,f,t){var c,v;f===void 0&&(f=[]),t===void 0&&(t=new Map);try{for(var y=(0,U.XA)(h),b=y.next();!b.done;b=y.next()){var M=b.value;t.has(M)||(f.push(M),t.set(M,!0))}}catch(A){c={error:A}}finally{try{b&&!b.done&&(v=y.return)&&v.call(y)}finally{if(c)throw c.error}}return f}var ul=function(){function h(f,t,c,v){f===void 0&&(f=0),t===void 0&&(t=0),c===void 0&&(c=0),v===void 0&&(v=0),this.x=f,this.y=t,this.height=v,this.width=c}return h.fromRange=function(f,t,c,v){return new h(f,t,c-f,v-t)},h.fromObject=function(f){return new h(f.minX,f.minY,f.width,f.height)},Object.defineProperty(h.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),h.prototype.isEqual=function(f){return this.x===f.x&&this.y===f.y&&this.width===f.width&&this.height===f.height},h.prototype.contains=function(f){return f.minX>=this.minX&&f.maxX<=this.maxX&&f.minY>=this.minY&&f.maxY<=this.maxY},h.prototype.clone=function(){return new h(this.x,this.y,this.width,this.height)},h.prototype.add=function(){for(var f=[],t=0;t<arguments.length;t++)f[t]=arguments[t];var c=this.clone();return(0,D.S6)(f,function(v){c.x=Math.min(v.x,c.x),c.y=Math.min(v.y,c.y),c.width=Math.max(v.maxX,c.maxX)-c.x,c.height=Math.max(v.maxY,c.maxY)-c.y}),c},h.prototype.merge=function(){for(var f=[],t=0;t<arguments.length;t++)f[t]=arguments[t];var c=this.clone();return(0,D.S6)(f,function(v){c.x=Math.max(v.x,c.x),c.y=Math.max(v.y,c.y),c.width=Math.min(v.maxX,c.maxX)-c.x,c.height=Math.min(v.maxY,c.maxY)-c.y}),c},h.prototype.cut=function(f,t){var c=f.width,v=f.height;switch(t){case lt.TOP:case lt.TOP_LEFT:case lt.TOP_RIGHT:return h.fromRange(this.minX,this.minY+v,this.maxX,this.maxY);case lt.RIGHT:case lt.RIGHT_TOP:case lt.RIGHT_BOTTOM:return h.fromRange(this.minX,this.minY,this.maxX-c,this.maxY);case lt.BOTTOM:case lt.BOTTOM_LEFT:case lt.BOTTOM_RIGHT:return h.fromRange(this.minX,this.minY,this.maxX,this.maxY-v);case lt.LEFT:case lt.LEFT_TOP:case lt.LEFT_BOTTOM:return h.fromRange(this.minX+c,this.minY,this.maxX,this.maxY);default:return this}},h.prototype.shrink=function(f){var t=(0,U.CR)(f,4),c=t[0],v=t[1],y=t[2],b=t[3];return new h(this.x+b,this.y+c,this.width-b-v,this.height-c-y)},h.prototype.expand=function(f){var t=(0,U.CR)(f,4),c=t[0],v=t[1],y=t[2],b=t[3];return new h(this.x-b,this.y-c,this.width+b+v,this.height+c+y)},h.prototype.exceed=function(f){return[Math.max(-this.minY+f.minY,0),Math.max(this.maxX-f.maxX,0),Math.max(this.maxY-f.maxY,0),Math.max(-this.minX+f.minX,0)]},h.prototype.collide=function(f){return this.minX<f.maxX&&this.maxX>f.minX&&this.minY<f.maxY&&this.maxY>f.minY},h.prototype.size=function(){return this.width*this.height},h.prototype.isPointIn=function(f){return f.x>=this.minX&&f.x<=this.maxX&&f.y>=this.minY&&f.y<=this.maxY},h}(),s_=function(h,f){var t=f.start,c=f.end;return new ul(h.x+h.width*t.x,h.y+h.height*t.y,h.width*Math.abs(c.x-t.x),h.height*Math.abs(c.y-t.y))};function u_(h){return[[h.minX,h.minY],[h.maxX,h.minY],[h.maxX,h.maxY],[h.minX,h.maxY]]}function Uo(h){if(h.isPolar&&!h.isTransposed)return(h.endAngle-h.startAngle)*h.getRadius();var f=h.convert({x:0,y:0}),t=h.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-f.x,2)+Math.pow(t.y-f.y,2))}function zl(h){if(h.isPolar){var f=h.startAngle,t=h.endAngle;return t-f===Math.PI*2}return!1}function $c(h,f){var t=h.getCenter();return Math.sqrt(Math.pow(f.x-t.x,2)+Math.pow(f.y-t.y,2))}function qh(h,f){var t=!1;if(h)if(h.type==="theta"){var c=h.start,v=h.end;t=tv(f.x,c.x,v.x)&&tv(f.y,c.y,v.y)}else{var y=h.invert(f);t=tv(y.x,0,1)&&tv(y.y,0,1)}return t}function pg(h,f){var t=h.getCenter();return Math.atan2(f.y-t.y,f.x-t.x)}function ab(h,f){f===void 0&&(f=0);var t=h.start,c=h.end,v=h.getWidth(),y=h.getHeight();if(h.isPolar){var b=h.startAngle,M=h.endAngle,A=h.getCenter(),B=h.getRadius();return{type:"path",startState:{path:eh(A.x,A.y,B+f,b,b)},endState:function(W){var Y=(M-b)*W+b,Q=eh(A.x,A.y,B+f,b,Y);return{path:Q}},attrs:{path:eh(A.x,A.y,B+f,b,M)}}}var H;return h.isTransposed?H={height:y+f*2}:H={width:v+f*2},{type:"rect",startState:{x:t.x-f,y:c.y-f,width:h.isTransposed?v+f*2:0,height:h.isTransposed?0:y+f*2},endState:H,attrs:{x:t.x-f,y:c.y-f,width:v+f*2,height:y+f*2}}}function c_(h,f){f===void 0&&(f=0);var t=h.start,c=h.end,v=h.getWidth(),y=h.getHeight(),b=Math.min(t.x,c.x),M=Math.min(t.y,c.y);return ul.fromRange(b-f,M-f,b+v+f,M+y+f)}var ob=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function lb(h){var f="linear";return ob.test(h)?f="timeCat":(0,D.HD)(h)&&(f="cat"),f}function Qy(h,f,t,c){return f===void 0&&(f={}),f.type?f.type:h.type!=="identity"&&Lt.includes(t)&&["interval"].includes(c)||h.isCategory?"cat":h.type}function Qh(h,f,t){var c=f||[];if((0,D.hj)(h)||(0,D.UM)((0,D.Wx)(c,h))&&(0,D.xb)(t)){var v=ol("identity");return new v({field:h.toString(),values:[h]})}var y=(0,D.I)(c,h),b=(0,D.U2)(t,"type",lb(y[0])),M=ol(b);return new M((0,U.pi)({field:h,values:y},t))}function f_(h,f){if(h.type!=="identity"&&f.type!=="identity"){var t={};for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(t[c]=f[c]);h.change(t)}}function gg(h){return h.alias||h.field}function H0(h,f,t){var c=h.values,v=c.length,y;if(v===1)y=[.5,1];else{var b=1,M=0;zl(f)?f.isTransposed?(b=(0,D.U2)(t,"widthRatio.multiplePie",1/1.3),M=1/v*b,y=[M/2,1-M/2]):y=[0,1-1/v]:(M=1/v/2,y=[M,1-M])}return y}function Po(h){var f=h.values.filter(function(t){return!(0,D.UM)(t)&&!isNaN(t)});return Math.max.apply(Math,(0,U.ev)((0,U.ev)([],(0,U.CR)(f),!1),[(0,D.UM)(h.max)?-1/0:h.max],!1))}function Jy(h){var f,t;switch(h){case lt.TOP:f={x:0,y:1},t={x:1,y:1};break;case lt.RIGHT:f={x:1,y:0},t={x:1,y:1};break;case lt.BOTTOM:f={x:0,y:0},t={x:1,y:0};break;case lt.LEFT:f={x:0,y:0},t={x:0,y:1};break;default:f=t={x:0,y:0}}return{start:f,end:t}}function Jh(h){var f,t;return h.isTransposed?(f={x:0,y:0},t={x:1,y:0}):(f={x:0,y:0},t={x:0,y:1}),{start:f,end:t}}function ed(h,f){var t={start:{x:0,y:0},end:{x:0,y:0}};h.isRect?t=Jy(f):h.isPolar&&(t=Jh(h));var c=t.start,v=t.end;return{start:h.convert(c),end:h.convert(v)}}function Ef(h,f){if(h.isRect)return h.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(f)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(f)?-1:1;if(h.isPolar){var t=h.x.start;return t<0?-1:1}return 1}function z0(h){var f=h.start,t=h.end;return f.x===t.x}function eC(h,f){var t=h.start,c=h.end,v=z0(h);return v?(t.y-c.y)*(f.x-t.x)>0?1:-1:(c.x-t.x)*(t.y-f.y)>0?-1:1}function Qv(h,f){var t=(0,D.U2)(h,["components","axis"],{});return(0,D.b$)({},(0,D.U2)(t,["common"],{}),(0,D.b$)({},(0,D.U2)(t,[f],{})))}function sb(h,f,t){var c=(0,D.U2)(h,["components","axis"],{});return(0,D.b$)({},(0,D.U2)(c,["common","title"],{}),(0,D.b$)({},(0,D.U2)(c,[f,"title"],{})),t)}function gc(h){var f=h.x,t=h.y,c=h.circleCenter,v=t.start>t.end,y=h.isTransposed?h.convert({x:v?0:1,y:0}):h.convert({x:0,y:v?0:1}),b=[y.x-c.x,y.y-c.y],M=[1,0],A=y.y>c.y?Vi.EU(b,M):Vi.EU(b,M)*-1,B=A+(f.end-f.start),H=Math.sqrt(Math.pow(y.x-c.x,2)+Math.pow(y.y-c.y,2));return{center:c,radius:H,startAngle:A,endAngle:B}}function Xo(h,f){return(0,D.jn)(h)?h===!1?!1:{}:(0,D.U2)(h,[f])}function ds(h,f){return(0,D.U2)(h,"position",f)}function tC(h,f){return(0,D.U2)(f,["title","text"],gg(h))}var Wl=function(){function h(f,t){this.destroyed=!1,this.facets=[],this.view=f,this.cfg=(0,D.b$)({},this.getDefaultCfg(),t)}return h.prototype.init=function(){this.container||(this.container=this.createContainer());var f=this.view.getData();this.facets=this.generateFacets(f)},h.prototype.render=function(){this.renderViews()},h.prototype.update=function(){},h.prototype.clear=function(){this.clearFacetViews()},h.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},h.prototype.facetToView=function(f){var t=f.region,c=f.data,v=f.padding,y=v===void 0?this.cfg.padding:v,b=this.view.createView({region:t,padding:y});b.data(c||[]),f.view=b,this.beforeEachView(b,f);var M=this.cfg.eachView;return M&&M(b,f),this.afterEachView(b,f),b},h.prototype.createContainer=function(){var f=this.view.getLayer(Pt.FORE);return f.addGroup()},h.prototype.renderViews=function(){this.createFacetViews()},h.prototype.createFacetViews=function(){var f=this;return this.facets.map(function(t){return f.facetToView(t)})},h.prototype.clearFacetViews=function(){var f=this;(0,D.S6)(this.facets,function(t){t.view&&(f.view.removeView(t.view),t.view=void 0)})},h.prototype.parseSpacing=function(){var f=this.view.viewBBox,t=f.width,c=f.height,v=this.cfg.spacing;return v.map(function(y,b){return(0,D.hj)(y)?y/(b===0?t:c):parseFloat(y)/100})},h.prototype.getFieldValues=function(f,t){var c=[],v={};return(0,D.S6)(f,function(y){var b=y[t];!(0,D.UM)(b)&&!v[b]&&(c.push(b),v[b]=!0)}),c},h.prototype.getRegion=function(f,t,c,v){var y=(0,U.CR)(this.parseSpacing(),2),b=y[0],M=y[1],A=(1+b)/(t===0?1:t)-b,B=(1+M)/(f===0?1:f)-M,H={x:(A+b)*c,y:(B+M)*v},W={x:H.x+A,y:H.y+B};return{start:H,end:W}},h.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},h.prototype.getDefaultTitleCfg=function(){var f=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:f}}},h.prototype.processAxis=function(f,t){var c=f.getOptions(),v=c.coordinate,y=f.geometries,b=(0,D.U2)(v,"type","rect");if(b==="rect"&&y.length){(0,D.UM)(c.axes)&&(c.axes={});var M=c.axes,A=(0,U.CR)(y[0].getXYFields(),2),B=A[0],H=A[1],W=Xo(M,B),Y=Xo(M,H);W!==!1&&(c.axes[B]=this.getXAxisOption(B,M,W,t)),Y!==!1&&(c.axes[H]=this.getYAxisOption(H,M,Y,t))}},h.prototype.getFacetDataFilter=function(f){return function(t){return(0,D.yW)(f,function(c){var v=c.field,y=c.value;return!(0,D.UM)(y)&&v?t[v]===y:!0})}},h}(),bi={},An=function(h){return bi[(0,D.vl)(h)]},mc=function(h,f){bi[(0,D.vl)(h)]=f},Pl=function(){function h(f,t){this.context=f,this.cfg=t,f.addAction(this)}return h.prototype.applyCfg=function(f){(0,D.f0)(this,f)},h.prototype.init=function(){this.applyCfg(this.cfg)},h.prototype.destroy=function(){this.context.removeAction(this),this.context=null},h}(),gl=Pl,W0=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.execute=function(){this.callback&&this.callback(this.context)},f.prototype.destroy=function(){h.prototype.destroy.call(this),this.callback=null},f}(gl),Ds=W0,Gl={};function mg(h,f){var t=Gl[h],c=null;if(t){var v=t.ActionClass,y=t.cfg;c=new v(f,y),c.name=h,c.init()}return c}function $i(h){var f=Gl[h];return(0,D.U2)(f,"ActionClass")}function Oi(h,f,t){Gl[h]={ActionClass:f,cfg:t}}function G0(h){delete Gl[h]}function Lu(h,f){var t=new Ds(f);return t.callback=h,t.name="callback",t}function $0(h,f){var t=[];if(h.length){t.push(["M",h[0].x,h[0].y]);for(var c=1,v=h.length;c<v;c+=1){var y=h[c];t.push(["L",y.x,y.y])}f&&t.push(["Z"])}return t}function Jv(h,f){for(var t=[h[0]],c=1,v=h.length;c<v;c=c+2){var y=f.convert({x:h[c],y:h[c+1]});t.push(y.x,y.y)}return t}function td(h,f){var t=f.isTransposed,c=h[1],v=h[6],y=h[7],b=f.convert({x:v,y}),M=t?0:1;return["A",c,c,0,0,M,b.x,b.y]}function Hx(h,f,t){var c=t.isTransposed,v=t.startAngle,y=t.endAngle,b=h[0].toLowerCase()==="a"?{x:h[6],y:h[7]}:{x:h[1],y:h[2]},M={x:f[1],y:f[2]},A=[],B=c?"y":"x",H=Math.abs(M[B]-b[B])*(y-v),W=M[B]>=b[B]?1:0,Y=H>Math.PI?1:0,Q=t.convert(M),te=$c(t,Q);if(te>=.5)if(H===Math.PI*2){var he={x:(M.x+b.x)/2,y:(M.y+b.y)/2},Me=t.convert(he);A.push(["A",te,te,0,Y,W,Me.x,Me.y]),A.push(["A",te,te,0,Y,W,Q.x,Q.y])}else A.push(["A",te,te,0,Y,W,Q.x,Q.y]);return A}function yc(h){(0,D.S6)(h,function(f,t){var c=f;if(c[0].toLowerCase()==="a"){var v=h[t-1],y=h[t+1];y&&y[0].toLowerCase()==="a"?v&&v[0].toLowerCase()==="l"&&(v[0]="M"):v&&v[0].toLowerCase()==="a"&&y&&y[0].toLowerCase()==="l"&&(y[0]="M")}})}var fu=function(h,f,t,c){var v,y=[],b=!!c,M,A,B,H,W,Y,Q;if(b){v=(0,U.CR)(c,2),B=v[0],H=v[1];for(var te=0,he=h.length;te<he;te++){var Me=h[te];B=Vi.VV([0,0],B,Me),H=Vi.Fp([0,0],H,Me)}}for(var te=0,Fe=h.length;te<Fe;te++){var Me=h[te];if(te===0&&!t)Q=Me;else if(te===Fe-1&&!t)Y=Me,y.push(Q),y.push(Y);else{M=h[t?te?te-1:Fe-1:te-1],A=h[t?(te+1)%Fe:te+1];var Qe=[0,0];Qe=Vi.lu(Qe,A,M),Qe=Vi.bA(Qe,Qe,f);var nt=Vi.TE(Me,M),pt=Vi.TE(Me,A),Qt=nt+pt;Qt!==0&&(nt/=Qt,pt/=Qt);var Sr=Vi.bA([0,0],Qe,-nt),Mr=Vi.bA([0,0],Qe,pt);Y=Vi.IH([0,0],Me,Sr),W=Vi.IH([0,0],Me,Mr),W=Vi.VV([0,0],W,Vi.Fp([0,0],A,Me)),W=Vi.Fp([0,0],W,Vi.VV([0,0],A,Me)),Sr=Vi.lu([0,0],W,Me),Sr=Vi.bA([0,0],Sr,-nt/pt),Y=Vi.IH([0,0],Me,Sr),Y=Vi.VV([0,0],Y,Vi.Fp([0,0],M,Me)),Y=Vi.Fp([0,0],Y,Vi.VV([0,0],M,Me)),Mr=Vi.lu([0,0],Me,Y),Mr=Vi.bA([0,0],Mr,pt/nt),W=Vi.IH([0,0],Me,Mr),b&&(Y=Vi.Fp([0,0],Y,B),Y=Vi.VV([0,0],Y,H),W=Vi.Fp([0,0],W,B),W=Vi.VV([0,0],W,H)),y.push(Q),y.push(Y),Q=W}}return t&&y.push(y.shift()),y};function ep(h,f,t){for(var c=!!f,v=[],y=0,b=h.length;y<b;y+=2)v.push([h[y],h[y+1]]);for(var M=fu(v,.4,c,t),A=v.length,B=[],H,W,Y,y=0;y<A-1;y++)H=M[y*2],W=M[y*2+1],Y=v[y+1],B.push(["C",H[0],H[1],W[0],W[1],Y[0],Y[1]]);return c&&(H=M[A],W=M[A+1],Y=v[0],B.push(["C",H[0],H[1],W[0],W[1],Y[0],Y[1]])),B}function tp(h,f){return $0(h,f)}function Mf(h,f,t){var c=[],v=h[0],y=null;if(h.length<=2)return tp(h,f);for(var b=0,M=h.length;b<M;b++){var A=h[b];(!y||!(y.x===A.x&&y.y===A.y))&&(c.push(A.x),c.push(A.y),y=A)}var B=t||[[0,0],[1,1]],H=ep(c,f,B);return H.unshift(["M",v.x,v.y]),H}function zx(h,f){var t=[];return(0,D.S6)(f,function(c){var v=c[0];switch(v.toLowerCase()){case"m":case"l":case"c":t.push(Jv(c,h));break;case"a":t.push(td(c,h));break;case"z":default:t.push(c);break}}),t}function Wx(h,f){var t=[],c,v,y,b;return(0,D.S6)(f,function(M,A){var B=M[0];switch(B.toLowerCase()){case"m":case"c":case"q":t.push(Jv(M,h));break;case"l":c=f[A-1],v=M,y=h.isTransposed,b=y?c[c.length-2]===v[1]:c[c.length-1]===v[2],b?t=t.concat(Hx(c,v,h)):t.push(Jv(M,h));break;case"a":t.push(td(M,h));break;case"z":default:t.push(M);break}}),yc(t),t}function rv(h,f){var t=h.event,c=t.target;return Ni(c,f)}function Pu(h,f){var t=h.getCanvasBBox(),c=t.width,v=t.height;return c>0&&v>0&&(c>=f||v>=f)}function Ni(h,f){var t=h.getCanvasBBox();return Pu(h,f)?t:null}function ur(h,f){var t=h.event.maskShapes;return t.map(function(c){return Ni(c,f)}).filter(function(c){return!!c})}function rC(h,f){var t=h.event,c=t.target;return Ls(c,f)}function Ls(h,f){return Pu(h,f)?h.attr("path"):null}function Br(h,f){var t=h.event.maskShapes;return t.map(function(c){return Ls(c,f)})}function en(h){var f=h.event,t,c=f.target;return c&&(t=c.get("element")),t}function th(h){var f=h.event,t=f.target,c;return t&&(c=t.get("delegateObject")),c}function nC(h){var f=h.event.gEvent;return!(f&&f.fromShape&&f.toShape&&f.fromShape.get("element")===f.toShape.get("element"))}function yg(h){return h&&h.component&&h.component.isList()}function iC(h){return h&&h.component&&h.component.isSlider()}function ml(h){var f=h.event,t=f.target;return t&&(t==null?void 0:t.get("name"))==="mask"||rp(h)}function rp(h){var f;return((f=h.event.target)===null||f===void 0?void 0:f.get("name"))==="multi-mask"}function Bo(h,f){var t=h.event.target;if(rp(h))return ub(h,f);if(t.get("type")==="path"){var c=rC(h,f);return c?Ps(h.view,c):void 0}var v=rv(h,f);return v?Tf(h.view,v):null}function ub(h,f){var t=h.event.target;if(t.get("type")==="path"){var c=Br(h,f);return c.length>0?c.flatMap(function(y){return Ps(h.view,y)}):null}var v=ur(h,f);return v.length>0?v.flatMap(function(y){return Tf(h.view,y)}):null}function cb(h,f,t){if(rp(h))return Cg(h,f,t);var c=rv(h,t);return c?np(c,h,f):null}function np(h,f,t){var c=f.view,v=ks(c,t,{x:h.x,y:h.y}),y=ks(c,t,{x:h.maxX,y:h.maxY}),b={minX:v.x,minY:v.y,maxX:y.x,maxY:y.y};return Tf(t,b)}function Cg(h,f,t){var c=ur(h,t);return c.length>0?c.flatMap(function(v){return np(v,h,f)}):null}function vs(h){var f=h.geometries,t=[];return(0,D.S6)(f,function(c){var v=c.elements;t=t.concat(v)}),h.views&&h.views.length&&(0,D.S6)(h.views,function(c){t=t.concat(vs(c))}),t}function Gx(h,f,t){var c=vs(h);return c.filter(function(v){return Cc(v,f)===t})}function fb(h,f){var t=h.geometries,c=[];return(0,D.S6)(t,function(v){var y=v.getElementsBy(function(b){return b.hasState(f)});c=c.concat(y)}),c}function Cc(h,f){var t=h.getModel(),c=t.data,v;return(0,D.kJ)(c)?v=c[0][f]:v=c[f],v}function Bl(h,f){return!(f.minX>h.maxX||f.maxX<h.minX||f.minY>h.maxY||f.maxY<h.minY)}function Tf(h,f){var t=vs(h),c=[];return(0,D.S6)(t,function(v){var y=v.shape,b=y.getCanvasBBox();Bl(f,b)&&c.push(v)}),c}function ip(h){var f=[];return(0,D.S6)(h,function(t){var c=t[0];if(c!=="A")for(var v=1;v<t.length;v=v+2)f.push([t[v],t[v+1]]);else{var y=t.length;f.push([t[y-2],t[y-1]])}}),f}function Ps(h,f){var t=vs(h),c=ip(f),v=t.filter(function(y){var b=y.shape,M;if(b.get("type")==="path")M=ip(b.attr("path"));else{var A=b.getCanvasBBox();M=u_(A)}return(0,ll.Wq)(c,M)});return v}function Zo(h){return h.getComponents().map(function(f){return f.component})}function aC(h,f){var t=f.x-h.x,c=f.y-h.y;return Math.sqrt(t*t+c*c)}function qu(h,f){if(h.length<=2)return tp(h,!1);var t=h[0],c=[];(0,D.S6)(h,function(y){c.push(y.x),c.push(y.y)});var v=ep(c,f,null);return v.unshift(["M",t.x,t.y]),v}function U0(h,f){return h.x<=f.x&&h.maxX>=f.x&&h.y<=f.y&&h.maxY>f.y}function Bs(h){var f=h.parent,t=null;return f&&(t=f.views.filter(function(c){return c!==h})),t}function bo(h,f){var t=h.getCoordinate();return t.invert(f)}function ks(h,f,t){var c=bo(h,t);return f.getCoordinate().convert(c)}function Fi(h,f,t,c){var v=!1;return(0,D.S6)(h,function(y){if(y[t]===f[t]&&y[c]===f[c])return v=!0,!1}),v}function bc(h,f){var t=h.getScaleByField(f);return!t&&h.views&&(0,D.S6)(h.views,function(c){if(t=bc(c,f),t)return!1}),t}var $x=function(){function h(f){this.actions=[],this.event=null,this.cacheMap={},this.view=f}return h.prototype.cache=function(){for(var f=[],t=0;t<arguments.length;t++)f[t]=arguments[t];if(f.length===1)return this.cacheMap[f[0]];f.length===2&&(this.cacheMap[f[0]]=f[1])},h.prototype.getAction=function(f){return this.actions.find(function(t){return t.name===f})},h.prototype.addAction=function(f){this.actions.push(f)},h.prototype.removeAction=function(f){var t=this.actions,c=this.actions.indexOf(f);c>=0&&t.splice(c,1)},h.prototype.getCurrentPoint=function(){var f=this.event;if(f)if(f.target instanceof HTMLElement){var t=this.view.getCanvas(),c=t.getPointByClient(f.clientX,f.clientY);return c}else return{x:f.x,y:f.y};return null},h.prototype.getCurrentShape=function(){return(0,D.U2)(this.event,["gEvent","shape"])},h.prototype.isInPlot=function(){var f=this.getCurrentPoint();return f?this.view.isPointInPlot(f):!1},h.prototype.isInShape=function(f){var t=this.getCurrentShape();return t?t.get("name")===f:!1},h.prototype.isInComponent=function(f){var t=Zo(this.view),c=this.getCurrentPoint();return c?!!t.find(function(v){var y=v.getBBox();return f?v.get("name")===f&&U0(y,c):U0(y,c)}):!1},h.prototype.destroy=function(){(0,D.S6)(this.actions.slice(),function(f){f.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},h}(),h_=$x,wc=function(){function h(f,t){this.view=f,this.cfg=t}return h.prototype.init=function(){this.initEvents()},h.prototype.initEvents=function(){},h.prototype.clearEvents=function(){},h.prototype.destroy=function(){this.clearEvents()},h}(),oC=wc;function lC(h,f,t){var c=h.split(":"),v=c[0],y=f.getAction(v)||mg(v,f);if(!y)throw new Error("There is no action named ".concat(v));var b=c[1];return{action:y,methodName:b,arg:t}}function sC(h){var f=h.action,t=h.methodName,c=h.arg;if(f[t])f[t](c);else throw new Error("Action(".concat(f.name,") doesn't have a method called ").concat(t))}var la={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},sa=function(h){(0,U.ZT)(f,h);function f(t,c){var v=h.call(this,t,c)||this;return v.callbackCaches={},v.emitCaches={},v.steps=c,v}return f.prototype.init=function(){this.initContext(),h.prototype.init.call(this)},f.prototype.destroy=function(){h.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},f.prototype.initEvents=function(){var t=this;(0,D.S6)(this.steps,function(c,v){(0,D.S6)(c,function(y){var b=t.getActionCallback(v,y);b&&t.bindEvent(y.trigger,b)})})},f.prototype.clearEvents=function(){var t=this;(0,D.S6)(this.steps,function(c,v){(0,D.S6)(c,function(y){var b=t.getActionCallback(v,y);b&&t.offEvent(y.trigger,b)})})},f.prototype.initContext=function(){var t=this.view,c=new h_(t);this.context=c;var v=this.steps;(0,D.S6)(v,function(y){(0,D.S6)(y,function(b){if((0,D.mf)(b.action))b.actionObject={action:Lu(b.action,c),methodName:"execute"};else if((0,D.HD)(b.action))b.actionObject=lC(b.action,c,b.arg);else if((0,D.kJ)(b.action)){var M=b.action,A=(0,D.kJ)(b.arg)?b.arg:[b.arg];b.actionObject=[],(0,D.S6)(M,function(B,H){b.actionObject.push(lC(B,c,A[H]))})}})})},f.prototype.isAllowStep=function(t){var c=this.currentStepName,v=this.steps;if(c===t||t===la.SHOW_ENABLE)return!0;if(t===la.PROCESSING)return c===la.START;if(t===la.START)return c!==la.PROCESSING;if(t===la.END)return c===la.PROCESSING||c===la.START;if(t===la.ROLLBACK){if(v[la.END])return c===la.END;if(c===la.START)return!0}return!1},f.prototype.isAllowExecute=function(t,c){if(this.isAllowStep(t)){var v=this.getKey(t,c);return c.once&&this.emitCaches[v]?!1:c.isEnable?c.isEnable(this.context):!0}return!1},f.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},f.prototype.afterExecute=function(t,c){t!==la.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var v=this.getKey(t,c);this.emitCaches[v]=!0},f.prototype.getKey=function(t,c){return t+c.trigger+c.action},f.prototype.getActionCallback=function(t,c){var v=this,y=this.context,b=this.callbackCaches,M=c.actionObject;if(c.action&&M){var A=this.getKey(t,c);if(!b[A]){var B=function(H){y.event=H,v.isAllowExecute(t,c)?((0,D.kJ)(M)?(0,D.S6)(M,function(W){y.event=H,sC(W)}):(y.event=H,sC(M)),v.afterExecute(t,c),c.callback&&(y.event=H,c.callback(y))):y.event=null};c.debounce?b[A]=(0,D.Ds)(B,c.debounce.wait,c.debounce.immediate):c.throttle?b[A]=(0,D.P2)(B,c.throttle.wait,{leading:c.throttle.leading,trailing:c.throttle.trailing}):b[A]=B}return b[A]}return null},f.prototype.bindEvent=function(t,c){var v=t.split(":");v[0]==="window"?window.addEventListener(v[1],c):v[0]==="document"?document.addEventListener(v[1],c):this.view.on(t,c)},f.prototype.offEvent=function(t,c){var v=t.split(":");v[0]==="window"?window.removeEventListener(v[1],c):v[0]==="document"?document.removeEventListener(v[1],c):this.view.off(t,c)},f}(oC),ps=sa,uC={};function na(h){return uC[(0,D.vl)(h)]}function fo(h,f){uC[(0,D.vl)(h)]=f}function d_(h,f,t){var c=na(h);if(!c)return null;if((0,D.PO)(c)){var v=(0,D.CD)((0,D.d9)(c),t);return new ps(f,v)}else{var y=c;return new y(f,t)}}function hu(h){return{title:{autoRotate:!0,position:"center",spacing:h.axisTitleSpacing,style:{fill:h.axisTitleTextFillColor,fontSize:h.axisTitleTextFontSize,lineHeight:h.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:h.fontFamily},iconStyle:{fill:h.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:h.axisLabelOffset,style:{fill:h.axisLabelFillColor,fontSize:h.axisLabelFontSize,lineHeight:h.axisLabelLineHeight,fontFamily:h.fontFamily}},line:{style:{lineWidth:h.axisLineBorder,stroke:h.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:h.axisGridBorderColor,lineWidth:h.axisGridBorder,lineDash:h.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:h.axisTickLineBorder,stroke:h.axisTickLineBorderColor},alignTick:!0,length:h.axisTickLineLength},subTickLine:null,animate:!0}}function hb(h){return{title:null,marker:{symbol:"circle",spacing:h.legendMarkerSpacing,style:{r:h.legendCircleMarkerSize,fill:h.legendMarkerColor}},itemName:{spacing:5,style:{fill:h.legendItemNameFillColor,fontFamily:h.fontFamily,fontSize:h.legendItemNameFontSize,lineHeight:h.legendItemNameLineHeight,fontWeight:h.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:h.legendPageNavigatorMarkerSize,inactiveFill:h.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:h.legendPageNavigatorMarkerInactiveFillOpacity,fill:h.legendPageNavigatorMarkerFillColor,opacity:h.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:h.legendPageNavigatorTextFillColor,fontSize:h.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:h.legendItemSpacing,itemMarginBottom:h.legendItemMarginBottom,padding:h.legendPadding}}function gs(h){var f,t={point:{default:{fill:h.pointFillColor,r:h.pointSize,stroke:h.pointBorderColor,lineWidth:h.pointBorder,fillOpacity:h.pointFillOpacity},active:{stroke:h.pointActiveBorderColor,lineWidth:h.pointActiveBorder},selected:{stroke:h.pointSelectedBorderColor,lineWidth:h.pointSelectedBorder},inactive:{fillOpacity:h.pointInactiveFillOpacity,strokeOpacity:h.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:h.hollowPointFillColor,lineWidth:h.hollowPointBorder,stroke:h.hollowPointBorderColor,strokeOpacity:h.hollowPointBorderOpacity,r:h.hollowPointSize},active:{stroke:h.hollowPointActiveBorderColor,strokeOpacity:h.hollowPointActiveBorderOpacity},selected:{lineWidth:h.hollowPointSelectedBorder,stroke:h.hollowPointSelectedBorderColor,strokeOpacity:h.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:h.hollowPointInactiveBorderOpacity}},area:{default:{fill:h.areaFillColor,fillOpacity:h.areaFillOpacity,stroke:null},active:{fillOpacity:h.areaActiveFillOpacity},selected:{fillOpacity:h.areaSelectedFillOpacity},inactive:{fillOpacity:h.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:h.hollowAreaBorderColor,lineWidth:h.hollowAreaBorder,strokeOpacity:h.hollowAreaBorderOpacity},active:{fill:null,lineWidth:h.hollowAreaActiveBorder},selected:{fill:null,lineWidth:h.hollowAreaSelectedBorder},inactive:{strokeOpacity:h.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:h.intervalFillColor,fillOpacity:h.intervalFillOpacity},active:{stroke:h.intervalActiveBorderColor,lineWidth:h.intervalActiveBorder},selected:{stroke:h.intervalSelectedBorderColor,lineWidth:h.intervalSelectedBorder},inactive:{fillOpacity:h.intervalInactiveFillOpacity,strokeOpacity:h.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:h.hollowIntervalFillColor,stroke:h.hollowIntervalBorderColor,lineWidth:h.hollowIntervalBorder,strokeOpacity:h.hollowIntervalBorderOpacity},active:{stroke:h.hollowIntervalActiveBorderColor,lineWidth:h.hollowIntervalActiveBorder,strokeOpacity:h.hollowIntervalActiveBorderOpacity},selected:{stroke:h.hollowIntervalSelectedBorderColor,lineWidth:h.hollowIntervalSelectedBorder,strokeOpacity:h.hollowIntervalSelectedBorderOpacity},inactive:{stroke:h.hollowIntervalInactiveBorderColor,lineWidth:h.hollowIntervalInactiveBorder,strokeOpacity:h.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:h.lineBorderColor,lineWidth:h.lineBorder,strokeOpacity:h.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:h.lineActiveBorder},selected:{lineWidth:h.lineSelectedBorder},inactive:{strokeOpacity:h.lineInactiveBorderOpacity}}},c=hu(h),v=hb(h);return{background:h.backgroundColor,defaultColor:h.brandColor,subColor:h.subColor,semanticRed:h.paletteSemanticRed,semanticGreen:h.paletteSemanticGreen,padding:"auto",fontFamily:h.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:h.paletteQualitative10,colors20:h.paletteQualitative20,sequenceColors:h.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(y){var b=y.geometry.coordinate;if(b.isPolar&&b.isTransposed){var M=Jd(y.getModel(),b),A=M.startAngle,B=M.endAngle,H=(A+B)/2,W=7.5,Y=W*Math.cos(H),Q=W*Math.sin(H);return{matrix:Pa.vs(null,[["t",Y,Q]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,U.pi)((0,U.pi)({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,U.pi)((0,U.pi)({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,U.pi)((0,U.pi)({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,U.pi)((0,U.pi)({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,U.pi)((0,U.pi)({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,U.pi)((0,U.pi)({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,U.pi)((0,U.pi)({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,U.pi)((0,U.pi)({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:c,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,D.b$)({},c.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,D.b$)({},c.grid,{line:{type:"circle"}})}},legend:{common:v,right:{layout:"vertical",padding:h.legendVerticalPadding},left:{layout:"vertical",padding:h.legendVerticalPadding},top:{layout:"horizontal",padding:h.legendHorizontalPadding},bottom:{layout:"horizontal",padding:h.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:h.sliderRailHeight,defaultLength:h.sliderRailWidth,style:{fill:h.sliderRailFillColor,stroke:h.sliderRailBorderColor,lineWidth:h.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:h.sliderLabelTextFillColor,fontSize:h.sliderLabelTextFontSize,lineHeight:h.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:h.fontFamily}},handler:{size:h.sliderHandlerWidth,style:{fill:h.sliderHandlerFillColor,stroke:h.sliderHandlerBorderColor}},slidable:!0,padding:v.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:h.tooltipCrosshairsBorderColor,lineWidth:h.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(f={},f["".concat(Wc)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:h.tooltipContainerFillColor,opacity:h.tooltipContainerFillOpacity,boxShadow:h.tooltipContainerShadow,borderRadius:"".concat(h.tooltipContainerBorderRadius,"px"),color:h.tooltipTextFillColor,fontSize:"".concat(h.tooltipTextFontSize,"px"),fontFamily:h.fontFamily,lineHeight:"".concat(h.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},f["".concat(Xh)]={marginBottom:"12px",marginTop:"12px"},f["".concat(Xv)]={margin:0,listStyleType:"none",padding:0},f["".concat(fg)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},f["".concat(Q1)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},f["".concat(Xy)]={display:"inline-block",float:"right",marginLeft:"30px"},f)},annotation:{arc:{style:{stroke:h.annotationArcBorderColor,lineWidth:h.annotationArcBorder},animate:!0},line:{style:{stroke:h.annotationLineBorderColor,lineDash:h.annotationLineDash,lineWidth:h.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:h.annotationTextFillColor,stroke:h.annotationTextBorderColor,lineWidth:h.annotationTextBorder,fontSize:h.annotationTextFontSize,textAlign:"start",fontFamily:h.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:h.annotationTextFillColor,stroke:h.annotationTextBorderColor,lineWidth:h.annotationTextBorder,fontSize:h.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:h.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:h.annotationRegionBorder,stroke:h.annotationRegionBorderColor,fill:h.annotationRegionFillColor,fillOpacity:h.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:h.brandColor,lineWidth:2}},line:{style:{stroke:h.annotationLineBorderColor,lineWidth:h.annotationLineBorder},length:h.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:h.annotationTextFillColor,stroke:h.annotationTextBorderColor,lineWidth:h.annotationTextBorder,fontSize:h.annotationTextFontSize,fontFamily:h.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:h.annotationRegionFillColor,fillOpacity:h.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:h.annotationTextFillColor,stroke:h.annotationTextBorderColor,lineWidth:h.annotationTextBorder,fontSize:h.annotationTextFontSize,fontFamily:h.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:h.cSliderBackgroundFillColor,opacity:h.cSliderBackgroundFillOpacity},foregroundStyle:{fill:h.cSliderForegroundFillColor,opacity:h.cSliderForegroundFillOpacity},handlerStyle:{width:h.cSliderHandlerWidth,height:h.cSliderHandlerHeight,fill:h.cSliderHandlerFillColor,opacity:h.cSliderHandlerFillOpacity,stroke:h.cSliderHandlerBorderColor,lineWidth:h.cSliderHandlerBorder,radius:h.cSliderHandlerBorderRadius,highLightFill:h.cSliderHandlerHighlightFillColor},textStyle:{fill:h.cSliderTextFillColor,opacity:h.cSliderTextFillOpacity,fontSize:h.cSliderTextFontSize,lineHeight:h.cSliderTextLineHeight,fontWeight:h.cSliderTextFontWeight,stroke:h.cSliderTextBorderColor,lineWidth:h.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:h.scrollbarTrackFillColor,thumbColor:h.scrollbarThumbFillColor}},hover:{style:{thumbColor:h.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:h.labelFillColor,fontSize:h.labelFontSize,fontFamily:h.fontFamily,stroke:h.labelBorderColor,lineWidth:h.labelBorder},fillColorDark:h.labelFillColorDark,fillColorLight:h.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:h.innerLabelFillColor,fontSize:h.innerLabelFontSize,fontFamily:h.fontFamily,stroke:h.innerLabelBorderColor,lineWidth:h.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:h.overflowLabelFillColor,fontSize:h.overflowLabelFontSize,fontFamily:h.fontFamily,stroke:h.overflowLabelBorderColor,lineWidth:h.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:h.labelLineBorder}},autoRotate:!0}}}var ca={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},ms={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},v_=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Uc=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Nn=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],db=function(h){h===void 0&&(h={});var f=h.paletteQualitative10,t=f===void 0?v_:f,c=h.paletteQualitative20,v=c===void 0?Uc:c,y=h.brandColor,b=y===void 0?t[0]:y,M={backgroundColor:"transparent",brandColor:b,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:v,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:Nn,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:ca[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:ca[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:ms[85],axisTickLineBorderColor:ca[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:ca[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:ca[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:ca[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:ca[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:b,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:ca[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:ca[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:ca[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:ca[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:ca[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:ca[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:ca[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:ca[25],annotationArcBorderColor:ca[15],annotationArcBorder:1,annotationLineBorderColor:ca[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:ca[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:ca[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:ca[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:ca[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:ca[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:ms[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:ca[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:ms[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:ca[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:b,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:ms[100],pointBorderOpacity:1,pointActiveBorderColor:ca[100],pointSelectedBorder:2,pointSelectedBorderColor:ca[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:b,hollowPointBorderOpacity:.95,hollowPointFillColor:ms[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:ca[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:ca[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:b,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:b,areaFillOpacity:.25,areaActiveFillColor:b,areaActiveFillOpacity:.5,areaSelectedFillColor:b,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:b,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:ca[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:ca[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:b,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:ca[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:ca[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:b,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:ms[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:ca[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:ca[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,U.pi)((0,U.pi)({},M),h)},jT=db();function Fs(h){var f=h.styleSheet,t=f===void 0?{}:f,c=(0,U._T)(h,["styleSheet"]),v=db(t);return(0,D.b$)({},gs(v),c)}var RM=Fs({}),Y0={default:RM};function vb(h){return(0,D.U2)(Y0,(0,D.vl)(h),Y0.default)}function DM(h,f){Y0[(0,D.vl)(h)]=Fs(f)}function kl(h,f,t){var c=t.translate(h),v=t.translate(f);return(0,D.vQ)(c,v)}function p_(h,f){var t=f.coordinate,c=f.getXScale(),v=c.range,y=v[v.length-1],b=v[0],M=t.invert(h),A=M.x;return t.isPolar&&A>(1+y)/2&&(A=b),c.translate(c.invert(A))}function pb(h,f,t){var c=t.coordinate,v=t.getYScale(),y=v.field,b=c.invert(f),M=v.invert(b.y),A=(0,D.sE)(h,function(B){var H=B[Nt];return H[y][0]<=M&&H[y][1]>=M});return A||h[h.length-1]}var g_=(0,D.HP)(function(h){if(h.isCategory)return 1;for(var f=h.values,t=f.length,c=h.translate(f[0]),v=c,y=0;y<t;y++){var b=f[y],M=h.translate(b);M<c&&(c=M),M>v&&(v=M)}return(v-c)/(t-1)});function LM(h,f,t){var c=f.getAttribute("position"),v=c.getFields(),y=f.scales,b=(0,D.mf)(t)||!t?v[0]:t,M=y[b],A=M?M.getText(h[b]):h[b]||b;return(0,D.mf)(t)?t(A,h):A}function PM(h){var f=(0,D.VO)(h.attributes);return(0,D.hX)(f,function(t){return(0,D.FX)(Lt,t.type)})}function m_(h){var f,t,c=PM(h),v;try{for(var y=(0,U.XA)(c),b=y.next();!b.done;b=y.next()){var M=b.value,A=M.getScale(M.type);if(A&&A.isLinear){var B=(0,D.U2)(h.scaleDefs,A.field),H=Qy(A,B,M.type,h.type);if(H!=="cat"){v=A;break}}}}catch(Q){f={error:Q}}finally{try{b&&!b.done&&(t=y.return)&&t.call(y)}finally{if(f)throw f.error}}var W=h.getXScale(),Y=h.getYScale();return v||Y||W}function $l(h,f){var t=f.field,c=h[t];if((0,D.kJ)(c)){var v=c.map(function(y){return f.getText(y)});return v.join("-")}return f.getText(c)}function j0(h,f){var t,c=f.getGroupScales();if(c.length&&(t=c[0]),t){var v=t.field;return t.getText(h[v])}var y=m_(f);return gg(y)}function gb(h,f,t){if(f.length===0)return null;var c=t.type,v=t.getXScale(),y=t.getYScale(),b=v.field,M=y.field,A=null;if(c==="heatmap"||c==="point"){for(var B=t.coordinate,H=B.invert(h),W=v.invert(H.x),Y=y.invert(H.y),Q=1/0,te=0;te<f.length;te++){var he=f[te],Me=he[Nt],Fe=Math.pow(Me[b]-W,2)+Math.pow(Me[M]-Y,2);Fe<Q&&(Q=Fe,A=he)}return A}var Qe=f[0],nt=f[f.length-1],pt=p_(h,t),Qt=Qe[Nt][b],Sr=Qe[Nt][M],Mr=nt[Nt][b],Or=y.isLinear&&(0,D.kJ)(Sr);if((0,D.kJ)(Qt)){for(var te=0;te<f.length;te++){var Xr=f[te],Me=Xr[Nt];if(v.translate(Me[b][0])<=pt&&v.translate(Me[b][1])>=pt)if(Or)(0,D.kJ)(A)||(A=[]),A.push(Xr);else{A=Xr;break}}(0,D.kJ)(A)&&(A=pb(A,h,t))}else{var tn=void 0;if(!v.isLinear&&v.type!=="timeCat"){for(var te=0;te<f.length;te++){var Xr=f[te],Me=Xr[Nt];if(kl(Me[b],pt,v))if(Or)(0,D.kJ)(A)||(A=[]),A.push(Xr);else{A=Xr;break}else v.translate(Me[b])<=pt&&(nt=Xr,tn=f[te+1])}(0,D.kJ)(A)&&(A=pb(A,h,t))}else{if((pt>v.translate(Mr)||pt<v.translate(Qt))&&(pt>v.max||pt<v.min))return null;for(var ti=0,ri=f.length-1,Yi=void 0;ti<=ri;){Yi=Math.floor((ti+ri)/2);var xa=f[Yi][Nt][b];if(kl(xa,pt,v))return f[Yi];v.translate(xa)<=v.translate(pt)?(ti=Yi+1,nt=f[Yi],tn=f[Yi+1]):(ri===0&&(nt=f[0]),ri=Yi-1)}}nt&&tn&&Math.abs(v.translate(nt[Nt][b])-pt)>Math.abs(v.translate(tn[Nt][b])-pt)&&(nt=tn)}var vo=g_(t.getXScale());return!A&&Math.abs(v.translate(nt[Nt][b])-pt)<=vo/2&&(A=nt),A}function Ux(h,f,t,c){var v,y;t===void 0&&(t=""),c===void 0&&(c=!1);var b=h[Nt],M=LM(b,f,t),A=f.tooltipOption,B=f.theme.defaultColor,H=[],W,Y;function Q(Xr,tn){if(c||!(0,D.UM)(tn)&&tn!==""){var ti={title:M,data:b,mappingData:h,name:Xr,value:tn,color:h.color||B,marker:!0};H.push(ti)}}if((0,D.Kn)(A)){var te=A.fields,he=A.callback;if(he){var Me=te.map(function(Xr){return h[Nt][Xr]}),Fe=he.apply(void 0,(0,U.ev)([],(0,U.CR)(Me),!1)),Qe=(0,U.pi)({data:h[Nt],mappingData:h,title:M,color:h.color||B,marker:!0},Fe);H.push(Qe)}else{var nt=f.scales;try{for(var pt=(0,U.XA)(te),Qt=pt.next();!Qt.done;Qt=pt.next()){var Sr=Qt.value;if(!(0,D.UM)(b[Sr])){var Mr=nt[Sr];W=gg(Mr),Y=Mr.getText(b[Sr]),Q(W,Y)}}}catch(Xr){v={error:Xr}}finally{try{Qt&&!Qt.done&&(y=pt.return)&&y.call(pt)}finally{if(v)throw v.error}}}}else{var Or=m_(f);Y=$l(b,Or),W=j0(b,f),Q(W,Y)}return H}function y_(h,f,t,c){var v,y,b=c.showNil,M=[],A=h.dataArray;if(!(0,D.xb)(A)){h.sort(A);try{for(var B=(0,U.XA)(A),H=B.next();!H.done;H=B.next()){var W=H.value,Y=gb(f,W,h);if(Y){var Q=h.getElementId(Y),te=h.elementsMap[Q];if(h.type==="heatmap"||te.visible){var he=Ux(Y,h,t,b);he.length&&M.push(he)}}}}catch(Me){v={error:Me}}finally{try{H&&!H.done&&(y=B.return)&&y.call(B)}finally{if(v)throw v.error}}}return M}function mb(h,f,t,c){var v=c.showNil,y=[],b=h.container,M=b.getShape(f.x,f.y);if(M&&M.get("visible")&&M.get("origin")){var A=M.get("origin").mappingData,B=Ux(A,h,t,v);B.length&&y.push(B)}return y}function ap(h,f,t){var c,v,y=[],b=h.geometries,M=t.shared,A=t.title,B=t.reversed;try{for(var H=(0,U.XA)(b),W=H.next();!W.done;W=H.next()){var Y=W.value;if(Y.visible&&Y.tooltipOption!==!1){var Q=Y.type,te=void 0;["point","edge","polygon"].includes(Q)?te=mb(Y,f,A,t):["area","line","path","heatmap"].includes(Q)||M!==!1?te=y_(Y,f,A,t):te=mb(Y,f,A,t),te.length&&(B&&te.reverse(),y.push(te))}}}catch(he){c={error:he}}finally{try{W&&!W.done&&(v=H.return)&&v.call(H)}finally{if(c)throw c.error}}return y}function Yx(h,f,t){var c,v,y=ap(h,f,t);try{for(var b=(0,U.XA)(h.views),M=b.next();!M.done;M=b.next()){var A=M.value;y=y.concat(ap(A,f,t))}}catch(B){c={error:B}}finally{try{M&&!M.done&&(v=b.return)&&v.call(b)}finally{if(c)throw c.error}}return y}function yb(h){return!(0,D.hj)(h)&&!(0,D.kJ)(h)}function bg(h){h===void 0&&(h=0);var f=(0,D.kJ)(h)?h:[h];switch(f.length){case 0:f=[0,0,0,0];break;case 1:f=new Array(4).fill(f[0]);break;case 2:f=(0,U.ev)((0,U.ev)([],(0,U.CR)(f),!1),(0,U.CR)(f),!1);break;case 3:f=(0,U.ev)((0,U.ev)([],(0,U.CR)(f),!1),[f[1]],!1);break;default:f=f.slice(0,4);break}return f}var Yc={};function ki(h,f){Yc[h]=f}function V0(h){delete Yc[h]}function op(){return Object.keys(Yc)}function wg(h){return Yc[h]}var Bu=function(){function h(f){this.option=this.wrapperOption(f)}return h.prototype.update=function(f){return this.option=this.wrapperOption(f),this},h.prototype.hasAction=function(f){var t=this.option.actions;return(0,D.G)(t,function(c){return c[0]===f})},h.prototype.create=function(f,t){var c=this.option,v=c.type,y=c.cfg,b=v==="theta",M=(0,U.pi)({start:f,end:t},y),A=Gh(b?"polar":v);return this.coordinate=new A(M),this.coordinate.type=v,b&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},h.prototype.adjust=function(f,t){return this.coordinate.update({start:f,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},h.prototype.rotate=function(f){return this.option.actions.push(["rotate",f]),this},h.prototype.reflect=function(f){return this.option.actions.push(["reflect",f]),this},h.prototype.scale=function(f,t){return this.option.actions.push(["scale",f,t]),this},h.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},h.prototype.getOption=function(){return this.option},h.prototype.getCoordinate=function(){return this.coordinate},h.prototype.wrapperOption=function(f){return(0,U.pi)({type:"rect",actions:[],cfg:{}},f)},h.prototype.execActions=function(f){var t=this,c=this.option.actions;(0,D.S6)(c,function(v){var y,b=(0,U.CR)(v),M=b[0],A=b.slice(1),B=(0,D.UM)(f)?!0:f.includes(M);B&&(y=t.coordinate)[M].apply(y,(0,U.ev)([],(0,U.CR)(A),!1))})},h}(),cC=Bu,X0=function(){function h(f,t,c){this.view=f,this.gEvent=t,this.data=c,this.type=t.type}return h.fromData=function(f,t,c){return new h(f,new at.Event(t,{}),c)},Object.defineProperty(h.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),h.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},h.prototype.clone=function(){return new h(this.view,this.gEvent,this.data)},h}(),Ul=X0;function lp(h){var f=h.getController("axis"),t=h.getController("legend"),c=h.getController("annotation"),v=h.getController("slider"),y=h.getController("scrollbar");[f,v,y,t,c].forEach(function(b){b&&b.layout()})}var xg=function(){function h(){this.scales=new Map,this.syncScales=new Map}return h.prototype.createScale=function(f,t,c,v){var y=c,b=this.getScaleMeta(v);if(t.length===0&&b){var M=b.scale,A={type:M.type};M.isCategory&&(A.values=M.values),y=(0,D.b$)(A,b.scaleDef,c)}var B=Qh(f,t,y);return this.cacheScale(B,c,v),B},h.prototype.sync=function(f,t){var c=this;this.syncScales.forEach(function(v,y){var b=Number.MAX_SAFE_INTEGER,M=Number.MIN_SAFE_INTEGER,A=[];(0,D.S6)(v,function(B){var H=c.getScale(B);M=(0,D.hj)(H.max)?Math.max(M,H.max):M,b=(0,D.hj)(H.min)?Math.min(b,H.min):b,(0,D.S6)(H.values,function(W){A.includes(W)||A.push(W)})}),(0,D.S6)(v,function(B){var H=c.getScale(B);if(H.isContinuous)H.change({min:b,max:M,values:A});else if(H.isCategory){var W=H.range,Y=c.getScaleMeta(B);A&&!(0,D.U2)(Y,["scaleDef","range"])&&(W=H0((0,D.b$)({},H,{values:A}),f,t)),H.change({values:A,range:W})}})})},h.prototype.cacheScale=function(f,t,c){var v=this.getScaleMeta(c);v&&v.scale.type===f.type?(f_(v.scale,f),v.scaleDef=t):(v={key:c,scale:f,scaleDef:t},this.scales.set(c,v));var y=this.getSyncKey(v);if(v.syncKey=y,this.removeFromSyncScales(c),y){var b=this.syncScales.get(y);b||(b=[],this.syncScales.set(y,b)),b.push(c)}},h.prototype.getScale=function(f){var t=this.getScaleMeta(f);if(!t){var c=(0,D.Z$)(f.split("-")),v=this.syncScales.get(c);v&&v.length&&(t=this.getScaleMeta(v[0]))}return t&&t.scale},h.prototype.deleteScale=function(f){var t=this.getScaleMeta(f);if(t){var c=t.syncKey,v=this.syncScales.get(c);if(v&&v.length){var y=v.indexOf(f);y!==-1&&v.splice(y,1)}}this.scales.delete(f)},h.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},h.prototype.removeFromSyncScales=function(f){var t=this;this.syncScales.forEach(function(c,v){var y=c.indexOf(f);if(y!==-1)return c.splice(y,1),c.length===0&&t.syncScales.delete(v),!1})},h.prototype.getSyncKey=function(f){var t=f.scale,c=f.scaleDef,v=t.field,y=(0,D.U2)(c,["sync"]);return y===!0?v:y===!1?void 0:y},h.prototype.getScaleMeta=function(f){return this.scales.get(f)},h}(),Z0=function(){function h(f,t,c,v){f===void 0&&(f=0),t===void 0&&(t=0),c===void 0&&(c=0),v===void 0&&(v=0),this.top=f,this.right=t,this.bottom=c,this.left=v}return h.instance=function(f,t,c,v){return f===void 0&&(f=0),t===void 0&&(t=0),c===void 0&&(c=0),v===void 0&&(v=0),new h(f,t,c,v)},h.prototype.max=function(f){var t=(0,U.CR)(f,4),c=t[0],v=t[1],y=t[2],b=t[3];return this.top=Math.max(this.top,c),this.right=Math.max(this.right,v),this.bottom=Math.max(this.bottom,y),this.left=Math.max(this.left,b),this},h.prototype.shrink=function(f){var t=(0,U.CR)(f,4),c=t[0],v=t[1],y=t[2],b=t[3];return this.top+=c,this.right+=v,this.bottom+=y,this.left+=b,this},h.prototype.inc=function(f,t){var c=f.width,v=f.height;switch(t){case lt.TOP:case lt.TOP_LEFT:case lt.TOP_RIGHT:this.top+=v;break;case lt.RIGHT:case lt.RIGHT_TOP:case lt.RIGHT_BOTTOM:this.right+=c;break;case lt.BOTTOM:case lt.BOTTOM_LEFT:case lt.BOTTOM_RIGHT:this.bottom+=v;break;case lt.LEFT:case lt.LEFT_TOP:case lt.LEFT_BOTTOM:this.left+=c;break;default:break}return this},h.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},h.prototype.clone=function(){return new(h.bind.apply(h,(0,U.ev)([void 0],(0,U.CR)(this.getPadding()),!1)))},h}();function jx(h){var f=h.padding;if(!yb(f))return new(Z0.bind.apply(Z0,(0,U.ev)([void 0],(0,U.CR)(bg(f)),!1)));var t=h.viewBBox,c=new Z0,v=[],y=[],b=[];return(0,D.S6)(h.getComponents(),function(M){var A=M.type;A===Gt.AXIS?v.push(M):[Gt.LEGEND,Gt.SLIDER,Gt.SCROLLBAR].includes(A)?y.push(M):A!==Gt.GRID&&A!==Gt.TOOLTIP&&b.push(M)}),(0,D.S6)(v,function(M){var A=M.component,B=A.getLayoutBBox(),H=new ul(B.x,B.y,B.width,B.height),W=H.exceed(t);c.max(W)}),(0,D.S6)(y,function(M){var A=M.component,B=M.direction,H=A.getLayoutBBox(),W=A.get("padding"),Y=new ul(H.x,H.y,H.width,H.height).expand(W);c.inc(Y,B)}),(0,D.S6)(b,function(M){var A=M.component,B=M.direction,H=A.getLayoutBBox(),W=new ul(H.x,H.y,H.width,H.height);c.inc(W,B)}),c}function Qu(h,f,t){var c=t.instance();f.forEach(function(v){v.autoPadding=c.max(v.autoPadding.getPadding())})}var K0=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,{visible:t.visible})||this;c.views=[],c.geometries=[],c.controllers=[],c.interactions={},c.limitInPlot=!1,c.options={data:[],animate:!0},c.usedControllers=op(),c.scalePool=new xg,c.layoutFunc=lp,c.isPreMouseInPlot=!1,c.isDataChanged=!1,c.isCoordinateChanged=!1,c.createdScaleKeys=new Map,c.onCanvasEvent=function(nt){var pt=nt.name;if(!pt.includes(":")){var Qt=c.createViewEvent(nt);c.doPlotEvent(Qt),c.emit(pt,Qt)}},c.onDelegateEvents=function(nt){var pt=nt.name;if(pt.includes(":")){var Qt=c.createViewEvent(nt);c.emit(pt,Qt)}};var v=t.id,y=v===void 0?(0,D.EL)("view"):v,b=t.parent,M=t.canvas,A=t.backgroundGroup,B=t.middleGroup,H=t.foregroundGroup,W=t.region,Y=W===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:W,Q=t.padding,te=t.appendPadding,he=t.theme,Me=t.options,Fe=t.limitInPlot,Qe=t.syncViewPadding;return c.parent=b,c.canvas=M,c.backgroundGroup=A,c.middleGroup=B,c.foregroundGroup=H,c.region=Y,c.padding=Q,c.appendPadding=te,c.options=(0,U.pi)((0,U.pi)({},c.options),Me),c.limitInPlot=Fe,c.id=y,c.syncViewPadding=Qe,c.themeObject=(0,D.Kn)(he)?(0,D.b$)({},vb("default"),Fs(he)):vb(he),c.init(),c}return f.prototype.setLayout=function(t){this.layoutFunc=t},f.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},f.prototype.render=function(t,c){t===void 0&&(t=!1),this.emit(tr.BEFORE_RENDER,Ul.fromData(this,tr.BEFORE_RENDER,c)),this.paint(t),this.emit(tr.AFTER_RENDER,Ul.fromData(this,tr.AFTER_RENDER,c)),this.visible===!1&&this.changeVisible(!1)},f.prototype.clear=function(){var t=this;this.emit(tr.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var c=this.geometries,v=0;v<c.length;v++)c[v].clear(),c[v].container.remove(!0),c[v].labelsContainer.remove(!0);this.geometries=[];for(var y=this.controllers,v=0;v<y.length;v++)y[v].name==="annotation"?y[v].clear(!0):y[v].clear();this.createdScaleKeys.forEach(function(M,A){t.getRootView().scalePool.deleteScale(A)}),this.createdScaleKeys.clear();for(var b=this.views,v=0;v<b.length;v++)b[v].clear();this.emit(tr.AFTER_CLEAR)},f.prototype.destroy=function(){this.emit(tr.BEFORE_DESTROY);var t=this.interactions;(0,D.S6)(t,function(M){M&&M.destroy()}),this.clear();for(var c=this.controllers,v=0,y=c.length;v<y;v++){var b=c[v];b.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),h.prototype.destroy.call(this)},f.prototype.changeVisible=function(t){h.prototype.changeVisible.call(this,t);for(var c=this.geometries,v=0,y=c.length;v<y;v++){var b=c[v];b.changeVisible(t)}for(var M=this.controllers,v=0,y=M.length;v<y;v++){var A=M[v];A.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},f.prototype.data=function(t){return(0,D.t8)(this.options,"data",t),this.isDataChanged=!0,this},f.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},f.prototype.filter=function(t,c){return(0,D.mf)(c)?((0,D.t8)(this.options,["filters",t],c),this):(!c&&(0,D.U2)(this.options,["filters",t])&&delete this.options.filters[t],this)},f.prototype.axis=function(t,c){return(0,D.jn)(t)?(0,D.t8)(this.options,["axes"],t):(0,D.t8)(this.options,["axes",t],c),this},f.prototype.legend=function(t,c){return(0,D.jn)(t)?(0,D.t8)(this.options,["legends"],t):(0,D.HD)(t)?((0,D.t8)(this.options,["legends",t],c),(0,D.PO)(c)&&(c!=null&&c.selected)&&(0,D.t8)(this.options,["filters",t],function(v){var y;return(y=c==null?void 0:c.selected[v])!==null&&y!==void 0?y:!0})):(0,D.t8)(this.options,["legends"],t),this},f.prototype.scale=function(t,c){var v=this;return(0,D.HD)(t)?(0,D.t8)(this.options,["scales",t],c):(0,D.Kn)(t)&&(0,D.S6)(t,function(y,b){(0,D.t8)(v.options,["scales",b],y)}),this},f.prototype.tooltip=function(t){return(0,D.t8)(this.options,"tooltip",t),this},f.prototype.annotation=function(){return this.getController("annotation")},f.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},f.prototype.coordinate=function(t,c){return(0,D.HD)(t)?(0,D.t8)(this.options,"coordinate",{type:t,cfg:c}):(0,D.t8)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},f.prototype.coord=function(t,c){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,c)},f.prototype.facet=function(t,c){this.facetInstance&&this.facetInstance.destroy();var v=An(t);if(!v)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new v(this,(0,U.pi)((0,U.pi)({},c),{type:t})),this},f.prototype.animate=function(t){return(0,D.t8)(this.options,"animate",t),this},f.prototype.updateOptions=function(t){return this.clear(),(0,D.CD)(this.options,t),this.views.forEach(function(c){return c.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},f.prototype.option=function(t,c){if(f.prototype[t])throw new Error(`Can't use built in variable name "`.concat(t,'", please change another one.'));return(0,D.t8)(this.options,t,c),this},f.prototype.theme=function(t){return this.themeObject=(0,D.Kn)(t)?(0,D.b$)({},this.themeObject,Fs(t)):vb(t),this},f.prototype.interaction=function(t,c){var v=this.interactions[t];v&&v.destroy();var y=d_(t,this,c);return y&&(y.init(),this.interactions[t]=y),this},f.prototype.removeInteraction=function(t){var c=this.interactions[t];c&&(c.destroy(),this.interactions[t]=void 0)},f.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(tr.BEFORE_CHANGE_DATA,Ul.fromData(this,tr.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var c=this.views,v=0,y=c.length;v<y;v++){var b=c[v];b.changeData(t)}this.emit(tr.AFTER_CHANGE_DATA,Ul.fromData(this,tr.AFTER_CHANGE_DATA,null))},f.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var c={data:this.options.data,scales:(0,D.d9)(this.options.scales),axes:(0,D.d9)(this.options.axes),coordinate:(0,D.d9)(this.coordinateController.getOption()),tooltip:(0,D.d9)(this.options.tooltip),legends:(0,D.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},v=new f((0,U.pi)((0,U.pi)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:lr.BG}),middleGroup:this.middleGroup.addGroup({zIndex:lr.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:lr.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,U.pi)((0,U.pi)({},c),(0,D.U2)(t,"options",{}))}));return this.views.push(v),v},f.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},f.prototype.removeView=function(t){var c=(0,D.Od)(this.views,function(v){return v===t})[0];return c&&c.destroy(),c},f.prototype.getCoordinate=function(){return this.coordinateInstance},f.prototype.getTheme=function(){return this.themeObject},f.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},f.prototype.getYScales=function(){var t={},c=[];return this.geometries.forEach(function(v){var y=v.getYScale(),b=y.field;t[b]||(t[b]=!0,c.push(y))}),c},f.prototype.getScalesByDim=function(t){for(var c=this.geometries,v={},y=0,b=c.length;y<b;y++){var M=c[y],A=t==="x"?M.getXScale():M.getYScale();A&&!v[A.field]&&(v[A.field]=A)}return v},f.prototype.getScale=function(t,c){var v=c||this.getScaleKey(t);return this.getRootView().scalePool.getScale(v)},f.prototype.getScaleByField=function(t,c){return this.getScale(t,c)},f.prototype.getOptions=function(){return this.options},f.prototype.getData=function(){return this.filteredData},f.prototype.getOriginalData=function(){return this.options.data},f.prototype.getPadding=function(){return this.autoPadding.getPadding()},f.prototype.getGeometries=function(){return this.geometries},f.prototype.getElements=function(){return(0,D.u4)(this.geometries,function(t,c){return t.concat(c.getElements())},[])},f.prototype.getElementsBy=function(t){return this.getElements().filter(function(c){return t(c)})},f.prototype.getLayer=function(t){return t===Pt.BG?this.backgroundGroup:t===Pt.MID?this.middleGroup:t===Pt.FORE?this.foregroundGroup:this.foregroundGroup},f.prototype.isPointInPlot=function(t){return qh(this.getCoordinate(),t)},f.prototype.getLegendAttributes=function(){return(0,D.xH)(this.geometries.map(function(t){return t.getGroupAttributes()}))},f.prototype.getGroupScales=function(){var t=this.geometries.map(function(c){return c.getGroupScales()});return Kh((0,D.xH)(t))},f.prototype.getCanvas=function(){return this.getRootView().canvas},f.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},f.prototype.getXY=function(t){var c=this.getCoordinate(),v=this.getScalesByDim("x"),y=this.getScalesByDim("y"),b,M;if((0,D.S6)(t,function(A,B){v[B]&&(b=v[B].scale(A)),y[B]&&(M=y[B].scale(A))}),!(0,D.UM)(b)&&!(0,D.UM)(M))return c.convert({x:b,y:M})},f.prototype.getController=function(t){return(0,D.sE)(this.controllers,function(c){return c.name===t})},f.prototype.showTooltip=function(t){var c=this.getController("tooltip");return c&&c.showTooltip(t),this},f.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},f.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},f.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},f.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},f.prototype.getTooltipItems=function(t){var c=this.getController("tooltip");return c?c.getTooltipItems(t):[]},f.prototype.getSnapRecords=function(t){for(var c=this.geometries,v=[],y=0,b=c.length;y<b;y++){var M=c[y],A=M.dataArray;M.sort(A);for(var B=void 0,H=0,W=A.length;H<W;H++){var Y=A[H];B=gb(t,Y,M),B&&v.push(B)}}for(var Q=this.views,y=0,b=Q.length;y<b;y++){var te=Q[y],he=te.getSnapRecords(t);v=v.concat(he)}return v},f.prototype.getComponents=function(){for(var t=[],c=this.controllers,v=0,y=c.length;v<y;v++){var b=c[v];t=t.concat(b.getComponents())}return t},f.prototype.filterData=function(t){var c=this.options.filters;return(0,D.dp)(c)===0?t:(0,D.hX)(t,function(v,y){var b=Object.keys(c);return b.every(function(M){var A=c[M];return A(v[M],v,y)})})},f.prototype.filterFieldData=function(t,c){var v=this.options.filters,y=(0,D.U2)(v,t);return(0,D.o8)(y)?c:c.filter(function(b,M){return y(b[t],b,M)})},f.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),c=t.start,v=t.end,y=this.coordinateBBox.bl,b=this.coordinateBBox.tr;if((0,D.Xy)(c,y)&&(0,D.Xy)(v,b)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(y,b)},f.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(tr.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(tr.AFTER_PAINT),this.isDataChanged=!1},f.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,D.U2)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var c=this.viewBBox,v=c.x,y=c.y,b=c.width,M=c.height;this.backgroundStyleRectShape.attr({fill:t,x:v,y,width:b,height:M})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},f.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=jx(this).shrink(bg(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var c=this.controllers.find(function(A){return A.name==="tooltip"});c.update();for(var v=this.views,y=0,b=v.length;y<b;y++){var M=v[y];M.renderPaddingRecursive(t)}},f.prototype.renderLayoutRecursive=function(t){var c=this.syncViewPadding===!0?Qu:(0,D.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;c&&(c(this,this.views,Z0),this.views.forEach(function(A){A.coordinateBBox=A.viewBBox.shrink(A.autoPadding.getPadding()),A.adjustCoordinate()})),this.doLayout();for(var v=this.views,y=0,b=v.length;y<b;y++){var M=v[y];M.renderLayoutRecursive(t)}},f.prototype.renderPaintRecursive=function(t){var c=this.middleGroup;if(this.limitInPlot){var v=ab(this.coordinateInstance),y=v.type,b=v.attrs;c.setClip({type:y,attrs:b})}else c.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var M=this.views,A=0,B=M.length;A<B;A++){var H=M[A];H.renderPaintRecursive(t)}},f.prototype.createScale=function(t,c,v,y){var b=(0,D.U2)(this.options.scales,[t]),M=(0,U.pi)((0,U.pi)({},b),v);return this.parent?this.parent.createScale(t,c,M,y):this.scalePool.createScale(t,c,M,y)},f.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var c=this.views,v=0,y=c.length;v<y;v++){var b=c[v];b.renderDataRecursive(t)}},f.prototype.calculateViewBBox=function(){var t,c,v,y;if(this.parent){var b=this.parent.coordinateBBox;t=b.x,c=b.y,v=b.width,y=b.height}else t=0,c=0,v=this.canvas.get("width"),y=this.canvas.get("height");var M=this.region,A=M.start,B=M.end,H=new ul(t+v*A.x,c+y*A.y,v*(B.x-A.x),y*(B.y-A.y));(!this.viewBBox||!this.viewBBox.isEqual(H))&&(this.viewBBox=new ul(t+v*A.x,c+y*A.y,v*(B.x-A.x),y*(B.y-A.y))),this.coordinateBBox=this.viewBBox},f.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},f.prototype.initComponentController=function(){for(var t=this.usedControllers,c=0,v=t.length;c<v;c++){var y=t[c],b=wg(y);b&&this.controllers.push(new b(this))}},f.prototype.createViewEvent=function(t){var c=t.shape,v=t.name,y=c?c.get("origin"):null,b=new Ul(this,t,y);return b.type=v,b},f.prototype.doPlotEvent=function(t){var c=t.type,v=t.x,y=t.y,b={x:v,y},M=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(M.includes(c)){var A=this.isPointInPlot(b),B=t.clone();if(A){var H="plot:".concat(c);B.type=H,this.emit(H,B),(c==="mouseleave"||c==="touchend")&&(this.isPreMouseInPlot=!1)}c==="mousemove"||c==="touchmove"?(this.isPreMouseInPlot&&!A?(c==="mousemove"&&(B.type=gt.MOUSE_LEAVE,this.emit(gt.MOUSE_LEAVE,B)),B.type=gt.LEAVE,this.emit(gt.LEAVE,B)):!this.isPreMouseInPlot&&A&&(c==="mousemove"&&(B.type=gt.MOUSE_ENTER,this.emit(gt.MOUSE_ENTER,B)),B.type=gt.ENTER,this.emit(gt.ENTER,B)),this.isPreMouseInPlot=A):(c==="mouseleave"||c==="touchend")&&this.isPreMouseInPlot&&(c==="mouseleave"&&(B.type=gt.MOUSE_LEAVE,this.emit(gt.MOUSE_LEAVE,B)),B.type=gt.LEAVE,this.emit(gt.LEAVE,B),this.isPreMouseInPlot=!1)}},f.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},f.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var c=this.getCoordinate(),v=(0,D.U2)(this.options,"scales",{}),y=this.geometries,b=0,M=y.length;b<M;b++){var A=y[b];A.scales=this.getGeometryScales();var B={coordinate:c,scaleDefs:v,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?A.update(B):A.init(B)}this.adjustScales()},f.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),c=this.getGroupedFields(),v=this.getOptions(),y=v.data,b=v.scales,M=b===void 0?{}:b,A=this.filteredData,B=0,H=t.length;B<H;B++){var W=t[B],Y=M[W],Q=this.getScaleKey(W);this.createScale(W,c.includes(W)?y:A,Y,Q),this.createdScaleKeys.set(Q,!0)}},f.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},f.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),c={},v=0;v<t.length;v++){var y=t[v];c[y]=this.getScaleByField(y)}return c},f.prototype.getScaleFields=function(){for(var t=[],c=new Map,v=this.geometries,y=0;y<v.length;y++){var b=v[y],M=b.getScaleFields();Kh(M,t,c)}return t},f.prototype.getGroupedFields=function(){for(var t=[],c=new Map,v=this.geometries,y=0;y<v.length;y++){var b=v[y],M=b.getGroupFields();Kh(M,t,c)}return t},f.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},f.prototype.adjustCategoryScaleRange=function(){var t=this,c=(0,U.ev)([this.getXScale()],(0,U.CR)(this.getYScales()),!1).filter(function(b){return!!b}),v=this.getCoordinate(),y=this.options.scales;(0,D.S6)(c,function(b){var M=b.field,A=b.values,B=b.isCategory,H=b.isIdentity;(B||H)&&A&&!(0,D.U2)(y,[M,"range"])&&(b.range=H0(b,v,t.theme))})},f.prototype.initComponents=function(t){for(var c=this.controllers,v=0;v<c.length;v++){var y=c[v];t?y.update():(y.clear(),y.render())}},f.prototype.doLayout=function(){this.layoutFunc(this)},f.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,c=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,c)},f.prototype.paintGeometries=function(t){for(var c=this.options.animate,v=this.getCoordinate(),y={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},b=this.geometries,M=0;M<b.length;M++){var A=b[M];A.coordinate=v,A.canvasRegion=y,c||A.animate(!1),A.paint(t)}},f.prototype.renderComponents=function(t){for(var c=this.getComponents(),v=0;v<c.length;v++){var y=c[v];y.component.render()}},f.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},f.prototype.initOptions=function(){var t=this,c=this.options,v=c.geometries,y=v===void 0?[]:v,b=c.interactions,M=b===void 0?[]:b,A=c.views,B=A===void 0?[]:A,H=c.annotations,W=H===void 0?[]:H,Y=c.coordinate,Q=c.events,te=c.facets;this.coordinateController?Y&&this.coordinateController.update(Y):this.coordinateController=new cC(Y);for(var he=0;he<y.length;he++){var Me=y[he];this.createGeometry(Me)}for(var Fe=0;Fe<M.length;Fe++){var Qe=M[Fe],nt=Qe.type,pt=Qe.cfg;this.interaction(nt,pt)}for(var Qt=0;Qt<B.length;Qt++){var Sr=B[Qt];this.createView(Sr)}for(var Mr=this.getController("annotation"),Or=0;Or<W.length;Or++){var Xr=W[Or];Mr.annotation(Xr)}Q&&(0,D.S6)(Q,function(tn,ti){t.on(ti,tn)}),te&&(0,D.S6)(te,function(tn){var ti=tn.type,ri=(0,U._T)(tn,["type"]);t.facet(ti,ri)})},f.prototype.createGeometry=function(t){var c=t.type,v=t.cfg,y=v===void 0?{}:v;if(this[c]){var b=this[c](y);(0,D.S6)(t,function(M,A){(0,D.mf)(b[A])&&b[A](M)})}},f.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},f}(Bt);function Of(h,f){K0.prototype[h.toLowerCase()]=function(t){t===void 0&&(t={});var c=(0,U.pi)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),v=new f(c);return this.geometries.push(v),v}}var C_=K0,nv=function(h){(0,U.ZT)(f,h);function f(t){var c=this,v=t.container,y=t.width,b=t.height,M=t.autoFit,A=M===void 0?!1:M,B=t.padding,H=t.appendPadding,W=t.renderer,Y=W===void 0?"canvas":W,Q=t.pixelRatio,te=t.localRefresh,he=te===void 0?!0:te,Me=t.visible,Fe=Me===void 0?!0:Me,Qe=t.supportCSSTransform,nt=Qe===void 0?!1:Qe,pt=t.defaultInteractions,Qt=pt===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:pt,Sr=t.options,Mr=t.limitInPlot,Or=t.theme,Xr=t.syncViewPadding,tn=(0,D.HD)(v)?document.getElementById(v):v,ti=un('<div style="position:relative;"></div>');tn.appendChild(ti);var ri=be(tn,A,y,b),Yi=Mn(Y),xa=new Yi.Canvas((0,U.pi)({container:ti,pixelRatio:Q,localRefresh:he,supportCSSTransform:nt},ri));return c=h.call(this,{parent:null,canvas:xa,backgroundGroup:xa.addGroup({zIndex:lr.BG}),middleGroup:xa.addGroup({zIndex:lr.MID}),foregroundGroup:xa.addGroup({zIndex:lr.FORE}),padding:B,appendPadding:H,visible:Fe,options:Sr,limitInPlot:Mr,theme:Or,syncViewPadding:Xr})||this,c.onResize=(0,D.Ds)(function(){c.forceFit()},300),c.ele=tn,c.canvas=xa,c.width=ri.width,c.height=ri.height,c.autoFit=A,c.localRefresh=he,c.renderer=Y,c.wrapperElement=ti,c.updateCanvasStyle(),c.bindAutoFit(),c.initDefaultInteractions(Qt),c}return f.prototype.initDefaultInteractions=function(t){var c=this;(0,D.S6)(t,function(v){c.interaction(v)})},f.prototype.aria=function(t){var c="aria-label";t===!1?this.ele.removeAttribute(c):this.ele.setAttribute(c,t.label)},f.prototype.changeSize=function(t,c){return this.width===t&&this.height===c?this:(this.emit(tr.BEFORE_CHANGE_SIZE),this.width=t,this.height=c,this.canvas.changeSize(t,c),this.render(!0),this.emit(tr.AFTER_CHANGE_SIZE),this)},f.prototype.clear=function(){h.prototype.clear.call(this),this.aria(!1)},f.prototype.destroy=function(){h.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Ae(this.wrapperElement),this.wrapperElement=null},f.prototype.changeVisible=function(t){return h.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},f.prototype.forceFit=function(){if(!this.destroyed){var t=be(this.ele,!0,this.width,this.height),c=t.width,v=t.height;this.changeSize(c,v)}},f.prototype.updateCanvasStyle=function(){yn(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},f.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},f.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},f}(C_),b_=nv,rh=function(){function h(f){this.visible=!0,this.components=[],this.view=f}return h.prototype.clear=function(f){(0,D.S6)(this.components,function(t){t.component.destroy()}),this.components=[]},h.prototype.destroy=function(){this.clear()},h.prototype.getComponents=function(){return this.components},h.prototype.changeVisible=function(f){this.visible!==f&&(this.components.forEach(function(t){f?t.component.show():t.component.hide()}),this.visible=f)},h}();function w_(h){for(var f=[],t=function(v){var y=h[v],b=(0,D.sE)(f,function(M){return M.color===y.color&&M.name===y.name&&M.value===y.value&&M.title===y.title});b||f.push(y)},c=0;c<h.length;c++)t(c);return f}var Na=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(f.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),f.prototype.init=function(){},f.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},f.prototype.render=function(){},f.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var c=this.view,v=this.getTooltipItems(t);if(!v.length){this.hideTooltip();return}var y=this.getTitle(v),b={x:v[0].x,y:v[0].y};c.emit("tooltip:show",Ul.fromData(c,"tooltip:show",(0,U.pi)({items:v,title:y},t)));var M=this.getTooltipCfg(),A=M.follow,B=M.showMarkers,H=M.showCrosshairs,W=M.showContent,Y=M.marker,Q=this.items,te=this.title;if(!(0,D.Xy)(te,y)||!(0,D.Xy)(Q,v)?(c.emit("tooltip:change",Ul.fromData(c,"tooltip:change",(0,U.pi)({items:v,title:y},t))),((0,D.mf)(W)?W(v):W)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,D.CD)({},M,{items:this.getItemsAfterProcess(v),title:y},A?t:{})),this.tooltip.show()),B&&this.renderTooltipMarkers(v,Y)):(this.tooltip&&A&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=v,this.title=y,H){var he=(0,D.U2)(M,["crosshairs","follow"],!1);this.renderCrosshairs(he?t:b,M)}}},f.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var c=this.tooltipMarkersGroup;c&&c.hide();var v=this.xCrosshair,y=this.yCrosshair;v&&v.hide(),y&&y.hide();var b=this.tooltip;b&&b.hide(),this.view.emit("tooltip:hide",Ul.fromData(this.view,"tooltip:hide",{})),this.point=null},f.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},f.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},f.prototype.isTooltipLocked=function(){return this.isLocked},f.prototype.clear=function(){var t=this,c=t.tooltip,v=t.xCrosshair,y=t.yCrosshair,b=t.tooltipMarkersGroup;c&&(c.hide(),c.clear()),v&&v.clear(),y&&y.clear(),b&&b.clear(),c!=null&&c.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},f.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},f.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},f.prototype.changeVisible=function(t){if(this.visible!==t){var c=this,v=c.tooltip,y=c.tooltipMarkersGroup,b=c.xCrosshair,M=c.yCrosshair;t?(v&&v.show(),y&&y.show(),b&&b.show(),M&&M.show()):(v&&v.hide(),y&&y.hide(),b&&b.hide(),M&&M.hide()),this.visible=t}},f.prototype.getTooltipItems=function(t){var c,v,y,b,M,A,B=this.findItemsFromView(this.view,t);if(B.length){B=(0,D.xH)(B);try{for(var H=(0,U.XA)(B),W=H.next();!W.done;W=H.next()){var Y=W.value;try{for(var Q=(y=void 0,(0,U.XA)(Y)),te=Q.next();!te.done;te=Q.next()){var he=te.value,Me=he.mappingData,Fe=Me.x,Qe=Me.y;he.x=(0,D.kJ)(Fe)?Fe[Fe.length-1]:Fe,he.y=(0,D.kJ)(Qe)?Qe[Qe.length-1]:Qe}}catch(tn){y={error:tn}}finally{try{te&&!te.done&&(b=Q.return)&&b.call(Q)}finally{if(y)throw y.error}}}}catch(tn){c={error:tn}}finally{try{W&&!W.done&&(v=H.return)&&v.call(H)}finally{if(c)throw c.error}}var nt=this.getTooltipCfg().shared;if(nt===!1&&B.length>1){var pt=B[0],Qt=Math.abs(t.y-pt[0].y);try{for(var Sr=(0,U.XA)(B),Mr=Sr.next();!Mr.done;Mr=Sr.next()){var Or=Mr.value,Xr=Math.abs(t.y-Or[0].y);Xr<=Qt&&(pt=Or,Qt=Xr)}}catch(tn){M={error:tn}}finally{try{Mr&&!Mr.done&&(A=Sr.return)&&A.call(Sr)}finally{if(M)throw M.error}}B=[pt]}return w_((0,D.xH)(B))}return[]},f.prototype.layout=function(){},f.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},f.prototype.isCursorEntered=function(t){if(this.tooltip){var c=this.tooltip.getContainer(),v=this.tooltip.get("capture");if(c&&v){var y=c.getBoundingClientRect(),b=y.x,M=y.y,A=y.width,B=y.height;return new ul(b,M,A,B).isPointIn(t)}}return!1},f.prototype.getTooltipCfg=function(){var t=this.view,c=t.getOptions().tooltip,v=this.processCustomContent(c),y=t.getTheme(),b=(0,D.U2)(y,["components","tooltip"],{}),M=(0,D.U2)(v,"enterable",b.enterable);return(0,D.b$)({},b,v,{capture:!!(M||this.isLocked)})},f.prototype.processCustomContent=function(t){if((0,D.jn)(t)||!(0,D.U2)(t,"customContent"))return t;var c=t.customContent,v=function(y,b){var M=c(y,b)||"";return(0,D.HD)(M)?'<div class="g2-tooltip">'+M+"</div>":M};return(0,U.pi)((0,U.pi)({},t),{customContent:v})},f.prototype.getTitle=function(t){var c=t[0].title||t[0].name;return this.title=c,c},f.prototype.renderTooltip=function(){var t=this.view.getCanvas(),c={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},v=this.getTooltipCfg(),y=new Qd((0,U.pi)((0,U.pi)({parent:t.get("el").parentNode,region:c},v),{visible:!1,crosshairs:null}));y.init(),this.tooltip=y},f.prototype.renderTooltipMarkers=function(t,c){var v,y,b=this.getTooltipMarkersGroup(),M=this.view.getRootView(),A=M.limitInPlot;try{for(var B=(0,U.XA)(t),H=B.next();!H.done;H=B.next()){var W=H.value,Y=W.x,Q=W.y;if(A||b!=null&&b.getClip()){var te=ab(M.getCoordinate()),he=te.type,Me=te.attrs;b==null||b.setClip({type:he,attrs:Me})}else b==null||b.setClip(void 0);var Fe=this.view.getTheme(),Qe=(0,D.U2)(Fe,["components","tooltip","marker"],{}),nt=(0,U.pi)((0,U.pi)({fill:W.color,symbol:"circle",shadowColor:W.color},(0,D.mf)(c)?(0,U.pi)((0,U.pi)({},Qe),c(W)):c),{x:Y,y:Q});b.addShape("marker",{attrs:nt})}}catch(pt){v={error:pt}}finally{try{H&&!H.done&&(y=B.return)&&y.call(B)}finally{if(v)throw v.error}}},f.prototype.renderCrosshairs=function(t,c){var v=(0,D.U2)(c,["crosshairs","type"],"x");v==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,c)):v==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,c)):v==="xy"&&(this.renderXCrosshairs(t,c),this.renderYCrosshairs(t,c))},f.prototype.renderXCrosshairs=function(t,c){var v=this.getViewWithGeometry(this.view).getCoordinate(),y,b;if(v.isRect)v.isTransposed?(y={x:v.start.x,y:t.y},b={x:v.end.x,y:t.y}):(y={x:t.x,y:v.end.y},b={x:t.x,y:v.start.y});else{var M=pg(v,t),A=v.getCenter(),B=v.getRadius();b=sl(A.x,A.y,B,M),y=A}var H=(0,D.b$)({start:y,end:b,container:this.getTooltipCrosshairsGroup()},(0,D.U2)(c,"crosshairs",{}),this.getCrosshairsText("x",t,c));delete H.type;var W=this.xCrosshair;W?W.update(H):(W=new zc(H),W.init()),W.render(),W.show(),this.xCrosshair=W},f.prototype.renderYCrosshairs=function(t,c){var v=this.getViewWithGeometry(this.view).getCoordinate(),y,b;if(v.isRect){var M=void 0,A=void 0;v.isTransposed?(M={x:t.x,y:v.end.y},A={x:t.x,y:v.start.y}):(M={x:v.start.x,y:t.y},A={x:v.end.x,y:t.y}),y={start:M,end:A},b="Line"}else y={center:v.getCenter(),radius:$c(v,t),startAngle:v.startAngle,endAngle:v.endAngle},b="Circle";y=(0,D.b$)({container:this.getTooltipCrosshairsGroup()},y,(0,D.U2)(c,"crosshairs",{}),this.getCrosshairsText("y",t,c)),delete y.type;var B=this.yCrosshair;B?v.isRect&&B.get("type")==="circle"||!v.isRect&&B.get("type")==="line"?(B=new ie[b](y),B.init()):B.update(y):(B=new ie[b](y),B.init()),B.render(),B.show(),this.yCrosshair=B},f.prototype.getCrosshairsText=function(t,c,v){var y=(0,D.U2)(v,["crosshairs","text"]),b=(0,D.U2)(v,["crosshairs","follow"]),M=this.items;if(y){var A=this.getViewWithGeometry(this.view),B=M[0],H=A.getXScale(),W=A.getYScales()[0],Y=void 0,Q=void 0;if(b){var te=this.view.getCoordinate().invert(c);Y=H.invert(te.x),Q=W.invert(te.y)}else Y=B.data[H.field],Q=B.data[W.field];var he=t==="x"?Y:Q;return(0,D.mf)(y)?y=y(t,he,M,c):y.content=he,{text:y}}},f.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},f.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},f.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},f.prototype.findItemsFromView=function(t,c){var v,y;if(t.getOptions().tooltip===!1)return[];var b=this.getTooltipCfg(),M=ap(t,c,b);try{for(var A=(0,U.XA)(t.views),B=A.next();!B.done;B=A.next()){var H=B.value;M=M.concat(this.findItemsFromView(H,c))}}catch(W){v={error:W}}finally{try{B&&!B.done&&(y=A.return)&&y.call(A)}finally{if(v)throw v.error}}return M},f.prototype.getViewWithGeometry=function(t){var c=this;return t.geometries.length?t:(0,D.sE)(t.views,function(v){return c.getViewWithGeometry(v)})},f.prototype.getItemsAfterProcess=function(t){var c=this.getTooltipCfg().customItems,v=c||function(y){return y};return v(t)},f}(rh),Sg=Na,Cb={};function _g(h){return Cb[h.toLowerCase()]}function du(h,f){Cb[h.toLowerCase()]=f}var jc={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},io={interval:function(h){return{enter:{animation:h.isRect?h.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:h.isPolar&&h.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},ys={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(h){var f;return h.isRect?f=h.isTransposed?"grow-in-x":"grow-in-y":(f="grow-in-xy",h.isPolar&&h.isTransposed&&(f="wave-in")),{animation:f}},schema:function(h){var f;return h.isRect?f=h.isTransposed?"grow-in-x":"grow-in-y":f="grow-in-xy",{animation:f}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function rd(h,f){return{delay:(0,D.mf)(h.delay)?h.delay(f):h.delay,easing:(0,D.mf)(h.easing)?h.easing(f):h.easing,duration:(0,D.mf)(h.duration)?h.duration(f):h.duration,callback:h.callback,repeat:h.repeat}}function Ns(h,f,t){var c=io[h];return c&&((0,D.mf)(c)&&(c=c(f)),c=(0,D.b$)({},jc,c),t)?c[t]:c}function tl(h,f,t){var c=(0,D.U2)(h.get("origin"),"data",Nt),v=f.animation,y=rd(f,c);if(v){var b=_g(v);b&&b(h,y,t)}else h.animate(t.toAttrs,y)}function q0(h,f,t,c,v){if(ys[t]){var y=ys[t](c),b=_g((0,D.U2)(y,"animation",""));if(b){var M=(0,U.pi)((0,U.pi)((0,U.pi)({},jc.appear),y),f);h.stopAnimate(),b(h,M,{coordinate:c,minYPoint:v,toAttrs:null})}}}var nh="element-background",Q0=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;c.labelShape=[],c.states=[];var v=t.shapeFactory,y=t.container,b=t.offscreenGroup,M=t.elementIndex,A=t.visible,B=A===void 0?!0:A;return c.shapeFactory=v,c.container=y,c.offscreenGroup=b,c.visible=B,c.elementIndex=M,c}return f.prototype.draw=function(t,c){c===void 0&&(c=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,c),this.visible===!1&&this.changeVisible(!1)},f.prototype.update=function(t){var c=this,v=c.shapeFactory,y=c.shape;if(y){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(y,t);var b=this.getOffscreenGroup(),M=v.drawShape(this.shapeType,t,b);M.cfg.data=this.data,M.cfg.origin=t,M.cfg.element=this,this.syncShapeStyle(y,M,this.getStates(),this.getAnimateCfg("update"))}},f.prototype.destroy=function(){var t=this,c=t.shapeFactory,v=t.shape;if(v){var y=this.getAnimateCfg("leave");y?tl(v,y,{coordinate:c.coordinate,toAttrs:(0,U.pi)({},v.attr())}):v.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,h.prototype.destroy.call(this)},f.prototype.changeVisible=function(t){h.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(c){c.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(c){c.hide()}))},f.prototype.setState=function(t,c){var v=this,y=v.states,b=v.shapeFactory,M=v.model,A=v.shape,B=v.shapeType,H=y.indexOf(t);if(c){if(H>-1)return;y.push(t),(t==="active"||t==="selected")&&(A==null||A.toFront())}else{if(H===-1)return;if(y.splice(H,1),t==="active"||t==="selected"){var W=this.geometry,Y=W.sortZIndex,Q=W.zIndexReversed,te=Q?this.geometry.elements.length-this.elementIndex:this.elementIndex;Y?A.setZIndex(te):A.set("zIndex",te)}}var he=b.drawShape(B,M,this.getOffscreenGroup());y.length?this.syncShapeStyle(A,he,y,null):this.syncShapeStyle(A,he,["reset"],null),he.remove(!0);var Me={state:t,stateStatus:c,element:this,target:this.container};this.container.emit("statechange",Me),Kp(this.shape,"statechange",Me)},f.prototype.clearStates=function(){var t=this,c=this.states;(0,D.S6)(c,function(v){t.setState(v,!1)}),this.states=[]},f.prototype.hasState=function(t){return this.states.includes(t)},f.prototype.getStates=function(){return this.states},f.prototype.getData=function(){return this.data},f.prototype.getModel=function(){return this.model},f.prototype.getBBox=function(){var t=this,c=t.shape,v=t.labelShape,y={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return c&&(y=c.getCanvasBBox()),v&&v.forEach(function(b){var M=b.getCanvasBBox();y.x=Math.min(M.x,y.x),y.y=Math.min(M.y,y.y),y.minX=Math.min(M.minX,y.minX),y.minY=Math.min(M.minY,y.minY),y.maxX=Math.max(M.maxX,y.maxX),y.maxY=Math.max(M.maxY,y.maxY)}),y.width=y.maxX-y.minX,y.height=y.maxY-y.minY,y},f.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,c=t.shapeType,v=t.geometry,y=t.shapeFactory,b=v.stateOption,M=y.defaultShapeType,A=y.theme[c]||y.theme[M];this.statesStyle=(0,D.b$)({},A,b)}return this.statesStyle},f.prototype.getStateStyle=function(t,c){var v=this.getStatesStyle(),y=(0,D.U2)(v,[t,"style"],{}),b=y[c]||y;return(0,D.mf)(b)?b(this):b},f.prototype.getAnimateCfg=function(t){var c=this,v=this.animate;if(v){var y=v[t];return y&&(0,U.pi)((0,U.pi)({},y),{callback:function(){var b;(0,D.mf)(y.callback)&&y.callback(),(b=c.geometry)===null||b===void 0||b.emit(xt.AFTER_DRAW_ANIMATE)}})}return null},f.prototype.drawShape=function(t,c){var v;c===void 0&&(c=!1);var y=this,b=y.shapeFactory,M=y.container,A=y.shapeType;if(this.shape=b.drawShape(A,t,M),this.shape){this.setShapeInfo(this.shape,t);var B=this.shape.cfg.name;B?(0,D.HD)(B)&&(this.shape.cfg.name=["element",B]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var H=c?"enter":"appear",W=this.getAnimateCfg(H);W&&((v=this.geometry)===null||v===void 0||v.emit(xt.BEFORE_DRAW_ANIMATE),tl(this.shape,W,{coordinate:b.coordinate,toAttrs:(0,U.pi)({},this.shape.attr())}))}},f.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},f.prototype.setShapeInfo=function(t,c){var v=this;if(t.cfg.origin=c,t.cfg.element=this,t.isGroup()){var y=t.get("children");y.forEach(function(b){v.setShapeInfo(b,c)})}},f.prototype.syncShapeStyle=function(t,c,v,y,b){var M=this,A;if(v===void 0&&(v=[]),b===void 0&&(b=0),!(!t||!c)){var B=t.get("clipShape"),H=c.get("clipShape");if(this.syncShapeStyle(B,H,v,y),t.isGroup())for(var W=t.get("children"),Y=c.get("children"),Q=0;Q<W.length;Q++)this.syncShapeStyle(W[Q],Y[Q],v,y,b+Q);else{if(!(0,D.xb)(v)&&!(0,D.Xy)(v,["reset"])){var te=t.get("name");(0,D.kJ)(te)&&(te=te[1]),(0,D.S6)(v,function(Me){if(c.get("name")!==nh){var Fe=M.getStateStyle(Me,te||b);c.attr(Fe)}})}var he=ev(t,c);this.animate?y?((A=this.geometry)===null||A===void 0||A.emit(xt.BEFORE_DRAW_ANIMATE),tl(t,y,{coordinate:this.shapeFactory.coordinate,toAttrs:he,shapeModel:this.model})):(0,D.xb)(v)?t.attr(he):(t.stopAnimate(),t.animate(he,{duration:300})):t.attr(he)}}},f.prototype.getShapeType=function(t){var c=(0,D.U2)(t,"shape");return(0,D.kJ)(c)?c[0]:c},f}(Bt),Je=Q0,sp={},J0={};function fC(h){return sp[h.toLowerCase()]}function ih(h,f){sp[h.toLowerCase()]=f}function Vx(h){return J0[h.toLowerCase()]}function qs(h,f){J0[h.toLowerCase()]=f}var em={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(h,f){var t=this.getShape(h);return t.getPoints?t.getPoints(f):this.getDefaultPoints(f)},getShape:function(h){var f=this[h]||this[this.defaultShapeType];return f.coordinate=this.coordinate,f},getDefaultPoints:function(){return[]},getDefaultStyle:function(h){return(0,D.U2)(h,[this.defaultShapeType,"default","style"],{})},getMarker:function(h,f){var t=this.getShape(h);if(!t.getMarker){var c=this.defaultShapeType;t=this.getShape(c)}var v=this.theme,y=(0,D.U2)(v,[h,"default"],{}),b=t.getMarker(f);return(0,D.b$)({},y,b)},drawShape:function(h,f,t){var c=this.getShape(h);return c.draw(f,t)}},x_={coordinate:null,parsePath:function(h){var f=this.coordinate,t=(0,ll.tr)(h);return f.isPolar?t=Wx(f,t):t=zx(f,t),t},parsePoint:function(h){var f=this.coordinate;return f.convert(h)},parsePoints:function(h){var f=this.coordinate;return h.map(function(t){return f.convert(t)})},draw:function(h,f){}},tm={};function Vc(h,f){var t=(0,D.jC)(h),c=(0,U.pi)((0,U.pi)((0,U.pi)({},em),f),{geometryType:h});return tm[t]=c,c}function Ya(h,f,t){var c=(0,D.jC)(h),v=tm[c],y=(0,U.pi)((0,U.pi)({},x_),t);return v[f]=y,y}function Ju(h){var f=(0,D.jC)(h);return tm[f]}function nd(h,f,t){var c,v;if(t===void 0&&(t={}),!f)return[h];var y=(0,D.Ms)(h,f),b=[];if(f.length===1&&t[f[0]]){var M=t[f[0]];try{for(var A=(0,U.XA)(M),B=A.next();!B.done;B=A.next()){var H=B.value,W=y["_".concat(H)];W&&b.push(W)}}catch(te){c={error:te}}finally{try{B&&!B.done&&(v=A.return)&&v.call(A)}finally{if(c)throw c.error}}}else for(var Y in y)if(y.hasOwnProperty(Y)){var Q=y[Y];b.push(Q)}return b}function hC(h,f){return(0,D.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,D.Xy)(h[t],f[t])})}function id(h){return(0,D.kJ)(h)?h:h.split("*")}function rm(h,f){for(var t=[],c=[],v=[],y=new Map,b=0;b<f.length;b++){var M=f[b];h[M]?c.push(M):t.push(M),y.set(M,!0)}return Object.keys(h).forEach(function(A){y.has(A)||v.push(A)}),{added:t,updated:c,removed:v}}var dC=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;c.type="base",c.attributes={},c.elements=[],c.elementsMap={},c.animateOption=!0,c.attributeOption={},c.lastElementsMap={},c.generatePoints=!1,c.beforeMappingData=null,c.adjusts={},c.idFields=[],c.hasSorted=!1,c.isCoordinateChanged=!1;var v=t.container,y=t.labelsContainer,b=t.coordinate,M=t.data,A=t.sortable,B=A===void 0?!1:A,H=t.visible,W=H===void 0?!0:H,Y=t.theme,Q=t.scales,te=Q===void 0?{}:Q,he=t.scaleDefs,Me=he===void 0?{}:he,Fe=t.intervalPadding,Qe=t.dodgePadding,nt=t.maxColumnWidth,pt=t.minColumnWidth,Qt=t.columnWidthRatio,Sr=t.roseWidthRatio,Mr=t.multiplePieWidthRatio,Or=t.zIndexReversed,Xr=t.sortZIndex,tn=t.useDeferredLabel;return c.container=v,c.labelsContainer=y,c.coordinate=b,c.data=M,c.sortable=B,c.visible=W,c.userTheme=Y,c.scales=te,c.scaleDefs=Me,c.intervalPadding=Fe,c.dodgePadding=Qe,c.maxColumnWidth=nt,c.minColumnWidth=pt,c.columnWidthRatio=Qt,c.roseWidthRatio=Sr,c.multiplePieWidthRatio=Mr,c.zIndexReversed=Or,c.sortZIndex=Xr,c.useDeferredLabel=tn?typeof tn=="number"?tn:1/0:null,c}return f.prototype.position=function(t){var c=t;(0,D.PO)(t)||(c={fields:id(t)});var v=(0,D.U2)(c,"fields");return v.length===1&&(v.unshift("1"),(0,D.t8)(c,"fields",v)),(0,D.t8)(this.attributeOption,"position",c),this},f.prototype.color=function(t,c){return this.createAttrOption("color",t,c),this},f.prototype.shape=function(t,c){return this.createAttrOption("shape",t,c),this},f.prototype.size=function(t,c){return this.createAttrOption("size",t,c),this},f.prototype.adjust=function(t){var c=t;return((0,D.HD)(t)||(0,D.PO)(t))&&(c=[t]),(0,D.S6)(c,function(v,y){(0,D.Kn)(v)||(c[y]={type:v})}),this.adjustOption=c,this},f.prototype.style=function(t,c){if((0,D.HD)(t)){var v=id(t);this.styleOption={fields:v,callback:c}}else{var y=t,v=y.fields,b=y.callback,M=y.cfg;v||b||M?this.styleOption=t:this.styleOption={cfg:t}}return this},f.prototype.tooltip=function(t,c){if((0,D.HD)(t)){var v=id(t);this.tooltipOption={fields:v,callback:c}}else this.tooltipOption=t;return this},f.prototype.animate=function(t){return this.animateOption=t,this},f.prototype.label=function(t,c,v){if((0,D.HD)(t)){var y={},b=id(t);y.fields=b,(0,D.mf)(c)?y.callback=c:(0,D.PO)(c)&&(y.cfg=c),v&&(y.cfg=v),this.labelOption=y}else this.labelOption=t;return this},f.prototype.state=function(t){return this.stateOption=t,this},f.prototype.customInfo=function(t){return this.customOption=t,this},f.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},f.prototype.update=function(t){t===void 0&&(t={});var c=t.data,v=t.isDataChanged,y=t.isCoordinateChanged,b=this,M=b.attributeOption,A=b.lastAttributeOption;(0,D.Xy)(M,A)?c&&(v||!(0,D.Xy)(c,this.data))?(this.setCfg(t),this.initAttributes(),this.processData(c)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=y},f.prototype.paint=function(t){var c=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,D.b$)({},Ns(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var v=this.getOffscreenGroup();v.clear();var y=this.beforeMappingData,b=this.beforeMapping(y);this.dataArray=new Array(b.length);for(var M=0;M<b.length;M++){var A=b[M];this.dataArray[M]=this.mapping(A)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var B=this.container,H=this.type,W=this.coordinate,Y=(0,D.U2)(this.animateOption,"appear"),Q=this.getYScale(),te=W.convert({x:0,y:Q.scale(this.getYMinValue())});q0(B,Y,H,W,te)}if(this.labelOption){var he=this.useDeferredLabel,Me=function(){return c.renderLabels((0,D.xH)(c.dataArray),t)}.bind(this);if(typeof he=="number"){var Fe=typeof he=="number"&&he!==1/0?he:0;if(!window.requestIdleCallback)setTimeout(Me,Fe);else{var Qe=Fe&&Fe!==1/0?{timeout:Fe}:void 0;window.requestIdleCallback(Me,Qe)}}else Me()}this.lastAttributeOption=(0,U.pi)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},f.prototype.clear=function(){var t=this,c=t.container,v=t.geometryLabel,y=t.offscreenGroup;c&&c.clear(),v&&v.clear(),y&&y.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},f.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,h.prototype.destroy.call(this)},f.prototype.getGroupScales=function(){return this.groupScales},f.prototype.getAttribute=function(t){return this.attributes[t]},f.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},f.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},f.prototype.getGroupAttributes=function(){var t=[];return(0,D.S6)(this.attributes,function(c){Lt.includes(c.type)&&t.push(c)}),t},f.prototype.getDefaultValue=function(t){var c,v=this.getAttribute(t);return v&&(0,D.xb)(v.scales)&&(c=v.values[0]),c},f.prototype.getAttributeValues=function(t,c){for(var v=[],y=t.scales,b=0,M=y.length;b<M;b++){var A=y[b],B=A.field;A.isIdentity?v.push(A.values):v.push(c[B])}return t.mapping.apply(t,(0,U.ev)([],(0,U.CR)(v),!1))},f.prototype.getAdjust=function(t){return this.adjusts[t]},f.prototype.getCoordinate=function(){return this.coordinate},f.prototype.getData=function(){return this.data},f.prototype.getShapeMarker=function(t,c){var v=this.getShapeFactory();return v.getMarker(t,c)},f.prototype.getElementsBy=function(t){return this.elements.filter(function(c){return t(c)})},f.prototype.getElements=function(){return this.elements},f.prototype.getElementId=function(t){t=(0,D.kJ)(t)?t[0]:t;var c=t[Nt];if(this.idFields.length){for(var v=c[this.idFields[0]],y=1;y<this.idFields.length;y++)v+="-"+c[this.idFields[y]];return v}var b=this.type,M=this.getXScale(),A=this.getYScale(),B=M.field||"x",H=A.field||"y",W=c[H],Y;M.type==="identity"?Y=M.values[0]:Y=c[B];var Q;b==="interval"||b==="schema"?Q="".concat(Y):b==="line"||b==="area"||b==="path"?Q=b:Q="".concat(Y,"-").concat(W);for(var te=this.groupScales,y=0,he=te.length;y<he;y++){var Me=te[y],Fe=Me.field;Q="".concat(Q,"-").concat(c[Fe])}var Qe=this.getAdjust("dodge");if(Qe){var nt=Qe.dodgeBy;nt&&(Q="".concat(Q,"-").concat(c[nt]))}return this.getAdjust("jitter")&&(Q="".concat(Q,"-").concat(t.x,"-").concat(t.y)),Q},f.prototype.getScaleFields=function(){var t=[],c=new Map,v=this,y=v.attributeOption,b=v.labelOption,M=v.tooltipOption;for(var A in y)if(y.hasOwnProperty(A)){var B=y[A];B.fields?Kh(B.fields,t,c):B.values&&Kh(B.values,t,c)}return b&&b.fields&&Kh(b.fields,t,c),(0,D.Kn)(M)&&M.fields&&Kh(M.fields,t,c),t},f.prototype.changeVisible=function(t){h.prototype.changeVisible.call(this,t);for(var c=this.elements,v=0,y=c.length;v<y;v++){var b=c[v];b.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},f.prototype.getFields=function(){var t=new Map,c=[];return Object.values(this.attributeOption).forEach(function(v){var y=(v==null?void 0:v.fields)||[];y.forEach(function(b){t.has(b)||c.push(b),t.set(b,!0)})},[]),c},f.prototype.getGroupFields=function(){for(var t=[],c=new Map,v=0,y=Lt.length;v<y;v++){var b=Lt[v],M=this.attributeOption[b];M&&M.fields&&Kh(M.fields,t,c)}return t},f.prototype.getXYFields=function(){var t=(0,U.CR)(this.attributeOption.position.fields,2),c=t[0],v=t[1];return[c,v]},f.prototype.getXField=function(){return(0,D.U2)(this.getXYFields(),[0])},f.prototype.getYField=function(){return(0,D.U2)(this.getXYFields(),[1])},f.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},f.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},f.prototype.sort=function(t){if(!this.hasSorted)for(var c=this.getXScale(),v=c.field,y=0;y<t.length;y++){var b=t[y];b.sort(function(M,A){return c.translate(M[Nt][v])-c.translate(A[Nt][v])})}this.hasSorted=!0},f.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},f.prototype.getShapeFactory=function(){var t=this.shapeType;if(Ju(t))return this.shapeFactory||(this.shapeFactory=(0,D.d9)(Ju(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},f.prototype.createShapePointsCfg=function(t){var c=this.getXScale(),v=this.getYScale(),y=this.normalizeValues(t[c.field],c),b;return v?b=this.normalizeValues(t[v.field],v):b=t.y?t.y:.1,{x:y,y:b,y0:v?v.scale(this.getYMinValue()):void 0}},f.prototype.createElement=function(t,c,v){v===void 0&&(v=!1);var y=this.container,b=this.getDrawCfg(t),M=this.getShapeFactory(),A=new Je({shapeFactory:M,container:y,offscreenGroup:this.getOffscreenGroup(),elementIndex:c});return A.animate=this.animateOption,A.geometry=this,A.draw(b,v),A},f.prototype.getDrawCfg=function(t){var c=t[Nt],v={mappingData:t,data:c,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},y=t.shape;!y&&this.getShapeFactory()&&(y=this.getShapeFactory().defaultShapeType),v.shape=y;var b=this.theme.geometries[this.shapeType];v.defaultStyle=(0,D.U2)(b,[y,"default"],{}).style,!v.defaultStyle&&this.getShapeFactory()&&(v.defaultStyle=this.getShapeFactory().getDefaultStyle(b));var M=this.styleOption;return M&&(v.style=this.getStyleCfg(M,c)),this.generatePoints&&(v.points=t.points,v.nextPoints=t.nextPoints),v},f.prototype.updateElements=function(t,c){var v,y,b,M,A,B;c===void 0&&(c=!1);for(var H=new Map,W=[],Y=new Map,Q=0,te=0;te<t.length;te++)for(var he=t[te],Me=0;Me<he.length;Me++){var Fe=he[Me],Qe=this.getElementId(Fe),nt=H.has(Qe)?"".concat(Qe,"-").concat(te,"-").concat(Me):Qe;W.push(nt),H.set(nt,Fe),Y.set(nt,Q),Q++}this.elements=new Array(Q);var pt=rm(this.lastElementsMap,W),Qt=pt.added,Sr=pt.updated,Mr=pt.removed;try{for(var Or=(0,U.XA)(Qt),Xr=Or.next();!Xr.done;Xr=Or.next()){var Qe=Xr.value,Fe=H.get(Qe),te=Y.get(Qe),tn=this.createElement(Fe,te,c);this.elements[te]=tn,this.elementsMap[Qe]=tn,tn.shape&&tn.shape.set("zIndex",this.zIndexReversed?this.elements.length-te:te)}}catch(ws){v={error:ws}}finally{try{Xr&&!Xr.done&&(y=Or.return)&&y.call(Or)}finally{if(v)throw v.error}}try{for(var ti=(0,U.XA)(Sr),ri=ti.next();!ri.done;ri=ti.next()){var Qe=ri.value,tn=this.lastElementsMap[Qe],Fe=H.get(Qe),Yi=this.getDrawCfg(Fe),xa=tn.getModel(),te=Y.get(Qe);(this.isCoordinateChanged||hC(Yi,xa))&&(tn.animate=this.animateOption,tn.update(Yi)),this.elements[te]=tn,this.elementsMap[Qe]=tn,tn.shape&&tn.shape.set("zIndex",this.zIndexReversed?this.elements.length-te:te)}}catch(ws){b={error:ws}}finally{try{ri&&!ri.done&&(M=ti.return)&&M.call(ti)}finally{if(b)throw b.error}}this.container&&this.container.sort();try{for(var vo=(0,U.XA)(Mr),_u=vo.next();!_u.done;_u=vo.next()){var Qe=_u.value,tn=this.lastElementsMap[Qe];tn.animate=this.animateOption,tn.destroy()}}catch(ws){A={error:ws}}finally{try{_u&&!_u.done&&(B=vo.return)&&B.call(vo)}finally{if(A)throw A.error}}},f.prototype.getLabelType=function(){var t=this,c=t.labelOption,v=t.coordinate,y=t.type,b=v.type,M=v.isTransposed,A=(0,D.U2)(c,["cfg","type"]);return A||(b==="polar"?A=M?"pie":"polar":b==="theta"?A="pie":y==="interval"||y==="polygon"?A="interval":A="base"),A},f.prototype.getYMinValue=function(){var t=this.getYScale(),c=t.min,v=t.max,y;return c>=0?y=c:v<=0?y=v:y=0,y},f.prototype.createAttrOption=function(t,c,v){if((0,D.UM)(c)||(0,D.Kn)(c))(0,D.Kn)(c)&&(0,D.Xy)(Object.keys(c),["values"])?(0,D.t8)(this.attributeOption,t,{fields:c.values}):(0,D.t8)(this.attributeOption,t,c);else{var y={};(0,D.hj)(c)?y.values=[c]:y.fields=id(c),v&&((0,D.mf)(v)?y.callback=v:y.values=v),(0,D.t8)(this.attributeOption,t,y)}},f.prototype.initAttributes=function(){var t=this,c=this,v=c.attributes,y=c.attributeOption,b=c.theme,M=c.shapeType;this.groupScales=[];var A={},B=function(Y){if(y.hasOwnProperty(Y)){var Q=y[Y];if(!Q)return{value:void 0};var te=(0,U.pi)({},Q),he=te.callback,Me=te.values,Fe=te.fields,Qe=Fe===void 0?[]:Fe,nt=Qe.map(function(Qt){var Sr=t.scales[Qt];if(!A[Qt]&&Lt.includes(Y)){var Mr=Qy(Sr,(0,D.U2)(t.scaleDefs,Qt),Y,t.type);Mr==="cat"&&(t.groupScales.push(Sr),A[Qt]=!0)}return Sr});te.scales=nt,Y!=="position"&&nt.length===1&&nt[0].type==="identity"?te.values=nt[0].values:!he&&!Me&&(Y==="size"?te.values=b.sizes:Y==="shape"?te.values=b.shapes[M]||[]:Y==="color"&&(nt.length?te.values=nt[0].values.length<=10?b.colors10:b.colors20:te.values=b.colors10));var pt=Wp(Y);v[Y]=new pt(te)}};for(var H in y){var W=B(H);if(typeof W=="object")return W.value}},f.prototype.processData=function(t){var c,v;this.hasSorted=!1;for(var y=this.getAttribute("position").scales,b=y.filter(function(Mr){return Mr.isCategory}),M=this.groupData(t),A=[],B=0,H=M.length;B<H;B++){for(var W=M[B],Y=[],Q=0,te=W.length;Q<te;Q++){var he=W[Q],Me={};for(var Fe in he)Me[Fe]=he[Fe];Me[Nt]=he;try{for(var Qe=(c=void 0,(0,U.XA)(b)),nt=Qe.next();!nt.done;nt=Qe.next()){var pt=nt.value,Qt=pt.field;Me[Qt]=pt.translate(Me[Qt])}}catch(Mr){c={error:Mr}}finally{try{nt&&!nt.done&&(v=Qe.return)&&v.call(Qe)}finally{if(c)throw c.error}}Y.push(Me)}A.push(Y)}var Sr=this.adjustData(A);return this.beforeMappingData=Sr,Sr},f.prototype.adjustData=function(t){var c=this.adjustOption,v=this,y=v.intervalPadding,b=v.dodgePadding,M=v.theme,A=this.maxColumnWidth||M.maxColumnWidth,B=this.minColumnWidth||M.minColumnWidth,H=this.columnWidthRatio||M.columnWidthRatio,W=t;if(c){var Y=this.getXScale(),Q=this.getYScale(),te=Y.field,he=Q?Q.field:null,Me=Uo(this.coordinate),Fe=Y.values.length,Qe=this.getAttribute("size"),nt=void 0;Qe&&(nt=Qe.values[0]);for(var pt=0,Qt=c.length;pt<Qt;pt++){var Sr=c[pt],Mr=(0,U.pi)({xField:te,yField:he,intervalPadding:y,dodgePadding:b,xDimensionLength:Me,groupNum:Fe,defaultSize:nt,maxColumnWidth:A,minColumnWidth:B,columnWidthRatio:H},Sr),Or=Sr.type;if(Or==="dodge"){var Xr=[];if(Y.isCategory||Y.type==="identity")Xr.push("x");else if(!Q)Xr.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");Mr.adjustNames=Xr,Mr.dodgeRatio=H}else if(Or==="stack"){var tn=this.coordinate;if(!Q){Mr.height=tn.getHeight();var ti=this.getDefaultValue("size")||3;Mr.size=ti}!tn.isTransposed&&(0,D.UM)(Mr.reverseOrder)&&(Mr.reverseOrder=!0)}var ri=dr(Or);Mr.dimValuesMap={},Y&&Y.values&&(Mr.dimValuesMap[Y.field]=Y.values.map(function(xa){return Y.translate(xa)}));var Yi=new ri(Mr);W=Yi.process(W),this.adjusts[Or]=Yi}}return W},f.prototype.groupData=function(t){for(var c=this.getGroupScales(),v=this.scaleDefs,y={},b=[],M=0;M<c.length;M++){var A=c[M],B=A.field;b.push(B),(0,D.U2)(v,[B,"values"])&&(y[B]=v[B].values)}return nd(t,b,y)},f.prototype.updateStackRange=function(t,c){for(var v=(0,D.xH)(c),y=t.field,b=t.min,M=t.max,A=0;A<v.length;A++){var B=v[A],H=Math.min.apply(null,B[y]),W=Math.max.apply(null,B[y]);H<b&&(b=H),W>M&&(M=W)}var Y=this.scaleDefs,Q={};b<t.min&&!(0,D.U2)(Y,[y,"min"])&&(Q.min=b),M>t.max&&!(0,D.U2)(Y,[y,"max"])&&(Q.max=M),t.change(Q)},f.prototype.beforeMapping=function(t){var c=t;if(this.sortable&&this.sort(c),this.generatePoints)for(var v=0,y=c.length;v<y;v++){var b=c[v];this.generateShapePoints(b);var M=c[v+1];M&&(this.generateShapePoints(M),b[0].nextPoints=M[0].points)}return c},f.prototype.generateShapePoints=function(t){for(var c=this.getShapeFactory(),v=this.getAttribute("shape"),y=0;y<t.length;y++){var b=t[y],M=this.createShapePointsCfg(b),A=v?this.getAttributeValues(v,b):null,B=c.getShapePoints(A,M);b.points=B}},f.prototype.normalizeValues=function(t,c){var v=[];if((0,D.kJ)(t))for(var y=0;y<t.length;y++){var b=t[y];v.push(c.scale(b))}else v=c.scale(t);return v},f.prototype.mapping=function(t){for(var c=this.attributes,v=[],y=0;y<t.length;y++){var b=t[y],M={_origin:b[Nt],points:b.points,nextPoints:b.nextPoints};for(var A in c)if(c.hasOwnProperty(A)){var B=c[A],H=B.names,W=this.getAttributeValues(B,b);if(H.length>1)for(var Y=0;Y<W.length;Y+=1){var Q=W[Y],te=H[Y];M[te]=(0,D.kJ)(Q)&&Q.length===1?Q[0]:Q}else M[H[0]]=W.length===1?W[0]:W}this.convertPoint(M),v.push(M)}return v},f.prototype.convertPoint=function(t){var c=t.x,v=t.y,y,b,M,A=this.coordinate;if((0,D.kJ)(c)&&(0,D.kJ)(v)){y=[],b=[];for(var B=0,H=0,W=c.length,Y=v.length;B<W&&H<Y;B+=1,H+=1)M=A.convert({x:c[B],y:v[H]}),y.push(M.x),b.push(M.y)}else if((0,D.kJ)(v)){b=[];for(var Q=0;Q<v.length;Q++){var te=v[Q];M=A.convert({x:c,y:te}),y&&y!==M.x?((0,D.kJ)(y)||(y=[y]),y.push(M.x)):y=M.x,b.push(M.y)}}else if((0,D.kJ)(c)){y=[];for(var Q=0;Q<c.length;Q++){var he=c[Q];M=A.convert({x:he,y:v}),b&&b!==M.y?((0,D.kJ)(b)||(b=[b]),b.push(M.y)):b=M.y,y.push(M.x)}}else{var Me=A.convert({x:c,y:v});y=Me.x,b=Me.y}t.x=y,t.y=b},f.prototype.getStyleCfg=function(t,c){var v=t.fields,y=v===void 0?[]:v,b=t.callback,M=t.cfg;if(M)return M;var A=y.map(function(B){return c[B]});return b.apply(void 0,(0,U.ev)([],(0,U.CR)(A),!1))},f.prototype.setCfg=function(t){var c=this,v=t.coordinate,y=t.data,b=t.theme,M=t.scaleDefs;v&&(this.coordinate=v),y&&(this.data=y),M&&(this.scaleDefs=M,this.idFields=[],(0,D.S6)(M,function(A,B){A&&A.key&&c.idFields.push(B)})),b&&(this.theme=this.userTheme?(0,D.b$)({},b,this.userTheme):b)},f.prototype.renderLabels=function(t,c){return c===void 0&&(c=!1),(0,U.mG)(this,void 0,void 0,function(){var v,y,b,M,A,B,H,W,Y,Q,te,he,Me=this;return(0,U.Jh)(this,function(Fe){switch(Fe.label){case 0:return v=this.geometryLabel,this.emit(xt.BEFORE_RENDER_LABEL),v||(y=this.getLabelType(),b=fC(y),v=new b(this),this.geometryLabel=v),[4,v.render(t,c)];case 1:Fe.sent(),M=v.labelsRenderer.shapesMap,A=new Map,(0,D.S6)(M,function(Qe,nt){for(var pt=Qe.getChildren()||[],Qt=0;Qt<pt.length;Qt++){var Sr=pt[Qt],Mr=Me.elementsMap[Sr.get("elementId")||nt.split(" ")[0]];if(Mr){Sr.cfg.name=["element","label"],Sr.cfg.element=Mr;var Or=A.get(Mr)||new Set;Or.add(Qe),A.set(Mr,Or)}}});try{for(B=(0,U.XA)(A.entries()),H=B.next();!H.done;H=B.next())W=(0,U.CR)(H.value,2),Y=W[0],Q=W[1],Y.labelShape=(0,U.ev)([],(0,U.CR)(Q),!1)}catch(Qe){te={error:Qe}}finally{try{H&&!H.done&&(he=B.return)&&he.call(B)}finally{if(te)throw te.error}}return this.emit(xt.AFTER_RENDER_LABEL),[2]}})})},f.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,D.U2)(this.animateOption,"appear")===void 0||(0,D.U2)(this.animateOption,"appear")&&(0,D.U2)(this.animateOption,["appear","animation"])===void 0)},f}(Bt),ku=dC,ad=Pa.vs;function Qs(h,f,t){var c=ad(h.getMatrix(),[["t",f,t]]);h.setMatrix(c)}function bb(h,f){var t=h.attr(),c=t.x,v=t.y,y=ad(h.getMatrix(),[["t",-c,-v],["r",f],["t",c,v]]);return y}function nm(h,f){var t=bb(h,f);h.setMatrix(t)}function im(){return[1,0,0,0,1,0,0,0,1]}function iv(h,f){var t=h.getBBox(),c=(t.minX+t.maxX)/2,v=(t.minY+t.maxY)/2;h.applyToMatrix([c,v,1]);var y=ad(h.getMatrix(),[["t",-c,-v],["s",f,f],["t",c,v]]);h.setMatrix(y)}function xc(h){return h.find(function(f){return f.get("type")==="text"})}function wb(h,f,t){t===void 0&&(t=[0,0,0,0]);var c=h&&h.getChildren()[0];if(c){var v=c.clone();f!=null&&f.rotate&&nm(v,-f.rotate);var y=v.getCanvasBBox(),b=y.x,M=y.y,A=y.width,B=y.height;v.destroy();var H=t;return(0,D.UM)(H)?H=[2,2,2,2]:(0,D.hj)(H)&&(H=new Array(4).fill(H)),{x:b-H[3],y:M-H[0],width:A+H[1]+H[3],height:B+H[0]+H[2],rotation:(f==null?void 0:f.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function Xx(h,f,t){t===void 0&&(t=0);var c=Math.max(0,Math.min(h.x+h.width+t,f.x+f.width+t)-Math.max(h.x-t,f.x-t)),v=Math.max(0,Math.min(h.y+h.height+t,f.y+f.height+t)-Math.max(h.y-t,f.y-t));return c*v}function Zx(h,f){var t=h.getBBox();return(0,D.G)(f,function(c){var v=c.getBBox();return Xx(t,v,2)>0})}function am(h,f,t){var c=t.data,v=t.origin,y=t.animateCfg,b=t.coordinate,M=(0,D.U2)(y,"update");h.set("data",c),h.set("origin",v),h.set("animateCfg",y),h.set("coordinate",b),h.set("visible",f.get("visible")),(h.getChildren()||[]).forEach(function(A,B){var H=f.getChildByIndex(B);if(!H)h.removeChild(A),A.remove(!0);else{A.set("data",c),A.set("origin",v),A.set("animateCfg",y),A.set("coordinate",b);var W=ev(A,H);M?tl(A,M,{toAttrs:W,coordinate:b}):A.attr(W),H.isGroup()&&am(A,H,t)}}),(0,D.S6)(f.getChildren(),function(A,B){(0,D.kJ)(h.getChildren())&&B>=h.getCount()&&(A.destroyed||h.add(A))})}var Ko=function(){function h(f){this.shapesMap={};var t=f.layout,c=f.container;this.layout=t,this.container=c}return h.prototype.render=function(f,t,c){return c===void 0&&(c=!1),(0,U.mG)(this,void 0,void 0,function(){var v,y,b,M,A,B,H,W,Y=this;return(0,U.Jh)(this,function(Q){switch(Q.label){case 0:if(v={},y=this.createOffscreenGroup(),!f.length)return[3,2];try{for(b=(0,U.XA)(f),M=b.next();!M.done;M=b.next())A=M.value,A&&(v[A.id]=this.renderLabel(A,y))}catch(te){H={error:te}}finally{try{M&&!M.done&&(W=b.return)&&W.call(b)}finally{if(H)throw H.error}}return[4,this.doLayout(f,t,v)];case 1:Q.sent(),this.renderLabelLine(f,v),this.renderLabelBackground(f,v),this.adjustLabel(f,v),Q.label=2;case 2:return B=this.shapesMap,(0,D.S6)(v,function(te,he){if(te.destroyed)delete v[he];else{if(B[he]){var Me=te.get("data"),Fe=te.get("origin"),Qe=te.get("coordinate"),nt=te.get("animateCfg"),pt=B[he];am(pt,v[he],{data:Me,origin:Fe,animateCfg:nt,coordinate:Qe}),v[he]=pt}else{if(Y.container.destroyed)return;Y.container.add(te);var Qt=(0,D.U2)(te.get("animateCfg"),c?"enter":"appear");Qt&&tl(te,Qt,{toAttrs:(0,U.pi)({},te.attr()),coordinate:te.get("coordinate")})}delete B[he]}}),(0,D.S6)(B,function(te){var he=(0,D.U2)(te.get("animateCfg"),"leave");he?tl(te,he,{toAttrs:null,coordinate:te.get("coordinate")}):te.remove(!0)}),this.shapesMap=v,y.destroy(),[2]}})})},h.prototype.clear=function(){this.container.clear(),this.shapesMap={}},h.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},h.prototype.renderLabel=function(f,t){var c=f.id,v=f.elementId,y=f.data,b=f.mappingData,M=f.coordinate,A=f.animate,B=f.content,H=f.capture,W={id:c,elementId:v,capture:H,data:y,origin:(0,U.pi)((0,U.pi)({},b),{data:b[Nt]}),coordinate:M},Y=t.addGroup((0,U.pi)({name:"label",animateCfg:this.animate===!1||A===null||A===!1?!1:(0,D.b$)({},this.animate,A)},W)),Q;if(B.isGroup&&B.isGroup()||B.isShape&&B.isShape()){var te=B.getCanvasBBox(),he=te.width,Me=te.height,Fe=(0,D.U2)(f,"textAlign","left"),Qe=f.x,nt=f.y-Me/2;Fe==="center"?Qe=Qe-he/2:(Fe==="right"||Fe==="end")&&(Qe=Qe-he),Qs(B,Qe,nt),Q=B,Y.add(B)}else{var pt=(0,D.U2)(f,["style","fill"]);Q=Y.addShape("text",(0,U.pi)({attrs:(0,U.pi)((0,U.pi)({x:f.x,y:f.y,textAlign:f.textAlign,textBaseline:(0,D.U2)(f,"textBaseline","middle"),text:f.content},f.style),{fill:(0,D.Ft)(pt)?f.color:pt})},W))}return f.rotate&&nm(Q,f.rotate),Y},h.prototype.doLayout=function(f,t,c){return(0,U.mG)(this,void 0,void 0,function(){var v,y=this;return(0,U.Jh)(this,function(b){switch(b.label){case 0:return this.layout?(v=(0,D.kJ)(this.layout)?this.layout:[this.layout],[4,Promise.all(v.map(function(M){var A=Vx((0,D.U2)(M,"type",""));if(A){var B=[],H=[];return(0,D.S6)(c,function(W,Y){B.push(W),H.push(t[W.get("elementId")])}),A(f,B,H,y.region,M.cfg)}}))]):[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})})},h.prototype.renderLabelLine=function(f,t){(0,D.S6)(f,function(c){var v=(0,D.U2)(c,"coordinate");if(!(!c||!v)){var y=v.getCenter(),b=v.getRadius();if(c.labelLine){var M=(0,D.U2)(c,"labelLine",{}),A=c.id,B=M.path;if(!B){var H=sl(y.x,y.y,b,c.angle);B=[["M",H.x,H.y],["L",c.x,c.y]]}var W=t[A];W.destroyed||W.addShape("path",{capture:!1,attrs:(0,U.pi)({path:B,stroke:c.color?c.color:(0,D.U2)(c,["style","fill"],"#000"),fill:null},M.style),id:A,origin:c.mappingData,data:c.data,coordinate:c.coordinate})}}})},h.prototype.renderLabelBackground=function(f,t){(0,D.S6)(f,function(c){var v=(0,D.U2)(c,"coordinate"),y=(0,D.U2)(c,"background");if(!(!y||!v)){var b=c.id,M=t[b];if(!M.destroyed){var A=M.getChildren()[0];if(A){var B=wb(M,c,y.padding),H=B.rotation,W=(0,U._T)(B,["rotation"]),Y=M.addShape("rect",{attrs:(0,U.pi)((0,U.pi)({},W),y.style||{}),id:b,origin:c.mappingData,data:c.data,coordinate:c.coordinate});if(Y.setZIndex(-1),H){var Q=A.getMatrix();Y.setMatrix(Q)}}}}})},h.prototype.createOffscreenGroup=function(){var f=this.container,t=f.getGroupBase(),c=new t({});return c},h.prototype.adjustLabel=function(f,t){(0,D.S6)(f,function(c){if(c){var v=c.id,y=t[v];if(!y.destroyed){var b=y.findAll(function(M){return M.get("type")!=="path"});(0,D.S6)(b,function(M){M&&(c.offsetX&&M.attr("x",M.attr("x")+c.offsetX),c.offsetY&&M.attr("y",M.attr("y")+c.offsetY))})}}})},h}(),xb=Ko;function vC(h){var f=0;return(0,D.S6)(h,function(t){f+=t}),f/h.length}var pC=function(){function h(f){this.geometry=f}return h.prototype.getLabelItems=function(f){var t=this,c=[],v=this.getLabelCfgs(f);return(0,D.S6)(f,function(y,b){var M=v[b];if(!M||(0,D.UM)(y.x)||(0,D.UM)(y.y)){c.push(null);return}var A=(0,D.kJ)(M.content)?M.content:[M.content];M.content=A;var B=A.length;(0,D.S6)(A,function(H,W){if((0,D.UM)(H)||H===""){c.push(null);return}var Y=(0,U.pi)((0,U.pi)({},M),t.getLabelPoint(M,y,W));Y.textAlign||(Y.textAlign=t.getLabelAlign(Y,W,B)),Y.offset<=0&&(Y.labelLine=null),c.push(Y)})}),c},h.prototype.render=function(f,t){return t===void 0&&(t=!1),(0,U.mG)(this,void 0,void 0,function(){var c,v,y;return(0,U.Jh)(this,function(b){switch(b.label){case 0:return c=this.getLabelItems(f),v=this.getLabelsRenderer(),y=this.getGeometryShapes(),[4,v.render(c,y,t)];case 1:return b.sent(),[2]}})})},h.prototype.clear=function(){var f=this.labelsRenderer;f&&f.clear()},h.prototype.destroy=function(){var f=this.labelsRenderer;f&&f.destroy(),this.labelsRenderer=null},h.prototype.getCoordinate=function(){return this.geometry.coordinate},h.prototype.getDefaultLabelCfg=function(f,t){var c=this.geometry,v=c.type,y=c.theme;return v==="polygon"||v==="interval"&&t==="middle"||f<0&&!["line","point","path"].includes(v)?(0,D.U2)(y,"innerLabels",{}):(0,D.U2)(y,"labels",{})},h.prototype.getThemedLabelCfg=function(f){var t=this.geometry,c=this.getDefaultLabelCfg(),v=t.type,y=t.theme,b;return v==="polygon"||f.offset<0&&!["line","point","path"].includes(v)?b=(0,D.b$)({},c,y.innerLabels,f):b=(0,D.b$)({},c,y.labels,f),b},h.prototype.setLabelPosition=function(f,t,c,v){},h.prototype.getLabelOffset=function(f){var t=this.getCoordinate(),c=this.getOffsetVector(f);return t.isTransposed?c[0]:c[1]},h.prototype.getLabelOffsetPoint=function(f,t,c){var v=f.offset,y=this.getCoordinate(),b=y.isTransposed,M=b?"x":"y",A=b?1:-1,B={x:0,y:0};return t>0||c===1?B[M]=v*A:B[M]=v*A*-1,B},h.prototype.getLabelPoint=function(f,t,c){var v=this.getCoordinate(),y=f.content.length;function b(Me,Fe,Qe){Qe===void 0&&(Qe=!1);var nt=Me;return(0,D.kJ)(nt)&&(f.content.length===1?Qe?nt=vC(nt):nt.length<=2?nt=nt[Me.length-1]:nt=vC(nt):nt=nt[Fe]),nt}var M={content:f.content[c],x:0,y:0,start:{x:0,y:0},color:"#fff"},A=(0,D.kJ)(t.shape)?t.shape[0]:t.shape,B=A==="funnel"||A==="pyramid";if(this.geometry.type==="polygon"){var H=Nx(t.x,t.y);M.x=H[0],M.y=H[1]}else this.geometry.type==="interval"&&!B?(M.x=b(t.x,c,!0),M.y=b(t.y,c)):(M.x=b(t.x,c),M.y=b(t.y,c));if(B){var W=(0,D.U2)(t,"nextPoints"),Y=(0,D.U2)(t,"points");if(W){var Q=v.convert(Y[1]),te=v.convert(W[1]);M.x=(Q.x+te.x)/2,M.y=(Q.y+te.y)/2}else if(A==="pyramid"){var Q=v.convert(Y[1]),te=v.convert(Y[2]);M.x=(Q.x+te.x)/2,M.y=(Q.y+te.y)/2}}f.position&&this.setLabelPosition(M,t,c,f.position);var he=this.getLabelOffsetPoint(f,c,y);return M.start={x:M.x,y:M.y},M.x+=he.x,M.y+=he.y,M.color=t.color,M},h.prototype.getLabelAlign=function(f,t,c){var v="center",y=this.getCoordinate();if(y.isTransposed){var b=f.offset;b<0?v="right":b===0?v="center":v="left",c>1&&t===0&&(v==="right"?v="left":v==="left"&&(v="right"))}return v},h.prototype.getLabelId=function(f){var t=this.geometry,c=t.type,v=t.getXScale(),y=t.getYScale(),b=f[Nt],M=t.getElementId(f);return c==="line"||c==="area"?M+=" ".concat(b[v.field]):c==="path"&&(M+=" ".concat(b[v.field],"-").concat(b[y.field])),M},h.prototype.getLabelsRenderer=function(){var f=this.geometry,t=f.labelsContainer,c=f.labelOption,v=f.canvasRegion,y=f.animateOption,b=this.geometry.coordinate,M=this.labelsRenderer;return M||(M=new xb({container:t,layout:(0,D.U2)(c,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=M),M.region=v,M.animate=y?Ns("label",b):!1,M},h.prototype.getLabelCfgs=function(f){var t=this,c=this.geometry,v=c.labelOption,y=c.scales,b=c.coordinate,M=v,A=M.fields,B=M.callback,H=M.cfg,W=A.map(function(Q){return y[Q]}),Y=[];return(0,D.S6)(f,function(Q,te){var he=Q[Nt],Me=t.getLabelText(he,W),Fe;if(B){var Qe=A.map(function(Mr){return he[Mr]});if(Fe=B.apply(void 0,(0,U.ev)([],(0,U.CR)(Qe),!1)),(0,D.UM)(Fe)){Y.push(null);return}}var nt=(0,U.pi)((0,U.pi)({id:t.getLabelId(Q),elementId:t.geometry.getElementId(Q),data:he,mappingData:Q,coordinate:b},H),Fe);(0,D.mf)(nt.position)&&(nt.position=nt.position(he,Q,te));var pt=t.getLabelOffset(nt.offset||0),Qt=t.getDefaultLabelCfg(pt,nt.position);nt=(0,D.b$)({},Qt,nt),nt.offset=t.getLabelOffset(nt.offset||0);var Sr=nt.content;(0,D.mf)(Sr)?nt.content=Sr(he,Q,te):(0,D.o8)(Sr)&&(nt.content=Me[0]),Y.push(nt)}),Y},h.prototype.getLabelText=function(f,t){var c=[];return(0,D.S6)(t,function(v){var y=f[v.field];(0,D.kJ)(y)?y=y.map(function(b){return v.getText(b)}):y=v.getText(y),(0,D.UM)(y)||y===""?c.push(null):c.push(y)}),c},h.prototype.getOffsetVector=function(f){f===void 0&&(f=0);var t=this.getCoordinate(),c=0;return(0,D.hj)(f)&&(c=f),t.isTransposed?t.applyMatrix(c,0):t.applyMatrix(0,c)},h.prototype.getGeometryShapes=function(){var f=this.geometry,t={};return(0,D.S6)(f.elementsMap,function(c,v){t[v]=c.shape}),(0,D.S6)(f.getOffscreenGroup().getChildren(),function(c){var v=f.getElementId(c.get("origin").mappingData);t[v]=c}),t},h}(),av=pC;function up(h,f,t){if(!h)return t;var c;if(h.callback&&h.callback.length>1){var v=Array(h.callback.length-1).fill("");c=h.mapping.apply(h,(0,U.ev)([f],(0,U.CR)(v),!1)).join("")}else c=h.mapping(f).join("");return c||t}var Xc={hexagon:function(h,f,t){var c=t/2*Math.sqrt(3);return[["M",h,f-t],["L",h+c,f-t/2],["L",h+c,f+t/2],["L",h,f+t],["L",h-c,f+t/2],["L",h-c,f-t/2],["Z"]]},bowtie:function(h,f,t){var c=t-1.5;return[["M",h-t,f-c],["L",h+t,f+c],["L",h+t,f-c],["L",h-t,f+c],["Z"]]},cross:function(h,f,t){return[["M",h-t,f-t],["L",h+t,f+t],["M",h+t,f-t],["L",h-t,f+t]]},tick:function(h,f,t){return[["M",h-t/2,f-t],["L",h+t/2,f-t],["M",h,f-t],["L",h,f+t],["M",h-t/2,f+t],["L",h+t/2,f+t]]},plus:function(h,f,t){return[["M",h-t,f],["L",h+t,f],["M",h,f-t],["L",h,f+t]]},hyphen:function(h,f,t){return[["M",h-t,f],["L",h+t,f]]},line:function(h,f,t){return[["M",h,f-t],["L",h,f+t]]}},od=["line","cross","tick","plus","hyphen"];function gC(h,f){return(0,D.mf)(f)?f(h):(0,D.b$)({},h,f)}function ah(h,f){var t=h.symbol;if((0,D.HD)(t)&&od.indexOf(t)!==-1){var c=(0,D.U2)(h,"style",{}),v=(0,D.U2)(c,"lineWidth",1),y=c.stroke||c.fill||f;h.style=(0,D.b$)({},h.style,{lineWidth:v,stroke:y,fill:null})}}function mC(h){var f=h.symbol;(0,D.HD)(f)&&Xc[f]&&(h.symbol=Xc[f])}function cp(h){return h.startsWith(lt.LEFT)||h.startsWith(lt.RIGHT)?"vertical":"horizontal"}function ov(h,f,t,c,v){var y=t.getScale(t.type);if(y.isCategory){var b=y.field,M=f.getAttribute("color"),A=f.getAttribute("shape"),B=h.getTheme().defaultColor,H=f.coordinate.isPolar;return y.getTicks().map(function(W,Y){var Q,te=W.text,he=W.value,Me=te,Fe=y.invert(he),Qe=h.filterFieldData(b,[(Q={},Q[b]=Fe,Q)]).length===0;(0,D.S6)(h.views,function(Mr){var Or;Mr.filterFieldData(b,[(Or={},Or[b]=Fe,Or)]).length||(Qe=!0)});var nt=up(M,Fe,B),pt=up(A,Fe,"point"),Qt=f.getShapeMarker(pt,{color:nt,isInPolar:H}),Sr=v;return(0,D.mf)(Sr)&&(Sr=Sr(Me,Y,(0,U.pi)({name:Me,value:Fe},(0,D.b$)({},c,Qt)))),Qt=(0,D.b$)({},c,Qt,Du((0,U.pi)({},Sr),["style"])),ah(Qt,nt),Sr&&Sr.style&&(Qt.style=gC(Qt.style,Sr.style)),mC(Qt),{id:Fe,name:Me,value:Fe,marker:Qt,unchecked:Qe}})}return[]}function Sb(h,f,t){return t.map(function(c,v){var y=f;(0,D.mf)(y)&&(y=y(c.name,v,(0,D.b$)({},h,c)));var b=(0,D.mf)(c.marker)?c.marker(c.name,v,(0,D.b$)({},h,c)):c.marker,M=(0,D.b$)({},h,y,b);return mC(M),c.marker=M,c})}function yC(h,f){var t=(0,D.U2)(h,["components","legend"],{});return(0,D.b$)({},(0,D.U2)(t,["common"],{}),(0,D.b$)({},(0,D.U2)(t,[f],{})))}function oh(h){return h?!1:h==null||isNaN(h)}function _b(h){if((0,D.kJ)(h))return oh(h[1].y);var f=h.y;return(0,D.kJ)(f)?oh(f[0]):oh(f)}function om(h,f,t){if(f===void 0&&(f=!1),t===void 0&&(t=!0),!h.length||h.length===1&&!t)return[];if(f){for(var c=[],v=0,y=h.length;v<y;v++){var b=h[v];_b(b)||c.push(b)}return[c]}for(var M=[],A=[],v=0,y=h.length;v<y;v++){var b=h[v];_b(b)?A.length&&(A.length===1&&!t||M.push(A),A=[]):A.push(b)}return A.length&&M.push(A),M}function ko(h){for(var f=[],t=0;t<h.length;t++){var c=h[t];if(c){var v=t===0?"M":"L";f.push([v,c.x,c.y])}}var y=h[0];return y&&(f.push(["L",y.x,y.y]),f.push(["z"])),f}function Zc(h){for(var f=h.length/2,t=[],c=[],v=0;v<h.length;v++)v<f?t.push(h[v]):c.push(h[v]);var y=Mf(t,!1),b=Mf(c,!1);c.length&&y.push(["L",c[0].x,c[0].y]),b.shift();var M=y.concat(b);return t.length&&M.push(["L",t[0].x,t[0].y]),M.push(["z"]),M}function yl(h,f,t,c){c===void 0&&(c="");var v=h.style,y=v===void 0?{}:v,b=h.defaultStyle,M=h.color,A=h.size,B=(0,U.pi)((0,U.pi)({},b),y);return M&&(f&&(y.stroke||(B.stroke=M)),t&&(y.fill||(B.fill=M))),c&&(0,D.UM)(y[c])&&!(0,D.UM)(A)&&(B[c]=A),B}function Eb(h){return(0,D.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,D.U2)(h,["background","style"]))}function lh(h){var f=h.x,t=(0,D.kJ)(h.y)?h.y:[h.y];return t.map(function(c,v){return{x:(0,D.kJ)(f)?f[v]:f,y:c}})}var CC={line:function(h,f,t){return[["M",h-t,f],["L",h+t,f]]},dot:function(h,f,t){return[["M",h-t,f],["L",h+t,f]]},dash:function(h,f,t){return[["M",h-t,f],["L",h+t,f]]},smooth:function(h,f,t){return[["M",h-t,f],["A",t/2,t/2,0,1,1,h,f],["A",t/2,t/2,0,1,0,h+t,f]]},hv:function(h,f,t){return[["M",h-t-1,f-2.5],["L",h,f-2.5],["L",h,f+2.5],["L",h+t+1,f+2.5]]},vh:function(h,f,t){return[["M",h-t-1,f+2.5],["L",h,f+2.5],["L",h,f-2.5],["L",h+t+1,f-2.5]]},hvh:function(h,f,t){return[["M",h-(t+1),f+2.5],["L",h-t/2,f+2.5],["L",h-t/2,f-2.5],["L",h+t/2,f-2.5],["L",h+t/2,f+2.5],["L",h+t+1,f+2.5]]},vhv:function(h,f){return[["M",h-5,f+2.5],["L",h-5,f],["L",h,f],["L",h,f-3],["L",h,f+3],["L",h+6.5,f+3]]}};function Mb(h,f){var t=h.color;return{symbol:CC[f],style:{lineWidth:2,r:6,stroke:t}}}function Kx(h,f,t){for(var c=h.isStack,v=h.connectNulls,y=h.isInCircle,b=h.showSinglePoint,M=yl(h,!0,!1,"lineWidth"),A=om(h.points,v,b),B=[],H=0,W=A.length;H<W;H++){var Y=A[H];B=B.concat(Tb(Y,y,c,f,t,M))}return M.path=B,M}function bC(h,f,t,c,v){if(h.length===1)return[["M",h[0].x,h[0].y-v.lineWidth/2],["L",h[0].x,h[0].y],["L",h[0].x,h[0].y+v.lineWidth/2]];var y;return t?(f&&h.length&&h.push({x:h[0].x,y:h[0].y}),y=Mf(h,!1,c)):(y=tp(h,!1),f&&y.push(["Z"])),y}function S_(h,f,t,c,v,y){var b=[],M=[];(0,D.S6)(h,function(H){var W=lh(H);b.push(W[1]),M.push(W[0])});var A=bC(b,f,c,v,y),B=bC(M,f,c,v,y);return t?A:A.concat(B)}function Tb(h,f,t,c,v,y){if(h.length){var b=h[0];return(0,D.kJ)(b.y)?S_(h,f,t,c,v,y):bC(h,f,c,v,y)}return[]}var wC=Vc("line",{defaultShapeType:"line"});(0,D.S6)(["line","dot","dash","smooth"],function(h){Ya("line",h,{draw:function(f,t){var c=h==="smooth",v;if(c){var y=this.coordinate,b=y.start,M=y.end;v=[[b.x,M.y],[M.x,b.y]]}var A=Kx(f,c,v),B=t.addShape({type:"path",attrs:A,name:"line",capture:!c});return B},getMarker:function(f){return Mb(f,h)}})});var BM=null,kM="4.2.11",__={getLegendItems:ov,translate:Qs,rotate:nm,zoom:iv,transform:ad,getAngle:Jd,getSectorPath:eh,polarToCartesian:sl,getDelegationObject:th,getTooltipItems:Ux,getMappingValue:up,getPath:Tb,getPathPoints:om},sh={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Ha={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},vu=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],qx=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],uh=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Eg=function(h){h===void 0&&(h={});var f=h.paletteQualitative10,t=f===void 0?vu:f,c=h.paletteQualitative20,v=c===void 0?qx:c,y=h.brandColor,b=y===void 0?t[0]:y,M={backgroundColor:"#141414",brandColor:b,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:v,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:uh,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:Ha[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Ha[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:sh[85],axisTickLineBorderColor:Ha[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Ha[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Ha[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Ha[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Ha[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:vu[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Ha[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Ha[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Ha[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Ha[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Ha[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Ha[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:sh[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:sh[25],annotationArcBorderColor:Ha[15],annotationArcBorder:1,annotationLineBorderColor:Ha[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Ha[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Ha[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Ha[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Ha[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Ha[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:sh[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Ha[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:sh[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Ha[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:vu[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:sh[100],pointBorderOpacity:1,pointActiveBorderColor:Ha[100],pointSelectedBorder:2,pointSelectedBorderColor:Ha[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:vu[0],hollowPointBorderOpacity:.95,hollowPointFillColor:sh[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Ha[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Ha[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:vu[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:vu[0],areaFillOpacity:.25,areaActiveFillColor:vu[0],areaActiveFillOpacity:.5,areaSelectedFillColor:vu[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:vu[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Ha[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Ha[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:vu[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Ha[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Ha[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:vu[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:sh[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Ha[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Ha[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,U.pi)((0,U.pi)({},M),h)},Qx=Eg();function Jx(){return window?window.devicePixelRatio:1}function lm(h,f,t,c){var v=h-t,y=f-c;return Math.sqrt(v*v+y*y)}function fp(h,f,t,c,v,y){return v>=h&&v<=h+t&&y>=f&&y<=f+c}function lv(h,f){return!(f.minX>h.maxX||f.maxX<h.minX||f.minY>h.maxY||f.maxY<h.minY)}function Ob(h,f){return!h||!f?h||f:{minX:Math.min(h.minX,f.minX),minY:Math.min(h.minY,f.minY),maxX:Math.max(h.maxX,f.maxX),maxY:Math.max(h.maxY,f.maxY)}}function sm(h,f){return h[0]===f[0]&&h[1]===f[1]}var Ab=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ib=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Rb=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,hp=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Af(h,f){var t=h.match(hp);(0,D.S6)(t,function(c){var v=c.split(":");f.addColorStop(v[0],v[1])})}function E_(h,f,t){var c=Ab.exec(t),v=parseFloat(c[1])%360*(Math.PI/180),y=c[2],b=f.getBBox(),M,A;v>=0&&v<1/2*Math.PI?(M={x:b.minX,y:b.minY},A={x:b.maxX,y:b.maxY}):1/2*Math.PI<=v&&v<Math.PI?(M={x:b.maxX,y:b.minY},A={x:b.minX,y:b.maxY}):Math.PI<=v&&v<3/2*Math.PI?(M={x:b.maxX,y:b.maxY},A={x:b.minX,y:b.minY}):(M={x:b.minX,y:b.maxY},A={x:b.maxX,y:b.minY});var B=Math.tan(v),H=B*B,W=(A.x-M.x+B*(A.y-M.y))/(H+1)+M.x,Y=B*(A.x-M.x+B*(A.y-M.y))/(H+1)+M.y,Q=h.createLinearGradient(M.x,M.y,W,Y);return Af(y,Q),Q}function eS(h,f,t){var c=Ib.exec(t),v=parseFloat(c[1]),y=parseFloat(c[2]),b=parseFloat(c[3]),M=c[4];if(b===0){var A=M.match(hp);return A[A.length-1].split(":")[1]}var B=f.getBBox(),H=B.maxX-B.minX,W=B.maxY-B.minY,Y=Math.sqrt(H*H+W*W)/2,Q=h.createRadialGradient(B.minX+H*v,B.minY+W*y,0,B.minX+H/2,B.minY+W/2,b*Y);return Af(M,Q),Q}function ld(h,f,t){if(f.get("patternSource")&&f.get("patternSource")===t)return f.get("pattern");var c,v,y=Rb.exec(t),b=y[1],M=y[2];function A(){c=h.createPattern(v,b),f.set("pattern",c),f.set("patternSource",t)}switch(b){case"a":b="repeat";break;case"x":b="repeat-x";break;case"y":b="repeat-y";break;case"n":b="no-repeat";break;default:b="no-repeat"}return v=new Image,M.match(/^data:/i)||(v.crossOrigin="Anonymous"),v.src=M,v.complete?A():(v.onload=A,v.src=v.src),c}function Kc(h,f,t){var c=f.getBBox();if(isNaN(c.x)||isNaN(c.y)||isNaN(c.width)||isNaN(c.height))return t;if((0,D.HD)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return E_(h,f,t);if(t[0]==="r")return eS(h,f,t);if(t[0]==="p")return ld(h,f,t)}return t}if(t instanceof CanvasPattern)return t}function um(h){var f=0,t=0,c=0,v=0;return(0,D.kJ)(h)?h.length===1?f=t=c=v=h[0]:h.length===2?(f=c=h[0],t=v=h[1]):h.length===3?(f=h[0],t=v=h[1],c=h[2]):(f=h[0],t=h[1],c=h[2],v=h[3]):f=t=c=v=h,[f,t,c,v]}function Mg(h){return Math.sqrt(h[0]*h[0]+h[1]*h[1])}function dp(h,f){return Mg(h)*Mg(f)?(h[0]*f[0]+h[1]*f[1])/(Mg(h)*Mg(f)):1}function If(h,f){return(h[0]*f[1]<h[1]*f[0]?-1:1)*Math.acos(dp(h,f))}function Tg(h,f){var t=f[1],c=f[2],v=(0,D.wQ)((0,D.c$)(f[3]),Math.PI*2),y=f[4],b=f[5],M=h[0],A=h[1],B=f[6],H=f[7],W=Math.cos(v)*(M-B)/2+Math.sin(v)*(A-H)/2,Y=-1*Math.sin(v)*(M-B)/2+Math.cos(v)*(A-H)/2,Q=W*W/(t*t)+Y*Y/(c*c);Q>1&&(t*=Math.sqrt(Q),c*=Math.sqrt(Q));var te=t*t*(Y*Y)+c*c*(W*W),he=te?Math.sqrt((t*t*(c*c)-te)/te):1;y===b&&(he*=-1),isNaN(he)&&(he=0);var Me=c?he*t*Y/c:0,Fe=t?he*-c*W/t:0,Qe=(M+B)/2+Math.cos(v)*Me-Math.sin(v)*Fe,nt=(A+H)/2+Math.sin(v)*Me+Math.cos(v)*Fe,pt=[(W-Me)/t,(Y-Fe)/c],Qt=[(-1*W-Me)/t,(-1*Y-Fe)/c],Sr=If([1,0],pt),Mr=If(pt,Qt);return dp(pt,Qt)<=-1&&(Mr=Math.PI),dp(pt,Qt)>=1&&(Mr=0),b===0&&Mr>0&&(Mr=Mr-2*Math.PI),b===1&&Mr<0&&(Mr=Mr+2*Math.PI),{cx:Qe,cy:nt,rx:sm(h,[B,H])?0:t,ry:sm(h,[B,H])?0:c,startAngle:Sr,endAngle:Sr+Mr,xRotation:v,arcFlag:y,sweepFlag:b}}var cm=Math.sin,ba=Math.cos,fm=Math.atan2,sd=Math.PI;function Fu(h,f,t,c,v,y,b){var M=f.stroke,A=f.lineWidth,B=t-v,H=c-y,W=fm(H,B),Y=new gp({type:"path",canvas:h.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*ba(sd/6)+","+10*cm(sd/6)+" L0,0 L"+10*ba(sd/6)+",-"+10*cm(sd/6),stroke:M,lineWidth:A}});Y.translate(v,y),Y.rotateAtPoint(v,y,W),h.set(b?"startArrowShape":"endArrowShape",Y)}function Hs(h,f,t,c,v,y,b){var M=f.startArrow,A=f.endArrow,B=f.stroke,H=f.lineWidth,W=b?M:A,Y=W.d,Q=W.fill,te=W.stroke,he=W.lineWidth,Me=(0,U._T)(W,["d","fill","stroke","lineWidth"]),Fe=t-v,Qe=c-y,nt=fm(Qe,Fe);Y&&(v=v-ba(nt)*Y,y=y-cm(nt)*Y);var pt=new gp({type:"path",canvas:h.get("canvas"),isArrowShape:!0,attrs:(0,U.pi)((0,U.pi)({},Me),{stroke:te||B,lineWidth:he||H,fill:Q})});pt.translate(v,y),pt.rotateAtPoint(v,y,nt),h.set(b?"startArrowShape":"endArrowShape",pt)}function Sc(h,f,t,c,v){var y=fm(c-f,t-h);return{dx:ba(y)*v,dy:cm(y)*v}}function vp(h,f,t,c,v,y){typeof f.startArrow=="object"?Hs(h,f,t,c,v,y,!0):f.startArrow?Fu(h,f,t,c,v,y,!0):h.set("startArrowShape",null)}function ud(h,f,t,c,v,y){typeof f.endArrow=="object"?Hs(h,f,t,c,v,y,!1):f.endArrow?Fu(h,f,t,c,v,y,!1):h.set("startArrowShape",null)}var Rf={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Ba(h,f){var t=f.attr();for(var c in t){var v=t[c],y=Rf[c]?Rf[c]:c;y==="matrix"&&v?h.transform(v[0],v[1],v[3],v[4],v[6],v[7]):y==="lineDash"&&h.setLineDash?(0,D.kJ)(v)&&h.setLineDash(v):(y==="strokeStyle"||y==="fillStyle"?v=Kc(h,f,v):y==="globalAlpha"&&(v=v*h.globalAlpha),h[y]=v)}}function Li(h,f,t){for(var c=0;c<f.length;c++){var v=f[c];v.cfg.visible?v.draw(h,t):v.skipDraw()}}function tS(h,f,t){var c=h.get("refreshElements");(0,D.S6)(c,function(v){if(v!==h)for(var y=v.cfg.parent;y&&y!==h&&!y.cfg.refresh;)y.cfg.refresh=!0,y=y.cfg.parent}),c[0]===h?_c(f,t):qc(f,t)}function qc(h,f){for(var t=0;t<h.length;t++){var c=h[t];if(c.cfg.visible)if(c.cfg.hasChanged)c.cfg.refresh=!0,c.isGroup()&&_c(c.cfg.children,f);else if(c.cfg.refresh)c.isGroup()&&qc(c.cfg.children,f);else{var v=ch(c,f);c.cfg.refresh=v,v&&c.isGroup()&&qc(c.cfg.children,f)}}}function rS(h){for(var f=0;f<h.length;f++){var t=h[f];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&rS(t.cfg.children)}}function _c(h,f){for(var t=0;t<h.length;t++){var c=h[t];c.cfg.visible&&(c.cfg.refresh=!0,c.isGroup()&&_c(c.get("children"),f))}}function ch(h,f){var t=h.cfg.cacheCanvasBBox,c=h.cfg.isInView&&t&&lv(t,f);return c}function hm(h,f,t,c){var v=t.path,y=t.startArrow,b=t.endArrow;if(v){var M=[0,0],A=[0,0],B={dx:0,dy:0};f.beginPath();for(var H=0;H<v.length;H++){var W=v[H],Y=W[0];if(H===0&&y&&y.d){var Q=h.getStartTangent();B=Sc(Q[0][0],Q[0][1],Q[1][0],Q[1][1],y.d)}else if(H===v.length-2&&v[H+1][0]==="Z"&&b&&b.d){var te=v[H+1];if(te[0]==="Z"){var Q=h.getEndTangent();B=Sc(Q[0][0],Q[0][1],Q[1][0],Q[1][1],b.d)}}else if(H===v.length-1&&b&&b.d&&v[0]!=="Z"){var Q=h.getEndTangent();B=Sc(Q[0][0],Q[0][1],Q[1][0],Q[1][1],b.d)}var he=B.dx,Me=B.dy;switch(Y){case"M":f.moveTo(W[1]-he,W[2]-Me),A=[W[1],W[2]];break;case"L":f.lineTo(W[1]-he,W[2]-Me);break;case"Q":f.quadraticCurveTo(W[1],W[2],W[3]-he,W[4]-Me);break;case"C":f.bezierCurveTo(W[1],W[2],W[3],W[4],W[5]-he,W[6]-Me);break;case"A":{var Fe=void 0;c?(Fe=c[H],Fe||(Fe=Tg(M,W),c[H]=Fe)):Fe=Tg(M,W);var Qe=Fe.cx,nt=Fe.cy,pt=Fe.rx,Qt=Fe.ry,Sr=Fe.startAngle,Mr=Fe.endAngle,Or=Fe.xRotation,Xr=Fe.sweepFlag;if(f.ellipse)f.ellipse(Qe,nt,pt,Qt,Or,Sr,Mr,1-Xr);else{var tn=pt>Qt?pt:Qt,ti=pt>Qt?1:pt/Qt,ri=pt>Qt?Qt/pt:1;f.translate(Qe,nt),f.rotate(Or),f.scale(ti,ri),f.arc(0,0,tn,Sr,Mr,1-Xr),f.scale(1/ti,1/ri),f.rotate(-Or),f.translate(-Qe,-nt)}break}case"Z":f.closePath();break;default:break}if(Y==="Z")M=A;else{var Yi=W.length;M=[W[Yi-2],W[Yi-1]]}}}}function Db(h,f){var t=h.get("canvas");t&&(f==="remove"&&(h._cacheCanvasBBox=h.get("cacheCanvasBBox")),h.get("hasChanged")||(h.set("hasChanged",!0),h.cfg.parent&&h.cfg.parent.get("hasChanged")||(t.refreshElement(h,f,t),t.get("autoDraw")&&t.draw())))}function Nu(h){var f;if(h.destroyed)f=h._cacheCanvasBBox;else{var t=h.get("cacheCanvasBBox"),c=t&&!!(t.width&&t.height),v=h.getCanvasBBox(),y=v&&!!(v.width&&v.height);c&&y?f=Ob(t,v):c?f=t:y&&(f=v)}return f}function Lb(h){if(!h.length)return null;var f=[],t=[],c=[],v=[];return(0,D.S6)(h,function(y){var b=Nu(y);b&&(f.push(b.minX),t.push(b.minY),c.push(b.maxX),v.push(b.maxY))}),{minX:(0,D.VV)(f),minY:(0,D.VV)(t),maxX:(0,D.Fp)(c),maxY:(0,D.Fp)(v)}}function Qa(h,f){return!h||!f||!lv(h,f)?null:{minX:Math.max(h.minX,f.minX),minY:Math.max(h.minY,f.minY),maxX:Math.min(h.maxX,f.maxX),maxY:Math.min(h.maxY,f.maxY)}}var cl=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.onCanvasChange=function(t){Db(this,t)},f.prototype.getShapeBase=function(){return Dt},f.prototype.getGroupBase=function(){return f},f.prototype._applyClip=function(t,c){c&&(t.save(),Ba(t,c),c.createPath(t),t.restore(),t.clip(),c._afterDraw())},f.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,c=[],v=[];(0,D.S6)(t,function(Y){var Q=Y.cfg.cacheCanvasBBox;Q&&Y.cfg.isInView&&(c.push(Q.minX,Q.maxX),v.push(Q.minY,Q.maxY))});var y=null;if(c.length){var b=(0,D.VV)(c),M=(0,D.Fp)(c),A=(0,D.VV)(v),B=(0,D.Fp)(v);y={minX:b,minY:A,x:b,y:A,maxX:M,maxY:B,width:M-b,height:B-A};var H=this.cfg.canvas;if(H){var W=H.getViewRange();this.set("isInView",lv(y,W))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",y)},f.prototype.draw=function(t,c){var v=this.cfg.children,y=c?this.cfg.refresh:!0;v.length&&y&&(t.save(),Ba(t,this),this._applyClip(t,this.getClip()),Li(t,v,c),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},f.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},f}(at.AbstractGroup),Qc=cl,ja=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},f.prototype.getShapeBase=function(){return Dt},f.prototype.getGroupBase=function(){return Qc},f.prototype.onCanvasChange=function(t){Db(this,t)},f.prototype.calculateBBox=function(){var t=this.get("type"),c=this.getHitLineWidth(),v=(0,at.getBBoxMethod)(t),y=v(this),b=c/2,M=y.x-b,A=y.y-b,B=y.x+y.width+b,H=y.y+y.height+b;return{x:M,minX:M,y:A,minY:A,width:y.width+c,height:y.height+c,maxX:B,maxY:H}},f.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},f.prototype.isStroke=function(){return!!this.attrs.stroke},f.prototype._applyClip=function(t,c){c&&(t.save(),Ba(t,c),c.createPath(t),t.restore(),t.clip(),c._afterDraw())},f.prototype.draw=function(t,c){var v=this.cfg.clipShape;if(c){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var y=this.getCanvasBBox();if(!lv(c,y)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),Ba(t,this),this._applyClip(t,v),this.drawPath(t),t.restore(),this._afterDraw()},f.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},f.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var c=this.getCanvasBBox(),v=lv(c,t);this.set("isInView",v),v?this.set("cacheCanvasBBox",c):this.set("cacheCanvasBBox",null)}},f.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},f.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},f.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},f.prototype.fill=function(t){t.fill()},f.prototype.stroke=function(t){t.stroke()},f.prototype.strokeAndFill=function(t){var c=this.attrs,v=c.lineWidth,y=c.opacity,b=c.strokeOpacity,M=c.fillOpacity;this.isFill()&&(!(0,D.UM)(M)&&M!==1?(t.globalAlpha=M,this.fill(t),t.globalAlpha=y):this.fill(t)),this.isStroke()&&v>0&&(!(0,D.UM)(b)&&b!==1&&(t.globalAlpha=b),this.stroke(t)),this.afterDrawPath(t)},f.prototype.createPath=function(t){},f.prototype.afterDrawPath=function(t){},f.prototype.isInShape=function(t,c){var v=this.isStroke(),y=this.isFill(),b=this.getHitLineWidth();return this.isInStrokeOrPath(t,c,v,y,b)},f.prototype.isInStrokeOrPath=function(t,c,v,y,b){return!1},f.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},f}(at.AbstractShape),Yo=ja,Pb=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{x:0,y:0,r:0})},f.prototype.isInStrokeOrPath=function(t,c,v,y,b){var M=this.attr(),A=M.x,B=M.y,H=M.r,W=b/2,Y=lm(A,B,t,c);return y&&v?Y<=H+W:y?Y<=H:v?Y>=H-W&&Y<=H+W:!1},f.prototype.createPath=function(t){var c=this.attr(),v=c.x,y=c.y,b=c.r;t.beginPath(),t.arc(v,y,b,0,Math.PI*2,!1),t.closePath()},f}(Yo),nS=Pb;function xC(h,f,t,c){return h/(t*t)+f/(c*c)}var Og=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{x:0,y:0,rx:0,ry:0})},f.prototype.isInStrokeOrPath=function(t,c,v,y,b){var M=this.attr(),A=b/2,B=M.x,H=M.y,W=M.rx,Y=M.ry,Q=(t-B)*(t-B),te=(c-H)*(c-H);return y&&v?xC(Q,te,W+A,Y+A)<=1:y?xC(Q,te,W,Y)<=1:v?xC(Q,te,W-A,Y-A)>=1&&xC(Q,te,W+A,Y+A)<=1:!1},f.prototype.createPath=function(t){var c=this.attr(),v=c.x,y=c.y,b=c.rx,M=c.ry;if(t.beginPath(),t.ellipse)t.ellipse(v,y,b,M,0,0,Math.PI*2,!1);else{var A=b>M?b:M,B=b>M?1:b/M,H=b>M?M/b:1;t.save(),t.translate(v,y),t.scale(B,H),t.arc(0,0,A,0,Math.PI*2),t.restore(),t.closePath()}},f}(Yo),zs=Og;function Bb(h){return h instanceof HTMLElement&&(0,D.HD)(h.nodeName)&&h.nodeName.toUpperCase()==="CANVAS"}var sv=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{x:0,y:0,width:0,height:0})},f.prototype.initAttrs=function(t){this._setImage(t.img)},f.prototype.isStroke=function(){return!1},f.prototype.isOnlyHitBox=function(){return!0},f.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},f.prototype._setImage=function(t){var c=this,v=this.attrs;if((0,D.HD)(t)){var y=new Image;y.onload=function(){if(c.destroyed)return!1;c.attr("img",y),c.set("loading",!1),c._afterLoading();var b=c.get("callback");b&&b.call(c)},y.crossOrigin="Anonymous",y.src=t,this.set("loading",!0)}else t instanceof Image?(v.width||(v.width=t.width),v.height||(v.height=t.height)):Bb(t)&&(v.width||(v.width=Number(t.getAttribute("width"))),v.height||(v.height,Number(t.getAttribute("height"))))},f.prototype.onAttrChange=function(t,c,v){h.prototype.onAttrChange.call(this,t,c,v),t==="img"&&this._setImage(c)},f.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var c=this.attr(),v=c.x,y=c.y,b=c.width,M=c.height,A=c.sx,B=c.sy,H=c.swidth,W=c.sheight,Y=c.img;(Y instanceof Image||Bb(Y))&&(!(0,D.UM)(A)&&!(0,D.UM)(B)&&!(0,D.UM)(H)&&!(0,D.UM)(W)?t.drawImage(Y,A,B,H,W,v,y,b,M):t.drawImage(Y,v,y,b,M))},f}(Yo),iS=sv;function Fo(h,f,t,c){var v=h-t,y=f-c;return Math.sqrt(v*v+y*y)}function SC(h,f){return Math.abs(h-f)<.001}function Hu(h,f){var t=(0,D.VV)(h),c=(0,D.VV)(f),v=(0,D.Fp)(h),y=(0,D.Fp)(f);return{x:t,y:c,width:v-t,height:y-c}}function _C(h,f,t,c){return{minX:min([h,t]),maxX:max([h,t]),minY:min([f,c]),maxY:max([f,c])}}function fh(h){return(h+Math.PI*2)%(Math.PI*2)}var _n={box:function(h,f,t,c){return Hu([h,t],[f,c])},length:function(h,f,t,c){return Fo(h,f,t,c)},pointAt:function(h,f,t,c,v){return{x:(1-v)*h+v*t,y:(1-v)*f+v*c}},pointDistance:function(h,f,t,c,v,y){var b=(t-h)*(v-h)+(c-f)*(y-f);if(b<0)return Fo(h,f,v,y);var M=(t-h)*(t-h)+(c-f)*(c-f);return b>M?Fo(t,c,v,y):this.pointToLine(h,f,t,c,v,y)},pointToLine:function(h,f,t,c,v,y){var b=[t-h,c-f];if(Vi.I6(b,[0,0]))return Math.sqrt((v-h)*(v-h)+(y-f)*(y-f));var M=[-b[1],b[0]];Vi.Fv(M,M);var A=[v-h,y-f];return Math.abs(Vi.AK(A,M))},tangentAngle:function(h,f,t,c){return Math.atan2(c-f,t-h)}},M_=1e-4;function aS(h,f,t,c,v,y){var b,M=1/0,A=[t,c],B=20;y&&y>200&&(B=y/10);for(var H=1/B,W=H/10,Y=0;Y<=B;Y++){var Q=Y*H,te=[v.apply(null,h.concat([Q])),v.apply(null,f.concat([Q]))],he=Fo(A[0],A[1],te[0],te[1]);he<M&&(b=Q,M=he)}if(b===0)return{x:h[0],y:f[0]};if(b===1){var Me=h.length;return{x:h[Me-1],y:f[Me-1]}}M=1/0;for(var Y=0;Y<32&&!(W<M_);Y++){var Fe=b-W,Qe=b+W,te=[v.apply(null,h.concat([Fe])),v.apply(null,f.concat([Fe]))],he=Fo(A[0],A[1],te[0],te[1]);if(Fe>=0&&he<M)b=Fe,M=he;else{var nt=[v.apply(null,h.concat([Qe])),v.apply(null,f.concat([Qe]))],pt=Fo(A[0],A[1],nt[0],nt[1]);Qe<=1&&pt<M?(b=Qe,M=pt):W*=.5}}return{x:v.apply(null,h.concat([b])),y:v.apply(null,f.concat([b]))}}function EC(h,f){for(var t=0,c=h.length,v=0;v<c;v++){var y=h[v],b=f[v],M=h[(v+1)%c],A=f[(v+1)%c];t+=Fo(y,b,M,A)}return t/2}function cd(h,f,t,c){var v=1-c;return v*v*h+2*c*v*f+c*c*t}function kb(h,f,t){var c=h+t-2*f;if(SC(c,0))return[.5];var v=(h-f)/c;return v<=1&&v>=0?[v]:[]}function Fb(h,f,t,c){return 2*(1-c)*(f-h)+2*c*(t-f)}function Nb(h,f,t,c,v,y,b){var M=cd(h,t,v,b),A=cd(f,c,y,b),B=_n.pointAt(h,f,t,c,b),H=_n.pointAt(t,c,v,y,b);return[[h,f,B.x,B.y,M,A],[M,A,H.x,H.y,v,y]]}function dm(h,f,t,c,v,y,b){if(b===0)return(Fo(h,f,t,c)+Fo(t,c,v,y)+Fo(h,f,v,y))/2;var M=Nb(h,f,t,c,v,y,.5),A=M[0],B=M[1];return A.push(b-1),B.push(b-1),dm.apply(null,A)+dm.apply(null,B)}var T_={box:function(h,f,t,c,v,y){var b=kb(h,t,v)[0],M=kb(f,c,y)[0],A=[h,v],B=[f,y];return b!==void 0&&A.push(cd(h,t,v,b)),M!==void 0&&B.push(cd(f,c,y,M)),Hu(A,B)},length:function(h,f,t,c,v,y){return dm(h,f,t,c,v,y,3)},nearestPoint:function(h,f,t,c,v,y,b,M){return aS([h,t,v],[f,c,y],b,M,cd)},pointDistance:function(h,f,t,c,v,y,b,M){var A=this.nearestPoint(h,f,t,c,v,y,b,M);return Fo(A.x,A.y,b,M)},interpolationAt:cd,pointAt:function(h,f,t,c,v,y,b){return{x:cd(h,t,v,b),y:cd(f,c,y,b)}},divide:function(h,f,t,c,v,y,b){return Nb(h,f,t,c,v,y,b)},tangentAngle:function(h,f,t,c,v,y,b){var M=Fb(h,t,v,b),A=Fb(f,c,y,b),B=Math.atan2(A,M);return fh(B)}};function Va(h,f,t,c,v){var y=1-v;return y*y*y*h+3*f*v*y*y+3*t*v*v*y+c*v*v*v}function Cl(h,f,t,c,v){var y=1-v;return 3*(y*y*(f-h)+2*y*v*(t-f)+v*v*(c-t))}function ho(h,f,t,c){var v=-3*h+9*f-9*t+3*c,y=6*h-12*f+6*t,b=3*f-3*h,M=[],A,B,H;if(SC(v,0))SC(y,0)||(A=-b/y,A>=0&&A<=1&&M.push(A));else{var W=y*y-4*v*b;SC(W,0)?M.push(-y/(2*v)):W>0&&(H=Math.sqrt(W),A=(-y+H)/(2*v),B=(-y-H)/(2*v),A>=0&&A<=1&&M.push(A),B>=0&&B<=1&&M.push(B))}return M}function Cs(h,f,t,c,v,y,b,M,A){var B=Va(h,t,v,b,A),H=Va(f,c,y,M,A),W=_n.pointAt(h,f,t,c,A),Y=_n.pointAt(t,c,v,y,A),Q=_n.pointAt(v,y,b,M,A),te=_n.pointAt(W.x,W.y,Y.x,Y.y,A),he=_n.pointAt(Y.x,Y.y,Q.x,Q.y,A);return[[h,f,W.x,W.y,te.x,te.y,B,H],[B,H,he.x,he.y,Q.x,Q.y,b,M]]}function Js(h,f,t,c,v,y,b,M,A){if(A===0)return EC([h,t,v,b],[f,c,y,M]);var B=Cs(h,f,t,c,v,y,b,M,.5),H=B[0],W=B[1];return H.push(A-1),W.push(A-1),Js.apply(null,H)+Js.apply(null,W)}var hh={extrema:ho,box:function(h,f,t,c,v,y,b,M){for(var A=[h,b],B=[f,M],H=ho(h,t,v,b),W=ho(f,c,y,M),Y=0;Y<H.length;Y++)A.push(Va(h,t,v,b,H[Y]));for(var Y=0;Y<W.length;Y++)B.push(Va(f,c,y,M,W[Y]));return Hu(A,B)},length:function(h,f,t,c,v,y,b,M){return Js(h,f,t,c,v,y,b,M,3)},nearestPoint:function(h,f,t,c,v,y,b,M,A,B,H){return aS([h,t,v,b],[f,c,y,M],A,B,Va,H)},pointDistance:function(h,f,t,c,v,y,b,M,A,B,H){var W=this.nearestPoint(h,f,t,c,v,y,b,M,A,B,H);return Fo(W.x,W.y,A,B)},interpolationAt:Va,pointAt:function(h,f,t,c,v,y,b,M,A){return{x:Va(h,t,v,b,A),y:Va(f,c,y,M,A)}},divide:function(h,f,t,c,v,y,b,M,A){return Cs(h,f,t,c,v,y,b,M,A)},tangentAngle:function(h,f,t,c,v,y,b,M,A){var B=Cl(h,t,v,b,A),H=Cl(f,c,y,M,A);return fh(Math.atan2(H,B))}};function Df(h,f){var t=Math.abs(h);return f>0?t:t*-1}var Ag={box:function(h,f,t,c){return{x:h-t,y:f-c,width:t*2,height:c*2}},length:function(h,f,t,c){return Math.PI*(3*(t+c)-Math.sqrt((3*t+c)*(t+3*c)))},nearestPoint:function(h,f,t,c,v,y){var b=t,M=c;if(b===0||M===0)return{x:h,y:f};for(var A=v-h,B=y-f,H=Math.abs(A),W=Math.abs(B),Y=b*b,Q=M*M,te=Math.PI/4,he,Me,Fe=0;Fe<4;Fe++){he=b*Math.cos(te),Me=M*Math.sin(te);var Qe=(Y-Q)*Math.pow(Math.cos(te),3)/b,nt=(Q-Y)*Math.pow(Math.sin(te),3)/M,pt=he-Qe,Qt=Me-nt,Sr=H-Qe,Mr=W-nt,Or=Math.hypot(Qt,pt),Xr=Math.hypot(Mr,Sr),tn=Or*Math.asin((pt*Mr-Qt*Sr)/(Or*Xr)),ti=tn/Math.sqrt(Y+Q-he*he-Me*Me);te+=ti,te=Math.min(Math.PI/2,Math.max(0,te))}return{x:h+Df(he,A),y:f+Df(Me,B)}},pointDistance:function(h,f,t,c,v,y){var b=this.nearestPoint(h,f,t,c,v,y);return Fo(b.x,b.y,v,y)},pointAt:function(h,f,t,c,v){var y=2*Math.PI*v;return{x:h+t*Math.cos(y),y:f+c*Math.sin(y)}},tangentAngle:function(h,f,t,c,v){var y=2*Math.PI*v,b=Math.atan2(c*Math.cos(y),-t*Math.sin(y));return fh(b)}};function ec(h,f,t,c,v,y,b,M){return-1*t*Math.cos(v)*Math.sin(M)-c*Math.sin(v)*Math.cos(M)}function MC(h,f,t,c,v,y,b,M){return-1*t*Math.sin(v)*Math.sin(M)+c*Math.cos(v)*Math.cos(M)}function O_(h,f,t){return Math.atan(-f/h*Math.tan(t))}function dh(h,f,t){return Math.atan(f/(h*Math.tan(t)))}function Ec(h,f,t,c,v,y){return t*Math.cos(v)*Math.cos(y)-c*Math.sin(v)*Math.sin(y)+h}function oS(h,f,t,c,v,y){return t*Math.sin(v)*Math.cos(y)+c*Math.cos(v)*Math.sin(y)+f}function Ig(h,f,t,c){var v=Math.atan2(c*h,t*f);return(v+Math.PI*2)%(Math.PI*2)}function Hb(h,f,t){return{x:h*Math.cos(t),y:f*Math.sin(t)}}function zb(h,f,t){var c=Math.cos(t),v=Math.sin(t);return[h*c-f*v,h*v+f*c]}var uv={box:function(h,f,t,c,v,y,b){for(var M=O_(t,c,v),A=1/0,B=-1/0,H=[y,b],W=-Math.PI*2;W<=Math.PI*2;W+=Math.PI){var Y=M+W;y<b?y<Y&&Y<b&&H.push(Y):b<Y&&Y<y&&H.push(Y)}for(var W=0;W<H.length;W++){var Q=Ec(h,f,t,c,v,H[W]);Q<A&&(A=Q),Q>B&&(B=Q)}for(var te=dh(t,c,v),he=1/0,Me=-1/0,Fe=[y,b],W=-Math.PI*2;W<=Math.PI*2;W+=Math.PI){var Qe=te+W;y<b?y<Qe&&Qe<b&&Fe.push(Qe):b<Qe&&Qe<y&&Fe.push(Qe)}for(var W=0;W<Fe.length;W++){var nt=oS(h,f,t,c,v,Fe[W]);nt<he&&(he=nt),nt>Me&&(Me=nt)}return{x:A,y:he,width:B-A,height:Me-he}},length:function(h,f,t,c,v,y,b){},nearestPoint:function(h,f,t,c,v,y,b,M,A){var B=zb(M-h,A-f,-v),H=B[0],W=B[1],Y=Ag.nearestPoint(0,0,t,c,H,W),Q=Ig(t,c,Y.x,Y.y);Q<y?Y=Hb(t,c,y):Q>b&&(Y=Hb(t,c,b));var te=zb(Y.x,Y.y,v);return{x:te[0]+h,y:te[1]+f}},pointDistance:function(h,f,t,c,v,y,b,M,A){var B=this.nearestPoint(h,f,t,c,M,A);return Fo(B.x,B.y,M,A)},pointAt:function(h,f,t,c,v,y,b,M){var A=(b-y)*M+y;return{x:Ec(h,f,t,c,v,A),y:oS(h,f,t,c,v,A)}},tangentAngle:function(h,f,t,c,v,y,b,M){var A=(b-y)*M+y,B=ec(h,f,t,c,v,y,b,A),H=MC(h,f,t,c,v,y,b,A);return fh(Math.atan2(H,B))}};function vm(h){for(var f=0,t=[],c=0;c<h.length-1;c++){var v=h[c],y=h[c+1],b=Fo(v[0],v[1],y[0],y[1]),M={from:v,to:y,length:b};t.push(M),f+=b}return{segments:t,totalLength:f}}function fd(h){if(h.length<2)return 0;for(var f=0,t=0;t<h.length-1;t++){var c=h[t],v=h[t+1];f+=Fo(c[0],c[1],v[0],v[1])}return f}function pp(h,f){if(f>1||f<0||h.length<2)return null;var t=vm(h),c=t.segments,v=t.totalLength;if(v===0)return{x:h[0][0],y:h[0][1]};for(var y=0,b=null,M=0;M<c.length;M++){var A=c[M],B=A.from,H=A.to,W=A.length/v;if(f>=y&&f<=y+W){var Y=(f-y)/W;b=_n.pointAt(B[0],B[1],H[0],H[1],Y);break}y+=W}return b}function Aa(h,f){if(f>1||f<0||h.length<2)return 0;for(var t=vm(h),c=t.segments,v=t.totalLength,y=0,b=0,M=0;M<c.length;M++){var A=c[M],B=A.from,H=A.to,W=A.length/v;if(f>=y&&f<=y+W){b=Math.atan2(H[1]-B[1],H[0]-B[0]);break}y+=W}return b}function pm(h,f,t){for(var c=1/0,v=0;v<h.length-1;v++){var y=h[v],b=h[v+1],M=_n.pointDistance(y[0],y[1],b[0],b[1],f,t);M<c&&(c=M)}return c}var Wb={box:function(h){for(var f=[],t=[],c=0;c<h.length;c++){var v=h[c];f.push(v[0]),t.push(v[1])}return Hu(f,t)},length:function(h){return fd(h)},pointAt:function(h,f){return pp(h,f)},pointDistance:function(h,f,t){return pm(h,f,t)},tangentAngle:function(h,f){return Aa(h,f)}};function Rg(h){var f=h.slice(0);return h.length&&f.push(h[0]),f}var gm={box:function(h){return Wb.box(h)},length:function(h){return fd(Rg(h))},pointAt:function(h,f){return pp(Rg(h),f)},pointDistance:function(h,f,t){return pm(Rg(h),f,t)},tangentAngle:function(h,f){return Aa(Rg(h),f)}};function Lf(h,f,t,c,v,y,b){var M=Math.min(h,t),A=Math.max(h,t),B=Math.min(f,c),H=Math.max(f,c),W=v/2;return y>=M-W&&y<=A+W&&b>=B-W&&b<=H+W?_n.pointToLine(h,f,t,c,y,b)<=v/2:!1}var mm=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},f.prototype.initAttrs=function(t){this.setArrow()},f.prototype.onAttrChange=function(t,c,v){h.prototype.onAttrChange.call(this,t,c,v),this.setArrow()},f.prototype.setArrow=function(){var t=this.attr(),c=t.x1,v=t.y1,y=t.x2,b=t.y2,M=t.startArrow,A=t.endArrow;M&&vp(this,t,y,b,c,v),A&&ud(this,t,c,v,y,b)},f.prototype.isInStrokeOrPath=function(t,c,v,y,b){if(!v||!b)return!1;var M=this.attr(),A=M.x1,B=M.y1,H=M.x2,W=M.y2;return Lf(A,B,H,W,b,t,c)},f.prototype.createPath=function(t){var c=this.attr(),v=c.x1,y=c.y1,b=c.x2,M=c.y2,A=c.startArrow,B=c.endArrow,H={dx:0,dy:0},W={dx:0,dy:0};A&&A.d&&(H=Sc(v,y,b,M,c.startArrow.d)),B&&B.d&&(W=Sc(v,y,b,M,c.endArrow.d)),t.beginPath(),t.moveTo(v+H.dx,y+H.dy),t.lineTo(b-W.dx,M-W.dy)},f.prototype.afterDrawPath=function(t){var c=this.get("startArrowShape"),v=this.get("endArrowShape");c&&c.draw(t),v&&v.draw(t)},f.prototype.getTotalLength=function(){var t=this.attr(),c=t.x1,v=t.y1,y=t.x2,b=t.y2;return _n.length(c,v,y,b)},f.prototype.getPoint=function(t){var c=this.attr(),v=c.x1,y=c.y1,b=c.x2,M=c.y2;return _n.pointAt(v,y,b,M,t)},f}(Yo),lS=mm,Gb={circle:function(h,f,t){return[["M",h-t,f],["A",t,t,0,1,0,h+t,f],["A",t,t,0,1,0,h-t,f]]},square:function(h,f,t){return[["M",h-t,f-t],["L",h+t,f-t],["L",h+t,f+t],["L",h-t,f+t],["Z"]]},diamond:function(h,f,t){return[["M",h-t,f],["L",h,f-t],["L",h+t,f],["L",h,f+t],["Z"]]},triangle:function(h,f,t){var c=t*Math.sin(.3333333333333333*Math.PI);return[["M",h-t,f+c],["L",h,f-c],["L",h+t,f+c],["Z"]]},"triangle-down":function(h,f,t){var c=t*Math.sin(.3333333333333333*Math.PI);return[["M",h-t,f-c],["L",h+t,f-c],["L",h,f+c],["Z"]]}},pu=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.initAttrs=function(t){this._resetParamsCache()},f.prototype._resetParamsCache=function(){this.set("paramsCache",{})},f.prototype.onAttrChange=function(t,c,v){h.prototype.onAttrChange.call(this,t,c,v),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},f.prototype.isOnlyHitBox=function(){return!0},f.prototype._getR=function(t){return(0,D.UM)(t.r)?t.radius:t.r},f.prototype._getPath=function(){var t=this.attr(),c=t.x,v=t.y,y=t.symbol||"circle",b=this._getR(t),M,A;if((0,D.mf)(y))M=y,A=M(c,v,b),A=(0,ll.wb)(A);else{if(M=f.Symbols[y],!M)return console.warn(y+" marker is not supported."),null;A=M(c,v,b)}return A},f.prototype.createPath=function(t){var c=this._getPath(),v=this.get("paramsCache");hm(this,t,{path:c},v)},f.Symbols=Gb,f}(Yo),ia=pu;function gu(h,f,t){var c=(0,at.getOffScreenContext)();return h.createPath(c),c.isPointInPath(f,t)}var TC=1e-6;function Jc(h){return Math.abs(h)<TC?0:h<0?-1:1}function $b(h,f,t){return(t[0]-h[0])*(f[1]-h[1])===(f[0]-h[0])*(t[1]-h[1])&&Math.min(h[0],f[0])<=t[0]&&t[0]<=Math.max(h[0],f[0])&&Math.min(h[1],f[1])<=t[1]&&t[1]<=Math.max(h[1],f[1])}function mu(h,f,t){var c=!1,v=h.length;if(v<=2)return!1;for(var y=0;y<v;y++){var b=h[y],M=h[(y+1)%v];if($b(b,M,[f,t]))return!0;Jc(b[1]-t)>0!=Jc(M[1]-t)>0&&Jc(f-(t-b[1])*(b[0]-M[0])/(b[1]-M[1])-b[0])<0&&(c=!c)}return c}function hd(h,f,t,c,v,y,b,M){var A=(Math.atan2(M-f,b-h)+Math.PI*2)%(Math.PI*2);if(A<c||A>v)return!1;var B={x:h+t*Math.cos(A),y:f+t*Math.sin(A)};return lm(B.x,B.y,b,M)<=y/2}var sS=Pa.vs;function dd(h){for(var f=!1,t=h.length,c=0;c<t;c++){var v=h[c],y=v[0];if(y==="C"||y==="A"||y==="Q"){f=!0;break}}return f}function Dg(h,f,t,c,v){for(var y=!1,b=f/2,M=0;M<h.length;M++){var A=h[M],B=A.currentPoint,H=A.params,W=A.prePoint,Y=A.box;if(!(Y&&!fp(Y.x-b,Y.y-b,Y.width+f,Y.height+f,t,c))){switch(A.command){case"L":case"Z":y=Lf(W[0],W[1],B[0],B[1],f,t,c);break;case"Q":var Q=T_.pointDistance(W[0],W[1],H[1],H[2],H[3],H[4],t,c);y=Q<=f/2;break;case"C":var te=hh.pointDistance(W[0],W[1],H[1],H[2],H[3],H[4],H[5],H[6],t,c,v);y=te<=f/2;break;case"A":var he=A.arcParams,Me=he.cx,Fe=he.cy,Qe=he.rx,nt=he.ry,pt=he.startAngle,Qt=he.endAngle,Sr=he.xRotation,Mr=[t,c,1],Or=Qe>nt?Qe:nt,Xr=Qe>nt?1:Qe/nt,tn=Qe>nt?nt/Qe:1,ti=sS(null,[["t",-Me,-Fe],["r",-Sr],["s",1/Xr,1/tn]]);Fd(Mr,Mr,ti),y=hd(0,0,Or,pt,Qt,f,Mr[0],Mr[1]);break;default:break}if(y)break}}return y}function Lg(h){for(var f=h.length,t=[],c=[],v=[],y=0;y<f;y++){var b=h[y],M=b[0];M==="M"?(v.length&&(c.push(v),v=[]),v.push([b[1],b[2]])):M==="Z"?v.length&&(t.push(v),v=[]):v.push([b[1],b[2]])}return v.length>0&&c.push(v),{polygons:t,polylines:c}}var OC=(0,U.pi)({hasArc:dd,extractPolygons:Lg,isPointInStroke:Dg},at.PathUtil);function uS(h,f,t){for(var c=!1,v=0;v<h.length;v++){var y=h[v];if(c=mu(y,f,t),c)break}return c}var A_=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{startArrow:!1,endArrow:!1})},f.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},f.prototype.onAttrChange=function(t,c,v){h.prototype.onAttrChange.call(this,t,c,v),t==="path"&&this._setPathArr(c),this.setArrow()},f.prototype._setPathArr=function(t){this.attrs.path=(0,ll.wb)(t);var c=OC.hasArc(t);this.set("hasArc",c),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},f.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,ll.zx)(this.attr("path")),this.set("segments",t)),t},f.prototype.setArrow=function(){var t=this.attr(),c=t.startArrow,v=t.endArrow;if(c){var y=this.getStartTangent();vp(this,t,y[0][0],y[0][1],y[1][0],y[1][1])}if(v){var y=this.getEndTangent();ud(this,t,y[0][0],y[0][1],y[1][0],y[1][1])}},f.prototype.isInStrokeOrPath=function(t,c,v,y,b){var M=this.getSegments(),A=this.get("hasArc"),B=!1;if(v){var H=this.getTotalLength();B=OC.isPointInStroke(M,b,t,c,H)}if(!B&&y)if(A)B=gu(this,t,c);else{var W=this.attr("path"),Y=OC.extractPolygons(W);B=uS(Y.polygons,t,c)||uS(Y.polylines,t,c)}return B},f.prototype.createPath=function(t){var c=this.attr(),v=this.get("paramsCache");hm(this,t,c,v)},f.prototype.afterDrawPath=function(t){var c=this.get("startArrowShape"),v=this.get("endArrowShape");c&&c.draw(t),v&&v.draw(t)},f.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,D.UM)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},f.prototype.getPoint=function(t){var c=this.get("tCache");c||(this._calculateCurve(),this._setTcache(),c=this.get("tCache"));var v,y,b=this.get("curve");if(!c||c.length===0)return b?{x:b[0][1],y:b[0][2]}:null;(0,D.S6)(c,function(H,W){t>=H[0]&&t<=H[1]&&(v=(t-H[0])/(H[1]-H[0]),y=W)});var M=b[y];if((0,D.UM)(M)||(0,D.UM)(y))return null;var A=M.length,B=b[y+1];return hh.pointAt(M[A-2],M[A-1],B[1],B[2],B[3],B[4],B[5],B[6],v)},f.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",OC.pathToCurve(t))},f.prototype._setTcache=function(){var t=0,c=0,v=[],y,b,M,A,B=this.get("curve");if(B){if((0,D.S6)(B,function(H,W){M=B[W+1],A=H.length,M&&(t+=hh.length(H[A-2],H[A-1],M[1],M[2],M[3],M[4],M[5],M[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,D.S6)(B,function(H,W){M=B[W+1],A=H.length,M&&(y=[],y[0]=c/t,b=hh.length(H[A-2],H[A-1],M[1],M[2],M[3],M[4],M[5],M[6]),c+=b||0,y[1]=c/t,v.push(y))}),this.set("tCache",v)}},f.prototype.getStartTangent=function(){var t=this.getSegments(),c;if(t.length>1){var v=t[0].currentPoint,y=t[1].currentPoint,b=t[1].startTangent;c=[],b?(c.push([v[0]-b[0],v[1]-b[1]]),c.push([v[0],v[1]])):(c.push([y[0],y[1]]),c.push([v[0],v[1]]))}return c},f.prototype.getEndTangent=function(){var t=this.getSegments(),c=t.length,v;if(c>1){var y=t[c-2].currentPoint,b=t[c-1].currentPoint,M=t[c-1].endTangent;v=[],M?(v.push([b[0]-M[0],b[1]-M[1]]),v.push([b[0],b[1]])):(v.push([y[0],y[1]]),v.push([b[0],b[1]]))}return v},f}(Yo),gp=A_;function Ub(h,f,t,c,v){var y=h.length;if(y<2)return!1;for(var b=0;b<y-1;b++){var M=h[b][0],A=h[b][1],B=h[b+1][0],H=h[b+1][1];if(Lf(M,A,B,H,f,t,c))return!0}if(v){var W=h[0],Y=h[y-1];if(Lf(W[0],W[1],Y[0],Y[1],f,t,c))return!0}return!1}var AC=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.isInStrokeOrPath=function(t,c,v,y,b){var M=this.attr().points,A=!1;return v&&(A=Ub(M,b,t,c,!0)),!A&&y&&(A=mu(M,t,c)),A},f.prototype.createPath=function(t){var c=this.attr(),v=c.points;if(!(v.length<2)){t.beginPath();for(var y=0;y<v.length;y++){var b=v[y];y===0?t.moveTo(b[0],b[1]):t.lineTo(b[0],b[1])}t.closePath()}},f}(Yo),I_=AC,R_=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{startArrow:!1,endArrow:!1})},f.prototype.initAttrs=function(t){this.setArrow()},f.prototype.onAttrChange=function(t,c,v){h.prototype.onAttrChange.call(this,t,c,v),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},f.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},f.prototype.setArrow=function(){var t=this.attr(),c=this.attrs,v=c.points,y=c.startArrow,b=c.endArrow,M=v.length,A=v[0][0],B=v[0][1],H=v[M-1][0],W=v[M-1][1];y&&vp(this,t,v[1][0],v[1][1],A,B),b&&ud(this,t,v[M-2][0],v[M-2][1],H,W)},f.prototype.isFill=function(){return!1},f.prototype.isInStrokeOrPath=function(t,c,v,y,b){if(!v||!b)return!1;var M=this.attr().points;return Ub(M,b,t,c,!1)},f.prototype.isStroke=function(){return!0},f.prototype.createPath=function(t){var c=this.attr(),v=c.points,y=c.startArrow,b=c.endArrow,M=v.length;if(!(v.length<2)){var A=v[0][0],B=v[0][1],H=v[M-1][0],W=v[M-1][1];if(y&&y.d){var Y=Sc(A,B,v[1][0],v[1][1],y.d);A+=Y.dx,B+=Y.dy}if(b&&b.d){var Y=Sc(v[M-2][0],v[M-2][1],H,W,b.d);H-=Y.dx,W-=Y.dy}t.beginPath(),t.moveTo(A,B);for(var Q=0;Q<M-1;Q++){var te=v[Q];t.lineTo(te[0],te[1])}t.lineTo(H,W)}},f.prototype.afterDrawPath=function(t){var c=this.get("startArrowShape"),v=this.get("endArrowShape");c&&c.draw(t),v&&v.draw(t)},f.prototype.getTotalLength=function(){var t=this.attr().points,c=this.get("totalLength");return(0,D.UM)(c)?(this.set("totalLength",Wb.length(t)),this.get("totalLength")):c},f.prototype.getPoint=function(t){var c=this.attr().points,v=this.get("tCache");v||(this._setTcache(),v=this.get("tCache"));var y,b;return(0,D.S6)(v,function(M,A){t>=M[0]&&t<=M[1]&&(y=(t-M[0])/(M[1]-M[0]),b=A)}),_n.pointAt(c[b][0],c[b][1],c[b+1][0],c[b+1][1],y)},f.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var c=this.getTotalLength();if(!(c<=0)){var v=0,y=[],b,M;(0,D.S6)(t,function(A,B){t[B+1]&&(b=[],b[0]=v/c,M=_n.length(A[0],A[1],t[B+1][0],t[B+1][1]),v+=M,b[1]=v/c,y.push(b))}),this.set("tCache",y)}}},f.prototype.getStartTangent=function(){var t=this.attr().points,c=[];return c.push([t[1][0],t[1][1]]),c.push([t[0][0],t[0][1]]),c},f.prototype.getEndTangent=function(){var t=this.attr().points,c=t.length-1,v=[];return v.push([t[c-1][0],t[c-1][1]]),v.push([t[c][0],t[c][1]]),v},f}(Yo),Yb=R_;function Pg(h,f,t,c,v,y,b){var M=v/2;return fp(h-M,f-M,t,v,y,b)||fp(h+t-M,f-M,v,c,y,b)||fp(h+M,f+c-M,t,v,y,b)||fp(h-M,f+M,v,c,y,b)}function D_(h,f,t,c,v,y,b,M){var A=y/2;return Lf(h+v,f,h+t-v,f,y,b,M)||Lf(h+t,f+v,h+t,f+c-v,y,b,M)||Lf(h+t-v,f+c,h+v,f+c,y,b,M)||Lf(h,f+c-v,h,f+v,y,b,M)||hd(h+t-v,f+v,v,1.5*Math.PI,2*Math.PI,y,b,M)||hd(h+t-v,f+c-v,v,0,.5*Math.PI,y,b,M)||hd(h+v,f+c-v,v,.5*Math.PI,Math.PI,y,b,M)||hd(h+v,f+v,v,Math.PI,1.5*Math.PI,y,b,M)}var vh=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{x:0,y:0,width:0,height:0,radius:0})},f.prototype.isInStrokeOrPath=function(t,c,v,y,b){var M=this.attr(),A=M.x,B=M.y,H=M.width,W=M.height,Y=M.radius;if(Y){var te=!1;return v&&(te=D_(A,B,H,W,Y,b,t,c)),!te&&y&&(te=gu(this,t,c)),te}else{var Q=b/2;if(y&&v)return fp(A-Q,B-Q,H+Q,W+Q,t,c);if(y)return fp(A,B,H,W,t,c);if(v)return Pg(A,B,H,W,b,t,c)}},f.prototype.createPath=function(t){var c=this.attr(),v=c.x,y=c.y,b=c.width,M=c.height,A=c.radius;if(t.beginPath(),A===0)t.rect(v,y,b,M);else{var B=um(A),H=B[0],W=B[1],Y=B[2],Q=B[3];t.moveTo(v+H,y),t.lineTo(v+b-W,y),W!==0&&t.arc(v+b-W,y+W,W,-Math.PI/2,0),t.lineTo(v+b,y+M-Y),Y!==0&&t.arc(v+b-Y,y+M-Y,Y,0,Math.PI/2),t.lineTo(v+Q,y+M),Q!==0&&t.arc(v+Q,y+M-Q,Q,Math.PI/2,Math.PI),t.lineTo(v,y+H),H!==0&&t.arc(v+H,y+H,H,Math.PI,Math.PI*1.5),t.closePath()}},f}(Yo),IC=vh,zu=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},f.prototype.isOnlyHitBox=function(){return!0},f.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},f.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,at.assembleFont)(t)},f.prototype._setText=function(t){var c=null;(0,D.HD)(t)&&t.indexOf(`
`)!==-1&&(c=t.split(`
`)),this.set("textArr",c)},f.prototype.onAttrChange=function(t,c,v){h.prototype.onAttrChange.call(this,t,c,v),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(c)},f.prototype._getSpaceingY=function(){var t=this.attrs,c=t.lineHeight,v=t.fontSize*1;return c?c-v:v*.14},f.prototype._drawTextArr=function(t,c,v){var y=this.attrs,b=y.textBaseline,M=y.x,A=y.y,B=y.fontSize*1,H=this._getSpaceingY(),W=(0,at.getTextHeight)(y.text,y.fontSize,y.lineHeight),Y;(0,D.S6)(c,function(Q,te){Y=A+te*(H+B)-W+B,b==="middle"&&(Y+=W-B-(W-B)/2),b==="top"&&(Y+=W-B),(0,D.UM)(Q)||(v?t.fillText(Q,M,Y):t.strokeText(Q,M,Y))})},f.prototype._drawText=function(t,c){var v=this.attr(),y=v.x,b=v.y,M=this.get("textArr");if(M)this._drawTextArr(t,M,c);else{var A=v.text;(0,D.UM)(A)||(c?t.fillText(A,y,b):t.strokeText(A,y,b))}},f.prototype.strokeAndFill=function(t){var c=this.attrs,v=c.lineWidth,y=c.opacity,b=c.strokeOpacity,M=c.fillOpacity;this.isStroke()&&v>0&&(!(0,D.UM)(b)&&b!==1&&(t.globalAlpha=y),this.stroke(t)),this.isFill()&&(!(0,D.UM)(M)&&M!==1?(t.globalAlpha=M,this.fill(t),t.globalAlpha=y):this.fill(t)),this.afterDrawPath(t)},f.prototype.fill=function(t){this._drawText(t,!0)},f.prototype.stroke=function(t){this._drawText(t,!1)},f}(Yo),L_=zu;function cS(h,f){if(f){var t=(0,at.invert)(f);return(0,at.multiplyVec2)(t,h)}return h}function fS(h,f,t){var c=h.getTotalMatrix();if(c){var v=cS([f,t,1],c),y=v[0],b=v[1];return[y,b]}return[f,t]}function hS(h,f,t){if(h.isCanvas&&h.isCanvas())return!0;if(!(0,at.isAllowCapture)(h)||h.cfg.isInView===!1)return!1;if(h.cfg.clipShape){var c=fS(h,f,t),v=c[0],y=c[1];if(h.isClipped(v,y))return!1}var b=h.cfg.cacheCanvasBBox||h.getCanvasBBox();return f>=b.minX&&f<=b.maxX&&t>=b.minY&&t<=b.maxY}function dS(h,f,t){if(!hS(h,f,t))return null;for(var c=null,v=h.getChildren(),y=v.length,b=y-1;b>=0;b--){var M=v[b];if(M.isGroup())c=dS(M,f,t);else if(hS(M,f,t)){var A=M,B=fS(M,f,t),H=B[0],W=B[1];A.isInShape(H,W)&&(c=M)}if(c)break}return c}var vS=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},f.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},f.prototype.getShapeBase=function(){return Dt},f.prototype.getGroupBase=function(){return Qc},f.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Jx();return t>=1?Math.ceil(t):1},f.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},f.prototype.createDom=function(){var t=document.createElement("canvas"),c=t.getContext("2d");return this.set("context",c),t},f.prototype.setDOMSize=function(t,c){h.prototype.setDOMSize.call(this,t,c);var v=this.get("context"),y=this.get("el"),b=this.getPixelRatio();y.width=b*t,y.height=b*c,b>1&&v.scale(b,b)},f.prototype.clear=function(){h.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),c=this.get("el");t.clearRect(0,0,c.width,c.height)},f.prototype.getShape=function(t,c){var v;return this.get("quickHit")?v=dS(this,t,c):v=h.prototype.getShape.call(this,t,c,null),v},f.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),c=this.getViewRange(),v;if(t.length&&t[0]===this)v=c;else if(v=Lb(t),v){v.minX=Math.floor(v.minX),v.minY=Math.floor(v.minY),v.maxX=Math.ceil(v.maxX),v.maxY=Math.ceil(v.maxY),v.maxY+=1;var y=this.get("clipView");y&&(v=Qa(v,c))}return v},f.prototype.refreshElement=function(t){var c=this.get("refreshElements");c.push(t)},f.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,D.VS)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},f.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},f.prototype._drawAll=function(){var t=this.get("context"),c=this.get("el"),v=this.getChildren();t.clearRect(0,0,c.width,c.height),Ba(t,this),Li(t,v),this.set("refreshElements",[])},f.prototype._drawRegion=function(){var t=this.get("context"),c=this.get("refreshElements"),v=this.getChildren(),y=this._getRefreshRegion();y?(t.clearRect(y.minX,y.minY,y.maxX-y.minX,y.maxY-y.minY),t.save(),t.beginPath(),t.rect(y.minX,y.minY,y.maxX-y.minX,y.maxY-y.minY),t.clip(),Ba(t,this),tS(this,v,y),Li(t,v,y),t.restore()):c.length&&rS(c),(0,D.S6)(c,function(b){b.get("hasChanged")&&b.set("hasChanged",!1)}),this.set("refreshElements",[])},f.prototype._startDraw=function(){var t=this,c=this.get("drawFrame"),v=this.get("drawFrameCallback");c||(c=(0,D.U7)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null),v&&v()}),this.set("drawFrame",c))},f.prototype.skipDraw=function(){},f.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},f}(at.AbstractCanvas),vd=vS,ym="0.5.12",cv={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Da={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},P_=null;function yu(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function RC(h){var f=cv[h.type],t=h.getParent();if(!f)throw new Error("the type "+h.type+" is not supported by svg");var c=yu(f);if(h.get("id")&&(c.id=h.get("id")),h.set("el",c),h.set("attrs",{}),t){var v=t.get("el");v||(v=t.createDom(),t.set("el",v)),v.appendChild(c)}return c}function Cm(h,f){var t=h.get("el"),c=(0,D.qo)(t.children).sort(f),v=document.createDocumentFragment();c.forEach(function(y){v.appendChild(y)}),t.appendChild(v)}function DC(h,f){var t=h.parentNode,c=Array.from(t.childNodes).filter(function(M){return M.nodeType===1&&M.nodeName.toLowerCase()!=="defs"}),v=c[f],y=c.indexOf(h);if(v){if(y>f)t.insertBefore(h,v);else if(y<f){var b=c[f+1];b?t.insertBefore(h,b):t.appendChild(h)}}else t.appendChild(h)}function pS(h,f){var t=h.cfg.el,c=h.attr(),v={dx:c.shadowOffsetX,dy:c.shadowOffsetY,blur:c.shadowBlur,color:c.shadowColor};if(!v.dx&&!v.dy&&!v.blur&&!v.color)t.removeAttribute("filter");else{var y=f.find("filter",v);y||(y=f.addShadow(v)),t.setAttribute("filter","url(#"+y+")")}}function tc(h){var f=h.attr().matrix;if(f){for(var t=h.cfg.el,c=[],v=0;v<9;v+=3)c.push(f[v]+","+f[v+1]);c=c.join(","),c.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+c+")"):console.warn("invalid matrix:",f)}}function bm(h,f){var t=h.getClip(),c=h.get("el");if(!t)c.removeAttribute("clip-path");else if(t&&!c.hasAttribute("clip-path")){RC(t),t.createPath(f);var v=f.addClip(t);c.setAttribute("clip-path","url(#"+v+")")}}function fv(h,f){f.forEach(function(t){t.draw(h)})}function gS(h,f){var t=h.get("canvas");if(t&&t.get("autoDraw")){var c=t.get("context"),v=h.getParent(),y=v?v.getChildren():[t],b=h.get("el");if(f==="remove"){var M=h.get("isClipShape");if(M){var A=b&&b.parentNode,B=A&&A.parentNode;A&&B&&B.removeChild(A)}else b&&b.parentNode&&b.parentNode.removeChild(b)}else if(f==="show")b.setAttribute("visibility","visible");else if(f==="hide")b.setAttribute("visibility","hidden");else if(f==="zIndex")DC(b,y.indexOf(h));else if(f==="sort"){var H=h.get("children");H&&H.length&&Cm(h,function(W,Y){return H.indexOf(W)-H.indexOf(Y)?1:0})}else f==="clear"?b&&(b.innerHTML=""):f==="matrix"?tc(h):f==="clip"?bm(h,c):f==="attr"||f==="add"&&h.draw(c)}}var bl=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.isEntityGroup=function(){return!0},f.prototype.createDom=function(){var t=yu("g");this.set("el",t);var c=this.getParent();if(c){var v=c.get("el");v||(v=c.createDom(),c.set("el",v)),v.appendChild(t)}return t},f.prototype.afterAttrsChange=function(t){h.prototype.afterAttrsChange.call(this,t);var c=this.get("canvas");if(c&&c.get("autoDraw")){var v=c.get("context");this.createPath(v,t)}},f.prototype.onCanvasChange=function(t){gS(this,t)},f.prototype.getShapeBase=function(){return kt},f.prototype.getGroupBase=function(){return f},f.prototype.draw=function(t){var c=this.getChildren(),v=this.get("el");this.get("destroyed")?v&&v.parentNode.removeChild(v):(v||this.createDom(),bm(this,t),this.createPath(t),c.length&&fv(t,c))},f.prototype.createPath=function(t,c){var v=this.attr(),y=this.get("el");(0,D.S6)(c||v,function(b,M){Da[M]&&y.setAttribute(Da[M],b)}),tc(this)},f}(at.AbstractGroup),LC=bl,B_=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},f.prototype.afterAttrsChange=function(t){h.prototype.afterAttrsChange.call(this,t);var c=this.get("canvas");if(c&&c.get("autoDraw")){var v=c.get("context");this.draw(v,t)}},f.prototype.getShapeBase=function(){return kt},f.prototype.getGroupBase=function(){return LC},f.prototype.onCanvasChange=function(t){gS(this,t)},f.prototype.calculateBBox=function(){var t=this.get("el"),c=null;if(t)c=t.getBBox();else{var v=(0,at.getBBoxMethod)(this.get("type"));v&&(c=v(this))}if(c){var y=c.x,b=c.y,M=c.width,A=c.height,B=this.getHitLineWidth(),H=B/2,W=y-H,Y=b-H,Q=y+M+H,te=b+A+H;return{x:W,y:Y,minX:W,minY:Y,maxX:Q,maxY:te,width:M+B,height:A+B}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},f.prototype.isFill=function(){var t=this.attr(),c=t.fill,v=t.fillStyle;return(c||v||this.isClipShape())&&this.canFill},f.prototype.isStroke=function(){var t=this.attr(),c=t.stroke,v=t.strokeStyle;return(c||v)&&this.canStroke},f.prototype.draw=function(t,c){var v=this.get("el");this.get("destroyed")?v&&v.parentNode.removeChild(v):(v||RC(this),bm(this,t),this.createPath(t,c),this.shadow(t,c),this.strokeAndFill(t,c),this.transform(c))},f.prototype.createPath=function(t,c){},f.prototype.strokeAndFill=function(t,c){var v=c||this.attr(),y=v.fill,b=v.fillStyle,M=v.stroke,A=v.strokeStyle,B=v.fillOpacity,H=v.strokeOpacity,W=v.lineWidth,Y=this.get("el");this.canFill&&(c?"fill"in v?this._setColor(t,"fill",y):"fillStyle"in v&&this._setColor(t,"fill",b):this._setColor(t,"fill",y||b),B&&Y.setAttribute(Da.fillOpacity,B)),this.canStroke&&W>0&&(c?"stroke"in v?this._setColor(t,"stroke",M):"strokeStyle"in v&&this._setColor(t,"stroke",A):this._setColor(t,"stroke",M||A),H&&Y.setAttribute(Da.strokeOpacity,H),W&&Y.setAttribute(Da.lineWidth,W))},f.prototype._setColor=function(t,c,v){var y=this.get("el");if(!v){y.setAttribute(Da[c],"none");return}if(v=v.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(v)){var b=t.find("gradient",v);b||(b=t.addGradient(v)),y.setAttribute(Da[c],"url(#"+b+")")}else if(/^[p,P]{1}[\s]*\(/.test(v)){var b=t.find("pattern",v);b||(b=t.addPattern(v)),y.setAttribute(Da[c],"url(#"+b+")")}else y.setAttribute(Da[c],v)},f.prototype.shadow=function(t,c){var v=this.attr(),y=c||v,b=y.shadowOffsetX,M=y.shadowOffsetY,A=y.shadowBlur,B=y.shadowColor;(b||M||A||B)&&pS(this,t)},f.prototype.transform=function(t){var c=this.attr(),v=(t||c).matrix;v&&tc(this)},f.prototype.isInShape=function(t,c){return this.isPointInPath(t,c)},f.prototype.isPointInPath=function(t,c){var v=this.get("el"),y=this.get("canvas"),b=y.get("el").getBoundingClientRect(),M=t+b.left,A=c+b.top,B=document.elementFromPoint(M,A);return!!(B&&B.isEqualNode(v))},f.prototype.getHitLineWidth=function(){var t=this.attrs,c=t.lineWidth,v=t.lineAppendWidth;return this.isStroke()?c+v:0},f}(at.AbstractShape),jo=B_,jb=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{x:0,y:0,r:0})},f.prototype.createPath=function(t,c){var v=this.attr(),y=this.get("el");(0,D.S6)(c||v,function(b,M){M==="x"||M==="y"?y.setAttribute("c"+M,b):Da[M]&&y.setAttribute(Da[M],b)})},f}(jo),ao=jb,ph=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return f.prototype.createPath=function(t,c){var v=this.attr(),y=this.get("el");if((0,D.S6)(c||v,function(B,H){Da[H]&&y.setAttribute(Da[H],B)}),typeof v.html=="function"){var b=v.html.call(this,v);if(b instanceof Element||b instanceof HTMLDocument){for(var M=y.childNodes,A=M.length-1;A>=0;A--)y.removeChild(M[A]);y.appendChild(b)}else y.innerHTML=b}else y.innerHTML=v.html},f}(jo),k_=ph,To=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{x:0,y:0,rx:0,ry:0})},f.prototype.createPath=function(t,c){var v=this.attr(),y=this.get("el");(0,D.S6)(c||v,function(b,M){M==="x"||M==="y"?y.setAttribute("c"+M,b):Da[M]&&y.setAttribute(Da[M],b)})},f}(jo),mp=To,Mi=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{x:0,y:0,width:0,height:0})},f.prototype.createPath=function(t,c){var v=this,y=this.attr(),b=this.get("el");(0,D.S6)(c||y,function(M,A){A==="img"?v._setImage(y.img):Da[A]&&b.setAttribute(Da[A],M)})},f.prototype.setAttr=function(t,c){this.attrs[t]=c,t==="img"&&this._setImage(c)},f.prototype._setImage=function(t){var c=this.attr(),v=this.get("el");if((0,D.HD)(t))v.setAttribute("href",t);else if(t instanceof window.Image)c.width||(v.setAttribute("width",t.width),this.attr("width",t.width)),c.height||(v.setAttribute("height",t.height),this.attr("height",t.height)),v.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,D.HD)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")v.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var y=document.createElement("canvas");y.setAttribute("width",""+t.width),y.setAttribute("height",""+t.height),y.getContext("2d").putImageData(t,0,0),c.width||(v.setAttribute("width",""+t.width),this.attr("width",t.width)),c.height||(v.setAttribute("height",""+t.height),this.attr("height",t.height)),v.setAttribute("href",y.toDataURL())}},f}(jo),Vb=Mi;function fl(h,f,t,c){var v=h-t,y=f-c;return Math.sqrt(v*v+y*y)}function wm(h,f){return Math.abs(h-f)<.001}function PC(h,f){var t=(0,D.VV)(h),c=(0,D.VV)(f),v=(0,D.Fp)(h),y=(0,D.Fp)(f);return{x:t,y:c,width:v-t,height:y-c}}function No(h,f,t,c){return{minX:min([h,t]),maxX:max([h,t]),minY:min([f,c]),maxY:max([f,c])}}function Bg(h){return(h+Math.PI*2)%(Math.PI*2)}var Yl={box:function(h,f,t,c){return PC([h,t],[f,c])},length:function(h,f,t,c){return fl(h,f,t,c)},pointAt:function(h,f,t,c,v){return{x:(1-v)*h+v*t,y:(1-v)*f+v*c}},pointDistance:function(h,f,t,c,v,y){var b=(t-h)*(v-h)+(c-f)*(y-f);if(b<0)return fl(h,f,v,y);var M=(t-h)*(t-h)+(c-f)*(c-f);return b>M?fl(t,c,v,y):this.pointToLine(h,f,t,c,v,y)},pointToLine:function(h,f,t,c,v,y){var b=[t-h,c-f];if(Vi.I6(b,[0,0]))return Math.sqrt((v-h)*(v-h)+(y-f)*(y-f));var M=[-b[1],b[0]];Vi.Fv(M,M);var A=[v-h,y-f];return Math.abs(Vi.AK(A,M))},tangentAngle:function(h,f,t,c){return Math.atan2(c-f,t-h)}},yp=1e-4;function Xb(h,f,t,c,v,y){var b,M=1/0,A=[t,c],B=20;y&&y>200&&(B=y/10);for(var H=1/B,W=H/10,Y=0;Y<=B;Y++){var Q=Y*H,te=[v.apply(null,h.concat([Q])),v.apply(null,f.concat([Q]))],he=fl(A[0],A[1],te[0],te[1]);he<M&&(b=Q,M=he)}if(b===0)return{x:h[0],y:f[0]};if(b===1){var Me=h.length;return{x:h[Me-1],y:f[Me-1]}}M=1/0;for(var Y=0;Y<32&&!(W<yp);Y++){var Fe=b-W,Qe=b+W,te=[v.apply(null,h.concat([Fe])),v.apply(null,f.concat([Fe]))],he=fl(A[0],A[1],te[0],te[1]);if(Fe>=0&&he<M)b=Fe,M=he;else{var nt=[v.apply(null,h.concat([Qe])),v.apply(null,f.concat([Qe]))],pt=fl(A[0],A[1],nt[0],nt[1]);Qe<=1&&pt<M?(b=Qe,M=pt):W*=.5}}return{x:v.apply(null,h.concat([b])),y:v.apply(null,f.concat([b]))}}function F_(h,f){for(var t=0,c=h.length,v=0;v<c;v++){var y=h[v],b=f[v],M=h[(v+1)%c],A=f[(v+1)%c];t+=fl(y,b,M,A)}return t/2}function Cu(h,f,t,c){var v=1-c;return v*v*h+2*c*v*f+c*c*t}function mS(h,f,t){var c=h+t-2*f;if(wm(c,0))return[.5];var v=(h-f)/c;return v<=1&&v>=0?[v]:[]}function BC(h,f,t,c){return 2*(1-c)*(f-h)+2*c*(t-f)}function yS(h,f,t,c,v,y,b){var M=Cu(h,t,v,b),A=Cu(f,c,y,b),B=Yl.pointAt(h,f,t,c,b),H=Yl.pointAt(t,c,v,y,b);return[[h,f,B.x,B.y,M,A],[M,A,H.x,H.y,v,y]]}function xm(h,f,t,c,v,y,b){if(b===0)return(fl(h,f,t,c)+fl(t,c,v,y)+fl(h,f,v,y))/2;var M=yS(h,f,t,c,v,y,.5),A=M[0],B=M[1];return A.push(b-1),B.push(b-1),xm.apply(null,A)+xm.apply(null,B)}var FM={box:function(h,f,t,c,v,y){var b=mS(h,t,v)[0],M=mS(f,c,y)[0],A=[h,v],B=[f,y];return b!==void 0&&A.push(Cu(h,t,v,b)),M!==void 0&&B.push(Cu(f,c,y,M)),PC(A,B)},length:function(h,f,t,c,v,y){return xm(h,f,t,c,v,y,3)},nearestPoint:function(h,f,t,c,v,y,b,M){return Xb([h,t,v],[f,c,y],b,M,Cu)},pointDistance:function(h,f,t,c,v,y,b,M){var A=this.nearestPoint(h,f,t,c,v,y,b,M);return fl(A.x,A.y,b,M)},interpolationAt:Cu,pointAt:function(h,f,t,c,v,y,b){return{x:Cu(h,t,v,b),y:Cu(f,c,y,b)}},divide:function(h,f,t,c,v,y,b){return yS(h,f,t,c,v,y,b)},tangentAngle:function(h,f,t,c,v,y,b){var M=BC(h,t,v,b),A=BC(f,c,y,b),B=Math.atan2(A,M);return Bg(B)}};function pd(h,f,t,c,v){var y=1-v;return y*y*y*h+3*f*v*y*y+3*t*v*v*y+c*v*v*v}function kg(h,f,t,c,v){var y=1-v;return 3*(y*y*(f-h)+2*y*v*(t-f)+v*v*(c-t))}function Sm(h,f,t,c){var v=-3*h+9*f-9*t+3*c,y=6*h-12*f+6*t,b=3*f-3*h,M=[],A,B,H;if(wm(v,0))wm(y,0)||(A=-b/y,A>=0&&A<=1&&M.push(A));else{var W=y*y-4*v*b;wm(W,0)?M.push(-y/(2*v)):W>0&&(H=Math.sqrt(W),A=(-y+H)/(2*v),B=(-y-H)/(2*v),A>=0&&A<=1&&M.push(A),B>=0&&B<=1&&M.push(B))}return M}function kC(h,f,t,c,v,y,b,M,A){var B=pd(h,t,v,b,A),H=pd(f,c,y,M,A),W=Yl.pointAt(h,f,t,c,A),Y=Yl.pointAt(t,c,v,y,A),Q=Yl.pointAt(v,y,b,M,A),te=Yl.pointAt(W.x,W.y,Y.x,Y.y,A),he=Yl.pointAt(Y.x,Y.y,Q.x,Q.y,A);return[[h,f,W.x,W.y,te.x,te.y,B,H],[B,H,he.x,he.y,Q.x,Q.y,b,M]]}function Cp(h,f,t,c,v,y,b,M,A){if(A===0)return F_([h,t,v,b],[f,c,y,M]);var B=kC(h,f,t,c,v,y,b,M,.5),H=B[0],W=B[1];return H.push(A-1),W.push(A-1),Cp.apply(null,H)+Cp.apply(null,W)}var Fg={extrema:Sm,box:function(h,f,t,c,v,y,b,M){for(var A=[h,b],B=[f,M],H=Sm(h,t,v,b),W=Sm(f,c,y,M),Y=0;Y<H.length;Y++)A.push(pd(h,t,v,b,H[Y]));for(var Y=0;Y<W.length;Y++)B.push(pd(f,c,y,M,W[Y]));return PC(A,B)},length:function(h,f,t,c,v,y,b,M){return Cp(h,f,t,c,v,y,b,M,3)},nearestPoint:function(h,f,t,c,v,y,b,M,A,B,H){return Xb([h,t,v,b],[f,c,y,M],A,B,pd,H)},pointDistance:function(h,f,t,c,v,y,b,M,A,B,H){var W=this.nearestPoint(h,f,t,c,v,y,b,M,A,B,H);return fl(W.x,W.y,A,B)},interpolationAt:pd,pointAt:function(h,f,t,c,v,y,b,M,A){return{x:pd(h,t,v,b,A),y:pd(f,c,y,M,A)}},divide:function(h,f,t,c,v,y,b,M,A){return kC(h,f,t,c,v,y,b,M,A)},tangentAngle:function(h,f,t,c,v,y,b,M,A){var B=kg(h,t,v,b,A),H=kg(f,c,y,M,A);return Bg(Math.atan2(H,B))}};function Zb(h,f){var t=Math.abs(h);return f>0?t:t*-1}var _m={box:function(h,f,t,c){return{x:h-t,y:f-c,width:t*2,height:c*2}},length:function(h,f,t,c){return Math.PI*(3*(t+c)-Math.sqrt((3*t+c)*(t+3*c)))},nearestPoint:function(h,f,t,c,v,y){var b=t,M=c;if(b===0||M===0)return{x:h,y:f};for(var A=v-h,B=y-f,H=Math.abs(A),W=Math.abs(B),Y=b*b,Q=M*M,te=Math.PI/4,he,Me,Fe=0;Fe<4;Fe++){he=b*Math.cos(te),Me=M*Math.sin(te);var Qe=(Y-Q)*Math.pow(Math.cos(te),3)/b,nt=(Q-Y)*Math.pow(Math.sin(te),3)/M,pt=he-Qe,Qt=Me-nt,Sr=H-Qe,Mr=W-nt,Or=Math.hypot(Qt,pt),Xr=Math.hypot(Mr,Sr),tn=Or*Math.asin((pt*Mr-Qt*Sr)/(Or*Xr)),ti=tn/Math.sqrt(Y+Q-he*he-Me*Me);te+=ti,te=Math.min(Math.PI/2,Math.max(0,te))}return{x:h+Zb(he,A),y:f+Zb(Me,B)}},pointDistance:function(h,f,t,c,v,y){var b=this.nearestPoint(h,f,t,c,v,y);return fl(b.x,b.y,v,y)},pointAt:function(h,f,t,c,v){var y=2*Math.PI*v;return{x:h+t*Math.cos(y),y:f+c*Math.sin(y)}},tangentAngle:function(h,f,t,c,v){var y=2*Math.PI*v,b=Math.atan2(c*Math.cos(y),-t*Math.sin(y));return Bg(b)}};function Ng(h,f,t,c,v,y,b,M){return-1*t*Math.cos(v)*Math.sin(M)-c*Math.sin(v)*Math.cos(M)}function Em(h,f,t,c,v,y,b,M){return-1*t*Math.sin(v)*Math.sin(M)+c*Math.cos(v)*Math.cos(M)}function Kb(h,f,t){return Math.atan(-f/h*Math.tan(t))}function FC(h,f,t){return Math.atan(f/(h*Math.tan(t)))}function qb(h,f,t,c,v,y){return t*Math.cos(v)*Math.cos(y)-c*Math.sin(v)*Math.sin(y)+h}function NC(h,f,t,c,v,y){return t*Math.sin(v)*Math.cos(y)+c*Math.cos(v)*Math.sin(y)+f}function N_(h,f,t,c){var v=Math.atan2(c*h,t*f);return(v+Math.PI*2)%(Math.PI*2)}function Qb(h,f,t){return{x:h*Math.cos(t),y:f*Math.sin(t)}}function Jb(h,f,t){var c=Math.cos(t),v=Math.sin(t);return[h*c-f*v,h*v+f*c]}var H_={box:function(h,f,t,c,v,y,b){for(var M=Kb(t,c,v),A=1/0,B=-1/0,H=[y,b],W=-Math.PI*2;W<=Math.PI*2;W+=Math.PI){var Y=M+W;y<b?y<Y&&Y<b&&H.push(Y):b<Y&&Y<y&&H.push(Y)}for(var W=0;W<H.length;W++){var Q=qb(h,f,t,c,v,H[W]);Q<A&&(A=Q),Q>B&&(B=Q)}for(var te=FC(t,c,v),he=1/0,Me=-1/0,Fe=[y,b],W=-Math.PI*2;W<=Math.PI*2;W+=Math.PI){var Qe=te+W;y<b?y<Qe&&Qe<b&&Fe.push(Qe):b<Qe&&Qe<y&&Fe.push(Qe)}for(var W=0;W<Fe.length;W++){var nt=NC(h,f,t,c,v,Fe[W]);nt<he&&(he=nt),nt>Me&&(Me=nt)}return{x:A,y:he,width:B-A,height:Me-he}},length:function(h,f,t,c,v,y,b){},nearestPoint:function(h,f,t,c,v,y,b,M,A){var B=Jb(M-h,A-f,-v),H=B[0],W=B[1],Y=_m.nearestPoint(0,0,t,c,H,W),Q=N_(t,c,Y.x,Y.y);Q<y?Y=Qb(t,c,y):Q>b&&(Y=Qb(t,c,b));var te=Jb(Y.x,Y.y,v);return{x:te[0]+h,y:te[1]+f}},pointDistance:function(h,f,t,c,v,y,b,M,A){var B=this.nearestPoint(h,f,t,c,M,A);return fl(B.x,B.y,M,A)},pointAt:function(h,f,t,c,v,y,b,M){var A=(b-y)*M+y;return{x:qb(h,f,t,c,v,A),y:NC(h,f,t,c,v,A)}},tangentAngle:function(h,f,t,c,v,y,b,M){var A=(b-y)*M+y,B=Ng(h,f,t,c,v,y,b,A),H=Em(h,f,t,c,v,y,b,A);return Bg(Math.atan2(H,B))}};function hv(h){for(var f=0,t=[],c=0;c<h.length-1;c++){var v=h[c],y=h[c+1],b=fl(v[0],v[1],y[0],y[1]),M={from:v,to:y,length:b};t.push(M),f+=b}return{segments:t,totalLength:f}}function gh(h){if(h.length<2)return 0;for(var f=0,t=0;t<h.length-1;t++){var c=h[t],v=h[t+1];f+=fl(c[0],c[1],v[0],v[1])}return f}function jl(h,f){if(f>1||f<0||h.length<2)return null;var t=hv(h),c=t.segments,v=t.totalLength;if(v===0)return{x:h[0][0],y:h[0][1]};for(var y=0,b=null,M=0;M<c.length;M++){var A=c[M],B=A.from,H=A.to,W=A.length/v;if(f>=y&&f<=y+W){var Y=(f-y)/W;b=Yl.pointAt(B[0],B[1],H[0],H[1],Y);break}y+=W}return b}function bu(h,f){if(f>1||f<0||h.length<2)return 0;for(var t=hv(h),c=t.segments,v=t.totalLength,y=0,b=0,M=0;M<c.length;M++){var A=c[M],B=A.from,H=A.to,W=A.length/v;if(f>=y&&f<=y+W){b=Math.atan2(H[1]-B[1],H[0]-B[0]);break}y+=W}return b}function Mm(h,f,t){for(var c=1/0,v=0;v<h.length-1;v++){var y=h[v],b=h[v+1],M=Yl.pointDistance(y[0],y[1],b[0],b[1],f,t);M<c&&(c=M)}return c}var mh={box:function(h){for(var f=[],t=[],c=0;c<h.length;c++){var v=h[c];f.push(v[0]),t.push(v[1])}return PC(f,t)},length:function(h){return gh(h)},pointAt:function(h,f){return jl(h,f)},pointDistance:function(h,f,t){return Mm(h,f,t)},tangentAngle:function(h,f){return bu(h,f)}};function gd(h){var f=h.slice(0);return h.length&&f.push(h[0]),f}var NM={box:function(h){return mh.box(h)},length:function(h){return gh(gd(h))},pointAt:function(h,f){return jl(gd(h),f)},pointDistance:function(h,f,t){return Mm(gd(h),f,t)},tangentAngle:function(h,f){return bu(gd(h),f)}},z_=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},f.prototype.createPath=function(t,c){var v=this.attr(),y=this.get("el");(0,D.S6)(c||v,function(b,M){if(M==="startArrow"||M==="endArrow")if(b){var A=(0,D.Kn)(b)?t.addArrow(v,Da[M]):t.getDefaultArrow(v,Da[M]);y.setAttribute(Da[M],"url(#"+A+")")}else y.removeAttribute(Da[M]);else Da[M]&&y.setAttribute(Da[M],b)})},f.prototype.getTotalLength=function(){var t=this.attr(),c=t.x1,v=t.y1,y=t.x2,b=t.y2;return Yl.length(c,v,y,b)},f.prototype.getPoint=function(t){var c=this.attr(),v=c.x1,y=c.y1,b=c.x2,M=c.y2;return Yl.pointAt(v,y,b,M,t)},f}(jo),ew=z_,Hg={circle:function(h,f,t){return[["M",h,f],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(h,f,t){return[["M",h-t,f-t],["L",h+t,f-t],["L",h+t,f+t],["L",h-t,f+t],["Z"]]},diamond:function(h,f,t){return[["M",h-t,f],["L",h,f-t],["L",h+t,f],["L",h,f+t],["Z"]]},triangle:function(h,f,t){var c=t*Math.sin(.3333333333333333*Math.PI);return[["M",h-t,f+c],["L",h,f-c],["L",h+t,f+c],["z"]]},triangleDown:function(h,f,t){var c=t*Math.sin(.3333333333333333*Math.PI);return[["M",h-t,f-c],["L",h+t,f-c],["L",h,f+c],["Z"]]}},CS={get:function(h){return Hg[h]},register:function(h,f){Hg[h]=f},remove:function(h){delete Hg[h]},getAll:function(){return Hg}},zg=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return f.prototype.createPath=function(t){var c=this.get("el");c.setAttribute("d",this._assembleMarker())},f.prototype._assembleMarker=function(){var t=this._getPath();return(0,D.kJ)(t)?t.map(function(c){return c.join(" ")}).join(""):t},f.prototype._getPath=function(){var t=this.attr(),c=t.x,v=t.y,y=t.r||t.radius,b=t.symbol||"circle",M;return(0,D.mf)(b)?M=b:M=CS.get(b),M?M(c,v,y):(console.warn(M+" symbol is not exist."),null)},f.symbolsFactory=CS,f}(jo),W_=zg,tw=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{startArrow:!1,endArrow:!1})},f.prototype.createPath=function(t,c){var v=this,y=this.attr(),b=this.get("el");(0,D.S6)(c||y,function(M,A){if(A==="path"&&(0,D.kJ)(M))b.setAttribute("d",v._formatPath(M));else if(A==="startArrow"||A==="endArrow")if(M){var B=(0,D.Kn)(M)?t.addArrow(y,Da[A]):t.getDefaultArrow(y,Da[A]);b.setAttribute(Da[A],"url(#"+B+")")}else b.removeAttribute(Da[A]);else Da[A]&&b.setAttribute(Da[A],M)})},f.prototype._formatPath=function(t){var c=t.map(function(v){return v.join(" ")}).join("");return~c.indexOf("NaN")?"":c},f.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},f.prototype.getPoint=function(t){var c=this.get("el"),v=this.getTotalLength();if(v===0)return null;var y=c?c.getPointAtLength(t*v):null;return y?{x:y.x,y:y.y}:null},f}(jo),bS=tw,G_=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return f.prototype.createPath=function(t,c){var v=this.attr(),y=this.get("el");(0,D.S6)(c||v,function(b,M){M==="points"&&(0,D.kJ)(b)&&b.length>=2?y.setAttribute("points",b.map(function(A){return A[0]+","+A[1]}).join(" ")):Da[M]&&y.setAttribute(Da[M],b)})},f}(jo),$_=G_,wS=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{startArrow:!1,endArrow:!1})},f.prototype.onAttrChange=function(t,c,v){h.prototype.onAttrChange.call(this,t,c,v),["points"].indexOf(t)!==-1&&this._resetCache()},f.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},f.prototype.createPath=function(t,c){var v=this.attr(),y=this.get("el");(0,D.S6)(c||v,function(b,M){M==="points"&&(0,D.kJ)(b)&&b.length>=2?y.setAttribute("points",b.map(function(A){return A[0]+","+A[1]}).join(" ")):Da[M]&&y.setAttribute(Da[M],b)})},f.prototype.getTotalLength=function(){var t=this.attr().points,c=this.get("totalLength");return(0,D.UM)(c)?(this.set("totalLength",mh.length(t)),this.get("totalLength")):c},f.prototype.getPoint=function(t){var c=this.attr().points,v=this.get("tCache");v||(this._setTcache(),v=this.get("tCache"));var y,b;return(0,D.S6)(v,function(M,A){t>=M[0]&&t<=M[1]&&(y=(t-M[0])/(M[1]-M[0]),b=A)}),Yl.pointAt(c[b][0],c[b][1],c[b+1][0],c[b+1][1],y)},f.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var c=this.getTotalLength();if(!(c<=0)){var v=0,y=[],b,M;(0,D.S6)(t,function(A,B){t[B+1]&&(b=[],b[0]=v/c,M=Yl.length(A[0],A[1],t[B+1][0],t[B+1][1]),v+=M,b[1]=v/c,y.push(b))}),this.set("tCache",y)}}},f.prototype.getStartTangent=function(){var t=this.attr().points,c=[];return c.push([t[1][0],t[1][1]]),c.push([t[0][0],t[0][1]]),c},f.prototype.getEndTangent=function(){var t=this.attr().points,c=t.length-1,v=[];return v.push([t[c-1][0],t[c-1][1]]),v.push([t[c][0],t[c][1]]),v},f}(jo),U_=wS,Y_=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,dv=/[^\s,]+/gi;function bp(h){var f=0,t=0,c=0,v=0;return(0,D.kJ)(h)?h.length===1?f=t=c=v=h[0]:h.length===2?(f=c=h[0],t=v=h[1]):h.length===3?(f=h[0],t=v=h[1],c=h[2]):(f=h[0],t=h[1],c=h[2],v=h[3]):f=t=c=v=h,{r1:f,r2:t,r3:c,r4:v}}function rw(h){if(h=h||[],isArray(h))return h;if(isString(h))return h=h.match(Y_),each(h,function(f,t){if(f=f.match(dv),f[0].length>1){var c=f[0].charAt(0);f.splice(1,0,f[0].substr(1)),f[0]=c}each(f,function(v,y){isNaN(v)||(f[y]=+v)}),h[t]=f}),h}var HC=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{x:0,y:0,width:0,height:0,radius:0})},f.prototype.createPath=function(t,c){var v=this,y=this.attr(),b=this.get("el"),M=!1,A=["x","y","width","height","radius"];(0,D.S6)(c||y,function(B,H){A.indexOf(H)!==-1&&!M?(b.setAttribute("d",v._assembleRect(y)),M=!0):A.indexOf(H)===-1&&Da[H]&&b.setAttribute(Da[H],B)})},f.prototype._assembleRect=function(t){var c=t.x,v=t.y,y=t.width,b=t.height,M=t.radius;if(!M)return"M "+c+","+v+" l "+y+",0 l 0,"+b+" l"+-y+" 0 z";var A=bp(M);(0,D.kJ)(M)?M.length===1?A.r1=A.r2=A.r3=A.r4=M[0]:M.length===2?(A.r1=A.r3=M[0],A.r2=A.r4=M[1]):M.length===3?(A.r1=M[0],A.r2=A.r4=M[1],A.r3=M[2]):(A.r1=M[0],A.r2=M[1],A.r3=M[2],A.r4=M[3]):A.r1=A.r2=A.r3=A.r4=M;var B=[["M "+(c+A.r1)+","+v],["l "+(y-A.r1-A.r2)+",0"],["a "+A.r2+","+A.r2+",0,0,1,"+A.r2+","+A.r2],["l 0,"+(b-A.r2-A.r3)],["a "+A.r3+","+A.r3+",0,0,1,"+-A.r3+","+A.r3],["l "+(A.r3+A.r4-y)+",0"],["a "+A.r4+","+A.r4+",0,0,1,"+-A.r4+","+-A.r4],["l 0,"+(A.r4+A.r1-b)],["a "+A.r1+","+A.r1+",0,0,1,"+A.r1+","+-A.r1],["z"]];return B.join(" ")},f}(jo),xS=HC,nw=tt(32655),SS=.3,_S={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},zC={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Tm={left:"left",start:"left",center:"middle",right:"end",end:"end"},WC=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return(0,U.pi)((0,U.pi)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},f.prototype.createPath=function(t,c){var v=this,y=this.attr(),b=this.get("el");this._setFont(),(0,D.S6)(c||y,function(M,A){A==="text"?v._setText(""+M):A==="matrix"&&M?tc(v):Da[A]&&b.setAttribute(Da[A],M)}),b.setAttribute("paint-order","stroke"),b.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},f.prototype._setFont=function(){var t=this.get("el"),c=this.attr(),v=c.textBaseline,y=c.textAlign,b=(0,nw.qY)();b&&b.name==="firefox"?t.setAttribute("dominant-baseline",zC[v]||"alphabetic"):t.setAttribute("alignment-baseline",_S[v]||"baseline"),t.setAttribute("text-anchor",Tm[y]||"left")},f.prototype._setText=function(t){var c=this.get("el"),v=this.attr(),y=v.x,b=v.textBaseline,M=b===void 0?"bottom":b;if(!t)c.innerHTML="";else if(~t.indexOf(`
`)){var A=t.split(`
`),B=A.length-1,H="";(0,D.S6)(A,function(W,Y){Y===0?M==="alphabetic"?H+='<tspan x="'+y+'" dy="'+-B+'em">'+W+"</tspan>":M==="top"?H+='<tspan x="'+y+'" dy="0.9em">'+W+"</tspan>":M==="middle"?H+='<tspan x="'+y+'" dy="'+-(B-1)/2+'em">'+W+"</tspan>":M==="bottom"?H+='<tspan x="'+y+'" dy="-'+(B+SS)+'em">'+W+"</tspan>":M==="hanging"&&(H+='<tspan x="'+y+'" dy="'+(-(B-1)-SS)+'em">'+W+"</tspan>"):H+='<tspan x="'+y+'" dy="1em">'+W+"</tspan>"}),c.innerHTML=H}else c.innerHTML=t},f}(jo),wp=WC,Om=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ES=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Mc=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function yh(h){var f=h.match(Mc);if(!f)return"";var t="";return f.sort(function(c,v){return c=c.split(":"),v=v.split(":"),Number(c[0])-Number(v[0])}),(0,D.S6)(f,function(c){c=c.split(":"),t+='<stop offset="'+c[0]+'" stop-color="'+c[1]+'"></stop>'}),t}function Am(h,f){var t=Om.exec(h),c=(0,D.wQ)((0,D.c$)(parseFloat(t[1])),Math.PI*2),v=t[2],y,b;c>=0&&c<.5*Math.PI?(y={x:0,y:0},b={x:1,y:1}):.5*Math.PI<=c&&c<Math.PI?(y={x:1,y:0},b={x:0,y:1}):Math.PI<=c&&c<1.5*Math.PI?(y={x:1,y:1},b={x:0,y:0}):(y={x:0,y:1},b={x:1,y:0});var M=Math.tan(c),A=M*M,B=(b.x-y.x+M*(b.y-y.y))/(A+1)+y.x,H=M*(b.x-y.x+M*(b.y-y.y))/(A+1)+y.y;f.setAttribute("x1",y.x),f.setAttribute("y1",y.y),f.setAttribute("x2",B),f.setAttribute("y2",H),f.innerHTML=yh(v)}function GC(h,f){var t=ES.exec(h),c=parseFloat(t[1]),v=parseFloat(t[2]),y=parseFloat(t[3]),b=t[4];f.setAttribute("cx",c),f.setAttribute("cy",v),f.setAttribute("r",y),f.innerHTML=yh(b)}var MS=function(){function h(f){this.cfg={};var t=null,c=(0,D.EL)("gradient_");return f.toLowerCase()[0]==="l"?(t=yu("linearGradient"),Am(f,t)):(t=yu("radialGradient"),GC(f,t)),t.setAttribute("id",c),this.el=t,this.id=c,this.cfg=f,this}return h.prototype.match=function(f,t){return this.cfg===t},h}(),xp=MS,TS={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},j_={x:"-40%",y:"-40%",width:"200%",height:"200%"},V_=function(){function h(f){this.type="filter",this.cfg={},this.type="filter";var t=yu("filter");return(0,D.S6)(j_,function(c,v){t.setAttribute(v,c)}),this.el=t,this.id=(0,D.EL)("filter_"),this.el.id=this.id,this.cfg=f,this._parseShadow(f,t),this}return h.prototype.match=function(f,t){if(this.type!==f)return!1;var c=!0,v=this.cfg;return(0,D.S6)(Object.keys(v),function(y){if(v[y]!==t[y])return c=!1,!1}),c},h.prototype.update=function(f,t){var c=this.cfg;return c[TS[f]]=t,this._parseShadow(c,this.el),this},h.prototype._parseShadow=function(f,t){var c=`<feDropShadow
      dx="`+(f.dx||0)+`"
      dy="`+(f.dy||0)+`"
      stdDeviation="`+(f.blur?f.blur/10:0)+`"
      flood-color="`+(f.color?f.color:"#000")+`"
      flood-opacity="`+(f.opacity?f.opacity:1)+`"
      />`;t.innerHTML=c},h}(),X_=V_,Z_=function(){function h(f,t){this.cfg={};var c=yu("marker"),v=(0,D.EL)("marker_");c.setAttribute("id",v);var y=yu("path");y.setAttribute("stroke",f.stroke||"none"),y.setAttribute("fill",f.fill||"none"),c.appendChild(y),c.setAttribute("overflow","visible"),c.setAttribute("orient","auto-start-reverse"),this.el=c,this.child=y,this.id=v;var b=f[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=f.stroke||"#000",b===!0?this._setDefaultPath(t,y):(this.cfg=b,this._setMarker(f.lineWidth,y)),this}return h.prototype.match=function(){return!1},h.prototype._setDefaultPath=function(f,t){var c=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),c.setAttribute("refX",""+10*Math.cos(Math.PI/6)),c.setAttribute("refY","5")},h.prototype._setMarker=function(f,t){var c=this.el,v=this.cfg.path,y=this.cfg.d;(0,D.kJ)(v)&&(v=v.map(function(b){return b.join(" ")}).join("")),t.setAttribute("d",v),c.appendChild(t),y&&c.setAttribute("refX",""+y/f)},h.prototype.update=function(f){var t=this.child;t.attr?t.attr("fill",f):t.setAttribute("fill",f)},h}(),OS=Z_,AS=function(){function h(f){this.type="clip",this.cfg={};var t=yu("clipPath");this.el=t,this.id=(0,D.EL)("clip_"),t.id=this.id;var c=f.cfg.el;return t.appendChild(c),this.cfg=f,this}return h.prototype.match=function(){return!1},h.prototype.remove=function(){var f=this.el;f.parentNode.removeChild(f)},h}(),iw=AS,K_=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,q_=function(){function h(f){this.cfg={};var t=yu("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var c=yu("image");t.appendChild(c);var v=(0,D.EL)("pattern_");t.id=v,this.el=t,this.id=v,this.cfg=f;var y=K_.exec(f),b=y[2];c.setAttribute("href",b);var M=new Image;b.match(/^data:/i)||(M.crossOrigin="Anonymous"),M.src=b;function A(){t.setAttribute("width",""+M.width),t.setAttribute("height",""+M.height)}return M.complete?A():(M.onload=A,M.src=M.src),this}return h.prototype.match=function(f,t){return this.cfg===t},h}(),HM=q_,aw=function(){function h(f){var t=yu("defs"),c=(0,D.EL)("defs_");t.id=c,f.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=f}return h.prototype.find=function(f,t){for(var c=this.children,v=null,y=0;y<c.length;y++)if(c[y].match(f,t)){v=c[y].id;break}return v},h.prototype.findById=function(f){for(var t=this.children,c=null,v=0;v<t.length;v++)if(t[v].id===f){c=t[v];break}return c},h.prototype.add=function(f){this.children.push(f),f.canvas=this.canvas,f.parent=this},h.prototype.getDefaultArrow=function(f,t){var c=f.stroke||f.strokeStyle;if(this.defaultArrow[c])return this.defaultArrow[c].id;var v=new OS(f,t);return this.defaultArrow[c]=v,this.el.appendChild(v.el),this.add(v),v.id},h.prototype.addGradient=function(f){var t=new xp(f);return this.el.appendChild(t.el),this.add(t),t.id},h.prototype.addArrow=function(f,t){var c=new OS(f,t);return this.el.appendChild(c.el),this.add(c),c.id},h.prototype.addShadow=function(f){var t=new X_(f);return this.el.appendChild(t.el),this.add(t),t.id},h.prototype.addPattern=function(f){var t=new HM(f);return this.el.appendChild(t.el),this.add(t),t.id},h.prototype.addClip=function(f){var t=new iw(f);return this.el.appendChild(t.el),this.add(t),t.id},h}(),zM=aw,IS=function(h){(0,U.ZT)(f,h);function f(t){return h.call(this,(0,U.pi)((0,U.pi)({},t),{autoDraw:!0,renderer:"svg"}))||this}return f.prototype.getShapeBase=function(){return kt},f.prototype.getGroupBase=function(){return LC},f.prototype.getShape=function(t,c,v){var y=v.target||v.srcElement;if(!cv[y.tagName]){for(var b=y.parentNode;b&&!cv[b.tagName];)b=b.parentNode;y=b}return this.find(function(M){return M.get("el")===y})},f.prototype.createDom=function(){var t=yu("svg"),c=new zM(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",c),t},f.prototype.onCanvasChange=function(t){var c=this.get("context"),v=this.get("el");if(t==="sort"){var y=this.get("children");y&&y.length&&Cm(this,function(M,A){return y.indexOf(M)-y.indexOf(A)?1:0})}else if(t==="clear"){if(v){v.innerHTML="";var b=c.el;b.innerHTML="",v.appendChild(b)}}else t==="matrix"?tc(this):t==="clip"?bm(this,c):t==="changeSize"&&(v.setAttribute("width",""+this.get("width")),v.setAttribute("height",""+this.get("height")))},f.prototype.draw=function(){var t=this.get("context"),c=this.getChildren();bm(this,t),c.length&&fv(t,c)},f}(at.AbstractCanvas),vv=IS,$C="0.5.6",Im=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;c.type="path",c.shapeType="line";var v=t.connectNulls,y=v===void 0?!1:v,b=t.showSinglePoint,M=b===void 0?!0:b;return c.connectNulls=y,c.showSinglePoint=M,c}return f.prototype.updateElements=function(t,c){var v,y,b,M,A,B;c===void 0&&(c=!1);for(var H=new Map,W=new Map,Y=[],Q=0,te=0;te<t.length;te++){var he=t[te],Me=this.getElementId(he);Y.push(Me),H.set(Me,he),W.set(Me,Q),Q++}this.elements=new Array(Q);var Fe=rm(this.lastElementsMap,Y),Qe=Fe.added,nt=Fe.updated,pt=Fe.removed;try{for(var Qt=(0,U.XA)(Qe),Sr=Qt.next();!Sr.done;Sr=Qt.next()){var Me=Sr.value,he=H.get(Me),Mr=this.getShapeFactory(),Or=this.getShapeInfo(he),te=W.get(Me),Xr=new Je({shapeFactory:Mr,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:te});Xr.geometry=this,Xr.animate=this.animateOption,Xr.draw(Or,c),this.elementsMap[Me]=Xr,this.elements[te]=Xr}}catch(vo){v={error:vo}}finally{try{Sr&&!Sr.done&&(y=Qt.return)&&y.call(Qt)}finally{if(v)throw v.error}}try{for(var tn=(0,U.XA)(nt),ti=tn.next();!ti.done;ti=tn.next()){var Me=ti.value,he=H.get(Me),Xr=this.lastElementsMap[Me],te=W.get(Me),Or=this.getShapeInfo(he),ri=Xr.getModel();(this.isCoordinateChanged||hC(ri,Or))&&(Xr.animate=this.animateOption,Xr.update(Or)),this.elementsMap[Me]=Xr,this.elements[te]=Xr}}catch(vo){b={error:vo}}finally{try{ti&&!ti.done&&(M=tn.return)&&M.call(tn)}finally{if(b)throw b.error}}try{for(var Yi=(0,U.XA)(pt),xa=Yi.next();!xa.done;xa=Yi.next()){var Me=xa.value,Xr=this.lastElementsMap[Me];Xr.animate=this.animateOption,Xr.destroy()}}catch(vo){A={error:vo}}finally{try{xa&&!xa.done&&(B=Yi.return)&&B.call(Yi)}finally{if(A)throw A.error}}},f.prototype.getPointsAndData=function(t){for(var c=[],v=[],y=0,b=t.length;y<b;y++){var M=t[y];c.push({x:M.x,y:M.y}),v.push(M[Nt])}return{points:c,data:v}},f.prototype.getShapeInfo=function(t){var c=this.getDrawCfg(t[0]),v=this.getPointsAndData(t),y=v.points,b=v.data;return c.mappingData=t,c.data=b,c.isStack=!!this.getAdjust("stack"),c.points=y,c.connectNulls=this.connectNulls,c.showSinglePoint=this.showSinglePoint,c},f}(ku),ow=Im;function lw(h,f,t,c,v){var y=[];if(h.length){for(var b=[],M=[],A=0,B=h.length;A<B;A++){var H=h[A];b.push(H[1]),M.push(H[0])}M=M.reverse(),(0,D.S6)([b,M],function(W,Y){var Q=[],te=c.parsePoints(W),he=te[0];b.length===1&&M.length===1?Q=Y===0?[["M",he.x-.5,he.y],["L",he.x+.5,he.y]]:[["L",he.x+.5,he.y],["L",he.x-.5,he.y]]:(f&&te.push({x:he.x,y:he.y}),t?Q=Mf(te,!1,v):Q=tp(te,!1),Y>0&&(Q[0][0]="L")),y=y.concat(Q)}),y.push(["Z"])}return y}function UC(h,f,t,c,v){for(var y=yl(h,f,!f,"lineWidth"),b=h.connectNulls,M=h.isInCircle,A=h.points,B=h.showSinglePoint,H=om(A,b,B),W=[],Y=0,Q=H.length;Y<Q;Y++){var te=H[Y];W=W.concat(lw(te,M,t,c,v))}return y.path=W,y}function RS(h){var f=h.start,t=h.end;return[[f.x,t.y],[t.x,f.y]]}var WM=Vc("area",{defaultShapeType:"area",getDefaultPoints:function(h){var f=h.x,t=h.y0,c=(0,D.kJ)(h.y)?h.y:[t,h.y];return c.map(function(v){return{x:f,y:v}})}});Ya("area","area",{draw:function(h,f){var t=UC(h,!1,!1,this),c=f.addShape({type:"path",attrs:t,name:"area"});return c},getMarker:function(h){var f=h.color;return{symbol:function(t,c,v){return v===void 0&&(v=5.5),[["M",t-v,c-4],["L",t+v,c-4],["L",t+v,c+4],["L",t-v,c+4],["Z"]]},style:{r:5,fill:f,fillOpacity:1}}}});var GM=null,$M=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;c.type="area",c.shapeType="area",c.generatePoints=!0,c.startOnZero=!0;var v=t.startOnZero,y=v===void 0?!0:v,b=t.sortable,M=b===void 0?!1:b,A=t.showSinglePoint,B=A===void 0?!1:A;return c.startOnZero=y,c.sortable=M,c.showSinglePoint=B,c}return f.prototype.getPointsAndData=function(t){for(var c=[],v=[],y=0,b=t.length;y<b;y++){var M=t[y];c.push(M.points),v.push(M[Nt])}return{points:c,data:v}},f.prototype.getYMinValue=function(){if(this.startOnZero)return h.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},f}(ow),DS=$M,wu=Vc("edge",{defaultShapeType:"line",getDefaultPoints:function(h){return lh(h)}});Ya("edge","line",{draw:function(h,f){var t=yl(h,!0,!1,"lineWidth"),c=tp(this.parsePoints(h.points),this.coordinate.isPolar);return f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:c})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});var UM=null,pv=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return f}(ku),sw=pv,uw=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return f.prototype.updateElements=function(t,c){c===void 0&&(c=!1);for(var v=0;v<t.length;v++){var y=t[v],b=this.prepareRange(y),M=this.prepareSize(),A=(0,D.U2)(this.styleOption,["cfg","shadowBlur"]);(0,D.hj)(A)||(A=M/2),this.prepareGreyScaleBlurredCircle(M,A),this.drawWithRange(y,b,M,A)}},f.prototype.color=function(t,c){return this.createAttrOption("color",t,typeof c!="function"?c:""),this},f.prototype.clear=function(){h.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},f.prototype.prepareRange=function(t){var c=this.getAttribute("color"),v=c.getFields()[0],y=1/0,b=-1/0;return t.forEach(function(M){var A=M[Nt][v];A>b&&(b=A),A<y&&(y=A)}),y===b&&(y=b-1),[y,b]},f.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,D.hj)(t)||(t=this.getDefaultSize()),t},f.prototype.prepareGreyScaleBlurredCircle=function(t,c){var v=this.getGrayScaleBlurredCanvas(),y=t+c,b=v.getContext("2d");v.width=v.height=y*2,b.clearRect(0,0,v.width,v.height),b.shadowOffsetX=b.shadowOffsetY=y*2,b.shadowBlur=c,b.shadowColor="black",b.beginPath(),b.arc(-y,-y,t,0,Math.PI*2,!0),b.closePath(),b.fill()},f.prototype.drawWithRange=function(t,c,v,y){var b,M,A=this.coordinate,B=A.start,H=A.end,W=this.coordinate.getWidth(),Y=this.coordinate.getHeight(),Q=this.getAttribute("color"),te=Q.getFields()[0];this.clearShadowCanvasCtx();var he=this.getShadowCanvasCtx();c&&(t=t.filter(function(tn){return tn[Nt][te]<=c[1]&&tn[Nt][te]>=c[0]}));var Me=this.scales[te];try{for(var Fe=(0,U.XA)(t),Qe=Fe.next();!Qe.done;Qe=Fe.next()){var nt=Qe.value,pt=this.getDrawCfg(nt),Qt=pt.x,Sr=pt.y,Mr=Me.scale(nt[Nt][te]);this.drawGrayScaleBlurredCircle(Qt-B.x,Sr-H.y,v+y,Mr,he)}}catch(tn){b={error:tn}}finally{try{Qe&&!Qe.done&&(M=Fe.return)&&M.call(Fe)}finally{if(b)throw b.error}}var Or=he.getImageData(0,0,W,Y);this.clearShadowCanvasCtx(),this.colorize(Or),he.putImageData(Or,0,0);var Xr=this.getImageShape();Xr.attr("x",B.x),Xr.attr("y",H.y),Xr.attr("width",W),Xr.attr("height",Y),Xr.attr("img",he.canvas),Xr.set("origin",this.getShapeInfo(t))},f.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),c=this.coordinate;return Math.min(c.getWidth()/(t.scales[0].ticks.length*4),c.getHeight()/(t.scales[1].ticks.length*4))},f.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},f.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},f.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},f.prototype.drawGrayScaleBlurredCircle=function(t,c,v,y,b){var M=this.getGrayScaleBlurredCanvas();b.globalAlpha=y,b.drawImage(M,t-v,c-v)},f.prototype.colorize=function(t){for(var c=this.getAttribute("color"),v=t.data,y=this.paletteCache,b=3;b<v.length;b+=4){var M=v[b];if((0,D.hj)(M)){var A=y[M]?y[M]:oa.Z.rgb2arr(c.gradient(M/256));v[b-3]=A[0],v[b-2]=A[1],v[b-1]=A[2],v[b]=M}}},f.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var c=this.container;return t=c.addShape({type:"image",attrs:{}}),this.imageShape=t,t},f.prototype.getShapeInfo=function(t){var c=this.getDrawCfg(t[0]),v=t.map(function(y){return y[Nt]});return(0,U.pi)((0,U.pi)({},c),{mappingData:t,data:v})},f}(ku),cw=uw;function Wg(h){var f,t,c=h.x,v=h.y,y=h.y0,b=h.size,M,A;(0,D.kJ)(v)?(f=(0,U.CR)(v,2),M=f[0],A=f[1]):(M=y,A=v);var B,H;(0,D.kJ)(c)?(t=(0,U.CR)(c,2),B=t[0],H=t[1]):(B=c-b/2,H=c+b/2);var W=[{x:B,y:M},{x:B,y:A}];return W.push({x:H,y:A},{x:H,y:M}),W}function YC(h,f){f===void 0&&(f=!0);var t=[],c=h[0];t.push(["M",c.x,c.y]);for(var v=1,y=h.length;v<y;v++)t.push(["L",h[v].x,h[v].y]);return f&&(t.push(["L",c.x,c.y]),t.push(["z"])),t}function Pf(h,f){var t=0,c=0,v=0,y=0;return(0,D.kJ)(h)?h.length===1?t=c=v=y=h[0]:h.length===2?(t=v=h[0],c=y=h[1]):h.length===3?(t=h[0],c=y=h[1],v=h[2]):(t=h[0],c=h[1],v=h[2],y=h[3]):t=c=v=y=h,t+c>f&&(t=t?f/(1+c/t):0,c=f-t),v+y>f&&(v=v?f/(1+y/v):0,y=f-v),[t||0,c||0,v||0,y||0]}function LS(h,f,t){var c=[];if(t.isRect){var v=t.isTransposed?{x:t.start.x,y:f[0].y}:{x:f[0].x,y:t.start.y},y=t.isTransposed?{x:t.end.x,y:f[2].y}:{x:f[3].x,y:t.end.y},b=(0,D.U2)(h,["background","style","radius"]);if(b){var M=t.isTransposed?Math.abs(f[0].y-f[2].y):f[2].x-f[1].x,A=t.isTransposed?t.getWidth():t.getHeight(),B=(0,U.CR)(Pf(b,Math.min(M,A)),4),H=B[0],W=B[1],Y=B[2],Q=B[3],te=t.isTransposed&&t.isReflect("y"),he=te?0:1,Me=function(Sr){return te?-Sr:Sr};c.push(["M",v.x,y.y+Me(H)]),H!==0&&c.push(["A",H,H,0,0,he,v.x+H,y.y]),c.push(["L",y.x-W,y.y]),W!==0&&c.push(["A",W,W,0,0,he,y.x,y.y+Me(W)]),c.push(["L",y.x,v.y-Me(Y)]),Y!==0&&c.push(["A",Y,Y,0,0,he,y.x-Y,v.y]),c.push(["L",v.x+Q,v.y]),Q!==0&&c.push(["A",Q,Q,0,0,he,v.x,v.y-Me(Q)])}else c.push(["M",v.x,v.y]),c.push(["L",y.x,v.y]),c.push(["L",y.x,y.y]),c.push(["L",v.x,y.y]),c.push(["L",v.x,v.y]);c.push(["z"])}if(t.isPolar){var Fe=t.getCenter(),Qe=Jd(h,t),nt=Qe.startAngle,pt=Qe.endAngle;if(t.type!=="theta"&&!t.isTransposed)c=eh(Fe.x,Fe.y,t.getRadius(),nt,pt);else{var Qt=function(Or){return Math.pow(Or,2)},H=Math.sqrt(Qt(Fe.x-f[0].x)+Qt(Fe.y-f[0].y)),W=Math.sqrt(Qt(Fe.x-f[2].x)+Qt(Fe.y-f[2].y));c=eh(Fe.x,Fe.y,H,t.startAngle,t.endAngle,W)}}return c}function fw(h,f,t){var c=t.getWidth(),v=t.getHeight(),y=t.type==="rect",b=[],M=(h[2].x-h[1].x)/2,A=t.isTransposed?M*v/c:M*c/v;return f==="round"?(y?(b.push(["M",h[0].x,h[0].y+A]),b.push(["L",h[1].x,h[1].y-A]),b.push(["A",M,M,0,0,1,h[2].x,h[2].y-A]),b.push(["L",h[3].x,h[3].y+A]),b.push(["A",M,M,0,0,1,h[0].x,h[0].y+A])):(b.push(["M",h[0].x,h[0].y]),b.push(["L",h[1].x,h[1].y]),b.push(["A",M,M,0,0,1,h[2].x,h[2].y]),b.push(["L",h[3].x,h[3].y]),b.push(["A",M,M,0,0,1,h[0].x,h[0].y])),b.push(["z"])):b=YC(h),b}function Rm(h,f,t){var c=[];return(0,D.UM)(f)?t?c.push(["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["L",(h[2].x+h[3].x)/2,(h[2].y+h[3].y)/2],["Z"]):c.push(["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["L",h[2].x,h[2].y],["L",h[3].x,h[3].y],["Z"]):c.push(["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["L",f[1].x,f[1].y],["L",f[0].x,f[0].y],["Z"]),c}function Gg(h,f){return[f,h]}function Q_(h,f,t){var c,v,y,b,M,A,B,H=(0,U.CR)((0,U.ev)([],(0,U.CR)(h),!1),4),W=H[0],Y=H[1],Q=H[2],te=H[3],he=(0,U.CR)(typeof t=="number"?Array(4).fill(t):t,4),Me=he[0],Fe=he[1],Qe=he[2],nt=he[3];f.isTransposed&&(c=(0,U.CR)(Gg(Y,te),2),Y=c[0],te=c[1]),f.isReflect("y")&&(v=(0,U.CR)(Gg(W,Y),2),W=v[0],Y=v[1],y=(0,U.CR)(Gg(Q,te),2),Q=y[0],te=y[1]),f.isReflect("x")&&(b=(0,U.CR)(Gg(W,te),2),W=b[0],te=b[1],M=(0,U.CR)(Gg(Y,Q),2),Y=M[0],Q=M[1]);var pt=[],Qt=function(Sr){return Math.abs(Sr)};return A=(0,U.CR)(Pf([Me,Fe,Qe,nt],Math.min(Qt(te.x-W.x),Qt(Y.y-W.y))).map(function(Sr){return Qt(Sr)}),4),Me=A[0],Fe=A[1],Qe=A[2],nt=A[3],f.isTransposed&&(B=(0,U.CR)([nt,Me,Fe,Qe],4),Me=B[0],Fe=B[1],Qe=B[2],nt=B[3]),W.y<Y.y?(pt.push(["M",te.x,te.y+Qe]),Qe!==0&&pt.push(["A",Qe,Qe,0,0,0,te.x-Qe,te.y]),pt.push(["L",W.x+nt,W.y]),nt!==0&&pt.push(["A",nt,nt,0,0,0,W.x,W.y+nt]),pt.push(["L",Y.x,Y.y-Me]),Me!==0&&pt.push(["A",Me,Me,0,0,0,Y.x+Me,Y.y]),pt.push(["L",Q.x-Fe,Q.y]),Fe!==0&&pt.push(["A",Fe,Fe,0,0,0,Q.x,Q.y-Fe]),pt.push(["L",te.x,te.y+Qe]),pt.push(["z"])):te.x<W.x?(pt.push(["M",Q.x+Fe,Q.y]),Fe!==0&&pt.push(["A",Fe,Fe,0,0,0,Q.x,Q.y+Fe]),pt.push(["L",te.x,te.y-Qe]),Qe!==0&&pt.push(["A",Qe,Qe,0,0,0,te.x+Qe,te.y]),pt.push(["L",W.x-nt,W.y]),nt!==0&&pt.push(["A",nt,nt,0,0,0,W.x,W.y-nt]),pt.push(["L",Y.x,Y.y+Me]),Me!==0&&pt.push(["A",Me,Me,0,0,0,Y.x-Me,Y.y]),pt.push(["L",Q.x+Fe,Q.y]),pt.push(["z"])):(pt.push(["M",Y.x,Y.y+Me]),Me!==0&&pt.push(["A",Me,Me,0,0,1,Y.x+Me,Y.y]),pt.push(["L",Q.x-Fe,Q.y]),Fe!==0&&pt.push(["A",Fe,Fe,0,0,1,Q.x,Q.y+Fe]),pt.push(["L",te.x,te.y-Qe]),Qe!==0&&pt.push(["A",Qe,Qe,0,0,1,te.x-Qe,te.y]),pt.push(["L",W.x+nt,W.y]),nt!==0&&pt.push(["A",nt,nt,0,0,1,W.x,W.y-nt]),pt.push(["L",Y.x,Y.y+Me]),pt.push(["z"])),pt}var YM=Vc("interval",{defaultShapeType:"rect",getDefaultPoints:function(h){return Wg(h)}});Ya("interval","rect",{draw:function(h,f){var t=yl(h,!1,!0),c=f,v=h==null?void 0:h.background;if(v){c=f.addGroup({name:"interval-group"});var y=Eb(h),b=LS(h,this.parsePoints(h.points),this.coordinate);c.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},y),{path:b}),capture:!1,zIndex:-1,name:nh})}var M;t.radius&&this.coordinate.isRect?M=Q_(this.parsePoints(h.points),this.coordinate,t.radius):M=this.parsePath(fw(h.points,t.lineCap,this.coordinate));var A=c.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:M}),name:"interval"});return v?c:A},getMarker:function(h){var f=h.color,t=h.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:f}}:{symbol:"square",style:{r:4,fill:f}}}});var J_=null;function ef(h,f){var t=h.length,c=h;(0,D.HD)(c[0])&&(c=h.map(function(M){return f.translate(M)}));for(var v=c[1]-c[0],y=2;y<t;y++){var b=c[y]-c[y-1];v>b&&(v=b)}return v}function Tc(h,f){if(f){var t=(0,D.xH)(h),c=(0,D.I)(t,f);return c.length}return h.length}function Sp(h){var f=h.theme,t=h.coordinate,c=h.getXScale(),v=c.values,y=h.beforeMappingData,b=v.length,M=Uo(h.coordinate),A=h.intervalPadding,B=h.dodgePadding,H=h.maxColumnWidth||f.maxColumnWidth,W=h.minColumnWidth||f.minColumnWidth,Y=h.columnWidthRatio||f.columnWidthRatio,Q=h.multiplePieWidthRatio||f.multiplePieWidthRatio,te=h.roseWidthRatio||f.roseWidthRatio;if(c.isLinear&&v.length>1){v.sort();var he=ef(v,c);b=(c.max-c.min)/he,v.length>b&&(b=v.length)}var Me=c.range,Fe=1/b,Qe=1;if(t.isPolar?t.isTransposed&&b>1?Qe=Q:Qe=te:(c.isLinear&&(Fe*=Me[1]-Me[0]),Qe=Y),!(0,D.UM)(A)&&A>=0){var nt=A/M;Fe=(1-(b-1)*nt)/b}else Fe*=Qe;if(h.getAdjust("dodge")){var pt=h.getAdjust("dodge"),Qt=pt.dodgeBy,Sr=Tc(y,Qt);if(!(0,D.UM)(B)&&B>=0){var Mr=B/M;Fe=(Fe-Mr*(Sr-1))/Sr}else!(0,D.UM)(A)&&A>=0&&(Fe*=Qe),Fe=Fe/Sr;Fe=Fe>=0?Fe:0}if(!(0,D.UM)(H)&&H>=0){var Or=H/M;Fe>Or&&(Fe=Or)}if(!(0,D.UM)(W)&&W>=0){var Xr=W/M;Fe<Xr&&(Fe=Xr)}return Fe}var hw=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;c.type="interval",c.shapeType="interval",c.generatePoints=!0;var v=t.background;return c.background=v,c}return f.prototype.createShapePointsCfg=function(t){var c=h.prototype.createShapePointsCfg.call(this,t),v,y=this.getAttribute("size");if(y){v=this.getAttributeValues(y,t)[0];var b=this.coordinate,M=Uo(b);v=v/M}else this.defaultSize||(this.defaultSize=Sp(this)),v=this.defaultSize;return c.size=v,c},f.prototype.adjustScale=function(){h.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Po(t)});else{var c=this.scaleDefs,v=t.field,y=t.min,b=t.max,M=t.type;M!=="time"&&(y>0&&!(0,D.U2)(c,[v,"min"])&&t.change({min:0}),b<=0&&!(0,D.U2)(c,[v,"max"])&&t.change({max:0}))}},f.prototype.getDrawCfg=function(t){var c=h.prototype.getDrawCfg.call(this,t);return c.background=this.background,c},f}(ku),jC=hw,PS=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;c.type="line";var v=t.sortable,y=v===void 0?!1:v;return c.sortable=y,c}return f}(ow),$g=PS,VC=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],Ug=["cross","tick","plus","hyphen","line"];function Dm(h,f,t,c,v){var y,b,M=yl(f,v,!v,"r"),A=h.parsePoints(f.points),B=A[0];if(f.isStack)B=A[1];else if(A.length>1){var H=t.addGroup();try{for(var W=(0,U.XA)(A),Y=W.next();!Y.done;Y=W.next()){var Q=Y.value;H.addShape({type:"marker",attrs:(0,U.pi)((0,U.pi)((0,U.pi)({},M),{symbol:Xc[c]||c}),Q)})}}catch(te){y={error:te}}finally{try{Y&&!Y.done&&(b=W.return)&&b.call(W)}finally{if(y)throw y.error}}return H}return t.addShape({type:"marker",attrs:(0,U.pi)((0,U.pi)((0,U.pi)({},M),{symbol:Xc[c]||c}),B)})}var eE=Vc("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(h){return lh(h)}});(0,D.S6)(VC,function(h){Ya("point","hollow-".concat(h),{draw:function(f,t){return Dm(this,f,t,h,!0)},getMarker:function(f){var t=f.color;return{symbol:Xc[h]||h,style:{r:4.5,stroke:t,fill:null}}}})});var tE=null,XC=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return f.prototype.getDrawCfg=function(t){var c=h.prototype.getDrawCfg.call(this,t);return(0,U.pi)((0,U.pi)({},c),{isStack:!!this.getAdjust("stack")})},f}(ku),BS=XC;function rE(h){for(var f=h[0],t=1,c=[["M",f.x,f.y]];t<h.length;){var v=h[t];(v.x!==h[t-1].x||v.y!==h[t-1].y)&&(c.push(["L",v.x,v.y]),v.x===f.x&&v.y===f.y&&t<h.length-1&&(f=h[t+1],c.push(["Z"]),c.push(["M",f.x,f.y]),t++)),t++}return(0,D.Xy)((0,D.Z$)(c),f)||c.push(["L",f.x,f.y]),c.push(["Z"]),c}var kS=Vc("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(h){var f=[];return(0,D.S6)(h.x,function(t,c){var v=h.y[c];f.push({x:t,y:v})}),f}});Ya("polygon","polygon",{draw:function(h,f){if(!(0,D.xb)(h.points)){var t=yl(h,!0,!0),c=this.parsePath(rE(h.points));return f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:c}),name:"polygon"})}},getMarker:function(h){var f=h.color;return{symbol:"square",style:{r:4,fill:f}}}});var dw=null,Yg=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return f.prototype.createShapePointsCfg=function(t){var c=h.prototype.createShapePointsCfg.call(this,t),v=c.x,y=c.y,b;if(!((0,D.kJ)(v)&&(0,D.kJ)(y))){var M=this.getXScale(),A=this.getYScale(),B=M.values.length,H=A.values.length,W=.5*1/B,Y=.5*1/H;M.isCategory&&A.isCategory?(v=[v-W,v-W,v+W,v+W],y=[y-Y,y+Y,y+Y,y-Y]):(0,D.kJ)(v)?(b=v,v=[b[0],b[0],b[1],b[1]],y=[y-Y/2,y+Y/2,y+Y/2,y-Y/2]):(0,D.kJ)(y)&&(b=y,y=[b[0],b[1],b[1],b[0]],v=[v-W/2,v-W/2,v+W/2,v+W/2]),c.x=v,c.y=y}return c},f}(ku),vw=Yg,gv=Vc("schema",{defaultShapeType:""}),jM=null,nE=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return f.prototype.createShapePointsCfg=function(t){var c=h.prototype.createShapePointsCfg.call(this,t),v,y=this.getAttribute("size");if(y){v=this.getAttributeValues(y,t)[0];var b=this.coordinate,M=Uo(b);v=v/M}else this.defaultSize||(this.defaultSize=Sp(this)),v=this.defaultSize;return c.size=v,c},f}(ku),VM=nE;function FS(h){if(!(0,D.kJ)(h))return[];var f=(0,D.Fp)(h);return(0,D.UI)(h,function(t){return t/f})}var XM=Vc("violin",{defaultShapeType:"violin",getDefaultPoints:function(h){var f=h.size/2,t=[],c=FS(h._size);return(0,D.S6)(h.y,function(v,y){var b=c[y]*f,M=y===0,A=y===h.y.length-1;t.push({isMin:M,isMax:A,x:h.x-b,y:v}),t.unshift({isMin:M,isMax:A,x:h.x+b,y:v})}),t}});Ya("violin","violin",{draw:function(h,f){var t=yl(h,!0,!0),c=this.parsePath(ko(h.points));return f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:c}),name:"violin"})},getMarker:function(h){var f=h.color;return{symbol:"circle",style:{r:4,fill:f}}}});var NS=null,HS=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return f.prototype.createShapePointsCfg=function(t){var c=h.prototype.createShapePointsCfg.call(this,t),v,y=this.getAttribute("size");if(y){v=this.getAttributeValues(y,t)[0];var b=this.coordinate,M=Uo(b);v=v/M}else this.defaultSize||(this.defaultSize=Sp(this)),v=this.defaultSize;return c.size=v,c._size=(0,D.U2)(t[Nt],[this._sizeField]),c},f.prototype.initAttributes=function(){var t=this.attributeOption,c=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=c,delete t.size,h.prototype.initAttributes.call(this)},f}(ku),jg=HS;Ya("area","line",{draw:function(h,f){var t=UC(h,!0,!1,this),c=f.addShape({type:"path",attrs:t,name:"area"});return c},getMarker:function(h){var f=h.color;return{symbol:function(t,c,v){return v===void 0&&(v=5.5),[["M",t-v,c-4],["L",t+v,c-4],["L",t+v,c+4],["L",t-v,c+4],["Z"]]},style:{r:5,stroke:f,fill:null}}}}),Ya("area","smooth",{draw:function(h,f){var t=this.coordinate,c=UC(h,!1,!0,this,RS(t)),v=f.addShape({type:"path",attrs:c,name:"area"});return v},getMarker:function(h){var f=h.color;return{symbol:function(t,c,v){return v===void 0&&(v=5.5),[["M",t-v,c-4],["L",t+v,c-4],["L",t+v,c+4],["L",t-v,c+4],["Z"]]},style:{r:5,fill:f,fillOpacity:1}}}}),Ya("area","smooth-line",{draw:function(h,f){var t=this.coordinate,c=UC(h,!0,!0,this,RS(t)),v=f.addShape({type:"path",attrs:c,name:"area"});return v},getMarker:function(h){var f=h.color;return{symbol:function(t,c,v){return v===void 0&&(v=5.5),[["M",t-v,c-4],["L",t+v,c-4],["L",t+v,c+4],["L",t-v,c+4],["Z"]]},style:{r:5,stroke:f,fill:null}}}});function md(h,f){return["C",h.x*1/2+f.x*1/2,h.y,h.x*1/2+f.x*1/2,f.y,f.x,f.y]}function Ch(h,f){var t=[];t.push({x:f.x,y:f.y}),t.push(h);var c=["Q"];return(0,D.S6)(t,function(v){c.push(v.x,v.y)}),c}function ZM(h,f,t){var c=Ch(f,t),v=[["M",h.x,h.y]];return v.push(c),v}function iE(h,f){var t=Ch(h[1],f),c=Ch(h[3],f),v=[["M",h[0].x,h[0].y]];return v.push(c),v.push(["L",h[3].x,h[3].y]),v.push(["L",h[2].x,h[2].y]),v.push(t),v.push(["L",h[1].x,h[1].y]),v.push(["L",h[0].x,h[0].y]),v.push(["Z"]),v}Ya("edge","arc",{draw:function(h,f){var t=yl(h,!0,!1,"lineWidth"),c=h.points,v=c.length>2?"weight":"normal",y;if(h.isInCircle){var b={x:0,y:1};return v==="normal"?y=ZM(c[0],c[1],b):(t.fill=t.stroke,y=iE(c,b)),y=this.parsePath(y),f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:y})})}else{if(v==="normal")return c=this.parsePoints(c),y=ib((c[1].x+c[0].x)/2,c[0].y,Math.abs(c[1].x-c[0].x)/2,Math.PI,Math.PI*2),f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:y})});var M=md(c[1],c[3]),A=md(c[2],c[0]);return y=[["M",c[0].x,c[0].y],["L",c[1].x,c[1].y],M,["L",c[3].x,c[3].y],["L",c[2].x,c[2].y],A,["Z"]],y=this.parsePath(y),t.fill=t.stroke,f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:y})})}},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});function Vg(h,f){var t=md(h,f),c=[["M",h.x,h.y]];return c.push(t),c}Ya("edge","smooth",{draw:function(h,f){var t=yl(h,!0,!1,"lineWidth"),c=h.points,v=this.parsePath(Vg(c[0],c[1]));return f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:v})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});var bh=1/3;function Lm(h,f){var t=[];t.push({x:h.x,y:h.y*(1-bh)+f.y*bh}),t.push({x:f.x,y:h.y*(1-bh)+f.y*bh}),t.push(f);var c=[["M",h.x,h.y]];return(0,D.S6)(t,function(v){c.push(["L",v.x,v.y])}),c}Ya("edge","vhv",{draw:function(h,f){var t=yl(h,!0,!1,"lineWidth"),c=h.points,v=this.parsePath(Lm(c[0],c[1]));return f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:v})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}}),Ya("interval","funnel",{getPoints:function(h){return h.size=h.size*2,Wg(h)},draw:function(h,f){var t=yl(h,!1,!0),c=this.parsePath(Rm(h.points,h.nextPoints,!1)),v=f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:c}),name:"interval"});return v},getMarker:function(h){var f=h.color;return{symbol:"square",style:{r:4,fill:f}}}}),Ya("interval","hollow-rect",{draw:function(h,f){var t=yl(h,!0,!1),c=f,v=h==null?void 0:h.background;if(v){c=f.addGroup();var y=Eb(h),b=LS(h,this.parsePoints(h.points),this.coordinate);c.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},y),{path:b}),capture:!1,zIndex:-1,name:nh})}var M=this.parsePath(YC(h.points)),A=c.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:M}),name:"interval"});return v?c:A},getMarker:function(h){var f=h.color,t=h.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:f,fill:null}}:{symbol:"square",style:{r:4,stroke:f,fill:null}}}});function zS(h){var f=h.x,t=h.y,c=h.y0;return(0,D.kJ)(t)?t.map(function(v,y){return{x:(0,D.kJ)(f)?f[y]:f,y:v}}):[{x:f,y:c},{x:f,y:t}]}Ya("interval","line",{getPoints:function(h){return zS(h)},draw:function(h,f){var t=yl(h,!0,!1,"lineWidth"),c=Du((0,U.pi)({},t),["fill"]),v=this.parsePath(YC(h.points,!1)),y=f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},c),{path:v}),name:"interval"});return y},getMarker:function(h){var f=h.color;return{symbol:function(t,c,v){return[["M",t,c-v],["L",t,c+v]]},style:{r:5,stroke:f}}}}),Ya("interval","pyramid",{getPoints:function(h){return h.size=h.size*2,Wg(h)},draw:function(h,f){var t=yl(h,!1,!0),c=this.parsePath(Rm(h.points,h.nextPoints,!0)),v=f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:c}),name:"interval"});return v},getMarker:function(h){var f=h.color;return{symbol:"square",style:{r:4,fill:f}}}});function rc(h){var f,t=h.x,c=h.y,v=h.y0,y=h.size,b,M;(0,D.kJ)(c)?(f=(0,U.CR)(c,2),b=f[0],M=f[1]):(b=v,M=c);var A=t+y/2,B=t-y/2;return[{x:t,y:b},{x:t,y:M},{x:B,y:b},{x:A,y:b},{x:B,y:M},{x:A,y:M}]}function pw(h){return[["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["M",h[2].x,h[2].y],["L",h[3].x,h[3].y],["M",h[4].x,h[4].y],["L",h[5].x,h[5].y]]}Ya("interval","tick",{getPoints:function(h){return rc(h)},draw:function(h,f){var t=yl(h,!0,!1),c=this.parsePath(pw(h.points)),v=f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:c}),name:"interval"});return v},getMarker:function(h){var f=h.color;return{symbol:function(t,c,v){return[["M",t-v/2,c-v],["L",t+v/2,c-v],["M",t,c-v],["L",t,c+v],["M",t-v/2,c+v],["L",t+v/2,c+v]]},style:{r:5,stroke:f}}}});var WS=function(h,f,t){var c=h.x,v=h.y,y=f.x,b=f.y,M;switch(t){case"hv":M=[{x:y,y:v}];break;case"vh":M=[{x:c,y:b}];break;case"hvh":var A=(y+c)/2;M=[{x:A,y:v},{x:A,y:b}];break;case"vhv":var B=(v+b)/2;M=[{x:c,y:B},{x:y,y:B}];break;default:break}return M};function aE(h,f){var t=[];return(0,D.S6)(h,function(c,v){var y=h[v+1];if(t.push(c),y){var b=WS(c,y,f);t=t.concat(b)}}),t}function nc(h){return h.map(function(f,t){return t===0?["M",f.x,f.y]:["L",f.x,f.y]})}function Pm(h,f){var t=om(h.points,h.connectNulls,h.showSinglePoint),c=[];return(0,D.S6)(t,function(v){var y=aE(v,f);c=c.concat(nc(y))}),(0,U.pi)((0,U.pi)({},yl(h,!0,!1,"lineWidth")),{path:c})}(0,D.S6)(["hv","vh","hvh","vhv"],function(h){Ya("line",h,{draw:function(f,t){var c=Pm(f,h),v=t.addShape({type:"path",attrs:c,name:"line"});return v},getMarker:function(f){return Mb(f,h)}})}),(0,D.S6)(Ug,function(h){Ya("point",h,{draw:function(f,t){return Dm(this,f,t,h,!0)},getMarker:function(f){var t=f.color;return{symbol:Xc[h],style:{r:4.5,stroke:t,fill:null}}}})}),Ya("point","image",{draw:function(h,f){var t,c,v=yl(h,!1,!1,"r").r,y=this.parsePoints(h.points),b=y[0];if(h.isStack)b=y[1];else if(y.length>1){var M=f.addGroup();try{for(var A=(0,U.XA)(y),B=A.next();!B.done;B=A.next()){var H=B.value;M.addShape("image",{attrs:{x:H.x-v/2,y:H.y-v,width:v,height:v,img:h.shape[1]}})}}catch(W){t={error:W}}finally{try{B&&!B.done&&(c=A.return)&&c.call(A)}finally{if(t)throw t.error}}return M}return f.addShape("image",{attrs:{x:b.x-v/2,y:b.y-v,width:v,height:v,img:h.shape[1]}})},getMarker:function(h){var f=h.color;return{symbol:"circle",style:{r:4.5,fill:f}}}}),(0,D.S6)(VC,function(h){Ya("point",h,{draw:function(f,t){return Dm(this,f,t,h,!1)},getMarker:function(f){var t=f.color;return{symbol:Xc[h]||h,style:{r:4.5,fill:t}}}})});function GS(h){var f=(0,D.kJ)(h)?h:[h],t=f[0],c=f[f.length-1],v=f.length>1?f[1]:t,y=f.length>3?f[3]:c,b=f.length>2?f[2]:v;return{min:t,max:c,min1:v,max1:y,median:b}}function ZC(h,f,t){var c=t/2,v;if((0,D.kJ)(f)){var y=GS(f),b=y.min,M=y.max,A=y.median,B=y.min1,H=y.max1,W=h-c,Y=h+c;v=[[W,M],[Y,M],[h,M],[h,H],[W,B],[W,H],[Y,H],[Y,B],[h,B],[h,b],[W,b],[Y,b],[W,A],[Y,A]]}else{f=(0,D.UM)(f)?.5:f;var Q=GS(h),b=Q.min,M=Q.max,A=Q.median,B=Q.min1,H=Q.max1,te=f-c,he=f+c;v=[[b,te],[b,he],[b,f],[B,f],[B,te],[B,he],[H,he],[H,te],[H,f],[M,f],[M,te],[M,he],[A,te],[A,he]]}return v.map(function(Me){return{x:Me[0],y:Me[1]}})}function $S(h){return[["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["M",h[2].x,h[2].y],["L",h[3].x,h[3].y],["M",h[4].x,h[4].y],["L",h[5].x,h[5].y],["L",h[6].x,h[6].y],["L",h[7].x,h[7].y],["L",h[4].x,h[4].y],["Z"],["M",h[8].x,h[8].y],["L",h[9].x,h[9].y],["M",h[10].x,h[10].y],["L",h[11].x,h[11].y],["M",h[12].x,h[12].y],["L",h[13].x,h[13].y]]}Ya("schema","box",{getPoints:function(h){var f=h.x,t=h.y,c=h.size;return ZC(f,t,c)},draw:function(h,f){var t=yl(h,!0,!1),c=this.parsePath($S(h.points)),v=f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:c,name:"schema"})});return v},getMarker:function(h){var f=h.color;return{symbol:function(t,c,v){var y=[c-6,c-3,c,c+3,c+6],b=ZC(t,y,v);return[["M",b[0].x+1,b[0].y],["L",b[1].x-1,b[1].y],["M",b[2].x,b[2].y],["L",b[3].x,b[3].y],["M",b[4].x,b[4].y],["L",b[5].x,b[5].y],["L",b[6].x,b[6].y],["L",b[7].x,b[7].y],["L",b[4].x,b[4].y],["Z"],["M",b[8].x,b[8].y],["L",b[9].x,b[9].y],["M",b[10].x+1,b[10].y],["L",b[11].x-1,b[11].y],["M",b[12].x,b[12].y],["L",b[13].x,b[13].y]]},style:{r:6,lineWidth:1,stroke:f}}}});function oE(h){var f=(0,D.kJ)(h)?h:[h],t=f.sort(function(c,v){return v-c});return l_(t,4,t[t.length-1])}function yd(h,f,t){var c=oE(f);return[{x:h,y:c[0]},{x:h,y:c[1]},{x:h-t/2,y:c[2]},{x:h-t/2,y:c[1]},{x:h+t/2,y:c[1]},{x:h+t/2,y:c[2]},{x:h,y:c[2]},{x:h,y:c[3]}]}function Bm(h){return[["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["M",h[2].x,h[2].y],["L",h[3].x,h[3].y],["L",h[4].x,h[4].y],["L",h[5].x,h[5].y],["Z"],["M",h[6].x,h[6].y],["L",h[7].x,h[7].y]]}Ya("schema","candle",{getPoints:function(h){var f=h.x,t=h.y,c=h.size;return yd(f,t,c)},draw:function(h,f){var t=yl(h,!0,!0),c=this.parsePath(Bm(h.points)),v=f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:c,name:"schema"})});return v},getMarker:function(h){var f=h.color;return{symbol:function(t,c,v){var y=[c+7.5,c+3,c-3,c-7.5],b=yd(t,y,v);return[["M",b[0].x,b[0].y],["L",b[1].x,b[1].y],["M",b[2].x,b[2].y],["L",b[3].x,b[3].y],["L",b[4].x,b[4].y],["L",b[5].x,b[5].y],["Z"],["M",b[6].x,b[6].y],["L",b[7].x,b[7].y]]},style:{lineWidth:1,stroke:f,fill:f,r:6}}}});function lE(h,f){var t=Math.abs(h[0].x-h[2].x),c=Math.abs(h[0].y-h[2].y),v=Math.min(t,c);f&&(v=(0,D.uZ)(f,0,Math.min(t,c))),v=v/2;var y=(h[0].x+h[2].x)/2,b=(h[0].y+h[2].y)/2;return{x:y-v,y:b-v,width:v*2,height:v*2}}Ya("polygon","square",{draw:function(h,f){if(!(0,D.xb)(h.points)){var t=yl(h,!0,!0),c=this.parsePoints(h.points);return f.addShape("rect",{attrs:(0,U.pi)((0,U.pi)({},t),lE(c,h.size)),name:"polygon"})}},getMarker:function(h){var f=h.color;return{symbol:"square",style:{r:4,fill:f}}}}),Ya("violin","smooth",{draw:function(h,f){var t=yl(h,!0,!0),c=this.parsePath(Zc(h.points));return f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:c})})},getMarker:function(h){var f=h.color;return{symbol:"circle",style:{stroke:null,r:4,fill:f}}}}),Ya("violin","hollow",{draw:function(h,f){var t=yl(h,!0,!1),c=this.parsePath(ko(h.points));return f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:c})})},getMarker:function(h){var f=h.color;return{symbol:"circle",style:{r:4,fill:null,stroke:f}}}}),Ya("violin","hollow-smooth",{draw:function(h,f){var t=yl(h,!0,!1),c=this.parsePath(Zc(h.points));return f.addShape("path",{attrs:(0,U.pi)((0,U.pi)({},t),{path:c})})},getMarker:function(h){var f=h.color;return{symbol:"circle",style:{r:4,fill:null,stroke:f}}}});var Cd=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getLabelValueDir=function(t){var c="y",v=t.points;return v[0][c]<=v[2][c]?1:-1},f.prototype.getLabelOffsetPoint=function(t,c,v,y){var b,M=h.prototype.getLabelOffsetPoint.call(this,t,c,v),A=this.getCoordinate(),B=A.isTransposed,H=B?"x":"y",W=this.getLabelValueDir(t.mappingData);return M=(0,U.pi)((0,U.pi)({},M),(b={},b[H]=M[H]*W,b)),A.isReflect("x")&&(M=(0,U.pi)((0,U.pi)({},M),{x:M.x*-1})),A.isReflect("y")&&(M=(0,U.pi)((0,U.pi)({},M),{y:M.y*-1})),M},f.prototype.getThemedLabelCfg=function(t){var c=this.geometry,v=this.getDefaultLabelCfg(),y=c.theme;return(0,D.b$)({},v,y.labels,t.position==="middle"?{offset:0}:{},t)},f.prototype.setLabelPosition=function(t,c,v,y){var b=this.getCoordinate(),M=b.isTransposed,A=c.points,B=b.convert(A[0]),H=b.convert(A[2]),W=this.getLabelValueDir(c),Y,Q,te,he,Me=(0,D.kJ)(c.shape)?c.shape[0]:c.shape;if(Me==="funnel"||Me==="pyramid"){var Fe=(0,D.U2)(c,"nextPoints"),Qe=(0,D.U2)(c,"points");if(Fe){var nt=b.convert(Qe[0]),pt=b.convert(Qe[1]),Qt=b.convert(Fe[0]),Sr=b.convert(Fe[1]);M?(Y=Math.min(Qt.y,nt.y),te=Math.max(Qt.y,nt.y),Q=(pt.x+Sr.x)/2,he=(nt.x+Qt.x)/2):(Y=Math.min((pt.y+Sr.y)/2,(nt.y+Qt.y)/2),te=Math.max((pt.y+Sr.y)/2,(nt.y+Qt.y)/2),Q=Sr.x,he=nt.x)}else Y=Math.min(H.y,B.y),te=Math.max(H.y,B.y),Q=H.x,he=B.x}else Y=Math.min(H.y,B.y),te=Math.max(H.y,B.y),Q=H.x,he=B.x;switch(y){case"right":t.x=Q,t.y=(Y+te)/2,t.textAlign=(0,D.U2)(t,"textAlign",W>0?"left":"right");break;case"left":t.x=he,t.y=(Y+te)/2,t.textAlign=(0,D.U2)(t,"textAlign",W>0?"left":"right");break;case"bottom":M&&(t.x=(Q+he)/2),t.y=te,t.textAlign=(0,D.U2)(t,"textAlign","center"),t.textBaseline=(0,D.U2)(t,"textBaseline",W>0?"bottom":"top");break;case"middle":M&&(t.x=(Q+he)/2),t.y=(Y+te)/2,t.textAlign=(0,D.U2)(t,"textAlign","center"),t.textBaseline=(0,D.U2)(t,"textBaseline","middle");break;case"top":M&&(t.x=(Q+he)/2),t.y=Y,t.textAlign=(0,D.U2)(t,"textAlign","center"),t.textBaseline=(0,D.U2)(t,"textBaseline",W>0?"bottom":"top");break;default:break}},f}(av),gw=Cd,KC=Math.PI/2,sE=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getLabelOffset=function(t){var c=this.getCoordinate(),v=0;if((0,D.hj)(t))v=t;else if((0,D.HD)(t)&&t.indexOf("%")!==-1){var y=c.getRadius();c.innerRadius>0&&(y=y*(1-c.innerRadius)),v=parseFloat(t)*.01*y}return v},f.prototype.getLabelItems=function(t){var c=h.prototype.getLabelItems.call(this,t),v=this.geometry.getYScale();return(0,D.UI)(c,function(y){if(y&&v){var b=v.scale((0,D.U2)(y.data,v.field));return(0,U.pi)((0,U.pi)({},y),{percent:b})}return y})},f.prototype.getLabelAlign=function(t){var c=this.getCoordinate(),v;if(t.labelEmit)v=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!c.isTransposed)v="center";else{var y=c.getCenter(),b=t.offset;Math.abs(t.x-y.x)<1?v="center":t.angle>Math.PI||t.angle<=0?v=b>0?"left":"right":v=b>0?"right":"left"}return v},f.prototype.getLabelPoint=function(t,c,v){var y=1,b,M=t.content[v];this.isToMiddle(c)?b=this.getMiddlePoint(c.points):(t.content.length===1&&v===0?v=1:v===0&&(y=-1),b=this.getArcPoint(c,v));var A=t.offset*y,B=this.getPointAngle(b),H=t.labelEmit,W=this.getCirclePoint(B,A,b,H);return W.r===0?W.content="":(W.content=M,W.angle=B,W.color=c.color),W.rotate=t.autoRotate?this.getLabelRotate(B,A,H):t.rotate,W.start={x:b.x,y:b.y},W},f.prototype.getArcPoint=function(t,c){return c===void 0&&(c=0),!(0,D.kJ)(t.x)&&!(0,D.kJ)(t.y)?{x:t.x,y:t.y}:{x:(0,D.kJ)(t.x)?t.x[c]:t.x,y:(0,D.kJ)(t.y)?t.y[c]:t.y}},f.prototype.getPointAngle=function(t){return pg(this.getCoordinate(),t)},f.prototype.getCirclePoint=function(t,c,v,y){var b=this.getCoordinate(),M=b.getCenter(),A=$c(b,v);if(A===0)return(0,U.pi)((0,U.pi)({},M),{r:A});var B=t;if(b.isTransposed&&A>c&&!y){var H=Math.asin(c/(2*A));B=t+H*2}else A=A+c;return{x:M.x+A*Math.cos(B),y:M.y+A*Math.sin(B),r:A}},f.prototype.getLabelRotate=function(t,c,v){var y=t+KC;return v&&(y-=KC),y&&(y>KC?y=y-Math.PI:y<-KC&&(y=y+Math.PI)),y},f.prototype.getMiddlePoint=function(t){var c=this.getCoordinate(),v=t.length,y={x:0,y:0};return(0,D.S6)(t,function(b){y.x+=b.x,y.y+=b.y}),y.x/=v,y.y/=v,y=c.convert(y),y},f.prototype.isToMiddle=function(t){return t.x.length>2},f}(av),km=sE,mw=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return f.prototype.getDefaultLabelCfg=function(t,c){var v=h.prototype.getDefaultLabelCfg.call(this,t,c);return(0,D.b$)({},v,(0,D.U2)(this.geometry.theme,"pieLabels",{}))},f.prototype.getLabelOffset=function(t){return h.prototype.getLabelOffset.call(this,t)||0},f.prototype.getLabelRotate=function(t,c,v){var y;return c<0&&(y=t,y>Math.PI/2&&(y=y-Math.PI),y<-Math.PI/2&&(y=y+Math.PI)),y},f.prototype.getLabelAlign=function(t){var c=this.getCoordinate(),v=c.getCenter(),y;return t.angle<=Math.PI/2&&t.x>=v.x?y="left":y="right",t.offset<=0&&(y==="right"?y="left":y="right"),y},f.prototype.getArcPoint=function(t){return t},f.prototype.getPointAngle=function(t){var c=this.getCoordinate(),v={x:(0,D.kJ)(t.x)?t.x[0]:t.x,y:t.y[0]},y={x:(0,D.kJ)(t.x)?t.x[1]:t.x,y:t.y[1]},b,M=pg(c,v);if(t.points&&t.points[0].y===t.points[1].y)b=M;else{var A=pg(c,y);M>=A&&(A=A+Math.PI*2),b=M+(A-M)/2}return b},f.prototype.getCirclePoint=function(t,c){var v=this.getCoordinate(),y=v.getCenter(),b=v.getRadius()+c;return(0,U.pi)((0,U.pi)({},sl(y.x,y.y,b,t)),{angle:t,r:b})},f}(km),Fm=mw,Nm=4;function Hm(h,f,t,c,v,y){var b,M,A=!0,B=c.start,H=c.end,W=Math.min(B.y,H.y),Y=Math.abs(B.y-H.y),Q,te=0,he=Number.MIN_VALUE,Me=f.map(function(Mr){return Mr.y>te&&(te=Mr.y),Mr.y<he&&(he=Mr.y),{size:t,targets:[Mr.y-W]}});for(he-=W,te-W>Y&&(Y=te-W);A;)for(Me.forEach(function(Mr){var Or=(Math.min.apply(he,Mr.targets)+Math.max.apply(he,Mr.targets))/2;Mr.pos=Math.min(Math.max(he,Or-Mr.size/2),Y-Mr.size)}),A=!1,Q=Me.length;Q--;)if(Q>0){var Fe=Me[Q-1],Qe=Me[Q];Fe.pos+Fe.size>Qe.pos&&(Fe.size+=Qe.size,Fe.targets=Fe.targets.concat(Qe.targets),Fe.pos+Fe.size>Y&&(Fe.pos=Y-Fe.size),Me.splice(Q,1),A=!0)}Q=0,Me.forEach(function(Mr){var Or=W+t/2;Mr.targets.forEach(function(){f[Q].y=Mr.pos+Or,Or+=t,Q++})});var nt={};try{for(var pt=(0,U.XA)(h),Qt=pt.next();!Qt.done;Qt=pt.next()){var Sr=Qt.value;nt[Sr.get("id")]=Sr}}catch(Mr){b={error:Mr}}finally{try{Qt&&!Qt.done&&(M=pt.return)&&M.call(pt)}finally{if(b)throw b.error}}f.forEach(function(Mr){var Or=Mr.r*Mr.r,Xr=Math.pow(Math.abs(Mr.y-v.y),2);if(Or<Xr)Mr.x=v.x;else{var tn=Math.sqrt(Or-Xr);y?Mr.x=v.x+tn:Mr.x=v.x-tn}var ti=nt[Mr.id];ti.attr("x",Mr.x),ti.attr("y",Mr.y);var ri=(0,D.sE)(ti.getChildren(),function(Yi){return Yi.get("type")==="text"});ri&&(ri.attr("y",Mr.y),ri.attr("x",Mr.x))})}function US(h,f,t,c){if(!(!h.length||!f.length)){var v=h[0]?h[0].offset:0,y=f[0].get("coordinate"),b=y.getRadius(),M=y.getCenter();if(v>0){var A=14,B=b+v,H=B*2+A*2,W={start:y.start,end:y.end},Y=[[],[]];h.forEach(function(Q){Q&&(Q.textAlign==="right"?Y[0].push(Q):Y[1].push(Q))}),Y.forEach(function(Q,te){var he=H/A;Q.length>he&&(Q.sort(function(Me,Fe){return Fe["..percent"]-Me["..percent"]}),Q.splice(he,Q.length-he)),Q.sort(function(Me,Fe){return Me.y-Fe.y}),Hm(f,Q,A,W,M,te)})}(0,D.S6)(h,function(Q){if(Q&&Q.labelLine){var te=Q.offset,he=Q.angle,Me=sl(M.x,M.y,b,he),Fe=sl(M.x,M.y,b+te/2,he),Qe=Q.x+(0,D.U2)(Q,"offsetX",0),nt=Q.y+(0,D.U2)(Q,"offsetY",0),pt={x:Qe-Math.cos(he)*Nm,y:nt-Math.sin(he)*Nm};(0,D.Kn)(Q.labelLine)||(Q.labelLine={}),Q.labelLine.path=["M ".concat(Me.x),"".concat(Me.y," Q").concat(Fe.x),"".concat(Fe.y," ").concat(pt.x),pt.y].join(",")}})}}function YS(h,f,t){var c=h.filter(function(te){return!te.invisible});c.sort(function(te,he){return te.y-he.y});var v=!0,y=t.minY,b=t.maxY,M=Math.abs(y-b),A,B=0,H=Number.MIN_VALUE,W=c.map(function(te){return te.y>B&&(B=te.y),te.y<H&&(H=te.y),{content:te.content,size:f,targets:[te.y-y],pos:null}});for(H-=y,B-y>M&&(M=B-y);v;)for(W.forEach(function(te){var he=(Math.min.apply(H,te.targets)+Math.max.apply(H,te.targets))/2;te.pos=Math.min(Math.max(H,he-te.size/2),M-te.size),te.pos=Math.max(0,te.pos)}),v=!1,A=W.length;A--;)if(A>0){var Y=W[A-1],Q=W[A];Y.pos+Y.size>Q.pos&&(Y.size+=Q.size,Y.targets=Y.targets.concat(Q.targets),Y.pos+Y.size>M&&(Y.pos=M-Y.size),W.splice(A,1),v=!0)}A=0,W.forEach(function(te){var he=y+f/2;te.targets.forEach(function(){c[A].y=te.pos+he,he+=f,A++})})}var jS=4;function yw(h,f){var t=f.getCenter(),c=f.getRadius();if(h&&h.labelLine){var v=h.angle,y=h.offset,b=sl(t.x,t.y,c,v),M=h.x+(0,D.U2)(h,"offsetX",0)*(Math.cos(v)>0?1:-1),A=h.y+(0,D.U2)(h,"offsetY",0)*(Math.sin(v)>0?1:-1),B={x:M-Math.cos(v)*jS,y:A-Math.sin(v)*jS},H=h.labelLine.smooth,W=[],Y=B.x-t.x,Q=B.y-t.y,te=Math.atan(Q/Y);if(Y<0&&(te+=Math.PI),H===!1){(0,D.Kn)(h.labelLine)||(h.labelLine={});var he=0;(v<0&&v>-Math.PI/2||v>Math.PI*1.5)&&B.y>b.y&&(he=1),v>=0&&v<Math.PI/2&&B.y>b.y&&(he=1),v>=Math.PI/2&&v<Math.PI&&b.y>B.y&&(he=1),(v<-Math.PI/2||v>=Math.PI&&v<Math.PI*1.5)&&b.y>B.y&&(he=1);var Me=y/2>4?4:Math.max(y/2-1,0),Fe=sl(t.x,t.y,c+Me,v),Qe=sl(t.x,t.y,c+y/2,te),nt=0;W.push("M ".concat(b.x," ").concat(b.y)),W.push("L ".concat(Fe.x," ").concat(Fe.y)),W.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(nt," ").concat(he," ").concat(Qe.x," ").concat(Qe.y)),W.push("L ".concat(B.x," ").concat(B.y))}else{var Fe=sl(t.x,t.y,c+(y/2>4?4:Math.max(y/2-1,0)),v),pt=b.x<t.x?1:-1;W.push("M ".concat(B.x," ").concat(B.y));var Qt=(b.y-t.y)/(b.x-t.x),Sr=(B.y-t.y)/(B.x-t.x);Math.abs(Qt-Sr)>Math.pow(Math.E,-16)&&W.push.apply(W,["C",B.x+pt*4,B.y,2*Fe.x-b.x,2*Fe.y-b.y,b.x,b.y]),W.push("L ".concat(b.x," ").concat(b.y))}h.labelLine.path=W.join(" ")}}function Wu(h,f,t,c){var v,y,b=(0,D.hX)(h,function(Or){return!(0,D.UM)(Or)}),M=f[0]&&f[0].get("coordinate");if(M){var A=M.getCenter(),B=M.getRadius(),H={};try{for(var W=(0,U.XA)(f),Y=W.next();!Y.done;Y=W.next()){var Q=Y.value;H[Q.get("id")]=Q}}catch(Or){v={error:Or}}finally{try{Y&&!Y.done&&(y=W.return)&&y.call(W)}finally{if(v)throw v.error}}var te=(0,D.U2)(b[0],"labelHeight",14),he=(0,D.U2)(b[0],"offset",0);if(!(he<=0)){var Me="left",Fe="right",Qe=(0,D.vM)(b,function(Or){return Or.x<A.x?Me:Fe}),nt=M.start,pt=M.end,Qt=Math.min((B+he+te)*2,M.getHeight()),Sr=Qt/2,Mr={minX:nt.x,maxX:pt.x,minY:A.y-Sr,maxY:A.y+Sr};(0,D.S6)(Qe,function(Or,Xr){var tn=Math.floor(Qt/te);Or.length>tn&&(Or.sort(function(ti,ri){return ri.percent-ti.percent}),(0,D.S6)(Or,function(ti,ri){ri+1>tn&&(H[ti.id].set("visible",!1),ti.invisible=!0)})),YS(Or,te,Mr)}),(0,D.S6)(Qe,function(Or,Xr){(0,D.S6)(Or,function(tn){var ti=Xr===Fe,ri=H[tn.id],Yi=ri.getChildByIndex(0);if(Yi){var xa=B+he,vo=tn.y-A.y,_u=Math.pow(xa,2),ws=Math.pow(vo,2),Uu=_u-ws>0?_u-ws:0,Oo=Math.sqrt(Uu),Rc=Math.abs(Math.cos(tn.angle)*xa);ti?tn.x=A.x+Math.max(Oo,Rc):tn.x=A.x-Math.max(Oo,Rc)}Yi&&(Yi.attr("y",tn.y),Yi.attr("x",tn.x)),yw(tn,M)})})}}}var zm=4,uE=4,qC=4;function cE(h,f,t){var c=f.getCenter(),v=f.getRadius(),y={x:h.x-(t?qC:-qC),y:h.y},b=sl(c.x,c.y,v+zm,h.angle),M={x:y.x,y:y.y},A={x:b.x,y:b.y},B=sl(c.x,c.y,v,h.angle),H="";if(y.y!==b.y){var W=t?4:-4;M.y=y.y,h.angle<0&&h.angle>=-Math.PI/2&&(M.x=Math.max(b.x,y.x-W),y.y<b.y?A.y=M.y:(A.y=b.y,A.x=Math.max(A.x,M.x-W))),h.angle>0&&h.angle<Math.PI/2&&(M.x=Math.max(b.x,y.x-W),y.y>b.y?A.y=M.y:(A.y=b.y,A.x=Math.max(A.x,M.x-W))),h.angle>Math.PI/2&&(M.x=Math.min(b.x,y.x-W),y.y>b.y?A.y=M.y:(A.y=b.y,A.x=Math.min(A.x,M.x-W))),h.angle<-Math.PI/2&&(M.x=Math.min(b.x,y.x-W),y.y<b.y?A.y=M.y:(A.y=b.y,A.x=Math.min(A.x,M.x-W)))}H=["M ".concat(y.x,",").concat(y.y),"L ".concat(M.x,",").concat(M.y),"L ".concat(A.x,",").concat(A.y),"L ".concat(b.x,",").concat(b.y),"L ".concat(B.x,",").concat(B.y)].join(" "),h.labelLine=(0,D.b$)({},h.labelLine,{path:H})}function Wm(h,f,t,c){var v,y,b=f[0]&&f[0].get("coordinate");if(b){var M=b.getCenter(),A=b.getRadius(),B={};try{for(var H=(0,U.XA)(f),W=H.next();!W.done;W=H.next()){var Y=W.value;B[Y.get("id")]=Y}}catch(Or){v={error:Or}}finally{try{W&&!W.done&&(y=H.return)&&y.call(H)}finally{if(v)throw v.error}}var Q=(0,D.U2)(h[0],"labelHeight",14),te=Math.max((0,D.U2)(h[0],"offset",0),zm);(0,D.S6)(h,function(Or){if(Or){var Xr=(0,D.U2)(B,[Or.id]);if(Xr){var tn=Or.x>M.x||Or.x===M.x&&Or.y>M.y,ti=(0,D.UM)(Or.offsetX)?uE:Or.offsetX,ri=sl(M.x,M.y,A+zm,Or.angle),Yi=te+ti;Or.x=M.x+(tn?1:-1)*(A+Yi),Or.y=ri.y}}});var he=b.start,Me=b.end,Fe="left",Qe="right",nt=(0,D.vM)(h,function(Or){return Or.x<M.x?Fe:Qe}),pt=(A+te)*2+Q;(0,D.S6)(nt,function(Or){var Xr=Or.length*Q;Xr>pt&&(pt=Math.min(Xr,Math.abs(he.y-Me.y)))});var Qt={minX:he.x,maxX:Me.x,minY:M.y-pt/2,maxY:M.y+pt/2};(0,D.S6)(nt,function(Or,Xr){var tn=pt/Q;Or.length>tn&&(Or.sort(function(ti,ri){return ri.percent-ti.percent}),(0,D.S6)(Or,function(ti,ri){ri>tn&&(B[ti.id].set("visible",!1),ti.invisible=!0)})),YS(Or,Q,Qt)});var Sr=Qt.minY,Mr=Qt.maxY;(0,D.S6)(nt,function(Or,Xr){var tn=Xr===Qe;(0,D.S6)(Or,function(ti){var ri=(0,D.U2)(B,ti&&[ti.id]);if(ri){if(ti.y<Sr||ti.y>Mr){ri.set("visible",!1);return}var Yi=ri.getChildByIndex(0),xa=Yi.getCanvasBBox(),vo={x:tn?xa.x:xa.maxX,y:xa.y+xa.height/2};Qs(Yi,ti.x-vo.x,ti.y-vo.y),ti.labelLine&&cE(ti,b,tn)}})})}}function fE(h,f,t,c){(0,D.S6)(f,function(v){var y=c.minX,b=c.minY,M=c.maxX,A=c.maxY,B=v.getCanvasBBox(),H=B.minX,W=B.minY,Y=B.maxX,Q=B.maxY,te=B.x,he=B.y,Me=B.width,Fe=B.height,Qe=te,nt=he;(H<y||Y<y)&&(Qe=y),(W<b||Q<b)&&(nt=b),H>M?Qe=M-Me:Y>M&&(Qe=Qe-(Y-M)),W>A?nt=A-Fe:Q>A&&(nt=nt-(Q-A)),(Qe!==te||nt!==he)&&Qs(v,Qe-te,nt-he)})}function rl(h,f,t,c){(0,D.S6)(f,function(v,y){var b=v.getCanvasBBox(),M=t[y].getBBox();(b.minX<M.minX||b.minY<M.minY||b.maxX>M.maxX||b.maxY>M.maxY)&&v.remove(!0)})}var Cw=100,Xg=function(){function h(f){f===void 0&&(f={}),this.bitmap={};var t=f.xGap,c=t===void 0?1:t,v=f.yGap,y=v===void 0?8:v;this.xGap=c,this.yGap=y}return h.prototype.hasGap=function(f){for(var t=!0,c=this.bitmap,v=Math.round(f.minX),y=Math.round(f.maxX),b=Math.round(f.minY),M=Math.round(f.maxY),A=v;A<=y;A+=1){if(!c[A]){c[A]={};continue}if(A===v||A===y){for(var B=b;B<=M;B++)if(c[A][B]){t=!1;break}}else if(c[A][b]||c[A][M]){t=!1;break}}return t},h.prototype.fillGap=function(f){for(var t=this.bitmap,c=Math.round(f.minX),v=Math.round(f.maxX),y=Math.round(f.minY),b=Math.round(f.maxY),M=c;M<=v;M+=1)t[M]||(t[M]={});for(var M=c;M<=v;M+=this.xGap){for(var A=y;A<=b;A+=this.yGap)t[M][A]=!0;t[M][b]=!0}if(this.yGap!==1)for(var M=y;M<=b;M+=1)t[c][M]=!0,t[v][M]=!0;if(this.xGap!==1)for(var M=c;M<=v;M+=1)t[M][y]=!0,t[M][b]=!0},h.prototype.destroy=function(){this.bitmap={}},h}();function Gm(h,f,t){t===void 0&&(t=Cw);var c=-1,v=h.attr(),y=v.x,b=v.y,M=h.getCanvasBBox(),A=Math.sqrt(M.width*M.width+M.height*M.height),B,H=-c,W=0,Y=0,Q=function(Fe){var Qe=Fe*.1;return[Qe*Math.cos(Qe),Qe*Math.sin(Qe)]};if(f.hasGap(M))return f.fillGap(M),!0;for(var te=!1,he=0,Me={};Math.min(Math.abs(W),Math.abs(Y))<A&&he<t;)if(B=Q(H+=c),W=~~B[0],Y=~~B[1],!(!W&&!Y||Me["".concat(W,"-").concat(Y)])&&(h.attr({x:y+W,y:b+Y}),W+Y<0&&h.attr("textAlign","right"),he++,f.hasGap(h.getCanvasBBox()))){f.fillGap(h.getCanvasBBox()),te=!0,Me["".concat(W,"-").concat(Y)]=!0;break}return te}function bw(h,f,t,c){var v=h.getCanvasBBox(),y=v.width,b=v.height,M={x:f,y:t,textAlign:"center"};switch(c){case 0:M.y-=b+1,M.x+=1,M.textAlign="left";break;case 1:M.y-=b+1,M.x-=1,M.textAlign="right";break;case 2:M.y+=b+1,M.x-=1,M.textAlign="right";break;case 3:M.y+=b+1,M.x+=1,M.textAlign="left";break;case 5:M.y-=b*2+2;break;case 6:M.y+=b*2+2;break;case 7:M.x+=y+1,M.textAlign="left";break;case 8:M.x-=y+1,M.textAlign="right";break;default:break}return h.attr(M),h.getCanvasBBox()}function $m(h,f,t,c){var v=new Xg;(0,D.S6)(f,function(y){var b=y.find(function(M){return M.get("type")==="text"});Gm(b,v)||y.remove(!0)}),v.destroy()}function ww(h,f,t,c){var v=new Xg;(0,D.S6)(f,function(y){for(var b=y.find(function(Q){return Q.get("type")==="text"}),M=b.attr(),A=M.x,B=M.y,H=!1,W=0;W<=8;W++){var Y=bw(b,A,B,W);if(v.hasGap(Y)){v.fillGap(Y),H=!0;break}}H||y.remove(!0)}),v.destroy()}function Bf(h,f){return(h[0]||0)*(f[0]||0)+(h[1]||0)*(f[1]||0)+(h[2]||0)*(f[2]||0)}function VS(h){if(h.length>4)return[];var f=function(v,y){return[y.x-v.x,y.y-v.y]},t=f(h[0],h[1]),c=f(h[1],h[2]);return[t,c]}function mv(h,f,t){f===void 0&&(f=0),t===void 0&&(t={x:0,y:0});var c=h.x,v=h.y;return{x:(c-t.x)*Math.cos(-f)+(v-t.y)*Math.sin(-f)+t.x,y:(t.x-c)*Math.sin(-f)+(v-t.y)*Math.cos(-f)+t.y}}function xw(h){var f=[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}],t=h.rotation;return t?[mv(f[0],t,f[0]),mv(f[1],t,f[0]),mv(f[2],t,f[0]),mv(f[3],t,f[0])]:f}function _p(h,f){if(h.length>4)return{min:0,max:0};var t=[];return h.forEach(function(c){t.push(Bf([c.x,c.y],f))}),{min:Math.min.apply(Math,(0,U.ev)([],(0,U.CR)(t),!1)),max:Math.max.apply(Math,(0,U.ev)([],(0,U.CR)(t),!1))}}function Gu(h,f){return h.max>f.min&&h.min<f.max}function wh(h){return typeof h=="number"&&!Number.isNaN(h)&&h!==1/0&&h!==-1/0}function Sw(h){return["x","y","width","height"].every(function(f){return wh(h[f])})}function _w(h,f,t){return t===void 0&&(t=0),!(f.x>h.x+h.width+t||f.x+f.width<h.x-t||f.y>h.y+h.height+t||f.y+f.height<h.y-t)}function QC(h,f,t){if(t===void 0&&(t=0),!Sw(h)||!Sw(f))return!1;if(!h.rotation&&!f.rotation)return _w(h,f,t);for(var c=xw(h),v=xw(f),y=VS(c).concat(VS(v)),b=0;b<y.length;b++){var M=y[b],A=_p(c,M),B=_p(v,M);if(!Gu(A,B))return!1}return!0}var Ew=function(){function h(f){var t=this;this.queue=[],this.worker=new Worker(f),this.worker.onmessage=function(c){var v;(v=t.queue.shift())===null||v===void 0||v.resolve(c)},this.worker.onmessageerror=function(c){var v;console.warn("[AntV G2] Web worker is not available"),(v=t.queue.shift())===null||v===void 0||v.reject(c)}}return h.prototype.post=function(f,t){var c=this;return new Promise(function(v,y){c.queue.push({resolve:v,reject:y});try{c.worker.postMessage(f)}catch(b){console.warn("[AntV G2] Web worker is not available"),(0,D.mf)(t)&&t()}})},h.prototype.destroy=function(){this.worker.terminate()},h}();function JC(h){if(typeof window!="undefined"){var f;try{f=new Blob([h.toString()],{type:"application/javascript"})}catch(t){f=new window.BlobBuilder,f.append(h.toString()),f=f.getBlob()}return new Ew(URL.createObjectURL(f))}}var Mw=function(h){function f(){function B(nt,pt){return(nt[0]||0)*(pt[0]||0)+(nt[1]||0)*(pt[1]||0)+(nt[2]||0)*(pt[2]||0)}function H(nt){if(nt.length>4)return[];var pt=function(Mr,Or){return[Or.x-Mr.x,Or.y-Mr.y]},Qt=pt(nt[0],nt[1]),Sr=pt(nt[1],nt[2]);return[Qt,Sr]}function W(nt,pt,Qt){pt===void 0&&(pt=0),Qt===void 0&&(Qt={x:0,y:0});var Sr=nt.x,Mr=nt.y;return{x:(Sr-Qt.x)*Math.cos(-pt)+(Mr-Qt.y)*Math.sin(-pt)+Qt.x,y:(Qt.x-Sr)*Math.sin(-pt)+(Mr-Qt.y)*Math.cos(-pt)+Qt.y}}function Y(nt){var pt=[{x:nt.x,y:nt.y},{x:nt.x+nt.width,y:nt.y},{x:nt.x+nt.width,y:nt.y+nt.height},{x:nt.x,y:nt.y+nt.height}],Qt=nt.rotation;return Qt?[W(pt[0],Qt,pt[0]),W(pt[1],Qt,pt[0]),W(pt[2],Qt,pt[0]),W(pt[3],Qt,pt[0])]:pt}function Q(nt,pt){if(nt.length>4)return{min:0,max:0};var Qt=[];return nt.forEach(function(Sr){Qt.push(B([Sr.x,Sr.y],pt))}),{min:Math.min.apply(null,Qt),max:Math.max.apply(null,Qt)}}function te(nt,pt){return nt.max>pt.min&&nt.min<pt.max}function he(nt){return typeof nt=="number"&&!Number.isNaN(nt)&&nt!==1/0&&nt!==-1/0}function Me(nt){return["x","y","width","height"].every(function(pt){return he(nt[pt])})}function Fe(nt,pt,Qt){return Qt===void 0&&(Qt=0),!(pt.x>nt.x+nt.width+Qt||pt.x+pt.width<nt.x-Qt||pt.y>nt.y+nt.height+Qt||pt.y+pt.height<nt.y-Qt)}function Qe(nt,pt,Qt){if(Qt===void 0&&(Qt=0),!Me(nt)||!Me(pt))return!1;if(!nt.rotation&&!pt.rotation)return Fe(nt,pt,Qt);for(var Sr=Y(nt),Mr=Y(pt),Or=H(Sr).concat(H(Mr)),Xr=0;Xr<Or.length;Xr++){var tn=Or[Xr],ti=Q(Sr,tn),ri=Q(Mr,tn);if(!te(ti,ri))return!1}return!0}return{intersect:Qe}}var t=f().intersect;function c(B){for(var H=B.slice(),W=0;W<H.length;W++){var Y=H[W];if(Y.visible)for(var Q=W+1;Q<H.length;Q++){var te=H[Q];Y!==te&&te.visible&&t(Y,te)&&(te.visible=!1)}}return H}var v={"hide-overlap":c};try{var y=JSON.parse(h.data);if(!y||!y.type||!v[y.type])return;var b=y.type,M=y.items,A=v[b](M);self.postMessage(A)}catch(B){throw B}},XS=`
   self.onmessage = `.concat(Mw.toString(),`
`),Tw=function(h){for(var f=h.slice(),t=0;t<f.length;t++){var c=f[t];if(c.visible)for(var v=t+1;v<f.length;v++){var y=f[v];c!==y&&y.visible&&QC(c,y)&&(y.visible=!1)}}return f},Ep=new Map,Ow=JC(XS);function Um(h,f,t,c){return(0,U.mG)(this,void 0,void 0,function(){var v,y,b,M,A,B;return(0,U.Jh)(this,function(H){switch(H.label){case 0:return v=f.map(function(W,Y){return(0,U.pi)((0,U.pi)({},wb(W,h[Y],(0,D.U2)(h[Y],"background.padding"))),{visible:!0})}),y=JSON.stringify(v),b=function(W){return Ep.set(y,W),(0,D.S6)(W,function(Y,Q){var te=Y.visible,he=f[Q];te?he==null||he.show():he==null||he.hide()}),W},Ep.get(y)?(b(Ep.get(y)),[3,7]):[3,1];case 1:if(!Ow)return[3,6];H.label=2;case 2:return H.trys.push([2,4,,5]),M=JSON.stringify({type:"hide-overlap",items:v}),[4,Ow.post(M,function(){return b(Tw(v))})];case 3:return A=H.sent(),b(Array.isArray(A.data)?A.data:[]),[3,5];case 4:return B=H.sent(),console.error(B),b(Tw(v)),[3,5];case 5:return[3,7];case 6:b(Tw(v)),H.label=7;case 7:return[2]}})})}var Aw={"#5B8FF9":!0},Ym=function(h){var f=oa.Z.toRGB(h).toUpperCase();if(Aw[f])return Aw[f];var t=(0,U.CR)(oa.Z.rgb2arr(f),3),c=t[0],v=t[1],y=t[2],b=(c*299+v*587+y*114)/1e3<128;return b};function hE(h,f,t){if(t.length!==0){var c=t[0].get("element"),v=c.geometry.theme,y=v.labels||{},b=y.fillColorLight,M=y.fillColorDark;t.forEach(function(A,B){var H=f[B],W=H.find(function(Fe){return Fe.get("type")==="text"}),Y=ul.fromObject(A.getBBox()),Q=ul.fromObject(W.getCanvasBBox()),te=!Y.contains(Q),he=A.attr("fill"),Me=Ym(he);te?W.attr(v.overflowLabels.style):Me?b&&W.attr("fill",b):M&&W.attr("fill",M)})}}function dE(h,f,t){var c=h.coordinate,v=xc(f),y=ul.fromObject(v.getCanvasBBox()),b=ul.fromObject(t.getBBox());return c.isTransposed?b.height>=y.height:b.width>=y.width}function ZS(h,f,t){var c=!!h.getAdjust("stack");return c||f.every(function(v,y){var b=t[y];return dE(h,v,b)})}function KS(h,f,t){var c=h.coordinate,v=ul.fromObject(t.getBBox()),y=xc(f);c.isTransposed?y.attr({x:v.minX+v.width/2,textAlign:"center"}):y.attr({y:v.minY+v.height/2,textBaseline:"middle"})}function vE(h,f,t){var c;if(t.length!==0){var v=(c=t[0])===null||c===void 0?void 0:c.get("element"),y=v==null?void 0:v.geometry;if(!(!y||y.type!=="interval")){var b=ZS(y,f,t);b&&t.forEach(function(M,A){var B=f[A];KS(y,B,M)})}}}function pE(h){var f=500,t=[],c=Math.max(Math.floor(h.length/f),1);return(0,D.S6)(h,function(v,y){y%c===0?t.push(v):v.set("visible",!1)}),t}function qS(h,f,t){var c;if(t.length!==0){var v=(c=t[0])===null||c===void 0?void 0:c.get("element"),y=v==null?void 0:v.geometry;if(!(!y||y.type!=="interval")){var b=pE(f),M=(0,U.CR)(y.getXYFields(),1),A=M[0],B=[],H=[],W=(0,D.vM)(b,function(Me){return Me.get("data")[A]}),Y=(0,D.jj)((0,D.UI)(b,function(Me){return Me.get("data")[A]})),Q;b.forEach(function(Me){Me.set("visible",!0)});var te=function(Me){Me&&(Me.length&&H.push(Me.pop()),H.push.apply(H,(0,U.ev)([],(0,U.CR)(Me),!1)))};for((0,D.dp)(Y)>0&&(Q=Y.shift(),te(W[Q])),(0,D.dp)(Y)>0&&(Q=Y.pop(),te(W[Q])),(0,D.S6)(Y.reverse(),function(Me){te(W[Me])});H.length>0;){var he=H.shift();he.get("visible")&&(Zx(he,B)?he.set("visible",!1):B.push(he))}}}}function gE(h,f){var t=h.getXYFields()[1],c=[],v=f.sort(function(y,b){return y.get("data")[t]-y.get("data")[t]});return v.length>0&&c.push(v.shift()),v.length>0&&c.push(v.pop()),c.push.apply(c,(0,U.ev)([],(0,U.CR)(v),!1)),c}function QS(h,f,t){return h.some(function(c){return t(c,f)})}function e1(h,f,t){t===void 0&&(t=0);var c=Math.max(0,Math.min(h.x+h.width+t,f.x+f.width+t)-Math.max(h.x-t,f.x-t)),v=Math.max(0,Math.min(h.y+h.height+t,f.y+f.height+t)-Math.max(h.y-t,f.y-t));return c*v}function Iw(h,f){return QS(h,f,function(t,c){var v=xc(t),y=xc(c);return e1(v.getCanvasBBox(),y.getCanvasBBox(),2)>0})}function JS(h,f,t,c,v){var y,b;if(t.length!==0){var M=(y=t[0])===null||y===void 0?void 0:y.get("element"),A=M==null?void 0:M.geometry;if(!(!A||A.type!=="point")){var B=(0,U.CR)(A.getXYFields(),2),H=B[0],W=B[1],Y=(0,D.vM)(f,function(he){return he.get("data")[H]}),Q=[],te=v&&v.offset||((b=h[0])===null||b===void 0?void 0:b.offset)||12;(0,D.UI)((0,D.XP)(Y).reverse(),function(he){for(var Me=gE(A,Y[he]);Me.length;){var Fe=Me.shift(),Qe=xc(Fe);if(QS(Q,Fe,function(Qt,Sr){return Qt.get("data")[H]===Sr.get("data")[H]&&Qt.get("data")[W]===Sr.get("data")[W]})){Qe.set("visible",!1);continue}var nt=Iw(Q,Fe),pt=!1;if(nt&&(Qe.attr("y",Qe.attr("y")+2*te),pt=Iw(Q,Fe)),pt){Qe.set("visible",!1);continue}Q.push(Fe)}})}}}function mE(h,f){var t=h.getXYFields()[1],c=[],v=f.sort(function(y,b){return y.get("data")[t]-y.get("data")[t]});return v.length>0&&c.push(v.shift()),v.length>0&&c.push(v.pop()),c.push.apply(c,(0,U.ev)([],(0,U.CR)(v),!1)),c}function e2(h,f,t){return h.some(function(c){return t(c,f)})}function yE(h,f,t){t===void 0&&(t=0);var c=Math.max(0,Math.min(h.x+h.width+t,f.x+f.width+t)-Math.max(h.x-t,f.x-t)),v=Math.max(0,Math.min(h.y+h.height+t,f.y+f.height+t)-Math.max(h.y-t,f.y-t));return c*v}function yv(h,f){return e2(h,f,function(t,c){var v=xc(t),y=xc(c);return yE(v.getCanvasBBox(),y.getCanvasBBox(),2)>0})}function CE(h,f,t,c,v){var y,b;if(t.length!==0){var M=(y=t[0])===null||y===void 0?void 0:y.get("element"),A=M==null?void 0:M.geometry;if(!(!A||["path","line","area"].indexOf(A.type)<0)){var B=(0,U.CR)(A.getXYFields(),2),H=B[0],W=B[1],Y=(0,D.vM)(f,function(he){return he.get("data")[H]}),Q=[],te=v&&v.offset||((b=h[0])===null||b===void 0?void 0:b.offset)||12;(0,D.UI)((0,D.XP)(Y).reverse(),function(he){for(var Me=mE(A,Y[he]);Me.length;){var Fe=Me.shift(),Qe=xc(Fe);if(e2(Q,Fe,function(Qt,Sr){return Qt.get("data")[H]===Sr.get("data")[H]&&Qt.get("data")[W]===Sr.get("data")[W]})){Qe.set("visible",!1);continue}var nt=yv(Q,Fe),pt=!1;if(nt&&(Qe.attr("y",Qe.attr("y")+2*te),pt=yv(Q,Fe)),pt){Qe.set("visible",!1);continue}Q.push(Fe)}})}}}var Rw;function bE(){return Rw||(Rw=document.createElement("canvas").getContext("2d")),Rw}var jm=(0,D.HP)(function(h,f){f===void 0&&(f={});var t=f.fontSize,c=f.fontFamily,v=f.fontWeight,y=f.fontStyle,b=f.fontVariant,M=bE();return M.font=[y,b,v,"".concat(t,"px"),c].join(" "),M.measureText((0,D.HD)(h)?h:"").width},function(h,f){return f===void 0&&(f={}),(0,U.ev)([h],(0,U.CR)((0,D.VO)(f)),!1).join("")}),Dw=function(h,f,t){var c=16,v=jm("...",t),y;(0,D.HD)(h)?y=h:y=(0,D.BB)(h);var b=f,M=[],A,B;if(jm(h,t)<=f)return h;for(;A=y.substr(0,c),B=jm(A,t),!(B+v>b&&B>b);)if(M.push(A),b-=B,y=y.substr(c),!y)return M.join("");for(;A=y.substr(0,1),B=jm(A,t),!(B+v>b);)if(M.push(A),b-=B,y=y.substr(1),!y)return M.join("");return"".concat(M.join(""),"...")};function wE(h,f,t,c,v){if(!(f.length<=0)){var y=(v==null?void 0:v.direction)||["top","right","bottom","left"],b=(v==null?void 0:v.action)||"translate",M=(v==null?void 0:v.margin)||0,A=f[0].get("coordinate");if(A){var B=c_(A,M),H=B.minX,W=B.minY,Y=B.maxX,Q=B.maxY;(0,D.S6)(f,function(te){var he=te.getCanvasBBox(),Me=he.minX,Fe=he.minY,Qe=he.maxX,nt=he.maxY,pt=he.x,Qt=he.y,Sr=he.width,Mr=he.height,Or=pt,Xr=Qt;if(y.indexOf("left")>=0&&(Me<H||Qe<H)&&(Or=H),y.indexOf("top")>=0&&(Fe<W||nt<W)&&(Xr=W),y.indexOf("right")>=0&&(Me>Y?Or=Y-Sr:Qe>Y&&(Or=Or-(Qe-Y))),y.indexOf("bottom")>=0&&(Fe>Q?Xr=Q-Mr:nt>Q&&(Xr=Xr-(nt-Q))),Or!==pt||Xr!==Qt){var tn=Or-pt;if(b==="translate")Qs(te,tn,Xr-Qt);else if(b==="ellipsis"){var ti=te.findAll(function(ri){return ri.get("type")==="text"});ti.forEach(function(ri){var Yi=(0,D.ei)(ri.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),xa=ri.getCanvasBBox(),vo=Dw(ri.attr("text"),xa.width-Math.abs(tn),Yi);ri.attr("text",vo)})}else te.hide()}})}}}function t1(h,f,t){var c={fillOpacity:(0,D.UM)(h.attr("fillOpacity"))?1:h.attr("fillOpacity"),strokeOpacity:(0,D.UM)(h.attr("strokeOpacity"))?1:h.attr("strokeOpacity"),opacity:(0,D.UM)(h.attr("opacity"))?1:h.attr("opacity")};h.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),h.animate(c,f)}function Lw(h,f,t){var c={fillOpacity:0,strokeOpacity:0,opacity:0},v=f.easing,y=f.duration,b=f.delay;h.animate(c,y,v,function(){h.remove(!0)},b)}function t2(h,f,t){var c,v=(0,U.CR)(f,2),y=v[0],b=v[1];return h.applyToMatrix([y,b,1]),t==="x"?(h.setMatrix(Pa.vs(h.getMatrix(),[["t",-y,-b],["s",.01,1],["t",y,b]])),c=Pa.vs(h.getMatrix(),[["t",-y,-b],["s",100,1],["t",y,b]])):t==="y"?(h.setMatrix(Pa.vs(h.getMatrix(),[["t",-y,-b],["s",1,.01],["t",y,b]])),c=Pa.vs(h.getMatrix(),[["t",-y,-b],["s",1,100],["t",y,b]])):t==="xy"&&(h.setMatrix(Pa.vs(h.getMatrix(),[["t",-y,-b],["s",.01,.01],["t",y,b]])),c=Pa.vs(h.getMatrix(),[["t",-y,-b],["s",100,100],["t",y,b]])),c}function Cv(h,f,t,c,v){var y=t.start,b=t.end,M=t.getWidth(),A=t.getHeight(),B,H;v==="y"?(B=y.x+M/2,H=c.y<y.y?c.y:y.y):v==="x"?(B=c.x>y.x?c.x:y.x,H=y.y+A/2):v==="xy"&&(t.isPolar?(B=t.getCenter().x,H=t.getCenter().y):(B=(y.x+b.x)/2,H=(y.y+b.y)/2));var W=t2(h,[B,H],v);h.animate({matrix:W},f)}function xE(h,f,t){var c=t.coordinate,v=t.minYPoint;Cv(h,f,c,v,"x")}function r1(h,f,t){var c=t.coordinate,v=t.minYPoint;Cv(h,f,c,v,"y")}function n1(h,f,t){var c=t.coordinate,v=t.minYPoint;Cv(h,f,c,v,"xy")}function SE(h,f,t){var c=h.getTotalLength();h.attr("lineDash",[c]),h.animate(function(v){return{lineDashOffset:(1-v)*c}},f)}function r2(h,f,t){var c=t.toAttrs,v=c.x,y=c.y;delete c.x,delete c.y,h.attr(c),h.animate({x:v,y},f)}function _E(h,f,t){var c=h.getBBox(),v=h.get("origin").mappingData,y=v.points,b=y[0].y-y[1].y>0?c.maxX:c.minX,M=(c.minY+c.maxY)/2;h.applyToMatrix([b,M,1]);var A=Pa.vs(h.getMatrix(),[["t",-b,-M],["s",.01,1],["t",b,M]]);h.setMatrix(A),h.animate({matrix:Pa.vs(h.getMatrix(),[["t",-b,-M],["s",100,1],["t",b,M]])},f)}function Zg(h,f,t){var c=h.getBBox(),v=h.get("origin").mappingData,y=(c.minX+c.maxX)/2,b=v.points,M=b[0].y-b[1].y<=0?c.maxY:c.minY;h.applyToMatrix([y,M,1]);var A=Pa.vs(h.getMatrix(),[["t",-y,-M],["s",1,.01],["t",y,M]]);h.setMatrix(A),h.animate({matrix:Pa.vs(h.getMatrix(),[["t",-y,-M],["s",1,100],["t",y,M]])},f)}function n2(h,f){var t,c=Tg(h,f),v=c.startAngle,y=c.endAngle;return!(0,D.vQ)(v,-Math.PI*.5)&&v<-Math.PI*.5&&(v+=Math.PI*2),!(0,D.vQ)(y,-Math.PI*.5)&&y<-Math.PI*.5&&(y+=Math.PI*2),f[5]===0&&(t=(0,U.CR)([y,v],2),v=t[0],y=t[1]),(0,D.vQ)(v,Math.PI*1.5)&&(v=Math.PI*-.5),(0,D.vQ)(y,Math.PI*-.5)&&!(0,D.vQ)(v,y)&&(y=Math.PI*1.5),{startAngle:v,endAngle:y}}function Pw(h){var f;return h[0]==="M"||h[0]==="L"?f=[h[1],h[2]]:(h[0]==="a"||h[0]==="A"||h[0]==="C")&&(f=[h[h.length-2],h[h.length-1]]),f}function Bw(h){var f,t,c,v=h.filter(function(nt){return nt[0]==="A"||nt[0]==="a"});if(v.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var y=v[0],b=v.length>1?v[1]:v[0],M=h.indexOf(y),A=h.indexOf(b),B=Pw(h[M-1]),H=Pw(h[A-1]),W=n2(B,y),Y=W.startAngle,Q=W.endAngle,te=n2(H,b),he=te.startAngle,Me=te.endAngle;(0,D.vQ)(Y,he)&&(0,D.vQ)(Q,Me)?(t=Y,c=Q):(t=Math.min(Y,he),c=Math.max(Q,Me));var Fe=y[1],Qe=v[v.length-1][1];return Fe<Qe?(f=(0,U.CR)([Qe,Fe],2),Fe=f[0],Qe=f[1]):Fe===Qe&&(Qe=0),{startAngle:t,endAngle:c,radius:Fe,innerRadius:Qe}}function Vm(h,f,t){var c=t.toAttrs,v=t.coordinate,y=c.path||[],b=y.map(function(Qe){return Qe[0]});if(!(y.length<1)){var M=Bw(y),A=M.startAngle,B=M.endAngle,H=M.radius,W=M.innerRadius,Y=Bw(h.attr("path")),Q=Y.startAngle,te=Y.endAngle,he=v.getCenter(),Me=A-Q,Fe=B-te;if(Me===0&&Fe===0){h.attr(c);return}h.animate(function(Qe){var nt=Q+Qe*Me,pt=te+Qe*Fe;return(0,U.pi)((0,U.pi)({},c),{path:(0,D.Xy)(b,["M","A","A","Z"])?ib(he.x,he.y,H,nt,pt):eh(he.x,he.y,H,nt,pt,W)})},(0,U.pi)((0,U.pi)({},f),{callback:function(){h.attr("path",y),(0,D.mf)(f.callback)&&f.callback()}}))}}function i1(h,f,t){var c=ab(t.coordinate,20),v=c.type,y=c.startState,b=c.endState,M=h.setClip({type:v,attrs:y});t.toAttrs&&h.attr(t.toAttrs),M.animate(b,(0,U.pi)((0,U.pi)({},f),{callback:function(){h&&!h.get("destroyed")&&h.set("clipShape",null),M.remove(!0),(0,D.mf)(f.callback)&&f.callback()}}))}function kw(h,f,t){if(h.isGroup())(0,D.S6)(h.getChildren(),function(M){kw(M,f,t)});else{var c=h.getBBox(),v=(c.minX+c.maxX)/2,y=(c.minY+c.maxY)/2;if(h.applyToMatrix([v,y,1]),t==="zoomIn"){var b=Pa.vs(h.getMatrix(),[["t",-v,-y],["s",.01,.01],["t",v,y]]);h.setMatrix(b),h.animate({matrix:Pa.vs(h.getMatrix(),[["t",-v,-y],["s",100,100],["t",v,y]])},f)}else h.animate({matrix:Pa.vs(h.getMatrix(),[["t",-v,-y],["s",.01,.01],["t",v,y]])},(0,U.pi)((0,U.pi)({},f),{callback:function(){h.remove(!0),(0,D.mf)(f.callback)&&f.callback()}}))}}function a1(h,f,t){kw(h,f,"zoomIn")}function i2(h,f,t){kw(h,f,"zoomOut")}function bd(h){return[lt.TOP,lt.BOTTOM].includes(h)?{offsetX:0,offsetY:h===lt.TOP?-8:8,style:{textAlign:"center",textBaseline:h===lt.TOP?"bottom":"top"}}:[lt.LEFT,lt.RIGHT].includes(h)?{offsetX:h===lt.LEFT?-8:8,offsetY:0,style:{textAlign:h===lt.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Fw(h,f,t){return{x:h.x+f*Math.cos(t),y:h.y+f*Math.sin(t)}}var Nw=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){return(0,D.b$)({},h.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:h.prototype.getDefaultTitleCfg.call(this)})},f.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},f.prototype.getRegion=function(t,c){var v=.5,y={x:.5,y:.5},b=Math.PI*2/t,M=-1*Math.PI/2+b*c,A=v/(1+1/Math.sin(b/2)),B=Fw(y,v-A,M),H=Math.PI*5/4,W=Math.PI*1/4;return{start:Fw(B,A,H),end:Fw(B,A,W)}},f.prototype.afterEachView=function(t,c){this.processAxis(t,c)},f.prototype.beforeEachView=function(t,c){},f.prototype.generateFacets=function(t){var c=this,v=this.cfg,y=v.fields,b=v.type,M=(0,U.CR)(y,1),A=M[0];if(!A)throw new Error("No `fields` specified!");var B=this.getFieldValues(t,A),H=B.length,W=[];return B.forEach(function(Y,Q){var te=[{field:A,value:Y,values:B}],he=(0,D.hX)(t,c.getFacetDataFilter(te)),Me={type:b,data:he,region:c.getRegion(H,Q),columnValue:Y,columnField:A,columnIndex:Q,columnValuesLength:H,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};W.push(Me)}),W},f.prototype.getXAxisOption=function(t,c,v,y){return v},f.prototype.getYAxisOption=function(t,c,v,y){return v},f.prototype.renderTitle=function(){var t=this;(0,D.S6)(this.facets,function(c){var v=c.columnValue,y=c.view,b=(0,D.U2)(t.cfg.title,"formatter"),M=(0,D.b$)({position:["50%","0%"],content:b?b(v):v},bd(lt.TOP),t.cfg.title);y.annotation().text(M)})},f}(Wl),EE=Nw,Hw=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){return(0,D.b$)({},h.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:h.prototype.getDefaultTitleCfg.call(this)})},f.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},f.prototype.afterEachView=function(t,c){this.processAxis(t,c)},f.prototype.beforeEachView=function(t,c){},f.prototype.generateFacets=function(t){var c=this,v=this.cfg.fields,y=this.cfg.cols,b=(0,U.CR)(v,1),M=b[0];if(!M)throw new Error("No `fields` specified!");var A=this.getFieldValues(t,M),B=A.length;y=y||B;var H=this.getPageCount(B,y),W=[];return A.forEach(function(Y,Q){var te=c.getRowCol(Q,y),he=te.row,Me=te.col,Fe=[{field:M,value:Y,values:A}],Qe=(0,D.hX)(t,c.getFacetDataFilter(Fe)),nt={type:c.cfg.type,data:Qe,region:c.getRegion(H,y,Me,he),columnValue:Y,rowValue:Y,columnField:M,rowField:null,columnIndex:Me,rowIndex:he,columnValuesLength:y,rowValuesLength:H,total:B};W.push(nt)}),W},f.prototype.getXAxisOption=function(t,c,v,y){return y.rowIndex!==y.rowValuesLength-1&&y.columnValuesLength*y.rowIndex+y.columnIndex+1+y.columnValuesLength<=y.total?(0,U.pi)((0,U.pi)({},v),{label:null,title:null}):v},f.prototype.getYAxisOption=function(t,c,v,y){return y.columnIndex!==0?(0,U.pi)((0,U.pi)({},v),{title:null,label:null}):v},f.prototype.renderTitle=function(){var t=this;(0,D.S6)(this.facets,function(c){var v=c.columnValue,y=c.view,b=(0,D.U2)(t.cfg.title,"formatter"),M=(0,D.b$)({position:["50%","0%"],content:b?b(v):v},bd(lt.TOP),t.cfg.title);y.annotation().text(M)})},f.prototype.getPageCount=function(t,c){return Math.floor((t+c-1)/c)},f.prototype.getRowCol=function(t,c){var v=Math.floor(t/c),y=t%c;return{row:v,col:y}},f}(Wl),Xm=Hw,zw=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){return(0,D.b$)({},h.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,U.pi)({},h.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,U.pi)({},h.prototype.getDefaultTitleCfg.call(this))})},f.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},f.prototype.afterEachView=function(t,c){this.processAxis(t,c)},f.prototype.beforeEachView=function(t,c){},f.prototype.generateFacets=function(t){for(var c=this.cfg,v=c.fields,y=c.type,b=v.length,M=b,A=[],B=0;B<M;B++)for(var H=v[B],W=0;W<b;W++){var Y=v[W],Q={type:y,data:t,region:this.getRegion(b,M,B,W),columnValue:H,rowValue:Y,columnField:H,rowField:Y,columnIndex:B,rowIndex:W,columnValuesLength:M,rowValuesLength:b};A.push(Q)}return A},f.prototype.getXAxisOption=function(t,c,v,y){return y.rowIndex!==y.rowValuesLength-1?(0,U.pi)((0,U.pi)({},v),{label:null,title:null}):v},f.prototype.getYAxisOption=function(t,c,v,y){return y.columnIndex!==0?(0,U.pi)((0,U.pi)({},v),{title:null,label:null}):v},f.prototype.renderTitle=function(){var t=this;(0,D.S6)(this.facets,function(c,v){var y=c.columnIndex,b=c.rowIndex,M=c.columnValuesLength,A=c.rowValuesLength,B=c.columnValue,H=c.rowValue,W=c.view;if(b===0){var Y=(0,D.U2)(t.cfg.columnTitle,"formatter"),Q=(0,D.b$)({position:["50%","0%"],content:Y?Y(B):B},bd(lt.TOP),t.cfg.columnTitle);W.annotation().text(Q)}if(y===M-1){var Y=(0,D.U2)(t.cfg.rowTitle,"formatter"),Q=(0,D.b$)({position:["100%","50%"],content:Y?Y(H):H},bd(lt.RIGHT),t.cfg.rowTitle);W.annotation().text(Q)}})},f}(Wl),a2=zw,ME=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getDefaultCfg=function(){return(0,D.b$)({},h.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:h.prototype.getDefaultTitleCfg.call(this),transpose:!1})},f.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},f.prototype.beforeEachView=function(t,c){this.cfg.transpose?c.columnIndex%2===0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():c.rowIndex%2!==0&&t.coordinate().reflect("y")},f.prototype.afterEachView=function(t,c){this.processAxis(t,c)},f.prototype.generateFacets=function(t){var c=this,v=(0,U.CR)(this.cfg.fields,1),y=v[0],b=[],M=1,A=1,B=[""],H=[""],W,Y;return this.cfg.transpose?(W=y,B=this.getFieldValues(t,W).slice(0,2),M=B.length):(Y=y,H=this.getFieldValues(t,Y).slice(0,2),A=H.length),B.forEach(function(Q,te){H.forEach(function(he,Me){var Fe=[{field:W,value:Q,values:B},{field:Y,value:he,values:H}],Qe=(0,D.hX)(t,c.getFacetDataFilter(Fe)),nt={type:c.cfg.type,data:Qe,region:c.getRegion(A,M,te,Me),columnValue:Q,rowValue:he,columnField:W,rowField:Y,columnIndex:te,rowIndex:Me,columnValuesLength:M,rowValuesLength:A};b.push(nt)})}),b},f.prototype.getXAxisOption=function(t,c,v,y){return y.columnIndex===1||y.rowIndex===1?(0,U.pi)((0,U.pi)({},v),{label:null,title:null}):v},f.prototype.getYAxisOption=function(t,c,v,y){return v},f.prototype.renderTitle=function(){var t=this;(0,D.S6)(this.facets,function(c,v){var y=c.columnValue,b=c.rowValue,M=c.view,A=(0,D.U2)(t.cfg.title,"formatter");if(t.cfg.transpose){var B=(0,D.b$)({position:["50%","0%"],content:A?A(y):y},bd(lt.TOP),t.cfg.title);M.annotation().text(B)}else{var B=(0,D.b$)({position:["100%","50%"],content:A?A(b):b},bd(lt.RIGHT),t.cfg.title);M.annotation().text(B)}})},f}(Wl),TE=ME,OE=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.afterEachView=function(t,c){this.processAxis(t,c)},f.prototype.beforeEachView=function(t,c){},f.prototype.getDefaultCfg=function(){return(0,D.b$)({},h.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,U.pi)({},h.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,U.pi)({},h.prototype.getDefaultTitleCfg.call(this))})},f.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},f.prototype.generateFacets=function(t){var c=this,v=(0,U.CR)(this.cfg.fields,2),y=v[0],b=v[1],M=[],A=1,B=1,H=[""],W=[""];return y&&(H=this.getFieldValues(t,y),A=H.length),b&&(W=this.getFieldValues(t,b),B=W.length),H.forEach(function(Y,Q){W.forEach(function(te,he){var Me=[{field:y,value:Y,values:H},{field:b,value:te,values:W}],Fe=(0,D.hX)(t,c.getFacetDataFilter(Me)),Qe={type:c.cfg.type,data:Fe,region:c.getRegion(B,A,Q,he),columnValue:Y,rowValue:te,columnField:y,rowField:b,columnIndex:Q,rowIndex:he,columnValuesLength:A,rowValuesLength:B};M.push(Qe)})}),M},f.prototype.renderTitle=function(){var t=this;(0,D.S6)(this.facets,function(c,v){var y=c.columnIndex,b=c.rowIndex,M=c.columnValuesLength,A=c.columnValue,B=c.rowValue,H=c.view;if(b===0){var W=(0,D.U2)(t.cfg.columnTitle,"formatter"),Y=(0,D.b$)({position:["50%","0%"],content:W?W(A):A},bd(lt.TOP),t.cfg.columnTitle);H.annotation().text(Y)}if(y===M-1){var W=(0,D.U2)(t.cfg.rowTitle,"formatter"),Y=(0,D.b$)({position:["100%","50%"],content:W?W(B):B},bd(lt.RIGHT),t.cfg.rowTitle);H.annotation().text(Y)}})},f.prototype.getXAxisOption=function(t,c,v,y){return y.rowIndex!==y.rowValuesLength-1?(0,U.pi)((0,U.pi)({},v),{title:null,label:null}):y.columnIndex!==Math.floor((y.columnValuesLength-1)/2)?(0,U.pi)((0,U.pi)({},v),{title:null}):v},f.prototype.getYAxisOption=function(t,c,v,y){return y.columnIndex!==0?(0,U.pi)((0,U.pi)({},v),{title:null,label:null}):y.rowIndex!==Math.floor((y.rowValuesLength-1)/2)?(0,U.pi)((0,U.pi)({},v),{title:null}):v},f}(Wl),AE=OE,IE=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return f.prototype.afterEachView=function(t,c){this.processAxis(t,c)},f.prototype.beforeEachView=function(t,c){},f.prototype.init=function(){h.prototype.init.call(this),this.view.on(tr.AFTER_RENDER,this.afterChartRender)},f.prototype.getDefaultCfg=function(){return(0,D.b$)({},h.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:h.prototype.getDefaultTitleCfg.call(this)})},f.prototype.generateFacets=function(t){var c=this.cfg.fields;if(!c.length)throw new Error("Please specify for the fields for rootFacet!");var v=[],y={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return v.push(y),y.children=this.getChildFacets(t,1,v),this.setRegion(v),v},f.prototype.setRegion=function(t){var c=this;this.forceColIndex(t),t.forEach(function(v){v.region=c.getRegion(v.rowValuesLength,v.columnValuesLength,v.columnIndex,v.rowIndex)})},f.prototype.getRegion=function(t,c,v,y){var b=1/c,M=1/t,A={x:b*v,y:M*y},B={x:A.x+b,y:A.y+M*2/3};return{start:A,end:B}},f.prototype.forceColIndex=function(t){var c,v,y=this,b=[],M=0;t.forEach(function(te){y.isLeaf(te)&&(b.push(te),te.columnIndex=M,M++)}),b.forEach(function(te){te.columnValuesLength=b.length});for(var A=this.cfg.fields.length,B=A-1;B>=0;B--){var H=this.getFacetsByLevel(t,B);try{for(var W=(c=void 0,(0,U.XA)(H)),Y=W.next();!Y.done;Y=W.next()){var Q=Y.value;this.isLeaf(Q)||(Q.originColIndex=Q.columnIndex,Q.columnIndex=this.getRegionIndex(Q.children),Q.columnValuesLength=b.length)}}catch(te){c={error:te}}finally{try{Y&&!Y.done&&(v=W.return)&&v.call(W)}finally{if(c)throw c.error}}}},f.prototype.getFacetsByLevel=function(t,c){var v=[];return t.forEach(function(y){y.rowIndex===c&&v.push(y)}),v},f.prototype.getRegionIndex=function(t){var c=t[0],v=t[t.length-1];return(v.columnIndex-c.columnIndex)/2+c.columnIndex},f.prototype.isLeaf=function(t){return!t.children||!t.children.length},f.prototype.getRows=function(){return this.cfg.fields.length+1},f.prototype.getChildFacets=function(t,c,v){var y=this,b=this.cfg.fields,M=b.length;if(!(M<c)){var A=[],B=b[c-1],H=this.getFieldValues(t,B);return H.forEach(function(W,Y){var Q=[{field:B,value:W,values:H}],te=t.filter(y.getFacetDataFilter(Q));if(te.length){var he={type:y.cfg.type,data:te,region:null,columnValue:W,rowValue:"",columnField:B,rowField:"",columnIndex:Y,rowValuesLength:y.getRows(),columnValuesLength:1,rowIndex:c,children:y.getChildFacets(te,c+1,v)};A.push(he),v.push(he)}}),A}},f.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},f.prototype.renderTitle=function(){var t=this;(0,D.S6)(this.facets,function(c){var v=c.columnValue,y=c.view,b=(0,D.U2)(t.cfg.title,"formatter"),M=(0,D.b$)({position:["50%","0%"],content:b?b(v):v},bd(lt.TOP),t.cfg.title);y.annotation().text(M)})},f.prototype.drawLines=function(t){var c=this;t.forEach(function(v){if(!c.isLeaf(v)){var y=v.children;c.addFacetLines(v,y)}})},f.prototype.addFacetLines=function(t,c){var v=this,y=t.view,b=y.coordinateBBox,M={x:b.x+b.width/2,y:b.y+b.height};c.forEach(function(A){var B=A.view.coordinateBBox,H={x:B.bl.x+(B.tr.x-B.bl.x)/2,y:B.tr.y},W={x:M.x,y:M.y+(H.y-M.y)/2},Y={x:H.x,y:W.y};v.drawLine([M,W,Y,H])})},f.prototype.getPath=function(t){var c=[],v=this.cfg.line.smooth;return v?(c.push(["M",t[0].x,t[0].y]),c.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(y,b){b===0?c.push(["M",y.x,y.y]):c.push(["L",y.x,y.y])}),c},f.prototype.drawLine=function(t){var c=this.getPath(t),v=this.cfg.line.style;this.container.addShape("path",{attrs:(0,D.f0)({path:c},v)})},f.prototype.getXAxisOption=function(t,c,v,y){return y.rowIndex!==y.rowValuesLength-1?(0,U.pi)((0,U.pi)({},v),{title:null,label:null}):v},f.prototype.getYAxisOption=function(t,c,v,y){return y.originColIndex!==0&&y.columnIndex!==0?(0,U.pi)((0,U.pi)({},v),{title:null,label:null}):v},f}(Wl),RE=IE;function DE(h){var f=(0,U.ev)([],(0,U.CR)(h),!1);f.sort(function(c,v){return c-v});var t=f.length;return t===0?0:t%2===1?f[(t-1)/2]:(f[t/2]+f[t/2-1])/2}function LE(h){var f=(0,D.u4)(h,function(t,c){return t+=isNaN(c)||!(0,D.hj)(c)?0:c},0);return h.length===0?0:f/h.length}function o1(h,f){if(!f)return null;var t;switch(h){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{t=f.isCategory?DE(f.values.map(function(c,v){return v})):DE(f.values);break}case"mean":{t=f.isCategory?(f.values.length-1)/2:LE(f.values);break}case"min":t=f.isCategory?0:f[h];break;case"max":t=f.isCategory?f.values.length-1:f[h];break;default:t=h;break}return f.scale(t)}var Zm=["regionFilter","shape"],o2=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;return c.cache=new Map,c.foregroundContainer=c.view.getLayer(Pt.FORE).addGroup(),c.backgroundContainer=c.view.getLayer(Pt.BG).addGroup(),c.option=[],c}return Object.defineProperty(f.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),f.prototype.init=function(){},f.prototype.layout=function(){this.update()},f.prototype.render=function(){},f.prototype.update=function(){var t=this;this.onAfterRender(function(){var v=new Map;(0,D.S6)(t.option,function(y){if((0,D.q9)(Zm,y.type)){var b=t.updateOrCreate(y);b&&v.set(t.getCacheKey(y),b)}}),t.cache=t.syncCache(v)});var c=new Map;(0,D.S6)(this.option,function(v){if(!(0,D.q9)(Zm,v.type)){var y=t.updateOrCreate(v);y&&c.set(t.getCacheKey(v),y)}}),this.cache=this.syncCache(c)},f.prototype.clear=function(t){t===void 0&&(t=!1),h.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},f.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},f.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(c){t.push(c)}),t},f.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},f.prototype.onAfterRender=function(t){var c=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(v){v.animateOption&&(v.once(xt.AFTER_DRAW_ANIMATE,function(){t()}),c=!0)}),c||this.view.getRootView().once(tr.AFTER_RENDER,function(){t()})},f.prototype.createAnnotation=function(t){var c=t.type,v=ye[(0,D.jC)(c)];if(v){var y=this.getAnnotationTheme(c),b=this.getAnnotationCfg(c,t,y);if(!b)return null;var M=new v(b);return{component:M,layer:this.isTop(b)?Pt.FORE:Pt.BG,direction:lt.NONE,type:Gt.ANNOTATION,extra:t}}},f.prototype.annotation=function(t){this.option.push(t)},f.prototype.arc=function(t){return this.annotation((0,U.pi)({type:"arc"},t)),this},f.prototype.image=function(t){return this.annotation((0,U.pi)({type:"image"},t)),this},f.prototype.line=function(t){return this.annotation((0,U.pi)({type:"line"},t)),this},f.prototype.region=function(t){return this.annotation((0,U.pi)({type:"region"},t)),this},f.prototype.text=function(t){return this.annotation((0,U.pi)({type:"text"},t)),this},f.prototype.dataMarker=function(t){return this.annotation((0,U.pi)({type:"dataMarker"},t)),this},f.prototype.dataRegion=function(t){this.annotation((0,U.pi)({type:"dataRegion"},t))},f.prototype.regionFilter=function(t){this.annotation((0,U.pi)({type:"regionFilter"},t))},f.prototype.shape=function(t){this.annotation((0,U.pi)({type:"shape"},t))},f.prototype.html=function(t){this.annotation((0,U.pi)({type:"html"},t))},f.prototype.parsePosition=function(t){var c,v,y=this.view.getXScale(),b=this.view.getScalesByDim("y"),M=(0,D.mf)(t)?t.call(null,y,b):t,A=0,B=0;if((0,D.kJ)(M)){var H=(0,U.CR)(M,2),W=H[0],Y=H[1];if((0,D.HD)(W)&&W.indexOf("%")!==-1&&!isNaN(W.slice(0,-1)))return this.parsePercentPosition(M);A=o1(W,y),B=o1(Y,Object.values(b)[0])}else if(!(0,D.UM)(M))try{for(var Q=(0,U.XA)((0,D.XP)(M)),te=Q.next();!te.done;te=Q.next()){var he=te.value,Me=M[he];he===y.field&&(A=o1(Me,y)),b[he]&&(B=o1(Me,b[he]))}}catch(Fe){c={error:Fe}}finally{try{te&&!te.done&&(v=Q.return)&&v.call(Q)}finally{if(c)throw c.error}}return isNaN(A)||isNaN(B)?null:this.view.getCoordinate().convert({x:A,y:B})},f.prototype.getRegionPoints=function(t,c){var v=this,y=this.view.getXScale(),b=this.view.getScalesByDim("y"),M=Object.values(b)[0],A=y.field,B=this.view.getData(),H=(0,D.kJ)(t)?t[0]:t[A],W=(0,D.kJ)(c)?c[0]:c[A],Y=[],Q;return(0,D.S6)(B,function(te,he){if(te[A]===H&&(Q=he),he>=Q){var Me=v.parsePosition([te[A],te[M.field]]);Me&&Y.push(Me)}if(te[A]===W)return!1}),Y},f.prototype.parsePercentPosition=function(t){var c=parseFloat(t[0])/100,v=parseFloat(t[1])/100,y=this.view.getCoordinate(),b=y.start,M=y.end,A={x:Math.min(b.x,M.x),y:Math.min(b.y,M.y)},B=y.getWidth()*c+A.x,H=y.getHeight()*v+A.y;return{x:B,y:H}},f.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),c=t.start,v=t.end,y=t.getWidth(),b=t.getHeight(),M={x:Math.min(c.x,v.x),y:Math.min(c.y,v.y)};return{x:M.x,y:M.y,minX:M.x,minY:M.y,maxX:M.x+y,maxY:M.y+b,width:y,height:b}},f.prototype.getAnnotationCfg=function(t,c,v){var y=this,b=this.view.getCoordinate(),M=this.view.getCanvas(),A={};if((0,D.UM)(c))return null;var B=c.start,H=c.end,W=c.position,Y=this.parsePosition(B),Q=this.parsePosition(H),te=this.parsePosition(W);if(["arc","image","line","region","regionFilter"].includes(t)&&(!Y||!Q))return null;if(["text","dataMarker","html"].includes(t)&&!te)return null;if(t==="arc"){var he=c,Me=he.start,Fe=he.end,Qe=(0,U._T)(he,["start","end"]),nt=pg(b,Y),pt=pg(b,Q);nt>pt&&(pt=Math.PI*2+pt),A=(0,U.pi)((0,U.pi)({},Qe),{center:b.getCenter(),radius:$c(b,Y),startAngle:nt,endAngle:pt})}else if(t==="image"){var Qt=c,Sr=Qt.start,Mr=Qt.end,Qe=(0,U._T)(Qt,["start","end"]);A=(0,U.pi)((0,U.pi)({},Qe),{start:Y,end:Q,src:c.src})}else if(t==="line"){var Or=c,Xr=Or.start,tn=Or.end,Qe=(0,U._T)(Or,["start","end"]);A=(0,U.pi)((0,U.pi)({},Qe),{start:Y,end:Q,text:(0,D.U2)(c,"text",null)})}else if(t==="region"){var ti=c,ri=ti.start,Yi=ti.end,Qe=(0,U._T)(ti,["start","end"]);A=(0,U.pi)((0,U.pi)({},Qe),{start:Y,end:Q})}else if(t==="text"){var xa=this.view.getData(),vo=c,_u=vo.position,ws=vo.content,Qe=(0,U._T)(vo,["position","content"]),Uu=ws;(0,D.mf)(ws)&&(Uu=ws(xa)),A=(0,U.pi)((0,U.pi)((0,U.pi)({},te),Qe),{content:Uu})}else if(t==="dataMarker"){var Oo=c,Rc=Oo.position,b1=Oo.point,w1=Oo.line,C2=Oo.text,TA=Oo.autoAdjust,OA=Oo.direction,Qe=(0,U._T)(Oo,["position","point","line","text","autoAdjust","direction"]);A=(0,U.pi)((0,U.pi)((0,U.pi)({},Qe),te),{coordinateBBox:this.getCoordinateBBox(),point:b1,line:w1,text:C2,autoAdjust:TA,direction:OA})}else if(t==="dataRegion"){var Pp=c,b2=Pp.start,aO=Pp.end,oO=Pp.region,C2=Pp.text,lO=Pp.lineLength,Qe=(0,U._T)(Pp,["start","end","region","text","lineLength"]);A=(0,U.pi)((0,U.pi)({},Qe),{points:this.getRegionPoints(b2,aO),region:oO,text:C2,lineLength:lO})}else if(t==="regionFilter"){var x1=c,AA=x1.start,sO=x1.end,S1=x1.apply,w2=x1.color,Qe=(0,U._T)(x1,["start","end","apply","color"]),uO=this.view.geometries,uT=[],x2=function(lf){lf&&(lf.isGroup()?lf.getChildren().forEach(function(_1){return x2(_1)}):uT.push(lf))};(0,D.S6)(uO,function(lf){S1?(0,D.FX)(S1,lf.type)&&(0,D.S6)(lf.elements,function(_1){x2(_1.shape)}):(0,D.S6)(lf.elements,function(_1){x2(_1.shape)})}),A=(0,U.pi)((0,U.pi)({},Qe),{color:w2,shapes:uT,start:Y,end:Q})}else if(t==="shape"){var cT=c,cO=cT.render,fT=(0,U._T)(cT,["render"]),Ff=function(RA){if((0,D.mf)(c.render))return cO(RA,y.view,{parsePosition:y.parsePosition.bind(y)})};A=(0,U.pi)((0,U.pi)({},fT),{render:Ff})}else if(t==="html"){var ly=c,hT=ly.html,b6=ly.position,fT=(0,U._T)(ly,["html","position"]),IA=function(lf){return(0,D.mf)(hT)?hT(lf,y.view):hT};A=(0,U.pi)((0,U.pi)((0,U.pi)({},fT),te),{parent:M.get("el").parentNode,html:IA})}var Bp=(0,D.b$)({},v,(0,U.pi)((0,U.pi)({},A),{top:c.top,style:c.style,offsetX:c.offsetX,offsetY:c.offsetY}));return t!=="html"&&(Bp.container=this.getComponentContainer(Bp)),Bp.animate=this.view.getOptions().animate&&Bp.animate&&(0,D.U2)(c,"animate",Bp.animate),Bp.animateOption=(0,D.b$)({},jc,Bp.animateOption,c.animateOption),Bp},f.prototype.isTop=function(t){return(0,D.U2)(t,"top",!0)},f.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},f.prototype.getAnnotationTheme=function(t){return(0,D.U2)(this.view.getTheme(),["components","annotation",t],{})},f.prototype.updateOrCreate=function(t){var c=this.cache.get(this.getCacheKey(t));if(c){var v=t.type,y=this.getAnnotationTheme(v),b=this.getAnnotationCfg(v,t,y);b&&Du(b,["container"]),c.component.update((0,U.pi)((0,U.pi)({},b||{}),{visible:!!b})),(0,D.q9)(Zm,t.type)&&c.component.render()}else c=this.createAnnotation(t),c&&(c.component.init(),(0,D.q9)(Zm,t.type)&&c.component.render());return c},f.prototype.syncCache=function(t){var c=this,v=new Map(this.cache);return t.forEach(function(y,b){v.set(b,y)}),v.forEach(function(y,b){(0,D.sE)(c.option,function(M){return b===c.getCacheKey(M)})||(y.component.destroy(),v.delete(b))}),v},f.prototype.getCacheKey=function(t){return t},f}(rh),wo=o2;function xu(h,f){var t=(0,D.b$)({},(0,D.U2)(h,["components","axis","common"]),(0,D.U2)(h,["components","axis",f]));return(0,D.U2)(t,["grid"],{})}function l1(h,f,t,c){var v=[],y=f.getTicks();return h.isPolar&&y.push({value:1,text:"",tickValue:""}),y.reduce(function(b,M,A){var B=M.value;if(c)v.push({points:[h.convert(t==="y"?{x:0,y:B}:{x:B,y:0}),h.convert(t==="y"?{x:1,y:B}:{x:B,y:1})]});else if(A){var H=b.value,W=(H+B)/2;v.push({points:[h.convert(t==="y"?{x:0,y:W}:{x:W,y:0}),h.convert(t==="y"?{x:1,y:W}:{x:W,y:1})]})}return M},y[0]),v}function wd(h,f,t,c,v){var y=f.values.length,b=[],M=t.getTicks();return M.reduce(function(A,B){var H=A?A.value:B.value,W=B.value,Y=(H+W)/2;return v==="x"?b.push({points:[h.convert({x:c?W:Y,y:0}),h.convert({x:c?W:Y,y:1})]}):b.push({points:(0,D.UI)(Array(y+1),function(Q,te){return h.convert({x:te/y,y:c?W:Y})})}),B},M[0]),b}function Kg(h,f){var t=(0,D.U2)(f,"grid");if(t===null)return!1;var c=(0,D.U2)(h,"grid");return!(t===void 0&&c===null)}var bv=["container"],s1=(0,U.pi)((0,U.pi)({},jc),{appear:null}),l2=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;return c.cache=new Map,c.gridContainer=c.view.getLayer(Pt.BG).addGroup(),c.gridForeContainer=c.view.getLayer(Pt.FORE).addGroup(),c.axisContainer=c.view.getLayer(Pt.BG).addGroup(),c.axisForeContainer=c.view.getLayer(Pt.FORE).addGroup(),c}return Object.defineProperty(f.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),f.prototype.init=function(){},f.prototype.render=function(){this.update()},f.prototype.layout=function(){var t=this,c=this.view.getCoordinate();(0,D.S6)(this.getComponents(),function(v){var y=v.component,b=v.direction,M=v.type,A=v.extra,B=A.dim,H=A.scale,W=A.alignTick,Y;if(M===Gt.AXIS)c.isPolar?B==="x"?Y=c.isTransposed?ed(c,b):gc(c):B==="y"&&(Y=c.isTransposed?gc(c):ed(c,b)):Y=ed(c,b);else if(M===Gt.GRID)if(c.isPolar){var Q=void 0;c.isTransposed?Q=B==="x"?wd(c,t.view.getYScales()[0],H,W,B):l1(c,H,B,W):Q=B==="x"?l1(c,H,B,W):wd(c,t.view.getXScale(),H,W,B),Y={items:Q,center:t.view.getCoordinate().getCenter()}}else Y={items:l1(c,H,B,W)};y.update(Y)})},f.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var c=new Map;this.cache.forEach(function(v,y){t.has(y)?c.set(y,v):v.component.destroy()}),this.cache=c},f.prototype.clear=function(){h.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},f.prototype.destroy=function(){h.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},f.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(c){t.push(c)}),t},f.prototype.updateXAxes=function(t){var c=this.view.getXScale();if(!(!c||c.isIdentity)){var v=Xo(this.option,c.field);if(v!==!1){var y=ds(v,lt.BOTTOM),b=Pt.BG,M="x",A=this.view.getCoordinate(),B=this.getId("axis",c.field),H=this.getId("grid",c.field);if(A.isRect){var W=this.cache.get(B);if(W){var Y=this.getLineAxisCfg(c,v,y);Du(Y,bv),W.component.update(Y),t.set(B,W)}else W=this.createLineAxis(c,v,b,y,M),this.cache.set(B,W),t.set(B,W);var Q=this.cache.get(H);if(Q){var Y=this.getLineGridCfg(c,v,y,M);Du(Y,bv),Q.component.update(Y),t.set(H,Q)}else Q=this.createLineGrid(c,v,b,y,M),Q&&(this.cache.set(H,Q),t.set(H,Q))}else if(A.isPolar){var W=this.cache.get(B);if(W){var Y=A.isTransposed?this.getLineAxisCfg(c,v,lt.RADIUS):this.getCircleAxisCfg(c,v,y);Du(Y,bv),W.component.update(Y),t.set(B,W)}else{if(A.isTransposed){if((0,D.o8)(v))return;W=this.createLineAxis(c,v,b,lt.RADIUS,M)}else W=this.createCircleAxis(c,v,b,y,M);this.cache.set(B,W),t.set(B,W)}var Q=this.cache.get(H);if(Q){var Y=A.isTransposed?this.getCircleGridCfg(c,v,lt.RADIUS,M):this.getLineGridCfg(c,v,lt.CIRCLE,M);Du(Y,bv),Q.component.update(Y),t.set(H,Q)}else{if(A.isTransposed){if((0,D.o8)(v))return;Q=this.createCircleGrid(c,v,b,lt.RADIUS,M)}else Q=this.createLineGrid(c,v,b,lt.CIRCLE,M);Q&&(this.cache.set(H,Q),t.set(H,Q))}}}}},f.prototype.updateYAxes=function(t){var c=this,v=this.view.getYScales();(0,D.S6)(v,function(y,b){if(!(!y||y.isIdentity)){var M=y.field,A=Xo(c.option,M);if(A!==!1){var B=Pt.BG,H="y",W=c.getId("axis",M),Y=c.getId("grid",M),Q=c.view.getCoordinate();if(Q.isRect){var te=ds(A,b===0?lt.LEFT:lt.RIGHT),he=c.cache.get(W);if(he){var Me=c.getLineAxisCfg(y,A,te);Du(Me,bv),he.component.update(Me),t.set(W,he)}else he=c.createLineAxis(y,A,B,te,H),c.cache.set(W,he),t.set(W,he);var Fe=c.cache.get(Y);if(Fe){var Me=c.getLineGridCfg(y,A,te,H);Du(Me,bv),Fe.component.update(Me),t.set(Y,Fe)}else Fe=c.createLineGrid(y,A,B,te,H),Fe&&(c.cache.set(Y,Fe),t.set(Y,Fe))}else if(Q.isPolar){var he=c.cache.get(W);if(he){var Me=Q.isTransposed?c.getCircleAxisCfg(y,A,lt.CIRCLE):c.getLineAxisCfg(y,A,lt.RADIUS);Du(Me,bv),he.component.update(Me),t.set(W,he)}else{if(Q.isTransposed){if((0,D.o8)(A))return;he=c.createCircleAxis(y,A,B,lt.CIRCLE,H)}else he=c.createLineAxis(y,A,B,lt.RADIUS,H);c.cache.set(W,he),t.set(W,he)}var Fe=c.cache.get(Y);if(Fe){var Me=Q.isTransposed?c.getLineGridCfg(y,A,lt.CIRCLE,H):c.getCircleGridCfg(y,A,lt.RADIUS,H);Du(Me,bv),Fe.component.update(Me),t.set(Y,Fe)}else{if(Q.isTransposed){if((0,D.o8)(A))return;Fe=c.createLineGrid(y,A,B,lt.CIRCLE,H)}else Fe=c.createCircleGrid(y,A,B,lt.RADIUS,H);Fe&&(c.cache.set(Y,Fe),t.set(Y,Fe))}}}}})},f.prototype.createLineAxis=function(t,c,v,y,b){var M={component:new Sf(this.getLineAxisCfg(t,c,y)),layer:v,direction:y===lt.RADIUS?lt.NONE:y,type:Gt.AXIS,extra:{dim:b,scale:t}};return M.component.set("field",t.field),M.component.init(),M},f.prototype.createLineGrid=function(t,c,v,y,b){var M=this.getLineGridCfg(t,c,y,b);if(M){var A={component:new kx(M),layer:v,direction:lt.NONE,type:Gt.GRID,extra:{dim:b,scale:t,alignTick:(0,D.U2)(M,"alignTick",!0)}};return A.component.init(),A}},f.prototype.createCircleAxis=function(t,c,v,y,b){var M={component:new nb(this.getCircleAxisCfg(t,c,y)),layer:v,direction:y,type:Gt.AXIS,extra:{dim:b,scale:t}};return M.component.set("field",t.field),M.component.init(),M},f.prototype.createCircleGrid=function(t,c,v,y,b){var M=this.getCircleGridCfg(t,c,y,b);if(M){var A={component:new Fx(M),layer:v,direction:lt.NONE,type:Gt.GRID,extra:{dim:b,scale:t,alignTick:(0,D.U2)(M,"alignTick",!0)}};return A.component.init(),A}},f.prototype.getLineAxisCfg=function(t,c,v){var y=(0,D.U2)(c,["top"])?this.axisForeContainer:this.axisContainer,b=this.view.getCoordinate(),M=ed(b,v),A=tC(t,c),B=Qv(this.view.getTheme(),v),H=(0,D.U2)(c,["title"])?(0,D.b$)({title:{style:{text:A}}},{title:sb(this.view.getTheme(),v,c.title)},c):c,W=(0,D.b$)((0,U.pi)((0,U.pi)({container:y},M),{ticks:t.getTicks().map(function(nt){return{id:"".concat(nt.tickValue),name:nt.text,value:nt.value}}),verticalFactor:b.isPolar?eC(M,b.getCenter())*-1:eC(M,b.getCenter()),theme:B}),B,H),Y=this.getAnimateCfg(W),Q=Y.animate,te=Y.animateOption;W.animateOption=te,W.animate=Q;var he=z0(M),Me=(0,D.U2)(W,"verticalLimitLength",he?1/3:1/2);if(Me<=1){var Fe=this.view.getCanvas().get("width"),Qe=this.view.getCanvas().get("height");W.verticalLimitLength=Me*(he?Fe:Qe)}return W},f.prototype.getLineGridCfg=function(t,c,v,y){if(Kg(Qv(this.view.getTheme(),v),c)){var b=xu(this.view.getTheme(),v),M=(0,D.b$)({container:(0,D.U2)(c,["top"])?this.gridForeContainer:this.gridContainer},b,(0,D.U2)(c,"grid"),this.getAnimateCfg(c));return M.items=l1(this.view.getCoordinate(),t,y,(0,D.U2)(M,"alignTick",!0)),M}},f.prototype.getCircleAxisCfg=function(t,c,v){var y=(0,D.U2)(c,["top"])?this.axisForeContainer:this.axisContainer,b=this.view.getCoordinate(),M=t.getTicks().map(function(he){return{id:"".concat(he.tickValue),name:he.text,value:he.value}});!t.isCategory&&Math.abs(b.endAngle-b.startAngle)===Math.PI*2&&M.length&&(M[M.length-1].name="");var A=tC(t,c),B=Qv(this.view.getTheme(),lt.CIRCLE),H=(0,D.U2)(c,["title"])?(0,D.b$)({title:{style:{text:A}}},{title:sb(this.view.getTheme(),v,c.title)},c):c,W=(0,D.b$)((0,U.pi)((0,U.pi)({container:y},gc(this.view.getCoordinate())),{ticks:M,verticalFactor:1,theme:B}),B,H),Y=this.getAnimateCfg(W),Q=Y.animate,te=Y.animateOption;return W.animate=Q,W.animateOption=te,W},f.prototype.getCircleGridCfg=function(t,c,v,y){if(Kg(Qv(this.view.getTheme(),v),c)){var b=xu(this.view.getTheme(),lt.RADIUS),M=(0,D.b$)({container:(0,D.U2)(c,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},b,(0,D.U2)(c,"grid"),this.getAnimateCfg(c)),A=(0,D.U2)(M,"alignTick",!0),B=y==="x"?this.view.getYScales()[0]:this.view.getXScale();return M.items=wd(this.view.getCoordinate(),B,t,A,y),M}},f.prototype.getId=function(t,c){var v=this.view.getCoordinate();return"".concat(t,"-").concat(c,"-").concat(v.type)},f.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,D.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,D.b$)({},s1,t.animateOption):s1}},f}(rh),PE=l2;function xd(h,f,t){return t===lt.TOP?[h.minX+h.width/2-f.width/2,h.minY]:t===lt.BOTTOM?[h.minX+h.width/2-f.width/2,h.maxY-f.height]:t===lt.LEFT?[h.minX,h.minY+h.height/2-f.height/2]:t===lt.RIGHT?[h.maxX-f.width,h.minY+h.height/2-f.height/2]:t===lt.TOP_LEFT||t===lt.LEFT_TOP?[h.tl.x,h.tl.y]:t===lt.TOP_RIGHT||t===lt.RIGHT_TOP?[h.tr.x-f.width,h.tr.y]:t===lt.BOTTOM_LEFT||t===lt.LEFT_BOTTOM?[h.bl.x,h.bl.y-f.height]:t===lt.BOTTOM_RIGHT||t===lt.RIGHT_BOTTOM?[h.br.x-f.width,h.br.y-f.height]:[0,0]}function u1(h,f){if(f.isTransposed)switch(h){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return h}function s2(h){return h===DIRECTION.LEFT?DIRECTION.RIGHT:h===DIRECTION.RIGHT?DIRECTION.LEFT:h}function c1(h){return h===DIRECTION.TOP?DIRECTION.BOTTOM:h===DIRECTION.BOTTOM?DIRECTION.TOP:h}function xh(h,f){var t=f.matrix[0],c=f.matrix[4],v=h;return t<0&&(v=s2(v)),c<0&&(v=c1(v)),v}function Sh(h,f){var t=h;return f.isReflect("x")&&(t=s2(t)),f.isReflect("y")&&(t=c1(t)),t}function KM(h,f){var t=h;return t=u1(t,f),t=xh(t,f),t=Sh(t,f),t}function u2(h,f){return(0,D.jn)(h)?h===!1?!1:{}:(0,D.U2)(h,[f],h)}function f1(h){return(0,D.U2)(h,"position",lt.BOTTOM)}var Sd=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;return c.container=c.view.getLayer(Pt.FORE).addGroup(),c}return Object.defineProperty(f.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),f.prototype.init=function(){},f.prototype.render=function(){this.update()},f.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,D.S6)(this.components,function(c){var v=c.component,y=c.direction,b=cp(y),M=v.get("maxWidthRatio"),A=v.get("maxHeightRatio"),B=t.getCategoryLegendSizeCfg(b,M,A),H=v.get("maxWidth"),W=v.get("maxHeight");v.update({maxWidth:Math.min(B.maxWidth,H||0),maxHeight:Math.min(B.maxHeight,W||0)});var Y=v.get("padding"),Q=v.getLayoutBBox(),te=new ul(Q.x,Q.y,Q.width,Q.height).expand(Y),he=(0,U.CR)(xd(t.view.viewBBox,te,y),2),Me=he[0],Fe=he[1],Qe=(0,U.CR)(xd(t.layoutBBox,te,y),2),nt=Qe[0],pt=Qe[1],Qt=0,Sr=0;y.startsWith("top")||y.startsWith("bottom")?(Qt=Me,Sr=pt):(Qt=nt,Sr=Fe),v.setLocation({x:Qt+Y[3],y:Sr+Y[0]}),t.layoutBBox=t.layoutBBox.cut(te,y)})},f.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var c={},v=function(Y,Q,te){var he=t.getId(te.field),Me=t.getComponentById(he);if(Me){var Fe=void 0,Qe=u2(t.option,te.field);Qe!==!1&&((0,D.U2)(Qe,"custom")?Fe=t.getCategoryCfg(Y,Q,te,Qe,!0):te.isLinear?Fe=t.getContinuousCfg(Y,Q,te,Qe):te.isCategory&&(Fe=t.getCategoryCfg(Y,Q,te,Qe))),Fe&&(Du(Fe,["container"]),Me.direction=f1(Qe),Me.component.update(Fe),c[he]=!0)}else{var nt=t.createFieldLegend(Y,Q,te);nt&&(nt.component.init(),t.components.push(nt),c[he]=!0)}};if((0,D.U2)(this.option,"custom")){var y="global-custom",b=this.getComponentById(y);if(b){var M=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Du(M,["container"]),b.component.update(M),c[y]=!0}else{var A=this.createCustomLegend(void 0,void 0,void 0,this.option);if(A){A.init();var B=Pt.FORE,H=f1(this.option);this.components.push({id:y,component:A,layer:B,direction:H,type:Gt.LEGEND,extra:void 0}),c[y]=!0}}}else this.loopLegends(v);var W=[];(0,D.S6)(this.getComponents(),function(Y){c[Y.id]?W.push(Y):Y.component.destroy()}),this.components=W},f.prototype.clear=function(){h.prototype.clear.call(this),this.container.clear()},f.prototype.destroy=function(){h.prototype.destroy.call(this),this.container.remove(!0)},f.prototype.getGeometries=function(t){var c=this,v=t.geometries;return(0,D.S6)(t.views,function(y){v=v.concat(c.getGeometries(y))}),v},f.prototype.loopLegends=function(t){var c=this.view.getRootView()===this.view;if(c){var v=this.getGeometries(this.view),y={};(0,D.S6)(v,function(b){var M=b.getGroupAttributes();(0,D.S6)(M,function(A){var B=A.getScale(A.type);!B||B.type==="identity"||y[B.field]||(t(b,A,B),y[B.field]=!0)})})}},f.prototype.createFieldLegend=function(t,c,v){var y,b=u2(this.option,v.field),M=Pt.FORE,A=f1(b);if(b!==!1&&((0,D.U2)(b,"custom")?y=this.createCustomLegend(t,c,v,b):v.isLinear?y=this.createContinuousLegend(t,c,v,b):v.isCategory&&(y=this.createCategoryLegend(t,c,v,b))),y)return y.set("field",v.field),{id:this.getId(v.field),component:y,layer:M,direction:A,type:Gt.LEGEND,extra:{scale:v}}},f.prototype.createCustomLegend=function(t,c,v,y){var b=this.getCategoryCfg(t,c,v,y,!0);return new vg(b)},f.prototype.createContinuousLegend=function(t,c,v,y){var b=this.getContinuousCfg(t,c,v,Du(y,["value"]));return new qv(b)},f.prototype.createCategoryLegend=function(t,c,v,y){var b=this.getCategoryCfg(t,c,v,y);return new vg(b)},f.prototype.getContinuousCfg=function(t,c,v,y){var b=v.getTicks(),M=(0,D.sE)(b,function(he){return he.value===0}),A=(0,D.sE)(b,function(he){return he.value===1}),B=b.map(function(he){var Me=he.value,Fe=he.tickValue,Qe=c.mapping(v.invert(Me)).join("");return{value:Fe,attrValue:Qe,color:Qe,scaleValue:Me}});M||B.push({value:v.min,attrValue:c.mapping(v.invert(0)).join(""),color:c.mapping(v.invert(0)).join(""),scaleValue:0}),A||B.push({value:v.max,attrValue:c.mapping(v.invert(1)).join(""),color:c.mapping(v.invert(1)).join(""),scaleValue:1}),B.sort(function(he,Me){return he.value-Me.value});var H={min:(0,D.YM)(B).value,max:(0,D.Z$)(B).value,colors:[],rail:{type:c.type},track:{}};c.type==="size"&&(H.track={style:{fill:c.type==="size"?this.view.getTheme().defaultColor:void 0}}),c.type==="color"&&(H.colors=B.map(function(he){return he.attrValue}));var W=this.container,Y=f1(y),Q=cp(Y),te=(0,D.U2)(y,"title");return te&&(te=(0,D.b$)({text:gg(v)},te)),H.container=W,H.layout=Q,H.title=te,H.animateOption=jc,this.mergeLegendCfg(H,y,"continuous")},f.prototype.getCategoryCfg=function(t,c,v,y,b){var M=this.container,A=(0,D.U2)(y,"position",lt.BOTTOM),B=yC(this.view.getTheme(),A),H=(0,D.U2)(B,["marker"]),W=(0,D.U2)(y,"marker"),Y=cp(A),Q=(0,D.U2)(B,["pageNavigator"]),te=(0,D.U2)(y,"pageNavigator"),he=b?Sb(H,W,y.items):ov(this.view,t,c,H,W),Me=(0,D.U2)(y,"title");Me&&(Me=(0,D.b$)({text:v?gg(v):""},Me));var Fe=(0,D.U2)(y,"maxWidthRatio"),Qe=(0,D.U2)(y,"maxHeightRatio"),nt=this.getCategoryLegendSizeCfg(Y,Fe,Qe);nt.container=M,nt.layout=Y,nt.items=he,nt.title=Me,nt.animateOption=jc,nt.pageNavigator=(0,D.b$)({},Q,te);var pt=this.mergeLegendCfg(nt,y,A);pt.reversed&&pt.items.reverse();var Qt=(0,D.U2)(pt,"maxItemWidth");return Qt&&Qt<=1&&(pt.maxItemWidth=this.view.viewBBox.width*Qt),pt},f.prototype.mergeLegendCfg=function(t,c,v){var y=v.split("-")[0],b=yC(this.view.getTheme(),y);return(0,D.b$)({},b,t,c)},f.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},f.prototype.getComponentById=function(t){return(0,D.sE)(this.components,function(c){return c.id===t})},f.prototype.getCategoryLegendSizeCfg=function(t,c,v){c===void 0&&(c=Yr),v===void 0&&(v=Yr);var y=this.view.viewBBox,b=y.width,M=y.height;return t==="vertical"?{maxWidth:b*c,maxHeight:M}:{maxWidth:b,maxHeight:M*v}},f}(rh),Mp=Sd,wl=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;return c.onChangeFn=D.ZT,c.resetMeasure=function(){c.clear()},c.onValueChange=function(v){var y=(0,U.CR)(v,2),b=y[0],M=y[1];c.start=b,c.end=M,c.changeViewData(b,M)},c.container=c.view.getLayer(Pt.FORE).addGroup(),c.onChangeFn=(0,D.P2)(c.onValueChange,20,{leading:!0}),c.width=0,c.view.on(tr.BEFORE_CHANGE_DATA,c.resetMeasure),c.view.on(tr.BEFORE_CHANGE_SIZE,c.resetMeasure),c}return Object.defineProperty(f.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),f.prototype.destroy=function(){h.prototype.destroy.call(this),this.view.off(tr.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(tr.BEFORE_CHANGE_SIZE,this.resetMeasure)},f.prototype.init=function(){},f.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),c=t.start,v=t.end;(0,D.UM)(this.start)&&(this.start=c,this.end=v);var y=this.view.getOptions().data;this.option&&!(0,D.xb)(y)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},f.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var c=this.view.coordinateBBox.width,v=this.slider.component.get("padding"),y=(0,U.CR)(v,4),b=y[0],M=y[1],A=y[2],B=y[3],H=this.slider.component.getLayoutBBox(),W=new ul(H.x,H.y,Math.min(H.width,c),H.height).expand(v),Y=this.getMinMaxText(this.start,this.end),Q=Y.minText,te=Y.maxText,he=(0,U.CR)(xd(this.view.viewBBox,W,lt.BOTTOM),2),Me=he[0],Fe=he[1],Qe=(0,U.CR)(xd(this.view.coordinateBBox,W,lt.BOTTOM),2),nt=Qe[0],pt=Qe[1];this.slider.component.update((0,U.pi)((0,U.pi)({},this.getSliderCfg()),{x:nt+B,y:Fe+b,width:this.width,start:this.start,end:this.end,minText:Q,maxText:te})),this.view.viewBBox=this.view.viewBBox.cut(W,lt.BOTTOM)}},f.prototype.update=function(){this.render()},f.prototype.createSlider=function(){var t=this.getSliderCfg(),c=new rb((0,U.pi)({container:this.container},t));return c.init(),{component:c,layer:Pt.FORE,direction:lt.BOTTOM,type:Gt.SLIDER}},f.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var c=this.getMinMaxText(this.start,this.end),v=c.minText,y=c.maxText;t=(0,U.pi)((0,U.pi)({},t),{width:this.width,start:this.start,end:this.end,minText:v,maxText:y})}return this.slider.component.update(t),this.slider},f.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},f.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,D.Kn)(this.option)){var c=(0,U.pi)({data:this.getData()},(0,D.U2)(this.option,"trendCfg",{}));t=(0,D.b$)({},t,this.getThemeOptions(),this.option),t=(0,U.pi)((0,U.pi)({},t),{trendCfg:c})}return t.start=(0,D.uZ)(Math.min((0,D.UM)(t.start)?0:t.start,(0,D.UM)(t.end)?1:t.end),0,1),t.end=(0,D.uZ)(Math.max((0,D.UM)(t.start)?0:t.start,(0,D.UM)(t.end)?1:t.end),0,1),t},f.prototype.getData=function(){var t=this.view.getOptions().data,c=(0,U.CR)(this.view.getYScales(),1),v=c[0],y=this.view.getGroupScales();if(y.length){var b=y[0],M=b.field,A=b.ticks;return t.reduce(function(B,H){return H[M]===A[0]&&B.push(H[v.field]),B},[])}return t.map(function(B){return B[v.field]||0})},f.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,D.U2)(t,["components","slider","common"],{})},f.prototype.getMinMaxText=function(t,c){var v=this.view.getOptions().data,y=this.view.getXScale(),b=!0,M=(0,D.I)(v,y.field);y.isLinear&&(M=M.sort());var A=b?M:M.reverse(),B=(0,D.dp)(v);if(!y||!B)return{};var H=(0,D.dp)(A),W=Math.round(t*(H-1)),Y=Math.round(c*(H-1)),Q=(0,D.U2)(A,[W]),te=(0,D.U2)(A,[Y]),he=this.getSliderCfg().formatter;return he&&(Q=he(Q,v[W],W),te=he(te,v[Y],Y)),{minText:Q,maxText:te}},f.prototype.changeViewData=function(t,c){var v=this.view.getOptions().data,y=this.view.getXScale(),b=(0,D.dp)(v);if(!(!y||!b)){var M=!0,A=(0,D.I)(v,y.field),B=this.view.getXScale().isLinear?A.sort(function(te,he){return Number(te)-Number(he)}):A,H=M?B:B.reverse(),W=(0,D.dp)(H),Y=Math.round(t*(W-1)),Q=Math.round(c*(W-1));this.view.filter(y.field,function(te,he){var Me=H.indexOf(te);return Me>-1?tv(Me,Y,Q):!0}),this.view.render(!0)}},f.prototype.getComponents=function(){return this.slider?[this.slider]:[]},f.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},f}(rh),BE=wl,h1=0,Ww=8,Gw=32,d1=20,c2=function(h){(0,U.ZT)(f,h);function f(t){var c=h.call(this,t)||this;return c.onChangeFn=D.ZT,c.resetMeasure=function(){c.clear()},c.onValueChange=function(v){var y=v.ratio,b=c.getValidScrollbarCfg().animate;c.ratio=(0,D.uZ)(y,0,1);var M=c.view.getOptions().animate;b||c.view.animate(!1),c.changeViewData(c.getScrollRange(),!0),c.view.animate(M)},c.container=c.view.getLayer(Pt.FORE).addGroup(),c.onChangeFn=(0,D.P2)(c.onValueChange,20,{leading:!0}),c.trackLen=0,c.thumbLen=0,c.ratio=0,c.view.on(tr.BEFORE_CHANGE_DATA,c.resetMeasure),c.view.on(tr.BEFORE_CHANGE_SIZE,c.resetMeasure),c}return Object.defineProperty(f.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),f.prototype.destroy=function(){h.prototype.destroy.call(this),this.view.off(tr.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(tr.BEFORE_CHANGE_SIZE,this.resetMeasure)},f.prototype.init=function(){},f.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},f.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var c=this.view.coordinateBBox.width,v=this.scrollbar.component.get("padding"),y=this.scrollbar.component.getLayoutBBox(),b=new ul(y.x,y.y,Math.min(y.width,c),y.height).expand(v),M=this.getScrollbarComponentCfg(),A=void 0,B=void 0;if(M.isHorizontal){var H=(0,U.CR)(xd(this.view.viewBBox,b,lt.BOTTOM),2),W=H[0],Y=H[1],Q=(0,U.CR)(xd(this.view.coordinateBBox,b,lt.BOTTOM),2),te=Q[0],he=Q[1];A=te,B=Y}else{var Me=(0,U.CR)(xd(this.view.viewBBox,b,lt.RIGHT),2),W=Me[0],Y=Me[1],Fe=(0,U.CR)(xd(this.view.viewBBox,b,lt.RIGHT),2),te=Fe[0],he=Fe[1];A=te,B=Y}A+=v[3],B+=v[0],this.trackLen?this.scrollbar.component.update((0,U.pi)((0,U.pi)({},M),{x:A,y:B,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update((0,U.pi)((0,U.pi)({},M),{x:A,y:B})),this.view.viewBBox=this.view.viewBBox.cut(b,M.isHorizontal?lt.BOTTOM:lt.RIGHT)}},f.prototype.update=function(){this.render()},f.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},f.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},f.prototype.setValue=function(t){this.onValueChange({ratio:t})},f.prototype.getValue=function(){return this.ratio},f.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,D.U2)(t,["components","scrollbar","common"],{})},f.prototype.getScrollbarTheme=function(t){var c=(0,D.U2)(this.view.getTheme(),["components","scrollbar"]),v=t||{},y=v.thumbHighlightColor,b=(0,U._T)(v,["thumbHighlightColor"]);return{default:(0,D.b$)({},(0,D.U2)(c,["default","style"],{}),b),hover:(0,D.b$)({},(0,D.U2)(c,["hover","style"],{}),{thumbColor:y})}},f.prototype.measureScrollbar=function(){var t=this.view.getXScale(),c=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var v=this.getScrollbarComponentCfg(),y=v.trackLen,b=v.thumbLen;this.trackLen=y,this.thumbLen=b,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=c},f.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,D.uZ)(this.ratio,0,1)),c=Math.min(t+this.step-1,this.cnt-1);return[t,c]},f.prototype.changeViewData=function(t,c){var v=this,y=(0,U.CR)(t,2),b=y[0],M=y[1],A=this.getValidScrollbarCfg().type,B=A!=="vertical",H=(0,D.I)(this.data,this.xScaleCfg.field),W=this.view.getXScale().isLinear?H.sort(function(Q,te){return Number(Q)-Number(te)}):H,Y=B?W:W.reverse();this.yScalesCfg.forEach(function(Q){v.view.scale(Q.field,{formatter:Q.formatter,type:Q.type,min:Q.min,max:Q.max,tickMethod:Q.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(Q){var te=Y.indexOf(Q);return te>-1?tv(te,b,M):!0}),this.view.render(!0)},f.prototype.createScrollbar=function(){var t=this.getValidScrollbarCfg().type,c=t!=="vertical",v=new Bx((0,U.pi)((0,U.pi)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return v.init(),{component:v,layer:Pt.FORE,direction:c?lt.BOTTOM:lt.RIGHT,type:Gt.SCROLLBAR}},f.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),c=this.trackLen?(0,U.pi)((0,U.pi)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,U.pi)({},t);return this.scrollbar.component.update(c),this.scrollbar},f.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,c=this.getValidScrollbarCfg(),v=c.type,y=c.categorySize,b=v!=="vertical";return Math.floor((b?t.width:t.height)/y)},f.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),c=this.getScrollbarData(),v=(0,D.I)(c,t.field);return(0,D.dp)(v)},f.prototype.getScrollbarComponentCfg=function(){var t=this.view,c=t.coordinateBBox,v=t.viewBBox,y=this.getValidScrollbarCfg(),b=y.type,M=y.padding,A=y.width,B=y.height,H=y.style,W=b!=="vertical",Y=(0,U.CR)(M,4),Q=Y[0],te=Y[1],he=Y[2],Me=Y[3],Fe=W?{x:c.minX+Me,y:v.maxY-B-he}:{x:v.maxX-A-te,y:c.minY+Q},Qe=this.getStep(),nt=this.getCnt(),pt=W?c.width-Me-te:c.height-Q-he,Qt=Math.max(pt*(0,D.uZ)(Qe/nt,0,1),d1);return(0,U.pi)((0,U.pi)({},this.getThemeOptions()),{x:Fe.x,y:Fe.y,size:W?B:A,isHorizontal:W,trackLen:pt,thumbLen:Qt,thumbOffset:0,theme:this.getScrollbarTheme(H)})},f.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:Gw,width:Ww,height:Ww,padding:[0,0,0,0],animate:!0,style:{}};return(0,D.Kn)(this.option)&&(t=(0,U.pi)((0,U.pi)({},t),this.option)),(!(0,D.Kn)(this.option)||!this.option.padding)&&(t.padding=t.type==="horizontal"?[h1,0,h1,0]:[0,h1,0,h1]),t},f.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),c=this.getValidScrollbarCfg(),v=this.view.getOptions().data||[];return t.isReflect("y")&&c.type==="vertical"&&(v=(0,U.ev)([],(0,U.CR)(v),!1).reverse()),v},f}(rh),$w=c2,Uw={fill:"#CCD6EC",opacity:.3};function qM(h,f,t){var c,v,y,b,M,A,B=Yx(h,f,t);if(B.length){B=(0,D.xH)(B);try{for(var H=(0,U.XA)(B),W=H.next();!W.done;W=H.next()){var Y=W.value;try{for(var Q=(y=void 0,(0,U.XA)(Y)),te=Q.next();!te.done;te=Q.next()){var he=te.value,Me=he.mappingData,Fe=Me.x,Qe=Me.y;he.x=(0,D.kJ)(Fe)?Fe[Fe.length-1]:Fe,he.y=(0,D.kJ)(Qe)?Qe[Qe.length-1]:Qe}}catch(tn){y={error:tn}}finally{try{te&&!te.done&&(b=Q.return)&&b.call(Q)}finally{if(y)throw y.error}}}}catch(tn){c={error:tn}}finally{try{W&&!W.done&&(v=H.return)&&v.call(H)}finally{if(c)throw c.error}}var nt=t.shared;if(nt===!1&&B.length>1){var pt=B[0],Qt=Math.abs(f.y-pt[0].y);try{for(var Sr=(0,U.XA)(B),Mr=Sr.next();!Mr.done;Mr=Sr.next()){var Or=Mr.value,Xr=Math.abs(f.y-Or[0].y);Xr<=Qt&&(pt=Or,Qt=Xr)}}catch(tn){M={error:tn}}finally{try{Mr&&!Mr.done&&(A=Sr.return)&&A.call(Sr)}finally{if(M)throw M.error}}B=[pt]}return(0,D.jj)((0,D.xH)(B))}return[]}var kE=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.show=function(t){var c=this.context.view,v=this.context.event,y=c.getController("tooltip").getTooltipCfg(),b=qM(c,{x:v.x,y:v.y},y);if(!(0,D.Xy)(b,this.items)&&(this.items=b,b.length)){var M=c.getXScale().field,A=b[0].data[M],B=[],H=c.geometries;if((0,D.S6)(H,function(Uu){if(Uu.type==="interval"||Uu.type==="schema"){var Oo=Uu.getElementsBy(function(Rc){var b1=Rc.getData();return b1[M]===A});B=B.concat(Oo)}}),B.length){var W=c.getCoordinate(),Y=B[0].shape.getCanvasBBox(),Q=B[0].shape.getCanvasBBox(),te=Y;(0,D.S6)(B,function(Uu){var Oo=Uu.shape.getCanvasBBox();W.isTransposed?(Oo.minY<Y.minY&&(Y=Oo),Oo.maxY>Q.maxY&&(Q=Oo)):(Oo.minX<Y.minX&&(Y=Oo),Oo.maxX>Q.maxX&&(Q=Oo)),te.x=Math.min(Oo.minX,te.minX),te.y=Math.min(Oo.minY,te.minY),te.width=Math.max(Oo.maxX,te.maxX)-te.x,te.height=Math.max(Oo.maxY,te.maxY)-te.y});var he=c.backgroundGroup,Me=c.coordinateBBox,Fe=void 0;if(W.isRect){var Qe=c.getXScale(),nt=t||{},pt=nt.appendRatio,Qt=nt.appendWidth;(0,D.UM)(Qt)&&(pt=(0,D.UM)(pt)?Qe.isLinear?0:.25:pt,Qt=W.isTransposed?pt*Q.height:pt*Y.width);var Sr=void 0,Mr=void 0,Or=void 0,Xr=void 0;W.isTransposed?(Sr=Me.minX,Mr=Math.min(Q.minY,Y.minY)-Qt,Or=Me.width,Xr=te.height+Qt*2):(Sr=Math.min(Y.minX,Q.minX)-Qt,Mr=Me.minY,Or=te.width+Qt*2,Xr=Me.height),Fe=[["M",Sr,Mr],["L",Sr+Or,Mr],["L",Sr+Or,Mr+Xr],["L",Sr,Mr+Xr],["Z"]]}else{var tn=(0,D.YM)(B),ti=(0,D.Z$)(B),ri=Jd(tn.getModel(),W).startAngle,Yi=Jd(ti.getModel(),W).endAngle,xa=W.getCenter(),vo=W.getRadius(),_u=W.innerRadius*vo;Fe=eh(xa.x,xa.y,vo,ri,Yi,_u)}if(this.regionPath)this.regionPath.attr("path",Fe),this.regionPath.show();else{var ws=(0,D.U2)(t,"style",Uw);this.regionPath=he.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,U.pi)((0,U.pi)({},ws),{path:Fe})})}}}},f.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},f.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),h.prototype.destroy.call(this)},f}(gl),QM=kE,Km=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.timeStamp=0,t}return f.prototype.show=function(){var t=this.context,c=t.event,v=t.view,y=v.isTooltipLocked();if(!y){var b=this.timeStamp,M=+new Date,A=(0,D.U2)(t.view.getOptions(),"tooltip.showDelay",16);if(M-b>A){var B=this.location,H={x:c.x,y:c.y};(!B||!(0,D.Xy)(B,H))&&this.showTooltip(v,H),this.timeStamp=M,this.location=H}}},f.prototype.hide=function(){var t=this.context.view,c=t.getController("tooltip"),v=this.context.event,y=v.clientX,b=v.clientY;c.isCursorEntered({x:y,y:b})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},f.prototype.showTooltip=function(t,c){t.showTooltip(c)},f.prototype.hideTooltip=function(t){t.hideTooltip()},f}(gl),Tp=Km,FE=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.showTooltip=function(t,c){var v=Bs(t);(0,D.S6)(v,function(y){var b=ks(t,y,c);y.showTooltip(b)})},f.prototype.hideTooltip=function(t){var c=Bs(t);(0,D.S6)(c,function(v){v.hideTooltip()})},f}(Tp),qg=FE,Yw=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.timeStamp=0,t}return f.prototype.destroy=function(){h.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},f.prototype.show=function(){var t=this.context,c=t.event,v=this.timeStamp,y=+new Date;if(y-v>16){var b=this.location,M={x:c.x,y:c.y};(!b||!(0,D.Xy)(b,M))&&this.showTooltip(M),this.timeStamp=y,this.location=M}},f.prototype.hide=function(){this.hideTooltip(),this.location=null},f.prototype.showTooltip=function(t){var c=this.context,v=c.event,y=v.target;if(y&&y.get("tip")){if(!this.tooltip)this.renderTooltip();else{var b=c.view,M=b.canvas,A={start:{x:0,y:0},end:{x:M.get("width"),y:M.get("height")}};this.tooltip.set("region",A)}var B=y.get("tip");this.tooltip.update((0,U.pi)({title:B},t)),this.tooltip.show()}},f.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},f.prototype.renderTooltip=function(){var t,c=this.context.view,v=c.canvas,y={start:{x:0,y:0},end:{x:v.get("width"),y:v.get("height")}},b=c.getTheme(),M=(0,D.U2)(b,["components","tooltip","domStyles"],{}),A=new Qd({parent:v.get("el").parentNode,region:y,visible:!1,crosshairs:null,domStyles:(0,U.pi)({},(0,D.b$)({},M,(t={},t[Wc]={"max-width":"50%"},t[Xh]={"word-break":"break-all"},t)))});A.init(),A.setCapture(!1),this.tooltip=A},f}(gl),JM=Yw,NE=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="",t}return f.prototype.hasState=function(t){return t.hasState(this.stateName)},f.prototype.setElementState=function(t,c){t.setState(this.stateName,c)},f.prototype.setState=function(){this.setStateEnable(!0)},f.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},f.prototype.clearViewState=function(t){var c=this,v=fb(t,this.stateName);(0,D.S6)(v,function(y){c.setElementState(y,!1)})},f}(gl),qm=NE;function jw(h){return(0,D.U2)(h.get("delegateObject"),"item")}var Vw=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return f.prototype.isItemIgnore=function(t,c){var v=this.ignoreListItemStates,y=v.filter(function(b){return c.hasState(t,b)});return!!y.length},f.prototype.setStateByComponent=function(t,c,v){var y=this.context.view,b=t.get("field"),M=vs(y);this.setElementsStateByItem(M,b,c,v)},f.prototype.setStateByElement=function(t,c){this.setElementState(t,c)},f.prototype.isMathItem=function(t,c,v){var y=this.context.view,b=bc(y,c),M=Cc(t,c);return!(0,D.UM)(M)&&v.name===b.getText(M)},f.prototype.setElementsStateByItem=function(t,c,v,y){var b=this;(0,D.S6)(t,function(M){b.isMathItem(M,c,v)&&M.setState(b.stateName,y)})},f.prototype.setStateEnable=function(t){var c=en(this.context);if(c)nC(this.context)&&this.setStateByElement(c,t);else{var v=th(this.context);if(yg(v)){var y=v.item,b=v.component;if(y&&b&&!this.isItemIgnore(y,b)){var M=this.context.event.gEvent;if(M&&M.fromShape&&M.toShape&&jw(M.fromShape)===jw(M.toShape))return;this.setStateByComponent(b,y,t)}}}},f.prototype.toggle=function(){var t=en(this.context);if(t){var c=t.hasState(this.stateName);this.setElementState(t,!c)}},f.prototype.reset=function(){this.setStateEnable(!1)},f}(qm),Qm=Vw,f2=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="active",t}return f.prototype.active=function(){this.setState()},f}(Qm),eT=f2,Op=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.cache={},t}return f.prototype.getColorScale=function(t,c){var v=c.geometry.getAttribute("color");if(!v)return null;var y=t.getScaleByField(v.getFields()[0]);return y},f.prototype.getLinkPath=function(t,c){var v=this.context.view,y=v.getCoordinate().isTransposed,b=t.shape.getCanvasBBox(),M=c.shape.getCanvasBBox(),A=y?[["M",b.minX,b.minY],["L",M.minX,M.maxY],["L",M.maxX,M.maxY],["L",b.maxX,b.minY],["Z"]]:[["M",b.maxX,b.minY],["L",M.minX,M.minY],["L",M.minX,M.maxY],["L",b.maxX,b.maxY],["Z"]];return A},f.prototype.addLinkShape=function(t,c,v,y){var b={opacity:.4,fill:c.shape.attr("fill")};t.addShape({type:"path",attrs:(0,U.pi)((0,U.pi)({},(0,D.b$)({},b,(0,D.mf)(y)?y(b,c):y)),{path:this.getLinkPath(c,v)})})},f.prototype.linkByElement=function(t,c){var v=this,y=this.context.view,b=this.getColorScale(y,t);if(b){var M=Cc(t,b.field);if(!this.cache[M]){var A=Gx(y,b.field,M),B=this.linkGroup,H=B.addGroup();this.cache[M]=H;var W=A.length;(0,D.S6)(A,function(Y,Q){if(Q<W-1){var te=A[Q+1];v.addLinkShape(H,Y,te,c)}})}}},f.prototype.removeLink=function(t){var c=this.getColorScale(this.context.view,t);if(c){var v=Cc(t,c.field);this.cache[v]&&(this.cache[v].remove(),this.cache[v]=null)}},f.prototype.link=function(t){var c=this.context;this.linkGroup||(this.linkGroup=c.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var v=en(c);v&&this.linkByElement(v,t==null?void 0:t.style)},f.prototype.unlink=function(){var t=en(this.context);t&&this.removeLink(t)},f.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},f.prototype.destroy=function(){h.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},f}(gl),v1=Op,Qg=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return f.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},f.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},f.prototype.getIntersectElements=function(){var t=null;if(ml(this.context))t=Bo(this.context,10);else{var c=this.startPoint,v=this.isStarted?this.getCurrentPoint():this.endPoint;if(!c||!v)return;var y={minX:Math.min(c.x,v.x),minY:Math.min(c.y,v.y),maxX:Math.max(c.x,v.x),maxY:Math.max(c.y,v.y)},b=this.context.view;t=Tf(b,y)}return t},f.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var c=vs(this.context.view),v=this.getIntersectElements();v&&v.length?this.effectByRecord?this.setSiblingsStateByRecord(v,t):this.setElementsState(v,t,c):this.clear()}},f.prototype.setSiblingsStateByRecord=function(t,c){var v=this,y=this.context.view,b=Bs(y),M=t.map(function(H){return H.getModel().data}),A=y.getXScale().field,B=y.getYScales()[0].field;(0,D.S6)(b,function(H){var W=vs(H),Y=W.filter(function(Q){var te=Q.getModel().data;return Fi(M,te,A,B)});v.setElementsState(Y,c,W)})},f.prototype.setSiblingsState=function(t){var c=this,v=this.context.view,y=Bs(v);ml(this.context)&&(0,D.S6)(y,function(b){var M=vs(b),A=cb(c.context,b,10);A&&A.length?c.setElementsState(A,t,M):c.clearViewState(b)})},f.prototype.setElementsState=function(t,c,v){var y=this;(0,D.S6)(v,function(b){t.includes(b)?y.setElementState(b,c):y.setElementState(b,!1)})},f.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},f.prototype.clear=function(){var t=this,c=this.context.view;if(this.effectSiblings){var v=Bs(c);(0,D.S6)(v,function(y){t.clearViewState(y)})}else this.clearViewState(c)},f}(qm),Jm=Qg,Jg=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="active",t}return f.prototype.active=function(){this.setState()},f}(Jm),tT=Jg,h2=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.setStateEnable=function(t){var c=en(this.context);if(c){if(!nC(this.context))return;t?(this.clear(),this.setElementState(c,!0)):this.hasState(c)&&this.setElementState(c,!1)}},f.prototype.toggle=function(){var t=en(this.context);if(t){var c=this.hasState(t);c||this.clear(),this.setElementState(t,!c)}},f.prototype.reset=function(){this.setStateEnable(!1)},f}(qm),p1=h2,ey=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="active",t}return f.prototype.active=function(){this.setState()},f}(p1),HE=ey,ty="inactive",Ap="active";function g1(h){var f=vs(h);(0,D.S6)(f,function(t){t.hasState(Ap)&&t.setState(Ap,!1),t.hasState(ty)&&t.setState(ty,!1)})}function m1(h,f,t){(0,D.S6)(h,function(c){f(c)?(c.hasState(ty)&&c.setState(ty,!1),c.setState(Ap,t)):(c.hasState(Ap)&&c.setState(Ap,!1),c.setState(ty,t))})}var wv=er.INACTIVE,_h=er.ACTIVE,e0=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName=_h,t}return f.prototype.setElementsStateByItem=function(t,c,v,y){var b=this,M=function(A){return b.isMathItem(A,c,v)};this.setHighlightBy(t,M,y)},f.prototype.setElementHighlight=function(t,c){c(t)?(t.hasState(wv)&&t.setState(wv,!1),t.setState(_h,!0)):t.hasState(_h)||t.setState(wv,!0)},f.prototype.setHighlightBy=function(t,c,v){var y=this;if(v)(0,D.S6)(t,function(A){y.setElementHighlight(A,c)});else{var b=fb(this.context.view,_h),M=!0;(0,D.S6)(b,function(A){if(!c(A))return M=!1,!1}),M?this.clear():(0,D.S6)(t,function(A){c(A)&&(A.hasState(_h)&&A.setState(_h,!1),A.setState(wv,!0))})}},f.prototype.setElementState=function(t,c){var v=this.context.view,y=vs(v);this.setHighlightBy(y,function(b){return t===b},c)},f.prototype.highlight=function(){this.setState()},f.prototype.clear=function(){var t=this.context.view;g1(t)},f}(Qm),y1=e0,Ip=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.setStateByElement=function(t,c){var v=this.context.view,y=t.geometry.getAttribute("color");if(y){var b=v.getScaleByField(y.getFields()[0]),M=Cc(t,b.field),A=vs(v),B=A.filter(function(H){return Cc(H,b.field)===M});this.setHighlightBy(A,function(H){return B.includes(H)},c)}},f}(y1),zE=Ip,ry=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.setElementHighlight=function(t,c){c(t)?(t.hasState(wv)&&t.setState(wv,!1),t.setState(_h,!0)):(t.setState(wv,!0),t.hasState(_h)&&t.setState(_h,!1))},f.prototype.setStateByElement=function(t,c){var v=this.context.view,y=v.getXScale(),b=Cc(t,y.field),M=vs(v),A=M.filter(function(B){return Cc(B,y.field)===b});this.setHighlightBy(M,function(B){return A.includes(B)},c)},f.prototype.toggle=function(){var t=en(this.context);if(t){var c=t.hasState(this.stateName);this.setStateByElement(t,!c)}},f}(y1),Xw=ry,tf;(function(h){h.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",h.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",h.BEFORE_CLEAR="element-range-highlight:beforeclear",h.AFTER_CLEAR="element-range-highlight:afterclear"})(tf||(tf={}));var WE=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="active",t}return f.prototype.clearViewState=function(t){g1(t)},f.prototype.highlight=function(){var t=this.context,c=t.view,v=t.event,y=this.getIntersectElements(),b={view:c,event:v,highlightElements:y};c.emit(tf.BEFORE_HIGHLIGHT,Ul.fromData(c,tf.BEFORE_HIGHLIGHT,b)),this.setState(),c.emit(tf.AFTER_HIGHLIGHT,Ul.fromData(c,tf.AFTER_HIGHLIGHT,b))},f.prototype.clear=function(){var t=this.context.view;t.emit(tf.BEFORE_CLEAR,Ul.fromData(t,tf.BEFORE_CLEAR,{})),h.prototype.clear.call(this),t.emit(tf.AFTER_CLEAR,Ul.fromData(t,tf.AFTER_CLEAR,{}))},f.prototype.setElementsState=function(t,c,v){m1(v,function(y){return t.indexOf(y)>=0},c)},f}(Jm),d2=WE,da=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="active",t}return f.prototype.highlight=function(){this.setState()},f.prototype.setElementState=function(t,c){var v=this.context.view,y=vs(v);m1(y,function(b){return t===b},c)},f.prototype.clear=function(){var t=this.context.view;g1(t)},f}(p1),v2=da,Zw=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="selected",t}return f.prototype.selected=function(){this.setState()},f}(Jm),Kw=Zw,GE=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="selected",t}return f.prototype.selected=function(){this.setState()},f}(Qm),$E=GE,S=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="selected",t}return f.prototype.selected=function(){this.setState()},f}(p1),T=S,L=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return f.prototype.getTriggerListInfo=function(){var t=th(this.context),c=null;return yg(t)&&(c={item:t.item,list:t.component}),c},f.prototype.getAllowComponents=function(){var t=this,c=this.context.view,v=Zo(c),y=[];return(0,D.S6)(v,function(b){b.isList()&&t.allowSetStateByElement(b)&&y.push(b)}),y},f.prototype.hasState=function(t,c){return t.hasState(c,this.stateName)},f.prototype.clearAllComponentsState=function(){var t=this,c=this.getAllowComponents();(0,D.S6)(c,function(v){v.clearItemsState(t.stateName)})},f.prototype.allowSetStateByElement=function(t){var c=t.get("field");if(!c)return!1;if(this.cfg&&this.cfg.componentNames){var v=t.get("name");if(this.cfg.componentNames.indexOf(v)===-1)return!1}var y=this.context.view,b=bc(y,c);return b&&b.isCategory},f.prototype.allowSetStateByItem=function(t,c){var v=this.ignoreItemStates;if(v.length){var y=v.filter(function(b){return c.hasState(t,b)});return y.length===0}return!0},f.prototype.setStateByElement=function(t,c,v){var y=t.get("field"),b=this.context.view,M=bc(b,y),A=Cc(c,y),B=M.getText(A);this.setItemsState(t,B,v)},f.prototype.setStateEnable=function(t){var c=this,v=en(this.context);if(v){var y=this.getAllowComponents();(0,D.S6)(y,function(B){c.setStateByElement(B,v,t)})}else{var b=th(this.context);if(yg(b)){var M=b.item,A=b.component;this.allowSetStateByElement(A)&&this.allowSetStateByItem(M,A)&&this.setItemState(A,M,t)}}},f.prototype.setItemsState=function(t,c,v){var y=this,b=t.getItems();(0,D.S6)(b,function(M){M.name===c&&y.setItemState(t,M,v)})},f.prototype.setItemState=function(t,c,v){t.setItemState(c,this.stateName,v)},f.prototype.setState=function(){this.setStateEnable(!0)},f.prototype.reset=function(){this.setStateEnable(!1)},f.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var c=t.list,v=t.item,y=this.hasState(c,v);this.setItemState(c,v,!y)}},f.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},f}(gl),G=L,Z=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="active",t}return f.prototype.active=function(){this.setState()},f}(G),K=Z,ne="inactive",ae="active";function we(h){var f=h.getItems();(0,D.S6)(f,function(t){h.hasState(t,ae)&&h.setItemState(t,ae,!1),h.hasState(t,ne)&&h.setItemState(t,ne,!1)})}var De="inactive",We="active",ke=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName=We,t.ignoreItemStates=["unchecked"],t}return f.prototype.setItemsState=function(t,c,v){this.setHighlightBy(t,function(y){return y.name===c},v)},f.prototype.setItemState=function(t,c,v){var y=t.getItems();this.setHighlightBy(t,function(b){return b===c},v)},f.prototype.setHighlightBy=function(t,c,v){var y=t.getItems();if(v)(0,D.S6)(y,function(A){c(A)?(t.hasState(A,De)&&t.setItemState(A,De,!1),t.setItemState(A,We,!0)):t.hasState(A,We)||t.setItemState(A,De,!0)});else{var b=t.getItemsByState(We),M=!0;(0,D.S6)(b,function(A){if(!c(A))return M=!1,!1}),M?this.clear():(0,D.S6)(y,function(A){c(A)&&(t.hasState(A,We)&&t.setItemState(A,We,!1),t.setItemState(A,De,!0))})}},f.prototype.highlight=function(){this.setState()},f.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)we(t.list);else{var c=this.getAllowComponents();(0,D.S6)(c,function(v){v.clearItemsState(We),v.clearItemsState(De)})}},f}(G),He=ke,ot=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="selected",t}return f.prototype.selected=function(){this.setState()},f}(G),zt=ot,Cr=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName="unchecked",t}return f.prototype.unchecked=function(){this.setState()},f}(G),mr=Cr,Er="unchecked",Ir="checked",pn=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.stateName=Ir,t}return f.prototype.setItemState=function(t,c,v){this.setCheckedBy(t,function(y){return y===c},v)},f.prototype.setCheckedBy=function(t,c,v){var y=t.getItems();v&&(0,D.S6)(y,function(b){c(b)?(t.hasState(b,Er)&&t.setItemState(b,Er,!1),t.setItemState(b,Ir,!0)):t.hasState(b,Ir)||t.setItemState(b,Er,!0)})},f.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var c=t.list,v=t.item,y=!(0,D.G)(c.getItems(),function(b){return c.hasState(b,Er)});y||c.hasState(v,Er)?this.setItemState(c,v,!0):this.reset()}},f.prototype.checked=function(){this.setState()},f.prototype.reset=function(){var t=this.getAllowComponents();(0,D.S6)(t,function(c){c.clearItemsState(Ir),c.clearItemsState(Er)})},f}(G),Ur=pn,$n="unchecked",Cn=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.toggle=function(){var t,c,v,y,b,M,A,B,H=this.getTriggerListInfo();if(H!=null&&H.item){var W=H.list,Y=H.item,Q=W.getItems(),te=Q.filter(function(tn){return!W.hasState(tn,$n)}),he=Q.filter(function(tn){return W.hasState(tn,$n)}),Me=te[0];if(Q.length===te.length)try{for(var Fe=(0,U.XA)(Q),Qe=Fe.next();!Qe.done;Qe=Fe.next()){var nt=Qe.value;W.setItemState(nt,$n,nt.id!==Y.id)}}catch(tn){t={error:tn}}finally{try{Qe&&!Qe.done&&(c=Fe.return)&&c.call(Fe)}finally{if(t)throw t.error}}else if(Q.length-he.length===1)if(Me.id===Y.id)try{for(var pt=(0,U.XA)(Q),Qt=pt.next();!Qt.done;Qt=pt.next()){var nt=Qt.value;W.setItemState(nt,$n,!1)}}catch(tn){v={error:tn}}finally{try{Qt&&!Qt.done&&(y=pt.return)&&y.call(pt)}finally{if(v)throw v.error}}else try{for(var Sr=(0,U.XA)(Q),Mr=Sr.next();!Mr.done;Mr=Sr.next()){var nt=Mr.value;W.setItemState(nt,$n,nt.id!==Y.id)}}catch(tn){b={error:tn}}finally{try{Mr&&!Mr.done&&(M=Sr.return)&&M.call(Sr)}finally{if(b)throw b.error}}else try{for(var Or=(0,U.XA)(Q),Xr=Or.next();!Xr.done;Xr=Or.next()){var nt=Xr.value;W.setItemState(nt,$n,nt.id!==Y.id)}}catch(tn){A={error:tn}}finally{try{Xr&&!Xr.done&&(B=Or.return)&&B.call(Or)}finally{if(A)throw A.error}}}},f}(G),Un=Cn,ii="showRadio",mi="legend-radio-tip",Ia=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.timeStamp=0,t}return f.prototype.show=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var c=t.list,v=t.item;c.setItemState(v,ii,!0)}},f.prototype.hide=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var c=t.list,v=t.item;c.setItemState(v,ii,!1)}},f.prototype.destroy=function(){h.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},f.prototype.showTip=function(){var t=this.context,c=t.event,v=this.timeStamp,y=+new Date,b=this.context.event.target;if(y-v>16&&b.get("name")==="legend-item-radio"){var M=this.location,A={x:c.x,y:c.y};this.timeStamp=y,this.location=A,(!M||!(0,D.Xy)(M,A))&&this.showTooltip(A)}},f.prototype.hideTip=function(){this.hideTooltip(),this.location=null},f.prototype.showTooltip=function(t){var c=this.context,v=c.event,y=v.target;if(y&&y.get("tip")){this.tooltip||this.renderTooltip();var b=c.view.getCanvas().get("el").getBoundingClientRect(),M=b.x,A=b.y;this.tooltip.update((0,U.pi)((0,U.pi)({title:y.get("tip")},t),{x:t.x+M,y:t.y+A})),this.tooltip.show()}},f.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},f.prototype.renderTooltip=function(){var t,c=(t={},t[Wc]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[Xh]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(mi)&&document.body.removeChild(document.getElementById(mi));var v=new Qd({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:c,containerId:mi});v.init(),v.setCapture(!1),this.tooltip=v},f}(G),ka=Ia,Vl=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return f.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},f.prototype.emitEvent=function(t){var c="mask:".concat(t),v=this.context.view,y=this.context.event;v.emit(c,{target:this.maskShape,shape:this.maskShape,points:this.points,x:y.x,y:y.y})},f.prototype.createMask=function(){var t=this.context.view,c=this.getMaskAttrs(),v=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,U.pi)({fill:"#C5D4EB",opacity:.3},c)});return v},f.prototype.getMaskPath=function(){return[]},f.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},f.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},f.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},f.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),c=this.preMovePoint,v=t.x-c.x,y=t.y-c.y,b=this.points;(0,D.S6)(b,function(M){M.x+=v,M.y+=y}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},f.prototype.updateMask=function(t){var c=(0,D.b$)({},this.getMaskAttrs(),t);this.maskShape.attr(c)},f.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},f.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},f.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},f.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},f.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,h.prototype.destroy.call(this)},f}(gl),hl=Vl;function qo(h){var f=(0,D.Z$)(h),t=0,c=0,v=0;if(h.length){var y=h[0];t=aC(y,f)/2,c=(f.x+y.x)/2,v=(f.y+y.y)/2}return{x:c,y:v,r:t}}var es=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.shapeType="circle",t}return f.prototype.getMaskAttrs=function(){return qo(this.points)},f}(hl),bs=es;function oo(h){return{start:(0,D.YM)(h),end:(0,D.Z$)(h)}}function Oc(h,f){var t=Math.min(h.x,f.x),c=Math.min(h.y,f.y),v=Math.abs(f.x-h.x),y=Math.abs(f.y-h.y);return{x:t,y:c,width:v,height:y}}var Eh=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.shapeType="rect",t}return f.prototype.getRegion=function(){return oo(this.points)},f.prototype.getMaskAttrs=function(){var t=this.getRegion(),c=t.start,v=t.end;return Oc(c,v)},f}(hl),Su=Eh;function Ac(h){h.x=(0,D.uZ)(h.x,0,1),h.y=(0,D.uZ)(h.y,0,1)}function eu(h,f,t,c){var v=null,y=null,b=c.invert((0,D.YM)(h)),M=c.invert((0,D.Z$)(h));return t&&(Ac(b),Ac(M)),f==="x"?(v=c.convert({x:b.x,y:0}),y=c.convert({x:M.x,y:1})):(v=c.convert({x:0,y:b.y}),y=c.convert({x:1,y:M.y})),{start:v,end:y}}var Rp=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return f.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return eu(this.points,this.dim,this.inPlot,t)},f}(Su),_d=Rp;function rf(h){var f=[];return h.length&&((0,D.S6)(h,function(t,c){c===0?f.push(["M",t.x,t.y]):f.push(["L",t.x,t.y])}),f.push(["L",h[0].x,h[0].y])),f}function Dp(h){return{path:rf(h)}}var t0=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getMaskPath=function(){return rf(this.points)},f.prototype.getMaskAttrs=function(){return Dp(this.points)},f.prototype.addPoint=function(){this.resize()},f}(hl),va=t0;function za(h){return qu(h,!0)}function xo(h){return{path:za(h)}}var xl=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getMaskPath=function(){return za(this.points)},f.prototype.getMaskAttrs=function(){return xo(this.points)},f}(va),Ic=xl,tu=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.maskShapes=[],t.starting=!1,t.moving=!1,t.recordPoints=null,t.preMovePoint=null,t.shapeType="path",t.maskType="multi-mask",t}return f.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},f.prototype.emitEvent=function(t){var c="".concat(this.maskType,":").concat(t),v=this.context.view,y=this.context.event,b={type:this.shapeType,name:this.maskType,get:function(M){return b.hasOwnProperty(M)?b[M]:void 0}};v.emit(c,{target:b,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:y.x,y:y.y})},f.prototype.createMask=function(t){var c=this.context.view,v=this.recordPoints[t],y=this.getMaskAttrs(v),b=c.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,U.pi)({fill:"#C5D4EB",opacity:.3},y)});this.maskShapes.push(b)},f.prototype.getMaskPath=function(t){return[]},f.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.show()}),this.emitEvent("show"))},f.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1;var c=this.recordPoints.length-1;this.createMask(c),this.updateShapesCapture(!1),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},f.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},f.prototype.move=function(){if(!(!this.moving||this.maskShapes.length===0)){var t=this.getCurrentPoint(),c=this.preMovePoint,v=t.x-c.x,y=t.y-c.y,b=this.getCurMaskShapeIndex();b>-1&&(this.recordPoints[b].forEach(function(M){M.x+=v,M.y+=y}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},f.prototype.updateMask=function(t){var c=this;this.recordPoints.forEach(function(v,y){var b=(0,D.b$)({},c.getMaskAttrs(v),t);c.maskShapes[y].attr(b)})},f.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},f.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},f.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},f.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.hide()}),this.emitEvent("hide"))},f.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},f.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(t){return t.remove()}),this.maskShapes=[],this.preMovePoint=null},f.prototype.clear=function(){var t=this.getCurMaskShapeIndex();t===-1?(this.recordPointClear(),this.maskShapes.forEach(function(c){return c.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},f.prototype.destroy=function(){this.clear(),h.prototype.destroy.call(this)},f.prototype.getRecordPoints=function(){var t;return(0,U.ev)([],(0,U.CR)((t=this.recordPoints)!==null&&t!==void 0?t:[]),!1)},f.prototype.recordPointStart=function(){var t=this.getRecordPoints(),c=this.getCurrentPoint();this.recordPoints=(0,U.ev)((0,U.ev)([],(0,U.CR)(t),!1),[[c]],!1)},f.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),c=this.getCurrentPoint(),v=t.splice(-1,1)[0]||[];v.push(c),this.recordPoints=(0,U.ev)((0,U.ev)([],(0,U.CR)(t),!1),[v],!1)},f.prototype.recordPointClear=function(){this.recordPoints=[]},f.prototype.updateShapesCapture=function(t){this.maskShapes.forEach(function(c){return c.set("capture",t)})},f.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex(function(c){var v=c.attrs,y=v.width,b=v.height,M=v.r,A=y===0||b===0||M===0;return!A&&c.isHit(t.x,t.y)})},f}(gl),$u=tu,nf=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.shapeType="rect",t}return f.prototype.getRegion=function(t){return oo(t)},f.prototype.getMaskAttrs=function(t){var c=this.getRegion(t),v=c.start,y=c.end;return Oc(v,y)},f}($u),af=nf,ny=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return f.prototype.getRegion=function(t){var c=this.context.view.getCoordinate();return eu(t,this.dim,this.inPlot,c)},f}(af),lo=ny,iy=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.shapeType="circle",t.getMaskAttrs=qo,t}return f}($u),qw=iy,VT=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.getMaskPath=rf,t.getMaskAttrs=Dp,t}return f.prototype.addPoint=function(){this.resize()},f}($u),UE=VT,rT=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.getMaskPath=za,t.getMaskAttrs=xo,t}return f}(UE),XT=rT,ZT=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.setCursor=function(t){var c=this.context.view;c.getCanvas().setCursor(t)},f.prototype.default=function(){this.setCursor("default")},f.prototype.pointer=function(){this.setCursor("pointer")},f.prototype.move=function(){this.setCursor("move")},f.prototype.crosshair=function(){this.setCursor("crosshair")},f.prototype.wait=function(){this.setCursor("wait")},f.prototype.help=function(){this.setCursor("help")},f.prototype.text=function(){this.setCursor("text")},f.prototype.eResize=function(){this.setCursor("e-resize")},f.prototype.wResize=function(){this.setCursor("w-resize")},f.prototype.nResize=function(){this.setCursor("n-resize")},f.prototype.sResize=function(){this.setCursor("s-resize")},f.prototype.neResize=function(){this.setCursor("ne-resize")},f.prototype.nwResize=function(){this.setCursor("nw-resize")},f.prototype.seResize=function(){this.setCursor("se-resize")},f.prototype.swResize=function(){this.setCursor("sw-resize")},f.prototype.nsResize=function(){this.setCursor("ns-resize")},f.prototype.ewResize=function(){this.setCursor("ew-resize")},f.prototype.zoomIn=function(){this.setCursor("zoom-in")},f.prototype.zoomOut=function(){this.setCursor("zoom-out")},f}(gl),KT=ZT,kf=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.filterView=function(t,c,v){var y=this;t.getScaleByField(c)&&t.filter(c,v),t.views&&t.views.length&&(0,D.S6)(t.views,function(b){y.filterView(b,c,v)})},f.prototype.filter=function(){var t=th(this.context);if(t){var c=this.context.view,v=t.component,y=v.get("field");if(yg(t)){if(y){var b=v.getItemsByState("unchecked"),M=bc(c,y),A=b.map(function(Q){return Q.name});A.length?this.filterView(c,y,function(Q){var te=M.getText(Q);return!A.includes(te)}):this.filterView(c,y,null),c.render(!0)}}else if(iC(t)){var B=v.getValue(),H=(0,U.CR)(B,2),W=H[0],Y=H[1];this.filterView(c,y,function(Q){return Q>=W&&Q<=Y}),c.render(!0)}}},f}(gl),YE=kf;function Qw(h,f,t,c){var v=Math.min(t[f],c[f]),y=Math.max(t[f],c[f]),b=(0,U.CR)(h.range,2),M=b[0],A=b[1];if(v<M&&(v=M),y>A&&(y=A),v===A&&y===A)return null;var B=h.invert(v),H=h.invert(y);if(h.isCategory){var W=h.values.indexOf(B),Y=h.values.indexOf(H),Q=h.values.slice(W,Y+1);return function(te){return Q.includes(te)}}else return function(te){return te>=B&&te<=H}}var Sl;(function(h){h.FILTER="brush-filter-processing",h.RESET="brush-filter-reset",h.BEFORE_FILTER="brush-filter:beforefilter",h.AFTER_FILTER="brush-filter:afterfilter",h.BEFORE_RESET="brush-filter:beforereset",h.AFTER_RESET="brush-filter:afterreset"})(Sl||(Sl={}));var Xi=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return f.prototype.hasDim=function(t){return this.dims.includes(t)},f.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},f.prototype.filter=function(){var t,c;if(ml(this.context)){var v=this.context.event.target,y=v.getCanvasBBox();t={x:y.x,y:y.y},c={x:y.maxX,y:y.maxY}}else{if(!this.isStarted)return;t=this.startPoint,c=this.context.getCurrentPoint()}if(!(Math.abs(t.x-c.x)<5||Math.abs(t.x-c.y)<5)){var b=this.context,M=b.view,A=b.event,B={view:M,event:A,dims:this.dims};M.emit(Sl.BEFORE_FILTER,Ul.fromData(M,Sl.BEFORE_FILTER,B));var H=M.getCoordinate(),W=H.invert(c),Y=H.invert(t);if(this.hasDim("x")){var Q=M.getXScale(),te=Qw(Q,"x",W,Y);this.filterView(M,Q.field,te)}if(this.hasDim("y")){var he=M.getYScales()[0],te=Qw(he,"y",W,Y);this.filterView(M,he.field,te)}this.reRender(M,{source:Sl.FILTER}),M.emit(Sl.AFTER_FILTER,Ul.fromData(M,Sl.AFTER_FILTER,B))}},f.prototype.end=function(){this.isStarted=!1},f.prototype.reset=function(){var t=this.context.view;if(t.emit(Sl.BEFORE_RESET,Ul.fromData(t,Sl.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var c=t.getXScale();this.filterView(t,c.field,null)}if(this.hasDim("y")){var v=t.getYScales()[0];this.filterView(t,v.field,null)}this.reRender(t,{source:Sl.RESET}),t.emit(Sl.AFTER_RESET,Ul.fromData(t,Sl.AFTER_RESET,{}))},f.prototype.filterView=function(t,c,v){t.filter(c,v)},f.prototype.reRender=function(t,c){t.render(!0,c)},f}(gl),p2=Xi,qT=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.filterView=function(t,c,v){var y=Bs(t);(0,D.S6)(y,function(b){b.filter(c,v)})},f.prototype.reRender=function(t){var c=Bs(t);(0,D.S6)(c,function(v){v.render(!0)})},f}(p2),Jw=qT,g2=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.filter=function(){var t=th(this.context),c=this.context.view,v=vs(c);if(ml(this.context)){var y=Bo(this.context,10);y&&(0,D.S6)(v,function(he){y.includes(he)?he.show():he.hide()})}else if(t){var b=t.component,M=b.get("field");if(yg(t)){if(M){var A=b.getItemsByState("unchecked"),B=bc(c,M),H=A.map(function(he){return he.name});(0,D.S6)(v,function(he){var Me=Cc(he,M),Fe=B.getText(Me);H.indexOf(Fe)>=0?he.hide():he.show()})}}else if(iC(t)){var W=b.getValue(),Y=(0,U.CR)(W,2),Q=Y[0],te=Y[1];(0,D.S6)(v,function(he){var Me=Cc(he,M);Me>=Q&&Me<=te?he.show():he.hide()})}}},f.prototype.clear=function(){var t=vs(this.context.view);(0,D.S6)(t,function(c){c.show()})},f.prototype.reset=function(){this.clear()},f}(gl),QT=g2,nT=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.byRecord=!1,t}return f.prototype.filter=function(){ml(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},f.prototype.filterByRecord=function(){var t=this.context.view,c=Bo(this.context,10);if(c){var v=t.getXScale().field,y=t.getYScales()[0].field,b=c.map(function(A){return A.getModel().data}),M=Bs(t);(0,D.S6)(M,function(A){var B=vs(A);(0,D.S6)(B,function(H){var W=H.getModel().data;Fi(b,W,v,y)?H.show():H.hide()})})}},f.prototype.filterByBBox=function(){var t=this,c=this.context.view,v=Bs(c);(0,D.S6)(v,function(y){var b=cb(t.context,y,10),M=vs(y);b&&(0,D.S6)(M,function(A){b.includes(A)?A.show():A.hide()})})},f.prototype.reset=function(){var t=Bs(this.context.view);(0,D.S6)(t,function(c){var v=vs(c);(0,D.S6)(v,function(y){y.show()})})},f}(gl),ay=nT,ex=10,of=5,JT=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return f.prototype.getButtonCfg=function(){return(0,D.b$)(this.buttonCfg,this.cfg)},f.prototype.drawButton=function(){var t=this.getButtonCfg(),c=this.context.view.foregroundGroup.addGroup({name:t.name}),v=c.addShape({type:"text",name:"button-text",attrs:(0,U.pi)({text:t.text},t.textStyle)}),y=v.getBBox(),b=bg(t.padding),M=c.addShape({type:"rect",name:"button-rect",attrs:(0,U.pi)({x:y.x-b[3],y:y.y-b[0],width:y.width+b[1]+b[3],height:y.height+b[0]+b[2]},t.style)});M.toBack(),c.on("mouseenter",function(){M.attr(t.activeStyle)}),c.on("mouseleave",function(){M.attr(t.style)}),this.buttonGroup=c},f.prototype.resetPosition=function(){var t=this.context.view,c=t.getCoordinate(),v=c.convert({x:1,y:1}),y=this.buttonGroup,b=y.getBBox(),M=Pa.vs(null,[["t",v.x-b.width-ex,v.y+b.height+of]]);y.setMatrix(M)},f.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},f.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},f.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),h.prototype.destroy.call(this)},f}(gl),eO=JT,iT=4,aT=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return f.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},f.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),c=this.context.view,v=this.context.event;this.dragStart?c.emit("drag",{target:v.target,x:v.x,y:v.y}):aC(t,this.startPoint)>iT&&(c.emit("dragstart",{target:v.target,x:v.x,y:v.y}),this.dragStart=!0)}},f.prototype.end=function(){if(this.dragStart){var t=this.context.view,c=this.context.event;t.emit("dragend",{target:c.target,x:c.x,y:c.y})}this.starting=!1,this.dragStart=!1},f}(gl),tO=aT,oT=5,rO=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return f.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},f.prototype.move=function(){if(this.starting){var t=this.startPoint,c=this.context.getCurrentPoint(),v=aC(t,c);if(v>oT&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var y=this.context.view,b=Pa.vs(this.startMatrix,[["t",c.x-t.x,c.y-t.y]]);y.backgroundGroup.setMatrix(b),y.foregroundGroup.setMatrix(b),y.middleGroup.setMatrix(b)}}},f.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},f.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},f}(gl),jE=rO,ya="x",oy="y",nO=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.dims=[ya,oy],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return f.prototype.hasDim=function(t){return this.dims.includes(t)},f.prototype.getScale=function(t){var c=this.context.view;return t==="x"?c.getXScale():c.getYScales()[0]},f.prototype.resetDim=function(t){var c=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var v=this.getScale(t);c.scale(v.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},f.prototype.reset=function(){this.resetDim(ya),this.resetDim(oy);var t=this.context.view;t.render(!0)},f}(gl),VE=nO,iO=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return f.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var c=this.dims;(0,D.S6)(c,function(v){var y=t.getScale(v),b=y.min,M=y.max,A=y.values;t.startCache[v]={min:b,max:M,values:A}})},f.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},f.prototype.translate=function(){var t=this;if(this.starting){var c=this.startPoint,v=this.context.view.getCoordinate(),y=this.context.getCurrentPoint(),b=v.invert(c),M=v.invert(y),A=M.x-b.x,B=M.y-b.y,H=this.context.view,W=this.dims;(0,D.S6)(W,function(Y){t.translateDim(Y,{x:A*-1,y:B*-1})}),H.render(!0)}},f.prototype.translateDim=function(t,c){if(this.hasDim(t)){var v=this.getScale(t);v.isLinear&&this.translateLinear(t,v,c)}},f.prototype.translateLinear=function(t,c,v){var y=this.context.view,b=this.startCache[t],M=b.min,A=b.max,B=A-M,H=v[t]*B;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:c.nice,min:M,max:A}),y.scale(c.field,{nice:!1,min:M+H,max:A+H})},f.prototype.reset=function(){h.prototype.reset.call(this),this.startPoint=null,this.starting=!1},f}(VE),XE=iO,ZE=function(h){(0,U.ZT)(f,h);function f(){var t=h!==null&&h.apply(this,arguments)||this;return t.zoomRatio=.05,t}return f.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},f.prototype.zoom=function(t){var c=this,v=this.dims;(0,D.S6)(v,function(y){c.zoomDim(y,t)}),this.context.view.render(!0)},f.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},f.prototype.zoomDim=function(t,c){if(this.hasDim(t)){var v=this.getScale(t);v.isLinear&&this.zoomLinear(t,v,c)}},f.prototype.zoomLinear=function(t,c,v){var y=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:c.nice,min:c.min,max:c.max});var b=this.cacheScaleDefs[t],M=b.max-b.min,A=c.min,B=c.max,H=v*M,W=A-H,Y=B+H,Q=Y-W,te=Q/M;Y>W&&te<100&&te>.01&&y.scale(c.field,{nice:!1,min:A-H,max:B+H})},f}(VE),EA=ZE;function lT(h){var f=h.gEvent.originalEvent;return f.deltaY>0}var m2=1,KE=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.scroll=function(t){var c=this.context,v=c.view,y=c.event;if(v.getOptions().scrollbar){var b=(t==null?void 0:t.wheelDelta)||m2,M=v.getController("scrollbar"),A=v.getXScale(),B=v.getOptions().data,H=(0,D.dp)((0,D.I)(B,A.field)),W=(0,D.dp)(A.values),Y=M.getValue(),Q=Math.floor((H-W)*Y),te=Q+(lT(y)?b:-b),he=b/(H-W)/1e4,Me=(0,D.uZ)(te/(H-W)+he,0,1);M.setValue(Me)}},f}(gl),y2=KE,C1="aixs-description-tooltip",qE=function(h){(0,U.ZT)(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.show=function(){var t=this.context,c=th(t).axis,v=c.cfg.title,y=v.description,b=v.text,M=v.descriptionTooltipStyle,A=t.event,B=A.x,H=A.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:b||"",customContent:function(){return`
          <div class="`.concat(Wc,'" style={').concat(M,`}>
            <div class="`).concat(Xh,`">
              \u5B57\u6BB5\u8BF4\u660E\uFF1A`).concat(y,`
            </div>
          </div>
        `)},x:B,y:H}),this.tooltip.show()},f.prototype.destroy=function(){h.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},f.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},f.prototype.renderTooltip=function(){var t,c=this.context.view,v=c.canvas,y={start:{x:0,y:0},end:{x:v.get("width"),y:v.get("height")}},b=new Qd({parent:v.get("el").parentNode,region:y,visible:!1,containerId:C1,domStyles:(0,U.pi)({},(0,D.b$)({},(t={},t[Wc]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[Xh]={"word-break":"break-all","margin-bottom":"3px"},t)))});b.init(),b.setCapture(!1),this.tooltip=b},f}(gl),MA=qE;DM("dark",gs(Qx)),Fr("canvas",or),Fr("svg",Mt),Of("Polygon",vw),Of("Interval",jC),Of("Schema",VM),Of("Path",ow),Of("Point",BS),Of("Line",$g),Of("Area",DS),Of("Edge",sw),Of("Heatmap",cw),Of("Violin",jg),ih("base",av),ih("interval",gw),ih("pie",Fm),ih("polar",km),qs("overlap",ww),qs("distribute",US),qs("fixed-overlap",$m),qs("hide-overlap",Um),qs("limit-in-shape",rl),qs("limit-in-canvas",fE),qs("limit-in-plot",wE),qs("pie-outer",Wu),qs("adjust-color",hE),qs("interval-adjust-position",vE),qs("interval-hide-overlap",qS),qs("point-adjust-position",JS),qs("pie-spider",Wm),qs("path-adjust-position",CE),du("fade-in",t1),du("fade-out",Lw),du("grow-in-x",xE),du("grow-in-xy",n1),du("grow-in-y",r1),du("scale-in-x",_E),du("scale-in-y",Zg),du("wave-in",i1),du("zoom-in",a1),du("zoom-out",i2),du("position-update",r2),du("sector-path-update",Vm),du("path-in",SE),mc("rect",AE),mc("mirror",TE),mc("list",Xm),mc("matrix",a2),mc("circle",EE),mc("tree",RE),ki("axis",PE),ki("legend",Mp),ki("tooltip",Sg),ki("annotation",wo),ki("slider",BE),ki("scrollbar",$w),Oi("tooltip",Tp),Oi("sibling-tooltip",qg),Oi("ellipsis-text",JM),Oi("element-active",eT),Oi("element-single-active",HE),Oi("element-range-active",tT),Oi("element-highlight",y1),Oi("element-highlight-by-x",Xw),Oi("element-highlight-by-color",zE),Oi("element-single-highlight",v2),Oi("element-range-highlight",d2),Oi("element-sibling-highlight",d2,{effectSiblings:!0,effectByRecord:!0}),Oi("element-selected",$E),Oi("element-single-selected",T),Oi("element-range-selected",Kw),Oi("element-link-by-color",v1),Oi("active-region",QM),Oi("list-active",K),Oi("list-selected",zt),Oi("list-highlight",He),Oi("list-unchecked",mr),Oi("list-checked",Ur),Oi("list-focus",Un),Oi("list-radio",ka),Oi("legend-item-highlight",He,{componentNames:["legend"]}),Oi("axis-label-highlight",He,{componentNames:["axis"]}),Oi("axis-description",MA),Oi("rect-mask",Su),Oi("x-rect-mask",_d,{dim:"x"}),Oi("y-rect-mask",_d,{dim:"y"}),Oi("circle-mask",bs),Oi("path-mask",va),Oi("smooth-path-mask",Ic),Oi("rect-multi-mask",af),Oi("x-rect-multi-mask",lo,{dim:"x"}),Oi("y-rect-multi-mask",lo,{dim:"y"}),Oi("circle-multi-mask",qw),Oi("path-multi-mask",UE),Oi("smooth-path-multi-mask",XT),Oi("cursor",KT),Oi("data-filter",YE),Oi("brush",p2),Oi("brush-x",p2,{dims:["x"]}),Oi("brush-y",p2,{dims:["y"]}),Oi("sibling-filter",Jw),Oi("sibling-x-filter",Jw,{dims:"x"}),Oi("sibling-y-filter",Jw,{dims:"y"}),Oi("element-filter",QT),Oi("element-sibling-filter",ay),Oi("element-sibling-filter-record",ay,{byRecord:!0}),Oi("view-drag",tO),Oi("view-move",jE),Oi("scale-translate",XE),Oi("scale-zoom",EA),Oi("reset-button",eO,{name:"reset-button",text:"reset"}),Oi("mousewheel-scroll",y2);function Lp(h){return h.isInPlot()}fo("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),fo("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),fo("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),fo("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),fo("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),fo("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),fo("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),fo("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),fo("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),fo("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),fo("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),fo("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(h){return!h.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(h){return!h.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),fo("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Lp,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Lp,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Lp,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),fo("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),fo("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Lp,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Lp,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Lp,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),fo("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Lp,action:"path-mask:start"},{trigger:"mousedown",isEnable:Lp,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),fo("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:Lp,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(h){return!rp(h)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]}),fo("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),fo("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(h){return!h.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),fo("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),fo("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),fo("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]}),fo("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),fo("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function sT(h){return h.gEvent.preventDefault(),h.gEvent.originalEvent.deltaY>0}fo("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(h){return sT(h.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(h){return!sT(h.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),fo("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),fo("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]})},73432:function(ai,Sn,tt){"use strict";tt.d(Sn,{Dg:function(){return Dt},lh:function(){return cr},m$:function(){return ut},vs:function(){return ie},zu:function(){return oe}});var Ve=tt(91312),ye=tt(29617);function ut(kt,Mt,U){var D=[0,0,0,0,0,0,0,0,0];return Ve.vc(D,U),Ve.Jp(kt,D,Mt)}function oe(kt,Mt,U){var D=[0,0,0,0,0,0,0,0,0];return Ve.Us(D,U),Ve.Jp(kt,D,Mt)}function cr(kt,Mt,U){var D=[0,0,0,0,0,0,0,0,0];return Ve.xJ(D,U),Ve.Jp(kt,D,Mt)}function re(kt,Mt,U){return Ve.Jp(kt,U,Mt)}function ie(kt,Mt){for(var U=kt?[].concat(kt):[1,0,0,0,1,0,0,0,1],D=0,Pt=Mt.length;D<Pt;D++){var lt=Mt[D];switch(lt[0]){case"t":ut(U,U,[lt[1],lt[2]]);break;case"s":cr(U,U,[lt[1],lt[2]]);break;case"r":oe(U,U,lt[1]);break;case"m":re(U,U,lt[1]);break;default:break}}return U}function Ft(kt,Mt){return kt[0]*Mt[1]-Mt[0]*kt[1]}function Dt(kt,Mt,U){var D=ye.EU(kt,Mt),Pt=Ft(kt,Mt)>=0;return U?Pt?Math.PI*2-D:D:Pt?D:Math.PI*2-D}function or(kt,Mt,U){return U?(kt[0]=Mt[1],kt[1]=-1*Mt[0]):(kt[0]=-1*Mt[1],kt[1]=Mt[0]),kt}},84656:function(ai,Sn,tt){"use strict";tt.d(Sn,{e9:function(){return Dt},Wq:function(){return Kr},tr:function(){return lt},wb:function(){return tr},zx:function(){return st}});var Ve=tt(47165),ye=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,ut=/[^\s\,]+/ig;function oe(rt){var de=rt||[];if((0,Ve.kJ)(de))return de;if((0,Ve.HD)(de))return de=de.match(ye),(0,Ve.S6)(de,function(ve,ce){if(ve=ve.match(ut),ve[0].length>1){var xe=ve[0].charAt(0);ve.splice(1,0,ve[0].substr(1)),ve[0]=xe}(0,Ve.S6)(ve,function(Ee,Be){isNaN(Ee)||(ve[Be]=+Ee)}),de[ce]=ve}),de}var cr=oe,re=tt(29617);function ie(rt,de,ve,ce){var xe=[],Ee=!!ce,Be,Re,ct,ht,Ht,Yt,rr;if(Ee){ct=ce[0],ht=ce[1];for(var hr=0,Hr=rt.length;hr<Hr;hr+=1){var Zt=rt[hr];ct=re.VV([0,0],ct,Zt),ht=re.Fp([0,0],ht,Zt)}}for(var hr=0,qr=rt.length;hr<qr;hr+=1){var Zt=rt[hr];if(hr===0&&!ve)rr=Zt;else if(hr===qr-1&&!ve)Yt=Zt,xe.push(rr),xe.push(Yt);else{var Qr=[hr?hr-1:qr-1,hr-1][ve?0:1];Be=rt[Qr],Re=rt[ve?(hr+1)%qr:hr+1];var dn=[0,0];dn=re.lu(dn,Re,Be),dn=re.bA(dn,dn,de);var kn=re.TE(Zt,Be),wr=re.TE(Zt,Re),ei=kn+wr;ei!==0&&(kn/=ei,wr/=ei);var Ln=re.bA([0,0],dn,-kn),yi=re.bA([0,0],dn,wr);Yt=re.IH([0,0],Zt,Ln),Ht=re.IH([0,0],Zt,yi),Ht=re.VV([0,0],Ht,re.Fp([0,0],Re,Zt)),Ht=re.Fp([0,0],Ht,re.VV([0,0],Re,Zt)),Ln=re.lu([0,0],Ht,Zt),Ln=re.bA([0,0],Ln,-kn/wr),Yt=re.IH([0,0],Zt,Ln),Yt=re.VV([0,0],Yt,re.Fp([0,0],Be,Zt)),Yt=re.Fp([0,0],Yt,re.VV([0,0],Be,Zt)),yi=re.lu([0,0],Zt,Yt),yi=re.bA([0,0],yi,wr/kn),Ht=re.IH([0,0],Zt,yi),Ee&&(Yt=re.Fp([0,0],Yt,ct),Yt=re.VV([0,0],Yt,ht),Ht=re.Fp([0,0],Ht,ct),Ht=re.VV([0,0],Ht,ht)),xe.push(rr),xe.push(Yt),rr=Ht}}return ve&&xe.push(xe.shift()),xe}function Ft(rt,de,ve){de===void 0&&(de=!1),ve===void 0&&(ve=[[0,0],[1,1]]);for(var ce=!!de,xe=[],Ee=0,Be=rt.length;Ee<Be;Ee+=2)xe.push([rt[Ee],rt[Ee+1]]);for(var Re=ie(xe,.4,ce,ve),ct=xe.length,ht=[],Ht,Yt,rr,Ee=0;Ee<ct-1;Ee+=1)Ht=Re[Ee*2],Yt=Re[Ee*2+1],rr=xe[Ee+1],ht.push(["C",Ht[0],Ht[1],Yt[0],Yt[1],rr[0],rr[1]]);return ce&&(Ht=Re[ct],Yt=Re[ct+1],rr=xe[0],ht.push(["C",Ht[0],Ht[1],Yt[0],Yt[1],rr[0],rr[1]])),ht}var Dt=Ft;function or(rt,de,ve){var ce=null,xe=ve;return de<xe&&(xe=de,ce="add"),rt<xe&&(xe=rt,ce="del"),{type:ce,min:xe}}var kt=function(rt,de){var ve=rt.length,ce=de.length,xe,Ee,Be=0;if(ve===0||ce===0)return null;for(var Re=[],ct=0;ct<=ve;ct++)Re[ct]=[],Re[ct][0]={min:ct};for(var ht=0;ht<=ce;ht++)Re[0][ht]={min:ht};for(var ct=1;ct<=ve;ct++){xe=rt[ct-1];for(var ht=1;ht<=ce;ht++){Ee=de[ht-1],isEqual(xe,Ee)?Be=0:Be=1;var Ht=Re[ct-1][ht].min+1,Yt=Re[ct][ht-1].min+1,rr=Re[ct-1][ht-1].min+Be;Re[ct][ht]=or(Ht,Yt,rr)}}return Re};function Mt(rt,de){var ve=kt(rt,de),ce=rt.length,xe=de.length,Ee=[],Be=1,Re=1;if(ve[ce][xe]!==ce){for(var ct=1;ct<=ce;ct++){var ht=ve[ct][ct].min;Re=ct;for(var Ht=Be;Ht<=xe;Ht++)ve[ct][Ht].min<ht&&(ht=ve[ct][Ht].min,Re=Ht);Be=Re,ve[ct][Be].type&&Ee.push({index:ct-1,type:ve[ct][Be].type})}for(var ct=Ee.length-1;ct>=0;ct--)Be=Ee[ct].index,Ee[ct].type==="add"?rt.splice(Be,0,[].concat(rt[Be])):rt.splice(Be,1)}if(ce=rt.length,ce<xe)for(var ct=0;ct<xe-ce;ct++)rt[ce-1][0]==="z"||rt[ce-1][0]==="Z"?rt.splice(ce-2,0,rt[ce-2]):rt.push(rt[ce-1]);return rt}var U=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,D=new RegExp("([a-z])["+U+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+U+"]*,?["+U+"]*)+)","ig"),Pt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+U+"]*,?["+U+"]*","ig");function lt(rt){if(!rt)return null;if((0,Ve.kJ)(rt))return rt;var de={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ve=[];return String(rt).replace(D,function(ce,xe,Ee){var Be=[],Re=xe.toLowerCase();if(Ee.replace(Pt,function(ct,ht){ht&&Be.push(+ht)}),Re==="m"&&Be.length>2&&(ve.push([xe].concat(Be.splice(0,2))),Re="l",xe=xe==="m"?"l":"L"),Re==="o"&&Be.length===1&&ve.push([xe,Be[0]]),Re==="r")ve.push([xe].concat(Be));else for(;Be.length>=de[Re]&&(ve.push([xe].concat(Be.splice(0,de[Re]))),!!de[Re]););return""}),ve}var Gt=/[a-z]/;function lr(rt,de){return[de[0]+(de[0]-rt[0]),de[1]+(de[1]-rt[1])]}function tr(rt){var de=lt(rt);if(!de||!de.length)return[["M",0,0]];for(var ve=!1,ce=0;ce<de.length;ce++){var xe=de[ce][0];if(Gt.test(xe)||["V","H","T","S"].indexOf(xe)>=0){ve=!0;break}}if(!ve)return de;var Ee=[],Be=0,Re=0,ct=0,ht=0,Ht=0,Yt,rr,hr=de[0];(hr[0]==="M"||hr[0]==="m")&&(Be=+hr[1],Re=+hr[2],ct=Be,ht=Re,Ht++,Ee[0]=["M",Be,Re]);for(var ce=Ht,Hr=de.length;ce<Hr;ce++){var Zt=de[ce],qr=Ee[ce-1],Qr=[],xe=Zt[0],dn=xe.toUpperCase();if(xe!==dn)switch(Qr[0]=dn,dn){case"A":Qr[1]=Zt[1],Qr[2]=Zt[2],Qr[3]=Zt[3],Qr[4]=Zt[4],Qr[5]=Zt[5],Qr[6]=+Zt[6]+Be,Qr[7]=+Zt[7]+Re;break;case"V":Qr[1]=+Zt[1]+Re;break;case"H":Qr[1]=+Zt[1]+Be;break;case"M":ct=+Zt[1]+Be,ht=+Zt[2]+Re,Qr[1]=ct,Qr[2]=ht;break;default:for(var kn=1,wr=Zt.length;kn<wr;kn++)Qr[kn]=+Zt[kn]+(kn%2?Be:Re)}else Qr=de[ce];switch(dn){case"Z":Be=+ct,Re=+ht;break;case"H":Be=Qr[1],Qr=["L",Be,Re];break;case"V":Re=Qr[1],Qr=["L",Be,Re];break;case"T":Be=Qr[1],Re=Qr[2];var ei=lr([qr[1],qr[2]],[qr[3],qr[4]]);Qr=["Q",ei[0],ei[1],Be,Re];break;case"S":Be=Qr[Qr.length-2],Re=Qr[Qr.length-1];var Ln=qr.length,yi=lr([qr[Ln-4],qr[Ln-3]],[qr[Ln-2],qr[Ln-1]]);Qr=["C",yi[0],yi[1],Qr[1],Qr[2],Be,Re];break;case"M":ct=Qr[Qr.length-2],ht=Qr[Qr.length-1];break;default:Be=Qr[Qr.length-2],Re=Qr[Qr.length-1]}Ee.push(Qr)}return Ee}var xt=Math.PI*2,gt=function(rt,de,ve,ce,xe,Ee,Be){var Re=rt.x,ct=rt.y;Re*=de,ct*=ve;var ht=ce*Re-xe*ct,Ht=xe*Re+ce*ct;return{x:ht+Ee,y:Ht+Be}},er=function(rt,de){var ve=de===1.5707963267948966?.551915024494:de===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(de/4),ce=Math.cos(rt),xe=Math.sin(rt),Ee=Math.cos(rt+de),Be=Math.sin(rt+de);return[{x:ce-xe*ve,y:xe+ce*ve},{x:Ee+Be*ve,y:Be-Ee*ve},{x:Ee,y:Be}]},Lt=function(rt,de,ve,ce){var xe=rt*ce-de*ve<0?-1:1,Ee=rt*ve+de*ce;return Ee>1&&(Ee=1),Ee<-1&&(Ee=-1),xe*Math.acos(Ee)},Nt=function(rt,de,ve,ce,xe,Ee,Be,Re,ct,ht,Ht,Yt){var rr=Math.pow(xe,2),hr=Math.pow(Ee,2),Hr=Math.pow(Ht,2),Zt=Math.pow(Yt,2),qr=rr*hr-rr*Zt-hr*Hr;qr<0&&(qr=0),qr/=rr*Zt+hr*Hr,qr=Math.sqrt(qr)*(Be===Re?-1:1);var Qr=qr*xe/Ee*Yt,dn=qr*-Ee/xe*Ht,kn=ht*Qr-ct*dn+(rt+ve)/2,wr=ct*Qr+ht*dn+(de+ce)/2,ei=(Ht-Qr)/xe,Ln=(Yt-dn)/Ee,yi=(-Ht-Qr)/xe,fa=(-Yt-dn)/Ee,_i=Lt(1,0,ei,Ln),Ja=Lt(ei,Ln,yi,fa);return Re===0&&Ja>0&&(Ja-=xt),Re===1&&Ja<0&&(Ja+=xt),[kn,wr,_i,Ja]},Tr=function(rt){var de=rt.px,ve=rt.py,ce=rt.cx,xe=rt.cy,Ee=rt.rx,Be=rt.ry,Re=rt.xAxisRotation,ct=Re===void 0?0:Re,ht=rt.largeArcFlag,Ht=ht===void 0?0:ht,Yt=rt.sweepFlag,rr=Yt===void 0?0:Yt,hr=[];if(Ee===0||Be===0)return[{x1:0,y1:0,x2:0,y2:0,x:ce,y:xe}];var Hr=Math.sin(ct*xt/360),Zt=Math.cos(ct*xt/360),qr=Zt*(de-ce)/2+Hr*(ve-xe)/2,Qr=-Hr*(de-ce)/2+Zt*(ve-xe)/2;if(qr===0&&Qr===0)return[{x1:0,y1:0,x2:0,y2:0,x:ce,y:xe}];Ee=Math.abs(Ee),Be=Math.abs(Be);var dn=Math.pow(qr,2)/Math.pow(Ee,2)+Math.pow(Qr,2)/Math.pow(Be,2);dn>1&&(Ee*=Math.sqrt(dn),Be*=Math.sqrt(dn));var kn=Nt(de,ve,ce,xe,Ee,Be,Ht,rr,Hr,Zt,qr,Qr),wr=kn[0],ei=kn[1],Ln=kn[2],yi=kn[3],fa=Math.abs(yi)/(xt/4);Math.abs(1-fa)<1e-7&&(fa=1);var _i=Math.max(Math.ceil(fa),1);yi/=_i;for(var Ja=0;Ja<_i;Ja++)hr.push(er(Ln,yi)),Ln+=yi;return hr.map(function(Gr){var oi=gt(Gr[0],Ee,Be,Zt,Hr,wr,ei),is=oi.x,qa=oi.y,_a=gt(Gr[1],Ee,Be,Zt,Hr,wr,ei),Ti=_a.x,oa=_a.y,zi=gt(Gr[2],Ee,Be,Zt,Hr,wr,ei),dl=zi.x,go=zi.y;return{x1:is,y1:qa,x2:Ti,y2:oa,x:dl,y:go}})};function vr(rt,de,ve,ce,xe,Ee,Be,Re,ct){var ht=Tr({px:rt,py:de,cx:Re,cy:ct,rx:ve,ry:ce,xAxisRotation:xe,largeArcFlag:Ee,sweepFlag:Be});return ht.reduce(function(Ht,Yt){var rr=Yt.x1,hr=Yt.y1,Hr=Yt.x2,Zt=Yt.y2,qr=Yt.x,Qr=Yt.y;return Ht.push(rr,hr,Hr,Zt,qr,Qr),Ht},[])}function Yr(rt,de){"TQ".indexOf(rt[0])<0&&(de.qx=null,de.qy=null);var ve=rt.slice(1),ce=ve[0],xe=ve[1];switch(rt[0]){case"M":return de.x=ce,de.y=xe,rt;case"A":return["C"].concat(arcToCubic.apply(0,[de.x1,de.y1].concat(rt.slice(1))));case"Q":return de.qx=ce,de.qy=xe,["C"].concat(quadToCubic.apply(0,[de.x1,de.y1].concat(rt.slice(1))));case"L":return["C"].concat(lineToCubic(de.x1,de.y1,rt[1],rt[2]));case"H":return["C"].concat(lineToCubic(de.x1,de.y1,rt[1],de.y1));case"V":return["C"].concat(lineToCubic(de.x1,de.y1,de.x1,rt[1]));case"Z":return["C"].concat(lineToCubic(de.x1,de.y1,de.x,de.y));default:}return rt}function mn(rt,de){de===void 0&&(de=!1);for(var ve=path2Absolute(rt),ce={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},xe=[],Ee="",Be=ve.length,Re,ct,ht=[],Ht=0;Ht<Be;Ht+=1)ve[Ht]&&(Ee=ve[Ht][0]),xe[Ht]=Ee,ve[Ht]=segmentToCubic(ve[Ht],ce),Mn(ve,xe,Ht),Be=ve.length,Ee==="Z"&&ht.push(Ht),Re=ve[Ht],ct=Re.length,ce.x1=+Re[ct-2],ce.y1=+Re[ct-1],ce.x2=+Re[ct-4]||ce.x1,ce.y2=+Re[ct-3]||ce.y1;return de?[ve,ht]:ve}function Mn(rt,de,ve){if(rt[ve].length>7){rt[ve].shift();for(var ce=rt[ve],xe=ve;ce.length;)de[ve]="A",rt.splice(xe+=1,0,["C"].concat(ce.splice(0,6)));rt.splice(ve,1)}}var Fr=function(rt,de,ve,ce,xe){var Ee=-3*de+9*ve-9*ce+3*xe,Be=rt*Ee+6*de-12*ve+6*ce;return rt*Be-3*de+3*ve},Rn=function(rt,de,ve,ce,xe,Ee,Be,Re,ct){ct===null&&(ct=1),ct=ct>1?1:ct<0?0:ct;for(var ht=ct/2,Ht=12,Yt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],rr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],hr=0,Hr=0;Hr<Ht;Hr++){var Zt=ht*Yt[Hr]+ht,qr=Fr(Zt,rt,ve,xe,Be),Qr=Fr(Zt,de,ce,Ee,Re),dn=qr*qr+Qr*Qr;hr+=rr[Hr]*Math.sqrt(dn)}return ht*hr},Wn=function(rt,de,ve,ce,xe,Ee,Be,Re){for(var ct=[],ht=[[],[]],Ht,Yt,rr,hr,Hr=0;Hr<2;++Hr){if(Hr===0?(Yt=6*rt-12*ve+6*xe,Ht=-3*rt+9*ve-9*xe+3*Be,rr=3*ve-3*rt):(Yt=6*de-12*ce+6*Ee,Ht=-3*de+9*ce-9*Ee+3*Re,rr=3*ce-3*de),Math.abs(Ht)<1e-12){if(Math.abs(Yt)<1e-12)continue;hr=-rr/Yt,hr>0&&hr<1&&ct.push(hr);continue}var Zt=Yt*Yt-4*rr*Ht,qr=Math.sqrt(Zt);if(!(Zt<0)){var Qr=(-Yt+qr)/(2*Ht);Qr>0&&Qr<1&&ct.push(Qr);var dn=(-Yt-qr)/(2*Ht);dn>0&&dn<1&&ct.push(dn)}}for(var kn=ct.length,wr=kn,ei;kn--;)hr=ct[kn],ei=1-hr,ht[0][kn]=ei*ei*ei*rt+3*ei*ei*hr*ve+3*ei*hr*hr*xe+hr*hr*hr*Be,ht[1][kn]=ei*ei*ei*de+3*ei*ei*hr*ce+3*ei*hr*hr*Ee+hr*hr*hr*Re;return ht[0][wr]=rt,ht[1][wr]=de,ht[0][wr+1]=Be,ht[1][wr+1]=Re,ht[0].length=ht[1].length=wr+2,{min:{x:Math.min.apply(0,ht[0]),y:Math.min.apply(0,ht[1])},max:{x:Math.max.apply(0,ht[0]),y:Math.max.apply(0,ht[1])}}},Ge=function(rt,de,ve,ce,xe,Ee,Be,Re){if(!(Math.max(rt,ve)<Math.min(xe,Be)||Math.min(rt,ve)>Math.max(xe,Be)||Math.max(de,ce)<Math.min(Ee,Re)||Math.min(de,ce)>Math.max(Ee,Re))){var ct=(rt*ce-de*ve)*(xe-Be)-(rt-ve)*(xe*Re-Ee*Be),ht=(rt*ce-de*ve)*(Ee-Re)-(de-ce)*(xe*Re-Ee*Be),Ht=(rt-ve)*(Ee-Re)-(de-ce)*(xe-Be);if(Ht){var Yt=ct/Ht,rr=ht/Ht,hr=+Yt.toFixed(2),Hr=+rr.toFixed(2);if(!(hr<+Math.min(rt,ve).toFixed(2)||hr>+Math.max(rt,ve).toFixed(2)||hr<+Math.min(xe,Be).toFixed(2)||hr>+Math.max(xe,Be).toFixed(2)||Hr<+Math.min(de,ce).toFixed(2)||Hr>+Math.max(de,ce).toFixed(2)||Hr<+Math.min(Ee,Re).toFixed(2)||Hr>+Math.max(Ee,Re).toFixed(2)))return{x:Yt,y:rr}}}},Et=function(rt,de,ve){return de>=rt.x&&de<=rt.x+rt.width&&ve>=rt.y&&ve<=rt.y+rt.height},Rr=function(rt,de,ve,ce){return rt===null&&(rt=de=ve=ce=0),de===null&&(de=rt.y,ve=rt.width,ce=rt.height,rt=rt.x),{x:rt,y:de,width:ve,w:ve,height:ce,h:ce,x2:rt+ve,y2:de+ce,cx:rt+ve/2,cy:de+ce/2,r1:Math.min(ve,ce)/2,r2:Math.max(ve,ce)/2,r0:Math.sqrt(ve*ve+ce*ce)/2,path:rectPath(rt,de,ve,ce),vb:[rt,de,ve,ce].join(" ")}},un=function(rt,de){return rt=Rr(rt),de=Rr(de),Et(de,rt.x,rt.y)||Et(de,rt.x2,rt.y)||Et(de,rt.x,rt.y2)||Et(de,rt.x2,rt.y2)||Et(rt,de.x,de.y)||Et(rt,de.x2,de.y)||Et(rt,de.x,de.y2)||Et(rt,de.x2,de.y2)||(rt.x<de.x2&&rt.x>de.x||de.x<rt.x2&&de.x>rt.x)&&(rt.y<de.y2&&rt.y>de.y||de.y<rt.y2&&de.y>rt.y)},yn=function(rt,de,ve,ce,xe,Ee,Be,Re){isArray(rt)||(rt=[rt,de,ve,ce,xe,Ee,Be,Re]);var ct=Wn.apply(null,rt);return Rr(ct.min.x,ct.min.y,ct.max.x-ct.min.x,ct.max.y-ct.min.y)},Vt=function(rt,de,ve,ce,xe,Ee,Be,Re,ct){var ht=1-ct,Ht=Math.pow(ht,3),Yt=Math.pow(ht,2),rr=ct*ct,hr=rr*ct,Hr=Ht*rt+Yt*3*ct*ve+ht*3*ct*ct*xe+hr*Be,Zt=Ht*de+Yt*3*ct*ce+ht*3*ct*ct*Ee+hr*Re,qr=rt+2*ct*(ve-rt)+rr*(xe-2*ve+rt),Qr=de+2*ct*(ce-de)+rr*(Ee-2*ce+de),dn=ve+2*ct*(xe-ve)+rr*(Be-2*xe+ve),kn=ce+2*ct*(Ee-ce)+rr*(Re-2*Ee+ce),wr=ht*rt+ct*ve,ei=ht*de+ct*ce,Ln=ht*xe+ct*Be,yi=ht*Ee+ct*Re,fa=90-Math.atan2(qr-dn,Qr-kn)*180/Math.PI;return{x:Hr,y:Zt,m:{x:qr,y:Qr},n:{x:dn,y:kn},start:{x:wr,y:ei},end:{x:Ln,y:yi},alpha:fa}},Ce=function(rt,de,ve){var ce=yn(rt),xe=yn(de);if(!un(ce,xe))return ve?0:[];for(var Ee=Rn.apply(0,rt),Be=Rn.apply(0,de),Re=~~(Ee/8),ct=~~(Be/8),ht=[],Ht=[],Yt={},rr=ve?0:[],hr=0;hr<Re+1;hr++){var Hr=Vt.apply(0,rt.concat(hr/Re));ht.push({x:Hr.x,y:Hr.y,t:hr/Re})}for(var hr=0;hr<ct+1;hr++){var Hr=Vt.apply(0,de.concat(hr/ct));Ht.push({x:Hr.x,y:Hr.y,t:hr/ct})}for(var hr=0;hr<Re;hr++)for(var Zt=0;Zt<ct;Zt++){var qr=ht[hr],Qr=ht[hr+1],dn=Ht[Zt],kn=Ht[Zt+1],wr=Math.abs(Qr.x-qr.x)<.001?"y":"x",ei=Math.abs(kn.x-dn.x)<.001?"y":"x",Ln=Ge(qr.x,qr.y,Qr.x,Qr.y,dn.x,dn.y,kn.x,kn.y);if(Ln){if(Yt[Ln.x.toFixed(4)]===Ln.y.toFixed(4))continue;Yt[Ln.x.toFixed(4)]=Ln.y.toFixed(4);var yi=qr.t+Math.abs((Ln[wr]-qr[wr])/(Qr[wr]-qr[wr]))*(Qr.t-qr.t),fa=dn.t+Math.abs((Ln[ei]-dn[ei])/(kn[ei]-dn[ei]))*(kn.t-dn.t);yi>=0&&yi<=1&&fa>=0&&fa<=1&&(ve?rr++:rr.push({x:Ln.x,y:Ln.y,t1:yi,t2:fa}))}}return rr},be=function(rt,de,ve){rt=path2Curve(rt),de=path2Curve(de);for(var ce,xe,Ee,Be,Re,ct,ht,Ht,Yt,rr,hr=ve?0:[],Hr=0,Zt=rt.length;Hr<Zt;Hr++){var qr=rt[Hr];if(qr[0]==="M")ce=Re=qr[1],xe=ct=qr[2];else{qr[0]==="C"?(Yt=[ce,xe].concat(qr.slice(1)),ce=Yt[6],xe=Yt[7]):(Yt=[ce,xe,ce,xe,Re,ct,Re,ct],ce=Re,xe=ct);for(var Qr=0,dn=de.length;Qr<dn;Qr++){var kn=de[Qr];if(kn[0]==="M")Ee=ht=kn[1],Be=Ht=kn[2];else{kn[0]==="C"?(rr=[Ee,Be].concat(kn.slice(1)),Ee=rr[6],Be=rr[7]):(rr=[Ee,Be,Ee,Be,ht,Ht,ht,Ht],Ee=ht,Be=Ht);var wr=Ce(Yt,rr,ve);if(ve)hr+=wr;else{for(var ei=0,Ln=wr.length;ei<Ln;ei++)wr[ei].segment1=Hr,wr[ei].segment2=Qr,wr[ei].bez1=Yt,wr[ei].bez2=rr;hr=hr.concat(wr)}}}}}return hr};function Ae(rt,de){return be(rt,de)}function _e(rt){return Math.sqrt(rt[0]*rt[0]+rt[1]*rt[1])}function ze(rt,de){return _e(rt)*_e(de)?(rt[0]*de[0]+rt[1]*de[1])/(_e(rt)*_e(de)):1}function Bt(rt,de){return(rt[0]*de[1]<rt[1]*de[0]?-1:1)*Math.acos(ze(rt,de))}function at(rt,de){return rt[0]===de[0]&&rt[1]===de[1]}function wt(rt,de){var ve=de[1],ce=de[2],xe=(0,Ve.wQ)((0,Ve.c$)(de[3]),Math.PI*2),Ee=de[4],Be=de[5],Re=rt[0],ct=rt[1],ht=de[6],Ht=de[7],Yt=Math.cos(xe)*(Re-ht)/2+Math.sin(xe)*(ct-Ht)/2,rr=-1*Math.sin(xe)*(Re-ht)/2+Math.cos(xe)*(ct-Ht)/2,hr=Yt*Yt/(ve*ve)+rr*rr/(ce*ce);hr>1&&(ve*=Math.sqrt(hr),ce*=Math.sqrt(hr));var Hr=ve*ve*(rr*rr)+ce*ce*(Yt*Yt),Zt=Hr?Math.sqrt((ve*ve*(ce*ce)-Hr)/Hr):1;Ee===Be&&(Zt*=-1),isNaN(Zt)&&(Zt=0);var qr=ce?Zt*ve*rr/ce:0,Qr=ve?Zt*-ce*Yt/ve:0,dn=(Re+ht)/2+Math.cos(xe)*qr-Math.sin(xe)*Qr,kn=(ct+Ht)/2+Math.sin(xe)*qr+Math.cos(xe)*Qr,wr=[(Yt-qr)/ve,(rr-Qr)/ce],ei=[(-1*Yt-qr)/ve,(-1*rr-Qr)/ce],Ln=Bt([1,0],wr),yi=Bt(wr,ei);return ze(wr,ei)<=-1&&(yi=Math.PI),ze(wr,ei)>=1&&(yi=0),Be===0&&yi>0&&(yi=yi-2*Math.PI),Be===1&&yi<0&&(yi=yi+2*Math.PI),{cx:dn,cy:kn,rx:at(rt,[ht,Ht])?0:ve,ry:at(rt,[ht,Ht])?0:ce,startAngle:Ln,endAngle:Ln+yi,xRotation:xe,arcFlag:Ee,sweepFlag:Be}}function fe(rt,de){return[de[0]+(de[0]-rt[0]),de[1]+(de[1]-rt[1])]}function st(rt){rt=cr(rt);for(var de=[],ve=null,ce=null,xe=null,Ee=0,Be=rt.length,Re=0;Re<Be;Re++){var ct=rt[Re];ce=rt[Re+1];var ht=ct[0],Ht={command:ht,prePoint:ve,params:ct,startTangent:null,endTangent:null};switch(ht){case"M":xe=[ct[1],ct[2]],Ee=Re;break;case"A":var Yt=wt(ve,ct);Ht.arcParams=Yt;break;default:break}if(ht==="Z")ve=xe,ce=rt[Ee+1];else{var rr=ct.length;ve=[ct[rr-2],ct[rr-1]]}ce&&ce[0]==="Z"&&(ce=rt[Ee],de[Ee]&&(de[Ee].prePoint=ve)),Ht.currentPoint=ve,de[Ee]&&at(ve,de[Ee].currentPoint)&&(de[Ee].prePoint=Ht.prePoint);var hr=ce?[ce[ce.length-2],ce[ce.length-1]]:null;Ht.nextPoint=hr;var Hr=Ht.prePoint;if(["L","H","V"].includes(ht))Ht.startTangent=[Hr[0]-ve[0],Hr[1]-ve[1]],Ht.endTangent=[ve[0]-Hr[0],ve[1]-Hr[1]];else if(ht==="Q"){var Zt=[ct[1],ct[2]];Ht.startTangent=[Hr[0]-Zt[0],Hr[1]-Zt[1]],Ht.endTangent=[ve[0]-Zt[0],ve[1]-Zt[1]]}else if(ht==="T"){var qr=de[Re-1],Zt=fe(qr.currentPoint,Hr);qr.command==="Q"?(Ht.command="Q",Ht.startTangent=[Hr[0]-Zt[0],Hr[1]-Zt[1]],Ht.endTangent=[ve[0]-Zt[0],ve[1]-Zt[1]]):(Ht.command="TL",Ht.startTangent=[Hr[0]-ve[0],Hr[1]-ve[1]],Ht.endTangent=[ve[0]-Hr[0],ve[1]-Hr[1]])}else if(ht==="C"){var Qr=[ct[1],ct[2]],dn=[ct[3],ct[4]];Ht.startTangent=[Hr[0]-Qr[0],Hr[1]-Qr[1]],Ht.endTangent=[ve[0]-dn[0],ve[1]-dn[1]],Ht.startTangent[0]===0&&Ht.startTangent[1]===0&&(Ht.startTangent=[Qr[0]-dn[0],Qr[1]-dn[1]]),Ht.endTangent[0]===0&&Ht.endTangent[1]===0&&(Ht.endTangent=[dn[0]-Qr[0],dn[1]-Qr[1]])}else if(ht==="S"){var qr=de[Re-1],Qr=fe(qr.currentPoint,Hr),dn=[ct[1],ct[2]];qr.command==="C"?(Ht.command="C",Ht.startTangent=[Hr[0]-Qr[0],Hr[1]-Qr[1]],Ht.endTangent=[ve[0]-dn[0],ve[1]-dn[1]]):(Ht.command="SQ",Ht.startTangent=[Hr[0]-dn[0],Hr[1]-dn[1]],Ht.endTangent=[ve[0]-dn[0],ve[1]-dn[1]])}else if(ht==="A"){var kn=.001,wr=Ht.arcParams||{},ei=wr.cx,Ln=ei===void 0?0:ei,yi=wr.cy,fa=yi===void 0?0:yi,_i=wr.rx,Ja=_i===void 0?0:_i,Gr=wr.ry,oi=Gr===void 0?0:Gr,is=wr.sweepFlag,qa=is===void 0?0:is,_a=wr.startAngle,Ti=_a===void 0?0:_a,oa=wr.endAngle,zi=oa===void 0?0:oa;qa===0&&(kn*=-1);var dl=Ja*Math.cos(Ti-kn)+Ln,go=oi*Math.sin(Ti-kn)+fa;Ht.startTangent=[dl-xe[0],go-xe[1]];var Ol=Ja*Math.cos(Ti+zi+kn)+Ln,Es=oi*Math.sin(Ti+zi-kn)+fa;Ht.endTangent=[Hr[0]-Ol,Hr[1]-Es]}de.push(Ht)}return de}var Tt=1e-6;function ir(rt){return Math.abs(rt)<Tt?0:rt<0?-1:1}function bt(rt,de,ve){return(ve[0]-rt[0])*(de[1]-rt[1])===(de[0]-rt[0])*(ve[1]-rt[1])&&Math.min(rt[0],de[0])<=ve[0]&&ve[0]<=Math.max(rt[0],de[0])&&Math.min(rt[1],de[1])<=ve[1]&&ve[1]<=Math.max(rt[1],de[1])}function sr(rt,de,ve){var ce=!1,xe=rt.length;if(xe<=2)return!1;for(var Ee=0;Ee<xe;Ee++){var Be=rt[Ee],Re=rt[(Ee+1)%xe];if(bt(Be,Re,[de,ve]))return!0;ir(Be[1]-ve)>0!=ir(Re[1]-ve)>0&&ir(de-(ve-Be[1])*(Be[0]-Re[0])/(Be[1]-Re[1])-Be[0])<0&&(ce=!ce)}return ce}var dr=function(rt,de,ve){return rt>=de&&rt<=ve};function Pr(rt,de,ve,ce){var xe=.001,Ee={x:ve.x-rt.x,y:ve.y-rt.y},Be={x:de.x-rt.x,y:de.y-rt.y},Re={x:ce.x-ve.x,y:ce.y-ve.y},ct=Be.x*Re.y-Be.y*Re.x,ht=ct*ct,Ht=Be.x*Be.x+Be.y*Be.y,Yt=Re.x*Re.x+Re.y*Re.y,rr=null;if(ht>xe*Ht*Yt){var hr=(Ee.x*Re.y-Ee.y*Re.x)/ct,Hr=(Ee.x*Be.y-Ee.y*Be.x)/ct;dr(hr,0,1)&&dr(Hr,0,1)&&(rr={x:rt.x+hr*Be.x,y:rt.y+hr*Be.y})}return rr}function an(rt){for(var de=[],ve=rt.length,ce=0;ce<ve-1;ce++){var xe=rt[ce],Ee=rt[ce+1];de.push({from:{x:xe[0],y:xe[1]},to:{x:Ee[0],y:Ee[1]}})}if(de.length>1){var Be=rt[0],Re=rt[ve-1];de.push({from:{x:Re[0],y:Re[1]},to:{x:Be[0],y:Be[1]}})}return de}function fn(rt,de){var ve=!1;return(0,Ve.S6)(rt,function(ce){if(Pr(ce.from,ce.to,de.from,de.to))return ve=!0,!1}),ve}function qn(rt){var de=rt.map(function(ce){return ce[0]}),ve=rt.map(function(ce){return ce[1]});return{minX:Math.min.apply(null,de),maxX:Math.max.apply(null,de),minY:Math.min.apply(null,ve),maxY:Math.max.apply(null,ve)}}function cn(rt,de){return!(de.minX>rt.maxX||de.maxX<rt.minX||de.minY>rt.maxY||de.maxY<rt.minY)}function Kr(rt,de){if(rt.length<2||de.length<2)return!1;var ve=qn(rt),ce=qn(de);if(!cn(ve,ce))return!1;var xe=!1;if((0,Ve.S6)(de,function(ct){if(sr(rt,ct[0],ct[1]))return xe=!0,!1}),xe||((0,Ve.S6)(rt,function(ct){if(sr(de,ct[0],ct[1]))return xe=!0,!1}),xe))return!0;var Ee=an(rt),Be=an(de),Re=!1;return(0,Ve.S6)(Be,function(ct){if(fn(Ee,ct))return Re=!0,!1}),Re}},87004:function(ai,Sn,tt){"use strict";tt.d(Sn,{HZ:function(){return v1}});var Ve=tt(76311),ye=tt(81821),ut=tt(87363),oe=tt.n(ut),cr=tt(61533),re=tt.n(cr),ie=tt(16640),Ft=tt(29512),Dt={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},or=Dt,kt=tt(50189),Mt=tt(13674),U=(0,kt.Z)((0,kt.Z)({},Mt.z),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),D=U,lt={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},lr={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},D),timePickerLocale:Object.assign({},lt)},tr=lr;const xt="${label} is not a valid ${type}";var er={locale:"en",Pagination:or,DatePicker:lr,TimePicker:lt,Calendar:tr,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:xt,method:xt,array:xt,object:xt,number:xt,date:xt,boolean:xt,integer:xt,float:xt,regexp:xt,email:xt,url:xt,hex:xt},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};ai=tt.hmd(ai);var Lt=Object.defineProperty,Nt=Object.defineProperties,Tr=Object.getOwnPropertyDescriptors,vr=Object.getOwnPropertySymbols,Yr=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,Mn=(S,T,L)=>T in S?Lt(S,T,{enumerable:!0,configurable:!0,writable:!0,value:L}):S[T]=L,Fr=(S,T)=>{for(var L in T||(T={}))Yr.call(T,L)&&Mn(S,L,T[L]);if(vr)for(var L of vr(T))mn.call(T,L)&&Mn(S,L,T[L]);return S},Rn=(S,T)=>Nt(S,Tr(T)),Wn=(S,T)=>{var L={};for(var G in S)Yr.call(S,G)&&T.indexOf(G)<0&&(L[G]=S[G]);if(S!=null&&vr)for(var G of vr(S))T.indexOf(G)<0&&mn.call(S,G)&&(L[G]=S[G]);return L};const Rr={zh_CN:{\u9009\u62E9\u5206\u6790\u4FE1\u606F:"\u9009\u62E9\u5206\u6790\u4FE1\u606F",\u5207\u6362\u6307\u6807:"\u5207\u6362\u6307\u6807",\u786E\u5B9A:"\u786E\u5B9A",\u53D6\u6D88:"\u53D6\u6D88",\u91CD\u7F6E:"\u91CD\u7F6E",\u8BF7\u8F93\u5165\u5173\u952E\u5B57\u641C\u7D22:"\u8BF7\u8F93\u5165\u5173\u952E\u5B57\u641C\u7D22",\u641C\u7D22:"\u641C\u7D22",\u6062\u590D:"\u6062\u590D","\u5DF2\u9009 {} \u9879":"\u5DF2\u9009 {} \u9879",\u6240\u9009\u9879:"\u6240\u9009\u9879",\u9009\u62E9\u4E0B\u94BB\u7EF4\u5EA6:"\u9009\u62E9\u4E0B\u94BB\u7EF4\u5EA6",\u6062\u590D\u9ED8\u8BA4:"\u6062\u590D\u9ED8\u8BA4",\u641C\u7D22\u5B57\u6BB5:"\u641C\u7D22\u5B57\u6BB5",\u884C\u5217\u5207\u6362:"\u884C\u5217\u5207\u6362",\u884C\u5934:"\u884C\u5934",\u5217\u5934:"\u5217\u5934",\u503C:"\u503C",\u5C55\u5F00\u5B50\u9879:"\u5C55\u5F00\u5B50\u9879",\u9996\u5B57\u6BCD:"\u9996\u5B57\u6BCD",\u624B\u52A8\u6392\u5E8F:"\u624B\u52A8\u6392\u5E8F",\u5176\u4ED6\u5B57\u6BB5:"\u5176\u4ED6\u5B57\u6BB5",\u9AD8\u7EA7\u6392\u5E8F:"\u9AD8\u7EA7\u6392\u5E8F",\u8BBE\u7F6E\u987A\u5E8F:"\u8BBE\u7F6E\u987A\u5E8F",\u53EF\u9009\u5B57\u6BB5:"\u53EF\u9009\u5B57\u6BB5","\u6309\u4EE5\u4E0B\u89C4\u5219\u8FDB\u884C\u6392\u5E8F\uFF08\u4F18\u5148\u7EA7\u7531\u4F4E\u5230\u9AD8\uFF09":"\u6309\u4EE5\u4E0B\u89C4\u5219\u8FDB\u884C\u6392\u5E8F\uFF08\u4F18\u5148\u7EA7\u7531\u4F4E\u5230\u9AD8\uFF09",\u6309:"\u6309",\u8BF4\u660E:"\u8BF4\u660E",\u590D\u5236\u539F\u59CB\u6570\u636E:"\u590D\u5236\u539F\u59CB\u6570\u636E",\u590D\u5236\u683C\u5F0F\u5316\u6570\u636E:"\u590D\u5236\u683C\u5F0F\u5316\u6570\u636E",\u4E0B\u8F7D\u539F\u59CB\u6570\u636E:"\u4E0B\u8F7D\u539F\u59CB\u6570\u636E",\u4E0B\u8F7D\u683C\u5F0F\u5316\u6570\u636E:"\u4E0B\u8F7D\u683C\u5F0F\u5316\u6570\u636E",\u64CD\u4F5C\u6210\u529F:"\u64CD\u4F5C\u6210\u529F",\u64CD\u4F5C\u5931\u8D25:"\u64CD\u4F5C\u5931\u8D25",\u65F6\u95F4:"\u65F6\u95F4",\u6307\u6807:"\u6307\u6807",\u76EE\u6807\u503C:"\u76EE\u6807\u503C"},en_US:{\u9009\u62E9\u5206\u6790\u4FE1\u606F:"Select Analysis Information",\u5207\u6362\u6307\u6807:"Switch indicator",\u786E\u5B9A:"Ok",\u53D6\u6D88:"Cancel",\u91CD\u7F6E:"Reset",\u8BF7\u8F93\u5165\u5173\u952E\u5B57\u641C\u7D22:"Please enter a keyword search",\u641C\u7D22:"Search",\u6062\u590D:"Recover","\u5DF2\u9009 {} \u9879":"selected {} item",\u6240\u9009\u9879:"selected items",\u9009\u62E9\u4E0B\u94BB\u7EF4\u5EA6:"Select drill down dimension",\u6062\u590D\u9ED8\u8BA4:"Restore default",\u641C\u7D22\u5B57\u6BB5:"Search field",\u884C\u5217\u5207\u6362:"Switch Dimensions",\u884C\u5934:"Rows",\u5217\u5934:"Cols",\u503C:"Values",\u5C55\u5F00\u5B50\u9879:"Expand Children",\u9996\u5B57\u6BCD:"Alphabetical order",\u624B\u52A8\u6392\u5E8F:"Custom order",\u5176\u4ED6\u5B57\u6BB5:"Other field",\u9AD8\u7EA7\u6392\u5E8F:"Advanced order",\u8BBE\u7F6E\u987A\u5E8F:"SetManual",\u53EF\u9009\u5B57\u6BB5:"Fields","\u6309\u4EE5\u4E0B\u89C4\u5219\u8FDB\u884C\u6392\u5E8F\uFF08\u4F18\u5148\u7EA7\u7531\u4F4E\u5230\u9AD8\uFF09":"Order according to the following rules (from low to high priority)",\u6309:"By",\u8BF4\u660E:"Description",\u590D\u5236\u539F\u59CB\u6570\u636E:"Copy raw data",\u590D\u5236\u683C\u5F0F\u5316\u6570\u636E:"Copy formatted data",\u4E0B\u8F7D\u539F\u59CB\u6570\u636E:"Download raw data",\u4E0B\u8F7D\u683C\u5F0F\u5316\u6570\u636E:"Download formatted data",\u64CD\u4F5C\u6210\u529F:"Operation successful",\u64CD\u4F5C\u5931\u8D25:"Operation failed",\u65F6\u95F4:"Date",\u6307\u6807:"Measure",\u76EE\u6807\u503C:"Target Value"}},un={tooltip:{showTooltip:!0,autoAdjustBoundary:"body",operation:{hiddenColumns:!0,trend:!1,sort:!0}},showDefaultHeaderActionIcon:!0},yn=200,Vt=()=>[{name:(0,Ve.agQ)("\u5347\u5E8F"),value:"ASC"},{name:(0,Ve.agQ)("\u964D\u5E8F"),value:"DESC"}],Ce=()=>[{label:(0,Ve.agQ)("\u9996\u5B57\u6BCD"),value:"sortMethod"},{label:(0,Ve.agQ)("\u624B\u52A8\u6392\u5E8F"),value:"sortBy"},{label:(0,Ve.agQ)("\u5176\u4ED6\u5B57\u6BB5"),value:"sortByMeasure",children:[]}],be="antv-s2-advanced-sort",Ae="s2-drill-down",_e="s2-strategy-sheet-tooltip",ze=S=>S?`${_e}-${S}`:_e,Bt=(...S)=>(0,Ve._Ge)(Ve.WNh,un,...S);var at=typeof tt.g=="object"&&tt.g&&tt.g.Object===Object&&tt.g,wt=at,fe=typeof self=="object"&&self&&self.Object===Object&&self,st=wt||fe||Function("return this")(),Tt=st,ir=Tt.Symbol,bt=ir,sr=Object.prototype,dr=sr.hasOwnProperty,Pr=sr.toString,an=bt?bt.toStringTag:void 0;function fn(S){var T=dr.call(S,an),L=S[an];try{S[an]=void 0;var G=!0}catch(K){}var Z=Pr.call(S);return G&&(T?S[an]=L:delete S[an]),Z}var qn=Object.prototype,cn=qn.toString;function Kr(S){return cn.call(S)}var rt="[object Null]",de="[object Undefined]",ve=bt?bt.toStringTag:void 0;function ce(S){return S==null?S===void 0?de:rt:ve&&ve in Object(S)?fn(S):Kr(S)}function xe(S){return S!=null&&typeof S=="object"}var Ee="[object Symbol]";function Be(S){return typeof S=="symbol"||xe(S)&&ce(S)==Ee}function Re(S,T){for(var L=-1,G=S==null?0:S.length,Z=Array(G);++L<G;)Z[L]=T(S[L],L,S);return Z}var ct=Array.isArray,ht=ct,Ht=1/0,Yt=bt?bt.prototype:void 0,rr=Yt?Yt.toString:void 0;function hr(S){if(typeof S=="string")return S;if(ht(S))return Re(S,hr)+"";if(Be(S))return rr?rr.call(S):"";var T=S+"";return T=="0"&&1/S==-Ht?"-0":T}var Hr=/\s/;function Zt(S){for(var T=S.length;T--&&Hr.test(S.charAt(T)););return T}var qr=/^\s+/;function Qr(S){return S&&S.slice(0,Zt(S)+1).replace(qr,"")}function dn(S){var T=typeof S;return S!=null&&(T=="object"||T=="function")}var kn=NaN,wr=/^[-+]0x[0-9a-f]+$/i,ei=/^0b[01]+$/i,Ln=/^0o[0-7]+$/i,yi=parseInt;function fa(S){if(typeof S=="number")return S;if(Be(S))return kn;if(dn(S)){var T=typeof S.valueOf=="function"?S.valueOf():S;S=dn(T)?T+"":T}if(typeof S!="string")return S===0?S:+S;S=Qr(S);var L=ei.test(S);return L||Ln.test(S)?yi(S.slice(2),L?2:8):wr.test(S)?kn:+S}var _i=1/0,Ja=17976931348623157e292;function Gr(S){if(!S)return S===0?S:0;if(S=fa(S),S===_i||S===-_i){var T=S<0?-1:1;return T*Ja}return S===S?S:0}function oi(S){var T=Gr(S),L=T%1;return T===T?L?T-L:T:0}function is(S){return S}var qa="[object AsyncFunction]",_a="[object Function]",Ti="[object GeneratorFunction]",oa="[object Proxy]";function zi(S){if(!dn(S))return!1;var T=ce(S);return T==_a||T==Ti||T==qa||T==oa}var dl=Tt["__core-js_shared__"],go=dl,Ol=function(){var S=/[^.]+$/.exec(go&&go.keys&&go.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""}();function Es(S){return!!Ol&&Ol in S}var Gs=Function.prototype,iu=Gs.toString;function ql(S){if(S!=null){try{return iu.call(S)}catch(T){}try{return S+""}catch(T){}}return""}var $f=/[\\^$.*+?()[\]{}|]/g,ju=/^\[object .+?Constructor\]$/,au=Function.prototype,Ms=Object.prototype,Ts=au.toString,Ph=Ms.hasOwnProperty,ff=RegExp("^"+Ts.call(Ph).replace($f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wa(S){if(!dn(S)||Es(S))return!1;var T=zi(S)?ff:ju;return T.test(ql(S))}function ea(S,T){return S==null?void 0:S[T]}function $s(S,T){var L=ea(S,T);return wa(L)?L:void 0}var Ql=$s(Tt,"WeakMap"),Al=Ql,lc=Object.create,Uf=function(){function S(){}return function(T){if(!dn(T))return{};if(lc)return lc(T);S.prototype=T;var L=new S;return S.prototype=void 0,L}}(),St=Uf;function Pe(S,T,L){switch(L.length){case 0:return S.call(T);case 1:return S.call(T,L[0]);case 2:return S.call(T,L[0],L[1]);case 3:return S.call(T,L[0],L[1],L[2])}return S.apply(T,L)}function yt(){}function qt(S,T){var L=-1,G=S.length;for(T||(T=Array(G));++L<G;)T[L]=S[L];return T}var _r=800,rn=16,xn=Date.now;function vn(S){var T=0,L=0;return function(){var G=xn(),Z=rn-(G-L);if(L=G,Z>0){if(++T>=_r)return arguments[0]}else T=0;return S.apply(void 0,arguments)}}function Ii(S){return function(){return S}}var Fa=function(){try{var S=$s(Object,"defineProperty");return S({},"",{}),S}catch(T){}}(),_o=Fa,vl=_o?function(S,T){return _o(S,"toString",{configurable:!0,enumerable:!1,value:Ii(T),writable:!0})}:is,Us=vl,Eo=vn(Us),as=Eo;function Os(S,T){for(var L=-1,G=S==null?0:S.length;++L<G&&T(S[L],L,S)!==!1;);return S}function Yf(S,T,L,G){for(var Z=S.length,K=L+(G?1:-1);G?K--:++K<Z;)if(T(S[K],K,S))return K;return-1}function hf(S){return S!==S}function Id(S,T,L){for(var G=L-1,Z=S.length;++G<Z;)if(S[G]===T)return G;return-1}function pe(S,T,L){return T===T?Id(S,T,L):Yf(S,hf,L)}function Ie(S,T){var L=S==null?0:S.length;return!!L&&pe(S,T,0)>-1}var qe=9007199254740991,jt=/^(?:0|[1-9]\d*)$/;function Dr(S,T){var L=typeof S;return T=T==null?qe:T,!!T&&(L=="number"||L!="symbol"&&jt.test(S))&&S>-1&&S%1==0&&S<T}function jr(S,T,L){T=="__proto__"&&_o?_o(S,T,{configurable:!0,enumerable:!0,value:L,writable:!0}):S[T]=L}function Pn(S,T){return S===T||S!==S&&T!==T}var fi=Object.prototype,Hn=fi.hasOwnProperty;function ci(S,T,L){var G=S[T];(!(Hn.call(S,T)&&Pn(G,L))||L===void 0&&!(T in S))&&jr(S,T,L)}function hi(S,T,L,G){var Z=!L;L||(L={});for(var K=-1,ne=T.length;++K<ne;){var ae=T[K],we=G?G(L[ae],S[ae],ae,L,S):void 0;we===void 0&&(we=S[ae]),Z?jr(L,ae,we):ci(L,ae,we)}return L}var si=Math.max;function Vr(S,T,L){return T=si(T===void 0?S.length-1:T,0),function(){for(var G=arguments,Z=-1,K=si(G.length-T,0),ne=Array(K);++Z<K;)ne[Z]=G[T+Z];Z=-1;for(var ae=Array(T+1);++Z<T;)ae[Z]=G[Z];return ae[T]=L(ne),Pe(S,this,ae)}}var Gn=9007199254740991;function di(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=Gn}function ni(S){return S!=null&&di(S.length)&&!zi(S)}var jn=Object.prototype;function Bi(S){var T=S&&S.constructor,L=typeof T=="function"&&T.prototype||jn;return S===L}function Ui(S,T){for(var L=-1,G=Array(S);++L<S;)G[L]=T(L);return G}var ma="[object Arguments]";function Mo(S){return xe(S)&&ce(S)==ma}var il=Object.prototype,mo=il.hasOwnProperty,As=il.propertyIsEnumerable,ou=Mo(function(){return arguments}())?Mo:function(S){return xe(S)&&mo.call(S,"callee")&&!As.call(S,"callee")},os=ou;function Ys(){return!1}var al=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tu=al&&!0&&ai&&!ai.nodeType&&ai,Is=Tu&&Tu.exports===al,lu=Is?Tt.Buffer:void 0,ha=lu?lu.isBuffer:void 0,Vn=ha||Ys,$r=Vn,Fn="[object Arguments]",Ri="[object Array]",Ki="[object Boolean]",Gi="[object Date]",Do="[object Error]",Ei="[object Function]",Lo="[object Map]",yo="[object Number]",ol="[object Object]",Il="[object RegExp]",Rl="[object Set]",Vu="[object String]",js="[object WeakMap]",Rd="[object ArrayBuffer]",Lv="[object DataView]",Dd="[object Float32Array]",uo="[object Float64Array]",Dl="[object Int8Array]",Pv="[object Int16Array]",Vs="[object Int32Array]",jf="[object Uint8Array]",Le="[object Uint8ClampedArray]",It="[object Uint16Array]",Xt="[object Uint32Array]",nr={};nr[Dd]=nr[uo]=nr[Dl]=nr[Pv]=nr[Vs]=nr[jf]=nr[Le]=nr[It]=nr[Xt]=!0,nr[Fn]=nr[Ri]=nr[Rd]=nr[Ki]=nr[Lv]=nr[Gi]=nr[Do]=nr[Ei]=nr[Lo]=nr[yo]=nr[ol]=nr[Il]=nr[Rl]=nr[Vu]=nr[js]=!1;function Lr(S){return xe(S)&&di(S.length)&&!!nr[ce(S)]}function Tn(S){return function(T){return S(T)}}var Ci=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ea=Ci&&!0&&ai&&!ai.nodeType&&ai,Jo=Ea&&Ea.exports===Ci,ls=Jo&&wt.process,ss=function(){try{var S=Ea&&Ea.require&&Ea.require("util").types;return S||ls&&ls.binding&&ls.binding("util")}catch(T){}}(),sc=ss,Ld=sc&&sc.isTypedArray,wy=Ld?Tn(Ld):Lr,xy=wy,Sy=Object.prototype,Np=Sy.hasOwnProperty;function Pd(S,T){var L=ht(S),G=!L&&os(S),Z=!L&&!G&&$r(S),K=!L&&!G&&!Z&&xy(S),ne=L||G||Z||K,ae=ne?Ui(S.length,String):[],we=ae.length;for(var De in S)(T||Np.call(S,De))&&!(ne&&(De=="length"||Z&&(De=="offset"||De=="parent")||K&&(De=="buffer"||De=="byteLength"||De=="byteOffset")||Dr(De,we)))&&ae.push(De);return ae}function Bv(S,T){return function(L){return S(T(L))}}var Hp=Bv(Object.keys,Object),Go=Hp,wi=Object.prototype,zp=wi.hasOwnProperty;function Ca(S){if(!Bi(S))return Go(S);var T=[];for(var L in Object(S))zp.call(S,L)&&L!="constructor"&&T.push(L);return T}function Vf(S){return ni(S)?Pd(S):Ca(S)}function su(S){var T=[];if(S!=null)for(var L in Object(S))T.push(L);return T}var _y=Object.prototype,df=_y.hasOwnProperty;function f0(S){if(!dn(S))return su(S);var T=Bi(S),L=[];for(var G in S)G=="constructor"&&(T||!df.call(S,G))||L.push(G);return L}function Xf(S){return ni(S)?Pd(S,!0):f0(S)}var h0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vf=/^\w*$/;function uc(S,T){if(ht(S))return!1;var L=typeof S;return L=="number"||L=="symbol"||L=="boolean"||S==null||Be(S)?!0:vf.test(S)||!h0.test(S)||T!=null&&S in Object(T)}var us=$s(Object,"create"),Bd=us;function Ou(){this.__data__=Bd?Bd(null):{},this.size=0}function N1(S){var T=this.has(S)&&delete this.__data__[S];return this.size-=T?1:0,T}var Wp="__lodash_hash_undefined__",Bh=Object.prototype,Fc=Bh.hasOwnProperty;function Gp(S){var T=this.__data__;if(Bd){var L=T[S];return L===Wp?void 0:L}return Fc.call(T,S)?T[S]:void 0}var X2=Object.prototype,gx=X2.hasOwnProperty;function Z2(S){var T=this.__data__;return Bd?T[S]!==void 0:gx.call(T,S)}var K2="__lodash_hash_undefined__";function mx(S,T){var L=this.__data__;return this.size+=this.has(S)?0:1,L[S]=Bd&&T===void 0?K2:T,this}function kh(S){var T=-1,L=S==null?0:S.length;for(this.clear();++T<L;){var G=S[T];this.set(G[0],G[1])}}kh.prototype.clear=Ou,kh.prototype.delete=N1,kh.prototype.get=Gp,kh.prototype.has=Z2,kh.prototype.set=mx;function $p(){this.__data__=[],this.size=0}function Up(S,T){for(var L=S.length;L--;)if(Pn(S[L][0],T))return L;return-1}var Ey=Array.prototype,My=Ey.splice;function yx(S){var T=this.__data__,L=Up(T,S);if(L<0)return!1;var G=T.length-1;return L==G?T.pop():My.call(T,L,1),--this.size,!0}function Cx(S){var T=this.__data__,L=Up(T,S);return L<0?void 0:T[L][1]}function cc(S){return Up(this.__data__,S)>-1}function kd(S,T){var L=this.__data__,G=Up(L,S);return G<0?(++this.size,L.push([S,T])):L[G][1]=T,this}function Xu(S){var T=-1,L=S==null?0:S.length;for(this.clear();++T<L;){var G=S[T];this.set(G[0],G[1])}}Xu.prototype.clear=$p,Xu.prototype.delete=yx,Xu.prototype.get=Cx,Xu.prototype.has=cc,Xu.prototype.set=kd;var bx=$s(Tt,"Map"),pf=bx;function wx(){this.size=0,this.__data__={hash:new kh,map:new(pf||Xu),string:new kh}}function Yp(S){var T=typeof S;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?S!=="__proto__":S===null}function Bn(S,T){var L=S.__data__;return Yp(T)?L[typeof T=="string"?"string":"hash"]:L.map}function kv(S){var T=Bn(this,S).delete(S);return this.size-=T?1:0,T}function Ty(S){return Bn(this,S).get(S)}function Fh(S){return Bn(this,S).has(S)}function d0(S,T){var L=Bn(this,S),G=L.size;return L.set(S,T),this.size+=L.size==G?0:1,this}function fc(S){var T=-1,L=S==null?0:S.length;for(this.clear();++T<L;){var G=S[T];this.set(G[0],G[1])}}fc.prototype.clear=wx,fc.prototype.delete=kv,fc.prototype.get=Ty,fc.prototype.has=Fh,fc.prototype.set=d0;var H1="Expected a function";function jp(S,T){if(typeof S!="function"||T!=null&&typeof T!="function")throw new TypeError(H1);var L=function(){var G=arguments,Z=T?T.apply(this,G):G[0],K=L.cache;if(K.has(Z))return K.get(Z);var ne=S.apply(this,G);return L.cache=K.set(Z,ne)||K,ne};return L.cache=new(jp.Cache||fc),L}jp.Cache=fc;var Nh=500;function z1(S){var T=jp(S,function(G){return L.size===Nh&&L.clear(),G}),L=T.cache;return T}var Fd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W1=/\\(\\)?/g,G1=z1(function(S){var T=[];return S.charCodeAt(0)===46&&T.push(""),S.replace(Fd,function(L,G,Z,K){T.push(Z?K.replace(W1,"$1"):G||L)}),T}),$1=G1;function v0(S){return S==null?"":hr(S)}function Vp(S,T){return ht(S)?S:uc(S,T)?[S]:$1(v0(S))}var Xp=1/0;function Fv(S){if(typeof S=="string"||Be(S))return S;var T=S+"";return T=="0"&&1/S==-Xp?"-0":T}function Nv(S,T){T=Vp(T,S);for(var L=0,G=T.length;S!=null&&L<G;)S=S[Fv(T[L++])];return L&&L==G?S:void 0}function Nd(S,T,L){var G=S==null?void 0:Nv(S,T);return G===void 0?L:G}function Zp(S,T){for(var L=-1,G=T.length,Z=S.length;++L<G;)S[Z+L]=T[L];return S}var p0=bt?bt.isConcatSpreadable:void 0;function U1(S){return ht(S)||os(S)||!!(p0&&S&&S[p0])}function Oy(S,T,L,G,Z){var K=-1,ne=S.length;for(L||(L=U1),Z||(Z=[]);++K<ne;){var ae=S[K];T>0&&L(ae)?T>1?Oy(ae,T-1,L,G,Z):Zp(Z,ae):G||(Z[Z.length]=ae)}return Z}function g0(S){var T=S==null?0:S.length;return T?Oy(S,1):[]}function m0(S){return as(Vr(S,void 0,g0),S+"")}var y0=Bv(Object.getPrototypeOf,Object),C0=y0,Hv="\\ud800-\\udfff",Pa="\\u0300-\\u036f",Hd="\\ufe20-\\ufe2f",Ll="\\u20d0-\\u20ff",Hh=Pa+Hd+Ll,zh="\\ufe0e\\ufe0f",Vi="\\u200d",Ay=RegExp("["+Vi+Hv+Hh+zh+"]");function zv(S){return Ay.test(S)}function el(S,T,L,G){var Z=-1,K=S==null?0:S.length;for(G&&K&&(L=S[++Z]);++Z<K;)L=T(L,S[Z],Z,S);return L}function b0(){this.__data__=new Xu,this.size=0}function Wh(S){var T=this.__data__,L=T.delete(S);return this.size=T.size,L}function Gh(S){return this.__data__.get(S)}function Nl(S){return this.__data__.has(S)}var Kp=200;function $h(S,T){var L=this.__data__;if(L instanceof Xu){var G=L.__data__;if(!pf||G.length<Kp-1)return G.push([S,T]),this.size=++L.size,this;L=this.__data__=new fc(G)}return L.set(S,T),this.size=L.size,this}function cs(S){var T=this.__data__=new Xu(S);this.size=T.size}cs.prototype.clear=b0,cs.prototype.delete=Wh,cs.prototype.get=Gh,cs.prototype.has=Nl,cs.prototype.set=$h;function hc(S,T){return S&&hi(T,Vf(T),S)}function Iy(S,T){return S&&hi(T,Xf(T),S)}var zd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qp=zd&&!0&&ai&&!ai.nodeType&&ai,Qp=qp&&qp.exports===zd,Wd=Qp?Tt.Buffer:void 0,Zu=Wd?Wd.allocUnsafe:void 0;function Jp(S,T){if(T)return S.slice();var L=S.length,G=Zu?Zu(L):new S.constructor(L);return S.copy(G),G}function Hl(S,T){for(var L=-1,G=S==null?0:S.length,Z=0,K=[];++L<G;){var ne=S[L];T(ne,L,S)&&(K[Z++]=ne)}return K}function Zf(){return[]}var w0=Object.prototype,co=w0.propertyIsEnumerable,Xs=Object.getOwnPropertySymbols,Uh=Xs?function(S){return S==null?[]:(S=Object(S),Hl(Xs(S),function(T){return co.call(S,T)}))}:Zf,Nc=Uh;function xx(S,T){return hi(S,Nc(S),T)}var Gd=Object.getOwnPropertySymbols,eg=Gd?function(S){for(var T=[];S;)Zp(T,Nc(S)),S=C0(S);return T}:Zf,Ry=eg;function x0(S,T){return hi(S,Ry(S),T)}function Dy(S,T,L){var G=T(S);return ht(S)?G:Zp(G,L(S))}function fs(S){return Dy(S,Vf,Nc)}function $d(S){return Dy(S,Xf,Ry)}var Y1=$s(Tt,"DataView"),Ud=Y1,Ly=$s(Tt,"Promise"),gf=Ly,tg=$s(Tt,"Set"),Yh=tg,Py="[object Map]",Jl="[object Object]",Au="[object Promise]",Hc="[object Set]",mf="[object WeakMap]",Co="[object DataView]",Wv=ql(Ud),On=ql(pf),rg=ql(gf),By=ql(Yh),Gv=ql(Al),Ta=ce;(Ud&&Ta(new Ud(new ArrayBuffer(1)))!=Co||pf&&Ta(new pf)!=Py||gf&&Ta(gf.resolve())!=Au||Yh&&Ta(new Yh)!=Hc||Al&&Ta(new Al)!=mf)&&(Ta=function(S){var T=ce(S),L=T==Jl?S.constructor:void 0,G=L?ql(L):"";if(G)switch(G){case Wv:return Co;case On:return Py;case rg:return Au;case By:return Hc;case Gv:return mf}return T});var yf=Ta,dc=Object.prototype,Yd=dc.hasOwnProperty;function ji(S){var T=S.length,L=new S.constructor(T);return T&&typeof S[0]=="string"&&Yd.call(S,"index")&&(L.index=S.index,L.input=S.input),L}var ng=Tt.Uint8Array,$v=ng;function Uv(S){var T=new S.constructor(S.byteLength);return new $v(T).set(new $v(S)),T}function S0(S,T){var L=T?Uv(S.buffer):S.buffer;return new S.constructor(L,S.byteOffset,S.byteLength)}var Zs=/\w*$/;function Yv(S){var T=new S.constructor(S.source,Zs.exec(S));return T.lastIndex=S.lastIndex,T}var jd=bt?bt.prototype:void 0,ig=jd?jd.valueOf:void 0;function j1(S){return ig?Object(ig.call(S)):{}}function _0(S,T){var L=T?Uv(S.buffer):S.buffer;return new S.constructor(L,S.byteOffset,S.length)}var Sx="[object Boolean]",ag="[object Date]",og="[object Map]",ky="[object Number]",Iu="[object RegExp]",E0="[object Set]",Cf="[object String]",Fy="[object Symbol]",Ks="[object ArrayBuffer]",Ny="[object DataView]",Kf="[object Float32Array]",lg="[object Float64Array]",V1="[object Int8Array]",Hy="[object Int16Array]",zy="[object Int32Array]",_x="[object Uint8Array]",Wy="[object Uint8ClampedArray]",Ku="[object Uint16Array]",Gy="[object Uint32Array]";function jh(S,T,L){var G=S.constructor;switch(T){case Ks:return Uv(S);case Sx:case ag:return new G(+S);case Ny:return S0(S,L);case Kf:case lg:case V1:case Hy:case zy:case _x:case Wy:case Ku:case Gy:return _0(S,L);case og:return new G;case ky:case Cf:return new G(S);case Iu:return Yv(S);case E0:return new G;case Fy:return j1(S)}}function M0(S){return typeof S.constructor=="function"&&!Bi(S)?St(C0(S)):{}}var $y="[object Map]";function X1(S){return xe(S)&&yf(S)==$y}var sg=sc&&sc.isMap,T0=sg?Tn(sg):X1,Uy=T0,Ru="[object Set]";function vc(S){return xe(S)&&yf(S)==Ru}var bf=sc&&sc.isSet,jv=bf?Tn(bf):vc,O0=jv,A0=1,Yy=2,Vd=4,uu="[object Arguments]",qf="[object Array]",Oa="[object Boolean]",F="[object Date]",X="[object Error]",ue="[object Function]",ge="[object GeneratorFunction]",Ke="[object Map]",ar="[object Number]",zr="[object Object]",Qn="[object RegExp]",ta="[object Set]",Ma="[object String]",hs="[object Symbol]",zc="[object WeakMap]",Qf="[object ArrayBuffer]",pl="[object DataView]",I0="[object Float32Array]",pc="[object Float64Array]",jy="[object Int8Array]",R0="[object Int16Array]",Jf="[object Int32Array]",$o="[object Uint8Array]",Rs="[object Uint8ClampedArray]",Z1="[object Uint16Array]",Ex="[object Uint32Array]",Di={};Di[uu]=Di[qf]=Di[Qf]=Di[pl]=Di[Oa]=Di[F]=Di[I0]=Di[pc]=Di[jy]=Di[R0]=Di[Jf]=Di[Ke]=Di[ar]=Di[zr]=Di[Qn]=Di[ta]=Di[Ma]=Di[hs]=Di[$o]=Di[Rs]=Di[Z1]=Di[Ex]=!0,Di[X]=Di[ue]=Di[zc]=!1;function wf(S,T,L,G,Z,K){var ne,ae=T&A0,we=T&Yy,De=T&Vd;if(L&&(ne=Z?L(S,G,Z,K):L(S)),ne!==void 0)return ne;if(!dn(S))return S;var We=ht(S);if(We){if(ne=ji(S),!ae)return qt(S,ne)}else{var ke=yf(S),He=ke==ue||ke==ge;if($r(S))return Jp(S,ae);if(ke==zr||ke==uu||He&&!Z){if(ne=we||He?{}:M0(S),!ae)return we?x0(S,Iy(ne,S)):xx(S,hc(ne,S))}else{if(!Di[ke])return Z?S:{};ne=jh(S,ke,ae)}}K||(K=new cs);var ot=K.get(S);if(ot)return ot;K.set(S,ne),O0(S)?S.forEach(function(mr){ne.add(wf(mr,T,L,mr,S,K))}):Uy(S)&&S.forEach(function(mr,Er){ne.set(Er,wf(mr,T,L,Er,S,K))});var zt=De?we?$d:fs:we?Xf:Vf,Cr=We?void 0:zt(S);return Os(Cr||S,function(mr,Er){Cr&&(Er=mr,mr=S[Er]),ci(ne,Er,wf(mr,T,L,Er,S,K))}),ne}var q2=4;function Q2(S){return wf(S,q2)}var K1="__lodash_hash_undefined__";function J2(S){return this.__data__.set(S,K1),this}function Vv(S){return this.__data__.has(S)}function Vh(S){var T=-1,L=S==null?0:S.length;for(this.__data__=new fc;++T<L;)this.add(S[T])}Vh.prototype.add=Vh.prototype.push=J2,Vh.prototype.has=Vv;function Vy(S,T){for(var L=-1,G=S==null?0:S.length;++L<G;)if(T(S[L],L,S))return!0;return!1}function ug(S,T){return S.has(T)}var Xd=1,xf=2;function cg(S,T,L,G,Z,K){var ne=L&Xd,ae=S.length,we=T.length;if(ae!=we&&!(ne&&we>ae))return!1;var De=K.get(S),We=K.get(T);if(De&&We)return De==T&&We==S;var ke=-1,He=!0,ot=L&xf?new Vh:void 0;for(K.set(S,T),K.set(T,S);++ke<ae;){var zt=S[ke],Cr=T[ke];if(G)var mr=ne?G(Cr,zt,ke,T,S,K):G(zt,Cr,ke,S,T,K);if(mr!==void 0){if(mr)continue;He=!1;break}if(ot){if(!Vy(T,function(Er,Ir){if(!ug(ot,Ir)&&(zt===Er||Z(zt,Er,L,G,K)))return ot.push(Ir)})){He=!1;break}}else if(!(zt===Cr||Z(zt,Cr,L,G,K))){He=!1;break}}return K.delete(S),K.delete(T),He}function e_(S){var T=-1,L=Array(S.size);return S.forEach(function(G,Z){L[++T]=[Z,G]}),L}function q1(S){var T=-1,L=Array(S.size);return S.forEach(function(G){L[++T]=G}),L}var Mx=1,t_=2,D0="[object Boolean]",Wc="[object Date]",Xh="[object Error]",Xv="[object Map]",fg="[object Number]",Q1="[object RegExp]",Xy="[object Set]",Tx="[object String]",Ox="[object Symbol]",Ax="[object ArrayBuffer]",Gc="[object DataView]",r_=bt?bt.prototype:void 0,J1=r_?r_.valueOf:void 0;function n_(S,T,L,G,Z,K,ne){switch(L){case Gc:if(S.byteLength!=T.byteLength||S.byteOffset!=T.byteOffset)return!1;S=S.buffer,T=T.buffer;case Ax:return!(S.byteLength!=T.byteLength||!K(new $v(S),new $v(T)));case D0:case Wc:case fg:return Pn(+S,+T);case Xh:return S.name==T.name&&S.message==T.message;case Q1:case Tx:return S==T+"";case Xv:var ae=e_;case Xy:var we=G&Mx;if(ae||(ae=q1),S.size!=T.size&&!we)return!1;var De=ne.get(S);if(De)return De==T;G|=t_,ne.set(S,T);var We=cg(ae(S),ae(T),G,Z,K,ne);return ne.delete(S),We;case Ox:if(J1)return J1.call(S)==J1.call(T)}return!1}var i_=1,Zy=Object.prototype,a_=Zy.hasOwnProperty;function L0(S,T,L,G,Z,K){var ne=L&i_,ae=fs(S),we=ae.length,De=fs(T),We=De.length;if(we!=We&&!ne)return!1;for(var ke=we;ke--;){var He=ae[ke];if(!(ne?He in T:a_.call(T,He)))return!1}var ot=K.get(S),zt=K.get(T);if(ot&&zt)return ot==T&&zt==S;var Cr=!0;K.set(S,T),K.set(T,S);for(var mr=ne;++ke<we;){He=ae[ke];var Er=S[He],Ir=T[He];if(G)var pn=ne?G(Ir,Er,He,T,S,K):G(Er,Ir,He,S,T,K);if(!(pn===void 0?Er===Ir||Z(Er,Ir,L,G,K):pn)){Cr=!1;break}mr||(mr=He=="constructor")}if(Cr&&!mr){var Ur=S.constructor,$n=T.constructor;Ur!=$n&&"constructor"in S&&"constructor"in T&&!(typeof Ur=="function"&&Ur instanceof Ur&&typeof $n=="function"&&$n instanceof $n)&&(Cr=!1)}return K.delete(S),K.delete(T),Cr}var Ix=1,hg="[object Arguments]",Ky="[object Array]",ll="[object Object]",Ar=Object.prototype,cu=Ar.hasOwnProperty;function ra(S,T,L,G,Z,K){var ne=ht(S),ae=ht(T),we=ne?Ky:yf(S),De=ae?Ky:yf(T);we=we==hg?ll:we,De=De==hg?ll:De;var We=we==ll,ke=De==ll,He=we==De;if(He&&$r(S)){if(!$r(T))return!1;ne=!0,We=!1}if(He&&!We)return K||(K=new cs),ne||xy(S)?cg(S,T,L,G,Z,K):n_(S,T,we,L,G,Z,K);if(!(L&Ix)){var ot=We&&cu.call(S,"__wrapped__"),zt=ke&&cu.call(T,"__wrapped__");if(ot||zt){var Cr=ot?S.value():S,mr=zt?T.value():T;return K||(K=new cs),Z(Cr,mr,L,G,K)}}return He?(K||(K=new cs),L0(S,T,L,G,Z,K)):!1}function P0(S,T,L,G,Z){return S===T?!0:S==null||T==null||!xe(S)&&!xe(T)?S!==S&&T!==T:ra(S,T,L,G,P0,Z)}var B0=1,Zh=2;function Zv(S,T,L,G){var Z=L.length,K=Z,ne=!G;if(S==null)return!K;for(S=Object(S);Z--;){var ae=L[Z];if(ne&&ae[2]?ae[1]!==S[ae[0]]:!(ae[0]in S))return!1}for(;++Z<K;){ae=L[Z];var we=ae[0],De=S[we],We=ae[1];if(ne&&ae[2]){if(De===void 0&&!(we in S))return!1}else{var ke=new cs;if(G)var He=G(De,We,we,S,T,ke);if(!(He===void 0?P0(We,De,B0|Zh,G,ke):He))return!1}}return!0}function Zd(S){return S===S&&!dn(S)}function eb(S){for(var T=Vf(S),L=T.length;L--;){var G=T[L],Z=S[G];T[L]=[G,Z,Zd(Z)]}return T}function qy(S,T){return function(L){return L==null?!1:L[S]===T&&(T!==void 0||S in Object(L))}}function tb(S){var T=eb(S);return T.length==1&&T[0][2]?qy(T[0][0],T[0][1]):function(L){return L===S||Zv(L,S,T)}}function Rx(S,T){return S!=null&&T in Object(S)}function Kd(S,T,L){T=Vp(T,S);for(var G=-1,Z=T.length,K=!1;++G<Z;){var ne=Fv(T[G]);if(!(K=S!=null&&L(S,ne)))break;S=S[ne]}return K||++G!=Z?K:(Z=S==null?0:S.length,!!Z&&di(Z)&&Dr(ne,Z)&&(ht(S)||os(S)))}function dg(S,T){return S!=null&&Kd(S,T,Rx)}var Dx=1,Lx=2;function Px(S,T){return uc(S)&&Zd(T)?qy(Fv(S),T):function(L){var G=Nd(L,S);return G===void 0&&G===T?dg(L,S):P0(T,G,Dx|Lx)}}function rb(S){return function(T){return T==null?void 0:T[S]}}function o_(S){return function(T){return Nv(T,S)}}function Kv(S){return uc(S)?rb(Fv(S)):o_(S)}function qd(S){return typeof S=="function"?S:S==null?is:typeof S=="object"?ht(S)?Px(S[0],S[1]):tb(S):Kv(S)}function k0(S){return function(T,L,G){for(var Z=-1,K=Object(T),ne=G(T),ae=ne.length;ae--;){var we=ne[S?ae:++Z];if(L(K[we],we,K)===!1)break}return T}}var Bx=k0(),Sf=Bx;function nb(S,T){return S&&Sf(S,T,Vf)}function kx(S,T){return function(L,G){if(L==null)return L;if(!ni(L))return S(L,G);for(var Z=L.length,K=T?Z:-1,ne=Object(L);(T?K--:++K<Z)&&G(ne[K],K,ne)!==!1;);return L}}var Fx=kx(nb),vg=Fx,qv=function(){return Tt.Date.now()},Qd=qv,F0="Expected a function",_f=Math.max,N0=Math.min;function sl(S,T,L){var G,Z,K,ne,ae,we,De=0,We=!1,ke=!1,He=!0;if(typeof S!="function")throw new TypeError(F0);T=fa(T)||0,dn(L)&&(We=!!L.leading,ke="maxWait"in L,K=ke?_f(fa(L.maxWait)||0,T):K,He="trailing"in L?!!L.trailing:He);function ot(Cn){var Un=G,ii=Z;return G=Z=void 0,De=Cn,ne=S.apply(ii,Un),ne}function zt(Cn){return De=Cn,ae=setTimeout(Er,T),We?ot(Cn):ne}function Cr(Cn){var Un=Cn-we,ii=Cn-De,mi=T-Un;return ke?N0(mi,K-ii):mi}function mr(Cn){var Un=Cn-we,ii=Cn-De;return we===void 0||Un>=T||Un<0||ke&&ii>=K}function Er(){var Cn=Qd();if(mr(Cn))return Ir(Cn);ae=setTimeout(Er,Cr(Cn))}function Ir(Cn){return ae=void 0,He&&G?ot(Cn):(G=Z=void 0,ne)}function pn(){ae!==void 0&&clearTimeout(ae),De=0,G=we=Z=ae=void 0}function Ur(){return ae===void 0?ne:Ir(Qd())}function $n(){var Cn=Qd(),Un=mr(Cn);if(G=arguments,Z=this,we=Cn,Un){if(ae===void 0)return zt(we);if(ke)return clearTimeout(ae),ae=setTimeout(Er,T),ot(we)}return ae===void 0&&(ae=setTimeout(Er,T)),ne}return $n.cancel=pn,$n.flush=Ur,$n}function eh(S,T,L){for(var G=-1,Z=S==null?0:S.length;++G<Z;)if(L(T,S[G]))return!0;return!1}function ib(S){return typeof S=="function"?S:is}function Jd(S,T){var L=ht(S)?Os:vg;return L(S,ib(T))}function Nx(S,T){var L=[];return vg(S,function(G,Z,K){T(G,Z,K)&&L.push(G)}),L}function ev(S,T){var L=ht(S)?Hl:Nx;return L(S,qd(T))}function tv(S){return function(T,L,G){var Z=Object(T);if(!ni(T)){var K=qd(L);T=Vf(T),L=function(ae){return K(Z[ae],ae,Z)}}var ne=S(T,L,G);return ne>-1?Z[K?T[ne]:ne]:void 0}}var l_=Math.max;function Du(S,T,L){var G=S==null?0:S.length;if(!G)return-1;var Z=L==null?0:oi(L);return Z<0&&(Z=l_(G+Z,0)),Yf(S,qd(T),Z)}var Kh=tv(Du),ul=Kh;function s_(S){return S&&S.length?S[0]:void 0}function u_(S,T){var L=-1,G=ni(S)?Array(S.length):[];return vg(S,function(Z,K,ne){G[++L]=T(Z,K,ne)}),G}function Uo(S,T){var L=ht(S)?Re:u_;return L(S,qd(T))}function zl(S,T){return S==null?S:Sf(S,ib(T),Xf)}var $c="[object String]";function qh(S){return typeof S=="string"||!ht(S)&&xe(S)&&ce(S)==$c}function pg(S,T){return Re(T,function(L){return S[L]})}function ab(S){return S==null?[]:pg(S,Vf(S))}var c_=Math.max;function ob(S,T,L,G){S=ni(S)?S:ab(S),L=L&&!G?oi(L):0;var Z=S.length;return L<0&&(L=c_(Z+L,0)),qh(S)?L<=Z&&S.indexOf(T,L)>-1:!!Z&&pe(S,T,L)>-1}var lb="[object Boolean]";function Qy(S){return S===!0||S===!1||xe(S)&&ce(S)==lb}var Qh="[object Map]",f_="[object Set]",gg=Object.prototype,H0=gg.hasOwnProperty;function Po(S){if(S==null)return!0;if(ni(S)&&(ht(S)||typeof S=="string"||typeof S.splice=="function"||$r(S)||xy(S)||os(S)))return!S.length;var T=yf(S);if(T==Qh||T==f_)return!S.size;if(Bi(S))return!Ca(S).length;for(var L in S)if(H0.call(S,L))return!1;return!0}function Jy(S,T){return P0(S,T)}function Jh(S){return S==null}function ed(S,T){var L={};return T=qd(T),nb(S,function(G,Z,K){jr(L,Z,T(G,Z,K))}),L}function Ef(S,T){for(var L,G=-1,Z=S.length;++G<Z;){var K=T(S[G]);K!==void 0&&(L=L===void 0?K:L+K)}return L}function z0(S,T,L,G){if(!dn(S))return S;T=Vp(T,S);for(var Z=-1,K=T.length,ne=K-1,ae=S;ae!=null&&++Z<K;){var we=Fv(T[Z]),De=L;if(we==="__proto__"||we==="constructor"||we==="prototype")return S;if(Z!=ne){var We=ae[we];De=G?G(We,we,ae):void 0,De===void 0&&(De=dn(We)?We:Dr(T[Z+1])?[]:{})}ci(ae,we,De),ae=ae[we]}return S}function eC(S,T,L){for(var G=-1,Z=T.length,K={};++G<Z;){var ne=T[G],ae=Nv(S,ne);L(ae,ne)&&z0(K,Vp(ne,S),ae)}return K}var Qv=rb("length"),sb=Qv,gc="\\ud800-\\udfff",Xo="\\u0300-\\u036f",ds="\\ufe20-\\ufe2f",tC="\\u20d0-\\u20ff",Wl=Xo+ds+tC,bi="\\ufe0e\\ufe0f",An="["+gc+"]",mc="["+Wl+"]",Pl="\\ud83c[\\udffb-\\udfff]",gl="(?:"+mc+"|"+Pl+")",W0="[^"+gc+"]",Ds="(?:\\ud83c[\\udde6-\\uddff]){2}",Gl="[\\ud800-\\udbff][\\udc00-\\udfff]",mg="\\u200d",$i=gl+"?",Oi="["+bi+"]?",G0="(?:"+mg+"(?:"+[W0,Ds,Gl].join("|")+")"+Oi+$i+")*",Lu=Oi+$i+G0,$0="(?:"+[W0+mc+"?",mc,Ds,Gl,An].join("|")+")",Jv=RegExp(Pl+"(?="+Pl+")|"+$0+Lu,"g");function td(S){for(var T=Jv.lastIndex=0;Jv.test(S);)++T;return T}function Hx(S){return zv(S)?td(S):sb(S)}function yc(S,T){return eC(S,T,function(L,G){return dg(S,G)})}var fu=m0(function(S,T){return S==null?{}:yc(S,T)}),ep=fu;function tp(S,T,L,G,Z){return Z(S,function(K,ne,ae){L=G?(G=!1,K):T(L,K,ne,ae)}),L}function Mf(S,T,L){var G=ht(S)?el:tp,Z=arguments.length<3;return G(S,qd(T),L,Z,vg)}var zx="[object Map]",Wx="[object Set]";function rv(S){if(S==null)return 0;if(ni(S))return qh(S)?Hx(S):S.length;var T=yf(S);return T==zx||T==Wx?S.size:Ca(S).length}function Pu(S,T){return S&&S.length?Ef(S,qd(T)):0}function Ni(S){return v0(S).toUpperCase()}var ur=1/0,rC=Yh&&1/q1(new Yh([,-0]))[1]==ur?function(S){return new Yh(S)}:yt,Ls=rC,Br=200;function en(S,T,L){var G=-1,Z=Ie,K=S.length,ne=!0,ae=[],we=ae;if(L)ne=!1,Z=eh;else if(K>=Br){var De=T?null:Ls(S);if(De)return q1(De);ne=!1,Z=ug,we=new Vh}else we=T?[]:ae;e:for(;++G<K;){var We=S[G],ke=T?T(We):We;if(We=L||We!==0?We:0,ne&&ke===ke){for(var He=we.length;He--;)if(we[He]===ke)continue e;T&&we.push(ke),ae.push(We)}else Z(we,ke,L)||(we!==ae&&we.push(ke),ae.push(We))}return ae}function th(S){return S&&S.length?en(S):[]}const nC=(S,T)=>{var L,G,Z;return Qy(T)?{container:S,adaptiveWidth:!0,adaptiveHeight:!1}:{container:((L=T==null?void 0:T.getContainer)==null?void 0:L.call(T))||S,adaptiveWidth:(G=T==null?void 0:T.width)!=null?G:!0,adaptiveHeight:(Z=T==null?void 0:T.height)!=null?Z:!0}},yg=S=>{let T=!0;const{s2:L,adaptive:G,container:Z,wrapper:K}=S,{container:ne,adaptiveWidth:ae,adaptiveHeight:we}=nC(K,G);if(!ne||!Z||!G||!L)return;const De=(ot,zt)=>{L==null||L.changeSheetSize(ot,zt),L==null||L.render(!1)},We=sl(De,yn),ke=()=>{const{clientWidth:ot,clientHeight:zt}=Z,Cr=ae?Math.floor(ot!=null?ot:L.options.width):L.options.width,mr=we?Math.floor(zt!=null?zt:L.options.height):L.options.height;if(!(!ae&&!we)){if(T){De(Cr,mr),T=!1;return}We(Cr,mr)}},He=new ResizeObserver(([ot]=[])=>{ot&&ke()});return He.observe(ne,{box:"border-box"}),()=>{He.unobserve(ne)}},iC=(S,T)=>{const L=S.store.get("drillDownDataCache",[]),G=L.find(Z=>Z.rowId===T.id);return{drillDownDataCache:L,drillDownCurrentCache:G}},ml=S=>{const{meta:T,event:L,callback:G}=S,{spreadsheet:Z}=T;Z.store.set("drillDownNode",T);const{drillDownDataCache:K,drillDownCurrentCache:ne}=iC(Z,T),ae=ne!=null&&ne.drillField?[ne==null?void 0:ne.drillField]:[],we=[];K.forEach(De=>{T.id.includes(De.rowId)&&T.id!==De.rowId&&we.push(De.drillField)}),L&&Z.emit(Ve.ch4.GLOBAL_ACTION_ICON_CLICK,L),G({sheetInstance:Z,cacheDrillFields:ae,disabledFields:we,event:L})},rp=S=>{var T;const L=S.spreadsheet,{fields:G}=L.dataCfg,Z=((T=G.rows)==null?void 0:T.length)-1,K=Po(G.values)?!0:L.isValueInCols();return Z<=S.level&&L.isHierarchyTreeType()&&K&&!S.isGrandTotals},Bo=(S,T,L)=>{var G;const Z=(G=S==null?void 0:S.headerActionIcons)!=null&&G.length?[...S.headerActionIcons]:[];if(!Po(T)){const K={belongsCell:"rowCell",iconNames:["DrillDownIcon"],defaultHide:!0,displayCondition:T.displayCondition||rp,action:ne=>{const{iconName:ae,meta:we,event:De}=ne;ae==="DrillDownIcon"&&(we.spreadsheet.store.set("drillDownNode",we),ml({meta:we,event:De,callback:L}))}};Z.push(K)}return Rn(Fr({},S),{headerActionIcons:Z})},ub=S=>{const{fetchData:T,spreadsheet:L,drillFields:G,drillItemsNum:Z=-1}=S;L.store.set("drillItemsNum",Z);const K=L.store.get("drillDownNode"),{drillDownDataCache:ne,drillDownCurrentCache:ae}=iC(L,K);let we=Q2(ne);ae&&(we=ev(ne,De=>De.rowId!==K.id)),T&&T(K,G).then(De=>{const{drillData:We,drillField:ke}=De;if(L.dataSet.transformDrillDownData(ke,We,K),!Po(We)){const He=K.level+1,ot={rowId:K.id,drillLevel:He,drillData:We,drillField:ke};we.push(ot),L.store.set("drillDownDataCache",we)}L.interaction.reset(),L.render(!1)})};(0,Ve.AfN)(Rr);var cb=function(T){return function(L,G){var Z=(0,ut.useRef)(!1);T(function(){return function(){Z.current=!1}},[]),T(function(){if(!Z.current)Z.current=!0;else return L()},G)}},np=cb(ut.useEffect);function Cg(S){var T=(0,ut.useRef)(S);return T.current=S,T}var vs=globalThis&&globalThis.__read||function(S,T){var L=typeof Symbol=="function"&&S[Symbol.iterator];if(!L)return S;var G=L.call(S),Z,K=[],ne;try{for(;(T===void 0||T-- >0)&&!(Z=G.next()).done;)K.push(Z.value)}catch(ae){ne={error:ae}}finally{try{Z&&!Z.done&&(L=G.return)&&L.call(G)}finally{if(ne)throw ne.error}}return K},Gx=function(){var T=vs((0,ut.useState)({}),2),L=T[1];return(0,ut.useCallback)(function(){return L({})},[])},fb=Gx,Cc={exports:{}};(function(S){(function(){var T={}.hasOwnProperty;function L(){for(var G=[],Z=0;Z<arguments.length;Z++){var K=arguments[Z];if(K){var ne=typeof K;if(ne==="string"||ne==="number")G.push(K);else if(Array.isArray(K)){if(K.length){var ae=L.apply(null,K);ae&&G.push(ae)}}else if(ne==="object")if(K.toString===Object.prototype.toString)for(var we in K)T.call(K,we)&&K[we]&&G.push(we);else G.push(K.toString())}}return G.join(" ")}S.exports?(L.default=L,S.exports=L):window.classNames=L})()})(Cc);var Bl=Cc.exports,Tf="";const ip=S=>{const{style:T={},width:L,height:G,className:Z,name:K}=S,ne=()=>(0,Ve.q7_)(K),ae=Fr({},T);return L&&(ae.width=`${L}px`),G&&(ae.height=`${G}px`),oe().createElement("span",{style:ae,className:Bl(`${Ve.vhY}-html-icon`,Z),dangerouslySetInnerHTML:{__html:ne()}})};class Ps extends oe().PureComponent{render(){const{style:T={},className:L,content:G}=this.props;let Z;return typeof G!="string"?Z=(G==null?void 0:G.innerHTML)||"":Z=G,oe().createElement("div",{style:T,className:Bl(`${Ve.vhY}-react-element`,L),dangerouslySetInnerHTML:{__html:Z}})}}const Zo=S=>{const T=S,{icon:L}=T,G=Wn(T,["icon"]);if(!L)return null;if((0,Ve.q7_)(L)){const Z=L;return oe().createElement(ip,Fr({name:Z},G))}return oe().createElement(Ps,Fr({content:L},G))},aC=S=>{const{list:T=[]}=S;return oe().createElement("div",{className:`${Ve.NO_}-detail-list`},T.map((L,G)=>{const{name:Z,value:K,icon:ne}=L;return oe().createElement("div",{key:`${K}-${G}`,className:`${Ve.NO_}-detail-item`},oe().createElement("span",{className:`${Ve.NO_}-detail-item-key`},Z),oe().createElement("span",{className:`${Ve.NO_}-detail-item-val ${Ve.NO_}-highlight`},ne?oe().createElement(Zo,{icon:ne,width:8,height:7}):null,K))}))},qu=S=>{var T,L;const{rows:G=[],cols:Z=[]}=S;return oe().createElement("div",{className:`${Ve.NO_}-head-info-list`},(T=Z.map(K=>K.value))==null?void 0:T.join("/"),Z.length>0&&G.length>0&&"\uFF0C",(L=G.map(K=>K.value))==null?void 0:L.join("/"))},U0=S=>{const{infos:T=""}=S;return oe().createElement("div",{className:`${Ve.NO_}-infos`},T)},Bs=S=>{const{name:T,icon:L,text:G,render:Z}=S,K=()=>T&&oe().createElement("span",{className:`${Ve.NO_}-interpretation-name`},T),ne=()=>G&&oe().createElement("div",null,G),ae=()=>oe().createElement(Ps,{content:Z});return oe().createElement("div",{className:`${Ve.NO_}-interpretation`},oe().createElement("div",{className:`${Ve.NO_}-interpretation-head`},oe().createElement(Zo,{icon:L,className:`${Ve.NO_}-interpretation-icon`}),K()),ne(),ae())};var bo="";const ks=oe().memo(S=>{const{menus:T,onlyMenu:L,onClick:G,cell:Z,defaultSelectedKeys:K}=S,ne=De=>oe().createElement("span",{onClick:()=>{var We;return(We=De.onClick)==null?void 0:We.call(De,Z)}},oe().createElement(Zo,{icon:De.icon,className:`${Ve.NO_}-operator-icon`}),oe().createElement("span",{className:`${Ve.NO_}-operator-text`},De.text)),ae=De=>{const{key:We,text:ke,children:He,onClick:ot}=De;return Po(He)?oe().createElement(ye.Menu.Item,{title:ke,key:We},ne(De)):oe().createElement(ye.Menu.SubMenu,{title:ne(De),key:We,popupClassName:`${Ve.NO_}-operator-submenu-popup`,onTitleClick:()=>ot==null?void 0:ot(Z)},Uo(He,zt=>ae(zt)))},we=()=>L?oe().createElement(ye.Menu,{className:`${Ve.NO_}-operator-menus`,onClick:G,defaultSelectedKeys:K},Uo(T,De=>ae(De))):Uo(T,De=>{const{key:We,children:ke}=De,He=Po(ke)?oe().createElement(oe().Fragment,null):oe().createElement(ye.Menu,{className:`${Ve.NO_}-operator-menus`,onClick:G,key:We,defaultSelectedKeys:K},Uo(ke,ot=>ae(ot)));return oe().createElement(ye.Dropdown,{key:We,overlay:He},ne(De))});return Po(T)?null:oe().createElement("div",{className:`${Ve.NO_}-operator`},we())}),Fi=S=>{const{tips:T="",name:L=""}=S;return oe().createElement(oe().Fragment,null,L&&oe().createElement("div",{className:`${Ve.NO_}-name`},L),T&&oe().createElement("div",{className:`${Ve.NO_}-tips`},T))},bc=oe().memo(S=>{const{summaries:T=[]}=S,L=()=>{const Z=Pu(T,K=>rv(K==null?void 0:K.selectedData));return oe().createElement("div",{className:`${Ve.NO_}-summary-item`},oe().createElement("span",{className:`${Ve.NO_}-selected`},Z," ",(0,Ve.agQ)("\u9879")),(0,Ve.agQ)("\u5DF2\u9009\u62E9"))},G=()=>T==null?void 0:T.map(Z=>{const{name:K="",value:ne}=Z||{};if(!(!K&&!ne))return oe().createElement("div",{key:`${K}-${ne}`,className:`${Ve.NO_}-summary-item`},oe().createElement("span",{className:`${Ve.NO_}-summary-key`},K,"\uFF08",(0,Ve.agQ)("\u603B\u548C"),")"),oe().createElement("span",{className:Bl(`${Ve.NO_}-summary-val`,`${Ve.NO_}-bold`)},ne))});return oe().createElement("div",{className:`${Ve.NO_}-summary`},L(),G())}),$x=({description:S})=>oe().createElement(oe().Fragment,null,S&&oe().createElement("div",{className:`${Ve.NO_}-description`},(0,Ve.agQ)("\u8BF4\u660E"),"\uFF1A",S));var h_="";const wc=S=>{const{data:T,options:L,content:G,cell:Z}=S,K=(zt,Cr)=>zt&&oe().createElement(ks,Rn(Fr({},zt),{onlyMenu:Cr,cell:Z})),ne=zt=>{const{name:Cr,tips:mr}=zt||{};return oe().createElement(Fi,{name:Cr,tips:mr})},ae=zt=>!Po(zt)&&oe().createElement(bc,{summaries:zt}),we=zt=>{const{cols:Cr,rows:mr}=zt||{};return(!Po(Cr)||!Po(mr))&&oe().createElement(qu,{cols:Cr,rows:mr})},De=zt=>!Po(zt)&&oe().createElement(aC,{list:zt}),We=zt=>zt&&oe().createElement(U0,{infos:zt}),ke=zt=>zt&&oe().createElement(Bs,Fr({},zt)),He=zt=>oe().createElement($x,{description:zt});return(()=>{const{operator:zt,onlyMenu:Cr}=(0,Ve.IZo)(L),{summaries:mr,headInfo:Er,details:Ir,interpretation:pn,infos:Ur,tips:$n,name:Cn,description:Un}=T||{},ii={name:Cn,tips:$n};if(Cr)return K(zt,!0);const mi=oe().createElement(oe().Fragment,null,ne(ii),ae(mr),ke(pn),we(Er),De(Ir),We(Ur),He(Un));return oe().createElement(oe().Fragment,null,K(zt),G!=null?G:mi)})()};class oC extends Ve.N6r{constructor(T){super(T)}renderContent(){var T,L;const{content:G}=this.spreadsheet.options.tooltip,Z=this.options,K=this.spreadsheet.getCell((T=Z.event)==null?void 0:T.target),ne=(L=Z.content)!=null?L:G,ae=Rn(Fr({},Z),{cell:K,content:ne});this.unmountComponentAtNode(),re().render(oe().createElement(wc,Rn(Fr({},ae),{content:ne})),this.container)}destroy(){super.destroy(),this.unmountComponentAtNode()}unmountComponentAtNode(){this.container&&re().unmountComponentAtNode(this.container)}}const lC={tooltip:{renderTooltip:S=>new oC(S)}},sC=(...S)=>Bt(lC,...S),la=(S,T,L)=>{oe().useEffect(()=>{const G=Z=>{T==null||T((0,Ve.c8d)(Z))};return L==null||L.on(S,G),()=>{L==null||L.off(S,G)}},[L,T,S])},sa=(S,T,L,G=!1)=>{oe().useEffect(()=>{const Z=K=>{T==null||T(K)};return L==null||L.on(S,Z),()=>{G&&(L==null||L.emit(S)),L==null||L.off(S,Z)}},[L,T,S])};function ps(S,T){la(Ve.ch4.ROW_CELL_HOVER,S.onRowCellHover,T),la(Ve.ch4.ROW_CELL_CLICK,S.onRowCellClick,T),la(Ve.ch4.ROW_CELL_DOUBLE_CLICK,S.onRowCellDoubleClick,T),la(Ve.ch4.ROW_CELL_CONTEXT_MENU,S.onRowCellContextMenu,T),la(Ve.ch4.ROW_CELL_MOUSE_DOWN,S.onRowCellMouseDown,T),la(Ve.ch4.ROW_CELL_MOUSE_UP,S.onRowCellMouseUp,T),la(Ve.ch4.ROW_CELL_MOUSE_MOVE,S.onRowCellMouseMove,T),sa(Ve.ch4.ROW_CELL_COLLAPSE_TREE_ROWS,S.onRowCellCollapseTreeRows,T),sa(Ve.ch4.ROW_CELL_SCROLL,S.onRowCellScroll,T),la(Ve.ch4.COL_CELL_HOVER,S.onColCellHover,T),la(Ve.ch4.COL_CELL_CLICK,S.onColCellClick,T),la(Ve.ch4.COL_CELL_DOUBLE_CLICK,S.onColCellDoubleClick,T),la(Ve.ch4.COL_CELL_CONTEXT_MENU,S.onColCellContextMenu,T),la(Ve.ch4.COL_CELL_MOUSE_DOWN,S.onColCellMouseDown,T),la(Ve.ch4.COL_CELL_MOUSE_UP,S.onColCellMouseUp,T),la(Ve.ch4.COL_CELL_MOUSE_MOVE,S.onColCellMouseMove,T),la(Ve.ch4.DATA_CELL_HOVER,S.onDataCellHover,T),la(Ve.ch4.DATA_CELL_CLICK,S.onDataCellClick,T),la(Ve.ch4.DATA_CELL_DOUBLE_CLICK,S.onDataCellDoubleClick,T),la(Ve.ch4.DATA_CELL_CONTEXT_MENU,S.onDataCellContextMenu,T),la(Ve.ch4.DATA_CELL_MOUSE_DOWN,S.onDataCellMouseDown,T),la(Ve.ch4.DATA_CELL_MOUSE_UP,S.onDataCellMouseUp,T),la(Ve.ch4.DATA_CELL_MOUSE_MOVE,S.onDataCellMouseMove,T),sa(Ve.ch4.DATA_CELL_TREND_ICON_CLICK,S.onDataCellTrendIconClick,T),sa(Ve.ch4.DATA_CELL_BRUSH_SELECTION,S.onDataCellBrushSelection,T),sa(Ve.ch4.DATA_CELL_SELECT_MOVE,S.onDataCellSelectMove,T),la(Ve.ch4.CORNER_CELL_HOVER,S.onCornerCellHover,T),la(Ve.ch4.CORNER_CELL_CLICK,S.onCornerCellClick,T),la(Ve.ch4.CORNER_CELL_DOUBLE_CLICK,S.onCornerCellDoubleClick,T),la(Ve.ch4.CORNER_CELL_CONTEXT_MENU,S.onCornerCellContextMenu,T),la(Ve.ch4.CORNER_CELL_MOUSE_DOWN,S.onCornerCellMouseDown,T),la(Ve.ch4.CORNER_CELL_MOUSE_UP,S.onCornerCellMouseUp,T),la(Ve.ch4.CORNER_CELL_MOUSE_MOVE,S.onCornerCellMouseMove,T),la(Ve.ch4.MERGED_CELLS_HOVER,S.onMergedCellsHover,T),la(Ve.ch4.MERGED_CELLS_CLICK,S.onMergedCellsClick,T),la(Ve.ch4.MERGED_CELLS_DOUBLE_CLICK,S.onMergedCellsDoubleClick,T),la(Ve.ch4.MERGED_CELLS_CONTEXT_MENU,S.onMergedCellsContextMenu,T),la(Ve.ch4.MERGED_CELLS_MOUSE_DOWN,S.onMergedCellsMouseDown,T),la(Ve.ch4.MERGED_CELLS_MOUSE_UP,S.onMergedCellsMouseUp,T),la(Ve.ch4.MERGED_CELLS_MOUSE_MOVE,S.onMergedCellsMouseMove,T),sa(Ve.ch4.RANGE_SORT,S.onRangeSort,T),sa(Ve.ch4.RANGE_SORTED,S.onRangeSorted,T),sa(Ve.ch4.RANGE_FILTER,S.onRangeFilter,T),sa(Ve.ch4.RANGE_FILTERED,S.onRangeFiltered,T),sa(Ve.ch4.LAYOUT_AFTER_HEADER_LAYOUT,S.onLayoutAfterHeaderLayout,T),sa(Ve.ch4.LAYOUT_PAGINATION,S.onLayoutPagination,T),sa(Ve.ch4.LAYOUT_CELL_SCROLL,S.onLayoutCellScroll,T),sa(Ve.ch4.LAYOUT_AFTER_COLLAPSE_ROWS,S.onLayoutAfterCollapseRows,T),sa(Ve.ch4.LAYOUT_TREE_ROWS_COLLAPSE_ALL,S.onCollapseRowsAll,T),sa(Ve.ch4.LAYOUT_COLS_EXPANDED,S.onLayoutColsExpanded,T),sa(Ve.ch4.LAYOUT_COLS_HIDDEN,S.onLayoutColsHidden,T),sa(Ve.ch4.LAYOUT_BEFORE_RENDER,S.onBeforeRender,T),sa(Ve.ch4.LAYOUT_AFTER_RENDER,S.onAfterRender,T),sa(Ve.ch4.LAYOUT_DESTROY,S.onDestroy,T,!0),sa(Ve.ch4.LAYOUT_RESIZE,S.onLayoutResize,T),sa(Ve.ch4.LAYOUT_RESIZE_SERIES_WIDTH,S.onLayoutResizeSeriesWidth,T),sa(Ve.ch4.LAYOUT_RESIZE_ROW_WIDTH,S.onLayoutResizeRowWidth,T),sa(Ve.ch4.LAYOUT_RESIZE_ROW_HEIGHT,S.onLayoutResizeRowHeight,T),sa(Ve.ch4.LAYOUT_RESIZE_COL_WIDTH,S.onLayoutResizeColWidth,T),sa(Ve.ch4.LAYOUT_RESIZE_COL_HEIGHT,S.onLayoutResizeColHeight,T),sa(Ve.ch4.LAYOUT_RESIZE_TREE_WIDTH,S.onLayoutResizeTreeWidth,T),sa(Ve.ch4.LAYOUT_RESIZE_MOUSE_DOWN,S.onLayoutResizeMouseDown,T),sa(Ve.ch4.LAYOUT_RESIZE_MOUSE_UP,S.onLayoutResizeMouseUp,T),sa(Ve.ch4.LAYOUT_RESIZE_MOUSE_MOVE,S.onLayoutResizeMouseMove,T),sa(Ve.ch4.GLOBAL_KEYBOARD_DOWN,S.onKeyBoardDown,T),sa(Ve.ch4.GLOBAL_KEYBOARD_UP,S.onKeyBoardUp,T),sa(Ve.ch4.GLOBAL_COPIED,S.onCopied,T),sa(Ve.ch4.GLOBAL_ACTION_ICON_HOVER,S.onActionIconHover,T),sa(Ve.ch4.GLOBAL_ACTION_ICON_CLICK,S.onActionIconClick,T),sa(Ve.ch4.GLOBAL_CONTEXT_MENU,S.onContextMenu,T),sa(Ve.ch4.GLOBAL_HOVER,S.onMouseHover,T),sa(Ve.ch4.GLOBAL_CLICK,S.onClick,T),sa(Ve.ch4.GLOBAL_DOUBLE_CLICK,S.onDoubleClick,T),sa(Ve.ch4.GLOBAL_SELECTED,S.onSelected,T),sa(Ve.ch4.GLOBAL_MOUSE_UP,S.onMouseUp,T),sa(Ve.ch4.GLOBAL_RESET,S.onReset,T),sa(Ve.ch4.GLOBAL_LINK_FIELD_JUMP,S.onLinkFieldJump,T),sa(Ve.ch4.GLOBAL_SCROLL,S.onScroll,T),sa(Ve.ch4.ROW_CELL_BRUSH_SELECTION,S.onRowCellBrushSelection,T),sa(Ve.ch4.COL_CELL_BRUSH_SELECTION,S.onColCellBrushSelection,T)}const uC=(S,T)=>{const[L,G]=oe().useState(T);return oe().useEffect(()=>{S==null||S.on(Ve.ch4.LAYOUT_BEFORE_RENDER,()=>{G(!0)}),S==null||S.on(Ve.ch4.LAYOUT_AFTER_RENDER,()=>{G(!1)})},[S]),{loading:T!=null?T:L,setLoading:G}},na=10,fo=1,d_=(S,T)=>{const{options:{pagination:L},showPagination:G}=T,[Z,K]=oe().useState({total:0,current:(L==null?void 0:L.current)||fo,pageSize:(L==null?void 0:L.pageSize)||na}),ne=(we,De)=>{var We;const ke=(We=Nd(G,"onShowSizeChange"))!=null?We:L==null?void 0:L.onShowSizeChange;ke==null||ke(we,De)},ae=(we,De)=>{var We;K(Rn(Fr({},Z),{current:we,pageSize:De}));const ke=(We=Nd(G,"onChange"))!=null?We:L==null?void 0:L.onChange;ke==null||ke(we,De)};return np(()=>{!S||Po(L)||(S.updatePagination({current:Z.current,pageSize:Z.pageSize}),S.render(!1))},[Z.current,Z.pageSize,S]),np(()=>{var we,De;K({total:(De=(we=S==null?void 0:S.facet)==null?void 0:we.viewCellHeights.getTotalLength())!=null?De:0,current:(L==null?void 0:L.current)||fo,pageSize:(L==null?void 0:L.pageSize)||na})},[L,S]),np(()=>{if(!S||Po(L))return;const we=De=>{K(We=>Rn(Fr({},We),{total:De.total}))};return S.on(Ve.ch4.LAYOUT_PAGINATION,we),()=>{S.off(Ve.ch4.LAYOUT_PAGINATION,we)}},[L,S]),{showPagination:!!G,pagination:Fr(Fr({},L),Z),onShowSizeChange:ne,onChange:ae}},hu=S=>{const{s2:T,adaptive:L,container:G,wrapper:Z}=S;oe().useLayoutEffect(()=>yg({s2:T,adaptive:L,wrapper:Z,container:G}),[T,Z,G,L])};function hb(S){const T=fb(),L=oe().useRef(),G=oe().useRef(),Z=oe().useRef(),{spreadsheet:K,dataCfg:ne,options:ae,themeCfg:we,sheetType:De,onSheetUpdate:We=is}=S,ke=oe().useRef([ne,ae,we]),{loading:He,setLoading:ot}=uC(L.current,S.loading),zt=d_(L.current,S);ps(S,L.current);const Cr=oe().useCallback(Er=>{const Ir=sC(ae);return K?K(Er,ne,Ir):De==="table"?new Ve.HZt(Er,ne,Ir):new Ve.TA7(Er,ne,Ir)},[De,ae,ne,K]),mr=oe().useCallback(()=>{var Er;ot(!0),L.current=Cr(G.current),L.current.setThemeCfg(S.themeCfg),L.current.render(),ot(!1),T(),(Er=S.getSpreadSheet)==null||Er.call(S,L.current)},[S,Cr,ot,T]);return oe().useEffect(()=>(mr(),()=>{var Er,Ir;(Ir=(Er=L.current).destroy)==null||Ir.call(Er)}),[]),np(()=>{var Er,Ir,pn,Ur,$n,Cn,Un,ii,mi,Ia,ka;const[Vl,hl,qo]=ke.current;ke.current=[ne,ae,we];let es=!1,bs=!1;Object.is(Vl,ne)||(((Ir=(Er=Vl==null?void 0:Vl.fields)==null?void 0:Er.columns)==null?void 0:Ir.length)!==((Ur=(pn=ne==null?void 0:ne.fields)==null?void 0:pn.columns)==null?void 0:Ur.length)&&(($n=L.current)==null||$n.clearColumnLeafNodes()),es=!0,(Cn=L.current)==null||Cn.setDataCfg(ne)),Object.is(hl,ae)||(Object.is(hl==null?void 0:hl.hierarchyType,ae==null?void 0:ae.hierarchyType)||(bs=!0,es=!0,(Un=L.current)==null||Un.setDataCfg(ne)),(ii=L.current)==null||ii.setOptions(ae),(mi=L.current)==null||mi.changeSheetSize(ae.width,ae.height)),Object.is(qo,we)||(Ia=L.current)==null||Ia.setThemeCfg(we);const oo=We({reloadData:es,reBuildDataSet:bs});(ka=L.current)==null||ka.render(oo.reloadData,{reBuildDataSet:oo.reBuildDataSet})},[ne,ae,we,We]),hu({s2:L.current,container:G.current,wrapper:Z.current,adaptive:S.adaptive}),{s2Ref:L,containerRef:G,wrapperRef:Z,loading:He,setLoading:ot,pagination:zt}}const gs=ut.createContext(null);function ca(){return ut.useContext(gs)}var ms="";const v_=S=>ut.createElement("svg",Fr({className:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:12.6,height:12.6},S),ut.createElement("path",{d:"M950.016 898.016l-206.016-204.992Q832 586.016 832 448.032q0-159.008-112.512-271.488T448 64.032 176.512 176.544 64 448.032t112.512 271.488T448 832.032q138.016 0 244.992-88l206.016 206.016q10.016 10.016 24.992 10.016t26.016-10.016q10.016-11.008 10.016-26.016t-10.016-26.016zM568.992 736Q512 760 448 760T327.008 736q-56-24-99.488-67.488t-66.496-99.488q-24.992-56.992-24.992-120.992t24.992-120.992q23.008-56 66.496-99.488t99.488-67.488Q384 136.064 448 136.064t120.992 24q56 24 99.488 67.488t67.488 99.488q24 56.992 24 120.992t-24 120.992q-24 56-67.488 99.488T568.992 736z",fill:"currentColor"})),Uc=S=>ut.createElement("svg",Fr({viewBox:"0 0 1024 1024",width:16,height:16},S),ut.createElement("defs",null,ut.createElement("style",{type:"text/css"})),ut.createElement("path",{d:"M441.6 249.6c0 38.4 32 70.4 70.4 70.4s70.4-32 70.4-70.4c0-38.4-32-70.4-70.4-70.4s-70.4 25.6-70.4 70.4z m0 262.4c0 38.4 32 70.4 70.4 70.4s70.4-32 70.4-70.4c0-38.4-32-70.4-70.4-70.4s-70.4 32-70.4 70.4z m0 262.4c0 38.4 32 70.4 70.4 70.4s70.4-32 70.4-70.4c0-38.4-32-70.4-70.4-70.4s-70.4 32-70.4 70.4z",fill:"","p-id":22217})),Nn=S=>ut.createElement("svg",Fr({className:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:12.6,height:12.6},S),ut.createElement("path",{d:"M511.804 222.338c-57.117 0-105.737 20.061-145.86 60.184-40.122 40.123-60.184 88.569-60.184 145.337 0 56.769 20.062 105.214 60.185 145.337 40.122 40.123 88.742 60.185 145.859 60.185 57.116 0 105.736-20.062 145.859-60.185 40.123-40.123 60.184-88.568 60.184-145.337 0-56.768-20.061-105.214-60.184-145.337-40.123-40.123-88.743-60.184-145.86-60.184z m0 338.619c-36.729 0-68.007-12.925-93.835-38.774-25.827-25.85-38.752-57.127-38.773-93.834-0.022-36.707 12.902-68.16 38.773-94.357 25.872-26.197 57.15-39.285 93.835-39.263 36.685 0.022 67.963 13.11 93.834 39.263 25.871 26.154 38.796 57.606 38.774 94.357-0.022 36.75-12.946 68.028-38.774 93.834-25.828 25.806-57.106 38.73-93.834 38.774z m366.165-295.766c-21.084-42.168-50.327-79.223-87.73-111.165-37.404-31.941-79.898-57.105-127.484-75.491C614.472 60.845 564.155 52 511.804 52c-52.352 0-103.006 8.845-151.963 26.535-46.911 18.364-89.069 43.528-126.472 75.491-37.403 31.964-66.647 69.019-87.731 111.165C123.879 308.71 113 353.923 113 400.835c0 65.95 15.982 132.924 47.945 200.92 26.524 56.441 63.58 112.198 111.165 167.27 62.556 73.435 134.632 138.71 216.227 195.827 6.81 4.765 14.459 7.148 22.945 7.148 8.485 0 16.47-2.383 23.956-7.148 81.595-57.79 153.67-123.067 216.227-195.828 47.608-55.767 84.663-111.524 111.165-167.27 31.963-67.995 47.945-134.969 47.945-200.919 0-46.912-10.88-92.126-32.638-135.644h0.032z m-40.797 136.656c0 55.07-13.6 111.513-40.798 169.326-23.129 49.631-56.452 99.948-99.97 150.95-52.351 61.208-113.885 117.65-184.6 169.326-70.716-51.676-132.25-108.118-184.6-169.326-42.844-51.002-76.167-101.319-99.971-150.95-27.198-57.791-40.797-114.57-40.797-170.338 0-36.032 8.159-70.716 24.478-104.05 16.994-32.638 40.45-61.882 70.368-87.73 30.592-26.525 65.276-47.26 104.05-62.209 40.797-14.97 82.954-22.455 126.472-22.455 43.517 0 85.675 7.485 126.472 22.455 38.752 14.97 73.436 35.706 104.05 62.208 30.593 25.85 54.048 55.093 70.367 87.731 16.32 34.009 24.479 69.03 24.479 105.062z",fill:"currentColor"})),db=S=>ut.createElement("svg",Fr({className:"antv-s2-icon",width:"16px",height:"16px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},S),ut.createElement("path",{d:"M18.0047888,16.4055 C18.1082888,16.4055 18.1922888,16.4895 18.1922888,16.593 L18.1922888,17.9055 C18.1922888,18.0090534 18.1083422,18.093 18.0047888,18.093 L9.37978883,18.093 C9.27623544,18.093 9.19228883,18.0090534 9.19228883,17.9055 L9.19228883,16.593 C9.19228883,16.4895 9.27628883,16.4055 9.37978883,16.4055 L18.0047888,16.4055 Z M4.41328883,1.6665 L4.46428883,1.7115 L7.08928883,5.0385 C7.17478883,5.1435 7.12078883,5.2935 7.00528883,5.3325 L6.94228883,5.343 L5.16028883,5.343 L5.16028883,14.25 L6.94228883,14.25 C7.09978883,14.25 7.18828883,14.433 7.08928883,14.5545 L4.46428883,17.88 C4.42872537,17.9249155 4.37457895,17.9511073 4.31728883,17.9511073 C4.25999871,17.9511073 4.20585229,17.9249155 4.17028883,17.88 L1.54528883,14.5545 C1.50119832,14.4981177 1.49305316,14.4215528 1.52429494,14.3571564 C1.55553672,14.2927601 1.62071465,14.2517677 1.69228883,14.2515 L3.47428883,14.2515 L3.47428883,5.343 L1.69228883,5.343 C1.63110128,5.34394015 1.57330492,5.31496201 1.53745415,5.26536844 C1.50160338,5.21577487 1.49220972,5.15180683 1.51228883,5.094 L1.54528883,5.0385 L4.17028883,1.713 C4.22854609,1.63918993 4.33246412,1.61994585 4.41328883,1.668 L4.41328883,1.6665 Z M15.7547888,11.4375 C15.8582888,11.4375 15.9422888,11.5215 15.9422888,11.625 L15.9422888,12.9375 C15.9422888,13.0410534 15.8583422,13.125 15.7547888,13.125 L9.37978883,13.125 C9.33006074,13.125 9.28236938,13.1052456 9.24720631,13.0700825 C9.21204324,13.0349195 9.19228883,12.9872281 9.19228883,12.9375 L9.19228883,11.625 C9.19228883,11.5215 9.27628883,11.4375 9.37978883,11.4375 L15.7547888,11.4375 Z M21.7547888,6.468 C21.8582888,6.468 21.9422888,6.5535 21.9422888,6.6555 L21.9422888,7.968 C21.9422888,8.07155339 21.8583422,8.1555 21.7547888,8.1555 L9.37978883,8.1555 C9.33006074,8.1555 9.28236938,8.13574559 9.24720631,8.10058252 C9.21204324,8.06541945 9.19228883,8.01772809 9.19228883,7.968 L9.19228883,6.6555 C9.19228883,6.5535 9.27628883,6.468 9.37978883,6.468 L21.7547888,6.468 Z M13.5047888,1.5 C13.6082888,1.5 13.6922888,1.584 13.6922888,1.6875 L13.6922888,3 C13.6922888,3.10355339 13.6083422,3.1875 13.5047888,3.1875 L9.37978883,3.1875 C9.33006074,3.1875 9.28236938,3.16774559 9.24720631,3.13258252 C9.21204324,3.09741945 9.19228883,3.04972809 9.19228883,3 L9.19228883,1.6875 C9.19228883,1.584 9.27628883,1.5 9.37978883,1.5 L13.5047888,1.5 Z",fill:"#595959"})),jT=S=>ut.createElement("svg",Fr({width:"12px",height:"12px",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},S),ut.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},ut.createElement("g",{transform:"translate(-153.000000, -608.000000)",fill:"#595959"},ut.createElement("g",{transform:"translate(127.000000, 549.000000)"},ut.createElement("g",{transform:"translate(24.000000, 57.000000)"},ut.createElement("g",{transform:"translate(2.000000, 2.000000)"},ut.createElement("path",{d:"M0.771428571,3.77142857 L3.77142857,3.77142857 L3.77142857,5.65714286 L0.771428571,5.65714286 L0.771428571,3.77142857 Z M0.771428571,6.34285714 L3.77142857,6.34285714 L3.77142857,8.57142857 L0.771428571,8.57142857 L0.771428571,6.34285714 Z M0.771428571,9 L3.77142857,9 L3.77142857,11.2285714 L0.771428571,11.2285714 L0.771428571,9 Z"}),ut.createElement("path",{d:"M0.771428571,9 L0.771428571,11.2285714 L11.2285714,11.2285714 L11.2285714,3.77142857 L0.771428571,3.77142857 L0.771428571,5.65714286 L3.77142857,5.65714286 L3.77142857,3.77142857 L4.54285714,3.77142857 L4.54285714,11.3142857 L3.77142857,11.3142857 L3.77142857,9.08571429 L0.771428571,9.08571429 L0.771428571,9 Z M0.771428571,8.22857143 L3.77142857,8.22857143 L3.77142857,6.34285714 L0.771428571,6.34285714 L0.771428571,8.22857143 L0.771428571,8.22857143 Z M11.2285714,3 L11.2285714,0.771428571 L0.771428571,0.771428571 L0.771428571,3 L11.2285714,3 Z M12,0 L12,12 L0,12 L0,0 L12,0 Z"}))))))),Fs=S=>ut.createElement("svg",Fr({width:"12px",height:"12px",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},S),ut.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},ut.createElement("g",{transform:"translate(-153.000000, -814.000000)",fill:"#595959",fillRule:"nonzero"},ut.createElement("g",{transform:"translate(127.000000, 549.000000)"},ut.createElement("g",{transform:"translate(24.000000, 55.000000)"},ut.createElement("g",{transform:"translate(0.000000, 208.000000)"},ut.createElement("g",{transform:"translate(2.000000, 2.000000)"},ut.createElement("path",{d:"M4.45714286,11.2285714 L11.2285714,11.2285714 L11.2285714,3.77142857 L4.45714286,3.77142857 L4.45714286,11.2285714 Z M3.77142857,11.2285714 L3.77142857,3.77142857 L0.771428571,3.77142857 L0.771428571,11.3142857 L3.77142857,11.3142857 L3.77142857,11.2285714 Z M11.2285714,3 L11.2285714,0.771428571 L0.771428571,0.771428571 L0.771428571,3 L11.2285714,3 Z M12,0 L12,12 L0,12 L0,0 L12,0 Z"}),ut.createElement("polygon",{points:"0.771428571 0.771428571 11.2285714 0.771428571 11.2285714 3 0.771428571 3"})))))))),RM=S=>ut.createElement("svg",Fr({width:"12px",height:"12px",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},S),ut.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},ut.createElement("g",{transform:"translate(-365.000000, -624.000000)",fill:"#595959"},ut.createElement("g",{transform:"translate(127.000000, 549.000000)"},ut.createElement("g",{transform:"translate(236.000000, 71.000000)"},ut.createElement("g",{transform:"translate(0.000000, 2.000000)"},ut.createElement("g",{transform:"translate(2.000000, 2.000000)"},ut.createElement("polygon",{points:"4.22857143 3.77142857 11.2285714 3.77142857 11.2285714 11.7714286 4.22857143 11.7714286"}),ut.createElement("path",{d:"M4.45714286,11.2285714 L11.2285714,11.2285714 L11.2285714,3.77142857 L4.45714286,3.77142857 L4.45714286,11.2285714 Z M3.77142857,11.2285714 L3.77142857,3.77142857 L0.771428571,3.77142857 L0.771428571,11.3142857 L3.77142857,11.3142857 L3.77142857,11.2285714 Z M11.2285714,3 L11.2285714,0.771428571 L0.771428571,0.771428571 L0.771428571,3 L11.2285714,3 Z M12,0 L12,12 L0,12 L0,0 L12,0 Z"})))))))),Y0=S=>ut.createElement("svg",Fr({className:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:12.6,height:12.6},S),ut.createElement("path",{d:"M950.016 898.016l-206.016-204.992Q832 586.016 832 448.032q0-159.008-112.512-271.488T448 64.032 176.512 176.544 64 448.032t112.512 271.488T448 832.032q138.016 0 244.992-88l206.016 206.016q10.016 10.016 24.992 10.016t26.016-10.016q10.016-11.008 10.016-26.016t-10.016-26.016zM568.992 736Q512 760 448 760T327.008 736q-56-24-99.488-67.488t-66.496-99.488q-24.992-56.992-24.992-120.992t24.992-120.992q23.008-56 66.496-99.488t99.488-67.488Q384 136.064 448 136.064t120.992 24q56 24 99.488 67.488t67.488 99.488q24 56.992 24 120.992t-24 120.992q-24 56-67.488 99.488T568.992 736z",fill:"currentColor"})),vb=S=>ut.createElement("svg",Fr({className:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:12.6,height:12.6},S),ut.createElement("path",{d:"M86.016 805.888H0L143.872 275.968h79.36l144.896 529.92H276.992l-29.696-109.056H115.2s-29.696 109.056-29.184 109.056zM225.28 613.376L181.248 455.68 138.24 613.376h87.04zM519.168 430.08c24.576-16.384 47.616-25.088 69.12-25.088 30.72 0 58.368 14.848 81.92 44.032 24.064 29.184 35.328 72.192 35.328 128.512 0 44.032-7.168 83.456-22.528 118.272-14.848 34.816-35.328 62.976-60.416 83.456-26.112 20.992-57.856 31.232-95.232 31.232-15.36-0.512-31.232-1.536-46.592-3.584-4.096-0.512-8.704-1.024-12.8-1.536h-66.56V256h81.92v206.336c11.264-12.8 23.04-23.552 35.84-32.256z m-35.328 157.184v135.168c13.824 3.072 26.112 4.608 37.376 4.608 27.648 0 50.176-11.776 69.12-36.352 19.456-25.088 28.672-59.392 28.672-104.96 0-32.256-5.12-55.296-14.848-70.144-9.216-13.824-18.432-19.968-28.672-19.968-12.288 0-27.136 7.68-44.544 24.064-16.896 16.896-32.768 39.424-47.104 67.584zM1013.76 794.624c-36.864 14.336-71.68 20.992-104.96 20.992-32.768 0.512-64.512-9.216-91.648-27.136-27.136-18.432-48.64-44.032-62.464-73.728-14.848-30.72-22.528-65.536-22.528-104.448 0-58.88 16.896-108.032 51.2-146.944 33.792-38.912 75.264-58.88 123.392-58.88 34.304 0 70.144 7.168 108.032 21.504l10.24 4.096v95.232l-20.992-10.752c-34.816-17.92-65.536-26.624-92.16-26.624-16.896 0-32.768 4.608-47.104 13.824-13.824 8.704-25.088 23.04-32.768 42.496-8.192 19.968-12.288 41.472-12.288 63.488 0 28.672 7.68 55.808 24.064 82.432 14.848 24.576 37.888 36.352 71.168 36.352 10.752 0 21.504-1.024 31.744-2.56 9.728-1.536 29.696-8.192 58.88-18.944l19.456-7.68v92.672l-11.264 4.608z",fill:"currentColor"})),DM=S=>ut.createElement("svg",Fr({width:"16px",height:"16px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},S),ut.createElement("g",{transform:"translate(8.056364, 8.000227) rotate(-270.000000) translate(-8.056364, -8.000227) translate(3.057045, 3.070227)",fill:"currentColor"},ut.createElement("path",{d:"M0.482272727,3.55181818 C0.472878788,3.55181818 0.468181818,3.54939394 0.468181818,3.54454545 C0.468181818,3.53969697 0.465757576,3.53727273 0.460909091,3.53727273 L0.396818182,3.53727273 L0.382727273,3.52318182 L0.34,3.52318182 L0.325909091,3.50909091 L0.311818182,3.50909091 L0.297727273,3.495 L0.269090909,3.495 L0.269090909,3.48090909 L0.255,3.48090909 L0.240909091,3.46681818 L0.226818182,3.46681818 L0.226818182,3.45272727 L0.212727273,3.45272727 L0.184090909,3.42409091 L0.17,3.42409091 C0.160606061,3.405 0.151060606,3.39075758 0.141363636,3.38136364 C0.131969697,3.38136364 0.127272727,3.37893939 0.127272727,3.37409091 L0.127272727,3.36681818 L0.113181818,3.35272727 L0.113181818,3.33863636 L0.0990909091,3.33863636 L0.0990909091,3.32454545 L0.085,3.31045455 L0.085,3.30318182 L0.0777272727,3.29590909 L0.0704545455,3.29590909 L0.0704545455,3.28181818 L0.0563636364,3.26772727 L0.0563636364,3.24636364 L0.0490909091,3.23909091 L0.0418181818,3.23909091 L0.0418181818,3.225 C0.0418181818,3.21560606 0.0393939394,3.21090909 0.0345454545,3.21090909 C0.0296969697,3.21090909 0.0272727273,3.20848485 0.0272727273,3.20363636 L0.0272727273,3.15409091 L0.0131818182,3.14 L0.0131818182,2.94090909 L0.0272727273,2.92681818 L0.0272727273,2.88409091 C0.0366666667,2.87469697 0.0413636364,2.86757576 0.0413636364,2.86272727 L0.0413636364,2.84136364 L0.0554545455,2.82727273 L0.0554545455,2.81318182 L0.0695454545,2.79909091 L0.0695454545,2.79181818 L0.0768181818,2.77772727 L0.0840909091,2.77045455 L0.0840909091,2.76318182 L0.0913636364,2.75590909 L0.0986363636,2.74863636 L0.0986363636,2.74136364 L0.112727273,2.72727273 C0.112727273,2.71787879 0.117424242,2.71318182 0.126818182,2.71318182 L0.126818182,2.69909091 L0.140909091,2.69909091 L2.68363636,0.156363636 C2.77848485,0.0521212121 2.89681818,0 3.03863636,0 C3.18045455,0 3.29878788,0.0521212121 3.39363636,0.156363636 C3.49787879,0.260606061 3.55,0.381363636 3.55,0.518636364 C3.55,0.655909091 3.49787879,0.776666667 3.39363636,0.880909091 L1.74590909,2.52863636 L9.48727273,2.52863636 C9.62939394,2.52863636 9.75015152,2.57833333 9.84954545,2.67772727 C9.94893939,2.77712121 9.99863636,2.89787879 9.99863636,3.04 C9.99863636,3.18212121 9.94893939,3.30287879 9.84954545,3.40227273 C9.75015152,3.50166667 9.62939394,3.55136364 9.48727273,3.55136364 L0.481363636,3.55136364 L0.482272727,3.55181818 Z M9.51636364,6.30727273 C9.52575758,6.30727273 9.53045455,6.30969697 9.53045455,6.31454545 C9.53045455,6.31939394 9.53287879,6.32181818 9.53772727,6.32181818 L9.60181818,6.32181818 L9.61590909,6.33590909 L9.65863636,6.33590909 L9.65863636,6.35 L9.68727273,6.35 L9.70136364,6.36409091 L9.73,6.36409091 L9.73,6.37818182 L9.74409091,6.37818182 L9.75818182,6.39227273 L9.77227273,6.39227273 L9.77227273,6.40636364 L9.78636364,6.40636364 L9.815,6.435 L9.82909091,6.435 C9.83848485,6.45409091 9.8480303,6.46833333 9.85772727,6.47772727 C9.86712121,6.47772727 9.87181818,6.48015152 9.87181818,6.485 L9.87181818,6.49227273 L9.88590909,6.50636364 L9.88590909,6.52045455 L9.9,6.52045455 L9.9,6.53454545 L9.90727273,6.53454545 L9.91454545,6.54181818 L9.91454545,6.55590909 L9.92181818,6.56318182 L9.92909091,6.57045455 L9.92909091,6.57772727 L9.94318182,6.59181818 L9.94318182,6.61318182 L9.95045455,6.62045455 L9.95772727,6.62045455 L9.95772727,6.64909091 L9.965,6.65636364 L9.97227273,6.67045455 L9.97227273,6.70590909 L9.98636364,6.72 L9.98636364,6.91909091 L9.97227273,6.93318182 L9.97227273,6.97590909 L9.95818182,6.99 L9.95818182,7.01863636 L9.94409091,7.03272727 L9.94409091,7.04681818 L9.93,7.06090909 L9.93,7.06818182 L9.92272727,7.08227273 L9.91545455,7.08954545 L9.91545455,7.09681818 L9.90818182,7.10409091 L9.90090909,7.11136364 L9.90090909,7.11863636 L9.88681818,7.13272727 C9.88681818,7.14212121 9.88439394,7.14681818 9.87954545,7.14681818 L9.87227273,7.14681818 L9.87227273,7.16090909 L9.85818182,7.16090909 L9.85090909,7.16818182 L9.84363636,7.18954545 L7.32954545,9.70363636 C7.22530303,9.80787879 7.10212121,9.86 6.96,9.86 C6.81787879,9.86 6.69954545,9.80787879 6.605,9.70363636 C6.50075758,9.60878788 6.44863636,9.49045455 6.44863636,9.34863636 C6.44863636,9.20681818 6.50075758,9.08363636 6.605,8.97909091 L8.25272727,7.33136364 L0.511363636,7.33136364 C0.378636364,7.33136364 0.26030303,7.28166667 0.156363636,7.18227273 C0.0524242424,7.08287879 0.000303030303,6.96212121 4.54747351e-13,6.82 C4.54747351e-13,6.67787879 0.0521212121,6.55712121 0.156363636,6.45772727 C0.260606061,6.35833333 0.378939394,6.30863636 0.511363636,6.30863636 L9.51727273,6.30863636 L9.51636364,6.30727273 Z"}))),kl=oe().memo(S=>{const T=S,{className:L,icon:G,syncCopy:Z=!1,copyOriginalText:K=(0,Ve.agQ)("\u590D\u5236\u539F\u59CB\u6570\u636E"),copyFormatText:ne=(0,Ve.agQ)("\u590D\u5236\u683C\u5F0F\u5316\u6570\u636E"),downloadOriginalText:ae=(0,Ve.agQ)("\u4E0B\u8F7D\u539F\u59CB\u6570\u636E"),downloadFormatText:we=(0,Ve.agQ)("\u4E0B\u8F7D\u683C\u5F0F\u5316\u6570\u636E"),successText:De=(0,Ve.agQ)("\u64CD\u4F5C\u6210\u529F"),errorText:We=(0,Ve.agQ)("\u64CD\u4F5C\u5931\u8D25"),sheet:ke,fileName:He}=T,ot=Wn(T,["className","icon","syncCopy","copyOriginalText","copyFormatText","downloadOriginalText","downloadFormatText","successText","errorText","sheet","fileName"]),zt=`${Ve.vhY}-export`,Cr=Ir=>{const pn=(0,Ve.F1h)(ke,"	",Ir);(0,Ve.vQq)(pn,Z).then(()=>{ye.message.success(De)}).catch(Ur=>{console.log("copy failed: ",Ur),ye.message.error(We)})},mr=Ir=>{const pn=(0,Ve.F1h)(ke,",",Ir);try{(0,Ve.LRf)(pn,He),ye.message.success(De)}catch(Ur){ye.message.error(We)}},Er=oe().createElement(ye.Menu,null,oe().createElement(ye.Menu.Item,{key:"copyOriginal",onClick:()=>Cr(!1)},K),oe().createElement(ye.Menu.Item,{key:"copyFormat",onClick:()=>Cr(!0)},ne),oe().createElement(ye.Menu.Item,{key:"downloadOriginal",onClick:()=>mr(!1)},ae),oe().createElement(ye.Menu.Item,{key:"downloadFormat",onClick:()=>mr(!0)},we));return oe().createElement(ye.Dropdown,Fr({overlay:Er,trigger:["click"],className:Bl(zt,L)},ot),oe().createElement("a",{className:"ant-dropdown-link",key:"export",onClick:Ir=>Ir.preventDefault()},G||oe().createElement(Uc,null)))});kl.displayName="Export",kl.defaultProps={syncCopy:!1,fileName:"sheet"};const p_=S=>{const{splitOrders:T=[],setSplitOrders:L}=S,G=ae=>{const we=T.concat();we.splice(we.indexOf(ae),1),we.unshift(ae),L(we)},Z=ae=>{const we=T.concat();let De=we.indexOf(ae);we.splice(we.indexOf(ae),1),we.splice(De+=1,0,ae),L(we)},K=ae=>{const we=T.concat();let De=we.indexOf(ae);De>0&&(we.splice(we.indexOf(ae),1),we.splice(De-=1,0,ae),L(we))},ne=ae=>oe().createElement(oe().Fragment,null,oe().createElement("span",{className:"split-text"},ae),oe().createElement("span",{className:`${be}-split-icon`,onClick:()=>{G(ae)}},oe().createElement(ip,{name:"groupAsc"})),oe().createElement("span",{className:`${be}-split-icon`,onClick:()=>{Z(ae)}},oe().createElement(ip,{name:"groupDesc"})),oe().createElement("span",{className:`${be}-split-icon`,onClick:()=>{K(ae)}},oe().createElement(ip,{name:"globalAsc"})));return oe().createElement(ye.Card,{className:`${be}-card-content`},T.map(ae=>oe().createElement("li",{key:ae,className:`${be}-split-value`,title:ae},ne(ae))))};var pb="";const{Sider:g_,Content:LM}=ye.Layout,PM=({sheet:S,className:T,icon:L,text:G,ruleText:Z,dimensions:K,ruleOptions:ne,sortParams:ae,onSortOpen:we,onSortConfirm:De})=>{const[We,ke]=(0,ut.useState)(!1),[He,ot]=(0,ut.useState)(!1),[zt,Cr]=(0,ut.useState)([]),[mr,Er]=(0,ut.useState)([]),[Ir,pn]=(0,ut.useState)([]),[Ur,$n]=(0,ut.useState)([]),[Cn,Un]=(0,ut.useState)([]),[ii,mi]=(0,ut.useState)(),[Ia]=ye.Form.useForm(),ka=oe().useMemo(Ce,[]),Vl=oe().useMemo(Vt,[]),hl=()=>{ke(!We)},qo=()=>{we&&we(),hl()},es=()=>{ot(!He)},bs=va=>{ul(zt,za=>za.field===va.field)||(mi(va),Cr([...zt,va])),$n(ev(Ur,za=>za.field!==va.field))},oo=(va,za)=>{var xo;es(),mi(va),Un(th(za||((xo=ul(Ir,xl=>xl.field===va.field))==null?void 0:xo.list)||[]))},Oc=()=>{es();const va=Ia.getFieldsValue([ii==null?void 0:ii.field]);va.sortBy=Cn,Ia.setFieldsValue({[ii==null?void 0:ii.field]:va});const za=Uo(zt,xo=>xo.field===(ii==null?void 0:ii.field)?Rn(Fr({},xo),{rule:"sortBy",sortBy:Cn,sortMethod:"",sortByMeasure:""}):xo);Cr(za)},Eh=()=>{es()},Su=va=>{Cr(ev(zt,za=>za.field!==va.field)),$n([...Ur,va])},Ac=()=>{const va=Ia.getFieldsValue(),{values:za=[]}=S.dataCfg.fields,xo=[],xl=[];Jd(Vf(va),Ic=>{const{sortMethod:tu,rule:$u=[],sortBy:nf}=va[Ic],af={sortFieldId:Ic};$u[0]==="sortByMeasure"||$u[1]?(ob(za,$u[1])?af.sortByMeasure=$u[1]:af.sortByMeasure=Ve.Teh,af.sortMethod=tu,af.query={$$extra$$:$u[1]}):$u[0]==="sortBy"?af.sortBy=nf:af.sortMethod=tu,xo.push(Fr({field:Ic},va[Ic])),xl.push(af)}),De&&De(xo,xl),hl()},eu=va=>ev(va,za=>!ul(ae,xo=>xo.sortFieldId===za.field)),Rp=()=>{if(K)return K;const{fields:va={}}=S.dataCfg||{},{rows:za=[],columns:xo=[]}=va;return Uo([...za,...xo],xl=>({field:xl,name:S.dataSet.getFieldName(xl),list:S.dataSet.getDimensionValues(xl)}))},_d=()=>ne||Uo(ka,va=>{if(va.value==="sortByMeasure"){const{values:za}=S.dataCfg.fields||{};va.children=Uo(za,xo=>({label:S.dataSet.getFieldName(xo),value:xo}))}return va}),rf=()=>Uo(ae,va=>{const{sortFieldId:za,sortMethod:xo,sortBy:xl,sortByMeasure:Ic}=va;let tu;return xl?tu=["sortBy"]:Ic?tu=["sortByMeasure",Ic]:tu=["sortMethod"],{field:za,name:S.dataSet.getFieldName(za),rule:tu,sortMethod:xo,sortBy:xl,sortByMeasure:Ic}}),Dp=()=>oe().createElement(g_,{width:120,className:`${be}-sider-layout`},oe().createElement("div",{className:`${be}-title`},(0,Ve.agQ)("\u53EF\u9009\u5B57\u6BB5")),oe().createElement("div",null,Uo(Ur,va=>oe().createElement("div",{className:`${be}-dimension-item`,key:va.field,onClick:()=>{bs(va)}},va.name)))),t0=()=>oe().createElement(LM,{className:`${be}-content-layout`},oe().createElement("div",{className:`${be}-title`},Z||(0,Ve.agQ)("\u6309\u4EE5\u4E0B\u89C4\u5219\u8FDB\u884C\u6392\u5E8F\uFF08\u4F18\u5148\u7EA7\u7531\u4F4E\u5230\u9AD8\uFF09")),oe().createElement(ye.Form,{form:Ia,name:"form",className:`${be}-custom-form`},Uo(zt,va=>{const{field:za,name:xo,rule:xl,sortMethod:Ic,sortBy:tu}=va||{};return oe().createElement(ye.Form.Item,{name:za,key:za},oe().createElement(ye.Form.Item,{name:[za,"name"],initialValue:xo,noStyle:!0},oe().createElement(ye.Select,{className:`${be}-select`,size:"small"})),oe().createElement("span",{className:`${be}-field-prefix`},(0,Ve.agQ)("\u6309")),oe().createElement(ye.Form.Item,{name:[za,"rule"],initialValue:xl||["sortMethod"],noStyle:!0},oe().createElement(ye.Cascader,{options:mr,expandTrigger:"hover",size:"small",allowClear:!1})),oe().createElement(ye.Form.Item,{shouldUpdate:!0,noStyle:!0},({getFieldValue:$u})=>Jy($u([za,"rule"]),["sortBy"])?oe().createElement(oe().Fragment,null,oe().createElement("a",{className:`${be}-rule-end`,onClick:()=>{oo(va,tu)}},(0,Ve.agQ)("\u8BBE\u7F6E\u987A\u5E8F")),oe().createElement(ye.Form.Item,{noStyle:!0,name:[za,"sortBy"],initialValue:tu})):oe().createElement(ye.Form.Item,{shouldUpdate:!0,noStyle:!0,name:[za,"sortMethod"],initialValue:Ni(Ic)||"ASC"},oe().createElement(ye.Radio.Group,{className:`${be}-rule-end`},Uo(Vl,nf=>oe().createElement(ye.Radio,{value:nf.value,key:nf.value},nf.name))))),oe().createElement(ie.DeleteOutlined,{className:`${be}-rule-end-delete`,onClick:()=>{Su(va)}}))})));return(0,ut.useEffect)(()=>{if(We){const va=rf(),za=Rp(),xo=eu(za),xl=_d();Cr(va),pn(za),$n(xo),Er(xl)}},[We]),oe().createElement("div",{className:Bl(be,T)},oe().createElement(ye.Button,{onClick:qo,icon:L||oe().createElement(db,null),size:"small",className:`${be}-btn`},G||(0,Ve.agQ)("\u9AD8\u7EA7\u6392\u5E8F")),oe().createElement(ye.Modal,{title:G||(0,Ve.agQ)("\u9AD8\u7EA7\u6392\u5E8F"),visible:We,onOk:Ac,onCancel:hl,okText:(0,Ve.agQ)("\u786E\u5B9A"),cancelText:(0,Ve.agQ)("\u53D6\u6D88"),destroyOnClose:!0,className:`${be}-modal`},oe().createElement(ye.Layout,null,Dp(),t0())),oe().createElement(ye.Modal,{title:(0,Ve.agQ)("\u624B\u52A8\u6392\u5E8F"),visible:He,onOk:Oc,onCancel:Eh,okText:(0,Ve.agQ)("\u786E\u5B9A"),cancelText:(0,Ve.agQ)("\u53D6\u6D88"),destroyOnClose:!0,className:`${be}-custom-modal`},oe().createElement(p_,{splitOrders:Cn,setSplitOrders:Un})))},m_="switcher";var $l=(S=>(S.Rows="rows",S.Cols="columns",S.Values="values",S))($l||{}),j0=(S=>(S.Dimensions="dimensions",S.Measures="measures",S.Rows="rows",S.Cols="cols",S))(j0||{});const gb=["rows","columns","values"],Ux=S=>S instanceof Ve.HZt?"table":"pivot",y_=(S,T)=>{const L=S instanceof Ve.TA7&&T===$l.Values||S instanceof Ve.HZt&&T===$l.Cols,G=S instanceof Ve.TA7&&T===$l.Values;return{selectable:L,expandable:G}},mb=(S,{fields:T={},meta:L=[]}={},G=[])=>gb.reduce((Z,K)=>{const ne=T[K];if(Po(ne))return Z;const ae=Uo(ne,we=>{const De=ul(L,["field",we]);return{id:we,displayName:De==null?void 0:De.name,checked:!G.includes(we)}});return Z[K]=Fr({items:ae},y_(S,K)),Z},{}),ap=(S,T)=>{const L=S instanceof Ve.HZt,G=gb.reduce((K,ne)=>{var ae,we,De,We;const ke=(we=(ae=T[ne])==null?void 0:ae.items)!=null?we:[],He=(We=(De=T[ne])==null?void 0:De.hideItems)!=null?We:[];return K[ne]=ev(ke,ot=>!He.find(zt=>!L&&zt.id===ot.id)).map(ot=>ot.id),K},{}),Z=L?T[$l.Cols].hideItems.map(K=>K.id):void 0;return{fields:G,hiddenColumnFields:Z}},Yx=S=>Mf(S,(T,L,G)=>(T.fields[G]=Uo(L.items,"id"),T.hiddenFields.push(...Uo(L.hideItems,"id")),T),{fields:{},hiddenFields:[]}),yb=(S,T,L=[],G=[])=>{const{fields:Z,hiddenFields:K}=Yx(T);return mb(S,{fields:Z,meta:L},K.concat(G))};function bg(S,T){return bg=Object.setPrototypeOf||function(G,Z){return G.__proto__=Z,G},bg(S,T)}function Yc(S,T){S.prototype=Object.create(T.prototype),S.prototype.constructor=S,bg(S,T)}function ki(){return ki=Object.assign||function(S){for(var T=1;T<arguments.length;T++){var L=arguments[T];for(var G in L)Object.prototype.hasOwnProperty.call(L,G)&&(S[G]=L[G])}return S},ki.apply(this,arguments)}function V0(S,T,L){return T in S?Object.defineProperty(S,T,{value:L,enumerable:!0,configurable:!0,writable:!0}):S[T]=L,S}function op(S,T){var L=Object.keys(S);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(S);T&&(G=G.filter(function(Z){return Object.getOwnPropertyDescriptor(S,Z).enumerable})),L.push.apply(L,G)}return L}function wg(S){for(var T=1;T<arguments.length;T++){var L=arguments[T]!=null?arguments[T]:{};T%2?op(Object(L),!0).forEach(function(G){V0(S,G,L[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(L)):op(Object(L)).forEach(function(G){Object.defineProperty(S,G,Object.getOwnPropertyDescriptor(L,G))})}return S}function Bu(S){return"Minified Redux error #"+S+"; visit https://redux.js.org/Errors?code="+S+" for the full message or use the non-minified dev environment for full errors. "}var cC=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),X0=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ul={INIT:"@@redux/INIT"+X0(),REPLACE:"@@redux/REPLACE"+X0(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+X0()}};function lp(S){if(typeof S!="object"||S===null)return!1;for(var T=S;Object.getPrototypeOf(T)!==null;)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(S)===T}function xg(S,T,L){var G;if(typeof T=="function"&&typeof L=="function"||typeof L=="function"&&typeof arguments[3]=="function")throw new Error(Bu(0));if(typeof T=="function"&&typeof L=="undefined"&&(L=T,T=void 0),typeof L!="undefined"){if(typeof L!="function")throw new Error(Bu(1));return L(xg)(S,T)}if(typeof S!="function")throw new Error(Bu(2));var Z=S,K=T,ne=[],ae=ne,we=!1;function De(){ae===ne&&(ae=ne.slice())}function We(){if(we)throw new Error(Bu(3));return K}function ke(Cr){if(typeof Cr!="function")throw new Error(Bu(4));if(we)throw new Error(Bu(5));var mr=!0;return De(),ae.push(Cr),function(){if(mr){if(we)throw new Error(Bu(6));mr=!1,De();var Ir=ae.indexOf(Cr);ae.splice(Ir,1),ne=null}}}function He(Cr){if(!lp(Cr))throw new Error(Bu(7));if(typeof Cr.type=="undefined")throw new Error(Bu(8));if(we)throw new Error(Bu(9));try{we=!0,K=Z(K,Cr)}finally{we=!1}for(var mr=ne=ae,Er=0;Er<mr.length;Er++){var Ir=mr[Er];Ir()}return Cr}function ot(Cr){if(typeof Cr!="function")throw new Error(Bu(10));Z=Cr,He({type:Ul.REPLACE})}function zt(){var Cr,mr=ke;return Cr={subscribe:function(Ir){if(typeof Ir!="object"||Ir===null)throw new Error(Bu(11));function pn(){Ir.next&&Ir.next(We())}pn();var Ur=mr(pn);return{unsubscribe:Ur}}},Cr[cC]=function(){return this},Cr}return He({type:Ul.INIT}),G={dispatch:He,subscribe:ke,getState:We,replaceReducer:ot},G[cC]=zt,G}function Z0(S,T){return function(){return T(S.apply(this,arguments))}}function jx(S,T){if(typeof S=="function")return Z0(S,T);if(typeof S!="object"||S===null)throw new Error(Bu(16));var L={};for(var G in S){var Z=S[G];typeof Z=="function"&&(L[G]=Z0(Z,T))}return L}function Qu(){for(var S=arguments.length,T=new Array(S),L=0;L<S;L++)T[L]=arguments[L];return T.length===0?function(G){return G}:T.length===1?T[0]:T.reduce(function(G,Z){return function(){return G(Z.apply(void 0,arguments))}})}function K0(){for(var S=arguments.length,T=new Array(S),L=0;L<S;L++)T[L]=arguments[L];return function(G){return function(){var Z=G.apply(void 0,arguments),K=function(){throw new Error(Bu(15))},ne={getState:Z.getState,dispatch:function(){return K.apply(void 0,arguments)}},ae=T.map(function(we){return we(ne)});return K=Qu.apply(void 0,ae)(Z.dispatch),wg(wg({},Z),{},{dispatch:K})}}}var Of=oe().createContext(null);function C_(S){S()}var nv=C_,b_=function(T){return nv=T},rh=function(){return nv};function w_(){var S=rh(),T=null,L=null;return{clear:function(){T=null,L=null},notify:function(){S(function(){for(var Z=T;Z;)Z.callback(),Z=Z.next})},get:function(){for(var Z=[],K=T;K;)Z.push(K),K=K.next;return Z},subscribe:function(Z){var K=!0,ne=L={callback:Z,next:null,prev:L};return ne.prev?ne.prev.next=ne:T=ne,function(){!K||T===null||(K=!1,ne.next?ne.next.prev=ne.prev:L=ne.prev,ne.prev?ne.prev.next=ne.next:T=ne.next)}}}}var Na={notify:function(){},get:function(){return[]}};function Sg(S,T){var L,G=Na;function Z(ke){return we(),G.subscribe(ke)}function K(){G.notify()}function ne(){We.onStateChange&&We.onStateChange()}function ae(){return!!L}function we(){L||(L=T?T.addNestedSub(ne):S.subscribe(ne),G=w_())}function De(){L&&(L(),L=void 0,G.clear(),G=Na)}var We={addNestedSub:Z,notifyNestedSubs:K,handleChangeWrapper:ne,isSubscribed:ae,trySubscribe:we,tryUnsubscribe:De,getListeners:function(){return G}};return We}var Cb=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?ut.useLayoutEffect:ut.useEffect;function _g(S){var T=S.store,L=S.context,G=S.children,Z=(0,ut.useMemo)(function(){var ae=Sg(T);return{store:T,subscription:ae}},[T]),K=(0,ut.useMemo)(function(){return T.getState()},[T]);Cb(function(){var ae=Z.subscription;return ae.onStateChange=ae.notifyNestedSubs,ae.trySubscribe(),K!==T.getState()&&ae.notifyNestedSubs(),function(){ae.tryUnsubscribe(),ae.onStateChange=null}},[Z,K]);var ne=L||Of;return oe().createElement(ne.Provider,{value:Z},G)}function du(S,T){if(S==null)return{};var L={},G=Object.keys(S),Z,K;for(K=0;K<G.length;K++)Z=G[K],!(T.indexOf(Z)>=0)&&(L[Z]=S[Z]);return L}var jc={exports:{}},io={};var ys=typeof Symbol=="function"&&Symbol.for,rd=ys?Symbol.for("react.element"):60103,Ns=ys?Symbol.for("react.portal"):60106,tl=ys?Symbol.for("react.fragment"):60107,q0=ys?Symbol.for("react.strict_mode"):60108,nh=ys?Symbol.for("react.profiler"):60114,Q0=ys?Symbol.for("react.provider"):60109,Je=ys?Symbol.for("react.context"):60110,sp=ys?Symbol.for("react.async_mode"):60111,J0=ys?Symbol.for("react.concurrent_mode"):60111,fC=ys?Symbol.for("react.forward_ref"):60112,ih=ys?Symbol.for("react.suspense"):60113,Vx=ys?Symbol.for("react.suspense_list"):60120,qs=ys?Symbol.for("react.memo"):60115,em=ys?Symbol.for("react.lazy"):60116,x_=ys?Symbol.for("react.block"):60121,tm=ys?Symbol.for("react.fundamental"):60117,Vc=ys?Symbol.for("react.responder"):60118,Ya=ys?Symbol.for("react.scope"):60119;function Ju(S){if(typeof S=="object"&&S!==null){var T=S.$$typeof;switch(T){case rd:switch(S=S.type,S){case sp:case J0:case tl:case nh:case q0:case ih:return S;default:switch(S=S&&S.$$typeof,S){case Je:case fC:case em:case qs:case Q0:return S;default:return T}}case Ns:return T}}}function nd(S){return Ju(S)===J0}io.AsyncMode=sp,io.ConcurrentMode=J0,io.ContextConsumer=Je,io.ContextProvider=Q0,io.Element=rd,io.ForwardRef=fC,io.Fragment=tl,io.Lazy=em,io.Memo=qs,io.Portal=Ns,io.Profiler=nh,io.StrictMode=q0,io.Suspense=ih,io.isAsyncMode=function(S){return nd(S)||Ju(S)===sp},io.isConcurrentMode=nd,io.isContextConsumer=function(S){return Ju(S)===Je},io.isContextProvider=function(S){return Ju(S)===Q0},io.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===rd},io.isForwardRef=function(S){return Ju(S)===fC},io.isFragment=function(S){return Ju(S)===tl},io.isLazy=function(S){return Ju(S)===em},io.isMemo=function(S){return Ju(S)===qs},io.isPortal=function(S){return Ju(S)===Ns},io.isProfiler=function(S){return Ju(S)===nh},io.isStrictMode=function(S){return Ju(S)===q0},io.isSuspense=function(S){return Ju(S)===ih},io.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===tl||S===J0||S===nh||S===q0||S===ih||S===Vx||typeof S=="object"&&S!==null&&(S.$$typeof===em||S.$$typeof===qs||S.$$typeof===Q0||S.$$typeof===Je||S.$$typeof===fC||S.$$typeof===tm||S.$$typeof===Vc||S.$$typeof===Ya||S.$$typeof===x_)},io.typeOf=Ju,jc.exports=io;var hC=jc.exports,id={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rm={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dC={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ku={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ad={};ad[hC.ForwardRef]=dC,ad[hC.Memo]=ku;function Qs(S){return hC.isMemo(S)?ku:ad[S.$$typeof]||id}var bb=Object.defineProperty,nm=Object.getOwnPropertyNames,im=Object.getOwnPropertySymbols,iv=Object.getOwnPropertyDescriptor,xc=Object.getPrototypeOf,wb=Object.prototype;function Xx(S,T,L){if(typeof T!="string"){if(wb){var G=xc(T);G&&G!==wb&&Xx(S,G,L)}var Z=nm(T);im&&(Z=Z.concat(im(T)));for(var K=Qs(S),ne=Qs(T),ae=0;ae<Z.length;++ae){var we=Z[ae];if(!rm[we]&&!(L&&L[we])&&!(ne&&ne[we])&&!(K&&K[we])){var De=iv(T,we);try{bb(S,we,De)}catch(We){}}}}return S}var Zx=Xx,am={exports:{}},Ko={};var xb=60103,vC=60106,pC=60107,av=60108,up=60114,Xc=60109,od=60110,gC=60112,ah=60113,mC=60120,cp=60115,ov=60116,Sb=60121,yC=60122,oh=60117,_b=60129,om=60131;if(typeof Symbol=="function"&&Symbol.for){var ko=Symbol.for;xb=ko("react.element"),vC=ko("react.portal"),pC=ko("react.fragment"),av=ko("react.strict_mode"),up=ko("react.profiler"),Xc=ko("react.provider"),od=ko("react.context"),gC=ko("react.forward_ref"),ah=ko("react.suspense"),mC=ko("react.suspense_list"),cp=ko("react.memo"),ov=ko("react.lazy"),Sb=ko("react.block"),yC=ko("react.server.block"),oh=ko("react.fundamental"),_b=ko("react.debug_trace_mode"),om=ko("react.legacy_hidden")}function Zc(S){if(typeof S=="object"&&S!==null){var T=S.$$typeof;switch(T){case xb:switch(S=S.type,S){case pC:case up:case av:case ah:case mC:return S;default:switch(S=S&&S.$$typeof,S){case od:case gC:case ov:case cp:case Xc:return S;default:return T}}case vC:return T}}}var yl=Xc,Eb=xb,lh=gC,CC=pC,Mb=ov,Kx=cp,bC=vC,S_=up,Tb=av,wC=ah;Ko.ContextConsumer=od,Ko.ContextProvider=yl,Ko.Element=Eb,Ko.ForwardRef=lh,Ko.Fragment=CC,Ko.Lazy=Mb,Ko.Memo=Kx,Ko.Portal=bC,Ko.Profiler=S_,Ko.StrictMode=Tb,Ko.Suspense=wC,Ko.isAsyncMode=function(){return!1},Ko.isConcurrentMode=function(){return!1},Ko.isContextConsumer=function(S){return Zc(S)===od},Ko.isContextProvider=function(S){return Zc(S)===Xc},Ko.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===xb},Ko.isForwardRef=function(S){return Zc(S)===gC},Ko.isFragment=function(S){return Zc(S)===pC},Ko.isLazy=function(S){return Zc(S)===ov},Ko.isMemo=function(S){return Zc(S)===cp},Ko.isPortal=function(S){return Zc(S)===vC},Ko.isProfiler=function(S){return Zc(S)===up},Ko.isStrictMode=function(S){return Zc(S)===av},Ko.isSuspense=function(S){return Zc(S)===ah},Ko.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===pC||S===up||S===_b||S===av||S===ah||S===mC||S===om||typeof S=="object"&&S!==null&&(S.$$typeof===ov||S.$$typeof===cp||S.$$typeof===Xc||S.$$typeof===od||S.$$typeof===gC||S.$$typeof===oh||S.$$typeof===Sb||S[0]===yC)},Ko.typeOf=Zc,am.exports=Ko;var BM=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],kM=["reactReduxForwardedRef"],__=[],sh=[null,null];function Ha(S,T){var L=S[1];return[T.payload,L+1]}function vu(S,T,L){Cb(function(){return S.apply(void 0,T)},L)}function qx(S,T,L,G,Z,K,ne){S.current=G,T.current=Z,L.current=!1,K.current&&(K.current=null,ne())}function uh(S,T,L,G,Z,K,ne,ae,we,De){if(S){var We=!1,ke=null,He=function(){if(!We){var Cr=T.getState(),mr,Er;try{mr=G(Cr,Z.current)}catch(Ir){Er=Ir,ke=Ir}Er||(ke=null),mr===K.current?ne.current||we():(K.current=mr,ae.current=mr,ne.current=!0,De({type:"STORE_UPDATED",payload:{error:Er}}))}};L.onStateChange=He,L.trySubscribe(),He();var ot=function(){if(We=!0,L.tryUnsubscribe(),L.onStateChange=null,ke)throw ke};return ot}}var Eg=function(){return[null,0]};function Qx(S,T){T===void 0&&(T={});var L=T,G=L.getDisplayName,Z=G===void 0?function(pn){return"ConnectAdvanced("+pn+")"}:G,K=L.methodName,ne=K===void 0?"connectAdvanced":K,ae=L.renderCountProp,we=ae===void 0?void 0:ae,De=L.shouldHandleStateChanges,We=De===void 0?!0:De,ke=L.storeKey,He=ke===void 0?"store":ke;L.withRef;var ot=L.forwardRef,zt=ot===void 0?!1:ot,Cr=L.context,mr=Cr===void 0?Of:Cr,Er=du(L,BM),Ir=mr;return function(Ur){var $n=Ur.displayName||Ur.name||"Component",Cn=Z($n),Un=ki({},Er,{getDisplayName:Z,methodName:ne,renderCountProp:we,shouldHandleStateChanges:We,storeKey:He,displayName:Cn,wrappedComponentName:$n,WrappedComponent:Ur}),ii=Er.pure;function mi(qo){return S(qo.dispatch,Un)}var Ia=ii?ut.useMemo:function(qo){return qo()};function ka(qo){var es=(0,ut.useMemo)(function(){var iy=qo.reactReduxForwardedRef,qw=du(qo,kM);return[qo.context,iy,qw]},[qo]),bs=es[0],oo=es[1],Oc=es[2],Eh=(0,ut.useMemo)(function(){return bs&&bs.Consumer&&am.exports.isContextConsumer(oe().createElement(bs.Consumer,null))?bs:Ir},[bs,Ir]),Su=(0,ut.useContext)(Eh),Ac=!!qo.store&&!!qo.store.getState&&!!qo.store.dispatch;Su&&Su.store;var eu=Ac?qo.store:Su.store,Rp=(0,ut.useMemo)(function(){return mi(eu)},[eu]),_d=(0,ut.useMemo)(function(){if(!We)return sh;var iy=Sg(eu,Ac?null:Su.subscription),qw=iy.notifyNestedSubs.bind(iy);return[iy,qw]},[eu,Ac,Su]),rf=_d[0],Dp=_d[1],t0=(0,ut.useMemo)(function(){return Ac?Su:ki({},Su,{subscription:rf})},[Ac,Su,rf]),va=(0,ut.useReducer)(Ha,__,Eg),za=va[0],xo=za[0],xl=va[1];if(xo&&xo.error)throw xo.error;var Ic=(0,ut.useRef)(),tu=(0,ut.useRef)(Oc),$u=(0,ut.useRef)(),nf=(0,ut.useRef)(!1),af=Ia(function(){return $u.current&&Oc===tu.current?$u.current:Rp(eu.getState(),Oc)},[eu,xo,Oc]);vu(qx,[tu,Ic,nf,Oc,af,$u,Dp]),vu(uh,[We,eu,rf,Rp,tu,Ic,nf,$u,Dp,xl],[eu,rf,Rp]);var ny=(0,ut.useMemo)(function(){return oe().createElement(Ur,ki({},af,{ref:oo}))},[oo,Ur,af]),lo=(0,ut.useMemo)(function(){return We?oe().createElement(Eh.Provider,{value:t0},ny):ny},[Eh,ny,t0]);return lo}var Vl=ii?oe().memo(ka):ka;if(Vl.WrappedComponent=Ur,Vl.displayName=ka.displayName=Cn,zt){var hl=oe().forwardRef(function(es,bs){return oe().createElement(Vl,ki({},es,{reactReduxForwardedRef:bs}))});return hl.displayName=Cn,hl.WrappedComponent=Ur,Zx(hl,Ur)}return Zx(Vl,Ur)}}function Jx(S,T){return S===T?S!==0||T!==0||1/S===1/T:S!==S&&T!==T}function lm(S,T){if(Jx(S,T))return!0;if(typeof S!="object"||S===null||typeof T!="object"||T===null)return!1;var L=Object.keys(S),G=Object.keys(T);if(L.length!==G.length)return!1;for(var Z=0;Z<L.length;Z++)if(!Object.prototype.hasOwnProperty.call(T,L[Z])||!Jx(S[L[Z]],T[L[Z]]))return!1;return!0}function fp(S,T){var L={},G=function(ne){var ae=S[ne];typeof ae=="function"&&(L[ne]=function(){return T(ae.apply(void 0,arguments))})};for(var Z in S)G(Z);return L}function lv(S){return function(L,G){var Z=S(L,G);function K(){return Z}return K.dependsOnOwnProps=!1,K}}function Ob(S){return S.dependsOnOwnProps!==null&&S.dependsOnOwnProps!==void 0?!!S.dependsOnOwnProps:S.length!==1}function sm(S,T){return function(G,Z){Z.displayName;var K=function(ae,we){return K.dependsOnOwnProps?K.mapToProps(ae,we):K.mapToProps(ae)};return K.dependsOnOwnProps=!0,K.mapToProps=function(ae,we){K.mapToProps=S,K.dependsOnOwnProps=Ob(S);var De=K(ae,we);return typeof De=="function"&&(K.mapToProps=De,K.dependsOnOwnProps=Ob(De),De=K(ae,we)),De},K}}function Ab(S){return typeof S=="function"?sm(S):void 0}function Ib(S){return S?void 0:lv(function(T){return{dispatch:T}})}function Rb(S){return S&&typeof S=="object"?lv(function(T){return fp(S,T)}):void 0}var hp=[Ab,Ib,Rb];function Af(S){return typeof S=="function"?sm(S):void 0}function E_(S){return S?void 0:lv(function(){return{}})}var eS=[Af,E_];function ld(S,T,L){return ki({},L,S,T)}function Kc(S){return function(L,G){G.displayName;var Z=G.pure,K=G.areMergedPropsEqual,ne=!1,ae;return function(De,We,ke){var He=S(De,We,ke);return ne?(!Z||!K(He,ae))&&(ae=He):(ne=!0,ae=He),ae}}}function um(S){return typeof S=="function"?Kc(S):void 0}function Mg(S){return S?void 0:function(){return ld}}var dp=[um,Mg],If=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Tg(S,T,L,G){return function(K,ne){return L(S(K,ne),T(G,ne),ne)}}function cm(S,T,L,G,Z){var K=Z.areStatesEqual,ne=Z.areOwnPropsEqual,ae=Z.areStatePropsEqual,we=!1,De,We,ke,He,ot;function zt(pn,Ur){return De=pn,We=Ur,ke=S(De,We),He=T(G,We),ot=L(ke,He,We),we=!0,ot}function Cr(){return ke=S(De,We),T.dependsOnOwnProps&&(He=T(G,We)),ot=L(ke,He,We),ot}function mr(){return S.dependsOnOwnProps&&(ke=S(De,We)),T.dependsOnOwnProps&&(He=T(G,We)),ot=L(ke,He,We),ot}function Er(){var pn=S(De,We),Ur=!ae(pn,ke);return ke=pn,Ur&&(ot=L(ke,He,We)),ot}function Ir(pn,Ur){var $n=!ne(Ur,We),Cn=!K(pn,De);return De=pn,We=Ur,$n&&Cn?Cr():$n?mr():Cn?Er():ot}return function(Ur,$n){return we?Ir(Ur,$n):zt(Ur,$n)}}function ba(S,T){var L=T.initMapStateToProps,G=T.initMapDispatchToProps,Z=T.initMergeProps,K=du(T,If),ne=L(S,K),ae=G(S,K),we=Z(S,K),De=K.pure?cm:Tg;return De(ne,ae,we,S,K)}var fm=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function sd(S,T,L){for(var G=T.length-1;G>=0;G--){var Z=T[G](S);if(Z)return Z}return function(K,ne){throw new Error("Invalid value of type "+typeof S+" for "+L+" argument when connecting component "+ne.wrappedComponentName+".")}}function Fu(S,T){return S===T}function Hs(S){var T=S===void 0?{}:S,L=T.connectHOC,G=L===void 0?Qx:L,Z=T.mapStateToPropsFactories,K=Z===void 0?eS:Z,ne=T.mapDispatchToPropsFactories,ae=ne===void 0?hp:ne,we=T.mergePropsFactories,De=we===void 0?dp:we,We=T.selectorFactory,ke=We===void 0?ba:We;return function(ot,zt,Cr,mr){mr===void 0&&(mr={});var Er=mr,Ir=Er.pure,pn=Ir===void 0?!0:Ir,Ur=Er.areStatesEqual,$n=Ur===void 0?Fu:Ur,Cn=Er.areOwnPropsEqual,Un=Cn===void 0?lm:Cn,ii=Er.areStatePropsEqual,mi=ii===void 0?lm:ii,Ia=Er.areMergedPropsEqual,ka=Ia===void 0?lm:Ia,Vl=du(Er,fm),hl=sd(ot,K,"mapStateToProps"),qo=sd(zt,ae,"mapDispatchToProps"),es=sd(Cr,De,"mergeProps");return G(ke,ki({methodName:"connect",getDisplayName:function(oo){return"Connect("+oo+")"},shouldHandleStateChanges:!!ot,initMapStateToProps:hl,initMapDispatchToProps:qo,initMergeProps:es,pure:pn,areStatesEqual:$n,areOwnPropsEqual:Un,areStatePropsEqual:mi,areMergedPropsEqual:ka},Vl))}}var Sc=Hs();b_(cr.unstable_batchedUpdates);function vp(S,T){if(S.length!==T.length)return!1;for(var L=0;L<S.length;L++)if(S[L]!==T[L])return!1;return!0}function ud(S,T){var L=(0,ut.useState)(function(){return{inputs:T,result:S()}})[0],G=(0,ut.useRef)(!0),Z=(0,ut.useRef)(L),K=G.current||!!(T&&Z.current.inputs&&vp(T,Z.current.inputs)),ne=K?Z.current:{inputs:T,result:S()};return(0,ut.useEffect)(function(){G.current=!1,Z.current=ne},[ne]),ne.result}function Rf(S,T){return ud(function(){return S},T)}var Ba=ud,Li=Rf,tS=!0,qc="Invariant failed";function rS(S,T){if(!S){if(tS)throw new Error(qc);var L=typeof T=="function"?T():T,G=L?qc+": "+L:qc;throw new Error(G)}}var _c=function(T){var L=T.top,G=T.right,Z=T.bottom,K=T.left,ne=G-K,ae=Z-L,we={top:L,right:G,bottom:Z,left:K,width:ne,height:ae,x:K,y:L,center:{x:(G+K)/2,y:(Z+L)/2}};return we},ch=function(T,L){return{top:T.top-L.top,left:T.left-L.left,bottom:T.bottom+L.bottom,right:T.right+L.right}},hm=function(T,L){return{top:T.top+L.top,left:T.left+L.left,bottom:T.bottom-L.bottom,right:T.right-L.right}},Db=function(T,L){return{top:T.top+L.y,left:T.left+L.x,bottom:T.bottom+L.y,right:T.right+L.x}},Nu={top:0,right:0,bottom:0,left:0},Lb=function(T){var L=T.borderBox,G=T.margin,Z=G===void 0?Nu:G,K=T.border,ne=K===void 0?Nu:K,ae=T.padding,we=ae===void 0?Nu:ae,De=_c(ch(L,Z)),We=_c(hm(L,ne)),ke=_c(hm(We,we));return{marginBox:De,borderBox:_c(L),paddingBox:We,contentBox:ke,margin:Z,border:ne,padding:we}},Qa=function(T){var L=T.slice(0,-2),G=T.slice(-2);if(G!=="px")return 0;var Z=Number(L);return isNaN(Z)&&rS(!1),Z},cl=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Qc=function(T,L){var G=T.borderBox,Z=T.border,K=T.margin,ne=T.padding,ae=Db(G,L);return Lb({borderBox:ae,border:Z,margin:K,padding:ne})},ja=function(T,L){return L===void 0&&(L=cl()),Qc(T,L)},Yo=function(T,L){var G={top:Qa(L.marginTop),right:Qa(L.marginRight),bottom:Qa(L.marginBottom),left:Qa(L.marginLeft)},Z={top:Qa(L.paddingTop),right:Qa(L.paddingRight),bottom:Qa(L.paddingBottom),left:Qa(L.paddingLeft)},K={top:Qa(L.borderTopWidth),right:Qa(L.borderRightWidth),bottom:Qa(L.borderBottomWidth),left:Qa(L.borderLeftWidth)};return Lb({borderBox:T,margin:G,padding:Z,border:K})},Pb=function(T){var L=T.getBoundingClientRect(),G=window.getComputedStyle(T);return Yo(L,G)},nS=Number.isNaN||function(T){return typeof T=="number"&&T!==T};function xC(S,T){return!!(S===T||nS(S)&&nS(T))}function Og(S,T){if(S.length!==T.length)return!1;for(var L=0;L<S.length;L++)if(!xC(S[L],T[L]))return!1;return!0}function zs(S,T){T===void 0&&(T=Og);var L,G=[],Z,K=!1;function ne(){for(var ae=[],we=0;we<arguments.length;we++)ae[we]=arguments[we];return K&&L===this&&T(ae,G)||(Z=S.apply(this,ae),K=!0,L=this,G=ae),Z}return ne}var Bb=function(T){var L=[],G=null,Z=function(){for(var ne=arguments.length,ae=new Array(ne),we=0;we<ne;we++)ae[we]=arguments[we];L=ae,!G&&(G=requestAnimationFrame(function(){G=null,T.apply(void 0,L)}))};return Z.cancel=function(){G&&(cancelAnimationFrame(G),G=null)},Z},sv=Bb;function iS(S,T){}iS.bind(null,"warn"),iS.bind(null,"error");function Fo(){}function SC(S,T){return ki({},S,{},T)}function Hu(S,T,L){var G=T.map(function(Z){var K=SC(L,Z.options);return S.addEventListener(Z.eventName,Z.fn,K),function(){S.removeEventListener(Z.eventName,Z.fn,K)}});return function(){G.forEach(function(K){K()})}}var _C="Invariant failed";function fh(S){this.message=S}fh.prototype.toString=function(){return this.message};function _n(S,T){if(!S)throw new fh(_C)}var M_=function(S){Yc(T,S);function T(){for(var G,Z=arguments.length,K=new Array(Z),ne=0;ne<Z;ne++)K[ne]=arguments[ne];return G=S.call.apply(S,[this].concat(K))||this,G.callbacks=null,G.unbind=Fo,G.onWindowError=function(ae){var we=G.getCallbacks();we.isDragging()&&we.tryAbort();var De=ae.error;De instanceof fh&&ae.preventDefault()},G.getCallbacks=function(){if(!G.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return G.callbacks},G.setCallbacks=function(ae){G.callbacks=ae},G}var L=T.prototype;return L.componentDidMount=function(){this.unbind=Hu(window,[{eventName:"error",fn:this.onWindowError}])},L.componentDidCatch=function(Z){if(Z instanceof fh){this.setState({});return}throw Z},L.componentWillUnmount=function(){this.unbind()},L.render=function(){return this.props.children(this.setCallbacks)},T}(oe().Component),aS=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,EC=function(T){return T+1},cd=function(T){return`
  You have lifted an item in position `+EC(T.source.index)+`
`},kb=function(T,L){var G=T.droppableId===L.droppableId,Z=EC(T.index),K=EC(L.index);return G?`
      You have moved the item from position `+Z+`
      to position `+K+`
    `:`
    You have moved the item from position `+Z+`
    in list `+T.droppableId+`
    to list `+L.droppableId+`
    in position `+K+`
  `},Fb=function(T,L,G){var Z=L.droppableId===G.droppableId;return Z?`
      The item `+T+`
      has been combined with `+G.draggableId:`
      The item `+T+`
      in list `+L.droppableId+`
      has been combined with `+G.draggableId+`
      in list `+G.droppableId+`
    `},Nb=function(T){var L=T.destination;if(L)return kb(T.source,L);var G=T.combine;return G?Fb(T.draggableId,T.source,G):"You are over an area that cannot be dropped on"},dm=function(T){return`
  The item has returned to its starting position
  of `+EC(T.index)+`
`},T_=function(T){if(T.reason==="CANCEL")return`
      Movement cancelled.
      `+dm(T.source)+`
    `;var L=T.destination,G=T.combine;return L?`
      You have dropped the item.
      `+kb(T.source,L)+`
    `:G?`
      You have dropped the item.
      `+Fb(T.draggableId,T.source,G)+`
    `:`
    The item has been dropped while not over a drop area.
    `+dm(T.source)+`
  `},Va={dragHandleUsageInstructions:aS,onDragStart:cd,onDragUpdate:Nb,onDragEnd:T_},Cl={x:0,y:0},ho=function(T,L){return{x:T.x+L.x,y:T.y+L.y}},Cs=function(T,L){return{x:T.x-L.x,y:T.y-L.y}},Js=function(T,L){return T.x===L.x&&T.y===L.y},hh=function(T){return{x:T.x!==0?-T.x:0,y:T.y!==0?-T.y:0}},Df=function(T,L,G){var Z;return G===void 0&&(G=0),Z={},Z[T]=L,Z[T==="x"?"y":"x"]=G,Z},Ag=function(T,L){return Math.sqrt(Math.pow(L.x-T.x,2)+Math.pow(L.y-T.y,2))},ec=function(T,L){return Math.min.apply(Math,L.map(function(G){return Ag(T,G)}))},MC=function(T){return function(L){return{x:T(L.x),y:T(L.y)}}},O_=function(S,T){var L=_c({top:Math.max(T.top,S.top),right:Math.min(T.right,S.right),bottom:Math.min(T.bottom,S.bottom),left:Math.max(T.left,S.left)});return L.width<=0||L.height<=0?null:L},dh=function(T,L){return{top:T.top+L.y,left:T.left+L.x,bottom:T.bottom+L.y,right:T.right+L.x}},Ec=function(T){return[{x:T.left,y:T.top},{x:T.right,y:T.top},{x:T.left,y:T.bottom},{x:T.right,y:T.bottom}]},oS={top:0,right:0,bottom:0,left:0},Ig=function(T,L){return L?dh(T,L.scroll.diff.displacement):T},Hb=function(T,L,G){if(G&&G.increasedBy){var Z;return ki({},T,(Z={},Z[L.end]=T[L.end]+G.increasedBy[L.line],Z))}return T},zb=function(T,L){return L&&L.shouldClipSubject?O_(L.pageMarginBox,T):_c(T)},uv=function(S){var T=S.page,L=S.withPlaceholder,G=S.axis,Z=S.frame,K=Ig(T.marginBox,Z),ne=Hb(K,G,L),ae=zb(ne,Z);return{page:T,withPlaceholder:L,active:ae}},vm=function(S,T){S.frame||_n(!1);var L=S.frame,G=Cs(T,L.scroll.initial),Z=hh(G),K=ki({},L,{scroll:{initial:L.scroll.initial,current:T,diff:{value:G,displacement:Z},max:L.scroll.max}}),ne=uv({page:S.subject.page,withPlaceholder:S.subject.withPlaceholder,axis:S.axis,frame:K}),ae=ki({},S,{frame:K,subject:ne});return ae};function fd(S){return Object.values?Object.values(S):Object.keys(S).map(function(T){return S[T]})}function pp(S,T){if(S.findIndex)return S.findIndex(T);for(var L=0;L<S.length;L++)if(T(S[L]))return L;return-1}function Aa(S,T){if(S.find)return S.find(T);var L=pp(S,T);if(L!==-1)return S[L]}function pm(S){return Array.prototype.slice.call(S)}var Wb=zs(function(S){return S.reduce(function(T,L){return T[L.descriptor.id]=L,T},{})}),Rg=zs(function(S){return S.reduce(function(T,L){return T[L.descriptor.id]=L,T},{})}),gm=zs(function(S){return fd(S)}),Lf=zs(function(S){return fd(S)}),mm=zs(function(S,T){var L=Lf(T).filter(function(G){return S===G.descriptor.droppableId}).sort(function(G,Z){return G.descriptor.index-Z.descriptor.index});return L});function lS(S){return S.at&&S.at.type==="REORDER"?S.at.destination:null}function Gb(S){return S.at&&S.at.type==="COMBINE"?S.at.combine:null}var pu=zs(function(S,T){return T.filter(function(L){return L.descriptor.id!==S.descriptor.id})}),ia=function(S){var T=S.isMovingForward,L=S.draggable,G=S.destination,Z=S.insideDestination,K=S.previousImpact;if(!G.isCombineEnabled)return null;var ne=lS(K);if(!ne)return null;function ae(Cr){var mr={type:"COMBINE",combine:{draggableId:Cr,droppableId:G.descriptor.id}};return ki({},K,{at:mr})}var we=K.displaced.all,De=we.length?we[0]:null;if(T)return De?ae(De):null;var We=pu(L,Z);if(!De){if(!We.length)return null;var ke=We[We.length-1];return ae(ke.descriptor.id)}var He=pp(We,function(Cr){return Cr.descriptor.id===De});He===-1&&_n(!1);var ot=He-1;if(ot<0)return null;var zt=We[ot];return ae(zt.descriptor.id)},gu=function(S,T){return S.descriptor.droppableId===T.descriptor.id},TC={point:Cl,value:0},Jc={invisible:{},visible:{},all:[]},$b={displaced:Jc,displacedBy:TC,at:null},mu=function(S,T){return function(L){return S<=L&&L<=T}},hd=function(S){var T=mu(S.top,S.bottom),L=mu(S.left,S.right);return function(G){var Z=T(G.top)&&T(G.bottom)&&L(G.left)&&L(G.right);if(Z)return!0;var K=T(G.top)||T(G.bottom),ne=L(G.left)||L(G.right),ae=K&&ne;if(ae)return!0;var we=G.top<S.top&&G.bottom>S.bottom,De=G.left<S.left&&G.right>S.right,We=we&&De;if(We)return!0;var ke=we&&ne||De&&K;return ke}},sS=function(S){var T=mu(S.top,S.bottom),L=mu(S.left,S.right);return function(G){var Z=T(G.top)&&T(G.bottom)&&L(G.left)&&L(G.right);return Z}},dd={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Dg={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Lg=function(S){return function(T){var L=mu(T.top,T.bottom),G=mu(T.left,T.right);return function(Z){return S===dd?L(Z.top)&&L(Z.bottom):G(Z.left)&&G(Z.right)}}},OC=function(T,L){var G=L.frame?L.frame.scroll.diff.displacement:Cl;return dh(T,G)},uS=function(T,L,G){return L.subject.active?G(L.subject.active)(T):!1},A_=function(T,L,G){return G(L)(T)},gp=function(T){var L=T.target,G=T.destination,Z=T.viewport,K=T.withDroppableDisplacement,ne=T.isVisibleThroughFrameFn,ae=K?OC(L,G):L;return uS(ae,G,ne)&&A_(ae,Z,ne)},Ub=function(T){return gp(ki({},T,{isVisibleThroughFrameFn:hd}))},AC=function(T){return gp(ki({},T,{isVisibleThroughFrameFn:sS}))},I_=function(T){return gp(ki({},T,{isVisibleThroughFrameFn:Lg(T.destination.axis)}))},R_=function(T,L,G){if(typeof G=="boolean")return G;if(!L)return!0;var Z=L.invisible,K=L.visible;if(Z[T])return!1;var ne=K[T];return ne?ne.shouldAnimate:!0};function Yb(S,T){var L=S.page.marginBox,G={top:T.point.y,right:0,bottom:0,left:T.point.x};return _c(ch(L,G))}function Pg(S){var T=S.afterDragging,L=S.destination,G=S.displacedBy,Z=S.viewport,K=S.forceShouldAnimate,ne=S.last;return T.reduce(function(we,De){var We=Yb(De,G),ke=De.descriptor.id;we.all.push(ke);var He=Ub({target:We,destination:L,viewport:Z,withDroppableDisplacement:!0});if(!He)return we.invisible[De.descriptor.id]=!0,we;var ot=R_(ke,ne,K),zt={draggableId:ke,shouldAnimate:ot};return we.visible[ke]=zt,we},{all:[],visible:{},invisible:{}})}function D_(S,T){if(!S.length)return 0;var L=S[S.length-1].descriptor.index;return T.inHomeList?L:L+1}function vh(S){var T=S.insideDestination,L=S.inHomeList,G=S.displacedBy,Z=S.destination,K=D_(T,{inHomeList:L});return{displaced:Jc,displacedBy:G,at:{type:"REORDER",destination:{droppableId:Z.descriptor.id,index:K}}}}function IC(S){var T=S.draggable,L=S.insideDestination,G=S.destination,Z=S.viewport,K=S.displacedBy,ne=S.last,ae=S.index,we=S.forceShouldAnimate,De=gu(T,G);if(ae==null)return vh({insideDestination:L,inHomeList:De,displacedBy:K,destination:G});var We=Aa(L,function(Cr){return Cr.descriptor.index===ae});if(!We)return vh({insideDestination:L,inHomeList:De,displacedBy:K,destination:G});var ke=pu(T,L),He=L.indexOf(We),ot=ke.slice(He),zt=Pg({afterDragging:ot,destination:G,displacedBy:K,last:ne,viewport:Z.frame,forceShouldAnimate:we});return{displaced:zt,displacedBy:K,at:{type:"REORDER",destination:{droppableId:G.descriptor.id,index:ae}}}}function zu(S,T){return!!T.effected[S]}var L_=function(S){var T=S.isMovingForward,L=S.destination,G=S.draggables,Z=S.combine,K=S.afterCritical;if(!L.isCombineEnabled)return null;var ne=Z.draggableId,ae=G[ne],we=ae.descriptor.index,De=zu(ne,K);return De?T?we:we-1:T?we+1:we},cS=function(S){var T=S.isMovingForward,L=S.isInHomeList,G=S.insideDestination,Z=S.location;if(!G.length)return null;var K=Z.index,ne=T?K+1:K-1,ae=G[0].descriptor.index,we=G[G.length-1].descriptor.index,De=L?we:we+1;return ne<ae||ne>De?null:ne},fS=function(S){var T=S.isMovingForward,L=S.isInHomeList,G=S.draggable,Z=S.draggables,K=S.destination,ne=S.insideDestination,ae=S.previousImpact,we=S.viewport,De=S.afterCritical,We=ae.at;if(We||_n(!1),We.type==="REORDER"){var ke=cS({isMovingForward:T,isInHomeList:L,location:We.destination,insideDestination:ne});return ke==null?null:IC({draggable:G,insideDestination:ne,destination:K,viewport:we,last:ae.displaced,displacedBy:ae.displacedBy,index:ke})}var He=L_({isMovingForward:T,destination:K,displaced:ae.displaced,draggables:Z,combine:We.combine,afterCritical:De});return He==null?null:IC({draggable:G,insideDestination:ne,destination:K,viewport:we,last:ae.displaced,displacedBy:ae.displacedBy,index:He})},hS=function(S){var T=S.displaced,L=S.afterCritical,G=S.combineWith,Z=S.displacedBy,K=!!(T.visible[G]||T.invisible[G]);return zu(G,L)?K?Cl:hh(Z.point):K?Z.point:Cl},dS=function(S){var T=S.afterCritical,L=S.impact,G=S.draggables,Z=Gb(L);Z||_n(!1);var K=Z.draggableId,ne=G[K].page.borderBox.center,ae=hS({displaced:L.displaced,afterCritical:T,combineWith:K,displacedBy:L.displacedBy});return ho(ne,ae)},vS=function(T,L){return L.margin[T.start]+L.borderBox[T.size]/2},vd=function(T,L){return L.margin[T.end]+L.borderBox[T.size]/2},ym=function(T,L,G){return L[T.crossAxisStart]+G.margin[T.crossAxisStart]+G.borderBox[T.crossAxisSize]/2},cv=function(T){var L=T.axis,G=T.moveRelativeTo,Z=T.isMoving;return Df(L.line,G.marginBox[L.end]+vS(L,Z),ym(L,G.marginBox,Z))},Da=function(T){var L=T.axis,G=T.moveRelativeTo,Z=T.isMoving;return Df(L.line,G.marginBox[L.start]-vd(L,Z),ym(L,G.marginBox,Z))},P_=function(T){var L=T.axis,G=T.moveInto,Z=T.isMoving;return Df(L.line,G.contentBox[L.start]+vS(L,Z),ym(L,G.contentBox,Z))},yu=function(S){var T=S.impact,L=S.draggable,G=S.draggables,Z=S.droppable,K=S.afterCritical,ne=mm(Z.descriptor.id,G),ae=L.page,we=Z.axis;if(!ne.length)return P_({axis:we,moveInto:Z.page,isMoving:ae});var De=T.displaced,We=T.displacedBy,ke=De.all[0];if(ke){var He=G[ke];if(zu(ke,K))return Da({axis:we,moveRelativeTo:He.page,isMoving:ae});var ot=Qc(He.page,We.point);return Da({axis:we,moveRelativeTo:ot,isMoving:ae})}var zt=ne[ne.length-1];if(zt.descriptor.id===L.descriptor.id)return ae.borderBox.center;if(zu(zt.descriptor.id,K)){var Cr=Qc(zt.page,hh(K.displacedBy.point));return cv({axis:we,moveRelativeTo:Cr,isMoving:ae})}return cv({axis:we,moveRelativeTo:zt.page,isMoving:ae})},RC=function(S,T){var L=S.frame;return L?ho(T,L.scroll.diff.displacement):T},Cm=function(T){var L=T.impact,G=T.draggable,Z=T.droppable,K=T.draggables,ne=T.afterCritical,ae=G.page.borderBox.center,we=L.at;return!Z||!we?ae:we.type==="REORDER"?yu({impact:L,draggable:G,draggables:K,droppable:Z,afterCritical:ne}):dS({impact:L,draggables:K,afterCritical:ne})},DC=function(S){var T=Cm(S),L=S.droppable,G=L?RC(L,T):T;return G},pS=function(S,T){var L=Cs(T,S.scroll.initial),G=hh(L),Z=_c({top:T.y,bottom:T.y+S.frame.height,left:T.x,right:T.x+S.frame.width}),K={frame:Z,scroll:{initial:S.scroll.initial,max:S.scroll.max,current:T,diff:{value:L,displacement:G}}};return K};function tc(S,T){return S.map(function(L){return T[L]})}function bm(S,T){for(var L=0;L<T.length;L++){var G=T[L].visible[S];if(G)return G}return null}var fv=function(S){var T=S.impact,L=S.viewport,G=S.destination,Z=S.draggables,K=S.maxScrollChange,ne=pS(L,ho(L.scroll.current,K)),ae=G.frame?vm(G,ho(G.frame.scroll.current,K)):G,we=T.displaced,De=Pg({afterDragging:tc(we.all,Z),destination:G,displacedBy:T.displacedBy,viewport:ne.frame,last:we,forceShouldAnimate:!1}),We=Pg({afterDragging:tc(we.all,Z),destination:ae,displacedBy:T.displacedBy,viewport:L.frame,last:we,forceShouldAnimate:!1}),ke={},He={},ot=[we,De,We];we.all.forEach(function(Cr){var mr=bm(Cr,ot);if(mr){He[Cr]=mr;return}ke[Cr]=!0});var zt=ki({},T,{displaced:{all:we.all,invisible:ke,visible:He}});return zt},gS=function(S,T){return ho(S.scroll.diff.displacement,T)},bl=function(S){var T=S.pageBorderBoxCenter,L=S.draggable,G=S.viewport,Z=gS(G,T),K=Cs(Z,L.page.borderBox.center);return ho(L.client.borderBox.center,K)},LC=function(S){var T=S.draggable,L=S.destination,G=S.newPageBorderBoxCenter,Z=S.viewport,K=S.withDroppableDisplacement,ne=S.onlyOnMainAxis,ae=ne===void 0?!1:ne,we=Cs(G,T.page.borderBox.center),De=dh(T.page.borderBox,we),We={target:De,destination:L,withDroppableDisplacement:K,viewport:Z};return ae?I_(We):AC(We)},B_=function(S){var T=S.isMovingForward,L=S.draggable,G=S.destination,Z=S.draggables,K=S.previousImpact,ne=S.viewport,ae=S.previousPageBorderBoxCenter,we=S.previousClientSelection,De=S.afterCritical;if(!G.isEnabled)return null;var We=mm(G.descriptor.id,Z),ke=gu(L,G),He=ia({isMovingForward:T,draggable:L,destination:G,insideDestination:We,previousImpact:K})||fS({isMovingForward:T,isInHomeList:ke,draggable:L,draggables:Z,destination:G,insideDestination:We,previousImpact:K,viewport:ne,afterCritical:De});if(!He)return null;var ot=DC({impact:He,draggable:L,droppable:G,draggables:Z,afterCritical:De}),zt=LC({draggable:L,destination:G,newPageBorderBoxCenter:ot,viewport:ne.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(zt){var Cr=bl({pageBorderBoxCenter:ot,draggable:L,viewport:ne});return{clientSelection:Cr,impact:He,scrollJumpRequest:null}}var mr=Cs(ot,ae),Er=fv({impact:He,viewport:ne,destination:G,draggables:Z,maxScrollChange:mr});return{clientSelection:we,impact:Er,scrollJumpRequest:mr}},jo=function(T){var L=T.subject.active;return L||_n(!1),L},jb=function(S){var T=S.isMovingForward,L=S.pageBorderBoxCenter,G=S.source,Z=S.droppables,K=S.viewport,ne=G.subject.active;if(!ne)return null;var ae=G.axis,we=mu(ne[ae.start],ne[ae.end]),De=gm(Z).filter(function(ke){return ke!==G}).filter(function(ke){return ke.isEnabled}).filter(function(ke){return!!ke.subject.active}).filter(function(ke){return hd(K.frame)(jo(ke))}).filter(function(ke){var He=jo(ke);return T?ne[ae.crossAxisEnd]<He[ae.crossAxisEnd]:He[ae.crossAxisStart]<ne[ae.crossAxisStart]}).filter(function(ke){var He=jo(ke),ot=mu(He[ae.start],He[ae.end]);return we(He[ae.start])||we(He[ae.end])||ot(ne[ae.start])||ot(ne[ae.end])}).sort(function(ke,He){var ot=jo(ke)[ae.crossAxisStart],zt=jo(He)[ae.crossAxisStart];return T?ot-zt:zt-ot}).filter(function(ke,He,ot){return jo(ke)[ae.crossAxisStart]===jo(ot[0])[ae.crossAxisStart]});if(!De.length)return null;if(De.length===1)return De[0];var We=De.filter(function(ke){var He=mu(jo(ke)[ae.start],jo(ke)[ae.end]);return He(L[ae.line])});return We.length===1?We[0]:We.length>1?We.sort(function(ke,He){return jo(ke)[ae.start]-jo(He)[ae.start]})[0]:De.sort(function(ke,He){var ot=ec(L,Ec(jo(ke))),zt=ec(L,Ec(jo(He)));return ot!==zt?ot-zt:jo(ke)[ae.start]-jo(He)[ae.start]})[0]},ao=function(T,L){var G=T.page.borderBox.center;return zu(T.descriptor.id,L)?Cs(G,L.displacedBy.point):G},ph=function(T,L){var G=T.page.borderBox;return zu(T.descriptor.id,L)?dh(G,hh(L.displacedBy.point)):G},k_=function(S){var T=S.pageBorderBoxCenter,L=S.viewport,G=S.destination,Z=S.insideDestination,K=S.afterCritical,ne=Z.filter(function(ae){return AC({target:ph(ae,K),destination:G,viewport:L.frame,withDroppableDisplacement:!0})}).sort(function(ae,we){var De=Ag(T,RC(G,ao(ae,K))),We=Ag(T,RC(G,ao(we,K)));return De<We?-1:We<De?1:ae.descriptor.index-we.descriptor.index});return ne[0]||null},To=zs(function(T,L){var G=L[T.line];return{value:G,point:Df(T.line,G)}}),mp=function(T,L,G){var Z=T.axis;if(T.descriptor.mode==="virtual")return Df(Z.line,L[Z.line]);var K=T.subject.page.contentBox[Z.size],ne=mm(T.descriptor.id,G),ae=ne.reduce(function(We,ke){return We+ke.client.marginBox[Z.size]},0),we=ae+L[Z.line],De=we-K;return De<=0?null:Df(Z.line,De)},Mi=function(T,L){return ki({},T,{scroll:ki({},T.scroll,{max:L})})},Vb=function(T,L,G){var Z=T.frame;gu(L,T)&&_n(!1),T.subject.withPlaceholder&&_n(!1);var K=To(T.axis,L.displaceBy).point,ne=mp(T,K,G),ae={placeholderSize:K,increasedBy:ne,oldFrameMaxScroll:T.frame?T.frame.scroll.max:null};if(!Z){var we=uv({page:T.subject.page,withPlaceholder:ae,axis:T.axis,frame:T.frame});return ki({},T,{subject:we})}var De=ne?ho(Z.scroll.max,ne):Z.scroll.max,We=Mi(Z,De),ke=uv({page:T.subject.page,withPlaceholder:ae,axis:T.axis,frame:We});return ki({},T,{subject:ke,frame:We})},fl=function(T){var L=T.subject.withPlaceholder;L||_n(!1);var G=T.frame;if(!G){var Z=uv({page:T.subject.page,axis:T.axis,frame:null,withPlaceholder:null});return ki({},T,{subject:Z})}var K=L.oldFrameMaxScroll;K||_n(!1);var ne=Mi(G,K),ae=uv({page:T.subject.page,axis:T.axis,frame:ne,withPlaceholder:null});return ki({},T,{subject:ae,frame:ne})},wm=function(S){var T=S.previousPageBorderBoxCenter,L=S.moveRelativeTo,G=S.insideDestination,Z=S.draggable,K=S.draggables,ne=S.destination,ae=S.viewport,we=S.afterCritical;if(!L){if(G.length)return null;var De={displaced:Jc,displacedBy:TC,at:{type:"REORDER",destination:{droppableId:ne.descriptor.id,index:0}}},We=DC({impact:De,draggable:Z,droppable:ne,draggables:K,afterCritical:we}),ke=gu(Z,ne)?ne:Vb(ne,Z,K),He=LC({draggable:Z,destination:ke,newPageBorderBoxCenter:We,viewport:ae.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return He?De:null}var ot=T[ne.axis.line]<=L.page.borderBox.center[ne.axis.line],zt=function(){var mr=L.descriptor.index;return L.descriptor.id===Z.descriptor.id||ot?mr:mr+1}(),Cr=To(ne.axis,Z.displaceBy);return IC({draggable:Z,insideDestination:G,destination:ne,viewport:ae,displacedBy:Cr,last:Jc,index:zt})},PC=function(S){var T=S.isMovingForward,L=S.previousPageBorderBoxCenter,G=S.draggable,Z=S.isOver,K=S.draggables,ne=S.droppables,ae=S.viewport,we=S.afterCritical,De=jb({isMovingForward:T,pageBorderBoxCenter:L,source:Z,droppables:ne,viewport:ae});if(!De)return null;var We=mm(De.descriptor.id,K),ke=k_({pageBorderBoxCenter:L,viewport:ae,destination:De,insideDestination:We,afterCritical:we}),He=wm({previousPageBorderBoxCenter:L,destination:De,draggable:G,draggables:K,moveRelativeTo:ke,insideDestination:We,viewport:ae,afterCritical:we});if(!He)return null;var ot=DC({impact:He,draggable:G,droppable:De,draggables:K,afterCritical:we}),zt=bl({pageBorderBoxCenter:ot,draggable:G,viewport:ae});return{clientSelection:zt,impact:He,scrollJumpRequest:null}},No=function(S){var T=S.at;return T?T.type==="REORDER"?T.destination.droppableId:T.combine.droppableId:null},Bg=function(T,L){var G=No(T);return G?L[G]:null},Yl=function(S){var T=S.state,L=S.type,G=Bg(T.impact,T.dimensions.droppables),Z=!!G,K=T.dimensions.droppables[T.critical.droppable.id],ne=G||K,ae=ne.axis.direction,we=ae==="vertical"&&(L==="MOVE_UP"||L==="MOVE_DOWN")||ae==="horizontal"&&(L==="MOVE_LEFT"||L==="MOVE_RIGHT");if(we&&!Z)return null;var De=L==="MOVE_DOWN"||L==="MOVE_RIGHT",We=T.dimensions.draggables[T.critical.draggable.id],ke=T.current.page.borderBoxCenter,He=T.dimensions,ot=He.draggables,zt=He.droppables;return we?B_({isMovingForward:De,previousPageBorderBoxCenter:ke,draggable:We,destination:ne,draggables:ot,viewport:T.viewport,previousClientSelection:T.current.client.selection,previousImpact:T.impact,afterCritical:T.afterCritical}):PC({isMovingForward:De,previousPageBorderBoxCenter:ke,draggable:We,isOver:ne,draggables:ot,droppables:zt,viewport:T.viewport,afterCritical:T.afterCritical})};function yp(S){return S.phase==="DRAGGING"||S.phase==="COLLECTING"}function Xb(S){var T=mu(S.top,S.bottom),L=mu(S.left,S.right);return function(Z){return T(Z.y)&&L(Z.x)}}function F_(S,T){return S.left<T.right&&S.right>T.left&&S.top<T.bottom&&S.bottom>T.top}function Cu(S){var T=S.pageBorderBox,L=S.draggable,G=S.candidates,Z=L.page.borderBox.center,K=G.map(function(ne){var ae=ne.axis,we=Df(ne.axis.line,T.center[ae.line],ne.page.borderBox.center[ae.crossAxisLine]);return{id:ne.descriptor.id,distance:Ag(Z,we)}}).sort(function(ne,ae){return ae.distance-ne.distance});return K[0]?K[0].id:null}function mS(S){var T=S.pageBorderBox,L=S.draggable,G=S.droppables,Z=gm(G).filter(function(K){if(!K.isEnabled)return!1;var ne=K.subject.active;if(!ne||!F_(T,ne))return!1;if(Xb(ne)(T.center))return!0;var ae=K.axis,we=ne.center[ae.crossAxisLine],De=T[ae.crossAxisStart],We=T[ae.crossAxisEnd],ke=mu(ne[ae.crossAxisStart],ne[ae.crossAxisEnd]),He=ke(De),ot=ke(We);return!He&&!ot?!0:He?De<we:We>we});return Z.length?Z.length===1?Z[0].descriptor.id:Cu({pageBorderBox:T,draggable:L,candidates:Z}):null}var BC=function(T,L){return _c(dh(T,L))},yS=function(S,T){var L=S.frame;return L?BC(T,L.scroll.diff.value):T};function xm(S){var T=S.displaced,L=S.id;return!!(T.visible[L]||T.invisible[L])}function FM(S){var T=S.draggable,L=S.closest,G=S.inHomeList;return L?G&&L.descriptor.index>T.descriptor.index?L.descriptor.index-1:L.descriptor.index:null}var pd=function(S){var T=S.pageBorderBoxWithDroppableScroll,L=S.draggable,G=S.destination,Z=S.insideDestination,K=S.last,ne=S.viewport,ae=S.afterCritical,we=G.axis,De=To(G.axis,L.displaceBy),We=De.value,ke=T[we.start],He=T[we.end],ot=pu(L,Z),zt=Aa(ot,function(mr){var Er=mr.descriptor.id,Ir=mr.page.borderBox.center[we.line],pn=zu(Er,ae),Ur=xm({displaced:K,id:Er});return pn?Ur?He<=Ir:ke<Ir-We:Ur?He<=Ir+We:ke<Ir}),Cr=FM({draggable:L,closest:zt,inHomeList:gu(L,G)});return IC({draggable:L,insideDestination:Z,destination:G,viewport:ne,last:K,displacedBy:De,index:Cr})},kg=4,Sm=function(S){var T=S.draggable,L=S.pageBorderBoxWithDroppableScroll,G=S.previousImpact,Z=S.destination,K=S.insideDestination,ne=S.afterCritical;if(!Z.isCombineEnabled)return null;var ae=Z.axis,we=To(Z.axis,T.displaceBy),De=we.value,We=L[ae.start],ke=L[ae.end],He=pu(T,K),ot=Aa(He,function(Cr){var mr=Cr.descriptor.id,Er=Cr.page.borderBox,Ir=Er[ae.size],pn=Ir/kg,Ur=zu(mr,ne),$n=xm({displaced:G.displaced,id:mr});return Ur?$n?ke>Er[ae.start]+pn&&ke<Er[ae.end]-pn:We>Er[ae.start]-De+pn&&We<Er[ae.end]-De-pn:$n?ke>Er[ae.start]+De+pn&&ke<Er[ae.end]+De-pn:We>Er[ae.start]+pn&&We<Er[ae.end]-pn});if(!ot)return null;var zt={displacedBy:we,displaced:G.displaced,at:{type:"COMBINE",combine:{draggableId:ot.descriptor.id,droppableId:Z.descriptor.id}}};return zt},kC=function(S){var T=S.pageOffset,L=S.draggable,G=S.draggables,Z=S.droppables,K=S.previousImpact,ne=S.viewport,ae=S.afterCritical,we=BC(L.page.borderBox,T),De=mS({pageBorderBox:we,draggable:L,droppables:Z});if(!De)return $b;var We=Z[De],ke=mm(We.descriptor.id,G),He=yS(We,we);return Sm({pageBorderBoxWithDroppableScroll:He,draggable:L,previousImpact:K,destination:We,insideDestination:ke,afterCritical:ae})||pd({pageBorderBoxWithDroppableScroll:He,draggable:L,destination:We,insideDestination:ke,last:K.displaced,viewport:ne,afterCritical:ae})},Cp=function(S,T){var L;return ki({},S,(L={},L[T.descriptor.id]=T,L))},Fg=function(T){var L=T.previousImpact,G=T.impact,Z=T.droppables,K=No(L),ne=No(G);if(!K||K===ne)return Z;var ae=Z[K];if(!ae.subject.withPlaceholder)return Z;var we=fl(ae);return Cp(Z,we)},Zb=function(S){var T=S.draggable,L=S.draggables,G=S.droppables,Z=S.previousImpact,K=S.impact,ne=Fg({previousImpact:Z,impact:K,droppables:G}),ae=No(K);if(!ae)return ne;var we=G[ae];if(gu(T,we)||we.subject.withPlaceholder)return ne;var De=Vb(we,T,L);return Cp(ne,De)},_m=function(S){var T=S.state,L=S.clientSelection,G=S.dimensions,Z=S.viewport,K=S.impact,ne=S.scrollJumpRequest,ae=Z||T.viewport,we=G||T.dimensions,De=L||T.current.client.selection,We=Cs(De,T.initial.client.selection),ke={offset:We,selection:De,borderBoxCenter:ho(T.initial.client.borderBoxCenter,We)},He={selection:ho(ke.selection,ae.scroll.current),borderBoxCenter:ho(ke.borderBoxCenter,ae.scroll.current),offset:ho(ke.offset,ae.scroll.diff.value)},ot={client:ke,page:He};if(T.phase==="COLLECTING")return ki({phase:"COLLECTING"},T,{dimensions:we,viewport:ae,current:ot});var zt=we.draggables[T.critical.draggable.id],Cr=K||kC({pageOffset:He.offset,draggable:zt,draggables:we.draggables,droppables:we.droppables,previousImpact:T.impact,viewport:ae,afterCritical:T.afterCritical}),mr=Zb({draggable:zt,impact:Cr,previousImpact:T.impact,draggables:we.draggables,droppables:we.droppables}),Er=ki({},T,{current:ot,dimensions:{draggables:we.draggables,droppables:mr},impact:Cr,viewport:ae,scrollJumpRequest:ne||null,forceShouldAnimate:ne?!1:null});return Er};function Ng(S,T){return S.map(function(L){return T[L]})}var Em=function(S){var T=S.impact,L=S.viewport,G=S.draggables,Z=S.destination,K=S.forceShouldAnimate,ne=T.displaced,ae=Ng(ne.all,G),we=Pg({afterDragging:ae,destination:Z,displacedBy:T.displacedBy,viewport:L.frame,forceShouldAnimate:K,last:ne});return ki({},T,{displaced:we})},Kb=function(S){var T=S.impact,L=S.draggable,G=S.droppable,Z=S.draggables,K=S.viewport,ne=S.afterCritical,ae=DC({impact:T,draggable:L,draggables:Z,droppable:G,afterCritical:ne});return bl({pageBorderBoxCenter:ae,draggable:L,viewport:K})},FC=function(S){var T=S.state,L=S.dimensions,G=S.viewport;T.movementMode!=="SNAP"&&_n(!1);var Z=T.impact,K=G||T.viewport,ne=L||T.dimensions,ae=ne.draggables,we=ne.droppables,De=ae[T.critical.draggable.id],We=No(Z);We||_n(!1);var ke=we[We],He=Em({impact:Z,viewport:K,destination:ke,draggables:ae}),ot=Kb({impact:He,draggable:De,droppable:ke,draggables:ae,viewport:K,afterCritical:T.afterCritical});return _m({impact:He,clientSelection:ot,state:T,dimensions:ne,viewport:K})},qb=function(S){return{index:S.index,droppableId:S.droppableId}},NC=function(S){var T=S.draggable,L=S.home,G=S.draggables,Z=S.viewport,K=To(L.axis,T.displaceBy),ne=mm(L.descriptor.id,G),ae=ne.indexOf(T);ae===-1&&_n(!1);var we=ne.slice(ae+1),De=we.reduce(function(ot,zt){return ot[zt.descriptor.id]=!0,ot},{}),We={inVirtualList:L.descriptor.mode==="virtual",displacedBy:K,effected:De},ke=Pg({afterDragging:we,destination:L,displacedBy:K,last:null,viewport:Z.frame,forceShouldAnimate:!1}),He={displaced:ke,displacedBy:K,at:{type:"REORDER",destination:qb(T.descriptor)}};return{impact:He,afterCritical:We}},N_=function(S,T){return{draggables:S.draggables,droppables:Cp(S.droppables,T)}},Qb=function(S){var T=S.draggable,L=S.offset,G=S.initialWindowScroll,Z=Qc(T.client,L),K=ja(Z,G),ne=ki({},T,{placeholder:ki({},T.placeholder,{client:Z}),client:Z,page:K});return ne},Jb=function(S){var T=S.frame;return T||_n(!1),T},H_=function(S){var T=S.additions,L=S.updatedDroppables,G=S.viewport,Z=G.scroll.diff.value;return T.map(function(K){var ne=K.descriptor.droppableId,ae=L[ne],we=Jb(ae),De=we.scroll.diff.value,We=ho(Z,De),ke=Qb({draggable:K,offset:We,initialWindowScroll:G.scroll.initial});return ke})},hv=function(S){var T=S.state,L=S.published,G=L.modified.map(function(pn){var Ur=T.dimensions.droppables[pn.droppableId],$n=vm(Ur,pn.scroll);return $n}),Z=ki({},T.dimensions.droppables,{},Wb(G)),K=Rg(H_({additions:L.additions,updatedDroppables:Z,viewport:T.viewport})),ne=ki({},T.dimensions.draggables,{},K);L.removals.forEach(function(pn){delete ne[pn]});var ae={droppables:Z,draggables:ne},we=No(T.impact),De=we?ae.droppables[we]:null,We=ae.draggables[T.critical.draggable.id],ke=ae.droppables[T.critical.droppable.id],He=NC({draggable:We,home:ke,draggables:ne,viewport:T.viewport}),ot=He.impact,zt=He.afterCritical,Cr=De&&De.isCombineEnabled?T.impact:ot,mr=kC({pageOffset:T.current.page.offset,draggable:ae.draggables[T.critical.draggable.id],draggables:ae.draggables,droppables:ae.droppables,previousImpact:Cr,viewport:T.viewport,afterCritical:zt}),Er=ki({phase:"DRAGGING"},T,{phase:"DRAGGING",impact:mr,onLiftImpact:ot,dimensions:ae,afterCritical:zt,forceShouldAnimate:!1});if(T.phase==="COLLECTING")return Er;var Ir=ki({phase:"DROP_PENDING"},Er,{phase:"DROP_PENDING",reason:T.reason,isWaiting:!1});return Ir},gh=function(T){return T.movementMode==="SNAP"},jl=function(T,L,G){var Z=N_(T.dimensions,L);return!gh(T)||G?_m({state:T,dimensions:Z}):FC({state:T,dimensions:Z})};function bu(S){return S.isDragging&&S.movementMode==="SNAP"?ki({phase:"DRAGGING"},S,{scrollJumpRequest:null}):S}var Mm={phase:"IDLE",completed:null,shouldFlush:!1},mh=function(S,T){if(S===void 0&&(S=Mm),T.type==="FLUSH")return ki({},Mm,{shouldFlush:!0});if(T.type==="INITIAL_PUBLISH"){S.phase!=="IDLE"&&_n(!1);var L=T.payload,G=L.critical,Z=L.clientSelection,K=L.viewport,ne=L.dimensions,ae=L.movementMode,we=ne.draggables[G.draggable.id],De=ne.droppables[G.droppable.id],We={selection:Z,borderBoxCenter:we.client.borderBox.center,offset:Cl},ke={client:We,page:{selection:ho(We.selection,K.scroll.initial),borderBoxCenter:ho(We.selection,K.scroll.initial),offset:ho(We.selection,K.scroll.diff.value)}},He=gm(ne.droppables).every(function(xl){return!xl.isFixedOnPage}),ot=NC({draggable:we,home:De,draggables:ne.draggables,viewport:K}),zt=ot.impact,Cr=ot.afterCritical,mr={phase:"DRAGGING",isDragging:!0,critical:G,movementMode:ae,dimensions:ne,initial:ke,current:ke,isWindowScrollAllowed:He,impact:zt,afterCritical:Cr,onLiftImpact:zt,viewport:K,scrollJumpRequest:null,forceShouldAnimate:null};return mr}if(T.type==="COLLECTION_STARTING"){if(S.phase==="COLLECTING"||S.phase==="DROP_PENDING")return S;S.phase!=="DRAGGING"&&_n(!1);var Er=ki({phase:"COLLECTING"},S,{phase:"COLLECTING"});return Er}if(T.type==="PUBLISH_WHILE_DRAGGING")return S.phase==="COLLECTING"||S.phase==="DROP_PENDING"||_n(!1),hv({state:S,published:T.payload});if(T.type==="MOVE"){if(S.phase==="DROP_PENDING")return S;yp(S)||_n(!1);var Ir=T.payload.client;return Js(Ir,S.current.client.selection)?S:_m({state:S,clientSelection:Ir,impact:gh(S)?S.impact:null})}if(T.type==="UPDATE_DROPPABLE_SCROLL"){if(S.phase==="DROP_PENDING"||S.phase==="COLLECTING")return bu(S);yp(S)||_n(!1);var pn=T.payload,Ur=pn.id,$n=pn.newScroll,Cn=S.dimensions.droppables[Ur];if(!Cn)return S;var Un=vm(Cn,$n);return jl(S,Un,!1)}if(T.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(S.phase==="DROP_PENDING")return S;yp(S)||_n(!1);var ii=T.payload,mi=ii.id,Ia=ii.isEnabled,ka=S.dimensions.droppables[mi];ka||_n(!1),ka.isEnabled===Ia&&_n(!1);var Vl=ki({},ka,{isEnabled:Ia});return jl(S,Vl,!0)}if(T.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(S.phase==="DROP_PENDING")return S;yp(S)||_n(!1);var hl=T.payload,qo=hl.id,es=hl.isCombineEnabled,bs=S.dimensions.droppables[qo];bs||_n(!1),bs.isCombineEnabled===es&&_n(!1);var oo=ki({},bs,{isCombineEnabled:es});return jl(S,oo,!0)}if(T.type==="MOVE_BY_WINDOW_SCROLL"){if(S.phase==="DROP_PENDING"||S.phase==="DROP_ANIMATING")return S;yp(S)||_n(!1),S.isWindowScrollAllowed||_n(!1);var Oc=T.payload.newScroll;if(Js(S.viewport.scroll.current,Oc))return bu(S);var Eh=pS(S.viewport,Oc);return gh(S)?FC({state:S,viewport:Eh}):_m({state:S,viewport:Eh})}if(T.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!yp(S))return S;var Su=T.payload.maxScroll;if(Js(Su,S.viewport.scroll.max))return S;var Ac=ki({},S.viewport,{scroll:ki({},S.viewport.scroll,{max:Su})});return ki({phase:"DRAGGING"},S,{viewport:Ac})}if(T.type==="MOVE_UP"||T.type==="MOVE_DOWN"||T.type==="MOVE_LEFT"||T.type==="MOVE_RIGHT"){if(S.phase==="COLLECTING"||S.phase==="DROP_PENDING")return S;S.phase!=="DRAGGING"&&_n(!1);var eu=Yl({state:S,type:T.type});return eu?_m({state:S,impact:eu.impact,clientSelection:eu.clientSelection,scrollJumpRequest:eu.scrollJumpRequest}):S}if(T.type==="DROP_PENDING"){var Rp=T.payload.reason;S.phase!=="COLLECTING"&&_n(!1);var _d=ki({phase:"DROP_PENDING"},S,{phase:"DROP_PENDING",isWaiting:!0,reason:Rp});return _d}if(T.type==="DROP_ANIMATE"){var rf=T.payload,Dp=rf.completed,t0=rf.dropDuration,va=rf.newHomeClientOffset;S.phase==="DRAGGING"||S.phase==="DROP_PENDING"||_n(!1);var za={phase:"DROP_ANIMATING",completed:Dp,dropDuration:t0,newHomeClientOffset:va,dimensions:S.dimensions};return za}if(T.type==="DROP_COMPLETE"){var xo=T.payload.completed;return{phase:"IDLE",completed:xo,shouldFlush:!1}}return S},gd=function(T){return{type:"BEFORE_INITIAL_CAPTURE",payload:T}},NM=function(T){return{type:"LIFT",payload:T}},z_=function(T){return{type:"INITIAL_PUBLISH",payload:T}},ew=function(T){return{type:"PUBLISH_WHILE_DRAGGING",payload:T}},Hg=function(){return{type:"COLLECTION_STARTING",payload:null}},CS=function(T){return{type:"UPDATE_DROPPABLE_SCROLL",payload:T}},zg=function(T){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:T}},W_=function(T){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:T}},tw=function(T){return{type:"MOVE",payload:T}},bS=function(T){return{type:"MOVE_BY_WINDOW_SCROLL",payload:T}},G_=function(T){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:T}},$_=function(){return{type:"MOVE_UP",payload:null}},wS=function(){return{type:"MOVE_DOWN",payload:null}},U_=function(){return{type:"MOVE_RIGHT",payload:null}},Y_=function(){return{type:"MOVE_LEFT",payload:null}},dv=function(){return{type:"FLUSH",payload:null}},bp=function(T){return{type:"DROP_ANIMATE",payload:T}},rw=function(T){return{type:"DROP_COMPLETE",payload:T}},HC=function(T){return{type:"DROP",payload:T}},xS=function(T){return{type:"DROP_PENDING",payload:T}},nw=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},SS=function(S){return function(T){var L=T.getState,G=T.dispatch;return function(Z){return function(K){if(K.type!=="LIFT"){Z(K);return}var ne=K.payload,ae=ne.id,we=ne.clientSelection,De=ne.movementMode,We=L();We.phase==="DROP_ANIMATING"&&G(rw({completed:We.completed})),L().phase!=="IDLE"&&_n(!1),G(dv()),G(gd({draggableId:ae,movementMode:De}));var ke={shouldPublishImmediately:De==="SNAP"},He={draggableId:ae,scrollOptions:ke},ot=S.startPublishing(He),zt=ot.critical,Cr=ot.dimensions,mr=ot.viewport;G(z_({critical:zt,dimensions:Cr,clientSelection:we,movementMode:De,viewport:mr}))}}}},_S=function(S){return function(){return function(T){return function(L){L.type==="INITIAL_PUBLISH"&&S.dragging(),L.type==="DROP_ANIMATE"&&S.dropping(L.payload.completed.result.reason),(L.type==="FLUSH"||L.type==="DROP_COMPLETE")&&S.resting(),T(L)}}}},zC={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Tm={opacity:{drop:0,combining:.7},scale:{drop:.75}},WC={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},wp=WC.outOfTheWay+"s "+zC.outOfTheWay,Om={fluid:"opacity "+wp,snap:"transform "+wp+", opacity "+wp,drop:function(T){var L=T+"s "+zC.drop;return"transform "+L+", opacity "+L},outOfTheWay:"transform "+wp,placeholder:"height "+wp+", width "+wp+", margin "+wp},ES=function(T){return Js(T,Cl)?null:"translate("+T.x+"px, "+T.y+"px)"},Mc={moveTo:ES,drop:function(T,L){var G=ES(T);return G?L?G+" scale("+Tm.scale.drop+")":G:null}},yh=WC.minDropTime,Am=WC.maxDropTime,GC=Am-yh,MS=1500,xp=.6,TS=function(S){var T=S.current,L=S.destination,G=S.reason,Z=Ag(T,L);if(Z<=0)return yh;if(Z>=MS)return Am;var K=Z/MS,ne=yh+GC*K,ae=G==="CANCEL"?ne*xp:ne;return Number(ae.toFixed(2))},j_=function(S){var T=S.impact,L=S.draggable,G=S.dimensions,Z=S.viewport,K=S.afterCritical,ne=G.draggables,ae=G.droppables,we=No(T),De=we?ae[we]:null,We=ae[L.descriptor.droppableId],ke=Kb({impact:T,draggable:L,draggables:ne,afterCritical:K,droppable:De||We,viewport:Z}),He=Cs(ke,L.client.borderBox.center);return He},V_=function(S){var T=S.draggables,L=S.reason,G=S.lastImpact,Z=S.home,K=S.viewport,ne=S.onLiftImpact;if(!G.at||L!=="DROP"){var ae=Em({draggables:T,impact:ne,destination:Z,viewport:K,forceShouldAnimate:!0});return{impact:ae,didDropInsideDroppable:!1}}if(G.at.type==="REORDER")return{impact:G,didDropInsideDroppable:!0};var we=ki({},G,{displaced:Jc});return{impact:we,didDropInsideDroppable:!0}},X_=function(S){var T=S.getState,L=S.dispatch;return function(G){return function(Z){if(Z.type!=="DROP"){G(Z);return}var K=T(),ne=Z.payload.reason;if(K.phase==="COLLECTING"){L(xS({reason:ne}));return}if(K.phase!=="IDLE"){var ae=K.phase==="DROP_PENDING"&&K.isWaiting;ae&&_n(!1),K.phase==="DRAGGING"||K.phase==="DROP_PENDING"||_n(!1);var we=K.critical,De=K.dimensions,We=De.draggables[K.critical.draggable.id],ke=V_({reason:ne,lastImpact:K.impact,afterCritical:K.afterCritical,onLiftImpact:K.onLiftImpact,home:K.dimensions.droppables[K.critical.droppable.id],viewport:K.viewport,draggables:K.dimensions.draggables}),He=ke.impact,ot=ke.didDropInsideDroppable,zt=ot?lS(He):null,Cr=ot?Gb(He):null,mr={index:we.draggable.index,droppableId:we.droppable.id},Er={draggableId:We.descriptor.id,type:We.descriptor.type,source:mr,reason:ne,mode:K.movementMode,destination:zt,combine:Cr},Ir=j_({impact:He,draggable:We,dimensions:De,viewport:K.viewport,afterCritical:K.afterCritical}),pn={critical:K.critical,afterCritical:K.afterCritical,result:Er,impact:He},Ur=!Js(K.current.client.offset,Ir)||!!Er.combine;if(!Ur){L(rw({completed:pn}));return}var $n=TS({current:K.current.client.offset,destination:Ir,reason:ne}),Cn={newHomeClientOffset:Ir,dropDuration:$n,completed:pn};L(bp(Cn))}}}},Z_=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function OS(S){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(L){L.target!==window&&L.target!==window.document||S()}}}function AS(S){var T=S.onWindowScroll;function L(){T(Z_())}var G=sv(L),Z=OS(G),K=Fo;function ne(){return K!==Fo}function ae(){ne()&&_n(!1),K=Hu(window,[Z])}function we(){ne()||_n(!1),G.cancel(),K(),K=Fo}return{start:ae,stop:we,isActive:ne}}var iw=function(T){return T.type==="DROP_COMPLETE"||T.type==="DROP_ANIMATE"||T.type==="FLUSH"},K_=function(S){var T=AS({onWindowScroll:function(G){S.dispatch(bS({newScroll:G}))}});return function(L){return function(G){!T.isActive()&&G.type==="INITIAL_PUBLISH"&&T.start(),T.isActive()&&iw(G)&&T.stop(),L(G)}}},q_=function(S){var T=!1,L=!1,G=setTimeout(function(){L=!0}),Z=function(ne){T||L||(T=!0,S(ne),clearTimeout(G))};return Z.wasCalled=function(){return T},Z},HM=function(){var S=[],T=function(K){var ne=pp(S,function(De){return De.timerId===K});ne===-1&&_n(!1);var ae=S.splice(ne,1),we=ae[0];we.callback()},L=function(K){var ne=setTimeout(function(){return T(ne)}),ae={timerId:ne,callback:K};S.push(ae)},G=function(){if(S.length){var K=[].concat(S);S.length=0,K.forEach(function(ne){clearTimeout(ne.timerId),ne.callback()})}};return{add:L,flush:G}},aw=function(T,L){return T==null&&L==null?!0:T==null||L==null?!1:T.droppableId===L.droppableId&&T.index===L.index},zM=function(T,L){return T==null&&L==null?!0:T==null||L==null?!1:T.draggableId===L.draggableId&&T.droppableId===L.droppableId},IS=function(T,L){if(T===L)return!0;var G=T.draggable.id===L.draggable.id&&T.draggable.droppableId===L.draggable.droppableId&&T.draggable.type===L.draggable.type&&T.draggable.index===L.draggable.index,Z=T.droppable.id===L.droppable.id&&T.droppable.type===L.droppable.type;return G&&Z},vv=function(T,L){L()},$C=function(T,L){return{draggableId:T.draggable.id,type:T.droppable.type,source:{droppableId:T.droppable.id,index:T.draggable.index},mode:L}},Im=function(T,L,G,Z){if(!T){G(Z(L));return}var K=q_(G),ne={announce:K};T(L,ne),K.wasCalled()||G(Z(L))},ow=function(S,T){var L=HM(),G=null,Z=function(He,ot){G&&_n(!1),vv("onBeforeCapture",function(){var zt=S().onBeforeCapture;if(zt){var Cr={draggableId:He,mode:ot};zt(Cr)}})},K=function(He,ot){G&&_n(!1),vv("onBeforeDragStart",function(){var zt=S().onBeforeDragStart;zt&&zt($C(He,ot))})},ne=function(He,ot){G&&_n(!1);var zt=$C(He,ot);G={mode:ot,lastCritical:He,lastLocation:zt.source,lastCombine:null},L.add(function(){vv("onDragStart",function(){return Im(S().onDragStart,zt,T,Va.onDragStart)})})},ae=function(He,ot){var zt=lS(ot),Cr=Gb(ot);G||_n(!1);var mr=!IS(He,G.lastCritical);mr&&(G.lastCritical=He);var Er=!aw(G.lastLocation,zt);Er&&(G.lastLocation=zt);var Ir=!zM(G.lastCombine,Cr);if(Ir&&(G.lastCombine=Cr),!(!mr&&!Er&&!Ir)){var pn=ki({},$C(He,G.mode),{combine:Cr,destination:zt});L.add(function(){vv("onDragUpdate",function(){return Im(S().onDragUpdate,pn,T,Va.onDragUpdate)})})}},we=function(){G||_n(!1),L.flush()},De=function(He){G||_n(!1),G=null,vv("onDragEnd",function(){return Im(S().onDragEnd,He,T,Va.onDragEnd)})},We=function(){if(G){var He=ki({},$C(G.lastCritical,G.mode),{combine:null,destination:null,reason:"CANCEL"});De(He)}};return{beforeCapture:Z,beforeStart:K,start:ne,update:ae,flush:we,drop:De,abort:We}},lw=function(S,T){var L=ow(S,T);return function(G){return function(Z){return function(K){if(K.type==="BEFORE_INITIAL_CAPTURE"){L.beforeCapture(K.payload.draggableId,K.payload.movementMode);return}if(K.type==="INITIAL_PUBLISH"){var ne=K.payload.critical;L.beforeStart(ne,K.payload.movementMode),Z(K),L.start(ne,K.payload.movementMode);return}if(K.type==="DROP_COMPLETE"){var ae=K.payload.completed.result;L.flush(),Z(K),L.drop(ae);return}if(Z(K),K.type==="FLUSH"){L.abort();return}var we=G.getState();we.phase==="DRAGGING"&&L.update(we.critical,we.impact)}}}},UC=function(S){return function(T){return function(L){if(L.type!=="DROP_ANIMATION_FINISHED"){T(L);return}var G=S.getState();G.phase!=="DROP_ANIMATING"&&_n(!1),S.dispatch(rw({completed:G.completed}))}}},RS=function(S){var T=null,L=null;function G(){L&&(cancelAnimationFrame(L),L=null),T&&(T(),T=null)}return function(Z){return function(K){if((K.type==="FLUSH"||K.type==="DROP_COMPLETE"||K.type==="DROP_ANIMATION_FINISHED")&&G(),Z(K),K.type==="DROP_ANIMATE"){var ne={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var we=S.getState();we.phase==="DROP_ANIMATING"&&S.dispatch(nw())}};L=requestAnimationFrame(function(){L=null,T=Hu(window,[ne])})}}}},WM=function(S){return function(){return function(T){return function(L){(L.type==="DROP_COMPLETE"||L.type==="FLUSH"||L.type==="DROP_ANIMATE")&&S.stopPublishing(),T(L)}}}},GM=function(S){var T=!1;return function(){return function(L){return function(G){if(G.type==="INITIAL_PUBLISH"){T=!0,S.tryRecordFocus(G.payload.critical.draggable.id),L(G),S.tryRestoreFocusRecorded();return}if(L(G),!!T){if(G.type==="FLUSH"){T=!1,S.tryRestoreFocusRecorded();return}if(G.type==="DROP_COMPLETE"){T=!1;var Z=G.payload.completed.result;Z.combine&&S.tryShiftRecord(Z.draggableId,Z.combine.draggableId),S.tryRestoreFocusRecorded()}}}}}},$M=function(T){return T.type==="DROP_COMPLETE"||T.type==="DROP_ANIMATE"||T.type==="FLUSH"},DS=function(S){return function(T){return function(L){return function(G){if($M(G)){S.stop(),L(G);return}if(G.type==="INITIAL_PUBLISH"){L(G);var Z=T.getState();Z.phase!=="DRAGGING"&&_n(!1),S.start(Z);return}L(G),S.scroll(T.getState())}}}},wu=function(S){return function(T){return function(L){if(T(L),L.type==="PUBLISH_WHILE_DRAGGING"){var G=S.getState();G.phase==="DROP_PENDING"&&(G.isWaiting||S.dispatch(HC({reason:G.reason})))}}}},UM=Qu,pv=function(S){var T=S.dimensionMarshal,L=S.focusMarshal,G=S.styleMarshal,Z=S.getResponders,K=S.announce,ne=S.autoScroller;return xg(mh,UM(K0(_S(G),WM(T),SS(T),X_,UC,RS,wu,DS(ne),K_,GM(L),lw(Z,K))))},sw=function(){return{additions:{},removals:{},modified:{}}};function uw(S){var T=S.registry,L=S.callbacks,G=sw(),Z=null,K=function(){Z||(L.collectionStarting(),Z=requestAnimationFrame(function(){Z=null;var We=G,ke=We.additions,He=We.removals,ot=We.modified,zt=Object.keys(ke).map(function(Er){return T.draggable.getById(Er).getDimension(Cl)}).sort(function(Er,Ir){return Er.descriptor.index-Ir.descriptor.index}),Cr=Object.keys(ot).map(function(Er){var Ir=T.droppable.getById(Er),pn=Ir.callbacks.getScrollWhileDragging();return{droppableId:Er,scroll:pn}}),mr={additions:zt,removals:Object.keys(He),modified:Cr};G=sw(),L.publish(mr)}))},ne=function(We){var ke=We.descriptor.id;G.additions[ke]=We,G.modified[We.descriptor.droppableId]=!0,G.removals[ke]&&delete G.removals[ke],K()},ae=function(We){var ke=We.descriptor;G.removals[ke.id]=!0,G.modified[ke.droppableId]=!0,G.additions[ke.id]&&delete G.additions[ke.id],K()},we=function(){Z&&(cancelAnimationFrame(Z),Z=null,G=sw())};return{add:ne,remove:ae,stop:we}}var cw=function(S){var T=S.scrollHeight,L=S.scrollWidth,G=S.height,Z=S.width,K=Cs({x:L,y:T},{x:Z,y:G}),ne={x:Math.max(0,K.x),y:Math.max(0,K.y)};return ne},Wg=function(){var S=document.documentElement;return S||_n(!1),S},YC=function(){var S=Wg(),T=cw({scrollHeight:S.scrollHeight,scrollWidth:S.scrollWidth,width:S.clientWidth,height:S.clientHeight});return T},Pf=function(){var S=Z_(),T=YC(),L=S.y,G=S.x,Z=Wg(),K=Z.clientWidth,ne=Z.clientHeight,ae=G+K,we=L+ne,De=_c({top:L,left:G,right:ae,bottom:we}),We={frame:De,scroll:{initial:S,current:S,max:T,diff:{value:Cl,displacement:Cl}}};return We},LS=function(S){var T=S.critical,L=S.scrollOptions,G=S.registry,Z=Pf(),K=Z.scroll.current,ne=T.droppable,ae=G.droppable.getAllByType(ne.type).map(function(ke){return ke.callbacks.getDimensionAndWatchScroll(K,L)}),we=G.draggable.getAllByType(T.draggable.type).map(function(ke){return ke.getDimension(K)}),De={draggables:Rg(we),droppables:Wb(ae)},We={dimensions:De,critical:T,viewport:Z};return We};function fw(S,T,L){if(L.descriptor.id===T.id||L.descriptor.type!==T.type)return!1;var G=S.droppable.getById(L.descriptor.droppableId);return G.descriptor.mode==="virtual"}var Rm=function(S,T){var L=null,G=uw({callbacks:{publish:T.publishWhileDragging,collectionStarting:T.collectionStarting},registry:S}),Z=function(ot,zt){S.droppable.exists(ot)||_n(!1),L&&T.updateDroppableIsEnabled({id:ot,isEnabled:zt})},K=function(ot,zt){L&&(S.droppable.exists(ot)||_n(!1),T.updateDroppableIsCombineEnabled({id:ot,isCombineEnabled:zt}))},ne=function(ot,zt){L&&(S.droppable.exists(ot)||_n(!1),T.updateDroppableScroll({id:ot,newScroll:zt}))},ae=function(ot,zt){L&&S.droppable.getById(ot).callbacks.scroll(zt)},we=function(){if(L){G.stop();var ot=L.critical.droppable;S.droppable.getAllByType(ot.type).forEach(function(zt){return zt.callbacks.dragStopped()}),L.unsubscribe(),L=null}},De=function(ot){L||_n(!1);var zt=L.critical.draggable;ot.type==="ADDITION"&&fw(S,zt,ot.value)&&G.add(ot.value),ot.type==="REMOVAL"&&fw(S,zt,ot.value)&&G.remove(ot.value)},We=function(ot){L&&_n(!1);var zt=S.draggable.getById(ot.draggableId),Cr=S.droppable.getById(zt.descriptor.droppableId),mr={draggable:zt.descriptor,droppable:Cr.descriptor},Er=S.subscribe(De);return L={critical:mr,unsubscribe:Er},LS({critical:mr,registry:S,scrollOptions:ot.scrollOptions})},ke={updateDroppableIsEnabled:Z,updateDroppableIsCombineEnabled:K,scrollDroppable:ae,updateDroppableScroll:ne,startPublishing:We,stopPublishing:we};return ke},Gg=function(S,T){return S.phase==="IDLE"?!0:S.phase!=="DROP_ANIMATING"||S.completed.result.draggableId===T?!1:S.completed.result.reason==="DROP"},Q_=function(S){window.scrollBy(S.x,S.y)},YM=zs(function(S){return gm(S).filter(function(T){return!(!T.isEnabled||!T.frame)})}),J_=function(T,L){var G=Aa(YM(L),function(Z){return Z.frame||_n(!1),Xb(Z.frame.pageMarginBox)(T)});return G},ef=function(S){var T=S.center,L=S.destination,G=S.droppables;if(L){var Z=G[L];return Z.frame?Z:null}var K=J_(T,G);return K},Tc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(T){return Math.pow(T,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Sp=function(S,T){var L=S[T.size]*Tc.startFromPercentage,G=S[T.size]*Tc.maxScrollAtPercentage,Z={startScrollingFrom:L,maxScrollValueAt:G};return Z},hw=function(S){var T=S.startOfRange,L=S.endOfRange,G=S.current,Z=L-T;if(Z===0)return 0;var K=G-T,ne=K/Z;return ne},jC=1,PS=function(S,T){if(S>T.startScrollingFrom)return 0;if(S<=T.maxScrollValueAt)return Tc.maxPixelScroll;if(S===T.startScrollingFrom)return jC;var L=hw({startOfRange:T.maxScrollValueAt,endOfRange:T.startScrollingFrom,current:S}),G=1-L,Z=Tc.maxPixelScroll*Tc.ease(G);return Math.ceil(Z)},$g=Tc.durationDampening.accelerateAt,VC=Tc.durationDampening.stopDampeningAt,Ug=function(S,T){var L=T,G=VC,Z=Date.now(),K=Z-L;if(K>=VC)return S;if(K<$g)return jC;var ne=hw({startOfRange:$g,endOfRange:G,current:K}),ae=S*Tc.ease(ne);return Math.ceil(ae)},Dm=function(S){var T=S.distanceToEdge,L=S.thresholds,G=S.dragStartTime,Z=S.shouldUseTimeDampening,K=PS(T,L);return K===0?0:Z?Math.max(Ug(K,G),jC):K},eE=function(S){var T=S.container,L=S.distanceToEdges,G=S.dragStartTime,Z=S.axis,K=S.shouldUseTimeDampening,ne=Sp(T,Z),ae=L[Z.end]<L[Z.start];return ae?Dm({distanceToEdge:L[Z.end],thresholds:ne,dragStartTime:G,shouldUseTimeDampening:K}):-1*Dm({distanceToEdge:L[Z.start],thresholds:ne,dragStartTime:G,shouldUseTimeDampening:K})},tE=function(S){var T=S.container,L=S.subject,G=S.proposedScroll,Z=L.height>T.height,K=L.width>T.width;return!K&&!Z?G:K&&Z?null:{x:K?0:G.x,y:Z?0:G.y}},XC=MC(function(S){return S===0?0:S}),BS=function(S){var T=S.dragStartTime,L=S.container,G=S.subject,Z=S.center,K=S.shouldUseTimeDampening,ne={top:Z.y-L.top,right:L.right-Z.x,bottom:L.bottom-Z.y,left:Z.x-L.left},ae=eE({container:L,distanceToEdges:ne,dragStartTime:T,axis:dd,shouldUseTimeDampening:K}),we=eE({container:L,distanceToEdges:ne,dragStartTime:T,axis:Dg,shouldUseTimeDampening:K}),De=XC({x:we,y:ae});if(Js(De,Cl))return null;var We=tE({container:L,subject:G,proposedScroll:De});return We?Js(We,Cl)?null:We:null},rE=MC(function(S){return S===0?0:S>0?1:-1}),kS=function(){var S=function(L,G){return L<0?L:L>G?L-G:0};return function(T){var L=T.current,G=T.max,Z=T.change,K=ho(L,Z),ne={x:S(K.x,G.x),y:S(K.y,G.y)};return Js(ne,Cl)?null:ne}}(),dw=function(T){var L=T.max,G=T.current,Z=T.change,K={x:Math.max(G.x,L.x),y:Math.max(G.y,L.y)},ne=rE(Z),ae=kS({max:K,current:G,change:ne});return!ae||ne.x!==0&&ae.x===0||ne.y!==0&&ae.y===0},Yg=function(T,L){return dw({current:T.scroll.current,max:T.scroll.max,change:L})},vw=function(T,L){if(!Yg(T,L))return null;var G=T.scroll.max,Z=T.scroll.current;return kS({current:Z,max:G,change:L})},gv=function(T,L){var G=T.frame;return G?dw({current:G.scroll.current,max:G.scroll.max,change:L}):!1},jM=function(T,L){var G=T.frame;return!G||!gv(T,L)?null:kS({current:G.scroll.current,max:G.scroll.max,change:L})},nE=function(S){var T=S.viewport,L=S.subject,G=S.center,Z=S.dragStartTime,K=S.shouldUseTimeDampening,ne=BS({dragStartTime:Z,container:T.frame,subject:L,center:G,shouldUseTimeDampening:K});return ne&&Yg(T,ne)?ne:null},VM=function(S){var T=S.droppable,L=S.subject,G=S.center,Z=S.dragStartTime,K=S.shouldUseTimeDampening,ne=T.frame;if(!ne)return null;var ae=BS({dragStartTime:Z,container:ne.pageMarginBox,subject:L,center:G,shouldUseTimeDampening:K});return ae&&gv(T,ae)?ae:null},FS=function(S){var T=S.state,L=S.dragStartTime,G=S.shouldUseTimeDampening,Z=S.scrollWindow,K=S.scrollDroppable,ne=T.current.page.borderBoxCenter,ae=T.dimensions.draggables[T.critical.draggable.id],we=ae.page.marginBox;if(T.isWindowScrollAllowed){var De=T.viewport,We=nE({dragStartTime:L,viewport:De,subject:we,center:ne,shouldUseTimeDampening:G});if(We){Z(We);return}}var ke=ef({center:ne,destination:No(T.impact),droppables:T.dimensions.droppables});if(ke){var He=VM({dragStartTime:L,droppable:ke,subject:we,center:ne,shouldUseTimeDampening:G});He&&K(ke.descriptor.id,He)}},XM=function(S){var T=S.scrollWindow,L=S.scrollDroppable,G=sv(T),Z=sv(L),K=null,ne=function(We){K||_n(!1);var ke=K,He=ke.shouldUseTimeDampening,ot=ke.dragStartTime;FS({state:We,scrollWindow:G,scrollDroppable:Z,dragStartTime:ot,shouldUseTimeDampening:He})},ae=function(We){K&&_n(!1);var ke=Date.now(),He=!1,ot=function(){He=!0};FS({state:We,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:ot,scrollDroppable:ot}),K={dragStartTime:ke,shouldUseTimeDampening:He},He&&ne(We)},we=function(){K&&(G.cancel(),Z.cancel(),K=null)};return{start:ae,stop:we,scroll:ne}},NS=function(S){var T=S.move,L=S.scrollDroppable,G=S.scrollWindow,Z=function(De,We){var ke=ho(De.current.client.selection,We);T({client:ke})},K=function(De,We){if(!gv(De,We))return We;var ke=jM(De,We);if(!ke)return L(De.descriptor.id,We),null;var He=Cs(We,ke);L(De.descriptor.id,He);var ot=Cs(We,He);return ot},ne=function(De,We,ke){if(!De||!Yg(We,ke))return ke;var He=vw(We,ke);if(!He)return G(ke),null;var ot=Cs(ke,He);G(ot);var zt=Cs(ke,ot);return zt},ae=function(De){var We=De.scrollJumpRequest;if(We){var ke=No(De.impact);ke||_n(!1);var He=K(De.dimensions.droppables[ke],We);if(He){var ot=De.viewport,zt=ne(De.isWindowScrollAllowed,ot,He);zt&&Z(De,zt)}}};return ae},HS=function(S){var T=S.scrollDroppable,L=S.scrollWindow,G=S.move,Z=XM({scrollWindow:L,scrollDroppable:T}),K=NS({move:G,scrollWindow:L,scrollDroppable:T}),ne=function(De){if(De.phase==="DRAGGING"){if(De.movementMode==="FLUID"){Z.scroll(De);return}De.scrollJumpRequest&&K(De)}},ae={scroll:ne,start:Z.start,stop:Z.stop};return ae},jg="data-rbd",md=function(){var S=jg+"-drag-handle";return{base:S,draggableId:S+"-draggable-id",contextId:S+"-context-id"}}(),Ch=function(){var S=jg+"-draggable";return{base:S,contextId:S+"-context-id",id:S+"-id"}}(),ZM=function(){var S=jg+"-droppable";return{base:S,contextId:S+"-context-id",id:S+"-id"}}(),iE={contextId:jg+"-scroll-container-context-id"},Vg=function(T){return function(L){return"["+L+'="'+T+'"]'}},bh=function(T,L){return T.map(function(G){var Z=G.styles[L];return Z?G.selector+" { "+Z+" }":""}).join(" ")},Lm="pointer-events: none;",zS=function(S){var T=Vg(S),L=function(){var ae=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:T(md.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:ae,dragging:Lm,dropAnimating:ae}}}(),G=function(){var ae=`
      transition: `+Om.outOfTheWay+`;
    `;return{selector:T(Ch.contextId),styles:{dragging:ae,dropAnimating:ae,userCancel:ae}}}(),Z={selector:T(ZM.contextId),styles:{always:"overflow-anchor: none;"}},K={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},ne=[G,L,Z,K];return{always:bh(ne,"always"),resting:bh(ne,"resting"),dragging:bh(ne,"dragging"),dropAnimating:bh(ne,"dropAnimating"),userCancel:bh(ne,"userCancel")}},rc=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?ut.useLayoutEffect:ut.useEffect,pw=function(){var T=document.querySelector("head");return T||_n(!1),T},WS=function(T){var L=document.createElement("style");return T&&L.setAttribute("nonce",T),L.type="text/css",L};function aE(S,T){var L=Ba(function(){return zS(S)},[S]),G=(0,ut.useRef)(null),Z=(0,ut.useRef)(null),K=Li(zs(function(ke){var He=Z.current;He||_n(!1),He.textContent=ke}),[]),ne=Li(function(ke){var He=G.current;He||_n(!1),He.textContent=ke},[]);rc(function(){!G.current&&!Z.current||_n(!1);var ke=WS(T),He=WS(T);return G.current=ke,Z.current=He,ke.setAttribute(jg+"-always",S),He.setAttribute(jg+"-dynamic",S),pw().appendChild(ke),pw().appendChild(He),ne(L.always),K(L.resting),function(){var ot=function(Cr){var mr=Cr.current;mr||_n(!1),pw().removeChild(mr),Cr.current=null};ot(G),ot(Z)}},[T,ne,K,L.always,L.resting,S]);var ae=Li(function(){return K(L.dragging)},[K,L.dragging]),we=Li(function(ke){if(ke==="DROP"){K(L.dropAnimating);return}K(L.userCancel)},[K,L.dropAnimating,L.userCancel]),De=Li(function(){Z.current&&K(L.resting)},[K,L.resting]),We=Ba(function(){return{dragging:ae,dropping:we,resting:De}},[ae,we,De]);return We}var nc=function(S){return S&&S.ownerDocument?S.ownerDocument.defaultView:window};function Pm(S){return S instanceof nc(S).HTMLElement}function GS(S,T){var L="["+md.contextId+'="'+S+'"]',G=pm(document.querySelectorAll(L));if(!G.length)return null;var Z=Aa(G,function(K){return K.getAttribute(md.draggableId)===T});return!Z||!Pm(Z)?null:Z}function ZC(S){var T=(0,ut.useRef)({}),L=(0,ut.useRef)(null),G=(0,ut.useRef)(null),Z=(0,ut.useRef)(!1),K=Li(function(He,ot){var zt={id:He,focus:ot};return T.current[He]=zt,function(){var mr=T.current,Er=mr[He];Er!==zt&&delete mr[He]}},[]),ne=Li(function(He){var ot=GS(S,He);ot&&ot!==document.activeElement&&ot.focus()},[S]),ae=Li(function(He,ot){L.current===He&&(L.current=ot)},[]),we=Li(function(){G.current||Z.current&&(G.current=requestAnimationFrame(function(){G.current=null;var He=L.current;He&&ne(He)}))},[ne]),De=Li(function(He){L.current=null;var ot=document.activeElement;ot&&ot.getAttribute(md.draggableId)===He&&(L.current=He)},[]);rc(function(){return Z.current=!0,function(){Z.current=!1;var He=G.current;He&&cancelAnimationFrame(He)}},[]);var We=Ba(function(){return{register:K,tryRecordFocus:De,tryRestoreFocusRecorded:we,tryShiftRecord:ae}},[K,De,we,ae]);return We}function $S(){var S={draggables:{},droppables:{}},T=[];function L(ke){return T.push(ke),function(){var ot=T.indexOf(ke);ot!==-1&&T.splice(ot,1)}}function G(ke){T.length&&T.forEach(function(He){return He(ke)})}function Z(ke){return S.draggables[ke]||null}function K(ke){var He=Z(ke);return He||_n(!1),He}var ne={register:function(He){S.draggables[He.descriptor.id]=He,G({type:"ADDITION",value:He})},update:function(He,ot){var zt=S.draggables[ot.descriptor.id];zt&&zt.uniqueId===He.uniqueId&&(delete S.draggables[ot.descriptor.id],S.draggables[He.descriptor.id]=He)},unregister:function(He){var ot=He.descriptor.id,zt=Z(ot);zt&&He.uniqueId===zt.uniqueId&&(delete S.draggables[ot],G({type:"REMOVAL",value:He}))},getById:K,findById:Z,exists:function(He){return!!Z(He)},getAllByType:function(He){return fd(S.draggables).filter(function(ot){return ot.descriptor.type===He})}};function ae(ke){return S.droppables[ke]||null}function we(ke){var He=ae(ke);return He||_n(!1),He}var De={register:function(He){S.droppables[He.descriptor.id]=He},unregister:function(He){var ot=ae(He.descriptor.id);ot&&He.uniqueId===ot.uniqueId&&delete S.droppables[He.descriptor.id]},getById:we,findById:ae,exists:function(He){return!!ae(He)},getAllByType:function(He){return fd(S.droppables).filter(function(ot){return ot.descriptor.type===He})}};function We(){S.draggables={},S.droppables={},T.length=0}return{draggable:ne,droppable:De,subscribe:L,clean:We}}function oE(){var S=Ba($S,[]);return(0,ut.useEffect)(function(){return function(){requestAnimationFrame(S.clean)}},[S]),S}var yd=oe().createContext(null),Bm=function(){var S=document.body;return S||_n(!1),S},lE={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Cd=function(T){return"rbd-announcement-"+T};function gw(S){var T=Ba(function(){return Cd(S)},[S]),L=(0,ut.useRef)(null);(0,ut.useEffect)(function(){var K=document.createElement("div");return L.current=K,K.id=T,K.setAttribute("aria-live","assertive"),K.setAttribute("aria-atomic","true"),ki(K.style,lE),Bm().appendChild(K),function(){setTimeout(function(){var we=Bm();we.contains(K)&&we.removeChild(K),K===L.current&&(L.current=null)})}},[T]);var G=Li(function(Z){var K=L.current;if(K){K.textContent=Z;return}},[]);return G}var KC=0,sE={separator:"::"};function km(S,T){return T===void 0&&(T=sE),Ba(function(){return""+S+T.separator+KC++},[T.separator,S])}function mw(S){var T=S.contextId,L=S.uniqueId;return"rbd-hidden-text-"+T+"-"+L}function Fm(S){var T=S.contextId,L=S.text,G=km("hidden-text",{separator:"-"}),Z=Ba(function(){return mw({contextId:T,uniqueId:G})},[G,T]);return(0,ut.useEffect)(function(){var ne=document.createElement("div");return ne.id=Z,ne.textContent=L,ne.style.display="none",Bm().appendChild(ne),function(){var we=Bm();we.contains(ne)&&we.removeChild(ne)}},[Z,L]),Z}var Nm=oe().createContext(null);function Hm(S){var T=(0,ut.useRef)(S);return(0,ut.useEffect)(function(){T.current=S}),T}function US(){var S=null;function T(){return!!S}function L(ne){return ne===S}function G(ne){S&&_n(!1);var ae={abandon:ne};return S=ae,ae}function Z(){S||_n(!1),S=null}function K(){S&&(S.abandon(),Z())}return{isClaimed:T,isActive:L,claim:G,release:Z,tryAbandon:K}}var YS=9,jS=13,yw=27,Wu=32,zm=33,uE=34,qC=35,cE=36,Wm=37,fE=38,rl=39,Cw=40,Xg,Gm=(Xg={},Xg[jS]=!0,Xg[YS]=!0,Xg),bw=function(S){Gm[S.keyCode]&&S.preventDefault()},$m=function(){var S="visibilitychange";if(typeof document=="undefined")return S;var T=[S,"ms"+S,"webkit"+S,"moz"+S,"o"+S],L=Aa(T,function(G){return"on"+G in document});return L||S}(),ww=0,Bf=5;function VS(S,T){return Math.abs(T.x-S.x)>=Bf||Math.abs(T.y-S.y)>=Bf}var mv={type:"IDLE"};function xw(S){var T=S.cancel,L=S.completed,G=S.getPhase,Z=S.setPhase;return[{eventName:"mousemove",fn:function(ne){var ae=ne.button,we=ne.clientX,De=ne.clientY;if(ae===ww){var We={x:we,y:De},ke=G();if(ke.type==="DRAGGING"){ne.preventDefault(),ke.actions.move(We);return}ke.type!=="PENDING"&&_n(!1);var He=ke.point;if(VS(He,We)){ne.preventDefault();var ot=ke.actions.fluidLift(We);Z({type:"DRAGGING",actions:ot})}}}},{eventName:"mouseup",fn:function(ne){var ae=G();if(ae.type!=="DRAGGING"){T();return}ne.preventDefault(),ae.actions.drop({shouldBlockNextClick:!0}),L()}},{eventName:"mousedown",fn:function(ne){G().type==="DRAGGING"&&ne.preventDefault(),T()}},{eventName:"keydown",fn:function(ne){var ae=G();if(ae.type==="PENDING"){T();return}if(ne.keyCode===yw){ne.preventDefault(),T();return}bw(ne)}},{eventName:"resize",fn:T},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){G().type==="PENDING"&&T()}},{eventName:"webkitmouseforcedown",fn:function(ne){var ae=G();if(ae.type==="IDLE"&&_n(!1),ae.actions.shouldRespectForcePress()){T();return}ne.preventDefault()}},{eventName:$m,fn:T}]}function _p(S){var T=(0,ut.useRef)(mv),L=(0,ut.useRef)(Fo),G=Ba(function(){return{eventName:"mousedown",fn:function(ke){if(!ke.defaultPrevented&&ke.button===ww&&!(ke.ctrlKey||ke.metaKey||ke.shiftKey||ke.altKey)){var He=S.findClosestDraggableId(ke);if(He){var ot=S.tryGetLock(He,ne,{sourceEvent:ke});if(ot){ke.preventDefault();var zt={x:ke.clientX,y:ke.clientY};L.current(),De(ot,zt)}}}}}},[S]),Z=Ba(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(ke){if(!ke.defaultPrevented){var He=S.findClosestDraggableId(ke);if(He){var ot=S.findOptionsForDraggable(He);ot&&(ot.shouldRespectForcePress||S.canGetLock(He)&&ke.preventDefault())}}}}},[S]),K=Li(function(){var ke={passive:!1,capture:!0};L.current=Hu(window,[Z,G],ke)},[Z,G]),ne=Li(function(){var We=T.current;We.type!=="IDLE"&&(T.current=mv,L.current(),K())},[K]),ae=Li(function(){var We=T.current;ne(),We.type==="DRAGGING"&&We.actions.cancel({shouldBlockNextClick:!0}),We.type==="PENDING"&&We.actions.abort()},[ne]),we=Li(function(){var ke={capture:!0,passive:!1},He=xw({cancel:ae,completed:ne,getPhase:function(){return T.current},setPhase:function(zt){T.current=zt}});L.current=Hu(window,He,ke)},[ae,ne]),De=Li(function(ke,He){T.current.type!=="IDLE"&&_n(!1),T.current={type:"PENDING",point:He,actions:ke},we()},[we]);rc(function(){return K(),function(){L.current()}},[K])}var Gu;function wh(){}var Sw=(Gu={},Gu[uE]=!0,Gu[zm]=!0,Gu[cE]=!0,Gu[qC]=!0,Gu);function _w(S,T){function L(){T(),S.cancel()}function G(){T(),S.drop()}return[{eventName:"keydown",fn:function(K){if(K.keyCode===yw){K.preventDefault(),L();return}if(K.keyCode===Wu){K.preventDefault(),G();return}if(K.keyCode===Cw){K.preventDefault(),S.moveDown();return}if(K.keyCode===fE){K.preventDefault(),S.moveUp();return}if(K.keyCode===rl){K.preventDefault(),S.moveRight();return}if(K.keyCode===Wm){K.preventDefault(),S.moveLeft();return}if(Sw[K.keyCode]){K.preventDefault();return}bw(K)}},{eventName:"mousedown",fn:L},{eventName:"mouseup",fn:L},{eventName:"click",fn:L},{eventName:"touchstart",fn:L},{eventName:"resize",fn:L},{eventName:"wheel",fn:L,options:{passive:!0}},{eventName:$m,fn:L}]}function QC(S){var T=(0,ut.useRef)(wh),L=Ba(function(){return{eventName:"keydown",fn:function(K){if(K.defaultPrevented||K.keyCode!==Wu)return;var ne=S.findClosestDraggableId(K);if(!ne)return;var ae=S.tryGetLock(ne,We,{sourceEvent:K});if(!ae)return;K.preventDefault();var we=!0,De=ae.snapLift();T.current();function We(){we||_n(!1),we=!1,T.current(),G()}T.current=Hu(window,_w(De,We),{capture:!0,passive:!1})}}},[S]),G=Li(function(){var K={passive:!1,capture:!0};T.current=Hu(window,[L],K)},[L]);rc(function(){return G(),function(){T.current()}},[G])}var Ew={type:"IDLE"},JC=120,Mw=.15;function XS(S){var T=S.cancel,L=S.getPhase;return[{eventName:"orientationchange",fn:T},{eventName:"resize",fn:T},{eventName:"contextmenu",fn:function(Z){Z.preventDefault()}},{eventName:"keydown",fn:function(Z){if(L().type!=="DRAGGING"){T();return}Z.keyCode===yw&&Z.preventDefault(),T()}},{eventName:$m,fn:T}]}function Tw(S){var T=S.cancel,L=S.completed,G=S.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(K){var ne=G();if(ne.type!=="DRAGGING"){T();return}ne.hasMoved=!0;var ae=K.touches[0],we=ae.clientX,De=ae.clientY,We={x:we,y:De};K.preventDefault(),ne.actions.move(We)}},{eventName:"touchend",fn:function(K){var ne=G();if(ne.type!=="DRAGGING"){T();return}K.preventDefault(),ne.actions.drop({shouldBlockNextClick:!0}),L()}},{eventName:"touchcancel",fn:function(K){if(G().type!=="DRAGGING"){T();return}K.preventDefault(),T()}},{eventName:"touchforcechange",fn:function(K){var ne=G();ne.type==="IDLE"&&_n(!1);var ae=K.touches[0];if(ae){var we=ae.force>=Mw;if(we){var De=ne.actions.shouldRespectForcePress();if(ne.type==="PENDING"){De&&T();return}if(De){if(ne.hasMoved){K.preventDefault();return}T();return}K.preventDefault()}}}},{eventName:$m,fn:T}]}function Ep(S){var T=(0,ut.useRef)(Ew),L=(0,ut.useRef)(Fo),G=Li(function(){return T.current},[]),Z=Li(function(ot){T.current=ot},[]),K=Ba(function(){return{eventName:"touchstart",fn:function(ot){if(!ot.defaultPrevented){var zt=S.findClosestDraggableId(ot);if(zt){var Cr=S.tryGetLock(zt,ae,{sourceEvent:ot});if(Cr){var mr=ot.touches[0],Er=mr.clientX,Ir=mr.clientY,pn={x:Er,y:Ir};L.current(),ke(Cr,pn)}}}}}},[S]),ne=Li(function(){var ot={capture:!0,passive:!1};L.current=Hu(window,[K],ot)},[K]),ae=Li(function(){var He=T.current;He.type!=="IDLE"&&(He.type==="PENDING"&&clearTimeout(He.longPressTimerId),Z(Ew),L.current(),ne())},[ne,Z]),we=Li(function(){var He=T.current;ae(),He.type==="DRAGGING"&&He.actions.cancel({shouldBlockNextClick:!0}),He.type==="PENDING"&&He.actions.abort()},[ae]),De=Li(function(){var ot={capture:!0,passive:!1},zt={cancel:we,completed:ae,getPhase:G},Cr=Hu(window,Tw(zt),ot),mr=Hu(window,XS(zt),ot);L.current=function(){Cr(),mr()}},[we,G,ae]),We=Li(function(){var ot=G();ot.type!=="PENDING"&&_n(!1);var zt=ot.actions.fluidLift(ot.point);Z({type:"DRAGGING",actions:zt,hasMoved:!1})},[G,Z]),ke=Li(function(ot,zt){G().type!=="IDLE"&&_n(!1);var Cr=setTimeout(We,JC);Z({type:"PENDING",point:zt,actions:ot,longPressTimerId:Cr}),De()},[De,G,Z,We]);rc(function(){return ne(),function(){L.current();var zt=G();zt.type==="PENDING"&&(clearTimeout(zt.longPressTimerId),Z(Ew))}},[G,ne,Z]),rc(function(){var ot=Hu(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return ot},[])}var Ow={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Um(S,T){if(T==null)return!1;var L=!!Ow[T.tagName.toLowerCase()];if(L)return!0;var G=T.getAttribute("contenteditable");return G==="true"||G===""?!0:T===S?!1:Um(S,T.parentElement)}function Aw(S,T){var L=T.target;return Pm(L)?Um(S,L):!1}var Ym=function(S){return _c(S.getBoundingClientRect()).center};function hE(S){return S instanceof nc(S).Element}var dE=function(){var S="matches";if(typeof document=="undefined")return S;var T=[S,"msMatchesSelector","webkitMatchesSelector"],L=Aa(T,function(G){return G in Element.prototype});return L||S}();function ZS(S,T){return S==null?null:S[dE](T)?S:ZS(S.parentElement,T)}function KS(S,T){return S.closest?S.closest(T):ZS(S,T)}function vE(S){return"["+md.contextId+'="'+S+'"]'}function pE(S,T){var L=T.target;if(!hE(L))return null;var G=vE(S),Z=KS(L,G);return!Z||!Pm(Z)?null:Z}function qS(S,T){var L=pE(S,T);return L?L.getAttribute(md.draggableId):null}function gE(S,T){var L="["+Ch.contextId+'="'+S+'"]',G=pm(document.querySelectorAll(L)),Z=Aa(G,function(K){return K.getAttribute(Ch.id)===T});return!Z||!Pm(Z)?null:Z}function QS(S){S.preventDefault()}function e1(S){var T=S.expected,L=S.phase,G=S.isLockActive;return S.shouldWarn,!(!G()||T!==L)}function Iw(S){var T=S.lockAPI,L=S.store,G=S.registry,Z=S.draggableId;if(T.isClaimed())return!1;var K=G.draggable.findById(Z);return!(!K||!K.options.isEnabled||!Gg(L.getState(),Z))}function JS(S){var T=S.lockAPI,L=S.contextId,G=S.store,Z=S.registry,K=S.draggableId,ne=S.forceSensorStop,ae=S.sourceEvent,we=Iw({lockAPI:T,store:G,registry:Z,draggableId:K});if(!we)return null;var De=Z.draggable.getById(K),We=gE(L,De.descriptor.id);if(!We||ae&&!De.options.canDragInteractiveElements&&Aw(We,ae))return null;var ke=T.claim(ne||Fo),He="PRE_DRAG";function ot(){return De.options.shouldRespectForcePress}function zt(){return T.isActive(ke)}function Cr(Cn,Un){e1({expected:Cn,phase:He,isLockActive:zt,shouldWarn:!0})&&G.dispatch(Un())}var mr=Cr.bind(null,"DRAGGING");function Er(Cn){function Un(){T.release(),He="COMPLETED"}He!=="PRE_DRAG"&&(Un(),He!=="PRE_DRAG"&&_n(!1)),G.dispatch(NM(Cn.liftActionArgs)),He="DRAGGING";function ii(mi,Ia){if(Ia===void 0&&(Ia={shouldBlockNextClick:!1}),Cn.cleanup(),Ia.shouldBlockNextClick){var ka=Hu(window,[{eventName:"click",fn:QS,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(ka)}Un(),G.dispatch(HC({reason:mi}))}return ki({isActive:function(){return e1({expected:"DRAGGING",phase:He,isLockActive:zt,shouldWarn:!1})},shouldRespectForcePress:ot,drop:function(Ia){return ii("DROP",Ia)},cancel:function(Ia){return ii("CANCEL",Ia)}},Cn.actions)}function Ir(Cn){var Un=sv(function(mi){mr(function(){return tw({client:mi})})}),ii=Er({liftActionArgs:{id:K,clientSelection:Cn,movementMode:"FLUID"},cleanup:function(){return Un.cancel()},actions:{move:Un}});return ki({},ii,{move:Un})}function pn(){var Cn={moveUp:function(){return mr($_)},moveRight:function(){return mr(U_)},moveDown:function(){return mr(wS)},moveLeft:function(){return mr(Y_)}};return Er({liftActionArgs:{id:K,clientSelection:Ym(We),movementMode:"SNAP"},cleanup:Fo,actions:Cn})}function Ur(){var Cn=e1({expected:"PRE_DRAG",phase:He,isLockActive:zt,shouldWarn:!0});Cn&&T.release()}var $n={isActive:function(){return e1({expected:"PRE_DRAG",phase:He,isLockActive:zt,shouldWarn:!1})},shouldRespectForcePress:ot,fluidLift:Ir,snapLift:pn,abort:Ur};return $n}var mE=[_p,QC,Ep];function e2(S){var T=S.contextId,L=S.store,G=S.registry,Z=S.customSensors,K=S.enableDefaultSensors,ne=[].concat(K?mE:[],Z||[]),ae=(0,ut.useState)(function(){return US()})[0],we=Li(function(Ir,pn){Ir.isDragging&&!pn.isDragging&&ae.tryAbandon()},[ae]);rc(function(){var Ir=L.getState(),pn=L.subscribe(function(){var Ur=L.getState();we(Ir,Ur),Ir=Ur});return pn},[ae,L,we]),rc(function(){return ae.tryAbandon},[ae.tryAbandon]);for(var De=Li(function(Er){return Iw({lockAPI:ae,registry:G,store:L,draggableId:Er})},[ae,G,L]),We=Li(function(Er,Ir,pn){return JS({lockAPI:ae,registry:G,contextId:T,store:L,draggableId:Er,forceSensorStop:Ir,sourceEvent:pn&&pn.sourceEvent?pn.sourceEvent:null})},[T,ae,G,L]),ke=Li(function(Er){return qS(T,Er)},[T]),He=Li(function(Er){var Ir=G.draggable.findById(Er);return Ir?Ir.options:null},[G.draggable]),ot=Li(function(){ae.isClaimed()&&(ae.tryAbandon(),L.getState().phase!=="IDLE"&&L.dispatch(dv()))},[ae,L]),zt=Li(ae.isClaimed,[ae]),Cr=Ba(function(){return{canGetLock:De,tryGetLock:We,findClosestDraggableId:ke,findOptionsForDraggable:He,tryReleaseLock:ot,isLockClaimed:zt}},[De,We,ke,He,ot,zt]),mr=0;mr<ne.length;mr++)ne[mr](Cr)}var yE=function(T){return{onBeforeCapture:T.onBeforeCapture,onBeforeDragStart:T.onBeforeDragStart,onDragStart:T.onDragStart,onDragEnd:T.onDragEnd,onDragUpdate:T.onDragUpdate}};function yv(S){return S.current||_n(!1),S.current}function CE(S){var T=S.contextId,L=S.setCallbacks,G=S.sensors,Z=S.nonce,K=S.dragHandleUsageInstructions,ne=(0,ut.useRef)(null),ae=Hm(S),we=Li(function(){return yE(ae.current)},[ae]),De=gw(T),We=Fm({contextId:T,text:K}),ke=aE(T,Z),He=Li(function(mi){yv(ne).dispatch(mi)},[]),ot=Ba(function(){return jx({publishWhileDragging:ew,updateDroppableScroll:CS,updateDroppableIsEnabled:zg,updateDroppableIsCombineEnabled:W_,collectionStarting:Hg},He)},[He]),zt=oE(),Cr=Ba(function(){return Rm(zt,ot)},[zt,ot]),mr=Ba(function(){return HS(ki({scrollWindow:Q_,scrollDroppable:Cr.scrollDroppable},jx({move:tw},He)))},[Cr.scrollDroppable,He]),Er=ZC(T),Ir=Ba(function(){return pv({announce:De,autoScroller:mr,dimensionMarshal:Cr,focusMarshal:Er,getResponders:we,styleMarshal:ke})},[De,mr,Cr,Er,we,ke]);ne.current=Ir;var pn=Li(function(){var mi=yv(ne),Ia=mi.getState();Ia.phase!=="IDLE"&&mi.dispatch(dv())},[]),Ur=Li(function(){var mi=yv(ne).getState();return mi.isDragging||mi.phase==="DROP_ANIMATING"},[]),$n=Ba(function(){return{isDragging:Ur,tryAbort:pn}},[Ur,pn]);L($n);var Cn=Li(function(mi){return Gg(yv(ne).getState(),mi)},[]),Un=Li(function(){return yp(yv(ne).getState())},[]),ii=Ba(function(){return{marshal:Cr,focus:Er,contextId:T,canLift:Cn,isMovementAllowed:Un,dragHandleUsageInstructionsId:We,registry:zt}},[T,Cr,We,Er,Cn,Un,zt]);return e2({contextId:T,store:Ir,registry:zt,customSensors:G,enableDefaultSensors:S.enableDefaultSensors!==!1}),(0,ut.useEffect)(function(){return pn},[pn]),oe().createElement(Nm.Provider,{value:ii},oe().createElement(_g,{context:yd,store:Ir},S.children))}var Rw=0;function bE(){return Ba(function(){return""+Rw++},[])}function jm(S){var T=bE(),L=S.dragHandleUsageInstructions||Va.dragHandleUsageInstructions;return oe().createElement(M_,null,function(G){return oe().createElement(CE,{nonce:S.nonce,contextId:T,setCallbacks:G,dragHandleUsageInstructions:L,enableDefaultSensors:S.enableDefaultSensors,sensors:S.sensors,onBeforeCapture:S.onBeforeCapture,onBeforeDragStart:S.onBeforeDragStart,onDragStart:S.onDragStart,onDragUpdate:S.onDragUpdate,onDragEnd:S.onDragEnd},S.children)})}var Dw=function(T){return function(L){return T===L}},wE=Dw("scroll"),t1=Dw("auto"),Lw=function(T,L){return L(T.overflowX)||L(T.overflowY)},t2=function(T){var L=window.getComputedStyle(T),G={overflowX:L.overflowX,overflowY:L.overflowY};return Lw(G,wE)||Lw(G,t1)},Cv=function(){return!1},xE=function S(T){return T==null?null:T===document.body?Cv()?T:null:T===document.documentElement?null:t2(T)?T:S(T.parentElement)},r1=function(S){return{x:S.scrollLeft,y:S.scrollTop}},n1=function S(T){if(!T)return!1;var L=window.getComputedStyle(T);return L.position==="fixed"?!0:S(T.parentElement)},SE=function(S){var T=xE(S),L=n1(S);return{closestScrollable:T,isFixedOnPage:L}},r2=function(S){var T=S.descriptor,L=S.isEnabled,G=S.isCombineEnabled,Z=S.isFixedOnPage,K=S.direction,ne=S.client,ae=S.page,we=S.closest,De=function(){if(!we)return null;var ot=we.scrollSize,zt=we.client,Cr=cw({scrollHeight:ot.scrollHeight,scrollWidth:ot.scrollWidth,height:zt.paddingBox.height,width:zt.paddingBox.width});return{pageMarginBox:we.page.marginBox,frameClient:zt,scrollSize:ot,shouldClipSubject:we.shouldClipSubject,scroll:{initial:we.scroll,current:we.scroll,max:Cr,diff:{value:Cl,displacement:Cl}}}}(),We=K==="vertical"?dd:Dg,ke=uv({page:ae,withPlaceholder:null,axis:We,frame:De}),He={descriptor:T,isCombineEnabled:G,isFixedOnPage:Z,axis:We,isEnabled:L,client:ne,page:ae,frame:De,subject:ke};return He},_E=function(T,L){var G=Pb(T);if(!L||T!==L)return G;var Z=G.paddingBox.top-L.scrollTop,K=G.paddingBox.left-L.scrollLeft,ne=Z+L.scrollHeight,ae=K+L.scrollWidth,we={top:Z,right:ae,bottom:ne,left:K},De=ch(we,G.border),We=Lb({borderBox:De,margin:G.margin,border:G.border,padding:G.padding});return We},Zg=function(S){var T=S.ref,L=S.descriptor,G=S.env,Z=S.windowScroll,K=S.direction,ne=S.isDropDisabled,ae=S.isCombineEnabled,we=S.shouldClipSubject,De=G.closestScrollable,We=_E(T,De),ke=ja(We,Z),He=function(){if(!De)return null;var zt=Pb(De),Cr={scrollHeight:De.scrollHeight,scrollWidth:De.scrollWidth};return{client:zt,page:ja(zt,Z),scroll:r1(De),scrollSize:Cr,shouldClipSubject:we}}(),ot=r2({descriptor:L,isEnabled:!ne,isCombineEnabled:ae,isFixedOnPage:G.isFixedOnPage,direction:K,client:We,page:ke,closest:He});return ot},n2={passive:!1},Pw={passive:!0},Bw=function(S){return S.shouldPublishImmediately?n2:Pw};function Vm(S){var T=(0,ut.useContext)(S);return T||_n(!1),T}var i1=function(T){return T&&T.env.closestScrollable||null};function kw(S){var T=(0,ut.useRef)(null),L=Vm(Nm),G=km("droppable"),Z=L.registry,K=L.marshal,ne=Hm(S),ae=Ba(function(){return{id:S.droppableId,type:S.type,mode:S.mode}},[S.droppableId,S.mode,S.type]),we=(0,ut.useRef)(ae),De=Ba(function(){return zs(function(Ur,$n){T.current||_n(!1);var Cn={x:Ur,y:$n};K.updateDroppableScroll(ae.id,Cn)})},[ae.id,K]),We=Li(function(){var Ur=T.current;return!Ur||!Ur.env.closestScrollable?Cl:r1(Ur.env.closestScrollable)},[]),ke=Li(function(){var Ur=We();De(Ur.x,Ur.y)},[We,De]),He=Ba(function(){return sv(ke)},[ke]),ot=Li(function(){var Ur=T.current,$n=i1(Ur);Ur&&$n||_n(!1);var Cn=Ur.scrollOptions;if(Cn.shouldPublishImmediately){ke();return}He()},[He,ke]),zt=Li(function(Ur,$n){T.current&&_n(!1);var Cn=ne.current,Un=Cn.getDroppableRef();Un||_n(!1);var ii=SE(Un),mi={ref:Un,descriptor:ae,env:ii,scrollOptions:$n};T.current=mi;var Ia=Zg({ref:Un,descriptor:ae,env:ii,windowScroll:Ur,direction:Cn.direction,isDropDisabled:Cn.isDropDisabled,isCombineEnabled:Cn.isCombineEnabled,shouldClipSubject:!Cn.ignoreContainerClipping}),ka=ii.closestScrollable;return ka&&(ka.setAttribute(iE.contextId,L.contextId),ka.addEventListener("scroll",ot,Bw(mi.scrollOptions))),Ia},[L.contextId,ae,ot,ne]),Cr=Li(function(){var Ur=T.current,$n=i1(Ur);return Ur&&$n||_n(!1),r1($n)},[]),mr=Li(function(){var Ur=T.current;Ur||_n(!1);var $n=i1(Ur);T.current=null,$n&&(He.cancel(),$n.removeAttribute(iE.contextId),$n.removeEventListener("scroll",ot,Bw(Ur.scrollOptions)))},[ot,He]),Er=Li(function(Ur){var $n=T.current;$n||_n(!1);var Cn=i1($n);Cn||_n(!1),Cn.scrollTop+=Ur.y,Cn.scrollLeft+=Ur.x},[]),Ir=Ba(function(){return{getDimensionAndWatchScroll:zt,getScrollWhileDragging:Cr,dragStopped:mr,scroll:Er}},[mr,zt,Cr,Er]),pn=Ba(function(){return{uniqueId:G,descriptor:ae,callbacks:Ir}},[Ir,ae,G]);rc(function(){return we.current=pn.descriptor,Z.droppable.register(pn),function(){T.current&&mr(),Z.droppable.unregister(pn)}},[Ir,ae,mr,pn,K,Z.droppable]),rc(function(){T.current&&K.updateDroppableIsEnabled(we.current.id,!S.isDropDisabled)},[S.isDropDisabled,K]),rc(function(){T.current&&K.updateDroppableIsCombineEnabled(we.current.id,S.isCombineEnabled)},[S.isCombineEnabled,K])}function a1(){}var i2={width:0,height:0,margin:oS},bd=function(T){var L=T.isAnimatingOpenOnMount,G=T.placeholder,Z=T.animate;return L||Z==="close"?i2:{height:G.client.borderBox.height,width:G.client.borderBox.width,margin:G.client.margin}},Fw=function(T){var L=T.isAnimatingOpenOnMount,G=T.placeholder,Z=T.animate,K=bd({isAnimatingOpenOnMount:L,placeholder:G,animate:Z});return{display:G.display,boxSizing:"border-box",width:K.width,height:K.height,marginTop:K.margin.top,marginRight:K.margin.right,marginBottom:K.margin.bottom,marginLeft:K.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:Z!=="none"?Om.placeholder:null}};function Nw(S){var T=(0,ut.useRef)(null),L=Li(function(){T.current&&(clearTimeout(T.current),T.current=null)},[]),G=S.animate,Z=S.onTransitionEnd,K=S.onClose,ne=S.contextId,ae=(0,ut.useState)(S.animate==="open"),we=ae[0],De=ae[1];(0,ut.useEffect)(function(){return we?G!=="open"?(L(),De(!1),a1):T.current?a1:(T.current=setTimeout(function(){T.current=null,De(!1)}),L):a1},[G,we,L]);var We=Li(function(He){He.propertyName==="height"&&(Z(),G==="close"&&K())},[G,K,Z]),ke=Fw({isAnimatingOpenOnMount:we,animate:S.animate,placeholder:S.placeholder});return oe().createElement(S.placeholder.tagName,{style:ke,"data-rbd-placeholder-context-id":ne,onTransitionEnd:We,ref:S.innerRef})}var EE=oe().memo(Nw),Hw=oe().createContext(null),Xm=function(S){Yc(T,S);function T(){for(var G,Z=arguments.length,K=new Array(Z),ne=0;ne<Z;ne++)K[ne]=arguments[ne];return G=S.call.apply(S,[this].concat(K))||this,G.state={isVisible:!!G.props.on,data:G.props.on,animate:G.props.shouldAnimate&&G.props.on?"open":"none"},G.onClose=function(){G.state.animate==="close"&&G.setState({isVisible:!1})},G}T.getDerivedStateFromProps=function(Z,K){return Z.shouldAnimate?Z.on?{isVisible:!0,data:Z.on,animate:"open"}:K.isVisible?{isVisible:!0,data:K.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!Z.on,data:Z.on,animate:"none"}};var L=T.prototype;return L.render=function(){if(!this.state.isVisible)return null;var Z={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(Z)},T}(oe().PureComponent),zw={dragging:5e3,dropAnimating:4500},a2=function(T,L){return L?Om.drop(L.duration):T?Om.snap:Om.fluid},ME=function(T,L){return T?L?Tm.opacity.drop:Tm.opacity.combining:null},TE=function(T){return T.forceShouldAnimate!=null?T.forceShouldAnimate:T.mode==="SNAP"};function OE(S){var T=S.dimension,L=T.client,G=S.offset,Z=S.combineWith,K=S.dropping,ne=!!Z,ae=TE(S),we=!!K,De=we?Mc.drop(G,ne):Mc.moveTo(G),We={position:"fixed",top:L.marginBox.top,left:L.marginBox.left,boxSizing:"border-box",width:L.borderBox.width,height:L.borderBox.height,transition:a2(ae,K),transform:De,opacity:ME(ne,we),zIndex:we?zw.dropAnimating:zw.dragging,pointerEvents:"none"};return We}function AE(S){return{transform:Mc.moveTo(S.offset),transition:S.shouldAnimateDisplacement?null:"none"}}function IE(S){return S.type==="DRAGGING"?OE(S):AE(S)}function RE(S,T,L){L===void 0&&(L=Cl);var G=window.getComputedStyle(T),Z=T.getBoundingClientRect(),K=Yo(Z,G),ne=ja(K,L),ae={client:K,tagName:T.tagName.toLowerCase(),display:G.display},we={x:K.marginBox.width,y:K.marginBox.height},De={descriptor:S,placeholder:ae,displaceBy:we,client:K,page:ne};return De}function DE(S){var T=km("draggable"),L=S.descriptor,G=S.registry,Z=S.getDraggableRef,K=S.canDragInteractiveElements,ne=S.shouldRespectForcePress,ae=S.isEnabled,we=Ba(function(){return{canDragInteractiveElements:K,shouldRespectForcePress:ne,isEnabled:ae}},[K,ae,ne]),De=Li(function(ot){var zt=Z();return zt||_n(!1),RE(L,zt,ot)},[L,Z]),We=Ba(function(){return{uniqueId:T,descriptor:L,options:we,getDimension:De}},[L,De,we,T]),ke=(0,ut.useRef)(We),He=(0,ut.useRef)(!0);rc(function(){return G.draggable.register(ke.current),function(){return G.draggable.unregister(ke.current)}},[G.draggable]),rc(function(){if(He.current){He.current=!1;return}var ot=ke.current;ke.current=We,G.draggable.update(We,ot)},[We,G.draggable])}function LE(S){S.preventDefault()}function o1(S){var T=(0,ut.useRef)(null),L=Li(function(mi){T.current=mi},[]),G=Li(function(){return T.current},[]),Z=Vm(Nm),K=Z.contextId,ne=Z.dragHandleUsageInstructionsId,ae=Z.registry,we=Vm(Hw),De=we.type,We=we.droppableId,ke=Ba(function(){return{id:S.draggableId,index:S.index,type:De,droppableId:We}},[S.draggableId,S.index,De,We]),He=S.children,ot=S.draggableId,zt=S.isEnabled,Cr=S.shouldRespectForcePress,mr=S.canDragInteractiveElements,Er=S.isClone,Ir=S.mapped,pn=S.dropAnimationFinished;if(!Er){var Ur=Ba(function(){return{descriptor:ke,registry:ae,getDraggableRef:G,canDragInteractiveElements:mr,shouldRespectForcePress:Cr,isEnabled:zt}},[ke,ae,G,mr,Cr,zt]);DE(Ur)}var $n=Ba(function(){return zt?{tabIndex:0,role:"button","aria-describedby":ne,"data-rbd-drag-handle-draggable-id":ot,"data-rbd-drag-handle-context-id":K,draggable:!1,onDragStart:LE}:null},[K,ne,ot,zt]),Cn=Li(function(mi){Ir.type==="DRAGGING"&&Ir.dropping&&mi.propertyName==="transform"&&pn()},[pn,Ir]),Un=Ba(function(){var mi=IE(Ir),Ia=Ir.type==="DRAGGING"&&Ir.dropping?Cn:null,ka={innerRef:L,draggableProps:{"data-rbd-draggable-context-id":K,"data-rbd-draggable-id":ot,style:mi,onTransitionEnd:Ia},dragHandleProps:$n};return ka},[K,$n,ot,Ir,Cn,L]),ii=Ba(function(){return{draggableId:ke.id,type:ke.type,source:{index:ke.index,droppableId:ke.droppableId}}},[ke.droppableId,ke.id,ke.index,ke.type]);return He(Un,Ir.snapshot,ii)}var Zm=function(S,T){return S===T},o2=function(S){var T=S.combine,L=S.destination;return L?L.droppableId:T?T.droppableId:null},wo=function(T){return T.combine?T.combine.draggableId:null},xu=function(T){return T.at&&T.at.type==="COMBINE"?T.at.combine.draggableId:null};function l1(){var S=zs(function(Z,K){return{x:Z,y:K}}),T=zs(function(Z,K,ne,ae,we){return{isDragging:!0,isClone:K,isDropAnimating:!!we,dropAnimation:we,mode:Z,draggingOver:ne,combineWith:ae,combineTargetFor:null}}),L=zs(function(Z,K,ne,ae,we,De,We){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:we,combineWith:De,mode:K,offset:Z,dimension:ne,forceShouldAnimate:We,snapshot:T(K,ae,we,De,null)}}}),G=function(K,ne){if(K.isDragging){if(K.critical.draggable.id!==ne.draggableId)return null;var ae=K.current.client.offset,we=K.dimensions.draggables[ne.draggableId],De=No(K.impact),We=xu(K.impact),ke=K.forceShouldAnimate;return L(S(ae.x,ae.y),K.movementMode,we,ne.isClone,De,We,ke)}if(K.phase==="DROP_ANIMATING"){var He=K.completed;if(He.result.draggableId!==ne.draggableId)return null;var ot=ne.isClone,zt=K.dimensions.draggables[ne.draggableId],Cr=He.result,mr=Cr.mode,Er=o2(Cr),Ir=wo(Cr),pn=K.dropDuration,Ur={duration:pn,curve:zC.drop,moveTo:K.newHomeClientOffset,opacity:Ir?Tm.opacity.drop:null,scale:Ir?Tm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:K.newHomeClientOffset,dimension:zt,dropping:Ur,draggingOver:Er,combineWith:Ir,mode:mr,forceShouldAnimate:null,snapshot:T(mr,ot,Er,Ir,Ur)}}}return null};return G}function wd(S){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:S,combineWith:null}}var Kg={mapped:{type:"SECONDARY",offset:Cl,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:wd(null)}};function bv(){var S=zs(function(ne,ae){return{x:ne,y:ae}}),T=zs(wd),L=zs(function(ne,ae,we){return ae===void 0&&(ae=null),{mapped:{type:"SECONDARY",offset:ne,combineTargetFor:ae,shouldAnimateDisplacement:we,snapshot:T(ae)}}}),G=function(ae){return ae?L(Cl,ae,!0):null},Z=function(ae,we,De,We){var ke=De.displaced.visible[ae],He=!!(We.inVirtualList&&We.effected[ae]),ot=Gb(De),zt=ot&&ot.draggableId===ae?we:null;if(!ke){if(!He)return G(zt);if(De.displaced.invisible[ae])return null;var Cr=hh(We.displacedBy.point),mr=S(Cr.x,Cr.y);return L(mr,zt,!0)}if(He)return G(zt);var Er=De.displacedBy.point,Ir=S(Er.x,Er.y);return L(Ir,zt,ke.shouldAnimate)},K=function(ae,we){if(ae.isDragging)return ae.critical.draggable.id===we.draggableId?null:Z(we.draggableId,ae.critical.draggable.id,ae.impact,ae.afterCritical);if(ae.phase==="DROP_ANIMATING"){var De=ae.completed;return De.result.draggableId===we.draggableId?null:Z(we.draggableId,De.result.draggableId,De.impact,De.afterCritical)}return null};return K}var s1=function(){var T=l1(),L=bv(),G=function(K,ne){return T(K,ne)||L(K,ne)||Kg};return G},l2={dropAnimationFinished:nw},PE=Sc(s1,l2,null,{context:yd,pure:!0,areStatePropsEqual:Zm})(o1);function xd(S){var T=Vm(Hw),L=T.isUsingCloneFor;return L===S.draggableId&&!S.isClone?null:oe().createElement(PE,S)}function u1(S){var T=typeof S.isDragDisabled=="boolean"?!S.isDragDisabled:!0,L=!!S.disableInteractiveElementBlocking,G=!!S.shouldRespectForcePress;return oe().createElement(xd,ki({},S,{isClone:!1,isEnabled:T,canDragInteractiveElements:L,shouldRespectForcePress:G}))}function s2(S){var T=(0,ut.useContext)(Nm);T||_n(!1);var L=T.contextId,G=T.isMovementAllowed,Z=(0,ut.useRef)(null),K=(0,ut.useRef)(null),ne=S.children,ae=S.droppableId,we=S.type,De=S.mode,We=S.direction,ke=S.ignoreContainerClipping,He=S.isDropDisabled,ot=S.isCombineEnabled,zt=S.snapshot,Cr=S.useClone,mr=S.updateViewportMaxScroll,Er=S.getContainerForClone,Ir=Li(function(){return Z.current},[]),pn=Li(function(ka){Z.current=ka},[]);Li(function(){return K.current},[]);var Ur=Li(function(ka){K.current=ka},[]),$n=Li(function(){G()&&mr({maxScroll:YC()})},[G,mr]);kw({droppableId:ae,type:we,mode:De,direction:We,isDropDisabled:He,isCombineEnabled:ot,ignoreContainerClipping:ke,getDroppableRef:Ir});var Cn=oe().createElement(Xm,{on:S.placeholder,shouldAnimate:S.shouldAnimatePlaceholder},function(ka){var Vl=ka.onClose,hl=ka.data,qo=ka.animate;return oe().createElement(EE,{placeholder:hl,onClose:Vl,innerRef:Ur,animate:qo,contextId:L,onTransitionEnd:$n})}),Un=Ba(function(){return{innerRef:pn,placeholder:Cn,droppableProps:{"data-rbd-droppable-id":ae,"data-rbd-droppable-context-id":L}}},[L,ae,Cn,pn]),ii=Cr?Cr.dragging.draggableId:null,mi=Ba(function(){return{droppableId:ae,type:we,isUsingCloneFor:ii}},[ae,ii,we]);function Ia(){if(!Cr)return null;var ka=Cr.dragging,Vl=Cr.render,hl=oe().createElement(xd,{draggableId:ka.draggableId,index:ka.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(qo,es){return Vl(qo,es,ka)});return re().createPortal(hl,Er())}return oe().createElement(Hw.Provider,{value:mi},ne(Un,zt),Ia())}var c1=function(T,L){return T===L.droppable.type},xh=function(T,L){return L.draggables[T.draggable.id]},Sh=function(){var T={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},L=ki({},T,{shouldAnimatePlaceholder:!1}),G=zs(function(ne){return{draggableId:ne.id,type:ne.type,source:{index:ne.index,droppableId:ne.droppableId}}}),Z=zs(function(ne,ae,we,De,We,ke){var He=We.descriptor.id,ot=We.descriptor.droppableId===ne;if(ot){var zt=ke?{render:ke,dragging:G(We.descriptor)}:null,Cr={isDraggingOver:we,draggingOverWith:we?He:null,draggingFromThisWith:He,isUsingPlaceholder:!0};return{placeholder:We.placeholder,shouldAnimatePlaceholder:!1,snapshot:Cr,useClone:zt}}if(!ae)return L;if(!De)return T;var mr={isDraggingOver:we,draggingOverWith:He,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:We.placeholder,shouldAnimatePlaceholder:!0,snapshot:mr,useClone:null}}),K=function(ae,we){var De=we.droppableId,We=we.type,ke=!we.isDropDisabled,He=we.renderClone;if(ae.isDragging){var ot=ae.critical;if(!c1(We,ot))return L;var zt=xh(ot,ae.dimensions),Cr=No(ae.impact)===De;return Z(De,ke,Cr,Cr,zt,He)}if(ae.phase==="DROP_ANIMATING"){var mr=ae.completed;if(!c1(We,mr.critical))return L;var Er=xh(mr.critical,ae.dimensions);return Z(De,ke,o2(mr.result)===De,No(mr.impact)===De,Er,He)}if(ae.phase==="IDLE"&&ae.completed&&!ae.shouldFlush){var Ir=ae.completed;if(!c1(We,Ir.critical))return L;var pn=No(Ir.impact)===De,Ur=!!(Ir.impact.at&&Ir.impact.at.type==="COMBINE"),$n=Ir.critical.droppable.id===De;return pn?Ur?T:L:$n?T:L}return L};return K},KM={updateViewportMaxScroll:G_};function u2(){return document.body||_n(!1),document.body}var f1={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:u2},Sd=Sc(Sh,KM,null,{context:yd,pure:!0,areStatePropsEqual:Zm})(s2);Sd.defaultProps=f1;const Mp=(S=!0)=>({[$l.Rows]:{text:(0,Ve.agQ)("\u884C\u5934"),icon:jT,droppableType:S?j0.Dimensions:j0.Rows},[$l.Cols]:{text:(0,Ve.agQ)("\u5217\u5934"),icon:Fs,droppableType:S?j0.Dimensions:j0.Cols},[$l.Values]:{text:(0,Ve.agQ)("\u503C"),icon:RM,droppableType:j0.Measures}}),wl=(...S)=>(0,Ve.d5G)(m_,...S),BE=S=>{switch(S){case"table":return wl("content","one-dimension");default:return wl("content","three-dimensions")}},h1=(S,T)=>S==="table"||T===$l.Values,Ww=(S=[],T=[],L,G)=>{if(G.droppableId===L.droppableId){const ae=[...T],[we]=ae.splice(L.index,1);return ae.splice(G.index,0,we),{[G.droppableId]:ae}}const Z=[...S],K=[...T],[ne]=Z.splice(L.index,1);return K.splice(G.index,0,ne),{[L.droppableId]:Z,[G.droppableId]:K}},Gw=(S=[],T,L,G)=>{const Z=Fr({},S.find(K=>K.id===(G!=null?G:L)));return G?Z.children=Uo(Z.children,K=>Rn(Fr({},K),{checked:K.id===L?T:K.checked})):(Z.checked=T,Z.children=Uo(Z.children,K=>Rn(Fr({},K),{checked:T}))),S.map(K=>K.id===Z.id?Z:K)},d1=S=>{const T=L=>{const G=ne=>g0(Uo(ne,ae=>{var we=ae,{children:De}=we,We=Wn(we,["children"]);return[Fr({},We),...G(De)]})),Z=G(L),K=ev(Z,ne=>ne.checked===!1);return{items:Z,hideItems:K}};return{[$l.Rows]:T(S[$l.Rows]),[$l.Cols]:T(S[$l.Cols]),[$l.Values]:T(S[$l.Values])}},c2=S=>ed(S,"items"),$w="item",Uw=({dragHandleProps:S,fieldType:T,id:L,displayName:G,selectable:Z,checked:K,parentId:ne,className:ae,disabled:we,onVisibleItemChange:De})=>{const We=(0,ut.useRef)(),[ke,He]=(0,ut.useState)(!1);(0,ut.useEffect)(()=>{He(We.current.offsetWidth<We.current.scrollWidth)},[]);const ot=G!=null?G:L;return oe().createElement("div",Rn(Fr({},S),{className:Bl(wl($w),ae,{unchecked:!K})}),Z&&oe().createElement(ye.Checkbox,{disabled:we,checked:K,onChange:zt=>De==null?void 0:De(T,zt.target.checked,L,ne)}),ke?oe().createElement(ye.Tooltip,{title:ot,placement:"bottomRight",overlayClassName:wl("tooltip")},oe().createElement("div",{className:wl($w,"text"),ref:We},ot)):oe().createElement("div",{className:wl($w,"text"),ref:We},ot))};Uw.defaultProps={checked:!0,disabled:!1};var qM="";const kE=({fieldType:S,item:{id:T,displayName:L,checked:G=!0,children:Z=[]},expandable:K,expandChildren:ne,isDragDisabled:ae,selectable:we,index:De,draggingItemId:We,onVisibleItemChange:ke})=>oe().createElement(u1,{draggableId:T,index:De,isDragDisabled:ae},(He,ot)=>oe().createElement("div",Rn(Fr({},He.draggableProps),{ref:He.innerRef,className:Bl(wl(we?"checkable-list":"normal-list"),{dragging:ot.isDragging,"disable-dragging":ae})}),oe().createElement(Uw,{dragHandleProps:He.dragHandleProps,fieldType:S,id:T,displayName:L,checked:G,onVisibleItemChange:ke,selectable:we,className:Bl(we?"checkable-item":"normal-item",{"item-collapse":!ne})}),K&&ne&&!Po(Z)&&We!==T&&oe().createElement("div",{className:Bl("child-items",{"item-hidden":!ne})},Z.map(zt=>oe().createElement(Uw,{key:zt.id,id:zt.id,fieldType:S,displayName:zt.displayName,disabled:!G,checked:zt.checked,parentId:T,selectable:we,onVisibleItemChange:ke,className:"checkable-item"})))));var QM="";const Km="dimension",Tp=oe().memo(S=>{const T=S,{fieldType:L,crossRows:G=!1,selectable:Z=!1,expandable:K=!1,expandText:ne=(0,Ve.agQ)("\u5C55\u5F00\u5B50\u9879"),allowEmpty:ae=!0,items:we=[],droppableType:De,text:We,icon:ke}=T,He=Wn(T,["fieldType","crossRows","selectable","expandable","expandText","allowEmpty","items","droppableType","text","icon"]),[ot,zt]=oe().useState(!0),Cr=Er=>{zt(Er.target.checked)},mr=!ae&&we.length===1;return oe().createElement("div",{className:Bl(wl(Km),{"long-dimension":G})},oe().createElement("div",{className:wl(Km,"header")},oe().createElement("div",{className:"title"},oe().createElement(ke,null)," ",oe().createElement("span",null,We)),K&&oe().createElement("div",{className:"expand-option"},oe().createElement(ye.Checkbox,{checked:ot,onChange:Cr}),oe().createElement("span",{className:"description"},ne))),oe().createElement(Sd,{droppableId:L,type:De},(Er,Ir)=>oe().createElement("div",Rn(Fr({ref:Er.innerRef},Er.droppableProps),{className:Bl(wl(Km,"items"),{[wl(Km,"items-highlight")]:Ir.isDraggingOver,[wl(Km,"long-items")]:G})}),we.map((pn,Ur)=>oe().createElement(kE,Fr({key:pn.id,index:Ur,fieldType:L,item:pn,expandable:K,expandChildren:ot,selectable:Z,isDragDisabled:mr},He))),Er.placeholder)))});Tp.displayName="Dimension";var FE="";const qg="content",Yw=oe().memo(S=>{const T=S,{innerContentClassName:L,contentTitleText:G=(0,Ve.agQ)("\u884C\u5217\u5207\u6362"),resetText:Z=(0,Ve.agQ)("\u6062\u590D\u9ED8\u8BA4"),allowExchangeHeader:K=!0,onToggleVisible:ne,onSubmit:ae,sheetType:we}=T,De=Wn(T,["innerContentClassName","contentTitleText","resetText","allowExchangeHeader","onToggleVisible","onSubmit","sheetType"]),We=Mp(K),ke=c2(De),[He,ot]=oe().useState(ke),[zt,Cr]=oe().useState(null),mr=Un=>{Cr(Un.draggableId)},Er=({destination:Un,source:ii})=>{if(Cr(null),!Un||Un.droppableId===ii.droppableId&&Un.index===ii.index)return;const mi=Ww(He[ii.droppableId],He[Un.droppableId],ii,Un);ot(Fr(Fr({},He),mi))},Ir=()=>{ot(ke)},pn=()=>{ne(),ae==null||ae(d1(He))},Ur=(Un,ii,mi,Ia)=>{const ka=Gw(He[Un],ii,mi,Ia);ot(Rn(Fr({},He),{[Un]:ka}))},$n=Jy(ke,He),Cn=gb.filter(Un=>we!=="table"||Un===$l.Cols);return oe().createElement(jm,{onBeforeCapture:mr,onDragEnd:Er},oe().createElement("div",{className:Bl(L,wl(qg))},oe().createElement("header",{className:wl(qg,"header")},G),oe().createElement("main",{className:Bl(wl(qg,"main"),BE(we))},Cn.map(Un=>oe().createElement(Tp,Fr(Rn(Fr({},De[Un]),{key:Un,fieldType:Un,items:He[Un],crossRows:h1(we,Un),draggingItemId:zt,onVisibleItemChange:Ur}),We[Un])))),oe().createElement("footer",{className:wl(qg,"footer")},oe().createElement(ye.Button,{type:"text",icon:oe().createElement(ie.ReloadOutlined,null),className:wl(qg,"footer","reset-button"),disabled:$n,onClick:Ir},Z),oe().createElement("div",{className:wl(qg,"footer","actions")},oe().createElement(ye.Button,{className:"action-button",onClick:ne},(0,Ve.agQ)("\u53D6\u6D88")),oe().createElement(ye.Button,{className:"action-button",type:"primary",disabled:$n,onClick:pn},(0,Ve.agQ)("\u786E\u5B9A"))))))});Yw.displayName="SwitcherContent",Yw.defaultProps={sheetType:"pivot"};var JM="";const NE=S=>{var T=S,{title:L,popover:G,disabled:Z}=T,K=Wn(T,["title","popover","disabled"]);const[ne,ae]=(0,ut.useState)(!1),we=()=>{ae(De=>!De)};return oe().createElement(ye.Popover,Fr({visible:!Z&&ne,content:oe().createElement(Yw,Rn(Fr({},K),{onToggleVisible:we})),onVisibleChange:we,trigger:"click",placement:"bottomLeft",destroyTooltipOnHide:!0},G),(0,ut.isValidElement)(L)?L:oe().createElement(ye.Button,{className:wl("entry-button"),size:"small",disabled:Z,icon:oe().createElement(DM,null)},L||(0,Ve.agQ)("\u884C\u5217\u5207\u6362")))},qm=S=>{var T=S,{sheet:L,dataCfg:G,options:Z}=T,K=Wn(T,["sheet","dataCfg","options"]),ne;const[ae,we]=oe().useState(()=>{var We;return mb(L,G,(We=Z==null?void 0:Z.interaction)==null?void 0:We.hiddenColumnFields)});np(()=>{var We;we(mb(L,G,(We=Z==null?void 0:Z.interaction)==null?void 0:We.hiddenColumnFields))},[L,G,(ne=Z==null?void 0:Z.interaction)==null?void 0:ne.hiddenColumnFields]);const De=We=>{var ke;const{fields:He,hiddenColumnFields:ot}=ap(L,We);L.setDataCfg({fields:Fr(Fr({},L.dataCfg.fields),He)}),ot&&L.setOptions({interaction:{hiddenColumnFields:ot}}),L.render(),we(yb(L,We,(ke=L.dataCfg)==null?void 0:ke.meta,ot))};return oe().createElement(NE,Fr(Fr({sheetType:Ux(L),onSubmit:De},K),ae))};var jw="";const Vw=oe().memo(S=>{var T=S,{className:L,title:G,width:Z,description:K,exportCfg:ne,advancedSortCfg:ae,switcherCfg:we,sheet:De,extra:We,dataCfg:ke,options:He}=T,ot=Wn(T,["className","title","width","description","exportCfg","advancedSortCfg","switcherCfg","sheet","extra","dataCfg","options"]);const zt="s2-header",Cr=()=>oe().createElement(oe().Fragment,null,We,we.open&&oe().createElement(qm,Fr({sheet:De,dataCfg:ke,options:He},we)),ae.open&&oe().createElement(PM,Fr({sheet:De},ae)),ne.open&&oe().createElement(kl,Fr({key:"export",sheet:De},ne)));return oe().createElement(ye.PageHeader,Fr({className:Bl(zt,L),style:{width:Z},ghost:!1,title:G,extra:Cr()},ot),K)});Vw.displayName="Header",Vw.defaultProps={exportCfg:{open:!1},advancedSortCfg:{open:!1},switcherCfg:{open:!1}};const Qm=`${Ve.vhY}-pagination`,f2=({pagination:S,onShowSizeChange:T,onChange:L})=>{if(Po(S))return null;const{total:G,pageSize:Z}=S,K=G/Z>5;return oe().createElement("div",{className:Qm},oe().createElement(ye.Pagination,Rn(Fr({size:"small",defaultCurrent:1,showSizeChanger:!0,showQuickJumper:K},S),{onShowSizeChange:T,onChange:L})),oe().createElement("span",{className:`${Qm}-count`,title:`${(0,Ve.agQ)("\u5171\u8BA1")}${G}${(0,Ve.agQ)("\u6761")}`},(0,Ve.agQ)("\u5171\u8BA1"),G||" - ",(0,Ve.agQ)("\u6761")))};f2.displayName="S2Pagination";var eT="";const Op=oe().forwardRef((S,T)=>{const{dataCfg:L,options:G,header:Z}=S,{s2Ref:K,loading:ne,containerRef:ae,pagination:we,wrapperRef:De}=hb(S),[We,ke]=(0,ut.useState)(K.current);return(0,ut.useEffect)(()=>{T&&(T.current=K.current)},[T,K]),(0,ut.useEffect)(()=>ke(K.current),[K.current]),oe().createElement(oe().StrictMode,null,oe().createElement(gs.Provider,{value:We},oe().createElement(ye.Spin,{spinning:ne,wrapperClassName:`${Ve.vhY}-spin`},oe().createElement("div",{ref:De,className:`${Ve.vhY}-wrapper`},Z&&oe().createElement(Vw,Rn(Fr({},Z),{sheet:K.current,width:G.width,dataCfg:(0,Ve.Unm)(L),options:sC(G)})),oe().createElement("div",{ref:ae,className:`${Ve.vhY}-container`}),we.showPagination&&oe().createElement(f2,{pagination:we.pagination,onChange:we.onChange,onShowSizeChange:we.onShowSizeChange}),S.children))))});Op.displayName="BaseSheet",Op.defaultProps={options:{},adaptive:!1,showPagination:!1};const v1=oe().memo(S=>{const T=oe().useRef();return oe().createElement(Op,Rn(Fr({},S),{ref:T}))});v1.displayName="TableSheet";class Qg extends Ve.f4X{drawTextShape(){dn(this.getMeta().fieldValue)?(0,Ve.qPk)(this):super.drawTextShape()}}const Jm=S=>new Qg(S,S.spreadsheet),Jg=12,h2={dataCell:{text:{fontSize:Jg,fontFamily:Ve.utx,fill:"rgba(0, 0, 0, 0.85)",fontWeight:"normal",textBaseline:"middle",textAlign:"left"},minorText:{fontSize:11,fontFamily:Ve.utx,fill:"rgba(0, 0, 0, 0.45)",fontWeight:"normal",textBaseline:"middle",textAlign:"left"},derivedMeasureText:{mainUp:"#F46649",mainDown:"#2AA491",minorUp:"#f9ae9e",minorDown:"#a9dad2"},bolderText:{fontSize:Jg,fontFamily:Ve.utx,fill:"rgba(0, 0, 0, 1)",fontWeight:(0,Ve.EDF)()?"bold":520,textBaseline:"middle",textAlign:"left"}}},p1=oe().memo(S=>{const T=S,{options:L,themeCfg:G}=T,Z=Wn(T,["options","themeCfg"]),K=oe().useRef(),ne=oe().useMemo(()=>(0,Ve._Ge)(L,{dataCell:Jm,showDefaultHeaderActionIcon:!1,style:{colCfg:{hideMeasureColumn:!0}}}),[L]),ae=oe().useMemo(()=>(0,Ve._Ge)({},G,{theme:h2}),[G]);return oe().createElement(Op,Fr({options:ne,themeCfg:ae,ref:K},Z))});p1.displayName="GridAnalysisSheet";class ey extends Ve.X0t{constructor(T,L,G){super(T,L,G)}drawTextShape(){const T=this.getMeta(),L=(0,Ve.D6R)(T==null?void 0:T.value);if(!ht(L))return super.drawTextShape();const{formattedValue:G}=this.getFormattedFieldValue(),Z=G!==(T==null?void 0:T.value)?[[G]]:[L];(0,Ve.qPk)(this,{values:Z},!1)}}class HE extends Ve.f4X{drawTextShape(){dn(this.getMeta().fieldValue)?(0,Ve.qPk)(this):super.drawTextShape()}}class ty extends Ve.O9R{processDataCfg(T){var L,G;T.fields.rows=[Ve.CoU],T.fields.valueInCols=!1;const Z=T,{data:K,meta:ne}=Z,ae=Wn(Z,["data","meta"]),we=[];Jd(K,He=>{let ot=!1;zl(He,(zt,Cr)=>{dn(zt)&&(we.push(Rn(Fr({},He),{[Ve.CoU]:Cr,[Ve.__x]:zt})),ot=!0)}),ot||we.push(He)});const De=((G=(L=this.spreadsheet)==null?void 0:L.options)==null?void 0:G.cornerExtraFieldText)||(0,Ve.agQ)("\u6570\u503C"),We={field:Ve.CoU,name:De},ke=[...ne,We];return Fr({data:th(we),meta:ke},ae)}}var Ap="";const g1=({cell:S,label:T})=>{const L=S.getMeta();if(L.isLeaf&&L.level!==0)return null;const G=L.spreadsheet.dataSet.getFieldName(L.field),Z=zi(T)?T(S,G):T,K=Z!=null?Z:G;return oe().createElement("div",{className:Bl(ze(),ze("col"))},oe().createElement("span",{className:ze("name")},K),oe().createElement("span",{className:ze("value")},L.value))},m1=S=>ul(S.spreadsheet.getColumnNodes(),{colIndex:S.colIndex,isLeaf:!0}),wv=S=>{const T=ul(S.spreadsheet.getRowNodes(),{rowIndex:S.rowIndex});return S.spreadsheet.dataSet.getFieldName((T==null?void 0:T.valueFiled)||(T==null?void 0:T.value))},_h=S=>{var T;const L=ul(S.spreadsheet.getRowNodes(),{rowIndex:S.rowIndex});return S.spreadsheet.dataSet.getFieldDescription(L==null?void 0:L.field)||((T=L==null?void 0:L.extra)==null?void 0:T.description)},e0=({cell:S,label:T,showOriginalValue:L,renderDerivedValue:G})=>{var Z;const K=S.getMeta(),ne=K==null?void 0:K.fieldValue,ae=_h(K),we=wv(K),De=zi(T)?T(S,we):T,We=De!=null?De:we,ke=m1(K),[,...He]=oe().useMemo(()=>{try{return JSON.parse(ke==null?void 0:ke.value)}catch(Cn){return[]}},[ke==null?void 0:ke.value]),{placeholder:ot,style:zt}=K.spreadsheet.options,Cr=(Z=zt.cellCfg)==null?void 0:Z.valuesCfg,[mr,...Er]=s_(ne==null?void 0:ne.values)||[ne],[Ir,...pn]=s_(Nd(ne,Cr==null?void 0:Cr.originalValueField))||[mr],Ur=(0,Ve.o3g)(K,ot),$n=(Cr==null?void 0:Cr.showOriginalValue)||L;return oe().createElement("div",{className:Bl(ze(),ze("data"))},oe().createElement("div",{className:ze("header")},oe().createElement("span",{className:"header-label"},We),oe().createElement("span",null,mr!=null?mr:Ur)),$n&&oe().createElement("div",{className:ze("original-value")},Jh(Ir)?Ur:Ir),!Po(Er)&&oe().createElement(oe().Fragment,null,oe().createElement("div",{className:ze("divider")}),oe().createElement("ul",{className:ze("derived-values")},Er.map((Cn,Un)=>{var ii;const mi=Jh(Cn)||Cn==="",Ia=(0,Ve.Pyr)(Cn),ka=!mi&&!Ia,Vl=pn[Un];return oe().createElement("li",{className:"derived-value-item",key:Un},oe().createElement("span",{className:"derived-value-label"},He[Un]),oe().createElement("span",{className:Bl("derived-value-group",{"derived-value-trend-up":Ia,"derived-value-trend-down":ka})},!mi&&oe().createElement("span",{className:"derived-value-trend-icon"}),(ii=G==null?void 0:G(Cn,Vl,S))!=null?ii:oe().createElement("span",{className:"derived-value-content"},Cn!=null?Cn:Ur)))}))),ae&&oe().createElement("div",{className:ze("description")},(0,Ve.agQ)("\u8BF4\u660E"),": ",ae))};e0.defaultProps={showOriginalValue:!1};const y1=({cell:S,label:T})=>{const{field:L,spreadsheet:G,value:Z,extra:K}=S.getMeta(),ne=zi(T)?T(S,Z):T,ae=ne!=null?ne:Z,we=G.dataSet.getFieldDescription(L)||(K==null?void 0:K.description);return oe().createElement("div",{className:Bl(ze(),ze("row"))},oe().createElement("div",{className:ze("value")},ae),we&&oe().createElement("div",{className:ze("description")},(0,Ve.agQ)("\u8BF4\u660E"),": ",we))},Ip=oe().memo(S=>{const T=S,{options:L,themeCfg:G,dataCfg:Z}=T,K=Wn(T,["options","themeCfg","dataCfg"]),ne=oe().useRef(),ae=oe().useMemo(()=>{var We,ke,He;if(Po(Z))return{};let ot=!1,zt="tree";Po((We=Z==null?void 0:Z.fields)==null?void 0:We.rows)&&!Po((ke=Z==null?void 0:Z.fields)==null?void 0:ke.customTreeItems)&&(zt="customTree"),rv((He=Z==null?void 0:Z.fields)==null?void 0:He.values)===1&&L.hierarchyType!=="customTree"&&(ot=!0);const Cr=mr=>(Er,Ir)=>{var pn,Ur,$n,Cn;const Un=(Cn=(Ur=(pn=L.tooltip)==null?void 0:pn[mr])==null?void 0:Ur.content)!=null?Cn:($n=L.tooltip)==null?void 0:$n.content;return zi(Un)?Un==null?void 0:Un(Er,Ir):Un};return{dataCell:mr=>new HE(mr,mr.spreadsheet),colCell:(mr,Er,Ir)=>new ey(mr,Er,Ir),dataSet:mr=>new ty(mr),showDefaultHeaderActionIcon:!1,hierarchyType:zt,style:{colCfg:{hideMeasureColumn:ot}},interaction:{autoResetSheetStyle:!0,brushSelection:!1,selectedCellMove:!1,multiSelection:!1,rangeSelection:!1},tooltip:{operation:{hiddenColumns:!0},row:{content:(mr,Er)=>{var Ir;return(Ir=Cr("row")(mr,Er))!=null?Ir:oe().createElement(y1,{cell:mr})}},col:{content:(mr,Er)=>{var Ir;return(Ir=Cr("row")(mr,Er))!=null?Ir:oe().createElement(g1,{cell:mr})}},data:{content:(mr,Er)=>{const pn=mr.getMeta().fieldValue,Ur=Cr("data")(mr,Er);return Jh(Ur)?ht(pn==null?void 0:pn.values)?oe().createElement(e0,{cell:mr}):oe().createElement(oe().Fragment,null):Ur}}}}},[Z,L.hierarchyType,L.tooltip]),we=oe().useMemo(()=>{var We;const ke={fields:{valueInCols:rv((We=Z==null?void 0:Z.fields)==null?void 0:We.values)<=1}};return(0,Ve._Ge)(Z,ke)},[Z]),De=oe().useMemo(()=>(0,Ve._Ge)(L,ae),[L,ae]);return oe().createElement(Op,Fr({options:De,themeCfg:G,dataCfg:we,ref:ne},K))});Ip.displayName="StrategySheet";var zE="";const ry=S=>{var T=S,{className:L,titleText:G=(0,Ve.agQ)("\u9009\u62E9\u4E0B\u94BB\u7EF4\u5EA6"),clearButtonText:Z=(0,Ve.agQ)("\u6062\u590D\u9ED8\u8BA4"),searchText:K=(0,Ve.agQ)("\u641C\u7D22\u5B57\u6BB5"),extra:ne,drillFields:ae,dataSet:we,disabledFields:De,getDrillFields:We,setDrillFields:ke}=T,He=Wn(T,["className","titleText","clearButtonText","searchText","extra","drillFields","dataSet","disabledFields","getDrillFields","setDrillFields"]);const ot={text:oe().createElement(vb,null),location:oe().createElement(Nn,null),date:oe().createElement(v_,null)},zt=()=>we.map(Ur=>(Ur.disabled=!!(De&&De.includes(Ur.value)),Ur)),[Cr,mr]=(0,ut.useState)(zt()),Er=Ur=>{const{value:$n}=Ur.target;if(!$n)mr([...we]);else{const Cn=new RegExp($n,"gi"),Un=we.filter(ii=>Cn.test(ii.name));mr([...Un])}},Ir=Ur=>{const $n=Ur==null?void 0:Ur.selectedKeys;We&&We([...$n]),ke&&ke([...$n])},pn=Ur=>{Ur.stopPropagation(),We&&We([]),ke&&ke([])};return(0,ut.useEffect)(()=>{mr(zt())},[De]),oe().createElement(ye.ConfigProvider,null,oe().createElement("div",Fr({className:Bl(Ae,L)},He),oe().createElement("header",{className:`${Ae}-header`},oe().createElement("div",null,G),oe().createElement(ye.Button,{type:"link",disabled:Po(ae),onClick:pn},Z)),oe().createElement(ye.Input,{className:`${Ae}-search`,placeholder:K,onChange:Er,onPressEnter:Er,prefix:oe().createElement(Y0,null),allowClear:!0}),Po(Cr)&&oe().createElement(ye.Empty,{imageStyle:{height:"64px"},className:`${Ae}-empty`}),ne,oe().createElement(ye.Menu,{className:`${Ae}-menu`,selectedKeys:ae,onSelect:Ir},Cr.map(Ur=>oe().createElement(ye.Menu.Item,{key:Ur.value,disabled:Ur.disabled,className:`${Ae}-menu-item`,icon:Ur.icon?Ur.icon:ot[Ur.type]},Ur.name)))))},Xw=["drillConfig","displayCondition","drillItemsNum"],tf=S=>{const T=oe().useRef(S),L=Xw.map(G=>S==null?void 0:S[G]);return oe().useCallback(G=>{const Z=T.current,K=!!Xw.find(ne=>!Object.is(S==null?void 0:S[ne],Z==null?void 0:Z[ne]));return T.current=S,{reloadData:K||G.reloadData,reBuildDataSet:G.reBuildDataSet}},L)};function WE(S,T,L,G,Z){if(G){const He=document.querySelector(`#${G}`);if(He&&cr.unmountComponentAtNode(He)&&He.parentNode){He.parentNode.removeChild(He);return}}const K=document.createElement("div");G&&(K.id=G),document.body.appendChild(K);let ne,ae;function we(...He){cr.unmountComponentAtNode(K)&&K.parentNode&&(K.parentNode.removeChild(K),Z&&Z())}function De(...He){we.call(null,...He),ae()}const We=new Promise((He,ot)=>{ne=He,ae=ot}).then(He=>(De(),He));function ke(){setTimeout(()=>{cr.render(ut.createElement(gs.Provider,{value:L},ut.createElement(S,{onCancel:De,resolver:ne,params:T})),K)})}return ke(),We}var d2="";function da(S){const{params:T,resolver:L}=S,G=ca(),{event:Z,onChange:K,CustomComponent:ne}=T,ae=Z.target.cfg.parent,{left:we,top:De,width:We,height:ke}=(0,ut.useMemo)(()=>{const ii=(G==null?void 0:G.container.cfg.container).getBoundingClientRect();return{left:window.scrollX+ii.left,top:window.scrollY+ii.top,width:ii.width,height:ii.height}},[G==null?void 0:G.container.cfg.container]),{x:He,y:ot,width:zt,height:Cr}=(0,ut.useMemo)(()=>{const ii=G.facet.getScrollOffset(),mi=ep(ae.getMeta(),["x","y","width","height"]);return mi.x-=ii.scrollX||0,mi.y-=(ii.scrollY||0)-(G.getColumnNodes()[0]||{height:0}).height,mi},[ae,G]),[mr,Er]=(0,ut.useState)(ae.getMeta().fieldValue),Ir=(0,ut.useRef)(null),pn=(0,ut.useRef)(null);(0,ut.useEffect)(()=>{setTimeout(()=>{pn.current&&pn.current.click(),Ir.current&&Ir.current.focus()})},[]);const Ur=()=>{const{rowIndex:ii,valueField:mi}=ae.getMeta();G.dataSet.originData[ii][mi]=mr,G.render(!0),K&&K(G.dataSet.originData),L(!0)},$n=ii=>{ii.keyCode===13&&(ii.preventDefault(),Ur())},Cn=oe().useMemo(()=>({left:He,top:ot,width:zt,height:Cr,zIndex:1e3}),[]),Un=ii=>{Er(ii)};return oe().createElement("div",{ref:pn,style:{zIndex:500,position:"absolute",overflow:"hidden",left:we,top:De,width:We,height:ke}},ne?oe().createElement(ne,{cell:ae,spreadsheet:G,value:mr,style:Cn,onChange:Un,onSave:Ur}):oe().createElement(ye.Input.TextArea,{required:!0,style:Cn,className:"s2-edit-cell",value:mr,ref:Ir,onChange:ii=>{Er(ii.target.value)},onBlur:Ur,onKeyDown:$n}))}function v2({onChange:S,CustomComponent:T}){const L=ca(),G=(0,ut.useCallback)(Z=>{WE(da,{event:Z,onChange:S,CustomComponent:T},L)},[L]);return sa(Ve.ch4.DATA_CELL_DOUBLE_CLICK,G,L),null}const Zw=oe().memo(S=>oe().createElement(Op,Rn(Fr({},S),{sheetType:"table"}),oe().createElement(v2,{onChange:()=>{}})));Zw.displayName="EditableSheet";const Kw=oe().memo(S=>{const T=S,{options:L}=T,G=Wn(T,["options"]),{dataCfg:Z,partDrillDown:K}=G,ne=oe().useRef(),[ae,we]=oe().useState([]),De=Cg(({sheetInstance:ot,cacheDrillFields:zt,disabledFields:Cr,event:mr})=>{const Er=oe().createElement(ry,Rn(Fr({},K==null?void 0:K.drillConfig),{setDrillFields:we,drillFields:zt,disabledFields:Cr}));if(mr){const{showTooltip:Ir}=(0,Ve.Hu7)(ot,mr);if(!Ir)return;ot.showTooltip({position:{x:mr.clientX,y:mr.clientY},content:Er})}}),We=oe().useMemo(()=>Bo(L,K,ot=>De.current(ot)),[L,K,De]),ke=ot=>{var zt;(zt=ne.current)==null||zt.clearDrillDownData(ot)};oe().useEffect(()=>{var ot,zt;(ot=ne.current)==null||ot.hideTooltip(),Po(ae)?ke((zt=ne.current.store.get("drillDownNode"))==null?void 0:zt.id):ub({rows:Z.fields.rows,drillFields:ae,fetchData:K==null?void 0:K.fetchData,drillItemsNum:K==null?void 0:K.drillItemsNum,spreadsheet:ne.current})},[ae]),oe().useEffect(()=>{var ot;dn(K==null?void 0:K.clearDrillDown)&&ke((ot=K==null?void 0:K.clearDrillDown)==null?void 0:ot.rowId)},[K==null?void 0:K.clearDrillDown]);const He=tf(K);return oe().createElement(Op,Rn(Fr({},G),{options:We,onSheetUpdate:He,ref:ne}))});Kw.displayName="PivotSheet";const GE=oe().forwardRef((S,T)=>{const{sheetType:L}=S,G=oe().useMemo(()=>Rn(Fr({},S),{getSpreadSheet:ne=>{var ae;T&&(T.current=ne),(ae=S.getSpreadSheet)==null||ae.call(S,ne)}}),[S,T]),Z=oe().useMemo(()=>{switch(L){case"table":return oe().createElement(v1,Fr({},G));case"gridAnalysis":return oe().createElement(p1,Fr({},G));case"strategy":return oe().createElement(Ip,Fr({},G));case"editable":return oe().createElement(Zw,Fr({},G));default:return oe().createElement(Kw,Fr({},G))}},[L,G]),K=(0,Ve.VQD)()==="zh_CN"?Ft.Z:er;return oe().createElement(oe().StrictMode,null,oe().createElement(ye.ConfigProvider,{locale:K},Z))}),$E=oe().memo(GE);$E.displayName="SheetComponent"},76311:function(ai,Sn,tt){"use strict";tt.d(Sn,{AfN:function(){return B1},CoU:function(){return ra},Czd:function(){return An},D6R:function(){return RR},DUx:function(){return jR},DYf:function(){return $i},EDF:function(){return FT},F1h:function(){return s4},HZt:function(){return hF},Hu7:function(){return y6},IYT:function(){return W2},IZo:function(){return d5},JVc:function(){return tP},KQ4:function(){return mA},LRf:function(){return Q8},Lau:function(){return G0},Lov:function(){return TM},N6r:function(){return hD},NO_:function(){return ZO},NqB:function(){return ep},O6N:function(){return Zh},O9R:function(){return y5},Pyr:function(){return m8},SBE:function(){return Jh},TA7:function(){return cF},TVL:function(){return W8},Teh:function(){return B0},UhE:function(){return YR},Unm:function(){return s6},VQD:function(){return wM},WNh:function(){return rv},Wb9:function(){return r6},WkZ:function(){return jP},X0t:function(){return bA},XPl:function(){return sP},Xzc:function(){return mg},_61:function(){return bi},_Ge:function(){return k1},__x:function(){return cu},aPw:function(){return wP},agQ:function(){return rs},c8d:function(){return u4},ch4:function(){return Ar},d5G:function(){return _k},esq:function(){return wA},f4X:function(){return vx},gO9:function(){return Od},hYO:function(){return QI},lZf:function(){return R5},lbT:function(){return Md},o0q:function(){return WT},o3g:function(){return OM},q5g:function(){return xR},q7_:function(){return $L},qPk:function(){return fP},utx:function(){return Ga},vQq:function(){return SP},vhY:function(){return ed}}),ai=tt.hmd(ai);var Ve=tt(27061),ye=Object.freeze({__proto__:null,get Base(){return pc},get Circle(){return R0},get Ellipse(){return Rs},get Image(){return Di},get Line(){return Q2},get Marker(){return Vv},get Path(){return Xv},get Polygon(){return Xy},get Polyline(){return Ox},get Rect(){return J1},get Text(){return i_}});var ut=function(l,s){return ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,u){i.__proto__=u}||function(i,u){for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(i[g]=u[g])},ut(l,s)};function oe(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");ut(l,s);function i(){this.constructor=l}l.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}var cr=function(){return cr=Object.assign||function(s){for(var i,u=1,g=arguments.length;u<g;u++){i=arguments[u];for(var C in i)Object.prototype.hasOwnProperty.call(i,C)&&(s[C]=i[C])}return s},cr.apply(this,arguments)};function re(l,s){var i={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&s.indexOf(u)<0&&(i[u]=l[u]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,u=Object.getOwnPropertySymbols(l);g<u.length;g++)s.indexOf(u[g])<0&&Object.prototype.propertyIsEnumerable.call(l,u[g])&&(i[u[g]]=l[u[g]]);return i}var ie=function(l){return l!==null&&typeof l!="function"&&isFinite(l.length)},Ft={}.toString,Dt=function(l,s){return Ft.call(l)==="[object "+s+"]"},or=function(l){return Dt(l,"Function")},kt=function(l){return l==null},Mt=function(l){return Array.isArray?Array.isArray(l):Dt(l,"Array")},U=function(l){var s=typeof l;return l!==null&&s==="object"||s==="function"};function D(l,s){if(l){var i;if(Mt(l))for(var u=0,g=l.length;u<g&&(i=s(l[u],u),i!==!1);u++);else if(U(l)){for(var C in l)if(l.hasOwnProperty(C)&&(i=s(l[C],C),i===!1))break}}}var Pt=function(l){return typeof l=="object"&&l!==null},lt=function(l){if(Mt(l))return l.reduce(function(s,i){return Math.max(s,i)},l[0])},Gt=function(l){if(Mt(l))return l.reduce(function(s,i){return Math.min(s,i)},l[0])},lr=function(l){return Dt(l,"String")},tr=function(l){return Dt(l,"Number")},xt=1e-5;function gt(l,s,i){return i===void 0&&(i=xt),Math.abs(l-s)<i}var er=function(l,s){return(l%s+s)%s},Lt=Math.PI/180,Nt=function(l){return Lt*l},Tr=Object.values?function(l){return Object.values(l)}:function(l){var s=[];return D(l,function(i,u){or(l)&&u==="prototype"||s.push(i)}),s},vr=function(l){return kt(l)?"":l.toString()},Yr=function(l){var s=vr(l);return s.charAt(0).toUpperCase()+s.substring(1)};function mn(l){var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(i){return setTimeout(i,16)};return s(l)}function Mn(l){var s=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;s(l)}function Fr(l,s){for(var i in s)s.hasOwnProperty(i)&&i!=="constructor"&&s[i]!==void 0&&(l[i]=s[i])}function Rn(l,s,i,u){return s&&Fr(l,s),i&&Fr(l,i),u&&Fr(l,u),l}var Wn=function(l,s){if(!or(l))throw new TypeError("Expected a function");var i=function(){for(var u=[],g=0;g<arguments.length;g++)u[g]=arguments[g];var C=s?s.apply(this,u):u[0],x=i.cache;if(x.has(C))return x.get(C);var E=l.apply(this,u);return x.set(C,E),E};return i.cache=new Map,i},Ge=function(l,s){if(l===s)return!0;if(!l||!s||lr(l)||lr(s))return!1;if(ie(l)||ie(s)){if(l.length!==s.length)return!1;for(var i=!0,u=0;u<l.length&&(i=Ge(l[u],s[u]),!!i);u++);return i}if(Pt(l)||Pt(s)){var g=Object.keys(l),C=Object.keys(s);if(g.length!==C.length)return!1;for(var i=!0,u=0;u<g.length&&(i=Ge(l[g[u]],s[g[u]]),!!i);u++);return i}return!1},Et={},Rr=function(l){return l=l||"g",Et[l]?Et[l]+=1:Et[l]=1,l+Et[l]},un=function(){};function yn(){for(var l=0,s=0,i=arguments.length;s<i;s++)l+=arguments[s].length;for(var u=Array(l),g=0,s=0;s<i;s++)for(var C=arguments[s],x=0,E=C.length;x<E;x++,g++)u[g]=C[x];return u}var Vt;Wn(function(l,s){s===void 0&&(s={});var i=s.fontSize,u=s.fontFamily,g=s.fontWeight,C=s.fontStyle,x=s.fontVariant;return Vt||(Vt=document.createElement("canvas").getContext("2d")),Vt.font=[C,x,g,i+"px",u].join(" "),Vt.measureText(lr(l)?l:"").width},function(l,s){return s===void 0&&(s={}),yn([l],Tr(s)).join("")});var Ce=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,be=new RegExp("([a-z])["+Ce+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Ce+"]*,?["+Ce+"]*)+)","ig"),Ae=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Ce+"]*,?["+Ce+"]*","ig"),_e=function(l){if(!l)return null;if(Mt(l))return l;var s={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return String(l).replace(be,function(u,g,C){var x=[],E=g.toLowerCase();if(C.replace(Ae,function(O,R){R&&x.push(+R)}),E==="m"&&x.length>2&&(i.push([g].concat(x.splice(0,2))),E="l",g=g==="m"?"l":"L"),E==="o"&&x.length===1&&i.push([g,x[0]]),E==="r")i.push([g].concat(x));else for(;x.length>=s[E]&&(i.push([g].concat(x.splice(0,s[E]))),!!s[E]););return l}),i},ze=function(l,s){for(var i=[],u=0,g=l.length;g-2*!s>u;u+=2){var C=[{x:+l[u-2],y:+l[u-1]},{x:+l[u],y:+l[u+1]},{x:+l[u+2],y:+l[u+3]},{x:+l[u+4],y:+l[u+5]}];s?u?g-4===u?C[3]={x:+l[0],y:+l[1]}:g-2===u&&(C[2]={x:+l[0],y:+l[1]},C[3]={x:+l[2],y:+l[3]}):C[0]={x:+l[g-2],y:+l[g-1]}:g-4===u?C[3]=C[2]:u||(C[0]={x:+l[u],y:+l[u+1]}),i.push(["C",(-C[0].x+6*C[1].x+C[2].x)/6,(-C[0].y+6*C[1].y+C[2].y)/6,(C[1].x+6*C[2].x-C[3].x)/6,(C[1].y+6*C[2].y-C[3].y)/6,C[2].x,C[2].y])}return i},Bt=function(l,s,i,u,g){var C=[];if(g===null&&u===null&&(u=i),l=+l,s=+s,i=+i,u=+u,g!==null){var x=Math.PI/180,E=l+i*Math.cos(-u*x),O=l+i*Math.cos(-g*x),R=s+i*Math.sin(-u*x),k=s+i*Math.sin(-g*x);C=[["M",E,R],["A",i,i,0,+(g-u>180),0,O,k]]}else C=[["M",l,s],["m",0,-u],["a",i,u,0,1,1,0,2*u],["a",i,u,0,1,1,0,-2*u],["z"]];return C},at=function(l){if(l=_e(l),!l||!l.length)return[["M",0,0]];var s=[],i=0,u=0,g=0,C=0,x=0,E,O;l[0][0]==="M"&&(i=+l[0][1],u=+l[0][2],g=i,C=u,x++,s[0]=["M",i,u]);for(var R=l.length===3&&l[0][0]==="M"&&l[1][0].toUpperCase()==="R"&&l[2][0].toUpperCase()==="Z",k=void 0,z=void 0,j=x,q=l.length;j<q;j++){if(s.push(k=[]),z=l[j],E=z[0],E!==E.toUpperCase())switch(k[0]=E.toUpperCase(),k[0]){case"A":k[1]=z[1],k[2]=z[2],k[3]=z[3],k[4]=z[4],k[5]=z[5],k[6]=+z[6]+i,k[7]=+z[7]+u;break;case"V":k[1]=+z[1]+u;break;case"H":k[1]=+z[1]+i;break;case"R":O=[i,u].concat(z.slice(1));for(var ee=2,le=O.length;ee<le;ee++)O[ee]=+O[ee]+i,O[++ee]=+O[ee]+u;s.pop(),s=s.concat(ze(O,R));break;case"O":s.pop(),O=Bt(i,u,z[1],z[2]),O.push(O[0]),s=s.concat(O);break;case"U":s.pop(),s=s.concat(Bt(i,u,z[1],z[2],z[3])),k=["U"].concat(s[s.length-1].slice(-2));break;case"M":g=+z[1]+i,C=+z[2]+u;break;default:for(var ee=1,le=z.length;ee<le;ee++)k[ee]=+z[ee]+(ee%2?i:u)}else if(E==="R")O=[i,u].concat(z.slice(1)),s.pop(),s=s.concat(ze(O,R)),k=["R"].concat(z.slice(-2));else if(E==="O")s.pop(),O=Bt(i,u,z[1],z[2]),O.push(O[0]),s=s.concat(O);else if(E==="U")s.pop(),s=s.concat(Bt(i,u,z[1],z[2],z[3])),k=["U"].concat(s[s.length-1].slice(-2));else for(var me=0,Oe=z.length;me<Oe;me++)k[me]=z[me];if(E=E.toUpperCase(),E!=="O")switch(k[0]){case"Z":i=+g,u=+C;break;case"H":i=k[1];break;case"V":u=k[1];break;case"M":g=k[k.length-2],C=k[k.length-1];break;default:i=k[k.length-2],u=k[k.length-1]}}return s},wt=function(l,s,i,u){return[l,s,i,u,i,u]},fe=function(l,s,i,u,g,C){var x=.3333333333333333,E=2/3;return[x*l+E*i,x*s+E*u,x*g+E*i,x*C+E*u,g,C]},st=function(l,s,i,u,g,C,x,E,O,R){i===u&&(i+=1);var k=Math.PI*120/180,z=Math.PI/180*(+g||0),j=[],q,ee,le,me,Oe,$e=function(Lh,Dv,oc){var Fp=Lh*Math.cos(oc)-Dv*Math.sin(oc),_A=Lh*Math.sin(oc)+Dv*Math.cos(oc);return{x:Fp,y:_A}};if(R)ee=R[0],le=R[1],me=R[2],Oe=R[3];else{q=$e(l,s,-z),l=q.x,s=q.y,q=$e(E,O,-z),E=q.x,O=q.y,l===E&&s===O&&(E+=1,O+=1);var Ye=(l-E)/2,Ze=(s-O)/2,Ut=Ye*Ye/(i*i)+Ze*Ze/(u*u);Ut>1&&(Ut=Math.sqrt(Ut),i=Ut*i,u=Ut*u);var gr=i*i,br=u*u,Zr=(C===x?-1:1)*Math.sqrt(Math.abs((gr*br-gr*Ze*Ze-br*Ye*Ye)/(gr*Ze*Ze+br*Ye*Ye)));me=Zr*i*Ze/u+(l+E)/2,Oe=Zr*-u*Ye/i+(s+O)/2,ee=Math.asin(((s-Oe)/u).toFixed(9)),le=Math.asin(((O-Oe)/u).toFixed(9)),ee=l<me?Math.PI-ee:ee,le=E<me?Math.PI-le:le,ee<0&&(ee=Math.PI*2+ee),le<0&&(le=Math.PI*2+le),x&&ee>le&&(ee=ee-Math.PI*2),!x&&le>ee&&(le=le-Math.PI*2)}var gn=le-ee;if(Math.abs(gn)>k){var Kn=le,In=E,Xn=O;le=ee+k*(x&&le>ee?1:-1),E=me+i*Math.cos(le),O=Oe+u*Math.sin(le),j=st(E,O,i,u,g,0,x,In,Xn,[le,Kn,me,Oe])}gn=le-ee;var gi=Math.cos(ee),Pi=Math.sin(ee),Dn=Math.cos(le),Jn=Math.sin(le),So=Math.tan(gn/4),no=4/3*i*So,zo=4/3*u*So,aa=[l,s],Wo=[l+no*Pi,s-zo*gi],Ka=[E+no*Jn,O-zo*Dn],Mu=[E,O];if(Wo[0]=2*aa[0]-Wo[0],Wo[1]=2*aa[1]-Wo[1],R)return[Wo,Ka,Mu].concat(j);j=[Wo,Ka,Mu].concat(j).join().split(",");for(var ns=[],Ro=0,Tl=j.length;Ro<Tl;Ro++)ns[Ro]=Ro%2?$e(j[Ro-1],j[Ro],z).y:$e(j[Ro],j[Ro+1],z).x;return ns},Tt=function(l,s){var i=at(l),u=s&&at(s),g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},C={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},x=[],E=[],O="",R="",k,z=function(Ye,Ze,Ut){var gr,br;if(!Ye)return["C",Ze.x,Ze.y,Ze.x,Ze.y,Ze.x,Ze.y];switch(!(Ye[0]in{T:1,Q:1})&&(Ze.qx=Ze.qy=null),Ye[0]){case"M":Ze.X=Ye[1],Ze.Y=Ye[2];break;case"A":Ye=["C"].concat(st.apply(0,[Ze.x,Ze.y].concat(Ye.slice(1))));break;case"S":Ut==="C"||Ut==="S"?(gr=Ze.x*2-Ze.bx,br=Ze.y*2-Ze.by):(gr=Ze.x,br=Ze.y),Ye=["C",gr,br].concat(Ye.slice(1));break;case"T":Ut==="Q"||Ut==="T"?(Ze.qx=Ze.x*2-Ze.qx,Ze.qy=Ze.y*2-Ze.qy):(Ze.qx=Ze.x,Ze.qy=Ze.y),Ye=["C"].concat(fe(Ze.x,Ze.y,Ze.qx,Ze.qy,Ye[1],Ye[2]));break;case"Q":Ze.qx=Ye[1],Ze.qy=Ye[2],Ye=["C"].concat(fe(Ze.x,Ze.y,Ye[1],Ye[2],Ye[3],Ye[4]));break;case"L":Ye=["C"].concat(wt(Ze.x,Ze.y,Ye[1],Ye[2]));break;case"H":Ye=["C"].concat(wt(Ze.x,Ze.y,Ye[1],Ze.y));break;case"V":Ye=["C"].concat(wt(Ze.x,Ze.y,Ze.x,Ye[1]));break;case"Z":Ye=["C"].concat(wt(Ze.x,Ze.y,Ze.X,Ze.Y));break}return Ye},j=function(Ye,Ze){if(Ye[Ze].length>7){Ye[Ze].shift();for(var Ut=Ye[Ze];Ut.length;)x[Ze]="A",u&&(E[Ze]="A"),Ye.splice(Ze++,0,["C"].concat(Ut.splice(0,6)));Ye.splice(Ze,1),k=Math.max(i.length,u&&u.length||0)}},q=function(Ye,Ze,Ut,gr,br){Ye&&Ze&&Ye[br][0]==="M"&&Ze[br][0]!=="M"&&(Ze.splice(br,0,["M",gr.x,gr.y]),Ut.bx=0,Ut.by=0,Ut.x=Ye[br][1],Ut.y=Ye[br][2],k=Math.max(i.length,u&&u.length||0))};k=Math.max(i.length,u&&u.length||0);for(var ee=0;ee<k;ee++){i[ee]&&(O=i[ee][0]),O!=="C"&&(x[ee]=O,ee&&(R=x[ee-1])),i[ee]=z(i[ee],g,R),x[ee]!=="A"&&O==="C"&&(x[ee]="C"),j(i,ee),u&&(u[ee]&&(O=u[ee][0]),O!=="C"&&(E[ee]=O,ee&&(R=E[ee-1])),u[ee]=z(u[ee],C,R),E[ee]!=="A"&&O==="C"&&(E[ee]="C"),j(u,ee)),q(i,u,g,C,ee),q(u,i,C,g,ee);var le=i[ee],me=u&&u[ee],Oe=le.length,$e=u&&me.length;g.x=le[Oe-2],g.y=le[Oe-1],g.bx=parseFloat(le[Oe-4])||g.x,g.by=parseFloat(le[Oe-3])||g.y,C.bx=u&&(parseFloat(me[$e-4])||C.x),C.by=u&&(parseFloat(me[$e-3])||C.y),C.x=u&&me[$e-2],C.y=u&&me[$e-1]}return u?[i,u]:i},ir=/,?([a-z]),?/gi,bt=function(l){return l.join(",").replace(ir,"$1")},sr=function(l,s,i,u,g){var C=-3*s+9*i-9*u+3*g,x=l*C+6*s-12*i+6*u;return l*x-3*s+3*i},dr=function(l,s,i,u,g,C,x,E,O){O===null&&(O=1),O=O>1?1:O<0?0:O;for(var R=O/2,k=12,z=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],j=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],q=0,ee=0;ee<k;ee++){var le=R*z[ee]+R,me=sr(le,l,i,g,x),Oe=sr(le,s,u,C,E),$e=me*me+Oe*Oe;q+=j[ee]*Math.sqrt($e)}return R*q},Pr=function(l,s,i,u,g,C,x,E){for(var O=[],R=[[],[]],k,z,j,q,ee=0;ee<2;++ee){if(ee===0?(z=6*l-12*i+6*g,k=-3*l+9*i-9*g+3*x,j=3*i-3*l):(z=6*s-12*u+6*C,k=-3*s+9*u-9*C+3*E,j=3*u-3*s),Math.abs(k)<1e-12){if(Math.abs(z)<1e-12)continue;q=-j/z,q>0&&q<1&&O.push(q);continue}var le=z*z-4*j*k,me=Math.sqrt(le);if(!(le<0)){var Oe=(-z+me)/(2*k);Oe>0&&Oe<1&&O.push(Oe);var $e=(-z-me)/(2*k);$e>0&&$e<1&&O.push($e)}}for(var Ye=O.length,Ze=Ye,Ut;Ye--;)q=O[Ye],Ut=1-q,R[0][Ye]=Ut*Ut*Ut*l+3*Ut*Ut*q*i+3*Ut*q*q*g+q*q*q*x,R[1][Ye]=Ut*Ut*Ut*s+3*Ut*Ut*q*u+3*Ut*q*q*C+q*q*q*E;return R[0][Ze]=l,R[1][Ze]=s,R[0][Ze+1]=x,R[1][Ze+1]=E,R[0].length=R[1].length=Ze+2,{min:{x:Math.min.apply(0,R[0]),y:Math.min.apply(0,R[1])},max:{x:Math.max.apply(0,R[0]),y:Math.max.apply(0,R[1])}}},an=function(l,s,i,u,g,C,x,E){if(!(Math.max(l,i)<Math.min(g,x)||Math.min(l,i)>Math.max(g,x)||Math.max(s,u)<Math.min(C,E)||Math.min(s,u)>Math.max(C,E))){var O=(l*u-s*i)*(g-x)-(l-i)*(g*E-C*x),R=(l*u-s*i)*(C-E)-(s-u)*(g*E-C*x),k=(l-i)*(C-E)-(s-u)*(g-x);if(k){var z=O/k,j=R/k,q=+z.toFixed(2),ee=+j.toFixed(2);if(!(q<+Math.min(l,i).toFixed(2)||q>+Math.max(l,i).toFixed(2)||q<+Math.min(g,x).toFixed(2)||q>+Math.max(g,x).toFixed(2)||ee<+Math.min(s,u).toFixed(2)||ee>+Math.max(s,u).toFixed(2)||ee<+Math.min(C,E).toFixed(2)||ee>+Math.max(C,E).toFixed(2)))return{x:z,y:j}}}},fn=function(l,s,i){return s>=l.x&&s<=l.x+l.width&&i>=l.y&&i<=l.y+l.height},qn=function(l,s,i,u,g){if(g)return[["M",+l+ +g,s],["l",i-g*2,0],["a",g,g,0,0,1,g,g],["l",0,u-g*2],["a",g,g,0,0,1,-g,g],["l",g*2-i,0],["a",g,g,0,0,1,-g,-g],["l",0,g*2-u],["a",g,g,0,0,1,g,-g],["z"]];var C=[["M",l,s],["l",i,0],["l",0,u],["l",-i,0],["z"]];return C.parsePathArray=bt,C},cn=function(l,s,i,u){return l===null&&(l=s=i=u=0),s===null&&(s=l.y,i=l.width,u=l.height,l=l.x),{x:l,y:s,width:i,w:i,height:u,h:u,x2:l+i,y2:s+u,cx:l+i/2,cy:s+u/2,r1:Math.min(i,u)/2,r2:Math.max(i,u)/2,r0:Math.sqrt(i*i+u*u)/2,path:qn(l,s,i,u),vb:[l,s,i,u].join(" ")}},Kr=function(l,s){return l=cn(l),s=cn(s),fn(s,l.x,l.y)||fn(s,l.x2,l.y)||fn(s,l.x,l.y2)||fn(s,l.x2,l.y2)||fn(l,s.x,s.y)||fn(l,s.x2,s.y)||fn(l,s.x,s.y2)||fn(l,s.x2,s.y2)||(l.x<s.x2&&l.x>s.x||s.x<l.x2&&s.x>l.x)&&(l.y<s.y2&&l.y>s.y||s.y<l.y2&&s.y>l.y)},rt=function(l,s,i,u,g,C,x,E){Mt(l)||(l=[l,s,i,u,g,C,x,E]);var O=Pr.apply(null,l);return cn(O.min.x,O.min.y,O.max.x-O.min.x,O.max.y-O.min.y)},de=function(l,s,i,u,g,C,x,E,O){var R=1-O,k=Math.pow(R,3),z=Math.pow(R,2),j=O*O,q=j*O,ee=k*l+z*3*O*i+R*3*O*O*g+q*x,le=k*s+z*3*O*u+R*3*O*O*C+q*E,me=l+2*O*(i-l)+j*(g-2*i+l),Oe=s+2*O*(u-s)+j*(C-2*u+s),$e=i+2*O*(g-i)+j*(x-2*g+i),Ye=u+2*O*(C-u)+j*(E-2*C+u),Ze=R*l+O*i,Ut=R*s+O*u,gr=R*g+O*x,br=R*C+O*E,Zr=90-Math.atan2(me-$e,Oe-Ye)*180/Math.PI;return{x:ee,y:le,m:{x:me,y:Oe},n:{x:$e,y:Ye},start:{x:Ze,y:Ut},end:{x:gr,y:br},alpha:Zr}},ve=function(l,s,i){var u=rt(l),g=rt(s);if(!Kr(u,g))return i?0:[];for(var C=dr.apply(0,l),x=dr.apply(0,s),E=~~(C/8),O=~~(x/8),R=[],k=[],z={},j=i?0:[],q=0;q<E+1;q++){var ee=de.apply(0,l.concat(q/E));R.push({x:ee.x,y:ee.y,t:q/E})}for(var q=0;q<O+1;q++){var ee=de.apply(0,s.concat(q/O));k.push({x:ee.x,y:ee.y,t:q/O})}for(var q=0;q<E;q++)for(var le=0;le<O;le++){var me=R[q],Oe=R[q+1],$e=k[le],Ye=k[le+1],Ze=Math.abs(Oe.x-me.x)<.001?"y":"x",Ut=Math.abs(Ye.x-$e.x)<.001?"y":"x",gr=an(me.x,me.y,Oe.x,Oe.y,$e.x,$e.y,Ye.x,Ye.y);if(gr){if(z[gr.x.toFixed(4)]===gr.y.toFixed(4))continue;z[gr.x.toFixed(4)]=gr.y.toFixed(4);var br=me.t+Math.abs((gr[Ze]-me[Ze])/(Oe[Ze]-me[Ze]))*(Oe.t-me.t),Zr=$e.t+Math.abs((gr[Ut]-$e[Ut])/(Ye[Ut]-$e[Ut]))*(Ye.t-$e.t);br>=0&&br<=1&&Zr>=0&&Zr<=1&&(i?j+=1:j.push({x:gr.x,y:gr.y,t1:br,t2:Zr}))}}return j},ce=function(l,s,i){l=Tt(l),s=Tt(s);for(var u,g,C,x,E,O,R,k,z,j,q=i?0:[],ee=0,le=l.length;ee<le;ee++){var me=l[ee];if(me[0]==="M")u=E=me[1],g=O=me[2];else{me[0]==="C"?(z=[u,g].concat(me.slice(1)),u=z[6],g=z[7]):(z=[u,g,u,g,E,O,E,O],u=E,g=O);for(var Oe=0,$e=s.length;Oe<$e;Oe++){var Ye=s[Oe];if(Ye[0]==="M")C=R=Ye[1],x=k=Ye[2];else{Ye[0]==="C"?(j=[C,x].concat(Ye.slice(1)),C=j[6],x=j[7]):(j=[C,x,C,x,R,k,R,k],C=R,x=k);var Ze=ve(z,j,i);if(i)q+=Ze;else{for(var Ut=0,gr=Ze.length;Ut<gr;Ut++)Ze[Ut].segment1=ee,Ze[Ut].segment2=Oe,Ze[Ut].bez1=z,Ze[Ut].bez2=j;q=q.concat(Ze)}}}}}return q},xe=function(l,s){return ce(l,s)};function Ee(l,s){var i=[],u=[];function g(C,x){if(C.length===1)i.push(C[0]),u.push(C[0]);else{for(var E=[],O=0;O<C.length-1;O++)O===0&&i.push(C[0]),O===C.length-2&&u.push(C[O+1]),E[O]=[(1-x)*C[O][0]+x*C[O+1][0],(1-x)*C[O][1]+x*C[O+1][1]];g(E,x)}}return l.length&&g(l,s),{left:i,right:u.reverse()}}function Be(l,s,i){var u=[[l[1],l[2]]];i=i||2;var g=[];s[0]==="A"?(u.push(s[6]),u.push(s[7])):s[0]==="C"?(u.push([s[1],s[2]]),u.push([s[3],s[4]]),u.push([s[5],s[6]])):s[0]==="S"||s[0]==="Q"?(u.push([s[1],s[2]]),u.push([s[3],s[4]])):u.push([s[1],s[2]]);for(var C=u,x=1/i,E=0;E<i-1;E++){var O=x/(1-x*E),R=Ee(C,O);g.push(R.left),C=R.right}g.push(C);var k=g.map(function(z){var j=[];return z.length===4&&(j.push("C"),j=j.concat(z[2])),z.length>=3&&(z.length===3&&j.push("Q"),j=j.concat(z[1])),z.length===2&&j.push("L"),j=j.concat(z[z.length-1]),j});return k}var Re=function(l,s,i){if(i===1)return[[].concat(l)];var u=[];if(s[0]==="L"||s[0]==="C"||s[0]==="Q")u=u.concat(Be(l,s,i));else{var g=[].concat(l);g[0]==="M"&&(g[0]="L");for(var C=0;C<=i-1;C++)u.push(g)}return u},ct=function(l,s){if(l.length===1)return l;var i=l.length-1,u=s.length-1,g=i/u,C=[];if(l.length===1&&l[0][0]==="M"){for(var x=0;x<u-i;x++)l.push(l[0]);return l}for(var x=0;x<u;x++){var E=Math.floor(g*x);C[E]=(C[E]||0)+1}var O=C.reduce(function(R,k,z){return z===i?R.concat(l[i]):R.concat(Re(l[z],l[z+1],k))},[]);return O.unshift(l[0]),(s[u]==="Z"||s[u]==="z")&&O.push("Z"),O},ht=function(l,s){if(l.length!==s.length)return!1;var i=!0;return D(l,function(u,g){if(u!==s[g])return i=!1,!1}),i};function Ht(l,s,i){var u=null,g=i;return s<g&&(g=s,u="add"),l<g&&(g=l,u="del"),{type:u,min:g}}var Yt=function(l,s){var i=l.length,u=s.length,g,C,x=0;if(i===0||u===0)return null;for(var E=[],O=0;O<=i;O++)E[O]=[],E[O][0]={min:O};for(var R=0;R<=u;R++)E[0][R]={min:R};for(var O=1;O<=i;O++){g=l[O-1];for(var R=1;R<=u;R++){C=s[R-1],ht(g,C)?x=0:x=1;var k=E[O-1][R].min+1,z=E[O][R-1].min+1,j=E[O-1][R-1].min+x;E[O][R]=Ht(k,z,j)}}return E},rr=function(l,s){var i=Yt(l,s),u=l.length,g=s.length,C=[],x=1,E=1;if(i[u][g].min!==u){for(var O=1;O<=u;O++){var R=i[O][O].min;E=O;for(var k=x;k<=g;k++)i[O][k].min<R&&(R=i[O][k].min,E=k);x=E,i[O][x].type&&C.push({index:O-1,type:i[O][x].type})}for(var O=C.length-1;O>=0;O--)x=C[O].index,C[O].type==="add"?l.splice(x,0,[].concat(l[x])):l.splice(x,1)}u=l.length;var z=g-u;if(u<g)for(var O=0;O<z;O++)l[u-1][0]==="z"||l[u-1][0]==="Z"?l.splice(u-2,0,l[u-2]):l.push(l[u-1]),u+=1;return l};function hr(l,s,i){for(var u=[].concat(l),g,C=1/(i+1),x=Hr(s)[0],E=1;E<=i;E++)C*=E,g=Math.floor(l.length*C),g===0?u.unshift([x[0]*C+l[g][0]*(1-C),x[1]*C+l[g][1]*(1-C)]):u.splice(g,0,[x[0]*C+l[g][0]*(1-C),x[1]*C+l[g][1]*(1-C)]);return u}function Hr(l){var s=[];switch(l[0]){case"M":s.push([l[1],l[2]]);break;case"L":s.push([l[1],l[2]]);break;case"A":s.push([l[6],l[7]]);break;case"Q":s.push([l[3],l[4]]),s.push([l[1],l[2]]);break;case"T":s.push([l[1],l[2]]);break;case"C":s.push([l[5],l[6]]),s.push([l[1],l[2]]),s.push([l[3],l[4]]);break;case"S":s.push([l[3],l[4]]),s.push([l[1],l[2]]);break;case"H":s.push([l[1],l[1]]);break;case"V":s.push([l[1],l[1]]);break}return s}var Zt=function(l,s){if(l.length<=1)return l;for(var i,u=0;u<s.length;u++)if(l[u][0]!==s[u][0])switch(i=Hr(l[u]),s[u][0]){case"M":l[u]=["M"].concat(i[0]);break;case"L":l[u]=["L"].concat(i[0]);break;case"A":l[u]=[].concat(s[u]),l[u][6]=i[0][0],l[u][7]=i[0][1];break;case"Q":if(i.length<2)if(u>0)i=hr(i,l[u-1],1);else{l[u]=s[u];break}l[u]=["Q"].concat(i.reduce(function(g,C){return g.concat(C)},[]));break;case"T":l[u]=["T"].concat(i[0]);break;case"C":if(i.length<3)if(u>0)i=hr(i,l[u-1],2);else{l[u]=s[u];break}l[u]=["C"].concat(i.reduce(function(g,C){return g.concat(C)},[]));break;case"S":if(i.length<2)if(u>0)i=hr(i,l[u-1],1);else{l[u]=s[u];break}l[u]=["S"].concat(i.reduce(function(g,C){return g.concat(C)},[]));break;default:l[u]=s[u]}return l},qr=Object.freeze({__proto__:null,catmullRomToBezier:ze,fillPath:ct,fillPathByDiff:rr,formatPath:Zt,intersection:xe,parsePathArray:bt,parsePathString:_e,pathToAbsolute:at,pathToCurve:Tt,rectPath:qn}),Qr=function(){function l(s,i){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=s,this.name=s,this.originalEvent=i,this.timeStamp=i.timeStamp}return l.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},l.prototype.stopPropagation=function(){this.propagationStopped=!0},l.prototype.toString=function(){var s=this.type;return"[Event (type="+s+")]"},l.prototype.save=function(){},l.prototype.restore=function(){},l}();var dn=function(l,s){return dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,u){i.__proto__=u}||function(i,u){for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(i[g]=u[g])},dn(l,s)};function kn(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");dn(l,s);function i(){this.constructor=l}l.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}var wr="*",ei=function(){function l(){this._events={}}return l.prototype.on=function(s,i,u){return this._events[s]||(this._events[s]=[]),this._events[s].push({callback:i,once:!!u}),this},l.prototype.once=function(s,i){return this.on(s,i,!0)},l.prototype.emit=function(s){for(var i=this,u=[],g=1;g<arguments.length;g++)u[g-1]=arguments[g];var C=this._events[s]||[],x=this._events[wr]||[],E=function(O){for(var R=O.length,k=0;k<R;k++)if(O[k]){var z=O[k],j=z.callback,q=z.once;q&&(O.splice(k,1),O.length===0&&delete i._events[s],R--,k--),j.apply(i,u)}};E(C),E(x)},l.prototype.off=function(s,i){if(!s)this._events={};else if(!i)delete this._events[s];else{for(var u=this._events[s]||[],g=u.length,C=0;C<g;C++)u[C].callback===i&&(u.splice(C,1),g--,C--);u.length===0&&delete this._events[s]}return this},l.prototype.getEvents=function(){return this._events},l}();function Ln(l,s){var i=l.indexOf(s);i!==-1&&l.splice(i,1)}var yi=typeof window!="undefined"&&typeof window.document!="undefined";function fa(l,s){if(l.isCanvas())return!0;for(var i=s.getParent(),u=!1;i;){if(i===l){u=!0;break}i=i.getParent()}return u}function _i(l){return l.cfg.visible&&l.cfg.capture}var Ja=function(l){kn(s,l);function s(i){var u=l.call(this)||this;u.destroyed=!1;var g=u.getDefaultCfg();return u.cfg=Rn(g,i),u}return s.prototype.getDefaultCfg=function(){return{}},s.prototype.get=function(i){return this.cfg[i]},s.prototype.set=function(i,u){this.cfg[i]=u},s.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},s}(ei),Gr=function(l,s,i){if(i||arguments.length===2)for(var u=0,g=s.length,C;u<g;u++)(C||!(u in s))&&(C||(C=Array.prototype.slice.call(s,0,u)),C[u]=s[u]);return l.concat(C||Array.prototype.slice.call(s))},oi=function(){function l(s,i,u){this.name=s,this.version=i,this.os=u,this.type="browser"}return l}(),is=function(){function l(s){this.version=s,this.type="node",this.name="node",this.os=Ve.platform}return l}(),qa=function(){function l(s,i,u,g){this.name=s,this.version=i,this.os=u,this.bot=g,this.type="bot-device"}return l}(),_a=function(){function l(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return l}(),Ti=function(){function l(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return l}(),oa=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,zi=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,dl=3,go=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",oa]],Ol=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Es(l){return l?iu(l):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new Ti:typeof navigator!="undefined"?iu(navigator.userAgent):$f()}function Gs(l){return l!==""&&go.reduce(function(s,i){var u=i[0],g=i[1];if(s)return s;var C=g.exec(l);return!!C&&[u,C]},!1)}function iu(l){var s=Gs(l);if(!s)return null;var i=s[0],u=s[1];if(i==="searchbot")return new _a;var g=u[1]&&u[1].split(".").join("_").split("_").slice(0,3);g?g.length<dl&&(g=Gr(Gr([],g,!0),ju(dl-g.length),!0)):g=[];var C=g.join("."),x=ql(l),E=zi.exec(l);return E&&E[1]?new qa(i,C,x,E[1]):new oi(i,C,x)}function ql(l){for(var s=0,i=Ol.length;s<i;s++){var u=Ol[s],g=u[0],C=u[1],x=C.exec(l);if(x)return g}return null}function $f(){var l=typeof Ve!="undefined"&&Ve.version;return l?new is(Ve.version.slice(1)):null}function ju(l){for(var s=[],i=0;i<l;i++)s.push("0");return s}var au=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var l=0,s=arguments.length;s--;)l+=arguments[s]*arguments[s];return Math.sqrt(l)});function Ms(l,s,i){var u=s[0],g=s[1],C=s[2],x=s[3],E=s[4],O=s[5],R=s[6],k=s[7],z=s[8],j=i[0],q=i[1],ee=i[2],le=i[3],me=i[4],Oe=i[5],$e=i[6],Ye=i[7],Ze=i[8];return l[0]=j*u+q*x+ee*R,l[1]=j*g+q*E+ee*k,l[2]=j*C+q*O+ee*z,l[3]=le*u+me*x+Oe*R,l[4]=le*g+me*E+Oe*k,l[5]=le*C+me*O+Oe*z,l[6]=$e*u+Ye*x+Ze*R,l[7]=$e*g+Ye*E+Ze*k,l[8]=$e*C+Ye*O+Ze*z,l}function Ts(l,s){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=1,l[5]=0,l[6]=s[0],l[7]=s[1],l[8]=1,l}function Ph(l,s){var i=Math.sin(s),u=Math.cos(s);return l[0]=u,l[1]=i,l[2]=0,l[3]=-i,l[4]=u,l[5]=0,l[6]=0,l[7]=0,l[8]=1,l}function ff(l,s){return l[0]=s[0],l[1]=0,l[2]=0,l[3]=0,l[4]=s[1],l[5]=0,l[6]=0,l[7]=0,l[8]=1,l}function wa(){var l=new au(3);return au!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0),l}function ea(l,s,i){var u=s[0],g=s[1],C=s[2];return l[0]=u*i[0]+g*i[3]+C*i[6],l[1]=u*i[1]+g*i[4]+C*i[7],l[2]=u*i[2]+g*i[5]+C*i[8],l}(function(){var l=wa();return function(s,i,u,g,C,x){var E,O;for(i||(i=3),u||(u=0),g?O=Math.min(g*i+u,s.length):O=s.length,E=u;E<O;E+=i)l[0]=s[E],l[1]=s[E+1],l[2]=s[E+2],C(l,l,x),s[E]=l[0],s[E+1]=l[1],s[E+2]=l[2];return s}})();function $s(){var l=new au(2);return au!=Float32Array&&(l[0]=0,l[1]=0),l}function Ql(l,s){var i=s[0],u=s[1],g=i*i+u*u;return g>0&&(g=1/Math.sqrt(g)),l[0]=s[0]*g,l[1]=s[1]*g,l}function Al(l,s){return l[0]*s[0]+l[1]*s[1]}function lc(l,s){return l[0]===s[0]&&l[1]===s[1]}(function(){var l=$s();return function(s,i,u,g,C,x){var E,O;for(i||(i=2),u||(u=0),g?O=Math.min(g*i+u,s.length):O=s.length,E=u;E<O;E+=i)l[0]=s[E],l[1]=s[E+1],C(l,l,x),s[E]=l[0],s[E+1]=l[1];return s}})();function Uf(l,s,i){var u=[0,0,0,0,0,0,0,0,0];return Ts(u,i),Ms(l,u,s)}function St(l,s,i){var u=[0,0,0,0,0,0,0,0,0];return Ph(u,i),Ms(l,u,s)}function Pe(l,s,i){var u=[0,0,0,0,0,0,0,0,0];return ff(u,i),Ms(l,u,s)}function yt(l,s,i){return Ms(l,i,s)}function qt(l,s){for(var i=l?[].concat(l):[1,0,0,0,1,0,0,0,1],u=0,g=s.length;u<g;u++){var C=s[u];switch(C[0]){case"t":Uf(i,i,[C[1],C[2]]);break;case"s":Pe(i,i,[C[1],C[2]]);break;case"r":St(i,i,C[1]);break;case"m":yt(i,i,C[1]);break}}return i}function _r(l,s){var i=[],u=l[0],g=l[1],C=l[2],x=l[3],E=l[4],O=l[5],R=l[6],k=l[7],z=l[8],j=s[0],q=s[1],ee=s[2],le=s[3],me=s[4],Oe=s[5],$e=s[6],Ye=s[7],Ze=s[8];return i[0]=j*u+q*x+ee*R,i[1]=j*g+q*E+ee*k,i[2]=j*C+q*O+ee*z,i[3]=le*u+me*x+Oe*R,i[4]=le*g+me*E+Oe*k,i[5]=le*C+me*O+Oe*z,i[6]=$e*u+Ye*x+Ze*R,i[7]=$e*g+Ye*E+Ze*k,i[8]=$e*C+Ye*O+Ze*z,i}function rn(l,s){var i=[],u=s[0],g=s[1];return i[0]=l[0]*u+l[3]*g+l[6],i[1]=l[1]*u+l[4]*g+l[7],i}function xn(l){var s=[],i=l[0],u=l[1],g=l[2],C=l[3],x=l[4],E=l[5],O=l[6],R=l[7],k=l[8],z=k*x-E*R,j=-k*C+E*O,q=R*C-x*O,ee=i*z+u*j+g*q;return ee?(ee=1/ee,s[0]=z*ee,s[1]=(-k*u+g*R)*ee,s[2]=(E*u-g*x)*ee,s[3]=j*ee,s[4]=(k*i-g*O)*ee,s[5]=(-E*i+g*C)*ee,s[6]=q*ee,s[7]=(-R*i+u*O)*ee,s[8]=(x*i-u*C)*ee,s):null}var vn=qt,Ii="matrix",Fa=["zIndex","capture","visible","type"],_o=["repeat"],vl=":",Us="*";function Eo(l){for(var s=[],i=0;i<l.length;i++)Mt(l[i])?s.push([].concat(l[i])):s.push(l[i]);return s}function as(l,s){var i={},u=s.attrs;for(var g in l)i[g]=u[g];return i}function Os(l,s){var i={},u=s.attr();return D(l,function(g,C){_o.indexOf(C)===-1&&!Ge(u[C],g)&&(i[C]=g)}),i}function Yf(l,s){if(s.onFrame)return l;var i=s.startTime,u=s.delay,g=s.duration,C=Object.prototype.hasOwnProperty;return D(l,function(x){i+u<x.startTime+x.delay+x.duration&&g>x.delay&&D(s.toAttrs,function(E,O){C.call(x.toAttrs,O)&&(delete x.toAttrs[O],delete x.fromAttrs[O])})}),l}var hf=function(l){kn(s,l);function s(i){var u=l.call(this,i)||this;u.attrs={};var g=u.getDefaultAttrs();return Rn(g,i.attrs),u.attrs=g,u.initAttrs(g),u.initAnimate(),u}return s.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},s.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},s.prototype.onCanvasChange=function(i){},s.prototype.initAttrs=function(i){},s.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},s.prototype.isGroup=function(){return!1},s.prototype.getParent=function(){return this.get("parent")},s.prototype.getCanvas=function(){return this.get("canvas")},s.prototype.attr=function(){for(var i,u=[],g=0;g<arguments.length;g++)u[g]=arguments[g];var C=u[0],x=u[1];if(!C)return this.attrs;if(U(C)){for(var E in C)this.setAttr(E,C[E]);return this.afterAttrsChange(C),this}return u.length===2?(this.setAttr(C,x),this.afterAttrsChange((i={},i[C]=x,i)),this):this.attrs[C]},s.prototype.isClipped=function(i,u){var g=this.getClip();return g&&!g.isHit(i,u)},s.prototype.setAttr=function(i,u){var g=this.attrs[i];g!==u&&(this.attrs[i]=u,this.onAttrChange(i,u,g))},s.prototype.onAttrChange=function(i,u,g){i==="matrix"&&this.set("totalMatrix",null)},s.prototype.afterAttrsChange=function(i){if(this.cfg.isClipShape){var u=this.cfg.applyTo;u&&u.onCanvasChange("clip")}else this.onCanvasChange("attr")},s.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},s.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},s.prototype.setZIndex=function(i){this.set("zIndex",i);var u=this.getParent();return u&&u.sort(),this},s.prototype.toFront=function(){var i=this.getParent();if(i){var u=i.getChildren();this.get("el");var g=u.indexOf(this);u.splice(g,1),u.push(this),this.onCanvasChange("zIndex")}},s.prototype.toBack=function(){var i=this.getParent();if(i){var u=i.getChildren();this.get("el");var g=u.indexOf(this);u.splice(g,1),u.unshift(this),this.onCanvasChange("zIndex")}},s.prototype.remove=function(i){i===void 0&&(i=!0);var u=this.getParent();u?(Ln(u.getChildren(),this),u.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),i&&this.destroy()},s.prototype.resetMatrix=function(){this.attr(Ii,this.getDefaultMatrix()),this.onCanvasChange("matrix")},s.prototype.getMatrix=function(){return this.attr(Ii)},s.prototype.setMatrix=function(i){this.attr(Ii,i),this.onCanvasChange("matrix")},s.prototype.getTotalMatrix=function(){var i=this.cfg.totalMatrix;if(!i){var u=this.attr("matrix"),g=this.cfg.parentMatrix;g&&u?i=_r(g,u):i=u||g,this.set("totalMatrix",i)}return i},s.prototype.applyMatrix=function(i){var u=this.attr("matrix"),g=null;i&&u?g=_r(i,u):g=u||i,this.set("totalMatrix",g),this.set("parentMatrix",i)},s.prototype.getDefaultMatrix=function(){return null},s.prototype.applyToMatrix=function(i){var u=this.attr("matrix");return u?rn(u,i):i},s.prototype.invertFromMatrix=function(i){var u=this.attr("matrix");if(u){var g=xn(u);if(g)return rn(g,i)}return i},s.prototype.setClip=function(i){var u=this.getCanvas(),g=null;if(i){var C=this.getShapeBase(),x=Yr(i.type),E=C[x];E&&(g=new E({type:i.type,isClipShape:!0,applyTo:this,attrs:i.attrs,canvas:u}))}return this.set("clipShape",g),this.onCanvasChange("clip"),g},s.prototype.getClip=function(){var i=this.cfg.clipShape;return i||null},s.prototype.clone=function(){var i=this,u=this.attrs,g={};D(u,function(E,O){Mt(u[O])?g[O]=Eo(u[O]):g[O]=u[O]});var C=this.constructor,x=new C({attrs:g});return D(Fa,function(E){x.set(E,i.get(E))}),x},s.prototype.destroy=function(){var i=this.destroyed;i||(this.attrs={},l.prototype.destroy.call(this))},s.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},s.prototype.animate=function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var g=this.get("timeline");g||(g=this.get("canvas").get("timeline"),this.set("timeline",g));var C=this.get("animations")||[];g.timer||g.initTimer();var x=i[0],E=i[1],O=i[2],R=O===void 0?"easeLinear":O,k=i[3],z=k===void 0?un:k,j=i[4],q=j===void 0?0:j,ee,le,me,Oe,$e;or(x)?(ee=x,x={}):U(x)&&x.onFrame&&(ee=x.onFrame,le=x.repeat),U(E)?($e=E,E=$e.duration,R=$e.easing||"easeLinear",q=$e.delay||0,le=$e.repeat||le||!1,z=$e.callback||un,me=$e.pauseCallback||un,Oe=$e.resumeCallback||un):(tr(z)&&(q=z,z=null),or(R)?(z=R,R="easeLinear"):R=R||"easeLinear");var Ye=Os(x,this),Ze={fromAttrs:as(Ye,this),toAttrs:Ye,duration:E,easing:R,repeat:le,callback:z,pauseCallback:me,resumeCallback:Oe,delay:q,startTime:g.getTime(),id:Rr(),onFrame:ee,pathFormatted:!1};C.length>0?C=Yf(C,Ze):g.addAnimator(this),C.push(Ze),this.set("animations",C),this.set("_pause",{isPaused:!1})}},s.prototype.stopAnimate=function(i){var u=this;i===void 0&&(i=!0);var g=this.get("animations");D(g,function(C){i&&(C.onFrame?u.attr(C.onFrame(1)):u.attr(C.toAttrs)),C.callback&&C.callback()}),this.set("animating",!1),this.set("animations",[])},s.prototype.pauseAnimate=function(){var i=this.get("timeline"),u=this.get("animations"),g=i.getTime();return D(u,function(C){C._paused=!0,C._pauseTime=g,C.pauseCallback&&C.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:g}),this},s.prototype.resumeAnimate=function(){var i=this.get("timeline"),u=i.getTime(),g=this.get("animations"),C=this.get("_pause").pauseTime;return D(g,function(x){x.startTime=x.startTime+(u-C),x._paused=!1,x._pauseTime=null,x.resumeCallback&&x.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",g),this},s.prototype.emitDelegation=function(i,u){var g=this,C=u.propagationPath;this.getEvents();var x;i==="mouseenter"?x=u.fromShape:i==="mouseleave"&&(x=u.toShape);for(var E=function(z){var j=C[z],q=j.get("name");if(q){if((j.isGroup()||j.isCanvas&&j.isCanvas())&&x&&fa(j,x))return"break";Mt(q)?D(q,function(ee){g.emitDelegateEvent(j,ee,u)}):O.emitDelegateEvent(j,q,u)}},O=this,R=0;R<C.length;R++){var k=E(R);if(k==="break")break}},s.prototype.emitDelegateEvent=function(i,u,g){var C=this.getEvents(),x=u+vl+g.type;(C[x]||C[Us])&&(g.name=x,g.currentTarget=i,g.delegateTarget=this,g.delegateObject=i.get("delegateObject"),this.emit(x,g))},s.prototype.translate=function(i,u){i===void 0&&(i=0),u===void 0&&(u=0);var g=this.getMatrix(),C=vn(g,[["t",i,u]]);return this.setMatrix(C),this},s.prototype.move=function(i,u){var g=this.attr("x")||0,C=this.attr("y")||0;return this.translate(i-g,u-C),this},s.prototype.moveTo=function(i,u){return this.move(i,u)},s.prototype.scale=function(i,u){var g=this.getMatrix(),C=vn(g,[["s",i,u||i]]);return this.setMatrix(C),this},s.prototype.rotate=function(i){var u=this.getMatrix(),g=vn(u,[["r",i]]);return this.setMatrix(g),this},s.prototype.rotateAtStart=function(i){var u=this.attr(),g=u.x,C=u.y,x=this.getMatrix(),E=vn(x,[["t",-g,-C],["r",i],["t",g,C]]);return this.setMatrix(E),this},s.prototype.rotateAtPoint=function(i,u,g){var C=this.getMatrix(),x=vn(C,[["t",-i,-u],["r",g],["t",i,u]]);return this.setMatrix(x),this},s}(Ja),Id={},pe="_INDEX";function Ie(l,s){if(l.set("canvas",s),l.isGroup()){var i=l.get("children");i.length&&i.forEach(function(u){Ie(u,s)})}}function qe(l,s){if(l.set("timeline",s),l.isGroup()){var i=l.get("children");i.length&&i.forEach(function(u){qe(u,s)})}}function jt(l,s,i){i===void 0&&(i=!0),i?s.destroy():(s.set("parent",null),s.set("canvas",null)),Ln(l.getChildren(),s)}function Dr(l){return function(s,i){var u=l(s,i);return u===0?s[pe]-i[pe]:u}}var jr=function(l){kn(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.isCanvas=function(){return!1},s.prototype.getBBox=function(){var i=1/0,u=-1/0,g=1/0,C=-1/0,x=[],E=[],O=this.getChildren().filter(function(k){return k.get("visible")&&(!k.isGroup()||k.isGroup()&&k.getChildren().length>0)});O.length>0?(D(O,function(k){var z=k.getBBox();x.push(z.minX,z.maxX),E.push(z.minY,z.maxY)}),i=Gt(x),u=lt(x),g=Gt(E),C=lt(E)):(i=0,u=0,g=0,C=0);var R={x:i,y:g,minX:i,minY:g,maxX:u,maxY:C,width:u-i,height:C-g};return R},s.prototype.getCanvasBBox=function(){var i=1/0,u=-1/0,g=1/0,C=-1/0,x=[],E=[],O=this.getChildren().filter(function(k){return k.get("visible")&&(!k.isGroup()||k.isGroup()&&k.getChildren().length>0)});O.length>0?(D(O,function(k){var z=k.getCanvasBBox();x.push(z.minX,z.maxX),E.push(z.minY,z.maxY)}),i=Gt(x),u=lt(x),g=Gt(E),C=lt(E)):(i=0,u=0,g=0,C=0);var R={x:i,y:g,minX:i,minY:g,maxX:u,maxY:C,width:u-i,height:C-g};return R},s.prototype.getDefaultCfg=function(){var i=l.prototype.getDefaultCfg.call(this);return i.children=[],i},s.prototype.onAttrChange=function(i,u,g){if(l.prototype.onAttrChange.call(this,i,u,g),i==="matrix"){var C=this.getTotalMatrix();this._applyChildrenMarix(C)}},s.prototype.applyMatrix=function(i){var u=this.getTotalMatrix();l.prototype.applyMatrix.call(this,i);var g=this.getTotalMatrix();g!==u&&this._applyChildrenMarix(g)},s.prototype._applyChildrenMarix=function(i){var u=this.getChildren();D(u,function(g){g.applyMatrix(i)})},s.prototype.addShape=function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var g=i[0],C=i[1];U(g)?C=g:C.type=g;var x=Id[C.type];x||(x=Yr(C.type),Id[C.type]=x);var E=this.getShapeBase(),O=new E[x](C);return this.add(O),O},s.prototype.addGroup=function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var g=i[0],C=i[1],x;if(or(g))C?x=new g(C):x=new g({parent:this});else{var E=g||{},O=this.getGroupBase();x=new O(E)}return this.add(x),x},s.prototype.getCanvas=function(){var i;return this.isCanvas()?i=this:i=this.get("canvas"),i},s.prototype.getShape=function(i,u,g){if(!_i(this))return null;var C=this.getChildren(),x;if(this.isCanvas())x=this._findShape(C,i,u,g);else{var E=[i,u,1];E=this.invertFromMatrix(E),this.isClipped(E[0],E[1])||(x=this._findShape(C,E[0],E[1],g))}return x},s.prototype._findShape=function(i,u,g,C){for(var x=null,E=i.length-1;E>=0;E--){var O=i[E];if(_i(O)&&(O.isGroup()?x=O.getShape(u,g,C):O.isHit(u,g)&&(x=O)),x)break}return x},s.prototype.add=function(i){var u=this.getCanvas(),g=this.getChildren(),C=this.get("timeline"),x=i.getParent();x&&jt(x,i,!1),i.set("parent",this),u&&Ie(i,u),C&&qe(i,C),g.push(i),i.onCanvasChange("add"),this._applyElementMatrix(i)},s.prototype._applyElementMatrix=function(i){var u=this.getTotalMatrix();u&&i.applyMatrix(u)},s.prototype.getChildren=function(){return this.get("children")},s.prototype.sort=function(){var i=this.getChildren();D(i,function(u,g){return u[pe]=g,u}),i.sort(Dr(function(u,g){return u.get("zIndex")-g.get("zIndex")})),this.onCanvasChange("sort")},s.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var i=this.getChildren(),u=i.length-1;u>=0;u--)i[u].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},s.prototype.destroy=function(){this.get("destroyed")||(this.clear(),l.prototype.destroy.call(this))},s.prototype.getFirst=function(){return this.getChildByIndex(0)},s.prototype.getLast=function(){var i=this.getChildren();return this.getChildByIndex(i.length-1)},s.prototype.getChildByIndex=function(i){var u=this.getChildren();return u[i]},s.prototype.getCount=function(){var i=this.getChildren();return i.length},s.prototype.contain=function(i){var u=this.getChildren();return u.indexOf(i)>-1},s.prototype.removeChild=function(i,u){u===void 0&&(u=!0),this.contain(i)&&i.remove(u)},s.prototype.findAll=function(i){var u=[],g=this.getChildren();return D(g,function(C){i(C)&&u.push(C),C.isGroup()&&(u=u.concat(C.findAll(i)))}),u},s.prototype.find=function(i){var u=null,g=this.getChildren();return D(g,function(C){if(i(C)?u=C:C.isGroup()&&(u=C.find(i)),u)return!1}),u},s.prototype.findById=function(i){return this.find(function(u){return u.get("id")===i})},s.prototype.findByClassName=function(i){return this.find(function(u){return u.get("className")===i})},s.prototype.findAllByName=function(i){return this.findAll(function(u){return u.get("name")===i})},s}(hf),Pn=0,fi=0,Hn=0,ci=1e3,hi,si,Vr=0,Gn=0,di=0,ni=typeof performance=="object"&&performance.now?performance:Date,jn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(l){setTimeout(l,17)};function Bi(){return Gn||(jn(Ui),Gn=ni.now()+di)}function Ui(){Gn=0}function ma(){this._call=this._time=this._next=null}ma.prototype=Mo.prototype={constructor:ma,restart:function(l,s,i){if(typeof l!="function")throw new TypeError("callback is not a function");i=(i==null?Bi():+i)+(s==null?0:+s),!this._next&&si!==this&&(si?si._next=this:hi=this,si=this),this._call=l,this._time=i,os()},stop:function(){this._call&&(this._call=null,this._time=1/0,os())}};function Mo(l,s,i){var u=new ma;return u.restart(l,s,i),u}function il(){Bi(),++Pn;for(var l=hi,s;l;)(s=Gn-l._time)>=0&&l._call.call(null,s),l=l._next;--Pn}function mo(){Gn=(Vr=ni.now())+di,Pn=fi=0;try{il()}finally{Pn=0,ou(),Gn=0}}function As(){var l=ni.now(),s=l-Vr;s>ci&&(di-=s,Vr=l)}function ou(){for(var l,s=hi,i,u=1/0;s;)s._call?(u>s._time&&(u=s._time),l=s,s=s._next):(i=s._next,s._next=null,s=l?l._next=i:hi=i);si=l,os(u)}function os(l){if(!Pn){fi&&(fi=clearTimeout(fi));var s=l-Gn;s>24?(l<1/0&&(fi=setTimeout(mo,l-ni.now()-di)),Hn&&(Hn=clearInterval(Hn))):(Hn||(Vr=ni.now(),Hn=setInterval(As,ci)),Pn=1,jn(mo))}}function Ys(l,s,i){l.prototype=s.prototype=i,i.constructor=l}function al(l,s){var i=Object.create(l.prototype);for(var u in s)i[u]=s[u];return i}function Tu(){}var Is=.7,lu=1/Is,ha="\\s*([+-]?\\d+)\\s*",Vn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$r="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fn=/^#([0-9a-f]{3,8})$/,Ri=new RegExp("^rgb\\("+[ha,ha,ha]+"\\)$"),Ki=new RegExp("^rgb\\("+[$r,$r,$r]+"\\)$"),Gi=new RegExp("^rgba\\("+[ha,ha,ha,Vn]+"\\)$"),Do=new RegExp("^rgba\\("+[$r,$r,$r,Vn]+"\\)$"),Ei=new RegExp("^hsl\\("+[Vn,$r,$r]+"\\)$"),Lo=new RegExp("^hsla\\("+[Vn,$r,$r,Vn]+"\\)$"),yo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ys(Tu,Vu,{copy:function(l){return Object.assign(new this.constructor,this,l)},displayable:function(){return this.rgb().displayable()},hex:ol,formatHex:ol,formatHsl:Il,formatRgb:Rl,toString:Rl});function ol(){return this.rgb().formatHex()}function Il(){return Le(this).formatHsl()}function Rl(){return this.rgb().formatRgb()}function Vu(l){var s,i;return l=(l+"").trim().toLowerCase(),(s=Fn.exec(l))?(i=s[1].length,s=parseInt(s[1],16),i===6?js(s):i===3?new uo(s>>8&15|s>>4&240,s>>4&15|s&240,(s&15)<<4|s&15,1):i===8?Rd(s>>24&255,s>>16&255,s>>8&255,(s&255)/255):i===4?Rd(s>>12&15|s>>8&240,s>>8&15|s>>4&240,s>>4&15|s&240,((s&15)<<4|s&15)/255):null):(s=Ri.exec(l))?new uo(s[1],s[2],s[3],1):(s=Ki.exec(l))?new uo(s[1]*255/100,s[2]*255/100,s[3]*255/100,1):(s=Gi.exec(l))?Rd(s[1],s[2],s[3],s[4]):(s=Do.exec(l))?Rd(s[1]*255/100,s[2]*255/100,s[3]*255/100,s[4]):(s=Ei.exec(l))?jf(s[1],s[2]/100,s[3]/100,1):(s=Lo.exec(l))?jf(s[1],s[2]/100,s[3]/100,s[4]):yo.hasOwnProperty(l)?js(yo[l]):l==="transparent"?new uo(NaN,NaN,NaN,0):null}function js(l){return new uo(l>>16&255,l>>8&255,l&255,1)}function Rd(l,s,i,u){return u<=0&&(l=s=i=NaN),new uo(l,s,i,u)}function Lv(l){return l instanceof Tu||(l=Vu(l)),l?(l=l.rgb(),new uo(l.r,l.g,l.b,l.opacity)):new uo}function Dd(l,s,i,u){return arguments.length===1?Lv(l):new uo(l,s,i,u==null?1:u)}function uo(l,s,i,u){this.r=+l,this.g=+s,this.b=+i,this.opacity=+u}Ys(uo,Dd,al(Tu,{brighter:function(l){return l=l==null?lu:Math.pow(lu,l),new uo(this.r*l,this.g*l,this.b*l,this.opacity)},darker:function(l){return l=l==null?Is:Math.pow(Is,l),new uo(this.r*l,this.g*l,this.b*l,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dl,formatHex:Dl,formatRgb:Pv,toString:Pv}));function Dl(){return"#"+Vs(this.r)+Vs(this.g)+Vs(this.b)}function Pv(){var l=this.opacity;return l=isNaN(l)?1:Math.max(0,Math.min(1,l)),(l===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(l===1?")":", "+l+")")}function Vs(l){return l=Math.max(0,Math.min(255,Math.round(l)||0)),(l<16?"0":"")+l.toString(16)}function jf(l,s,i,u){return u<=0?l=s=i=NaN:i<=0||i>=1?l=s=NaN:s<=0&&(l=NaN),new Xt(l,s,i,u)}function Le(l){if(l instanceof Xt)return new Xt(l.h,l.s,l.l,l.opacity);if(l instanceof Tu||(l=Vu(l)),!l)return new Xt;if(l instanceof Xt)return l;l=l.rgb();var s=l.r/255,i=l.g/255,u=l.b/255,g=Math.min(s,i,u),C=Math.max(s,i,u),x=NaN,E=C-g,O=(C+g)/2;return E?(s===C?x=(i-u)/E+(i<u)*6:i===C?x=(u-s)/E+2:x=(s-i)/E+4,E/=O<.5?C+g:2-C-g,x*=60):E=O>0&&O<1?0:x,new Xt(x,E,O,l.opacity)}function It(l,s,i,u){return arguments.length===1?Le(l):new Xt(l,s,i,u==null?1:u)}function Xt(l,s,i,u){this.h=+l,this.s=+s,this.l=+i,this.opacity=+u}Ys(Xt,It,al(Tu,{brighter:function(l){return l=l==null?lu:Math.pow(lu,l),new Xt(this.h,this.s,this.l*l,this.opacity)},darker:function(l){return l=l==null?Is:Math.pow(Is,l),new Xt(this.h,this.s,this.l*l,this.opacity)},rgb:function(){var l=this.h%360+(this.h<0)*360,s=isNaN(l)||isNaN(this.s)?0:this.s,i=this.l,u=i+(i<.5?i:1-i)*s,g=2*i-u;return new uo(nr(l>=240?l-240:l+120,g,u),nr(l,g,u),nr(l<120?l+240:l-120,g,u),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var l=this.opacity;return l=isNaN(l)?1:Math.max(0,Math.min(1,l)),(l===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(l===1?")":", "+l+")")}}));function nr(l,s,i){return(l<60?s+(i-s)*l/60:l<180?i:l<240?s+(i-s)*(240-l)/60:s)*255}function Lr(l){return function(){return l}}function Tn(l,s){return function(i){return l+i*s}}function Ci(l,s,i){return l=Math.pow(l,i),s=Math.pow(s,i)-l,i=1/i,function(u){return Math.pow(l+u*s,i)}}function Ea(l){return(l=+l)==1?Jo:function(s,i){return i-s?Ci(s,i,l):Lr(isNaN(s)?i:s)}}function Jo(l,s){var i=s-l;return i?Tn(l,i):Lr(isNaN(l)?s:l)}var ls=function l(s){var i=Ea(s);function u(g,C){var x=i((g=Dd(g)).r,(C=Dd(C)).r),E=i(g.g,C.g),O=i(g.b,C.b),R=Jo(g.opacity,C.opacity);return function(k){return g.r=x(k),g.g=E(k),g.b=O(k),g.opacity=R(k),g+""}}return u.gamma=l,u}(1);function ss(l,s){s||(s=[]);var i=l?Math.min(s.length,l.length):0,u=s.slice(),g;return function(C){for(g=0;g<i;++g)u[g]=l[g]*(1-C)+s[g]*C;return u}}function sc(l){return ArrayBuffer.isView(l)&&!(l instanceof DataView)}function Ld(l,s){return(sc(s)?ss:wy)(l,s)}function wy(l,s){var i=s?s.length:0,u=l?Math.min(i,l.length):0,g=new Array(u),C=new Array(i),x;for(x=0;x<u;++x)g[x]=zp(l[x],s[x]);for(;x<i;++x)C[x]=s[x];return function(E){for(x=0;x<u;++x)C[x]=g[x](E);return C}}function xy(l,s){var i=new Date;return l=+l,s=+s,function(u){return i.setTime(l*(1-u)+s*u),i}}function Sy(l,s){return l=+l,s=+s,function(i){return l*(1-i)+s*i}}function Np(l,s){var i={},u={},g;(l===null||typeof l!="object")&&(l={}),(s===null||typeof s!="object")&&(s={});for(g in s)g in l?i[g]=zp(l[g],s[g]):u[g]=s[g];return function(C){for(g in i)u[g]=i[g](C);return u}}var Pd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bv=new RegExp(Pd.source,"g");function Hp(l){return function(){return l}}function Go(l){return function(s){return l(s)+""}}function wi(l,s){var i=Pd.lastIndex=Bv.lastIndex=0,u,g,C,x=-1,E=[],O=[];for(l=l+"",s=s+"";(u=Pd.exec(l))&&(g=Bv.exec(s));)(C=g.index)>i&&(C=s.slice(i,C),E[x]?E[x]+=C:E[++x]=C),(u=u[0])===(g=g[0])?E[x]?E[x]+=g:E[++x]=g:(E[++x]=null,O.push({i:x,x:Sy(u,g)})),i=Bv.lastIndex;return i<s.length&&(C=s.slice(i),E[x]?E[x]+=C:E[++x]=C),E.length<2?O[0]?Go(O[0].x):Hp(s):(s=O.length,function(R){for(var k=0,z;k<s;++k)E[(z=O[k]).i]=z.x(R);return E.join("")})}function zp(l,s){var i=typeof s,u;return s==null||i==="boolean"?Lr(s):(i==="number"?Sy:i==="string"?(u=Vu(s))?(s=u,ls):wi:s instanceof Vu?ls:s instanceof Date?xy:sc(s)?ss:Array.isArray(s)?wy:typeof s.valueOf!="function"&&typeof s.toString!="function"||isNaN(s)?Np:Sy)(l,s)}function Ca(l){return+l}function Vf(l){return l*l}function su(l){return l*(2-l)}function _y(l){return((l*=2)<=1?l*l:--l*(2-l)+1)/2}function df(l){return l*l*l}function f0(l){return--l*l*l+1}function Xf(l){return((l*=2)<=1?l*l*l:(l-=2)*l*l+2)/2}var h0=3,vf=function l(s){s=+s;function i(u){return Math.pow(u,s)}return i.exponent=l,i}(h0),uc=function l(s){s=+s;function i(u){return 1-Math.pow(1-u,s)}return i.exponent=l,i}(h0),us=function l(s){s=+s;function i(u){return((u*=2)<=1?Math.pow(u,s):2-Math.pow(2-u,s))/2}return i.exponent=l,i}(h0),Bd=Math.PI,Ou=Bd/2;function N1(l){return+l==1?1:1-Math.cos(l*Ou)}function Wp(l){return Math.sin(l*Ou)}function Bh(l){return(1-Math.cos(Bd*l))/2}function Fc(l){return(Math.pow(2,-10*l)-.0009765625)*1.0009775171065494}function Gp(l){return Fc(1-+l)}function X2(l){return 1-Fc(l)}function gx(l){return((l*=2)<=1?Fc(1-l):2-Fc(l-1))/2}function Z2(l){return 1-Math.sqrt(1-l*l)}function K2(l){return Math.sqrt(1- --l*l)}function mx(l){return((l*=2)<=1?1-Math.sqrt(1-l*l):Math.sqrt(1-(l-=2)*l)+1)/2}var kh=4/11,$p=6/11,Up=8/11,Ey=3/4,My=9/11,yx=10/11,Cx=15/16,cc=21/22,kd=63/64,Xu=1/kh/kh;function bx(l){return 1-pf(1-l)}function pf(l){return(l=+l)<kh?Xu*l*l:l<Up?Xu*(l-=$p)*l+Ey:l<yx?Xu*(l-=My)*l+Cx:Xu*(l-=cc)*l+kd}function wx(l){return((l*=2)<=1?1-pf(1-l):pf(l-1)+1)/2}var Yp=1.70158,Bn=function l(s){s=+s;function i(u){return(u=+u)*u*(s*(u-1)+u)}return i.overshoot=l,i}(Yp),kv=function l(s){s=+s;function i(u){return--u*u*((u+1)*s+u)+1}return i.overshoot=l,i}(Yp),Ty=function l(s){s=+s;function i(u){return((u*=2)<1?u*u*((s+1)*u-s):(u-=2)*u*((s+1)*u+s)+2)/2}return i.overshoot=l,i}(Yp),Fh=2*Math.PI,d0=1,fc=.3,H1=function l(s,i){var u=Math.asin(1/(s=Math.max(1,s)))*(i/=Fh);function g(C){return s*Fc(- --C)*Math.sin((u-C)/i)}return g.amplitude=function(C){return l(C,i*Fh)},g.period=function(C){return l(s,C)},g}(d0,fc),jp=function l(s,i){var u=Math.asin(1/(s=Math.max(1,s)))*(i/=Fh);function g(C){return 1-s*Fc(C=+C)*Math.sin((C+u)/i)}return g.amplitude=function(C){return l(C,i*Fh)},g.period=function(C){return l(s,C)},g}(d0,fc),Nh=function l(s,i){var u=Math.asin(1/(s=Math.max(1,s)))*(i/=Fh);function g(C){return((C=C*2-1)<0?s*Fc(-C)*Math.sin((u-C)/i):2-s*Fc(C)*Math.sin((u+C)/i))/2}return g.amplitude=function(C){return l(C,i*Fh)},g.period=function(C){return l(s,C)},g}(d0,fc),z1=Object.freeze({__proto__:null,easeLinear:Ca,easeQuad:_y,easeQuadIn:Vf,easeQuadOut:su,easeQuadInOut:_y,easeCubic:Xf,easeCubicIn:df,easeCubicOut:f0,easeCubicInOut:Xf,easePoly:us,easePolyIn:vf,easePolyOut:uc,easePolyInOut:us,easeSin:Bh,easeSinIn:N1,easeSinOut:Wp,easeSinInOut:Bh,easeExp:gx,easeExpIn:Gp,easeExpOut:X2,easeExpInOut:gx,easeCircle:mx,easeCircleIn:Z2,easeCircleOut:K2,easeCircleInOut:mx,easeBounce:pf,easeBounceIn:bx,easeBounceOut:pf,easeBounceInOut:wx,easeBack:Ty,easeBackIn:Bn,easeBackOut:kv,easeBackInOut:Ty,easeElastic:jp,easeElasticIn:H1,easeElasticOut:jp,easeElasticInOut:Nh}),Fd={};function W1(l){return Fd[l.toLowerCase()]||z1[l]}var G1=function(l){return["fill","stroke","fillStyle","strokeStyle"].includes(l)},$1=function(l){return/^[r,R,L,l]{1}[\s]*\(/.test(l)},v0=[1,0,0,0,1,0,0,0,1];function Vp(l,s,i){var u={},g=s.fromAttrs,C=s.toAttrs;if(!l.destroyed){var x;for(var E in C)if(!Ge(g[E],C[E]))if(E==="path"){var O=C[E],R=g[E];O.length>R.length?(O=_e(C[E]),R=_e(g[E]),R=rr(R,O),R=Zt(R,O),s.fromAttrs.path=R,s.toAttrs.path=O):s.pathFormatted||(O=_e(C[E]),R=_e(g[E]),R=Zt(R,O),s.fromAttrs.path=R,s.toAttrs.path=O,s.pathFormatted=!0),u[E]=[];for(var k=0;k<O.length;k++){for(var z=O[k],j=R[k],q=[],ee=0;ee<z.length;ee++)tr(z[ee])&&j&&tr(j[ee])?(x=zp(j[ee],z[ee]),q.push(x(i))):q.push(z[ee]);u[E].push(q)}}else if(E==="matrix"){var le=Ld(g[E]||v0,C[E]||v0),me=le(i);u[E]=me}else G1(E)&&$1(C[E])?u[E]=C[E]:or(C[E])||(x=zp(g[E],C[E]),u[E]=x(i));l.attr(u)}}function Xp(l,s,i){var u=s.startTime,g=s.delay;if(i<u+g||s._paused)return!1;var C,x=s.duration,E=s.easing,O=W1(E);if(i=i-u-s.delay,s.repeat)C=i%x/x,C=O(C);else if(C=i/x,C<1)C=O(C);else return s.onFrame?l.attr(s.onFrame(1)):l.attr(s.toAttrs),!0;if(s.onFrame){var R=s.onFrame(C);l.attr(R)}else Vp(l,s,C);return!1}var Fv=function(){function l(s){this.animators=[],this.current=0,this.timer=null,this.canvas=s}return l.prototype.initTimer=function(){var s=this,i=!1,u,g,C;this.timer=Mo(function(x){if(s.current=x,s.animators.length>0){for(var E=s.animators.length-1;E>=0;E--){if(u=s.animators[E],u.destroyed){s.removeAnimator(E);continue}if(!u.isAnimatePaused()){g=u.get("animations");for(var O=g.length-1;O>=0;O--)C=g[O],i=Xp(u,C,x),i&&(g.splice(O,1),i=!1,C.callback&&C.callback())}g.length===0&&s.removeAnimator(E)}var R=s.canvas.get("autoDraw");R||s.canvas.draw()}})},l.prototype.addAnimator=function(s){this.animators.push(s)},l.prototype.removeAnimator=function(s){this.animators.splice(s,1)},l.prototype.isAnimating=function(){return!!this.animators.length},l.prototype.stop=function(){this.timer&&this.timer.stop()},l.prototype.stopAllAnimations=function(s){s===void 0&&(s=!0),this.animators.forEach(function(i){i.stopAnimate(s)}),this.animators=[],this.canvas.draw()},l.prototype.getTime=function(){return this.current},l}(),Nv=40,Nd=0,Zp=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function p0(l,s,i){i.name=s,i.target=l,i.currentTarget=l,i.delegateTarget=l,l.emit(s,i)}function U1(l,s,i){if(i.bubbles){var u=void 0,g=!1;if(s==="mouseenter"?(u=i.fromShape,g=!0):s==="mouseleave"&&(g=!0,u=i.toShape),l.isCanvas()&&g)return;if(u&&fa(l,u)){i.bubbles=!1;return}i.name=s,i.currentTarget=l,i.delegateTarget=l,l.emit(s,i)}}var Oy=function(){function l(s){var i=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(u){var g=u.type;i._triggerEvent(g,u)},this._onDocumentMove=function(u){var g=i.canvas,C=g.get("el");if(C!==u.target&&(i.dragging||i.currentShape)){var x=i._getPointInfo(u);i.dragging&&i._emitEvent("drag",u,x,i.draggingShape)}},this._onDocumentMouseUp=function(u){var g=i.canvas,C=g.get("el");if(C!==u.target&&i.dragging){var x=i._getPointInfo(u);i.draggingShape&&i._emitEvent("drop",u,x,null),i._emitEvent("dragend",u,x,i.draggingShape),i._afterDrag(i.draggingShape,x,u)}},this.canvas=s.canvas}return l.prototype.init=function(){this._bindEvents()},l.prototype._bindEvents=function(){var s=this,i=this.canvas.get("el");D(Zp,function(u){i.addEventListener(u,s._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},l.prototype._clearEvents=function(){var s=this,i=this.canvas.get("el");D(Zp,function(u){i.removeEventListener(u,s._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},l.prototype._getEventObj=function(s,i,u,g,C,x){var E=new Qr(s,i);return E.fromShape=C,E.toShape=x,E.x=u.x,E.y=u.y,E.clientX=u.clientX,E.clientY=u.clientY,E.propagationPath.push(g),E},l.prototype._getShape=function(s,i){return this.canvas.getShape(s.x,s.y,i)},l.prototype._getPointInfo=function(s){var i=this.canvas,u=i.getClientByEvent(s),g=i.getPointByEvent(s);return{x:g.x,y:g.y,clientX:u.x,clientY:u.y}},l.prototype._triggerEvent=function(s,i){var u=this._getPointInfo(i),g=this._getShape(u,i),C=this["_on"+s],x=!1;if(C)C.call(this,u,g,i);else{var E=this.currentShape;s==="mouseenter"||s==="dragenter"||s==="mouseover"?(this._emitEvent(s,i,u,null,null,g),g&&this._emitEvent(s,i,u,g,null,g),s==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",i,u,null)):s==="mouseleave"||s==="dragleave"||s==="mouseout"?(x=!0,E&&this._emitEvent(s,i,u,E,E,null),this._emitEvent(s,i,u,null,E,null),s==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",i,u,null)):this._emitEvent(s,i,u,g,null,null)}if(x||(this.currentShape=g),g&&!g.get("destroyed")){var O=this.canvas,R=O.get("el");R.style.cursor=g.attr("cursor")||O.get("cursor")}},l.prototype._onmousedown=function(s,i,u){u.button===Nd&&(this.mousedownShape=i,this.mousedownPoint=s,this.mousedownTimeStamp=u.timeStamp),this._emitEvent("mousedown",u,s,i,null,null)},l.prototype._emitMouseoverEvents=function(s,i,u,g){var C=this.canvas.get("el");u!==g&&(u&&(this._emitEvent("mouseout",s,i,u,u,g),this._emitEvent("mouseleave",s,i,u,u,g),(!g||g.get("destroyed"))&&(C.style.cursor=this.canvas.get("cursor"))),g&&(this._emitEvent("mouseover",s,i,g,u,g),this._emitEvent("mouseenter",s,i,g,u,g)))},l.prototype._emitDragoverEvents=function(s,i,u,g,C){g?(g!==u&&(u&&this._emitEvent("dragleave",s,i,u,u,g),this._emitEvent("dragenter",s,i,g,u,g)),C||this._emitEvent("dragover",s,i,g)):u&&this._emitEvent("dragleave",s,i,u,u,g),C&&this._emitEvent("dragover",s,i,g)},l.prototype._afterDrag=function(s,i,u){s&&(s.set("capture",!0),this.draggingShape=null),this.dragging=!1;var g=this._getShape(i,u);g!==s&&this._emitMouseoverEvents(u,i,s,g),this.currentShape=g},l.prototype._onmouseup=function(s,i,u){if(u.button===Nd){var g=this.draggingShape;this.dragging?(g&&this._emitEvent("drop",u,s,i),this._emitEvent("dragend",u,s,g),this._afterDrag(g,s,u)):(this._emitEvent("mouseup",u,s,i),i===this.mousedownShape&&this._emitEvent("click",u,s,i),this.mousedownShape=null,this.mousedownPoint=null)}},l.prototype._ondragover=function(s,i,u){u.preventDefault();var g=this.currentShape;this._emitDragoverEvents(u,s,g,i,!0)},l.prototype._onmousemove=function(s,i,u){var g=this.canvas,C=this.currentShape,x=this.draggingShape;if(this.dragging)x&&this._emitDragoverEvents(u,s,C,i,!1),this._emitEvent("drag",u,s,x);else{var E=this.mousedownPoint;if(E){var O=this.mousedownShape,R=u.timeStamp,k=R-this.mousedownTimeStamp,z=E.clientX-s.clientX,j=E.clientY-s.clientY,q=z*z+j*j;k>120||q>Nv?O&&O.get("draggable")?(x=this.mousedownShape,x.set("capture",!1),this.draggingShape=x,this.dragging=!0,this._emitEvent("dragstart",u,s,x),this.mousedownShape=null,this.mousedownPoint=null):!O&&g.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",u,s,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(u,s,C,i),this._emitEvent("mousemove",u,s,i)):(this._emitMouseoverEvents(u,s,C,i),this._emitEvent("mousemove",u,s,i))}else this._emitMouseoverEvents(u,s,C,i),this._emitEvent("mousemove",u,s,i)}},l.prototype._emitEvent=function(s,i,u,g,C,x){var E=this._getEventObj(s,i,u,g,C,x);if(g){E.shape=g,p0(g,s,E);for(var O=g.getParent();O;)O.emitDelegation(s,E),E.propagationStopped||U1(O,s,E),E.propagationPath.push(O),O=O.getParent()}else{var R=this.canvas;p0(R,s,E)}},l.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},l}(),g0="px",m0=Es(),y0=m0&&m0.name==="firefox",C0=function(l){kn(s,l);function s(i){var u=l.call(this,i)||this;return u.initContainer(),u.initDom(),u.initEvents(),u.initTimeline(),u}return s.prototype.getDefaultCfg=function(){var i=l.prototype.getDefaultCfg.call(this);return i.cursor="default",i.supportCSSTransform=!1,i},s.prototype.initContainer=function(){var i=this.get("container");lr(i)&&(i=document.getElementById(i),this.set("container",i))},s.prototype.initDom=function(){var i=this.createDom();this.set("el",i);var u=this.get("container");u.appendChild(i),this.setDOMSize(this.get("width"),this.get("height"))},s.prototype.initEvents=function(){var i=new Oy({canvas:this});i.init(),this.set("eventController",i)},s.prototype.initTimeline=function(){var i=new Fv(this);this.set("timeline",i)},s.prototype.setDOMSize=function(i,u){var g=this.get("el");yi&&(g.style.width=i+g0,g.style.height=u+g0)},s.prototype.changeSize=function(i,u){this.setDOMSize(i,u),this.set("width",i),this.set("height",u),this.onCanvasChange("changeSize")},s.prototype.getRenderer=function(){return this.get("renderer")},s.prototype.getCursor=function(){return this.get("cursor")},s.prototype.setCursor=function(i){this.set("cursor",i);var u=this.get("el");yi&&u&&(u.style.cursor=i)},s.prototype.getPointByEvent=function(i){var u=this.get("supportCSSTransform");if(u){if(y0&&!kt(i.layerX)&&i.layerX!==i.offsetX)return{x:i.layerX,y:i.layerY};if(!kt(i.offsetX))return{x:i.offsetX,y:i.offsetY}}var g=this.getClientByEvent(i),C=g.x,x=g.y;return this.getPointByClient(C,x)},s.prototype.getClientByEvent=function(i){var u=i;return i.touches&&(i.type==="touchend"?u=i.changedTouches[0]:u=i.touches[0]),{x:u.clientX,y:u.clientY}},s.prototype.getPointByClient=function(i,u){var g=this.get("el"),C=g.getBoundingClientRect();return{x:i-C.left,y:u-C.top}},s.prototype.getClientByPoint=function(i,u){var g=this.get("el"),C=g.getBoundingClientRect();return{x:i+C.left,y:u+C.top}},s.prototype.draw=function(){},s.prototype.removeDom=function(){var i=this.get("el");i.parentNode.removeChild(i)},s.prototype.clearEvents=function(){var i=this.get("eventController");i.destroy()},s.prototype.isCanvas=function(){return!0},s.prototype.getParent=function(){return null},s.prototype.destroy=function(){var i=this.get("timeline");this.get("destroyed")||(this.clear(),i&&i.stop(),this.clearEvents(),this.removeDom(),l.prototype.destroy.call(this))},s}(jr),Hv=function(l){kn(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.isGroup=function(){return!0},s.prototype.isEntityGroup=function(){return!1},s.prototype.clone=function(){for(var i=l.prototype.clone.call(this),u=this.getChildren(),g=0;g<u.length;g++){var C=u[g];i.add(C.clone())}return i},s}(jr),Pa=function(l){kn(s,l);function s(i){return l.call(this,i)||this}return s.prototype._isInBBox=function(i,u){var g=this.getBBox();return g.minX<=i&&g.maxX>=i&&g.minY<=u&&g.maxY>=u},s.prototype.afterAttrsChange=function(i){l.prototype.afterAttrsChange.call(this,i),this.clearCacheBBox()},s.prototype.getBBox=function(){var i=this.cfg.bbox;return i||(i=this.calculateBBox(),this.set("bbox",i)),i},s.prototype.getCanvasBBox=function(){var i=this.cfg.canvasBBox;return i||(i=this.calculateCanvasBBox(),this.set("canvasBBox",i)),i},s.prototype.applyMatrix=function(i){l.prototype.applyMatrix.call(this,i),this.set("canvasBBox",null)},s.prototype.calculateCanvasBBox=function(){var i=this.getBBox(),u=this.getTotalMatrix(),g=i.minX,C=i.minY,x=i.maxX,E=i.maxY;if(u){var O=rn(u,[i.minX,i.minY]),R=rn(u,[i.maxX,i.minY]),k=rn(u,[i.minX,i.maxY]),z=rn(u,[i.maxX,i.maxY]);g=Math.min(O[0],R[0],k[0],z[0]),x=Math.max(O[0],R[0],k[0],z[0]),C=Math.min(O[1],R[1],k[1],z[1]),E=Math.max(O[1],R[1],k[1],z[1])}var j=this.attrs;if(j.shadowColor){var q=j.shadowBlur,ee=q===void 0?0:q,le=j.shadowOffsetX,me=le===void 0?0:le,Oe=j.shadowOffsetY,$e=Oe===void 0?0:Oe,Ye=g-ee+me,Ze=x+ee+me,Ut=C-ee+$e,gr=E+ee+$e;g=Math.min(g,Ye),x=Math.max(x,Ze),C=Math.min(C,Ut),E=Math.max(E,gr)}return{x:g,y:C,minX:g,minY:C,maxX:x,maxY:E,width:x-g,height:E-C}},s.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},s.prototype.isClipShape=function(){return this.get("isClipShape")},s.prototype.isInShape=function(i,u){return!1},s.prototype.isOnlyHitBox=function(){return!1},s.prototype.isHit=function(i,u){var g=this.get("startArrowShape"),C=this.get("endArrowShape"),x=[i,u,1];x=this.invertFromMatrix(x);var E=x[0],O=x[1],R=this._isInBBox(E,O);return this.isOnlyHitBox()?R:!!(R&&!this.isClipped(E,O)&&(this.isInShape(E,O)||g&&g.isHit(E,O)||C&&C.isHit(E,O)))},s}(hf),Hd=new Map;function Ll(l,s){Hd.set(l,s)}function Hh(l){return Hd.get(l)}function zh(l){var s=l.attr(),i=s.x,u=s.y,g=s.width,C=s.height;return{x:i,y:u,width:g,height:C}}function Vi(l){var s=l.attr(),i=s.x,u=s.y,g=s.r;return{x:i-g,y:u-g,width:g*2,height:g*2}}function Ay(l){return Math.min.apply(null,l)}function zv(l){return Math.max.apply(null,l)}function el(l,s,i,u){var g=l-i,C=s-u;return Math.sqrt(g*g+C*C)}function b0(l,s){return Math.abs(l-s)<.001}function Wh(l,s){var i=Ay(l),u=Ay(s),g=zv(l),C=zv(s);return{x:i,y:u,width:g-i,height:C-u}}function Gh(l){return(l+Math.PI*2)%(Math.PI*2)}var Nl={box:function(l,s,i,u){return Wh([l,i],[s,u])},length:function(l,s,i,u){return el(l,s,i,u)},pointAt:function(l,s,i,u,g){return{x:(1-g)*l+g*i,y:(1-g)*s+g*u}},pointDistance:function(l,s,i,u,g,C){var x=(i-l)*(g-l)+(u-s)*(C-s);if(x<0)return el(l,s,g,C);var E=(i-l)*(i-l)+(u-s)*(u-s);return x>E?el(i,u,g,C):this.pointToLine(l,s,i,u,g,C)},pointToLine:function(l,s,i,u,g,C){var x=[i-l,u-s];if(lc(x,[0,0]))return Math.sqrt((g-l)*(g-l)+(C-s)*(C-s));var E=[-x[1],x[0]];Ql(E,E);var O=[g-l,C-s];return Math.abs(Al(O,E))},tangentAngle:function(l,s,i,u){return Math.atan2(u-s,i-l)}},Kp=1e-4;function $h(l,s,i,u,g,C){var x,E=1/0,O=[i,u],R=20;C&&C>200&&(R=C/10);for(var k=1/R,z=k/10,j=0;j<=R;j++){var q=j*k,ee=[g.apply(null,l.concat([q])),g.apply(null,s.concat([q]))],le=el(O[0],O[1],ee[0],ee[1]);le<E&&(x=q,E=le)}if(x===0)return{x:l[0],y:s[0]};if(x===1){var me=l.length;return{x:l[me-1],y:s[me-1]}}E=1/0;for(var j=0;j<32&&!(z<Kp);j++){var Oe=x-z,$e=x+z,ee=[g.apply(null,l.concat([Oe])),g.apply(null,s.concat([Oe]))],le=el(O[0],O[1],ee[0],ee[1]);if(Oe>=0&&le<E)x=Oe,E=le;else{var Ye=[g.apply(null,l.concat([$e])),g.apply(null,s.concat([$e]))],Ze=el(O[0],O[1],Ye[0],Ye[1]);$e<=1&&Ze<E?(x=$e,E=Ze):z*=.5}}return{x:g.apply(null,l.concat([x])),y:g.apply(null,s.concat([x]))}}function cs(l,s){for(var i=0,u=l.length,g=0;g<u;g++){var C=l[g],x=s[g],E=l[(g+1)%u],O=s[(g+1)%u];i+=el(C,x,E,O)}return i/2}function hc(l,s,i,u){var g=1-u;return g*g*l+2*u*g*s+u*u*i}function Iy(l,s,i){var u=l+i-2*s;if(b0(u,0))return[.5];var g=(l-s)/u;return g<=1&&g>=0?[g]:[]}function zd(l,s,i,u){return 2*(1-u)*(s-l)+2*u*(i-s)}function qp(l,s,i,u,g,C,x){var E=hc(l,i,g,x),O=hc(s,u,C,x),R=Nl.pointAt(l,s,i,u,x),k=Nl.pointAt(i,u,g,C,x);return[[l,s,R.x,R.y,E,O],[E,O,k.x,k.y,g,C]]}function Qp(l,s,i,u,g,C,x){if(x===0)return(el(l,s,i,u)+el(i,u,g,C)+el(l,s,g,C))/2;var E=qp(l,s,i,u,g,C,.5),O=E[0],R=E[1];return O.push(x-1),R.push(x-1),Qp.apply(null,O)+Qp.apply(null,R)}var Wd={box:function(l,s,i,u,g,C){var x=Iy(l,i,g)[0],E=Iy(s,u,C)[0],O=[l,g],R=[s,C];return x!==void 0&&O.push(hc(l,i,g,x)),E!==void 0&&R.push(hc(s,u,C,E)),Wh(O,R)},length:function(l,s,i,u,g,C){return Qp(l,s,i,u,g,C,3)},nearestPoint:function(l,s,i,u,g,C,x,E){return $h([l,i,g],[s,u,C],x,E,hc)},pointDistance:function(l,s,i,u,g,C,x,E){var O=this.nearestPoint(l,s,i,u,g,C,x,E);return el(O.x,O.y,x,E)},interpolationAt:hc,pointAt:function(l,s,i,u,g,C,x){return{x:hc(l,i,g,x),y:hc(s,u,C,x)}},divide:function(l,s,i,u,g,C,x){return qp(l,s,i,u,g,C,x)},tangentAngle:function(l,s,i,u,g,C,x){var E=zd(l,i,g,x),O=zd(s,u,C,x),R=Math.atan2(O,E);return Gh(R)}};function Zu(l,s,i,u,g){var C=1-g;return C*C*C*l+3*s*g*C*C+3*i*g*g*C+u*g*g*g}function Jp(l,s,i,u,g){var C=1-g;return 3*(C*C*(s-l)+2*C*g*(i-s)+g*g*(u-i))}function Hl(l,s,i,u){var g=-3*l+9*s-9*i+3*u,C=6*l-12*s+6*i,x=3*s-3*l,E=[],O,R,k;if(b0(g,0))b0(C,0)||(O=-x/C,O>=0&&O<=1&&E.push(O));else{var z=C*C-4*g*x;b0(z,0)?E.push(-C/(2*g)):z>0&&(k=Math.sqrt(z),O=(-C+k)/(2*g),R=(-C-k)/(2*g),O>=0&&O<=1&&E.push(O),R>=0&&R<=1&&E.push(R))}return E}function Zf(l,s,i,u,g,C,x,E,O){var R=Zu(l,i,g,x,O),k=Zu(s,u,C,E,O),z=Nl.pointAt(l,s,i,u,O),j=Nl.pointAt(i,u,g,C,O),q=Nl.pointAt(g,C,x,E,O),ee=Nl.pointAt(z.x,z.y,j.x,j.y,O),le=Nl.pointAt(j.x,j.y,q.x,q.y,O);return[[l,s,z.x,z.y,ee.x,ee.y,R,k],[R,k,le.x,le.y,q.x,q.y,x,E]]}function w0(l,s,i,u,g,C,x,E,O){if(O===0)return cs([l,i,g,x],[s,u,C,E]);var R=Zf(l,s,i,u,g,C,x,E,.5),k=R[0],z=R[1];return k.push(O-1),z.push(O-1),w0.apply(null,k)+w0.apply(null,z)}var co={extrema:Hl,box:function(l,s,i,u,g,C,x,E){for(var O=[l,x],R=[s,E],k=Hl(l,i,g,x),z=Hl(s,u,C,E),j=0;j<k.length;j++)O.push(Zu(l,i,g,x,k[j]));for(var j=0;j<z.length;j++)R.push(Zu(s,u,C,E,z[j]));return Wh(O,R)},length:function(l,s,i,u,g,C,x,E){return w0(l,s,i,u,g,C,x,E,3)},nearestPoint:function(l,s,i,u,g,C,x,E,O,R,k){return $h([l,i,g,x],[s,u,C,E],O,R,Zu,k)},pointDistance:function(l,s,i,u,g,C,x,E,O,R,k){var z=this.nearestPoint(l,s,i,u,g,C,x,E,O,R,k);return el(z.x,z.y,O,R)},interpolationAt:Zu,pointAt:function(l,s,i,u,g,C,x,E,O){return{x:Zu(l,i,g,x,O),y:Zu(s,u,C,E,O)}},divide:function(l,s,i,u,g,C,x,E,O){return Zf(l,s,i,u,g,C,x,E,O)},tangentAngle:function(l,s,i,u,g,C,x,E,O){var R=Jp(l,i,g,x,O),k=Jp(s,u,C,E,O);return Gh(Math.atan2(k,R))}};function Xs(l,s){var i=Math.abs(l);return s>0?i:i*-1}var Uh={box:function(l,s,i,u){return{x:l-i,y:s-u,width:i*2,height:u*2}},length:function(l,s,i,u){return Math.PI*(3*(i+u)-Math.sqrt((3*i+u)*(i+3*u)))},nearestPoint:function(l,s,i,u,g,C){var x=i,E=u;if(x===0||E===0)return{x:l,y:s};for(var O=g-l,R=C-s,k=Math.abs(O),z=Math.abs(R),j=x*x,q=E*E,ee=Math.PI/4,le,me,Oe=0;Oe<4;Oe++){le=x*Math.cos(ee),me=E*Math.sin(ee);var $e=(j-q)*Math.pow(Math.cos(ee),3)/x,Ye=(q-j)*Math.pow(Math.sin(ee),3)/E,Ze=le-$e,Ut=me-Ye,gr=k-$e,br=z-Ye,Zr=Math.hypot(Ut,Ze),gn=Math.hypot(br,gr),Kn=Zr*Math.asin((Ze*br-Ut*gr)/(Zr*gn)),In=Kn/Math.sqrt(j+q-le*le-me*me);ee+=In,ee=Math.min(Math.PI/2,Math.max(0,ee))}return{x:l+Xs(le,O),y:s+Xs(me,R)}},pointDistance:function(l,s,i,u,g,C){var x=this.nearestPoint(l,s,i,u,g,C);return el(x.x,x.y,g,C)},pointAt:function(l,s,i,u,g){var C=2*Math.PI*g;return{x:l+i*Math.cos(C),y:s+u*Math.sin(C)}},tangentAngle:function(l,s,i,u,g){var C=2*Math.PI*g,x=Math.atan2(u*Math.cos(C),-i*Math.sin(C));return Gh(x)}};function Nc(l,s,i,u,g,C,x,E){return-1*i*Math.cos(g)*Math.sin(E)-u*Math.sin(g)*Math.cos(E)}function xx(l,s,i,u,g,C,x,E){return-1*i*Math.sin(g)*Math.sin(E)+u*Math.cos(g)*Math.cos(E)}function Gd(l,s,i){return Math.atan(-s/l*Math.tan(i))}function eg(l,s,i){return Math.atan(s/(l*Math.tan(i)))}function Ry(l,s,i,u,g,C){return i*Math.cos(g)*Math.cos(C)-u*Math.sin(g)*Math.sin(C)+l}function x0(l,s,i,u,g,C){return i*Math.sin(g)*Math.cos(C)+u*Math.cos(g)*Math.sin(C)+s}function Dy(l,s,i,u){var g=Math.atan2(u*l,i*s);return(g+Math.PI*2)%(Math.PI*2)}function fs(l,s,i){return{x:l*Math.cos(i),y:s*Math.sin(i)}}function $d(l,s,i){var u=Math.cos(i),g=Math.sin(i);return[l*u-s*g,l*g+s*u]}var Y1={box:function(l,s,i,u,g,C,x){for(var E=Gd(i,u,g),O=1/0,R=-1/0,k=[C,x],z=-Math.PI*2;z<=Math.PI*2;z+=Math.PI){var j=E+z;C<x?C<j&&j<x&&k.push(j):x<j&&j<C&&k.push(j)}for(var z=0;z<k.length;z++){var q=Ry(l,s,i,u,g,k[z]);q<O&&(O=q),q>R&&(R=q)}for(var ee=eg(i,u,g),le=1/0,me=-1/0,Oe=[C,x],z=-Math.PI*2;z<=Math.PI*2;z+=Math.PI){var $e=ee+z;C<x?C<$e&&$e<x&&Oe.push($e):x<$e&&$e<C&&Oe.push($e)}for(var z=0;z<Oe.length;z++){var Ye=x0(l,s,i,u,g,Oe[z]);Ye<le&&(le=Ye),Ye>me&&(me=Ye)}return{x:O,y:le,width:R-O,height:me-le}},length:function(l,s,i,u,g,C,x){},nearestPoint:function(l,s,i,u,g,C,x,E,O){var R=$d(E-l,O-s,-g),k=R[0],z=R[1],j=Uh.nearestPoint(0,0,i,u,k,z),q=Dy(i,u,j.x,j.y);q<C?j=fs(i,u,C):q>x&&(j=fs(i,u,x));var ee=$d(j.x,j.y,g);return{x:ee[0]+l,y:ee[1]+s}},pointDistance:function(l,s,i,u,g,C,x,E,O){var R=this.nearestPoint(l,s,i,u,E,O);return el(R.x,R.y,E,O)},pointAt:function(l,s,i,u,g,C,x,E){var O=(x-C)*E+C;return{x:Ry(l,s,i,u,g,O),y:x0(l,s,i,u,g,O)}},tangentAngle:function(l,s,i,u,g,C,x,E){var O=(x-C)*E+C,R=Nc(l,s,i,u,g,C,x,O),k=xx(l,s,i,u,g,C,x,O);return Gh(Math.atan2(k,R))}};function Ud(l){for(var s=0,i=[],u=0;u<l.length-1;u++){var g=l[u],C=l[u+1],x=el(g[0],g[1],C[0],C[1]),E={from:g,to:C,length:x};i.push(E),s+=x}return{segments:i,totalLength:s}}function Ly(l){if(l.length<2)return 0;for(var s=0,i=0;i<l.length-1;i++){var u=l[i],g=l[i+1];s+=el(u[0],u[1],g[0],g[1])}return s}function gf(l,s){if(s>1||s<0||l.length<2)return null;var i=Ud(l),u=i.segments,g=i.totalLength;if(g===0)return{x:l[0][0],y:l[0][1]};for(var C=0,x=null,E=0;E<u.length;E++){var O=u[E],R=O.from,k=O.to,z=O.length/g;if(s>=C&&s<=C+z){var j=(s-C)/z;x=Nl.pointAt(R[0],R[1],k[0],k[1],j);break}C+=z}return x}function tg(l,s){if(s>1||s<0||l.length<2)return 0;for(var i=Ud(l),u=i.segments,g=i.totalLength,C=0,x=0,E=0;E<u.length;E++){var O=u[E],R=O.from,k=O.to,z=O.length/g;if(s>=C&&s<=C+z){x=Math.atan2(k[1]-R[1],k[0]-R[0]);break}C+=z}return x}function Yh(l,s,i){for(var u=1/0,g=0;g<l.length-1;g++){var C=l[g],x=l[g+1],E=Nl.pointDistance(C[0],C[1],x[0],x[1],s,i);E<u&&(u=E)}return u}var Py={box:function(l){for(var s=[],i=[],u=0;u<l.length;u++){var g=l[u];s.push(g[0]),i.push(g[1])}return Wh(s,i)},length:function(l){return Ly(l)},pointAt:function(l,s){return gf(l,s)},pointDistance:function(l,s,i){return Yh(l,s,i)},tangentAngle:function(l,s){return tg(l,s)}};function Jl(l,s){return!l||!s?l||s:{minX:Math.min(l.minX,s.minX),minY:Math.min(l.minY,s.minY),maxX:Math.max(l.maxX,s.maxX),maxY:Math.max(l.maxY,s.maxY)}}function Au(l,s){var i=l.get("startArrowShape"),u=l.get("endArrowShape"),g=null,C=null;return i&&(g=i.getCanvasBBox(),s=Jl(s,g)),u&&(C=u.getCanvasBBox(),s=Jl(s,C)),s}function Hc(l){for(var s=l.attr(),i=s.points,u=[],g=[],C=0;C<i.length;C++){var x=i[C];u.push(x[0]),g.push(x[1])}var E=Wh(u,g),O=E.x,R=E.y,k=E.width,z=E.height,j={minX:O,minY:R,maxX:O+k,maxY:R+z};return j=Au(l,j),{x:j.minX,y:j.minY,width:j.maxX-j.minX,height:j.maxY-j.minY}}function mf(l){for(var s=l.attr(),i=s.points,u=[],g=[],C=0;C<i.length;C++){var x=i[C];u.push(x[0]),g.push(x[1])}return Wh(u,g)}var Co=null;function Wv(){if(!Co){var l=document.createElement("canvas");l.width=1,l.height=1,Co=l.getContext("2d")}return Co}function On(l,s,i){var u=1;if(lr(l)&&(u=l.split(`
`).length),u>1){var g=rg(s,i);return s*u+g*(u-1)}return s}function rg(l,s){return s?s-l:l*.14}function By(l,s){var i=Wv(),u=0;if(kt(l)||l==="")return u;if(i.save(),i.font=s,lr(l)&&l.includes(`
`)){var g=l.split(`
`);D(g,function(C){var x=i.measureText(C).width;u<x&&(u=x)})}else u=i.measureText(l).width;return i.restore(),u}function Gv(l){var s=l.fontSize,i=l.fontFamily,u=l.fontWeight,g=l.fontStyle,C=l.fontVariant;return[g,C,u,s+"px",i].join(" ").trim()}function Ta(l){var s=l.attr(),i=s.x,u=s.y,g=s.text,C=s.fontSize,x=s.lineHeight,E=s.font;E||(E=Gv(s));var O=By(g,E),R;if(!O)R={x:i,y:u,width:0,height:0};else{var k=s.textAlign,z=s.textBaseline,j=On(g,C,x),q={x:i,y:u-j};k&&(k==="end"||k==="right"?q.x-=O:k==="center"&&(q.x-=O/2)),z&&(z==="top"?q.y+=j:z==="middle"&&(q.y+=j/2)),R={x:q.x,y:q.y,width:O,height:j}}return R}var yf=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,dc=/[^\s\,]+/ig;function Yd(l){var s=l||[];if(Mt(s))return s;if(lr(s))return s=s.match(yf),D(s,function(i,u){if(i=i.match(dc),i[0].length>1){var g=i[0].charAt(0);i.splice(1,0,i[0].substr(1)),i[0]=g}D(i,function(C,x){isNaN(C)||(i[x]=+C)}),s[u]=i}),s}var ji=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,ng=new RegExp("([a-z])["+ji+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+ji+"]*,?["+ji+"]*)+)","ig"),$v=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+ji+"]*,?["+ji+"]*","ig");function Uv(l){if(!l)return null;if(Mt(l))return l;var s={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return String(l).replace(ng,function(u,g,C){var x=[],E=g.toLowerCase();if(C.replace($v,function(O,R){R&&x.push(+R)}),E==="m"&&x.length>2&&(i.push([g].concat(x.splice(0,2))),E="l",g=g==="m"?"l":"L"),E==="o"&&x.length===1&&i.push([g,x[0]]),E==="r")i.push([g].concat(x));else for(;x.length>=s[E]&&(i.push([g].concat(x.splice(0,s[E]))),!!s[E]););return""}),i}var S0=/[a-z]/;function Zs(l,s){return[s[0]+(s[0]-l[0]),s[1]+(s[1]-l[1])]}function Yv(l){var s=Uv(l);if(!s||!s.length)return[["M",0,0]];for(var i=!1,u=0;u<s.length;u++){var g=s[u][0];if(S0.test(g)||["V","H","T","S"].indexOf(g)>=0){i=!0;break}}if(!i)return s;var C=[],x=0,E=0,O=0,R=0,k=0,z=s[0];(z[0]==="M"||z[0]==="m")&&(x=+z[1],E=+z[2],O=x,R=E,k++,C[0]=["M",x,E]);for(var u=k,j=s.length;u<j;u++){var q=s[u],ee=C[u-1],le=[],g=q[0],me=g.toUpperCase();if(g!==me)switch(le[0]=me,me){case"A":le[1]=q[1],le[2]=q[2],le[3]=q[3],le[4]=q[4],le[5]=q[5],le[6]=+q[6]+x,le[7]=+q[7]+E;break;case"V":le[1]=+q[1]+E;break;case"H":le[1]=+q[1]+x;break;case"M":O=+q[1]+x,R=+q[2]+E,le[1]=O,le[2]=R;break;default:for(var Oe=1,$e=q.length;Oe<$e;Oe++)le[Oe]=+q[Oe]+(Oe%2?x:E)}else le=s[u];switch(me){case"Z":x=+O,E=+R;break;case"H":x=le[1],le=["L",x,E];break;case"V":E=le[1],le=["L",x,E];break;case"T":x=le[1],E=le[2];var Ye=Zs([ee[1],ee[2]],[ee[3],ee[4]]);le=["Q",Ye[0],Ye[1],x,E];break;case"S":x=le[le.length-2],E=le[le.length-1];var Ze=ee.length,Ut=Zs([ee[Ze-4],ee[Ze-3]],[ee[Ze-2],ee[Ze-1]]);le=["C",Ut[0],Ut[1],le[1],le[2],x,E];break;case"M":O=le[le.length-2],R=le[le.length-1];break;default:x=le[le.length-2],E=le[le.length-1]}C.push(le)}return C}function jd(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function ig(l,s){return jd(l)*jd(s)?(l[0]*s[0]+l[1]*s[1])/(jd(l)*jd(s)):1}function j1(l,s){return(l[0]*s[1]<l[1]*s[0]?-1:1)*Math.acos(ig(l,s))}function _0(l,s){return l[0]===s[0]&&l[1]===s[1]}function Sx(l,s){var i=s[1],u=s[2],g=er(Nt(s[3]),Math.PI*2),C=s[4],x=s[5],E=l[0],O=l[1],R=s[6],k=s[7],z=Math.cos(g)*(E-R)/2+Math.sin(g)*(O-k)/2,j=-1*Math.sin(g)*(E-R)/2+Math.cos(g)*(O-k)/2,q=z*z/(i*i)+j*j/(u*u);q>1&&(i*=Math.sqrt(q),u*=Math.sqrt(q));var ee=i*i*(j*j)+u*u*(z*z),le=ee?Math.sqrt((i*i*(u*u)-ee)/ee):1;C===x&&(le*=-1),isNaN(le)&&(le=0);var me=u?le*i*j/u:0,Oe=i?le*-u*z/i:0,$e=(E+R)/2+Math.cos(g)*me-Math.sin(g)*Oe,Ye=(O+k)/2+Math.sin(g)*me+Math.cos(g)*Oe,Ze=[(z-me)/i,(j-Oe)/u],Ut=[(-1*z-me)/i,(-1*j-Oe)/u],gr=j1([1,0],Ze),br=j1(Ze,Ut);return ig(Ze,Ut)<=-1&&(br=Math.PI),ig(Ze,Ut)>=1&&(br=0),x===0&&br>0&&(br=br-2*Math.PI),x===1&&br<0&&(br=br+2*Math.PI),{cx:$e,cy:Ye,rx:_0(l,[R,k])?0:i,ry:_0(l,[R,k])?0:u,startAngle:gr,endAngle:gr+br,xRotation:g,arcFlag:C,sweepFlag:x}}function ag(l,s){return[s[0]+(s[0]-l[0]),s[1]+(s[1]-l[1])]}function og(l){l=Yd(l);for(var s=[],i=null,u=null,g=null,C=0,x=l.length,E=0;E<x;E++){var O=l[E];u=l[E+1];var R=O[0],k={command:R,prePoint:i,params:O,startTangent:null,endTangent:null};switch(R){case"M":g=[O[1],O[2]],C=E;break;case"A":var z=Sx(i,O);k.arcParams=z;break}if(R==="Z")i=g,u=l[C+1];else{var j=O.length;i=[O[j-2],O[j-1]]}u&&u[0]==="Z"&&(u=l[C],s[C]&&(s[C].prePoint=i)),k.currentPoint=i,s[C]&&_0(i,s[C].currentPoint)&&(s[C].prePoint=k.prePoint);var q=u?[u[u.length-2],u[u.length-1]]:null;k.nextPoint=q;var ee=k.prePoint;if(["L","H","V"].includes(R))k.startTangent=[ee[0]-i[0],ee[1]-i[1]],k.endTangent=[i[0]-ee[0],i[1]-ee[1]];else if(R==="Q"){var le=[O[1],O[2]];k.startTangent=[ee[0]-le[0],ee[1]-le[1]],k.endTangent=[i[0]-le[0],i[1]-le[1]]}else if(R==="T"){var me=s[E-1],le=ag(me.currentPoint,ee);me.command==="Q"?(k.command="Q",k.startTangent=[ee[0]-le[0],ee[1]-le[1]],k.endTangent=[i[0]-le[0],i[1]-le[1]]):(k.command="TL",k.startTangent=[ee[0]-i[0],ee[1]-i[1]],k.endTangent=[i[0]-ee[0],i[1]-ee[1]])}else if(R==="C"){var Oe=[O[1],O[2]],$e=[O[3],O[4]];k.startTangent=[ee[0]-Oe[0],ee[1]-Oe[1]],k.endTangent=[i[0]-$e[0],i[1]-$e[1]],k.startTangent[0]===0&&k.startTangent[1]===0&&(k.startTangent=[Oe[0]-$e[0],Oe[1]-$e[1]]),k.endTangent[0]===0&&k.endTangent[1]===0&&(k.endTangent=[$e[0]-Oe[0],$e[1]-Oe[1]])}else if(R==="S"){var me=s[E-1],Oe=ag(me.currentPoint,ee),$e=[O[1],O[2]];me.command==="C"?(k.command="C",k.startTangent=[ee[0]-Oe[0],ee[1]-Oe[1]],k.endTangent=[i[0]-$e[0],i[1]-$e[1]]):(k.command="SQ",k.startTangent=[ee[0]-$e[0],ee[1]-$e[1]],k.endTangent=[i[0]-$e[0],i[1]-$e[1]])}else if(R==="A"){var Ye=.001,Ze=k.arcParams||{},Ut=Ze.cx,gr=Ut===void 0?0:Ut,br=Ze.cy,Zr=br===void 0?0:br,gn=Ze.rx,Kn=gn===void 0?0:gn,In=Ze.ry,Xn=In===void 0?0:In,gi=Ze.sweepFlag,Pi=gi===void 0?0:gi,Dn=Ze.startAngle,Jn=Dn===void 0?0:Dn,So=Ze.endAngle,no=So===void 0?0:So;Pi===0&&(Ye*=-1);var zo=Kn*Math.cos(Jn-Ye)+gr,aa=Xn*Math.sin(Jn-Ye)+Zr;k.startTangent=[zo-g[0],aa-g[1]];var Wo=Kn*Math.cos(Jn+no+Ye)+gr,Ka=Xn*Math.sin(Jn+no-Ye)+Zr;k.endTangent=[ee[0]-Wo,ee[1]-Ka]}s.push(k)}return s}function ky(l,s){for(var i=[],u=[],g=[],C=0;C<l.length;C++){var x=l[C],E=x.currentPoint,O=x.params,R=x.prePoint,k=void 0;switch(x.command){case"Q":k=Wd.box(R[0],R[1],O[1],O[2],O[3],O[4]);break;case"C":k=co.box(R[0],R[1],O[1],O[2],O[3],O[4],O[5],O[6]);break;case"A":var z=x.arcParams;k=Y1.box(z.cx,z.cy,z.rx,z.ry,z.xRotation,z.startAngle,z.endAngle);break;default:i.push(E[0]),u.push(E[1]);break}k&&(x.box=k,i.push(k.x,k.x+k.width),u.push(k.y,k.y+k.height)),s&&(x.command==="L"||x.command==="M")&&x.prePoint&&x.nextPoint&&g.push(x)}i=i.filter(function(Oe){return!Number.isNaN(Oe)&&Oe!==1/0&&Oe!==-1/0}),u=u.filter(function(Oe){return!Number.isNaN(Oe)&&Oe!==1/0&&Oe!==-1/0});var j=Gt(i),q=Gt(u),ee=lt(i),le=lt(u);if(g.length===0)return{x:j,y:q,width:ee-j,height:le-q};for(var C=0;C<g.length;C++){var x=g[C],E=x.currentPoint,me=void 0;E[0]===j?(me=Iu(x,s),j=j-me.xExtra):E[0]===ee&&(me=Iu(x,s),ee=ee+me.xExtra),E[1]===q?(me=Iu(x,s),q=q-me.yExtra):E[1]===le&&(me=Iu(x,s),le=le+me.yExtra)}return{x:j,y:q,width:ee-j,height:le-q}}function Iu(l,s){var i=l.prePoint,u=l.currentPoint,g=l.nextPoint,C=Math.pow(u[0]-i[0],2)+Math.pow(u[1]-i[1],2),x=Math.pow(u[0]-g[0],2)+Math.pow(u[1]-g[1],2),E=Math.pow(i[0]-g[0],2)+Math.pow(i[1]-g[1],2),O=Math.acos((C+x-E)/(2*Math.sqrt(C)*Math.sqrt(x)));if(!O||Math.sin(O)===0||gt(O,0))return{xExtra:0,yExtra:0};var R=Math.abs(Math.atan2(g[1]-u[1],g[0]-u[0])),k=Math.abs(Math.atan2(g[0]-u[0],g[1]-u[1]));R=R>Math.PI/2?Math.PI-R:R,k=k>Math.PI/2?Math.PI-k:k;var z={xExtra:Math.cos(O/2-R)*(s/2*(1/Math.sin(O/2)))-s/2||0,yExtra:Math.cos(k-O/2)*(s/2*(1/Math.sin(O/2)))-s/2||0};return z}function E0(l){var s=l.attr(),i=s.path,u=s.stroke,g=u?s.lineWidth:0,C=l.get("segments")||og(i),x=ky(C,g),E=x.x,O=x.y,R=x.width,k=x.height,z={minX:E,minY:O,maxX:E+R,maxY:O+k};return z=Au(l,z),{x:z.minX,y:z.minY,width:z.maxX-z.minX,height:z.maxY-z.minY}}function Cf(l){var s=l.attr(),i=s.x1,u=s.y1,g=s.x2,C=s.y2,x=Math.min(i,g),E=Math.max(i,g),O=Math.min(u,C),R=Math.max(u,C),k={minX:x,maxX:E,minY:O,maxY:R};return k=Au(l,k),{x:k.minX,y:k.minY,width:k.maxX-k.minX,height:k.maxY-k.minY}}function Fy(l){var s=l.attr(),i=s.x,u=s.y,g=s.rx,C=s.ry;return{x:i-g,y:u-C,width:g*2,height:C*2}}Ll("rect",zh),Ll("image",zh),Ll("circle",Vi),Ll("marker",Vi),Ll("polyline",Hc),Ll("polygon",mf),Ll("text",Ta),Ll("path",E0),Ll("line",Cf),Ll("ellipse",Fy);function Ks(){return window?window.devicePixelRatio:1}function Ny(l,s,i,u){var g=l-i,C=s-u;return Math.sqrt(g*g+C*C)}function Kf(l,s,i,u,g,C){return g>=l&&g<=l+i&&C>=s&&C<=s+u}function lg(l,s){return!(s.minX>l.maxX||s.maxX<l.minX||s.minY>l.maxY||s.maxY<l.minY)}function V1(l,s){return!l||!s?l||s:{minX:Math.min(l.minX,s.minX),minY:Math.min(l.minY,s.minY),maxX:Math.max(l.maxX,s.maxX),maxY:Math.max(l.maxY,s.maxY)}}function Hy(l,s){return l[0]===s[0]&&l[1]===s[1]}var zy=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,_x=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Wy=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ku=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Gy(l,s){var i=l.match(Ku);D(i,function(u){var g=u.split(":");s.addColorStop(g[0],g[1])})}function jh(l,s,i){var u=zy.exec(i),g=parseFloat(u[1])%360*(Math.PI/180),C=u[2],x=s.getBBox(),E,O;g>=0&&g<1/2*Math.PI?(E={x:x.minX,y:x.minY},O={x:x.maxX,y:x.maxY}):1/2*Math.PI<=g&&g<Math.PI?(E={x:x.maxX,y:x.minY},O={x:x.minX,y:x.maxY}):Math.PI<=g&&g<3/2*Math.PI?(E={x:x.maxX,y:x.maxY},O={x:x.minX,y:x.minY}):(E={x:x.minX,y:x.maxY},O={x:x.maxX,y:x.minY});var R=Math.tan(g),k=R*R,z=(O.x-E.x+R*(O.y-E.y))/(k+1)+E.x,j=R*(O.x-E.x+R*(O.y-E.y))/(k+1)+E.y,q=l.createLinearGradient(E.x,E.y,z,j);return Gy(C,q),q}function M0(l,s,i){var u=_x.exec(i),g=parseFloat(u[1]),C=parseFloat(u[2]),x=parseFloat(u[3]),E=u[4];if(x===0){var O=E.match(Ku);return O[O.length-1].split(":")[1]}var R=s.getBBox(),k=R.maxX-R.minX,z=R.maxY-R.minY,j=Math.sqrt(k*k+z*z)/2,q=l.createRadialGradient(R.minX+k*g,R.minY+z*C,0,R.minX+k/2,R.minY+z/2,x*j);return Gy(E,q),q}function $y(l,s,i){if(s.get("patternSource")&&s.get("patternSource")===i)return s.get("pattern");var u,g,C=Wy.exec(i),x=C[1],E=C[2];function O(){u=l.createPattern(g,x),s.set("pattern",u),s.set("patternSource",i)}switch(x){case"a":x="repeat";break;case"x":x="repeat-x";break;case"y":x="repeat-y";break;case"n":x="no-repeat";break;default:x="no-repeat"}return g=new Image,E.match(/^data:/i)||(g.crossOrigin="Anonymous"),g.src=E,g.complete?O():(g.onload=O,g.src=g.src),u}function X1(l,s,i){var u=s.getBBox();if(isNaN(u.x)||isNaN(u.y)||isNaN(u.width)||isNaN(u.height))return i;if(lr(i)){if(i[1]==="("||i[2]==="("){if(i[0]==="l")return jh(l,s,i);if(i[0]==="r")return M0(l,s,i);if(i[0]==="p")return $y(l,s,i)}return i}if(i instanceof CanvasPattern)return i}function sg(l){var s=0,i=0,u=0,g=0;return Mt(l)?l.length===1?s=i=u=g=l[0]:l.length===2?(s=u=l[0],i=g=l[1]):l.length===3?(s=l[0],i=g=l[1],u=l[2]):(s=l[0],i=l[1],u=l[2],g=l[3]):s=i=u=g=l,[s,i,u,g]}function T0(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function Uy(l,s){return T0(l)*T0(s)?(l[0]*s[0]+l[1]*s[1])/(T0(l)*T0(s)):1}function Ru(l,s){return(l[0]*s[1]<l[1]*s[0]?-1:1)*Math.acos(Uy(l,s))}function vc(l,s){var i=s[1],u=s[2],g=er(Nt(s[3]),Math.PI*2),C=s[4],x=s[5],E=l[0],O=l[1],R=s[6],k=s[7],z=Math.cos(g)*(E-R)/2+Math.sin(g)*(O-k)/2,j=-1*Math.sin(g)*(E-R)/2+Math.cos(g)*(O-k)/2,q=z*z/(i*i)+j*j/(u*u);q>1&&(i*=Math.sqrt(q),u*=Math.sqrt(q));var ee=i*i*(j*j)+u*u*(z*z),le=ee?Math.sqrt((i*i*(u*u)-ee)/ee):1;C===x&&(le*=-1),isNaN(le)&&(le=0);var me=u?le*i*j/u:0,Oe=i?le*-u*z/i:0,$e=(E+R)/2+Math.cos(g)*me-Math.sin(g)*Oe,Ye=(O+k)/2+Math.sin(g)*me+Math.cos(g)*Oe,Ze=[(z-me)/i,(j-Oe)/u],Ut=[(-1*z-me)/i,(-1*j-Oe)/u],gr=Ru([1,0],Ze),br=Ru(Ze,Ut);return Uy(Ze,Ut)<=-1&&(br=Math.PI),Uy(Ze,Ut)>=1&&(br=0),x===0&&br>0&&(br=br-2*Math.PI),x===1&&br<0&&(br=br+2*Math.PI),{cx:$e,cy:Ye,rx:Hy(l,[R,k])?0:i,ry:Hy(l,[R,k])?0:u,startAngle:gr,endAngle:gr+br,xRotation:g,arcFlag:C,sweepFlag:x}}var bf=Math.sin,jv=Math.cos,O0=Math.atan2,A0=Math.PI;function Yy(l,s,i,u,g,C,x){var E=s.stroke,O=s.lineWidth,R=i-g,k=u-C,z=O0(k,R),j=new Xv({type:"path",canvas:l.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*jv(A0/6)+","+10*bf(A0/6)+" L0,0 L"+10*jv(A0/6)+",-"+10*bf(A0/6),stroke:E,lineWidth:O}});j.translate(g,C),j.rotateAtPoint(g,C,z),l.set(x?"startArrowShape":"endArrowShape",j)}function Vd(l,s,i,u,g,C,x){var E=s.startArrow,O=s.endArrow,R=s.stroke,k=s.lineWidth,z=x?E:O,j=z.d,q=z.fill,ee=z.stroke,le=z.lineWidth,me=re(z,["d","fill","stroke","lineWidth"]),Oe=i-g,$e=u-C,Ye=O0($e,Oe);j&&(g=g-jv(Ye)*j,C=C-bf(Ye)*j);var Ze=new Xv({type:"path",canvas:l.get("canvas"),isArrowShape:!0,attrs:cr(cr({},me),{stroke:ee||R,lineWidth:le||k,fill:q})});Ze.translate(g,C),Ze.rotateAtPoint(g,C,Ye),l.set(x?"startArrowShape":"endArrowShape",Ze)}function uu(l,s,i,u,g){var C=O0(u-s,i-l);return{dx:jv(C)*g,dy:bf(C)*g}}function qf(l,s,i,u,g,C){typeof s.startArrow=="object"?Vd(l,s,i,u,g,C,!0):s.startArrow?Yy(l,s,i,u,g,C,!0):l.set("startArrowShape",null)}function Oa(l,s,i,u,g,C){typeof s.endArrow=="object"?Vd(l,s,i,u,g,C,!1):s.endArrow?Yy(l,s,i,u,g,C,!1):l.set("startArrowShape",null)}var F={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function X(l,s){var i=s.attr();for(var u in i){var g=i[u],C=F[u]?F[u]:u;C==="matrix"&&g?l.transform(g[0],g[1],g[3],g[4],g[6],g[7]):C==="lineDash"&&l.setLineDash?Mt(g)&&l.setLineDash(g):(C==="strokeStyle"||C==="fillStyle"?g=X1(l,s,g):C==="globalAlpha"&&(g=g*l.globalAlpha),l[C]=g)}}function ue(l,s,i){for(var u=0;u<s.length;u++){var g=s[u];g.cfg.visible?g.draw(l,i):g.skipDraw()}}function ge(l,s,i){var u=l.get("refreshElements");D(u,function(g){if(g!==l)for(var C=g.cfg.parent;C&&C!==l&&!C.cfg.refresh;)C.cfg.refresh=!0,C=C.cfg.parent}),u[0]===l?zr(s):Ke(s,i)}function Ke(l,s){for(var i=0;i<l.length;i++){var u=l[i];if(u.cfg.visible)if(u.cfg.hasChanged)u.cfg.refresh=!0,u.isGroup()&&zr(u.cfg.children);else if(u.cfg.refresh)u.isGroup()&&Ke(u.cfg.children,s);else{var g=Qn(u,s);u.cfg.refresh=g,g&&u.isGroup()&&Ke(u.cfg.children,s)}}}function ar(l){for(var s=0;s<l.length;s++){var i=l[s];i.cfg.hasChanged=!1,i.isGroup()&&!i.destroyed&&ar(i.cfg.children)}}function zr(l,s){for(var i=0;i<l.length;i++){var u=l[i];u.cfg.refresh=!0,u.isGroup()&&zr(u.get("children"))}}function Qn(l,s){var i=l.cfg.cacheCanvasBBox,u=l.cfg.isInView&&i&&lg(i,s);return u}function ta(l,s,i,u){var g=i.path,C=i.startArrow,x=i.endArrow;if(g){var E=[0,0],O=[0,0],R={dx:0,dy:0};s.beginPath();for(var k=0;k<g.length;k++){var z=g[k],j=z[0];if(k===0&&C&&C.d){var q=l.getStartTangent();R=uu(q[0][0],q[0][1],q[1][0],q[1][1],C.d)}else if(k===g.length-2&&g[k+1][0]==="Z"&&x&&x.d){var ee=g[k+1];if(ee[0]==="Z"){var q=l.getEndTangent();R=uu(q[0][0],q[0][1],q[1][0],q[1][1],x.d)}}else if(k===g.length-1&&x&&x.d&&g[0]!=="Z"){var q=l.getEndTangent();R=uu(q[0][0],q[0][1],q[1][0],q[1][1],x.d)}var le=R.dx,me=R.dy;switch(j){case"M":s.moveTo(z[1]-le,z[2]-me),O=[z[1],z[2]];break;case"L":s.lineTo(z[1]-le,z[2]-me);break;case"Q":s.quadraticCurveTo(z[1],z[2],z[3]-le,z[4]-me);break;case"C":s.bezierCurveTo(z[1],z[2],z[3],z[4],z[5]-le,z[6]-me);break;case"A":{var Oe=void 0;u?(Oe=u[k],Oe||(Oe=vc(E,z),u[k]=Oe)):Oe=vc(E,z);var $e=Oe.cx,Ye=Oe.cy,Ze=Oe.rx,Ut=Oe.ry,gr=Oe.startAngle,br=Oe.endAngle,Zr=Oe.xRotation,gn=Oe.sweepFlag;if(s.ellipse)s.ellipse($e,Ye,Ze,Ut,Zr,gr,br,1-gn);else{var Kn=Ze>Ut?Ze:Ut,In=Ze>Ut?1:Ze/Ut,Xn=Ze>Ut?Ut/Ze:1;s.translate($e,Ye),s.rotate(Zr),s.scale(In,Xn),s.arc(0,0,Kn,gr,br,1-gn),s.scale(1/In,1/Xn),s.rotate(-Zr),s.translate(-$e,-Ye)}break}case"Z":s.closePath();break}if(j==="Z")E=O;else{var gi=z.length;E=[z[gi-2],z[gi-1]]}}}}function Ma(l,s){var i=l.get("canvas");i&&(s==="remove"&&(l._cacheCanvasBBox=l.get("cacheCanvasBBox")),l.get("hasChanged")||(l.set("hasChanged",!0),l.cfg.parent&&l.cfg.parent.get("hasChanged")||(i.refreshElement(l,s,i),i.get("autoDraw")&&i.draw())))}function hs(l){var s;if(l.destroyed)s=l._cacheCanvasBBox;else{var i=l.get("cacheCanvasBBox"),u=i&&!!(i.width&&i.height),g=l.getCanvasBBox(),C=g&&!!(g.width&&g.height);u&&C?s=V1(i,g):u?s=i:C&&(s=g)}return s}function zc(l){if(!l.length)return null;var s=[],i=[],u=[],g=[];return D(l,function(C){var x=hs(C);x&&(s.push(x.minX),i.push(x.minY),u.push(x.maxX),g.push(x.maxY))}),{minX:Gt(s),minY:Gt(i),maxX:lt(u),maxY:lt(g)}}function Qf(l,s){return!l||!s||!lg(l,s)?null:{minX:Math.max(l.minX,s.minX),minY:Math.max(l.minY,s.minY),maxX:Math.min(l.maxX,s.maxX),maxY:Math.min(l.maxY,s.maxY)}}var pl=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.onCanvasChange=function(i){Ma(this,i)},s.prototype.getShapeBase=function(){return ye},s.prototype.getGroupBase=function(){return s},s.prototype._applyClip=function(i,u){u&&(i.save(),X(i,u),u.createPath(i),i.restore(),i.clip(),u._afterDraw())},s.prototype.cacheCanvasBBox=function(){var i=this.cfg.children,u=[],g=[];D(i,function(j){var q=j.cfg.cacheCanvasBBox;q&&j.cfg.isInView&&(u.push(q.minX,q.maxX),g.push(q.minY,q.maxY))});var C=null;if(u.length){var x=Gt(u),E=lt(u),O=Gt(g),R=lt(g);C={minX:x,minY:O,x,y:O,maxX:E,maxY:R,width:E-x,height:R-O};var k=this.cfg.canvas;if(k){var z=k.getViewRange();this.set("isInView",lg(C,z))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",C)},s.prototype.draw=function(i,u){var g=this.cfg.children,C=u?this.cfg.refresh:!0;g.length&&C&&(i.save(),X(i,this),this._applyClip(i,this.getClip()),ue(i,g,u),i.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},s.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},s}(Hv),I0=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getDefaultAttrs=function(){var i=l.prototype.getDefaultAttrs.call(this);return cr(cr({},i),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},s.prototype.getShapeBase=function(){return ye},s.prototype.getGroupBase=function(){return pl},s.prototype.onCanvasChange=function(i){Ma(this,i)},s.prototype.calculateBBox=function(){var i=this.get("type"),u=this.getHitLineWidth(),g=Hh(i),C=g(this),x=u/2,E=C.x-x,O=C.y-x,R=C.x+C.width+x,k=C.y+C.height+x;return{x:E,minX:E,y:O,minY:O,width:C.width+u,height:C.height+u,maxX:R,maxY:k}},s.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},s.prototype.isStroke=function(){return!!this.attrs.stroke},s.prototype._applyClip=function(i,u){u&&(i.save(),X(i,u),u.createPath(i),i.restore(),i.clip(),u._afterDraw())},s.prototype.draw=function(i,u){var g=this.cfg.clipShape;if(u){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var C=this.getCanvasBBox();if(!lg(u,C)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}i.save(),X(i,this),this._applyClip(i,g),this.drawPath(i),i.restore(),this._afterDraw()},s.prototype.getCanvasViewBox=function(){var i=this.cfg.canvas;return i?i.getViewRange():null},s.prototype.cacheCanvasBBox=function(){var i=this.getCanvasViewBox();if(i){var u=this.getCanvasBBox(),g=lg(u,i);this.set("isInView",g),g?this.set("cacheCanvasBBox",u):this.set("cacheCanvasBBox",null)}},s.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},s.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},s.prototype.drawPath=function(i){this.createPath(i),this.strokeAndFill(i),this.afterDrawPath(i)},s.prototype.fill=function(i){i.fill()},s.prototype.stroke=function(i){i.stroke()},s.prototype.strokeAndFill=function(i){var u=this.attrs,g=u.lineWidth,C=u.opacity,x=u.strokeOpacity,E=u.fillOpacity;this.isFill()&&(!kt(E)&&E!==1?(i.globalAlpha=E,this.fill(i),i.globalAlpha=C):this.fill(i)),this.isStroke()&&g>0&&(!kt(x)&&x!==1&&(i.globalAlpha=x),this.stroke(i)),this.afterDrawPath(i)},s.prototype.createPath=function(i){},s.prototype.afterDrawPath=function(i){},s.prototype.isInShape=function(i,u){var g=this.isStroke(),C=this.isFill(),x=this.getHitLineWidth();return this.isInStrokeOrPath(i,u,g,C,x)},s.prototype.isInStrokeOrPath=function(i,u,g,C,x){return!1},s.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var i=this.attrs;return i.lineWidth+i.lineAppendWidth},s}(Pa),pc=I0,jy=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getDefaultAttrs=function(){var i=l.prototype.getDefaultAttrs.call(this);return cr(cr({},i),{x:0,y:0,r:0})},s.prototype.isInStrokeOrPath=function(i,u,g,C,x){var E=this.attr(),O=E.x,R=E.y,k=E.r,z=x/2,j=Ny(O,R,i,u);return C&&g?j<=k+z:C?j<=k:g?j>=k-z&&j<=k+z:!1},s.prototype.createPath=function(i){var u=this.attr(),g=u.x,C=u.y,x=u.r;i.beginPath(),i.arc(g,C,x,0,Math.PI*2,!1),i.closePath()},s}(pc),R0=jy;function Jf(l,s,i,u){return l/(i*i)+s/(u*u)}var $o=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getDefaultAttrs=function(){var i=l.prototype.getDefaultAttrs.call(this);return cr(cr({},i),{x:0,y:0,rx:0,ry:0})},s.prototype.isInStrokeOrPath=function(i,u,g,C,x){var E=this.attr(),O=x/2,R=E.x,k=E.y,z=E.rx,j=E.ry,q=(i-R)*(i-R),ee=(u-k)*(u-k);return C&&g?Jf(q,ee,z+O,j+O)<=1:C?Jf(q,ee,z,j)<=1:g?Jf(q,ee,z-O,j-O)>=1&&Jf(q,ee,z+O,j+O)<=1:!1},s.prototype.createPath=function(i){var u=this.attr(),g=u.x,C=u.y,x=u.rx,E=u.ry;if(i.beginPath(),i.ellipse)i.ellipse(g,C,x,E,0,0,Math.PI*2,!1);else{var O=x>E?x:E,R=x>E?1:x/E,k=x>E?E/x:1;i.save(),i.translate(g,C),i.scale(R,k),i.arc(0,0,O,0,Math.PI*2),i.restore(),i.closePath()}},s}(pc),Rs=$o;function Z1(l){return l instanceof HTMLElement&&lr(l.nodeName)&&l.nodeName.toUpperCase()==="CANVAS"}var Ex=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getDefaultAttrs=function(){var i=l.prototype.getDefaultAttrs.call(this);return cr(cr({},i),{x:0,y:0,width:0,height:0})},s.prototype.initAttrs=function(i){this._setImage(i.img)},s.prototype.isStroke=function(){return!1},s.prototype.isOnlyHitBox=function(){return!0},s.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var i=this.get("canvas");i?i.draw():this.createPath(this.get("context"))}},s.prototype._setImage=function(i){var u=this,g=this.attrs;if(lr(i)){var C=new Image;C.onload=function(){if(u.destroyed)return!1;u.attr("img",C),u.set("loading",!1),u._afterLoading();var x=u.get("callback");x&&x.call(u)},C.crossOrigin="Anonymous",C.src=i,this.set("loading",!0)}else i instanceof Image?(g.width||(g.width=i.width),g.height||(g.height=i.height)):Z1(i)&&(g.width||(g.width=Number(i.getAttribute("width"))),g.height||(g.height,Number(i.getAttribute("height"))))},s.prototype.onAttrChange=function(i,u,g){l.prototype.onAttrChange.call(this,i,u,g),i==="img"&&this._setImage(u)},s.prototype.createPath=function(i){if(this.get("loading")){this.set("toDraw",!0),this.set("context",i);return}var u=this.attr(),g=u.x,C=u.y,x=u.width,E=u.height,O=u.sx,R=u.sy,k=u.swidth,z=u.sheight,j=u.img;(j instanceof Image||Z1(j))&&(!kt(O)&&!kt(R)&&!kt(k)&&!kt(z)?i.drawImage(j,O,R,k,z,g,C,x,E):i.drawImage(j,g,C,x,E))},s}(pc),Di=Ex;function wf(l,s,i,u,g,C,x){var E=Math.min(l,i),O=Math.max(l,i),R=Math.min(s,u),k=Math.max(s,u),z=g/2;return C>=E-z&&C<=O+z&&x>=R-z&&x<=k+z?Nl.pointToLine(l,s,i,u,C,x)<=g/2:!1}var q2=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getDefaultAttrs=function(){var i=l.prototype.getDefaultAttrs.call(this);return cr(cr({},i),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},s.prototype.initAttrs=function(i){this.setArrow()},s.prototype.onAttrChange=function(i,u,g){l.prototype.onAttrChange.call(this,i,u,g),this.setArrow()},s.prototype.setArrow=function(){var i=this.attr(),u=i.x1,g=i.y1,C=i.x2,x=i.y2,E=i.startArrow,O=i.endArrow;E&&qf(this,i,C,x,u,g),O&&Oa(this,i,u,g,C,x)},s.prototype.isInStrokeOrPath=function(i,u,g,C,x){if(!g||!x)return!1;var E=this.attr(),O=E.x1,R=E.y1,k=E.x2,z=E.y2;return wf(O,R,k,z,x,i,u)},s.prototype.createPath=function(i){var u=this.attr(),g=u.x1,C=u.y1,x=u.x2,E=u.y2,O=u.startArrow,R=u.endArrow,k={dx:0,dy:0},z={dx:0,dy:0};O&&O.d&&(k=uu(g,C,x,E,u.startArrow.d)),R&&R.d&&(z=uu(g,C,x,E,u.endArrow.d)),i.beginPath(),i.moveTo(g+k.dx,C+k.dy),i.lineTo(x-z.dx,E-z.dy)},s.prototype.afterDrawPath=function(i){var u=this.get("startArrowShape"),g=this.get("endArrowShape");u&&u.draw(i),g&&g.draw(i)},s.prototype.getTotalLength=function(){var i=this.attr(),u=i.x1,g=i.y1,C=i.x2,x=i.y2;return Nl.length(u,g,C,x)},s.prototype.getPoint=function(i){var u=this.attr(),g=u.x1,C=u.y1,x=u.x2,E=u.y2;return Nl.pointAt(g,C,x,E,i)},s}(pc),Q2=q2,K1={circle:function(l,s,i){return[["M",l-i,s],["A",i,i,0,1,0,l+i,s],["A",i,i,0,1,0,l-i,s]]},square:function(l,s,i){return[["M",l-i,s-i],["L",l+i,s-i],["L",l+i,s+i],["L",l-i,s+i],["Z"]]},diamond:function(l,s,i){return[["M",l-i,s],["L",l,s-i],["L",l+i,s],["L",l,s+i],["Z"]]},triangle:function(l,s,i){var u=i*Math.sin(.3333333333333333*Math.PI);return[["M",l-i,s+u],["L",l,s-u],["L",l+i,s+u],["Z"]]},"triangle-down":function(l,s,i){var u=i*Math.sin(.3333333333333333*Math.PI);return[["M",l-i,s-u],["L",l+i,s-u],["L",l,s+u],["Z"]]}},J2=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.initAttrs=function(i){this._resetParamsCache()},s.prototype._resetParamsCache=function(){this.set("paramsCache",{})},s.prototype.onAttrChange=function(i,u,g){l.prototype.onAttrChange.call(this,i,u,g),["symbol","x","y","r","radius"].indexOf(i)!==-1&&this._resetParamsCache()},s.prototype.isOnlyHitBox=function(){return!0},s.prototype._getR=function(i){return kt(i.r)?i.radius:i.r},s.prototype._getPath=function(){var i=this.attr(),u=i.x,g=i.y,C=i.symbol||"circle",x=this._getR(i),E,O;if(or(C))E=C,O=E(u,g,x),O=Yv(O);else{if(E=s.Symbols[C],!E)return console.warn(C+" marker is not supported."),null;O=E(u,g,x)}return O},s.prototype.createPath=function(i){var u=this._getPath(),g=this.get("paramsCache");ta(this,i,{path:u},g)},s.Symbols=K1,s}(pc),Vv=J2;function Vh(l,s,i){var u=Wv();return l.createPath(u),u.isPointInPath(s,i)}var Vy=1e-6;function ug(l){return Math.abs(l)<Vy?0:l<0?-1:1}function Xd(l,s,i){return(i[0]-l[0])*(s[1]-l[1])===(s[0]-l[0])*(i[1]-l[1])&&Math.min(l[0],s[0])<=i[0]&&i[0]<=Math.max(l[0],s[0])&&Math.min(l[1],s[1])<=i[1]&&i[1]<=Math.max(l[1],s[1])}function xf(l,s,i){var u=!1,g=l.length;if(g<=2)return!1;for(var C=0;C<g;C++){var x=l[C],E=l[(C+1)%g];if(Xd(x,E,[s,i]))return!0;ug(x[1]-i)>0!=ug(E[1]-i)>0&&ug(s-(i-x[1])*(x[0]-E[0])/(x[1]-E[1])-x[0])<0&&(u=!u)}return u}function cg(l,s,i,u,g,C,x,E){var O=(Math.atan2(E-s,x-l)+Math.PI*2)%(Math.PI*2);if(O<u||O>g)return!1;var R={x:l+i*Math.cos(O),y:s+i*Math.sin(O)};return Ny(R.x,R.y,x,E)<=C/2}var e_=qt;function q1(l){for(var s=!1,i=l.length,u=0;u<i;u++){var g=l[u],C=g[0];if(C==="C"||C==="A"||C==="Q"){s=!0;break}}return s}function Mx(l,s,i,u,g){for(var C=!1,x=s/2,E=0;E<l.length;E++){var O=l[E],R=O.currentPoint,k=O.params,z=O.prePoint,j=O.box;if(!(j&&!Kf(j.x-x,j.y-x,j.width+s,j.height+s,i,u))){switch(O.command){case"L":case"Z":C=wf(z[0],z[1],R[0],R[1],s,i,u);break;case"Q":var q=Wd.pointDistance(z[0],z[1],k[1],k[2],k[3],k[4],i,u);C=q<=s/2;break;case"C":var ee=co.pointDistance(z[0],z[1],k[1],k[2],k[3],k[4],k[5],k[6],i,u,g);C=ee<=s/2;break;case"A":var le=O.arcParams,me=le.cx,Oe=le.cy,$e=le.rx,Ye=le.ry,Ze=le.startAngle,Ut=le.endAngle,gr=le.xRotation,br=[i,u,1],Zr=$e>Ye?$e:Ye,gn=$e>Ye?1:$e/Ye,Kn=$e>Ye?Ye/$e:1,In=e_(null,[["t",-me,-Oe],["r",-gr],["s",1/gn,1/Kn]]);ea(br,br,In),C=cg(0,0,Zr,Ze,Ut,s,br[0],br[1]);break}if(C)break}}return C}function t_(l){for(var s=l.length,i=[],u=[],g=[],C=0;C<s;C++){var x=l[C],E=x[0];E==="M"?(g.length&&(u.push(g),g=[]),g.push([x[1],x[2]])):E==="Z"?g.length&&(i.push(g),g=[]):g.push([x[1],x[2]])}return g.length>0&&u.push(g),{polygons:i,polylines:u}}var D0=cr({hasArc:q1,extractPolygons:t_,isPointInStroke:Mx},qr);function Wc(l,s,i){for(var u=!1,g=0;g<l.length;g++){var C=l[g];if(u=xf(C,s,i),u)break}return u}var Xh=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getDefaultAttrs=function(){var i=l.prototype.getDefaultAttrs.call(this);return cr(cr({},i),{startArrow:!1,endArrow:!1})},s.prototype.initAttrs=function(i){this._setPathArr(i.path),this.setArrow()},s.prototype.onAttrChange=function(i,u,g){l.prototype.onAttrChange.call(this,i,u,g),i==="path"&&this._setPathArr(u),this.setArrow()},s.prototype._setPathArr=function(i){this.attrs.path=Yv(i);var u=D0.hasArc(i);this.set("hasArc",u),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},s.prototype.getSegments=function(){var i=this.get("segements");return i||(i=og(this.attr("path")),this.set("segments",i)),i},s.prototype.setArrow=function(){var i=this.attr(),u=i.startArrow,g=i.endArrow;if(u){var C=this.getStartTangent();qf(this,i,C[0][0],C[0][1],C[1][0],C[1][1])}if(g){var C=this.getEndTangent();Oa(this,i,C[0][0],C[0][1],C[1][0],C[1][1])}},s.prototype.isInStrokeOrPath=function(i,u,g,C,x){var E=this.getSegments(),O=this.get("hasArc"),R=!1;if(g){var k=this.getTotalLength();R=D0.isPointInStroke(E,x,i,u,k)}if(!R&&C)if(O)R=Vh(this,i,u);else{var z=this.attr("path"),j=D0.extractPolygons(z);R=Wc(j.polygons,i,u)||Wc(j.polylines,i,u)}return R},s.prototype.createPath=function(i){var u=this.attr(),g=this.get("paramsCache");ta(this,i,u,g)},s.prototype.afterDrawPath=function(i){var u=this.get("startArrowShape"),g=this.get("endArrowShape");u&&u.draw(i),g&&g.draw(i)},s.prototype.getTotalLength=function(){var i=this.get("totalLength");return kt(i)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):i},s.prototype.getPoint=function(i){var u=this.get("tCache");u||(this._calculateCurve(),this._setTcache(),u=this.get("tCache"));var g,C,x=this.get("curve");if(!u||u.length===0)return x?{x:x[0][1],y:x[0][2]}:null;D(u,function(k,z){i>=k[0]&&i<=k[1]&&(g=(i-k[0])/(k[1]-k[0]),C=z)});var E=x[C];if(kt(E)||kt(C))return null;var O=E.length,R=x[C+1];return co.pointAt(E[O-2],E[O-1],R[1],R[2],R[3],R[4],R[5],R[6],g)},s.prototype._calculateCurve=function(){var i=this.attr().path;this.set("curve",D0.pathToCurve(i))},s.prototype._setTcache=function(){var i=0,u=0,g=[],C,x,E,O,R=this.get("curve");if(R){if(D(R,function(k,z){E=R[z+1],O=k.length,E&&(i+=co.length(k[O-2],k[O-1],E[1],E[2],E[3],E[4],E[5],E[6])||0)}),this.set("totalLength",i),i===0){this.set("tCache",[]);return}D(R,function(k,z){E=R[z+1],O=k.length,E&&(C=[],C[0]=u/i,x=co.length(k[O-2],k[O-1],E[1],E[2],E[3],E[4],E[5],E[6]),u+=x||0,C[1]=u/i,g.push(C))}),this.set("tCache",g)}},s.prototype.getStartTangent=function(){var i=this.getSegments(),u;if(i.length>1){var g=i[0].currentPoint,C=i[1].currentPoint,x=i[1].startTangent;u=[],x?(u.push([g[0]-x[0],g[1]-x[1]]),u.push([g[0],g[1]])):(u.push([C[0],C[1]]),u.push([g[0],g[1]]))}return u},s.prototype.getEndTangent=function(){var i=this.getSegments(),u=i.length,g;if(u>1){var C=i[u-2].currentPoint,x=i[u-1].currentPoint,E=i[u-1].endTangent;g=[],E?(g.push([x[0]-E[0],x[1]-E[1]]),g.push([x[0],x[1]])):(g.push([C[0],C[1]]),g.push([x[0],x[1]]))}return g},s}(pc),Xv=Xh;function fg(l,s,i,u,g){var C=l.length;if(C<2)return!1;for(var x=0;x<C-1;x++){var E=l[x][0],O=l[x][1],R=l[x+1][0],k=l[x+1][1];if(wf(E,O,R,k,s,i,u))return!0}if(g){var z=l[0],j=l[C-1];if(wf(z[0],z[1],j[0],j[1],s,i,u))return!0}return!1}var Q1=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.isInStrokeOrPath=function(i,u,g,C,x){var E=this.attr().points,O=!1;return g&&(O=fg(E,x,i,u,!0)),!O&&C&&(O=xf(E,i,u)),O},s.prototype.createPath=function(i){var u=this.attr(),g=u.points;if(!(g.length<2)){i.beginPath();for(var C=0;C<g.length;C++){var x=g[C];C===0?i.moveTo(x[0],x[1]):i.lineTo(x[0],x[1])}i.closePath()}},s}(pc),Xy=Q1,Tx=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getDefaultAttrs=function(){var i=l.prototype.getDefaultAttrs.call(this);return cr(cr({},i),{startArrow:!1,endArrow:!1})},s.prototype.initAttrs=function(i){this.setArrow()},s.prototype.onAttrChange=function(i,u,g){l.prototype.onAttrChange.call(this,i,u,g),this.setArrow(),["points"].indexOf(i)!==-1&&this._resetCache()},s.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},s.prototype.setArrow=function(){var i=this.attr(),u=this.attrs,g=u.points,C=u.startArrow,x=u.endArrow,E=g.length,O=g[0][0],R=g[0][1],k=g[E-1][0],z=g[E-1][1];C&&qf(this,i,g[1][0],g[1][1],O,R),x&&Oa(this,i,g[E-2][0],g[E-2][1],k,z)},s.prototype.isFill=function(){return!1},s.prototype.isInStrokeOrPath=function(i,u,g,C,x){if(!g||!x)return!1;var E=this.attr().points;return fg(E,x,i,u,!1)},s.prototype.isStroke=function(){return!0},s.prototype.createPath=function(i){var u=this.attr(),g=u.points,C=u.startArrow,x=u.endArrow,E=g.length;if(!(g.length<2)){var O=g[0][0],R=g[0][1],k=g[E-1][0],z=g[E-1][1];if(C&&C.d){var j=uu(O,R,g[1][0],g[1][1],C.d);O+=j.dx,R+=j.dy}if(x&&x.d){var j=uu(g[E-2][0],g[E-2][1],k,z,x.d);k-=j.dx,z-=j.dy}i.beginPath(),i.moveTo(O,R);for(var q=0;q<E-1;q++){var ee=g[q];i.lineTo(ee[0],ee[1])}i.lineTo(k,z)}},s.prototype.afterDrawPath=function(i){var u=this.get("startArrowShape"),g=this.get("endArrowShape");u&&u.draw(i),g&&g.draw(i)},s.prototype.getTotalLength=function(){var i=this.attr().points,u=this.get("totalLength");return kt(u)?(this.set("totalLength",Py.length(i)),this.get("totalLength")):u},s.prototype.getPoint=function(i){var u=this.attr().points,g=this.get("tCache");g||(this._setTcache(),g=this.get("tCache"));var C,x;return D(g,function(E,O){i>=E[0]&&i<=E[1]&&(C=(i-E[0])/(E[1]-E[0]),x=O)}),Nl.pointAt(u[x][0],u[x][1],u[x+1][0],u[x+1][1],C)},s.prototype._setTcache=function(){var i=this.attr().points;if(!(!i||i.length===0)){var u=this.getTotalLength();if(!(u<=0)){var g=0,C=[],x,E;D(i,function(O,R){i[R+1]&&(x=[],x[0]=g/u,E=Nl.length(O[0],O[1],i[R+1][0],i[R+1][1]),g+=E,x[1]=g/u,C.push(x))}),this.set("tCache",C)}}},s.prototype.getStartTangent=function(){var i=this.attr().points,u=[];return u.push([i[1][0],i[1][1]]),u.push([i[0][0],i[0][1]]),u},s.prototype.getEndTangent=function(){var i=this.attr().points,u=i.length-1,g=[];return g.push([i[u-1][0],i[u-1][1]]),g.push([i[u][0],i[u][1]]),g},s}(pc),Ox=Tx;function Ax(l,s,i,u,g,C,x){var E=g/2;return Kf(l-E,s-E,i,g,C,x)||Kf(l+i-E,s-E,g,u,C,x)||Kf(l+E,s+u-E,i,g,C,x)||Kf(l-E,s+E,g,u,C,x)}function Gc(l,s,i,u,g,C,x,E){return wf(l+g,s,l+i-g,s,C,x,E)||wf(l+i,s+g,l+i,s+u-g,C,x,E)||wf(l+i-g,s+u,l+g,s+u,C,x,E)||wf(l,s+u-g,l,s+g,C,x,E)||cg(l+i-g,s+g,g,1.5*Math.PI,2*Math.PI,C,x,E)||cg(l+i-g,s+u-g,g,0,.5*Math.PI,C,x,E)||cg(l+g,s+u-g,g,.5*Math.PI,Math.PI,C,x,E)||cg(l+g,s+g,g,Math.PI,1.5*Math.PI,C,x,E)}var r_=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getDefaultAttrs=function(){var i=l.prototype.getDefaultAttrs.call(this);return cr(cr({},i),{x:0,y:0,width:0,height:0,radius:0})},s.prototype.isInStrokeOrPath=function(i,u,g,C,x){var E=this.attr(),O=E.x,R=E.y,k=E.width,z=E.height,j=E.radius;if(j){var ee=!1;return g&&(ee=Gc(O,R,k,z,j,x,i,u)),!ee&&C&&(ee=Vh(this,i,u)),ee}else{var q=x/2;if(C&&g)return Kf(O-q,R-q,k+q,z+q,i,u);if(C)return Kf(O,R,k,z,i,u);if(g)return Ax(O,R,k,z,x,i,u)}},s.prototype.createPath=function(i){var u=this.attr(),g=u.x,C=u.y,x=u.width,E=u.height,O=u.radius;if(i.beginPath(),O===0)i.rect(g,C,x,E);else{var R=sg(O),k=R[0],z=R[1],j=R[2],q=R[3];i.moveTo(g+k,C),i.lineTo(g+x-z,C),z!==0&&i.arc(g+x-z,C+z,z,-Math.PI/2,0),i.lineTo(g+x,C+E-j),j!==0&&i.arc(g+x-j,C+E-j,j,0,Math.PI/2),i.lineTo(g+q,C+E),q!==0&&i.arc(g+q,C+E-q,q,Math.PI/2,Math.PI),i.lineTo(g,C+k),k!==0&&i.arc(g+k,C+k,k,Math.PI,Math.PI*1.5),i.closePath()}},s}(pc),J1=r_,n_=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getDefaultAttrs=function(){var i=l.prototype.getDefaultAttrs.call(this);return cr(cr({},i),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},s.prototype.isOnlyHitBox=function(){return!0},s.prototype.initAttrs=function(i){this._assembleFont(),i.text&&this._setText(i.text)},s.prototype._assembleFont=function(){var i=this.attrs;i.font=Gv(i)},s.prototype._setText=function(i){var u=null;lr(i)&&i.indexOf(`
`)!==-1&&(u=i.split(`
`)),this.set("textArr",u)},s.prototype.onAttrChange=function(i,u,g){l.prototype.onAttrChange.call(this,i,u,g),i.startsWith("font")&&this._assembleFont(),i==="text"&&this._setText(u)},s.prototype._getSpaceingY=function(){var i=this.attrs,u=i.lineHeight,g=i.fontSize*1;return u?u-g:g*.14},s.prototype._drawTextArr=function(i,u,g){var C=this.attrs,x=C.textBaseline,E=C.x,O=C.y,R=C.fontSize*1,k=this._getSpaceingY(),z=On(C.text,C.fontSize,C.lineHeight),j;D(u,function(q,ee){j=O+ee*(k+R)-z+R,x==="middle"&&(j+=z-R-(z-R)/2),x==="top"&&(j+=z-R),kt(q)||(g?i.fillText(q,E,j):i.strokeText(q,E,j))})},s.prototype._drawText=function(i,u){var g=this.attr(),C=g.x,x=g.y,E=this.get("textArr");if(E)this._drawTextArr(i,E,u);else{var O=g.text;kt(O)||(u?i.fillText(O,C,x):i.strokeText(O,C,x))}},s.prototype.strokeAndFill=function(i){var u=this.attrs,g=u.lineWidth,C=u.opacity,x=u.strokeOpacity,E=u.fillOpacity;this.isStroke()&&g>0&&(!kt(x)&&x!==1&&(i.globalAlpha=C),this.stroke(i)),this.isFill()&&(!kt(E)&&E!==1?(i.globalAlpha=E,this.fill(i),i.globalAlpha=C):this.fill(i)),this.afterDrawPath(i)},s.prototype.fill=function(i){this._drawText(i,!0)},s.prototype.stroke=function(i){this._drawText(i,!1)},s}(pc),i_=n_;function Zy(l,s){if(s){var i=xn(s);return rn(i,l)}return l}function a_(l,s,i){var u=l.getTotalMatrix();if(u){var g=Zy([s,i,1],u),C=g[0],x=g[1];return[C,x]}return[s,i]}function L0(l,s,i){if(l.isCanvas&&l.isCanvas())return!0;if(!_i(l)||l.cfg.isInView===!1)return!1;if(l.cfg.clipShape){var u=a_(l,s,i),g=u[0],C=u[1];if(l.isClipped(g,C))return!1}var x=l.cfg.cacheCanvasBBox||l.getCanvasBBox();return s>=x.minX&&s<=x.maxX&&i>=x.minY&&i<=x.maxY}function Ix(l,s,i){if(!L0(l,s,i))return null;for(var u=null,g=l.getChildren(),C=g.length,x=C-1;x>=0;x--){var E=g[x];if(E.isGroup())u=Ix(E,s,i);else if(L0(E,s,i)){var O=E,R=a_(E,s,i),k=R[0],z=R[1];O.isInShape(k,z)&&(u=E)}if(u)break}return u}var hg=function(l){oe(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getDefaultCfg=function(){var i=l.prototype.getDefaultCfg.call(this);return i.renderer="canvas",i.autoDraw=!0,i.localRefresh=!0,i.refreshElements=[],i.clipView=!0,i.quickHit=!1,i},s.prototype.onCanvasChange=function(i){(i==="attr"||i==="sort"||i==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},s.prototype.getShapeBase=function(){return ye},s.prototype.getGroupBase=function(){return pl},s.prototype.getPixelRatio=function(){var i=this.get("pixelRatio")||Ks();return i>=1?Math.ceil(i):1},s.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},s.prototype.createDom=function(){var i=document.createElement("canvas"),u=i.getContext("2d");return this.set("context",u),i},s.prototype.setDOMSize=function(i,u){l.prototype.setDOMSize.call(this,i,u);var g=this.get("context"),C=this.get("el"),x=this.getPixelRatio();C.width=x*i,C.height=x*u,x>1&&g.scale(x,x)},s.prototype.clear=function(){l.prototype.clear.call(this),this._clearFrame();var i=this.get("context"),u=this.get("el");i.clearRect(0,0,u.width,u.height)},s.prototype.getShape=function(i,u){var g;return this.get("quickHit")?g=Ix(this,i,u):g=l.prototype.getShape.call(this,i,u,null),g},s.prototype._getRefreshRegion=function(){var i=this.get("refreshElements"),u=this.getViewRange(),g;if(i.length&&i[0]===this)g=u;else if(g=zc(i),g){g.minX=Math.floor(g.minX),g.minY=Math.floor(g.minY),g.maxX=Math.ceil(g.maxX),g.maxY=Math.ceil(g.maxY),g.maxY+=1;var C=this.get("clipView");C&&(g=Qf(g,u))}return g},s.prototype.refreshElement=function(i){var u=this.get("refreshElements");u.push(i)},s.prototype._clearFrame=function(){var i=this.get("drawFrame");i&&(Mn(i),this.set("drawFrame",null),this.set("refreshElements",[]))},s.prototype.draw=function(){var i=this.get("drawFrame");this.get("autoDraw")&&i||this._startDraw()},s.prototype._drawAll=function(){var i=this.get("context"),u=this.get("el"),g=this.getChildren();i.clearRect(0,0,u.width,u.height),X(i,this),ue(i,g),this.set("refreshElements",[])},s.prototype._drawRegion=function(){var i=this.get("context"),u=this.get("refreshElements"),g=this.getChildren(),C=this._getRefreshRegion();C?(i.clearRect(C.minX,C.minY,C.maxX-C.minX,C.maxY-C.minY),i.save(),i.beginPath(),i.rect(C.minX,C.minY,C.maxX-C.minX,C.maxY-C.minY),i.clip(),X(i,this),ge(this,g,C),ue(i,g,C),i.restore()):u.length&&ar(u),D(u,function(x){x.get("hasChanged")&&x.set("hasChanged",!1)}),this.set("refreshElements",[])},s.prototype._startDraw=function(){var i=this,u=this.get("drawFrame");u||(u=mn(function(){i.get("localRefresh")?i._drawRegion():i._drawAll(),i.set("drawFrame",null)}),this.set("drawFrame",u))},s.prototype.skipDraw=function(){},s.prototype.removeDom=function(){var i=this.get("el");i.width=0,i.height=0,i.parentNode.removeChild(i)},s}(C0),Ky;(function(l){l.DATA_CELL_CLICK_EVENT="interaction:data-cell-click",l.MERGED_CELLS_CLICK_EVENT="interaction:merged-cells-click",l.CORNER_TEXT_CLICK_EVENT="interaction:corner-cell-text-click",l.ROW_COLUMN_CLICK_EVENT="interaction:row-column-click",l.ROW_TEXT_CLICK_EVENT="interaction:row-text-click",l.HOVER_EVENT="interaction:hover",l.TREND_ICON_CLICK="interaction:trend-icon-click"})(Ky||(Ky={}));var ll;(function(l){l.MOUSE_DOWN="mousedown",l.MOUSE_MOVE="mousemove",l.MOUSE_OUT="mouseout",l.MOUSE_LEAVE="mouseleave",l.MOUSE_UP="mouseup",l.KEY_DOWN="keydown",l.KEY_UP="keyup",l.CLICK="click",l.HOVER="hover",l.DOUBLE_CLICK="dblclick",l.CONTEXT_MENU="contextmenu"})(ll||(ll={}));var Ar;(function(l){l.ROW_CELL_HOVER="row-cell:hover",l.ROW_CELL_CLICK="row-cell:click",l.ROW_CELL_DOUBLE_CLICK="row-cell:double-click",l.ROW_CELL_CONTEXT_MENU="row-cell:context-menu",l.ROW_CELL_MOUSE_DOWN="row-cell:mouse-down",l.ROW_CELL_MOUSE_UP="row-cell:mouse-up",l.ROW_CELL_MOUSE_MOVE="row-cell:mouse-move",l.ROW_CELL_COLLAPSE_TREE_ROWS="row-cell:collapsed-tree-rows",l.ROW_CELL_SCROLL="row-cell:scroll",l.ROW_CELL_BRUSH_SELECTION="row-cell:brush-selection",l.COL_CELL_HOVER="col-cell:hover",l.COL_CELL_CLICK="col-cell:click",l.COL_CELL_DOUBLE_CLICK="col-cell:double-click",l.COL_CELL_CONTEXT_MENU="col-cell:context-menu",l.COL_CELL_MOUSE_DOWN="col-cell:mouse-down",l.COL_CELL_MOUSE_UP="col-cell:mouse-up",l.COL_CELL_MOUSE_MOVE="col-cell:mouse-move",l.COL_CELL_BRUSH_SELECTION="col-cell:brush-selection",l.DATA_CELL_HOVER="data-cell:hover",l.DATA_CELL_CLICK="data-cell:click",l.DATA_CELL_DOUBLE_CLICK="data-cell:double-click",l.DATA_CELL_CONTEXT_MENU="data-cell:context-menu",l.DATA_CELL_MOUSE_UP="data-cell:mouse-up",l.DATA_CELL_MOUSE_DOWN="data-cell:mouse-down",l.DATA_CELL_MOUSE_MOVE="data-cell:mouse-move",l.DATA_CELL_TREND_ICON_CLICK="data-cell:trend-icon-click",l.DATA_CELL_BRUSH_SELECTION="data-cell:brush-selection",l.DATA_CELL_SELECT_MOVE="data-cell:select-move",l.CORNER_CELL_HOVER="corner-cell:hover",l.CORNER_CELL_CLICK="corner-cell:click",l.CORNER_CELL_DOUBLE_CLICK="corner-cell:double-click",l.CORNER_CELL_CONTEXT_MENU="corner-cell:context-menu",l.CORNER_CELL_MOUSE_DOWN="corner-cell:mouse-down",l.CORNER_CELL_MOUSE_UP="corner-cell:mouse-up",l.CORNER_CELL_MOUSE_MOVE="corner-cell:mouse-move",l.MERGED_CELLS_HOVER="merged-cells:hover",l.MERGED_CELLS_CLICK="merged-cells:click",l.MERGED_CELLS_DOUBLE_CLICK="merged-cells:double-click",l.MERGED_CELLS_CONTEXT_MENU="merged-cell:context-menu",l.MERGED_CELLS_MOUSE_DOWN="merged-cells:mouse-down",l.MERGED_CELLS_MOUSE_UP="merged-cells:mouse-up",l.MERGED_CELLS_MOUSE_MOVE="merged-cells:mouse-move",l.RANGE_SORT="sort:range-sort",l.RANGE_SORTED="sort:range-sorted",l.RANGE_FILTER="filter:range-filter",l.RANGE_FILTERED="filter:range-filtered",l.LAYOUT_AFTER_HEADER_LAYOUT="layout:after-header-layout",l.LAYOUT_CELL_SCROLL="layout:cell-scroll",l.LAYOUT_PAGINATION="layout:pagination",l.LAYOUT_COLLAPSE_ROWS="layout:collapsed-rows",l.LAYOUT_AFTER_COLLAPSE_ROWS="layout:after-collapsed-rows",l.LAYOUT_AFTER_REAL_DATA_CELL_RENDER="layout:after-real-data-cell-render",l.LAYOUT_TREE_ROWS_COLLAPSE_ALL="layout:toggle-collapse-all",l.LAYOUT_COLS_EXPANDED="layout:table-col-expanded",l.LAYOUT_COLS_HIDDEN="layout:table-col-hidden",l.LAYOUT_AFTER_RENDER="layout:after-render",l.LAYOUT_BEFORE_RENDER="layout:before-render",l.LAYOUT_DESTROY="layout:destroy",l.LAYOUT_RESIZE="layout:resize",l.LAYOUT_RESIZE_SERIES_WIDTH="layout:resize-series-width",l.LAYOUT_RESIZE_ROW_WIDTH="layout:resize-row-width",l.LAYOUT_RESIZE_ROW_HEIGHT="layout:resize-row-height",l.LAYOUT_RESIZE_COL_WIDTH="layout:resize-column-width",l.LAYOUT_RESIZE_COL_HEIGHT="layout:resize-column-height",l.LAYOUT_RESIZE_TREE_WIDTH="layout:resize-tree-width",l.LAYOUT_RESIZE_MOUSE_DOWN="layout:resize:mouse-down",l.LAYOUT_RESIZE_MOUSE_MOVE="layout:resize:mouse-move",l.LAYOUT_RESIZE_MOUSE_UP="layout:resize-mouse-up",l.GLOBAL_KEYBOARD_DOWN="global:keyboard-down",l.GLOBAL_KEYBOARD_UP="global:keyboard-up",l.GLOBAL_COPIED="global:copied",l.GLOBAL_MOUSE_UP="global:mouse-up",l.GLOBAL_MOUSE_MOVE="global:mouse-move",l.GLOBAL_ACTION_ICON_CLICK="global:action-icon-click",l.GLOBAL_ACTION_ICON_HOVER="global:action-icon-hover",l.GLOBAL_ACTION_ICON_HOVER_OFF="global:action-icon-hover-off",l.GLOBAL_CONTEXT_MENU="global:context-menu",l.GLOBAL_CLICK="global:click",l.GLOBAL_DOUBLE_CLICK="global:double-click",l.GLOBAL_SELECTED="global:selected",l.GLOBAL_HOVER="global:hover",l.GLOBAL_RESET="global:reset",l.GLOBAL_LINK_FIELD_JUMP="global:link-field-jump",l.GLOBAL_SCROLL="global:scroll"})(Ar||(Ar={}));var cu="$$value$$",ra="$$extra$$",P0="$$extra_column$$",B0="$$total$$",Zh="$$series_number$$",Zv="$$empty_field_value$$",Zd=0,eb=3,qy=3,tb=4,Rx=5,Kd=5,dg=1,Dx=1,Lx=2,Px=1,rb="backGroundGroup",o_="foreGroundGroup",Kv="panelGroup",qd="panelScrollGroup",k0="mergedCellsGroup",Bx="frozenRowGroup",Sf="frozenColGroup",nb="frozenTrailingRowGroup",kx="frozenTrailingColGroup",Fx="frozenTopGroup",vg="frozenBottomGroup",qv="rowResizeAreaGroup",Qd="rowFrozenResizeAreaGroup",F0="frozenSplitLine",_f="rowIndexResizeAreaGroup",N0="cornerResizeAreaGroup",sl="colResizeAreaGroup",eh="colFrozenResizeAreaGroup",ib="colHorizontalResizeAreaGroup",Jd="colScrollGroup",Nx="colFrozenGroup",ev="colFrozenTrailingGroup",tv="gridGroup",l_="rowScrollGroup",Du="rowHeaderFrozenGroup",Kh="series-number-node",ul="horizontal-resize-area-",s_="table-col-horizontal-resize-area",u_="col-real-width-info",Uo="root",zl="[&]",$c="-",qh=0,pg=1,ab=2,c_=3,ob=28,lb=16,Qy=16,Qh=/^root\[&\]*/,f_="image",gg=.5,H0=50,Po;(function(l){l.Line="line",l.Bar="bar",l.Bullet="bullet"})(Po||(Po={}));var Jy="square",Jh="...",ed="antv-s2",Ef="valueRanges",z0={},eC="#000000",Qv="#FFFFFF",sb={data:[],totalData:[],fields:{rows:[],columns:[],values:[],customTreeItems:[],valueInCols:!0},meta:[],sortParams:[],filterParams:[]},gc,Xo;(function(l){l.ROW="row",l.COL="col",l.TRAILING_ROW="trailingRow",l.TRAILING_COL="trailingCol",l.SCROLL="scroll",l.TOP="top",l.BOTTOM="bottom"})(Xo||(Xo={}));var ds;(function(l){l.FROZEN_COL="frozenCol",l.FROZEN_ROW="frozenRow",l.FROZEN_TRAILING_COL="frozenTrailingCol",l.FROZEN_TRAILING_ROW="frozenTrailingRow"})(ds||(ds={}));var tC=(gc={},gc[Xo.ROW]="frozenRowGroup",gc[Xo.COL]="frozenColGroup",gc[Xo.TRAILING_COL]="frozenTrailingColGroup",gc[Xo.TRAILING_ROW]="frozenTrailingRowGroup",gc[Xo.SCROLL]="panelScrollGroup",gc[Xo.TOP]="frozenTopGroup",gc[Xo.BOTTOM]="frozenBottomGroup",gc),Wl;(function(l){l.CORNER_CELL_CLICK="cornerCellClick",l.DATA_CELL_CLICK="dataCellClick",l.MERGED_CELLS_CLICK="mergedCellsClick",l.ROW_COLUMN_CLICK="rowColumnClick",l.ROW_TEXT_CLICK="rowTextClick",l.HOVER="hover",l.BRUSH_SELECTION="brushSelection",l.ROW_BRUSH_SELECTION="rowBrushSelection",l.COL_BRUSH_SELECTION="colBrushSelection",l.COL_ROW_RESIZE="rowColResize",l.DATA_CELL_MULTI_SELECTION="dataCellMultiSelection",l.RANGE_SELECTION="rangeSelection",l.SELECTED_CELL_MOVE="selectedCellMove"})(Wl||(Wl={}));var bi;(function(l){l.ALL_SELECTED="allSelected",l.SELECTED="selected",l.BRUSH_SELECTED="brushSelected",l.UNSELECTED="unselected",l.HOVER="hover",l.HOVER_FOCUS="hoverFocus",l.HIGHLIGHT="highlight",l.SEARCH_RESULT="searchResult",l.PREPARE_SELECT="prepareSelect"})(bi||(bi={}));var An;(function(l){l.DATA_CELL="dataCell",l.HEADER_CELL="headerCell",l.ROW_CELL="rowCell",l.COL_CELL="colCell",l.CORNER_CELL="cornerCell",l.MERGED_CELL="mergedCell"})(An||(An={}));var mc=800,Pl={textOpacity:"fillOpacity",backgroundOpacity:"fillOpacity",backgroundColor:"fill",borderOpacity:"strokeOpacity",borderColor:"stroke",borderWidth:"lineWidth",opacity:"opacity"},gl={textShape:["textOpacity"],textShapes:["textOpacity"],linkFieldShape:["opacity"],interactiveBgShape:["backgroundColor","backgroundOpacity"],interactiveBorderShape:["borderColor","borderOpacity","borderWidth"]},W0="interactionStateInfo",Ds;(function(l){l.CLICK="click",l.UN_DRAGGED="unDragged",l.DRAGGED="dragged"})(Ds||(Ds={}));var Gl;(function(l){l.SHIFT="Shift",l.COPY="c",l.ESC="Escape",l.META="Meta",l.CONTROL="Control",l.ARROW_UP="ArrowUp",l.ARROW_DOWN="ArrowDown",l.ARROW_LEFT="ArrowLeft",l.ARROW_RIGHT="ArrowRight"})(Gl||(Gl={}));var mg;(function(l){l.ASC="ASC",l.DESC="DESC"})(mg||(mg={}));var $i;(function(l){l.HOVER="hover",l.CLICK="click",l.BRUSH_SELECTION="brushSelection",l.ROW_BRUSH_SELECTION="rowBrushSelection",l.COL_BRUSH_SELECTION="colBrushSelection",l.MULTI_SELECTION="multiSelection",l.RESIZE="resize"})($i||($i={}));var Oi={x:{value:0,scroll:!1},y:{value:0,scroll:!1}},G0;(function(l){l.CONTENT="content",l.CANVAS="canvas"})(G0||(G0={}));var Lu;(function(l){l.SCROLL_UP="scrollUp",l.SCROLL_DOWN="scrollDown"})(Lu||(Lu={}));var $0;(function(l){l[l.SCROLL_UP=-1]="SCROLL_UP",l[l.SCROLL_DOWN=1]="SCROLL_DOWN"})($0||($0={}));var Jv="RESIZE_START_GUIDE_LINE",td="RESIZE_END_GUIDE_LINE",Hx="RESIZE_MASK",yc;(function(l){l.Horizontal="col",l.Vertical="row"})(yc||(yc={}));var fu;(function(l){l.Field="field",l.Cell="cell",l.Tree="tree",l.Series="series"})(fu||(fu={}));var ep;(function(l){l.ALL="all",l.CURRENT="current"})(ep||(ep={}));var tp=1,Mf;(function(l){l.Adaptive="adaptive",l.ColAdaptive="colAdaptive",l.Compact="compact"})(Mf||(Mf={}));var zx=120,Wx={layoutWidthType:Mf.Adaptive,showTreeLeafNodeAlignDot:!1,collapsedRows:{},collapsedCols:{},cellCfg:{width:96,height:30},rowCfg:{width:null,widthByField:{},heightByField:{}},colCfg:{height:30,widthByFieldValue:{},heightByField:{}},device:"pc"},rv={width:600,height:480,debug:!1,hierarchyType:"grid",conditions:{},totals:{},tooltip:{showTooltip:!1,autoAdjustBoundary:"body",operation:{hiddenColumns:!1,trend:!1,sort:!1,menus:[]}},interaction:{linkFields:[],hiddenColumnFields:[],selectedCellsSpotlight:!1,hoverHighlight:!0,hoverFocus:{duration:mc},scrollSpeedRatio:{horizontal:1,vertical:1},autoResetSheetStyle:!0,brushSelection:{data:!0,row:!1,col:!1},multiSelection:!0,rangeSelection:!0,scrollbarPosition:G0.CONTENT,resize:{rowCellVertical:!0,cornerCellHorizontal:!0,colCellHorizontal:!0,colCellVertical:!0,rowResizeType:ep.ALL},eventListenerOptions:!1,selectedCellHighlight:!1,overscrollBehavior:"auto"},showSeriesNumber:!1,customSVGIcons:[],showDefaultHeaderActionIcon:!1,headerActionIcons:[],style:Wx,frozenRowHeader:!0,frozenRowCount:0,frozenColCount:0,frozenTrailingRowCount:0,frozenTrailingColCount:0,hdAdapter:!0,cornerText:"",cornerExtraFieldText:"",placeholder:$c,supportCSSTransform:!1,devicePixelRatio:window.devicePixelRatio},Pu=function(l,s){return Pu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,u){i.__proto__=u}||function(i,u){for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(i[g]=u[g])},Pu(l,s)};function Ni(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");Pu(l,s);function i(){this.constructor=l}l.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}var ur=function(){return ur=Object.assign||function(s){for(var i,u=1,g=arguments.length;u<g;u++){i=arguments[u];for(var C in i)Object.prototype.hasOwnProperty.call(i,C)&&(s[C]=i[C])}return s},ur.apply(this,arguments)};function rC(l,s){var i={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&s.indexOf(u)<0&&(i[u]=l[u]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,u=Object.getOwnPropertySymbols(l);g<u.length;g++)s.indexOf(u[g])<0&&Object.prototype.propertyIsEnumerable.call(l,u[g])&&(i[u[g]]=l[u[g]]);return i}function Ls(l){var s=typeof Symbol=="function"&&Symbol.iterator,i=s&&l[s],u=0;if(i)return i.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&u>=l.length&&(l=void 0),{value:l&&l[u++],done:!l}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(l,s){var i=typeof Symbol=="function"&&l[Symbol.iterator];if(!i)return l;var u=i.call(l),g,C=[],x;try{for(;(s===void 0||s-- >0)&&!(g=u.next()).done;)C.push(g.value)}catch(E){x={error:E}}finally{try{g&&!g.done&&(i=u.return)&&i.call(u)}finally{if(x)throw x.error}}return C}function en(l,s,i){if(i||arguments.length===2)for(var u=0,g=s.length,C;u<g;u++)(C||!(u in s))&&(C||(C=Array.prototype.slice.call(s,0,u)),C[u]=s[u]);return l.concat(C||Array.prototype.slice.call(s))}var th=typeof tt.g=="object"&&tt.g&&tt.g.Object===Object&&tt.g,nC=th,yg=typeof self=="object"&&self&&self.Object===Object&&self,iC=nC||yg||Function("return this")(),ml=iC,rp=ml.Symbol,Bo=rp,ub=Object.prototype,cb=ub.hasOwnProperty,np=ub.toString,Cg=Bo?Bo.toStringTag:void 0;function vs(l){var s=cb.call(l,Cg),i=l[Cg];try{l[Cg]=void 0;var u=!0}catch(C){}var g=np.call(l);return u&&(s?l[Cg]=i:delete l[Cg]),g}var Gx=Object.prototype,fb=Gx.toString;function Cc(l){return fb.call(l)}var Bl="[object Null]",Tf="[object Undefined]",ip=Bo?Bo.toStringTag:void 0;function Ps(l){return l==null?l===void 0?Tf:Bl:ip&&ip in Object(l)?vs(l):Cc(l)}function Zo(l){return l!=null&&typeof l=="object"}var aC="[object Symbol]";function qu(l){return typeof l=="symbol"||Zo(l)&&Ps(l)==aC}var U0=NaN;function Bs(l){return typeof l=="number"?l:qu(l)?U0:+l}function bo(l,s){for(var i=-1,u=l==null?0:l.length,g=Array(u);++i<u;)g[i]=s(l[i],i,l);return g}var ks=Array.isArray,Fi=ks,bc=1/0,$x=Bo?Bo.prototype:void 0,h_=$x?$x.toString:void 0;function wc(l){if(typeof l=="string")return l;if(Fi(l))return bo(l,wc)+"";if(qu(l))return h_?h_.call(l):"";var s=l+"";return s=="0"&&1/l==-bc?"-0":s}function oC(l,s){return function(i,u){var g;if(i===void 0&&u===void 0)return s;if(i!==void 0&&(g=i),u!==void 0){if(g===void 0)return u;typeof i=="string"||typeof u=="string"?(i=wc(i),u=wc(u)):(i=Bs(i),u=Bs(u)),g=l(i,u)}return g}}var lC=oC(function(l,s){return l+s},0),sC=lC,la=/\s/;function sa(l){for(var s=l.length;s--&&la.test(l.charAt(s)););return s}var ps=/^\s+/;function uC(l){return l&&l.slice(0,sa(l)+1).replace(ps,"")}function na(l){var s=typeof l;return l!=null&&(s=="object"||s=="function")}var fo=NaN,d_=/^[-+]0x[0-9a-f]+$/i,hu=/^0b[01]+$/i,hb=/^0o[0-7]+$/i,gs=parseInt;function ca(l){if(typeof l=="number")return l;if(qu(l))return fo;if(na(l)){var s=typeof l.valueOf=="function"?l.valueOf():l;l=na(s)?s+"":s}if(typeof l!="string")return l===0?l:+l;l=uC(l);var i=hu.test(l);return i||hb.test(l)?gs(l.slice(2),i?2:8):d_.test(l)?fo:+l}var ms=1/0,v_=17976931348623157e292;function Uc(l){if(!l)return l===0?l:0;if(l=ca(l),l===ms||l===-ms){var s=l<0?-1:1;return s*v_}return l===l?l:0}function Nn(l){var s=Uc(l),i=s%1;return s===s?i?s-i:s:0}var db="Expected a function";function jT(l,s){if(typeof s!="function")throw new TypeError(db);return l=Nn(l),function(){if(--l<1)return s.apply(this,arguments)}}function Fs(l){return l}var RM="[object AsyncFunction]",Y0="[object Function]",vb="[object GeneratorFunction]",DM="[object Proxy]";function kl(l){if(!na(l))return!1;var s=Ps(l);return s==Y0||s==vb||s==RM||s==DM}var p_=ml["__core-js_shared__"],pb=p_,g_=function(){var l=/[^.]+$/.exec(pb&&pb.keys&&pb.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();function LM(l){return!!g_&&g_ in l}var PM=Function.prototype,m_=PM.toString;function $l(l){if(l!=null){try{return m_.call(l)}catch(s){}try{return l+""}catch(s){}}return""}var j0=/[\\^$.*+?()[\]{}|]/g,gb=/^\[object .+?Constructor\]$/,Ux=Function.prototype,y_=Object.prototype,mb=Ux.toString,ap=y_.hasOwnProperty,Yx=RegExp("^"+mb.call(ap).replace(j0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yb(l){if(!na(l)||LM(l))return!1;var s=kl(l)?Yx:gb;return s.test($l(l))}function bg(l,s){return l==null?void 0:l[s]}function Yc(l,s){var i=bg(l,s);return yb(i)?i:void 0}var ki=Yc(ml,"WeakMap"),V0=ki,op=V0&&new V0,wg=op,Bu=wg?function(l,s){return wg.set(l,s),l}:Fs,cC=Bu,X0=Object.create,Ul=function(){function l(){}return function(s){if(!na(s))return{};if(X0)return X0(s);l.prototype=s;var i=new l;return l.prototype=void 0,i}}(),lp=Ul;function xg(l){return function(){var s=arguments;switch(s.length){case 0:return new l;case 1:return new l(s[0]);case 2:return new l(s[0],s[1]);case 3:return new l(s[0],s[1],s[2]);case 4:return new l(s[0],s[1],s[2],s[3]);case 5:return new l(s[0],s[1],s[2],s[3],s[4]);case 6:return new l(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new l(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var i=lp(l.prototype),u=l.apply(i,s);return na(u)?u:i}}var Z0=1;function jx(l,s,i){var u=s&Z0,g=xg(l);function C(){var x=this&&this!==ml&&this instanceof C?g:l;return x.apply(u?i:this,arguments)}return C}function Qu(l,s,i){switch(i.length){case 0:return l.call(s);case 1:return l.call(s,i[0]);case 2:return l.call(s,i[0],i[1]);case 3:return l.call(s,i[0],i[1],i[2])}return l.apply(s,i)}var K0=Math.max;function Of(l,s,i,u){for(var g=-1,C=l.length,x=i.length,E=-1,O=s.length,R=K0(C-x,0),k=Array(O+R),z=!u;++E<O;)k[E]=s[E];for(;++g<x;)(z||g<C)&&(k[i[g]]=l[g]);for(;R--;)k[E++]=l[g++];return k}var C_=Math.max;function nv(l,s,i,u){for(var g=-1,C=l.length,x=-1,E=i.length,O=-1,R=s.length,k=C_(C-E,0),z=Array(k+R),j=!u;++g<k;)z[g]=l[g];for(var q=g;++O<R;)z[q+O]=s[O];for(;++x<E;)(j||g<C)&&(z[q+i[x]]=l[g++]);return z}function b_(l,s){for(var i=l.length,u=0;i--;)l[i]===s&&++u;return u}function rh(){}var w_=4294967295;function Na(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=w_,this.__views__=[]}Na.prototype=lp(rh.prototype),Na.prototype.constructor=Na;function Sg(){}var Cb=wg?function(l){return wg.get(l)}:Sg,_g=Cb,du={},jc=du,io=Object.prototype,ys=io.hasOwnProperty;function rd(l){for(var s=l.name+"",i=jc[s],u=ys.call(jc,s)?i.length:0;u--;){var g=i[u],C=g.func;if(C==null||C==l)return g.name}return s}function Ns(l,s){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=void 0}Ns.prototype=lp(rh.prototype),Ns.prototype.constructor=Ns;function tl(l,s){var i=-1,u=l.length;for(s||(s=Array(u));++i<u;)s[i]=l[i];return s}function q0(l){if(l instanceof Na)return l.clone();var s=new Ns(l.__wrapped__,l.__chain__);return s.__actions__=tl(l.__actions__),s.__index__=l.__index__,s.__values__=l.__values__,s}var nh=Object.prototype,Q0=nh.hasOwnProperty;function Je(l){if(Zo(l)&&!Fi(l)&&!(l instanceof Na)){if(l instanceof Ns)return l;if(Q0.call(l,"__wrapped__"))return q0(l)}return new Ns(l)}Je.prototype=rh.prototype,Je.prototype.constructor=Je;function sp(l){var s=rd(l),i=Je[s];if(typeof i!="function"||!(s in Na.prototype))return!1;if(l===i)return!0;var u=_g(i);return!!u&&l===u[0]}var J0=800,fC=16,ih=Date.now;function Vx(l){var s=0,i=0;return function(){var u=ih(),g=fC-(u-i);if(i=u,g>0){if(++s>=J0)return arguments[0]}else s=0;return l.apply(void 0,arguments)}}var qs=Vx(cC),em=qs,x_=/\{\n\/\* \[wrapped with (.+)\] \*/,tm=/,? & /;function Vc(l){var s=l.match(x_);return s?s[1].split(tm):[]}var Ya=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Ju(l,s){var i=s.length;if(!i)return l;var u=i-1;return s[u]=(i>1?"& ":"")+s[u],s=s.join(i>2?", ":" "),l.replace(Ya,`{
/* [wrapped with `+s+`] */
`)}function nd(l){return function(){return l}}var hC=function(){try{var l=Yc(Object,"defineProperty");return l({},"",{}),l}catch(s){}}(),id=hC,rm=id?function(l,s){return id(l,"toString",{configurable:!0,enumerable:!1,value:nd(s),writable:!0})}:Fs,dC=rm,ku=Vx(dC),ad=ku;function Qs(l,s){for(var i=-1,u=l==null?0:l.length;++i<u&&s(l[i],i,l)!==!1;);return l}function bb(l,s,i,u){for(var g=l.length,C=i+(u?1:-1);u?C--:++C<g;)if(s(l[C],C,l))return C;return-1}function nm(l){return l!==l}function im(l,s,i){for(var u=i-1,g=l.length;++u<g;)if(l[u]===s)return u;return-1}function iv(l,s,i){return s===s?im(l,s,i):bb(l,nm,i)}function xc(l,s){var i=l==null?0:l.length;return!!i&&iv(l,s,0)>-1}var wb=1,Xx=2,Zx=8,am=16,Ko=32,xb=64,vC=128,pC=256,av=512,up=[["ary",vC],["bind",wb],["bindKey",Xx],["curry",Zx],["curryRight",am],["flip",av],["partial",Ko],["partialRight",xb],["rearg",pC]];function Xc(l,s){return Qs(up,function(i){var u="_."+i[0];s&i[1]&&!xc(l,u)&&l.push(u)}),l.sort()}function od(l,s,i){var u=s+"";return ad(l,Ju(u,Xc(Vc(u),i)))}var gC=1,ah=2,mC=4,cp=8,ov=32,Sb=64;function yC(l,s,i,u,g,C,x,E,O,R){var k=s&cp,z=k?x:void 0,j=k?void 0:x,q=k?C:void 0,ee=k?void 0:C;s|=k?ov:Sb,s&=~(k?Sb:ov),s&mC||(s&=~(gC|ah));var le=[l,s,g,q,z,ee,j,E,O,R],me=i.apply(void 0,le);return sp(l)&&em(me,le),me.placeholder=u,od(me,l,s)}function oh(l){var s=l;return s.placeholder}var _b=9007199254740991,om=/^(?:0|[1-9]\d*)$/;function ko(l,s){var i=typeof l;return s=s==null?_b:s,!!s&&(i=="number"||i!="symbol"&&om.test(l))&&l>-1&&l%1==0&&l<s}var Zc=Math.min;function yl(l,s){for(var i=l.length,u=Zc(s.length,i),g=tl(l);u--;){var C=s[u];l[u]=ko(C,i)?g[C]:void 0}return l}var Eb="__lodash_placeholder__";function lh(l,s){for(var i=-1,u=l.length,g=0,C=[];++i<u;){var x=l[i];(x===s||x===Eb)&&(l[i]=Eb,C[g++]=i)}return C}var CC=1,Mb=2,Kx=8,bC=16,S_=128,Tb=512;function wC(l,s,i,u,g,C,x,E,O,R){var k=s&S_,z=s&CC,j=s&Mb,q=s&(Kx|bC),ee=s&Tb,le=j?void 0:xg(l);function me(){for(var Oe=arguments.length,$e=Array(Oe),Ye=Oe;Ye--;)$e[Ye]=arguments[Ye];if(q)var Ze=oh(me),Ut=b_($e,Ze);if(u&&($e=Of($e,u,g,q)),C&&($e=nv($e,C,x,q)),Oe-=Ut,q&&Oe<R){var gr=lh($e,Ze);return yC(l,s,wC,me.placeholder,i,$e,gr,E,O,R-Oe)}var br=z?i:this,Zr=j?br[l]:l;return Oe=$e.length,E?$e=yl($e,E):ee&&Oe>1&&$e.reverse(),k&&O<Oe&&($e.length=O),this&&this!==ml&&this instanceof me&&(Zr=le||xg(Zr)),Zr.apply(br,$e)}return me}function BM(l,s,i){var u=xg(l);function g(){for(var C=arguments.length,x=Array(C),E=C,O=oh(g);E--;)x[E]=arguments[E];var R=C<3&&x[0]!==O&&x[C-1]!==O?[]:lh(x,O);if(C-=R.length,C<i)return yC(l,s,wC,g.placeholder,void 0,x,R,void 0,void 0,i-C);var k=this&&this!==ml&&this instanceof g?u:l;return Qu(k,this,x)}return g}var kM=1;function __(l,s,i,u){var g=s&kM,C=xg(l);function x(){for(var E=-1,O=arguments.length,R=-1,k=u.length,z=Array(k+O),j=this&&this!==ml&&this instanceof x?C:l;++R<k;)z[R]=u[R];for(;O--;)z[R++]=arguments[++E];return Qu(j,g?i:this,z)}return x}var sh="__lodash_placeholder__",Ha=1,vu=2,qx=4,uh=8,Eg=128,Qx=256,Jx=Math.min;function lm(l,s){var i=l[1],u=s[1],g=i|u,C=g<(Ha|vu|Eg),x=u==Eg&&i==uh||u==Eg&&i==Qx&&l[7].length<=s[8]||u==(Eg|Qx)&&s[7].length<=s[8]&&i==uh;if(!(C||x))return l;u&Ha&&(l[2]=s[2],g|=i&Ha?0:qx);var E=s[3];if(E){var O=l[3];l[3]=O?Of(O,E,s[4]):E,l[4]=O?lh(l[3],sh):s[4]}return E=s[5],E&&(O=l[5],l[5]=O?nv(O,E,s[6]):E,l[6]=O?lh(l[5],sh):s[6]),E=s[7],E&&(l[7]=E),u&Eg&&(l[8]=l[8]==null?s[8]:Jx(l[8],s[8])),l[9]==null&&(l[9]=s[9]),l[0]=s[0],l[1]=g,l}var fp="Expected a function",lv=1,Ob=2,sm=8,Ab=16,Ib=32,Rb=64,hp=Math.max;function Af(l,s,i,u,g,C,x,E){var O=s&Ob;if(!O&&typeof l!="function")throw new TypeError(fp);var R=u?u.length:0;if(R||(s&=~(Ib|Rb),u=g=void 0),x=x===void 0?x:hp(Nn(x),0),E=E===void 0?E:Nn(E),R-=g?g.length:0,s&Rb){var k=u,z=g;u=g=void 0}var j=O?void 0:_g(l),q=[l,s,i,u,g,k,z,C,x,E];if(j&&lm(q,j),l=q[0],s=q[1],i=q[2],u=q[3],g=q[4],E=q[9]=q[9]===void 0?O?0:l.length:hp(q[9]-R,0),!E&&s&(sm|Ab)&&(s&=~(sm|Ab)),!s||s==lv)var ee=jx(l,s,i);else s==sm||s==Ab?ee=BM(l,s,E):(s==Ib||s==(lv|Ib))&&!g.length?ee=__(l,s,i,u):ee=wC.apply(void 0,q);var le=j?cC:em;return od(le(ee,q),l,s)}var E_=128;function eS(l,s,i){return s=i?void 0:s,s=l&&s==null?l.length:s,Af(l,E_,void 0,void 0,void 0,void 0,s)}function ld(l,s,i){s=="__proto__"&&id?id(l,s,{configurable:!0,enumerable:!0,value:i,writable:!0}):l[s]=i}function Kc(l,s){return l===s||l!==l&&s!==s}var um=Object.prototype,Mg=um.hasOwnProperty;function dp(l,s,i){var u=l[s];(!(Mg.call(l,s)&&Kc(u,i))||i===void 0&&!(s in l))&&ld(l,s,i)}function If(l,s,i,u){var g=!i;i||(i={});for(var C=-1,x=s.length;++C<x;){var E=s[C],O=u?u(i[E],l[E],E,i,l):void 0;O===void 0&&(O=l[E]),g?ld(i,E,O):dp(i,E,O)}return i}var Tg=Math.max;function cm(l,s,i){return s=Tg(s===void 0?l.length-1:s,0),function(){for(var u=arguments,g=-1,C=Tg(u.length-s,0),x=Array(C);++g<C;)x[g]=u[s+g];g=-1;for(var E=Array(s+1);++g<s;)E[g]=u[g];return E[s]=i(x),Qu(l,this,E)}}function ba(l,s){return ad(cm(l,s,Fs),l+"")}var fm=9007199254740991;function sd(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=fm}function Fu(l){return l!=null&&sd(l.length)&&!kl(l)}function Hs(l,s,i){if(!na(i))return!1;var u=typeof s;return(u=="number"?Fu(i)&&ko(s,i.length):u=="string"&&s in i)?Kc(i[s],l):!1}function Sc(l){return ba(function(s,i){var u=-1,g=i.length,C=g>1?i[g-1]:void 0,x=g>2?i[2]:void 0;for(C=l.length>3&&typeof C=="function"?(g--,C):void 0,x&&Hs(i[0],i[1],x)&&(C=g<3?void 0:C,g=1),s=Object(s);++u<g;){var E=i[u];E&&l(s,E,u,C)}return s})}var vp=Object.prototype;function ud(l){var s=l&&l.constructor,i=typeof s=="function"&&s.prototype||vp;return l===i}function Rf(l,s){for(var i=-1,u=Array(l);++i<l;)u[i]=s(i);return u}var Ba="[object Arguments]";function Li(l){return Zo(l)&&Ps(l)==Ba}var tS=Object.prototype,qc=tS.hasOwnProperty,rS=tS.propertyIsEnumerable,_c=Li(function(){return arguments}())?Li:function(l){return Zo(l)&&qc.call(l,"callee")&&!rS.call(l,"callee")},ch=_c;function hm(){return!1}var Db=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Nu=Db&&!0&&ai&&!ai.nodeType&&ai,Lb=Nu&&Nu.exports===Db,Qa=Lb?ml.Buffer:void 0,cl=Qa?Qa.isBuffer:void 0,Qc=cl||hm,ja=Qc,Yo="[object Arguments]",Pb="[object Array]",nS="[object Boolean]",xC="[object Date]",Og="[object Error]",zs="[object Function]",Bb="[object Map]",sv="[object Number]",iS="[object Object]",Fo="[object RegExp]",SC="[object Set]",Hu="[object String]",_C="[object WeakMap]",fh="[object ArrayBuffer]",_n="[object DataView]",M_="[object Float32Array]",aS="[object Float64Array]",EC="[object Int8Array]",cd="[object Int16Array]",kb="[object Int32Array]",Fb="[object Uint8Array]",Nb="[object Uint8ClampedArray]",dm="[object Uint16Array]",T_="[object Uint32Array]",Va={};Va[M_]=Va[aS]=Va[EC]=Va[cd]=Va[kb]=Va[Fb]=Va[Nb]=Va[dm]=Va[T_]=!0,Va[Yo]=Va[Pb]=Va[fh]=Va[nS]=Va[_n]=Va[xC]=Va[Og]=Va[zs]=Va[Bb]=Va[sv]=Va[iS]=Va[Fo]=Va[SC]=Va[Hu]=Va[_C]=!1;function Cl(l){return Zo(l)&&sd(l.length)&&!!Va[Ps(l)]}function ho(l){return function(s){return l(s)}}var Cs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Js=Cs&&!0&&ai&&!ai.nodeType&&ai,hh=Js&&Js.exports===Cs,Df=hh&&nC.process,Ag=function(){try{var l=Js&&Js.require&&Js.require("util").types;return l||Df&&Df.binding&&Df.binding("util")}catch(s){}}(),ec=Ag,MC=ec&&ec.isTypedArray,O_=MC?ho(MC):Cl,dh=O_,Ec=Object.prototype,oS=Ec.hasOwnProperty;function Ig(l,s){var i=Fi(l),u=!i&&ch(l),g=!i&&!u&&ja(l),C=!i&&!u&&!g&&dh(l),x=i||u||g||C,E=x?Rf(l.length,String):[],O=E.length;for(var R in l)(s||oS.call(l,R))&&!(x&&(R=="length"||g&&(R=="offset"||R=="parent")||C&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||ko(R,O)))&&E.push(R);return E}function Hb(l,s){return function(i){return l(s(i))}}var zb=Hb(Object.keys,Object),uv=zb,vm=Object.prototype,fd=vm.hasOwnProperty;function pp(l){if(!ud(l))return uv(l);var s=[];for(var i in Object(l))fd.call(l,i)&&i!="constructor"&&s.push(i);return s}function Aa(l){return Fu(l)?Ig(l):pp(l)}var pm=Object.prototype,Wb=pm.hasOwnProperty,Rg=Sc(function(l,s){if(ud(s)||Fu(s)){If(s,Aa(s),l);return}for(var i in s)Wb.call(s,i)&&dp(l,i,s[i])}),gm=Rg;function Lf(l){var s=[];if(l!=null)for(var i in Object(l))s.push(i);return s}var mm=Object.prototype,lS=mm.hasOwnProperty;function Gb(l){if(!na(l))return Lf(l);var s=ud(l),i=[];for(var u in l)u=="constructor"&&(s||!lS.call(l,u))||i.push(u);return i}function pu(l){return Fu(l)?Ig(l,!0):Gb(l)}var ia=Sc(function(l,s){If(s,pu(s),l)}),gu=ia,TC=Sc(function(l,s,i,u){If(s,pu(s),l,u)}),Jc=TC,$b=Sc(function(l,s,i,u){If(s,Aa(s),l,u)}),mu=$b,hd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sS=/^\w*$/;function dd(l,s){if(Fi(l))return!1;var i=typeof l;return i=="number"||i=="symbol"||i=="boolean"||l==null||qu(l)?!0:sS.test(l)||!hd.test(l)||s!=null&&l in Object(s)}var Dg=Yc(Object,"create"),Lg=Dg;function OC(){this.__data__=Lg?Lg(null):{},this.size=0}function uS(l){var s=this.has(l)&&delete this.__data__[l];return this.size-=s?1:0,s}var A_="__lodash_hash_undefined__",gp=Object.prototype,Ub=gp.hasOwnProperty;function AC(l){var s=this.__data__;if(Lg){var i=s[l];return i===A_?void 0:i}return Ub.call(s,l)?s[l]:void 0}var I_=Object.prototype,R_=I_.hasOwnProperty;function Yb(l){var s=this.__data__;return Lg?s[l]!==void 0:R_.call(s,l)}var Pg="__lodash_hash_undefined__";function D_(l,s){var i=this.__data__;return this.size+=this.has(l)?0:1,i[l]=Lg&&s===void 0?Pg:s,this}function vh(l){var s=-1,i=l==null?0:l.length;for(this.clear();++s<i;){var u=l[s];this.set(u[0],u[1])}}vh.prototype.clear=OC,vh.prototype.delete=uS,vh.prototype.get=AC,vh.prototype.has=Yb,vh.prototype.set=D_;function IC(){this.__data__=[],this.size=0}function zu(l,s){for(var i=l.length;i--;)if(Kc(l[i][0],s))return i;return-1}var L_=Array.prototype,cS=L_.splice;function fS(l){var s=this.__data__,i=zu(s,l);if(i<0)return!1;var u=s.length-1;return i==u?s.pop():cS.call(s,i,1),--this.size,!0}function hS(l){var s=this.__data__,i=zu(s,l);return i<0?void 0:s[i][1]}function dS(l){return zu(this.__data__,l)>-1}function vS(l,s){var i=this.__data__,u=zu(i,l);return u<0?(++this.size,i.push([l,s])):i[u][1]=s,this}function vd(l){var s=-1,i=l==null?0:l.length;for(this.clear();++s<i;){var u=l[s];this.set(u[0],u[1])}}vd.prototype.clear=IC,vd.prototype.delete=fS,vd.prototype.get=hS,vd.prototype.has=dS,vd.prototype.set=vS;var ym=Yc(ml,"Map"),cv=ym;function Da(){this.size=0,this.__data__={hash:new vh,map:new(cv||vd),string:new vh}}function P_(l){var s=typeof l;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?l!=="__proto__":l===null}function yu(l,s){var i=l.__data__;return P_(s)?i[typeof s=="string"?"string":"hash"]:i.map}function RC(l){var s=yu(this,l).delete(l);return this.size-=s?1:0,s}function Cm(l){return yu(this,l).get(l)}function DC(l){return yu(this,l).has(l)}function pS(l,s){var i=yu(this,l),u=i.size;return i.set(l,s),this.size+=i.size==u?0:1,this}function tc(l){var s=-1,i=l==null?0:l.length;for(this.clear();++s<i;){var u=l[s];this.set(u[0],u[1])}}tc.prototype.clear=Da,tc.prototype.delete=RC,tc.prototype.get=Cm,tc.prototype.has=DC,tc.prototype.set=pS;var bm="Expected a function";function fv(l,s){if(typeof l!="function"||s!=null&&typeof s!="function")throw new TypeError(bm);var i=function(){var u=arguments,g=s?s.apply(this,u):u[0],C=i.cache;if(C.has(g))return C.get(g);var x=l.apply(this,u);return i.cache=C.set(g,x)||C,x};return i.cache=new(fv.Cache||tc),i}fv.Cache=tc;var gS=500;function bl(l){var s=fv(l,function(u){return i.size===gS&&i.clear(),u}),i=s.cache;return s}var LC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B_=/\\(\\)?/g,jo=bl(function(l){var s=[];return l.charCodeAt(0)===46&&s.push(""),l.replace(LC,function(i,u,g,C){s.push(g?C.replace(B_,"$1"):u||i)}),s}),jb=jo;function ao(l){return l==null?"":wc(l)}function ph(l,s){return Fi(l)?l:dd(l,s)?[l]:jb(ao(l))}var k_=1/0;function To(l){if(typeof l=="string"||qu(l))return l;var s=l+"";return s=="0"&&1/l==-k_?"-0":s}function mp(l,s){s=ph(s,l);for(var i=0,u=s.length;l!=null&&i<u;)l=l[To(s[i++])];return i&&i==u?l:void 0}function Mi(l,s,i){var u=l==null?void 0:mp(l,s);return u===void 0?i:u}function Vb(l,s){for(var i=-1,u=s.length,g=Array(u),C=l==null;++i<u;)g[i]=C?void 0:Mi(l,s[i]);return g}function fl(l,s){for(var i=-1,u=s.length,g=l.length;++i<u;)l[g+i]=s[i];return l}var wm=Bo?Bo.isConcatSpreadable:void 0;function PC(l){return Fi(l)||ch(l)||!!(wm&&l&&l[wm])}function No(l,s,i,u,g){var C=-1,x=l.length;for(i||(i=PC),g||(g=[]);++C<x;){var E=l[C];s>0&&i(E)?s>1?No(E,s-1,i,u,g):fl(g,E):u||(g[g.length]=E)}return g}function Bg(l){var s=l==null?0:l.length;return s?No(l,1):[]}function Yl(l){return ad(cm(l,void 0,Bg),l+"")}var yp=Yl(Vb),Xb=yp,F_=Hb(Object.getPrototypeOf,Object),Cu=F_,mS="[object Object]",BC=Function.prototype,yS=Object.prototype,xm=BC.toString,FM=yS.hasOwnProperty,pd=xm.call(Object);function kg(l){if(!Zo(l)||Ps(l)!=mS)return!1;var s=Cu(l);if(s===null)return!0;var i=FM.call(s,"constructor")&&s.constructor;return typeof i=="function"&&i instanceof i&&xm.call(i)==pd}var Sm="[object DOMException]",kC="[object Error]";function Cp(l){if(!Zo(l))return!1;var s=Ps(l);return s==kC||s==Sm||typeof l.message=="string"&&typeof l.name=="string"&&!kg(l)}var Fg=ba(function(l,s){try{return Qu(l,void 0,s)}catch(i){return Cp(i)?i:new Error(i)}}),Zb=Fg,_m="Expected a function";function Ng(l,s){var i;if(typeof s!="function")throw new TypeError(_m);return l=Nn(l),function(){return--l>0&&(i=s.apply(this,arguments)),l<=1&&(s=void 0),i}}var Em=1,Kb=32,FC=ba(function(l,s,i){var u=Em;if(i.length){var g=lh(i,oh(FC));u|=Kb}return Af(l,u,s,i,g)});FC.placeholder={};var qb=FC,NC=Yl(function(l,s){return Qs(s,function(i){i=To(i),ld(l,i,qb(l[i],l))}),l}),N_=NC,Qb=1,Jb=2,H_=32,hv=ba(function(l,s,i){var u=Qb|Jb;if(i.length){var g=lh(i,oh(hv));u|=H_}return Af(s,u,l,i,g)});hv.placeholder={};var gh=hv;function jl(l,s,i){var u=-1,g=l.length;s<0&&(s=-s>g?0:g+s),i=i>g?g:i,i<0&&(i+=g),g=s>i?0:i-s>>>0,s>>>=0;for(var C=Array(g);++u<g;)C[u]=l[u+s];return C}function bu(l,s,i){var u=l.length;return i=i===void 0?u:i,!s&&i>=u?l:jl(l,s,i)}var Mm="\\ud800-\\udfff",mh="\\u0300-\\u036f",gd="\\ufe20-\\ufe2f",NM="\\u20d0-\\u20ff",z_=mh+gd+NM,ew="\\ufe0e\\ufe0f",Hg="\\u200d",CS=RegExp("["+Hg+Mm+z_+ew+"]");function zg(l){return CS.test(l)}function W_(l){return l.split("")}var tw="\\ud800-\\udfff",bS="\\u0300-\\u036f",G_="\\ufe20-\\ufe2f",$_="\\u20d0-\\u20ff",wS=bS+G_+$_,U_="\\ufe0e\\ufe0f",Y_="["+tw+"]",dv="["+wS+"]",bp="\\ud83c[\\udffb-\\udfff]",rw="(?:"+dv+"|"+bp+")",HC="[^"+tw+"]",xS="(?:\\ud83c[\\udde6-\\uddff]){2}",nw="[\\ud800-\\udbff][\\udc00-\\udfff]",SS="\\u200d",_S=rw+"?",zC="["+U_+"]?",Tm="(?:"+SS+"(?:"+[HC,xS,nw].join("|")+")"+zC+_S+")*",WC=zC+_S+Tm,wp="(?:"+[HC+dv+"?",dv,xS,nw,Y_].join("|")+")",Om=RegExp(bp+"(?="+bp+")|"+wp+WC,"g");function ES(l){return l.match(Om)||[]}function Mc(l){return zg(l)?ES(l):W_(l)}function yh(l){return function(s){s=ao(s);var i=zg(s)?Mc(s):void 0,u=i?i[0]:s.charAt(0),g=i?bu(i,1).join(""):s.slice(1);return u[l]()+g}}var Am=yh("toUpperCase"),GC=Am;function MS(l){return GC(ao(l).toLowerCase())}function xp(l,s,i,u){var g=-1,C=l==null?0:l.length;for(u&&C&&(i=l[++g]);++g<C;)i=s(i,l[g],g,l);return i}function TS(l){return function(s){return l==null?void 0:l[s]}}var j_={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},V_=TS(j_),X_=V_,Z_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,OS="\\u0300-\\u036f",AS="\\ufe20-\\ufe2f",iw="\\u20d0-\\u20ff",K_=OS+AS+iw,q_="["+K_+"]",HM=RegExp(q_,"g");function aw(l){return l=ao(l),l&&l.replace(Z_,X_).replace(HM,"")}var zM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function IS(l){return l.match(zM)||[]}var vv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function $C(l){return vv.test(l)}var Im="\\ud800-\\udfff",ow="\\u0300-\\u036f",lw="\\ufe20-\\ufe2f",UC="\\u20d0-\\u20ff",RS=ow+lw+UC,WM="\\u2700-\\u27bf",GM="a-z\\xdf-\\xf6\\xf8-\\xff",$M="\\xac\\xb1\\xd7\\xf7",DS="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wu="\\u2000-\\u206f",UM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pv="A-Z\\xc0-\\xd6\\xd8-\\xde",sw="\\ufe0e\\ufe0f",uw=$M+DS+wu+UM,cw="['\u2019]",Wg="["+uw+"]",YC="["+RS+"]",Pf="\\d+",LS="["+WM+"]",fw="["+GM+"]",Rm="[^"+Im+uw+Pf+WM+GM+pv+"]",Gg="\\ud83c[\\udffb-\\udfff]",Q_="(?:"+YC+"|"+Gg+")",YM="[^"+Im+"]",J_="(?:\\ud83c[\\udde6-\\uddff]){2}",ef="[\\ud800-\\udbff][\\udc00-\\udfff]",Tc="["+pv+"]",Sp="\\u200d",hw="(?:"+fw+"|"+Rm+")",jC="(?:"+Tc+"|"+Rm+")",PS="(?:"+cw+"(?:d|ll|m|re|s|t|ve))?",$g="(?:"+cw+"(?:D|LL|M|RE|S|T|VE))?",VC=Q_+"?",Ug="["+sw+"]?",Dm="(?:"+Sp+"(?:"+[YM,J_,ef].join("|")+")"+Ug+VC+")*",eE="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tE="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",XC=Ug+VC+Dm,BS="(?:"+[LS,J_,ef].join("|")+")"+XC,rE=RegExp([Tc+"?"+fw+"+"+PS+"(?="+[Wg,Tc,"$"].join("|")+")",jC+"+"+$g+"(?="+[Wg,Tc+hw,"$"].join("|")+")",Tc+"?"+hw+"+"+PS,Tc+"+"+$g,tE,eE,Pf,BS].join("|"),"g");function kS(l){return l.match(rE)||[]}function dw(l,s,i){return l=ao(l),s=i?void 0:s,s===void 0?$C(l)?kS(l):IS(l):l.match(s)||[]}var Yg="['\u2019]",vw=RegExp(Yg,"g");function gv(l){return function(s){return xp(dw(aw(s).replace(vw,"")),l,"")}}var jM=gv(function(l,s,i){return s=s.toLowerCase(),l+(i?MS(s):s)}),nE=jM;function VM(){if(!arguments.length)return[];var l=arguments[0];return Fi(l)?l:[l]}var FS=ml.isFinite,XM=Math.min;function NS(l){var s=Math[l];return function(i,u){if(i=ca(i),u=u==null?0:XM(Nn(u),292),u&&FS(i)){var g=(ao(i)+"e").split("e"),C=s(g[0]+"e"+(+g[1]+u));return g=(ao(C)+"e").split("e"),+(g[0]+"e"+(+g[1]-u))}return s(i)}}var HS=NS("ceil"),jg=HS;function md(l){var s=Je(l);return s.__chain__=!0,s}var Ch=Math.ceil,ZM=Math.max;function iE(l,s,i){(i?Hs(l,s,i):s===void 0)?s=1:s=ZM(Nn(s),0);var u=l==null?0:l.length;if(!u||s<1)return[];for(var g=0,C=0,x=Array(Ch(u/s));g<u;)x[C++]=jl(l,g,g+=s);return x}function Vg(l,s,i){return l===l&&(i!==void 0&&(l=l<=i?l:i),s!==void 0&&(l=l>=s?l:s)),l}function bh(l,s,i){return i===void 0&&(i=s,s=void 0),i!==void 0&&(i=ca(i),i=i===i?i:0),s!==void 0&&(s=ca(s),s=s===s?s:0),Vg(ca(l),s,i)}function Lm(){this.__data__=new vd,this.size=0}function zS(l){var s=this.__data__,i=s.delete(l);return this.size=s.size,i}function rc(l){return this.__data__.get(l)}function pw(l){return this.__data__.has(l)}var WS=200;function aE(l,s){var i=this.__data__;if(i instanceof vd){var u=i.__data__;if(!cv||u.length<WS-1)return u.push([l,s]),this.size=++i.size,this;i=this.__data__=new tc(u)}return i.set(l,s),this.size=i.size,this}function nc(l){var s=this.__data__=new vd(l);this.size=s.size}nc.prototype.clear=Lm,nc.prototype.delete=zS,nc.prototype.get=rc,nc.prototype.has=pw,nc.prototype.set=aE;function Pm(l,s){return l&&If(s,Aa(s),l)}function GS(l,s){return l&&If(s,pu(s),l)}var ZC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$S=ZC&&!0&&ai&&!ai.nodeType&&ai,oE=$S&&$S.exports===ZC,yd=oE?ml.Buffer:void 0,Bm=yd?yd.allocUnsafe:void 0;function lE(l,s){if(s)return l.slice();var i=l.length,u=Bm?Bm(i):new l.constructor(i);return l.copy(u),u}function Cd(l,s){for(var i=-1,u=l==null?0:l.length,g=0,C=[];++i<u;){var x=l[i];s(x,i,l)&&(C[g++]=x)}return C}function gw(){return[]}var KC=Object.prototype,sE=KC.propertyIsEnumerable,km=Object.getOwnPropertySymbols,mw=km?function(l){return l==null?[]:(l=Object(l),Cd(km(l),function(s){return sE.call(l,s)}))}:gw,Fm=mw;function Nm(l,s){return If(l,Fm(l),s)}var Hm=Object.getOwnPropertySymbols,US=Hm?function(l){for(var s=[];l;)fl(s,Fm(l)),l=Cu(l);return s}:gw,YS=US;function jS(l,s){return If(l,YS(l),s)}function yw(l,s,i){var u=s(l);return Fi(l)?u:fl(u,i(l))}function Wu(l){return yw(l,Aa,Fm)}function zm(l){return yw(l,pu,YS)}var uE=Yc(ml,"DataView"),qC=uE,cE=Yc(ml,"Promise"),Wm=cE,fE=Yc(ml,"Set"),rl=fE,Cw="[object Map]",Xg="[object Object]",Gm="[object Promise]",bw="[object Set]",$m="[object WeakMap]",ww="[object DataView]",Bf=$l(qC),VS=$l(cv),mv=$l(Wm),xw=$l(rl),_p=$l(V0),Gu=Ps;(qC&&Gu(new qC(new ArrayBuffer(1)))!=ww||cv&&Gu(new cv)!=Cw||Wm&&Gu(Wm.resolve())!=Gm||rl&&Gu(new rl)!=bw||V0&&Gu(new V0)!=$m)&&(Gu=function(l){var s=Ps(l),i=s==Xg?l.constructor:void 0,u=i?$l(i):"";if(u)switch(u){case Bf:return ww;case VS:return Cw;case mv:return Gm;case xw:return bw;case _p:return $m}return s});var wh=Gu,Sw=Object.prototype,_w=Sw.hasOwnProperty;function QC(l){var s=l.length,i=new l.constructor(s);return s&&typeof l[0]=="string"&&_w.call(l,"index")&&(i.index=l.index,i.input=l.input),i}var Ew=ml.Uint8Array,JC=Ew;function Mw(l){var s=new l.constructor(l.byteLength);return new JC(s).set(new JC(l)),s}function XS(l,s){var i=s?Mw(l.buffer):l.buffer;return new l.constructor(i,l.byteOffset,l.byteLength)}var Tw=/\w*$/;function Ep(l){var s=new l.constructor(l.source,Tw.exec(l));return s.lastIndex=l.lastIndex,s}var Ow=Bo?Bo.prototype:void 0,Um=Ow?Ow.valueOf:void 0;function Aw(l){return Um?Object(Um.call(l)):{}}function Ym(l,s){var i=s?Mw(l.buffer):l.buffer;return new l.constructor(i,l.byteOffset,l.length)}var hE="[object Boolean]",dE="[object Date]",ZS="[object Map]",KS="[object Number]",vE="[object RegExp]",pE="[object Set]",qS="[object String]",gE="[object Symbol]",QS="[object ArrayBuffer]",e1="[object DataView]",Iw="[object Float32Array]",JS="[object Float64Array]",mE="[object Int8Array]",e2="[object Int16Array]",yE="[object Int32Array]",yv="[object Uint8Array]",CE="[object Uint8ClampedArray]",Rw="[object Uint16Array]",bE="[object Uint32Array]";function jm(l,s,i){var u=l.constructor;switch(s){case QS:return Mw(l);case hE:case dE:return new u(+l);case e1:return XS(l,i);case Iw:case JS:case mE:case e2:case yE:case yv:case CE:case Rw:case bE:return Ym(l,i);case ZS:return new u;case KS:case qS:return new u(l);case vE:return Ep(l);case pE:return new u;case gE:return Aw(l)}}function Dw(l){return typeof l.constructor=="function"&&!ud(l)?lp(Cu(l)):{}}var wE="[object Map]";function t1(l){return Zo(l)&&wh(l)==wE}var Lw=ec&&ec.isMap,t2=Lw?ho(Lw):t1,Cv=t2,xE="[object Set]";function r1(l){return Zo(l)&&wh(l)==xE}var n1=ec&&ec.isSet,SE=n1?ho(n1):r1,r2=SE,_E=1,Zg=2,n2=4,Pw="[object Arguments]",Bw="[object Array]",Vm="[object Boolean]",i1="[object Date]",kw="[object Error]",a1="[object Function]",i2="[object GeneratorFunction]",bd="[object Map]",Fw="[object Number]",Nw="[object Object]",EE="[object RegExp]",Hw="[object Set]",Xm="[object String]",zw="[object Symbol]",a2="[object WeakMap]",ME="[object ArrayBuffer]",TE="[object DataView]",OE="[object Float32Array]",AE="[object Float64Array]",IE="[object Int8Array]",RE="[object Int16Array]",DE="[object Int32Array]",LE="[object Uint8Array]",o1="[object Uint8ClampedArray]",Zm="[object Uint16Array]",o2="[object Uint32Array]",wo={};wo[Pw]=wo[Bw]=wo[ME]=wo[TE]=wo[Vm]=wo[i1]=wo[OE]=wo[AE]=wo[IE]=wo[RE]=wo[DE]=wo[bd]=wo[Fw]=wo[Nw]=wo[EE]=wo[Hw]=wo[Xm]=wo[zw]=wo[LE]=wo[o1]=wo[Zm]=wo[o2]=!0,wo[kw]=wo[a1]=wo[a2]=!1;function xu(l,s,i,u,g,C){var x,E=s&_E,O=s&Zg,R=s&n2;if(i&&(x=g?i(l,u,g,C):i(l)),x!==void 0)return x;if(!na(l))return l;var k=Fi(l);if(k){if(x=QC(l),!E)return tl(l,x)}else{var z=wh(l),j=z==a1||z==i2;if(ja(l))return lE(l,E);if(z==Nw||z==Pw||j&&!g){if(x=O||j?{}:Dw(l),!E)return O?jS(l,GS(x,l)):Nm(l,Pm(x,l))}else{if(!wo[z])return g?l:{};x=jm(l,z,E)}}C||(C=new nc);var q=C.get(l);if(q)return q;C.set(l,x),r2(l)?l.forEach(function(me){x.add(xu(me,s,i,me,l,C))}):Cv(l)&&l.forEach(function(me,Oe){x.set(Oe,xu(me,s,i,Oe,l,C))});var ee=R?O?zm:Wu:O?pu:Aa,le=k?void 0:ee(l);return Qs(le||l,function(me,Oe){le&&(Oe=me,me=l[Oe]),dp(x,Oe,xu(me,s,i,Oe,l,C))}),x}var l1=4;function wd(l){return xu(l,l1)}var Kg=1,bv=4;function s1(l){return xu(l,Kg|bv)}var l2=1,PE=4;function xd(l,s){return s=typeof s=="function"?s:void 0,xu(l,l2|PE,s)}var u1=4;function s2(l,s){return s=typeof s=="function"?s:void 0,xu(l,u1,s)}function c1(){return new Ns(this.value(),this.__chain__)}function xh(l){for(var s=-1,i=l==null?0:l.length,u=0,g=[];++s<i;){var C=l[s];C&&(g[u++]=C)}return g}function Sh(){var l=arguments.length;if(!l)return[];for(var s=Array(l-1),i=arguments[0],u=l;u--;)s[u-1]=arguments[u];return fl(Fi(i)?tl(i):[i],No(s,1))}var KM="__lodash_hash_undefined__";function u2(l){return this.__data__.set(l,KM),this}function f1(l){return this.__data__.has(l)}function Sd(l){var s=-1,i=l==null?0:l.length;for(this.__data__=new tc;++s<i;)this.add(l[s])}Sd.prototype.add=Sd.prototype.push=u2,Sd.prototype.has=f1;function Mp(l,s){for(var i=-1,u=l==null?0:l.length;++i<u;)if(s(l[i],i,l))return!0;return!1}function wl(l,s){return l.has(s)}var BE=1,h1=2;function Ww(l,s,i,u,g,C){var x=i&BE,E=l.length,O=s.length;if(E!=O&&!(x&&O>E))return!1;var R=C.get(l),k=C.get(s);if(R&&k)return R==s&&k==l;var z=-1,j=!0,q=i&h1?new Sd:void 0;for(C.set(l,s),C.set(s,l);++z<E;){var ee=l[z],le=s[z];if(u)var me=x?u(le,ee,z,s,l,C):u(ee,le,z,l,s,C);if(me!==void 0){if(me)continue;j=!1;break}if(q){if(!Mp(s,function(Oe,$e){if(!wl(q,$e)&&(ee===Oe||g(ee,Oe,i,u,C)))return q.push($e)})){j=!1;break}}else if(!(ee===le||g(ee,le,i,u,C))){j=!1;break}}return C.delete(l),C.delete(s),j}function Gw(l){var s=-1,i=Array(l.size);return l.forEach(function(u,g){i[++s]=[g,u]}),i}function d1(l){var s=-1,i=Array(l.size);return l.forEach(function(u){i[++s]=u}),i}var c2=1,$w=2,Uw="[object Boolean]",qM="[object Date]",kE="[object Error]",QM="[object Map]",Km="[object Number]",Tp="[object RegExp]",FE="[object Set]",qg="[object String]",Yw="[object Symbol]",JM="[object ArrayBuffer]",NE="[object DataView]",qm=Bo?Bo.prototype:void 0,jw=qm?qm.valueOf:void 0;function Vw(l,s,i,u,g,C,x){switch(i){case NE:if(l.byteLength!=s.byteLength||l.byteOffset!=s.byteOffset)return!1;l=l.buffer,s=s.buffer;case JM:return!(l.byteLength!=s.byteLength||!C(new JC(l),new JC(s)));case Uw:case qM:case Km:return Kc(+l,+s);case kE:return l.name==s.name&&l.message==s.message;case Tp:case qg:return l==s+"";case QM:var E=Gw;case FE:var O=u&c2;if(E||(E=d1),l.size!=s.size&&!O)return!1;var R=x.get(l);if(R)return R==s;u|=$w,x.set(l,s);var k=Ww(E(l),E(s),u,g,C,x);return x.delete(l),k;case Yw:if(jw)return jw.call(l)==jw.call(s)}return!1}var Qm=1,f2=Object.prototype,eT=f2.hasOwnProperty;function Op(l,s,i,u,g,C){var x=i&Qm,E=Wu(l),O=E.length,R=Wu(s),k=R.length;if(O!=k&&!x)return!1;for(var z=O;z--;){var j=E[z];if(!(x?j in s:eT.call(s,j)))return!1}var q=C.get(l),ee=C.get(s);if(q&&ee)return q==s&&ee==l;var le=!0;C.set(l,s),C.set(s,l);for(var me=x;++z<O;){j=E[z];var Oe=l[j],$e=s[j];if(u)var Ye=x?u($e,Oe,j,s,l,C):u(Oe,$e,j,l,s,C);if(!(Ye===void 0?Oe===$e||g(Oe,$e,i,u,C):Ye)){le=!1;break}me||(me=j=="constructor")}if(le&&!me){var Ze=l.constructor,Ut=s.constructor;Ze!=Ut&&"constructor"in l&&"constructor"in s&&!(typeof Ze=="function"&&Ze instanceof Ze&&typeof Ut=="function"&&Ut instanceof Ut)&&(le=!1)}return C.delete(l),C.delete(s),le}var v1=1,Qg="[object Arguments]",Jm="[object Array]",Jg="[object Object]",tT=Object.prototype,h2=tT.hasOwnProperty;function p1(l,s,i,u,g,C){var x=Fi(l),E=Fi(s),O=x?Jm:wh(l),R=E?Jm:wh(s);O=O==Qg?Jg:O,R=R==Qg?Jg:R;var k=O==Jg,z=R==Jg,j=O==R;if(j&&ja(l)){if(!ja(s))return!1;x=!0,k=!1}if(j&&!k)return C||(C=new nc),x||dh(l)?Ww(l,s,i,u,g,C):Vw(l,s,O,i,u,g,C);if(!(i&v1)){var q=k&&h2.call(l,"__wrapped__"),ee=z&&h2.call(s,"__wrapped__");if(q||ee){var le=q?l.value():l,me=ee?s.value():s;return C||(C=new nc),g(le,me,i,u,C)}}return j?(C||(C=new nc),Op(l,s,i,u,g,C)):!1}function ey(l,s,i,u,g){return l===s?!0:l==null||s==null||!Zo(l)&&!Zo(s)?l!==l&&s!==s:p1(l,s,i,u,ey,g)}var HE=1,ty=2;function Ap(l,s,i,u){var g=i.length,C=g,x=!u;if(l==null)return!C;for(l=Object(l);g--;){var E=i[g];if(x&&E[2]?E[1]!==l[E[0]]:!(E[0]in l))return!1}for(;++g<C;){E=i[g];var O=E[0],R=l[O],k=E[1];if(x&&E[2]){if(R===void 0&&!(O in l))return!1}else{var z=new nc;if(u)var j=u(R,k,O,l,s,z);if(!(j===void 0?ey(k,R,HE|ty,u,z):j))return!1}}return!0}function g1(l){return l===l&&!na(l)}function m1(l){for(var s=Aa(l),i=s.length;i--;){var u=s[i],g=l[u];s[i]=[u,g,g1(g)]}return s}function wv(l,s){return function(i){return i==null?!1:i[l]===s&&(s!==void 0||l in Object(i))}}function _h(l){var s=m1(l);return s.length==1&&s[0][2]?wv(s[0][0],s[0][1]):function(i){return i===l||Ap(i,l,s)}}function e0(l,s){return l!=null&&s in Object(l)}function y1(l,s,i){s=ph(s,l);for(var u=-1,g=s.length,C=!1;++u<g;){var x=To(s[u]);if(!(C=l!=null&&i(l,x)))break;l=l[x]}return C||++u!=g?C:(g=l==null?0:l.length,!!g&&sd(g)&&ko(x,g)&&(Fi(l)||ch(l)))}function Ip(l,s){return l!=null&&y1(l,s,e0)}var zE=1,ry=2;function Xw(l,s){return dd(l)&&g1(s)?wv(To(l),s):function(i){var u=Mi(i,l);return u===void 0&&u===s?Ip(i,l):ey(s,u,zE|ry)}}function tf(l){return function(s){return s==null?void 0:s[l]}}function WE(l){return function(s){return mp(s,l)}}function d2(l){return dd(l)?tf(To(l)):WE(l)}function da(l){return typeof l=="function"?l:l==null?Fs:typeof l=="object"?Fi(l)?Xw(l[0],l[1]):_h(l):d2(l)}var v2="Expected a function";function Zw(l){var s=l==null?0:l.length,i=da;return l=s?bo(l,function(u){if(typeof u[1]!="function")throw new TypeError(v2);return[i(u[0]),u[1]]}):[],ba(function(u){for(var g=-1;++g<s;){var C=l[g];if(Qu(C[0],this,u))return Qu(C[1],this,u)}})}function Kw(l,s,i){var u=i.length;if(l==null)return!u;for(l=Object(l);u--;){var g=i[u],C=s[g],x=l[g];if(x===void 0&&!(g in l)||!C(x))return!1}return!0}function GE(l){var s=Aa(l);return function(i){return Kw(i,l,s)}}var $E=1;function S(l){return GE(xu(l,$E))}function T(l,s){return s==null||Kw(l,s,Aa(s))}function L(l,s,i,u){for(var g=-1,C=l==null?0:l.length;++g<C;){var x=l[g];s(u,x,i(x),l)}return u}function G(l){return function(s,i,u){for(var g=-1,C=Object(s),x=u(s),E=x.length;E--;){var O=x[l?E:++g];if(i(C[O],O,C)===!1)break}return s}}var Z=G(),K=Z;function ne(l,s){return l&&K(l,s,Aa)}function ae(l,s){return function(i,u){if(i==null)return i;if(!Fu(i))return l(i,u);for(var g=i.length,C=s?g:-1,x=Object(i);(s?C--:++C<g)&&u(x[C],C,x)!==!1;);return i}}var we=ae(ne),De=we;function We(l,s,i,u){return De(l,function(g,C,x){s(u,g,i(g),x)}),u}function ke(l,s){return function(i,u){var g=Fi(i)?L:We,C=s?s():{};return g(i,l,da(u),C)}}var He=Object.prototype,ot=He.hasOwnProperty,zt=ke(function(l,s,i){ot.call(l,i)?++l[i]:ld(l,i,1)}),Cr=zt;function mr(l,s){var i=lp(l);return s==null?i:Pm(i,s)}var Er=8;function Ir(l,s,i){s=i?void 0:s;var u=Af(l,Er,void 0,void 0,void 0,void 0,void 0,s);return u.placeholder=Ir.placeholder,u}Ir.placeholder={};var pn=16;function Ur(l,s,i){s=i?void 0:s;var u=Af(l,pn,void 0,void 0,void 0,void 0,void 0,s);return u.placeholder=Ur.placeholder,u}Ur.placeholder={};var $n=function(){return ml.Date.now()},Cn=$n,Un="Expected a function",ii=Math.max,mi=Math.min;function Ia(l,s,i){var u,g,C,x,E,O,R=0,k=!1,z=!1,j=!0;if(typeof l!="function")throw new TypeError(Un);s=ca(s)||0,na(i)&&(k=!!i.leading,z="maxWait"in i,C=z?ii(ca(i.maxWait)||0,s):C,j="trailing"in i?!!i.trailing:j);function q(gr){var br=u,Zr=g;return u=g=void 0,R=gr,x=l.apply(Zr,br),x}function ee(gr){return R=gr,E=setTimeout(Oe,s),k?q(gr):x}function le(gr){var br=gr-O,Zr=gr-R,gn=s-br;return z?mi(gn,C-Zr):gn}function me(gr){var br=gr-O,Zr=gr-R;return O===void 0||br>=s||br<0||z&&Zr>=C}function Oe(){var gr=Cn();if(me(gr))return $e(gr);E=setTimeout(Oe,le(gr))}function $e(gr){return E=void 0,j&&u?q(gr):(u=g=void 0,x)}function Ye(){E!==void 0&&clearTimeout(E),R=0,u=O=g=E=void 0}function Ze(){return E===void 0?x:$e(Cn())}function Ut(){var gr=Cn(),br=me(gr);if(u=arguments,g=this,O=gr,br){if(E===void 0)return ee(O);if(z)return clearTimeout(E),E=setTimeout(Oe,s),q(O)}return E===void 0&&(E=setTimeout(Oe,s)),x}return Ut.cancel=Ye,Ut.flush=Ze,Ut}function ka(l,s){return l==null||l!==l?s:l}var Vl=Object.prototype,hl=Vl.hasOwnProperty,qo=ba(function(l,s){l=Object(l);var i=-1,u=s.length,g=u>2?s[2]:void 0;for(g&&Hs(s[0],s[1],g)&&(u=1);++i<u;)for(var C=s[i],x=pu(C),E=-1,O=x.length;++E<O;){var R=x[E],k=l[R];(k===void 0||Kc(k,Vl[R])&&!hl.call(l,R))&&(l[R]=C[R])}return l}),es=qo;function bs(l,s,i){(i!==void 0&&!Kc(l[s],i)||i===void 0&&!(s in l))&&ld(l,s,i)}function oo(l){return Zo(l)&&Fu(l)}function Oc(l,s){if(!(s==="constructor"&&typeof l[s]=="function")&&s!="__proto__")return l[s]}function Eh(l){return If(l,pu(l))}function Su(l,s,i,u,g,C,x){var E=Oc(l,i),O=Oc(s,i),R=x.get(O);if(R){bs(l,i,R);return}var k=C?C(E,O,i+"",l,s,x):void 0,z=k===void 0;if(z){var j=Fi(O),q=!j&&ja(O),ee=!j&&!q&&dh(O);k=O,j||q||ee?Fi(E)?k=E:oo(E)?k=tl(E):q?(z=!1,k=lE(O,!0)):ee?(z=!1,k=Ym(O,!0)):k=[]:kg(O)||ch(O)?(k=E,ch(E)?k=Eh(E):(!na(E)||kl(E))&&(k=Dw(O))):z=!1}z&&(x.set(O,k),g(k,O,u,C,x),x.delete(O)),bs(l,i,k)}function Ac(l,s,i,u,g){l!==s&&K(s,function(C,x){if(g||(g=new nc),na(C))Su(l,s,x,i,Ac,u,g);else{var E=u?u(Oc(l,x),C,x+"",l,s,g):void 0;E===void 0&&(E=C),bs(l,x,E)}},pu)}function eu(l,s,i,u,g,C){return na(l)&&na(s)&&(C.set(s,l),Ac(l,s,void 0,eu,C),C.delete(s)),l}var Rp=Sc(function(l,s,i,u){Ac(l,s,i,u)}),_d=Rp,rf=ba(function(l){return l.push(void 0,eu),Qu(_d,void 0,l)}),Dp=rf,t0="Expected a function";function va(l,s,i){if(typeof l!="function")throw new TypeError(t0);return setTimeout(function(){l.apply(void 0,i)},s)}var za=ba(function(l,s){return va(l,1,s)}),xo=za,xl=ba(function(l,s,i){return va(l,ca(s)||0,i)}),Ic=xl;function tu(l,s,i){for(var u=-1,g=l==null?0:l.length;++u<g;)if(i(s,l[u]))return!0;return!1}var $u=200;function nf(l,s,i,u){var g=-1,C=xc,x=!0,E=l.length,O=[],R=s.length;if(!E)return O;i&&(s=bo(s,ho(i))),u?(C=tu,x=!1):s.length>=$u&&(C=wl,x=!1,s=new Sd(s));e:for(;++g<E;){var k=l[g],z=i==null?k:i(k);if(k=u||k!==0?k:0,x&&z===z){for(var j=R;j--;)if(s[j]===z)continue e;O.push(k)}else C(s,z,u)||O.push(k)}return O}var af=ba(function(l,s){return oo(l)?nf(l,No(s,1,oo,!0)):[]}),ny=af;function lo(l){var s=l==null?0:l.length;return s?l[s-1]:void 0}var iy=ba(function(l,s){var i=lo(s);return oo(i)&&(i=void 0),oo(l)?nf(l,No(s,1,oo,!0),da(i)):[]}),qw=iy,VT=ba(function(l,s){var i=lo(s);return oo(i)&&(i=void 0),oo(l)?nf(l,No(s,1,oo,!0),void 0,i):[]}),UE=VT,rT=oC(function(l,s){return l/s},1),XT=rT;function ZT(l,s,i){var u=l==null?0:l.length;return u?(s=i||s===void 0?1:Nn(s),jl(l,s<0?0:s,u)):[]}function KT(l,s,i){var u=l==null?0:l.length;return u?(s=i||s===void 0?1:Nn(s),s=u-s,jl(l,0,s<0?0:s)):[]}function kf(l,s,i,u){for(var g=l.length,C=u?g:-1;(u?C--:++C<g)&&s(l[C],C,l););return i?jl(l,u?0:C,u?C+1:g):jl(l,u?C+1:0,u?g:C)}function YE(l,s){return l&&l.length?kf(l,da(s),!0,!0):[]}function Qw(l,s){return l&&l.length?kf(l,da(s),!0):[]}function Sl(l){return typeof l=="function"?l:Fs}function Xi(l,s){var i=Fi(l)?Qs:De;return i(l,Sl(s))}function p2(l,s){for(var i=l==null?0:l.length;i--&&s(l[i],i,l)!==!1;);return l}var qT=G(!0),Jw=qT;function g2(l,s){return l&&Jw(l,s,Aa)}var QT=ae(g2,!0),nT=QT;function ay(l,s){var i=Fi(l)?p2:nT;return i(l,Sl(s))}function ex(l,s,i){l=ao(l),s=wc(s);var u=l.length;i=i===void 0?u:Vg(Nn(i),0,u);var g=i;return i-=s.length,i>=0&&l.slice(i,g)==s}function of(l,s){return bo(s,function(i){return[i,l[i]]})}function JT(l){var s=-1,i=Array(l.size);return l.forEach(function(u){i[++s]=[u,u]}),i}var eO="[object Map]",iT="[object Set]";function aT(l){return function(s){var i=wh(s);return i==eO?Gw(s):i==iT?JT(s):of(s,l(s))}}var tO=aT(Aa),oT=tO,rO=aT(pu),jE=rO,ya={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oy=TS(ya),nO=oy,VE=/[&<>"']/g,iO=RegExp(VE.source);function XE(l){return l=ao(l),l&&iO.test(l)?l.replace(VE,nO):l}var ZE=/[\\^$.*+?()[\]{}|]/g,EA=RegExp(ZE.source);function lT(l){return l=ao(l),l&&EA.test(l)?l.replace(ZE,"\\$&"):l}function m2(l,s){for(var i=-1,u=l==null?0:l.length;++i<u;)if(!s(l[i],i,l))return!1;return!0}function KE(l,s){var i=!0;return De(l,function(u,g,C){return i=!!s(u,g,C),i}),i}function y2(l,s,i){var u=Fi(l)?m2:KE;return i&&Hs(l,s,i)&&(s=void 0),u(l,da(s))}var C1=4294967295;function qE(l){return l?Vg(Nn(l),0,C1):0}function MA(l,s,i,u){var g=l.length;for(i=Nn(i),i<0&&(i=-i>g?0:g+i),u=u===void 0||u>g?g:Nn(u),u<0&&(u+=g),u=i>u?0:qE(u);i<u;)l[i++]=s;return l}function Lp(l,s,i,u){var g=l==null?0:l.length;return g?(i&&typeof i!="number"&&Hs(l,s,i)&&(i=0,u=g),MA(l,s,i,u)):[]}function sT(l,s){var i=[];return De(l,function(u,g,C){s(u,g,C)&&i.push(u)}),i}function h(l,s){var i=Fi(l)?Cd:sT;return i(l,da(s))}function f(l){return function(s,i,u){var g=Object(s);if(!Fu(s)){var C=da(i);s=Aa(s),i=function(E){return C(g[E],E,g)}}var x=l(s,i,u);return x>-1?g[C?s[x]:x]:void 0}}var t=Math.max;function c(l,s,i){var u=l==null?0:l.length;if(!u)return-1;var g=i==null?0:Nn(i);return g<0&&(g=t(u+g,0)),bb(l,da(s),g)}var v=f(c),y=v;function b(l,s,i){var u;return i(l,function(g,C,x){if(s(g,C,x))return u=C,!1}),u}function M(l,s){return b(l,da(s),ne)}var A=Math.max,B=Math.min;function H(l,s,i){var u=l==null?0:l.length;if(!u)return-1;var g=u-1;return i!==void 0&&(g=Nn(i),g=i<0?A(u+g,0):B(g,u-1)),bb(l,da(s),g,!0)}var W=f(H),Y=W;function Q(l,s){return b(l,da(s),g2)}function te(l){return l&&l.length?l[0]:void 0}function he(l,s){var i=-1,u=Fu(l)?Array(l.length):[];return De(l,function(g,C,x){u[++i]=s(g,C,x)}),u}function Me(l,s){var i=Fi(l)?bo:he;return i(l,da(s))}function Fe(l,s){return No(Me(l,s),1)}var Qe=1/0;function nt(l,s){return No(Me(l,s),Qe)}function pt(l,s,i){return i=i===void 0?1:Nn(i),No(Me(l,s),i)}var Qt=1/0;function Sr(l){var s=l==null?0:l.length;return s?No(l,Qt):[]}function Mr(l,s){var i=l==null?0:l.length;return i?(s=s===void 0?1:Nn(s),No(l,s)):[]}var Or=512;function Xr(l){return Af(l,Or)}var tn=NS("floor"),ti=tn,ri="Expected a function",Yi=8,xa=32,vo=128,_u=256;function ws(l){return Yl(function(s){var i=s.length,u=i,g=Ns.prototype.thru;for(l&&s.reverse();u--;){var C=s[u];if(typeof C!="function")throw new TypeError(ri);if(g&&!x&&rd(C)=="wrapper")var x=new Ns([],!0)}for(u=x?u:i;++u<i;){C=s[u];var E=rd(C),O=E=="wrapper"?_g(C):void 0;O&&sp(O[0])&&O[1]==(vo|Yi|xa|_u)&&!O[4].length&&O[9]==1?x=x[rd(O[0])].apply(x,O[3]):x=C.length==1&&sp(C)?x[E]():x.thru(C)}return function(){var R=arguments,k=R[0];if(x&&R.length==1&&Fi(k))return x.plant(k).value();for(var z=0,j=i?s[z].apply(this,R):k;++z<i;)j=s[z].call(this,j);return j}})}var Uu=ws(),Oo=Uu,Rc=ws(!0),b1=Rc;function w1(l,s){return l==null?l:K(l,Sl(s),pu)}function C2(l,s){return l==null?l:Jw(l,Sl(s),pu)}function TA(l,s){return l&&ne(l,Sl(s))}function OA(l,s){return l&&g2(l,Sl(s))}function Pp(l){for(var s=-1,i=l==null?0:l.length,u={};++s<i;){var g=l[s];u[g[0]]=g[1]}return u}function b2(l,s){return Cd(s,function(i){return kl(l[i])})}function aO(l){return l==null?[]:b2(l,Aa(l))}function oO(l){return l==null?[]:b2(l,pu(l))}var lO=Object.prototype,x1=lO.hasOwnProperty,AA=ke(function(l,s,i){x1.call(l,i)?l[i].push(s):ld(l,i,[s])}),sO=AA;function S1(l,s){return l>s}function w2(l){return function(s,i){return typeof s=="string"&&typeof i=="string"||(s=ca(s),i=ca(i)),l(s,i)}}var uO=w2(S1),uT=uO,x2=w2(function(l,s){return l>=s}),cT=x2,cO=Object.prototype,fT=cO.hasOwnProperty;function Ff(l,s){return l!=null&&fT.call(l,s)}function ly(l,s){return l!=null&&y1(l,s,Ff)}var hT=Math.max,b6=Math.min;function IA(l,s,i){return l>=b6(s,i)&&l<hT(s,i)}function Bp(l,s,i){return s=Uc(s),i===void 0?(i=s,s=0):i=Uc(i),l=ca(l),IA(l,s,i)}var RA="[object String]";function lf(l){return typeof l=="string"||!Fi(l)&&Zo(l)&&Ps(l)==RA}function _1(l,s){return bo(s,function(i){return l[i]})}function sy(l){return l==null?[]:_1(l,Aa(l))}var vD=Math.max;function Mh(l,s,i,u){l=Fu(l)?l:sy(l),i=i&&!u?Nn(i):0;var g=l.length;return i<0&&(i=vD(g+i,0)),lf(l)?i<=g&&l.indexOf(s,i)>-1:!!g&&iv(l,s,i)>-1}var pD=Math.max;function w6(l,s,i){var u=l==null?0:l.length;if(!u)return-1;var g=i==null?0:Nn(i);return g<0&&(g=pD(u+g,0)),iv(l,s,g)}function gD(l){var s=l==null?0:l.length;return s?jl(l,0,-1):[]}var mD=Math.min;function DA(l,s,i){for(var u=i?tu:xc,g=l[0].length,C=l.length,x=C,E=Array(C),O=1/0,R=[];x--;){var k=l[x];x&&s&&(k=bo(k,ho(s))),O=mD(k.length,O),E[x]=!i&&(s||g>=120&&k.length>=120)?new Sd(x&&k):void 0}k=l[0];var z=-1,j=E[0];e:for(;++z<g&&R.length<O;){var q=k[z],ee=s?s(q):q;if(q=i||q!==0?q:0,!(j?wl(j,ee):u(R,ee,i))){for(x=C;--x;){var le=E[x];if(!(le?wl(le,ee):u(l[x],ee,i)))continue e}j&&j.push(ee),R.push(q)}}return R}function fO(l){return oo(l)?l:[]}var x6=ba(function(l){var s=bo(l,fO);return s.length&&s[0]===l[0]?DA(s):[]}),LA=x6,yD=ba(function(l){var s=lo(l),i=bo(l,fO);return s===lo(i)?s=void 0:i.pop(),i.length&&i[0]===l[0]?DA(i,da(s)):[]}),CD=yD,bD=ba(function(l){var s=lo(l),i=bo(l,fO);return s=typeof s=="function"?s:void 0,s&&i.pop(),i.length&&i[0]===l[0]?DA(i,void 0,s):[]}),wD=bD;function xD(l,s,i,u){return ne(l,function(g,C,x){s(u,i(g),C,x)}),u}function S6(l,s){return function(i,u){return xD(i,l,s(u),{})}}var SD=Object.prototype,_6=SD.toString,E6=S6(function(l,s,i){s!=null&&typeof s.toString!="function"&&(s=_6.call(s)),l[s]=i},nd(Fs)),M6=E6,hO=Object.prototype,T6=hO.hasOwnProperty,O6=hO.toString,_D=S6(function(l,s,i){s!=null&&typeof s.toString!="function"&&(s=O6.call(s)),T6.call(l,s)?l[s].push(i):l[s]=[i]},da),ED=_D;function S2(l,s){return s.length<2?l:mp(l,jl(s,0,-1))}function uy(l,s,i){s=ph(s,l),l=S2(l,s);var u=l==null?l:l[To(lo(s))];return u==null?void 0:Qu(u,l,i)}var Xa=ba(uy),A6=Xa,I6=ba(function(l,s,i){var u=-1,g=typeof s=="function",C=Fu(l)?Array(l.length):[];return De(l,function(x){C[++u]=g?Qu(s,x,i):uy(x,s,i)}),C}),Za=I6,MD="[object ArrayBuffer]";function R6(l){return Zo(l)&&Ps(l)==MD}var PA=ec&&ec.isArrayBuffer,D6=PA?ho(PA):R6,L6=D6,P6="[object Boolean]";function xv(l){return l===!0||l===!1||Zo(l)&&Ps(l)==P6}var TD="[object Date]";function OD(l){return Zo(l)&&Ps(l)==TD}var QE=ec&&ec.isDate,cy=QE?ho(QE):OD,BA=cy;function dT(l){return Zo(l)&&l.nodeType===1&&!kg(l)}var kA="[object Map]",AD="[object Set]",ID=Object.prototype,RD=ID.hasOwnProperty;function zn(l){if(l==null)return!0;if(Fu(l)&&(Fi(l)||typeof l=="string"||typeof l.splice=="function"||ja(l)||dh(l)||ch(l)))return!l.length;var s=wh(l);if(s==kA||s==AD)return!l.size;if(ud(l))return!pp(l).length;for(var i in l)if(RD.call(l,i))return!1;return!0}function sf(l,s){return ey(l,s)}function DD(l,s,i){i=typeof i=="function"?i:void 0;var u=i?i(l,s):void 0;return u===void 0?ey(l,s,void 0,i):!!u}var LD=ml.isFinite;function PD(l){return typeof l=="number"&&LD(l)}function B6(l){return typeof l=="number"&&l==Nn(l)}function BD(l,s){return l===s||Ap(l,s,m1(s))}function kD(l,s,i){return i=typeof i=="function"?i:void 0,Ap(l,s,m1(s),i)}var FD="[object Number]";function Th(l){return typeof l=="number"||Zo(l)&&Ps(l)==FD}function dO(l){return Th(l)&&l!=+l}var k6=pb?kl:hm,FA=k6,F6="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function N6(l){if(FA(l))throw new Error(F6);return yb(l)}function ru(l){return l==null}function ND(l){return l===null}var HD="[object RegExp]";function zD(l){return Zo(l)&&Ps(l)==HD}var H6=ec&&ec.isRegExp,WD=H6?ho(H6):zD,NA=WD,z6=9007199254740991;function GD(l){return B6(l)&&l>=-z6&&l<=z6}function Oh(l){return l===void 0}var HA="[object WeakMap]";function W6(l){return Zo(l)&&wh(l)==HA}var G6="[object WeakSet]";function $6(l){return Zo(l)&&Ps(l)==G6}var U6=1;function Y6(l){return da(typeof l=="function"?l:xu(l,U6))}var j6=Array.prototype,V6=j6.join;function zA(l,s){return l==null?"":V6.call(l,s)}var X6=gv(function(l,s,i){return l+(i?"-":"")+s.toLowerCase()}),Z6=X6,K6=ke(function(l,s,i){ld(l,i,s)}),q6=K6;function $D(l,s,i){for(var u=i+1;u--;)if(l[u]===s)return u;return u}var UD=Math.max,YD=Math.min;function jD(l,s,i){var u=l==null?0:l.length;if(!u)return-1;var g=u;return i!==void 0&&(g=Nn(i),g=g<0?UD(u+g,0):YD(g,u-1)),s===s?$D(l,s,g):bb(l,nm,g,!0)}var WA=gv(function(l,s,i){return l+(i?" ":"")+s.toLowerCase()}),GA=WA,VD=yh("toLowerCase"),XD=VD;function $A(l,s){return l<s}var Eu=w2($A),JE=Eu,eM=w2(function(l,s){return l<=s}),_2=eM;function E2(l,s){var i={};return s=da(s),ne(l,function(u,g,C){ld(i,s(u,g,C),u)}),i}function vO(l,s){var i={};return s=da(s),ne(l,function(u,g,C){ld(i,g,s(u,g,C))}),i}var UA=1;function vT(l){return _h(xu(l,UA))}var pO=1;function tM(l,s){return Xw(l,xu(s,pO))}function M2(l,s,i){for(var u=-1,g=l.length;++u<g;){var C=l[u],x=s(C);if(x!=null&&(E===void 0?x===x&&!qu(x):i(x,E)))var E=x,O=C}return O}function Qo(l){return l&&l.length?M2(l,Fs,S1):void 0}function gO(l,s){return l&&l.length?M2(l,da(s),S1):void 0}function pT(l,s){for(var i,u=-1,g=l.length;++u<g;){var C=s(l[u]);C!==void 0&&(i=i===void 0?C:i+C)}return i}var mO=NaN;function yO(l,s){var i=l==null?0:l.length;return i?pT(l,s)/i:mO}function YA(l){return yO(l,Fs)}function Q6(l,s){return yO(l,da(s))}var CO=Sc(function(l,s,i){Ac(l,s,i)}),rM=CO,gT=ba(function(l,s){return function(i){return uy(i,l,s)}}),mT=gT,yT=ba(function(l,s){return function(i){return uy(l,i,s)}}),nM=yT;function CT(l){return l&&l.length?M2(l,Fs,$A):void 0}function J6(l,s){return l&&l.length?M2(l,da(s),$A):void 0}function bO(l,s,i){var u=Aa(s),g=b2(s,u),C=!(na(i)&&"chain"in i)||!!i.chain,x=kl(l);return Qs(g,function(E){var O=s[E];l[E]=O,x&&(l.prototype[E]=function(){var R=this.__chain__;if(C||R){var k=l(this.__wrapped__),z=k.__actions__=tl(this.__actions__);return z.push({func:O,args:arguments,thisArg:l}),k.__chain__=R,k}return O.apply(l,fl([this.value()],arguments))})}),l}var e3=oC(function(l,s){return l*s},1),bT=e3,t3="Expected a function";function E1(l){if(typeof l!="function")throw new TypeError(t3);return function(){var s=arguments;switch(s.length){case 0:return!l.call(this);case 1:return!l.call(this,s[0]);case 2:return!l.call(this,s[0],s[1]);case 3:return!l.call(this,s[0],s[1],s[2])}return!l.apply(this,s)}}function iM(l){for(var s,i=[];!(s=l.next()).done;)i.push(s.value);return i}var jA="[object Map]",VA="[object Set]",r0=Bo?Bo.iterator:void 0;function tx(l){if(!l)return[];if(Fu(l))return lf(l)?Mc(l):tl(l);if(r0&&l[r0])return iM(l[r0]());var s=wh(l),i=s==jA?Gw:s==VA?d1:sy;return i(l)}function XA(){this.__values__===void 0&&(this.__values__=tx(this.value()));var l=this.__index__>=this.__values__.length,s=l?void 0:this.__values__[this.__index__++];return{done:l,value:s}}function wO(l,s){var i=l.length;if(i)return s+=s<0?i:0,ko(s,i)?l[s]:void 0}function ZA(l,s){return l&&l.length?wO(l,Nn(s)):void 0}function r3(l){return l=Nn(l),ba(function(s){return wO(s,l)})}function xO(l,s){return s=ph(s,l),l=S2(l,s),l==null||delete l[To(lo(s))]}function ZD(l){return kg(l)?void 0:l}var KA=1,qA=2,rx=4,n3=Yl(function(l,s){var i={};if(l==null)return i;var u=!1;s=bo(s,function(C){return C=ph(C,l),u||(u=C.length>1),C}),If(l,zm(l),i),u&&(i=xu(i,KA|qA|rx,ZD));for(var g=s.length;g--;)xO(i,s[g]);return i}),SO=n3;function aM(l,s,i,u){if(!na(l))return l;s=ph(s,l);for(var g=-1,C=s.length,x=C-1,E=l;E!=null&&++g<C;){var O=To(s[g]),R=i;if(O==="__proto__"||O==="constructor"||O==="prototype")return l;if(g!=x){var k=E[O];R=u?u(k,O,E):void 0,R===void 0&&(R=na(k)?k:ko(s[g+1])?[]:{})}dp(E,O,R),E=E[O]}return l}function M1(l,s,i){for(var u=-1,g=s.length,C={};++u<g;){var x=s[u],E=mp(l,x);i(E,x)&&aM(C,ph(x,l),E)}return C}function _O(l,s){if(l==null)return{};var i=bo(zm(l),function(u){return[u]});return s=da(s),M1(l,i,function(u,g){return s(u,g[0])})}function KD(l,s){return _O(l,E1(da(s)))}function i3(l){return Ng(2,l)}function qD(l,s){var i=l.length;for(l.sort(s);i--;)l[i]=l[i].value;return l}function QA(l,s){if(l!==s){var i=l!==void 0,u=l===null,g=l===l,C=qu(l),x=s!==void 0,E=s===null,O=s===s,R=qu(s);if(!E&&!R&&!C&&l>s||C&&x&&O&&!E&&!R||u&&x&&O||!i&&O||!g)return 1;if(!u&&!C&&!R&&l<s||R&&i&&g&&!u&&!C||E&&i&&g||!x&&g||!O)return-1}return 0}function QD(l,s,i){for(var u=-1,g=l.criteria,C=s.criteria,x=g.length,E=i.length;++u<x;){var O=QA(g[u],C[u]);if(O){if(u>=E)return O;var R=i[u];return O*(R=="desc"?-1:1)}}return l.index-s.index}function JA(l,s,i){s.length?s=bo(s,function(C){return Fi(C)?function(x){return mp(x,C.length===1?C[0]:C)}:C}):s=[Fs];var u=-1;s=bo(s,ho(da));var g=he(l,function(C,x,E){var O=bo(s,function(R){return R(C)});return{criteria:O,index:++u,value:C}});return qD(g,function(C,x){return QD(C,x,i)})}function eI(l,s,i,u){return l==null?[]:(Fi(s)||(s=s==null?[]:[s]),i=u?void 0:i,Fi(i)||(i=i==null?[]:[i]),JA(l,s,i))}function EO(l){return Yl(function(s){return s=bo(s,ho(da)),ba(function(i){var u=this;return l(s,function(g){return Qu(g,u,i)})})})}var JD=EO(bo),a3=JD,eL=ba,o3=eL,tL=Math.min,l3=o3(function(l,s){s=s.length==1&&Fi(s[0])?bo(s[0],ho(da)):bo(No(s,1),ho(da));var i=s.length;return ba(function(u){for(var g=-1,C=tL(u.length,i);++g<C;)u[g]=s[g].call(this,u[g]);return Qu(l,this,u)})}),rL=l3,s3=EO(m2),nL=s3,u3=EO(Mp),iL=u3,c3=9007199254740991,aL=Math.floor;function MO(l,s){var i="";if(!l||s<1||s>c3)return i;do s%2&&(i+=l),s=aL(s/2),s&&(l+=l);while(s);return i}var oL=tf("length"),f3=oL,h3="\\ud800-\\udfff",d3="\\u0300-\\u036f",v3="\\ufe20-\\ufe2f",tI="\\u20d0-\\u20ff",lL=d3+v3+tI,oM="\\ufe0e\\ufe0f",rI="["+h3+"]",wT="["+lL+"]",xT="\\ud83c[\\udffb-\\udfff]",nI="(?:"+wT+"|"+xT+")",TO="[^"+h3+"]",OO="(?:\\ud83c[\\udde6-\\uddff]){2}",AO="[\\ud800-\\udbff][\\udc00-\\udfff]",iI="\\u200d",IO=nI+"?",RO="["+oM+"]?",n0="(?:"+iI+"(?:"+[TO,OO,AO].join("|")+")"+RO+IO+")*",aI=RO+IO+n0,oI="(?:"+[TO+wT+"?",wT,OO,AO,rI].join("|")+")",DO=RegExp(xT+"(?="+xT+")|"+oI+aI,"g");function lI(l){for(var s=DO.lastIndex=0;DO.test(l);)++s;return s}function nx(l){return zg(l)?lI(l):f3(l)}var sI=Math.ceil;function lM(l,s){s=s===void 0?" ":wc(s);var i=s.length;if(i<2)return i?MO(s,l):s;var u=MO(s,sI(l/nx(s)));return zg(s)?bu(Mc(u),0,l).join(""):u.slice(0,l)}var uI=Math.ceil,p3=Math.floor;function g3(l,s,i){l=ao(l),s=Nn(s);var u=s?nx(l):0;if(!s||u>=s)return l;var g=(s-u)/2;return lM(p3(g),i)+l+lM(uI(g),i)}function m3(l,s,i){l=ao(l),s=Nn(s);var u=s?nx(l):0;return s&&u<s?l+lM(s-u,i):l}function cI(l,s,i){l=ao(l),s=Nn(s);var u=s?nx(l):0;return s&&u<s?lM(s-u,i)+l:l}var y3=/^\s+/,C3=ml.parseInt;function T1(l,s,i){return i||s==null?s=0:s&&(s=+s),C3(ao(l).replace(y3,""),s||0)}var b3=32,ST=ba(function(l,s){var i=lh(s,oh(ST));return Af(l,b3,void 0,s,i)});ST.placeholder={};var fI=ST,w3=64,LO=ba(function(l,s){var i=lh(s,oh(LO));return Af(l,w3,void 0,s,i)});LO.placeholder={};var O1=LO,sL=ke(function(l,s,i){l[i?0:1].push(s)},function(){return[[],[]]}),hI=sL;function PO(l,s){return M1(l,s,function(i,u){return Ip(l,u)})}var x3=Yl(function(l,s){return l==null?{}:PO(l,s)}),dI=x3;function uL(l){for(var s,i=this;i instanceof rh;){var u=q0(i);u.__index__=0,u.__values__=void 0,s?g.__wrapped__=u:s=u;var g=u;i=i.__wrapped__}return g.__wrapped__=l,s}function cL(l){return function(s){return l==null?void 0:mp(l,s)}}function fL(l,s,i,u){for(var g=i-1,C=l.length;++g<C;)if(u(l[g],s))return g;return-1}var hL=Array.prototype,S3=hL.splice;function vI(l,s,i,u){var g=u?fL:iv,C=-1,x=s.length,E=l;for(l===s&&(s=tl(s)),i&&(E=bo(l,ho(i)));++C<x;)for(var O=0,R=s[C],k=i?i(R):R;(O=g(E,k,O,u))>-1;)E!==l&&S3.call(E,O,1),S3.call(l,O,1);return l}function _3(l,s){return l&&l.length&&s&&s.length?vI(l,s):l}var dL=ba(_3),E3=dL;function vL(l,s,i){return l&&l.length&&s&&s.length?vI(l,s,da(i)):l}function pL(l,s,i){return l&&l.length&&s&&s.length?vI(l,s,void 0,i):l}var pI=Array.prototype,M3=pI.splice;function gI(l,s){for(var i=l?s.length:0,u=i-1;i--;){var g=s[i];if(i==u||g!==C){var C=g;ko(g)?M3.call(l,g,1):xO(l,g)}}return l}var T3=Yl(function(l,s){var i=l==null?0:l.length,u=Vb(l,s);return gI(l,bo(s,function(g){return ko(g,i)?+g:g}).sort(QA)),u}),O3=T3,BO=Math.floor,gL=Math.random;function mI(l,s){return l+BO(gL()*(s-l+1))}var mL=parseFloat,yI=Math.min,CI=Math.random;function bI(l,s,i){if(i&&typeof i!="boolean"&&Hs(l,s,i)&&(s=i=void 0),i===void 0&&(typeof s=="boolean"?(i=s,s=void 0):typeof l=="boolean"&&(i=l,l=void 0)),l===void 0&&s===void 0?(l=0,s=1):(l=Uc(l),s===void 0?(s=l,l=0):s=Uc(s)),l>s){var u=l;l=s,s=u}if(i||l%1||s%1){var g=CI();return yI(l+g*(s-l+mL("1e-"+((g+"").length-1))),s)}return mI(l,s)}var A3=Math.ceil,I3=Math.max;function yL(l,s,i,u){for(var g=-1,C=I3(A3((s-l)/(i||1)),0),x=Array(C);C--;)x[u?C:++g]=l,l+=i;return x}function wI(l){return function(s,i,u){return u&&typeof u!="number"&&Hs(s,i,u)&&(i=u=void 0),s=Uc(s),i===void 0?(i=s,s=0):i=Uc(i),u=u===void 0?s<i?1:-1:Uc(u),yL(s,i,u,l)}}var CL=wI(),ix=CL,R3=wI(!0),D3=R3,xI=256,L3=Yl(function(l,s){return Af(l,xI,void 0,void 0,void 0,s)}),P3=L3;function B3(l,s,i,u,g){return g(l,function(C,x,E){i=u?(u=!1,C):s(i,C,x,E)}),i}function T2(l,s,i){var u=Fi(l)?xp:B3,g=arguments.length<3;return u(l,da(s),i,g,De)}function O2(l,s,i,u){var g=l==null?0:l.length;for(u&&g&&(i=l[--g]);g--;)i=s(i,l[g],g,l);return i}function SI(l,s,i){var u=Fi(l)?O2:B3,g=arguments.length<3;return u(l,da(s),i,g,nT)}function bL(l,s){var i=Fi(l)?Cd:sT;return i(l,E1(da(s)))}function k3(l,s){var i=[];if(!(l&&l.length))return i;var u=-1,g=[],C=l.length;for(s=da(s);++u<C;){var x=l[u];s(x,u,l)&&(i.push(x),g.push(u))}return gI(l,g),i}function wL(l,s,i){return(i?Hs(l,s,i):s===void 0)?s=1:s=Nn(s),MO(ao(l),s)}function _I(){var l=arguments,s=ao(l[0]);return l.length<3?s:s.replace(l[1],l[2])}var xL="Expected a function";function EI(l,s){if(typeof l!="function")throw new TypeError(xL);return s=s===void 0?s:Nn(s),ba(l,s)}function F3(l,s,i){s=ph(s,l);var u=-1,g=s.length;for(g||(g=1,l=void 0);++u<g;){var C=l==null?void 0:l[To(s[u])];C===void 0&&(u=g,C=i),l=kl(C)?C.call(l):C}return l}var kO=Array.prototype,N3=kO.reverse;function MI(l){return l==null?l:N3.call(l)}var FO=NS("round"),SL=FO;function TI(l){var s=l.length;return s?l[mI(0,s-1)]:void 0}function H3(l){return TI(sy(l))}function z3(l){var s=Fi(l)?TI:H3;return s(l)}function A1(l,s){var i=-1,u=l.length,g=u-1;for(s=s===void 0?u:s;++i<s;){var C=mI(i,g),x=l[C];l[C]=l[i],l[i]=x}return l.length=s,l}function _L(l,s){return A1(tl(l),Vg(s,0,l.length))}function EL(l,s){var i=sy(l);return A1(i,Vg(s,0,i.length))}function ML(l,s,i){(i?Hs(l,s,i):s===void 0)?s=1:s=Nn(s);var u=Fi(l)?_L:EL;return u(l,s)}function i0(l,s,i){return l==null?l:aM(l,s,i)}function OI(l,s,i,u){return u=typeof u=="function"?u:void 0,l==null?l:aM(l,s,i,u)}function AI(l){return A1(tl(l))}function W3(l){return A1(sy(l))}function G3(l){var s=Fi(l)?AI:W3;return s(l)}var II="[object Map]",$3="[object Set]";function I1(l){if(l==null)return 0;if(Fu(l))return lf(l)?nx(l):l.length;var s=wh(l);return s==II||s==$3?l.size:pp(l).length}function U3(l,s,i){var u=l==null?0:l.length;return u?(i&&typeof i!="number"&&Hs(l,s,i)?(s=0,i=u):(s=s==null?0:Nn(s),i=i===void 0?u:Nn(i)),jl(l,s,i)):[]}var A2=gv(function(l,s,i){return l+(i?"_":"")+s.toLowerCase()}),Y3=A2;function j3(l,s){var i;return De(l,function(u,g,C){return i=s(u,g,C),!i}),!!i}function _T(l,s,i){var u=Fi(l)?Mp:j3;return i&&Hs(l,s,i)&&(s=void 0),u(l,da(s))}var V3=ba(function(l,s){if(l==null)return[];var i=s.length;return i>1&&Hs(l,s[0],s[1])?s=[]:i>2&&Hs(s[0],s[1],s[2])&&(s=[s[0]]),JA(l,No(s,1),[])}),X3=V3,Z3=4294967295,K3=Z3-1,R1=Math.floor,q3=Math.min;function RI(l,s,i,u){var g=0,C=l==null?0:l.length;if(C===0)return 0;s=i(s);for(var x=s!==s,E=s===null,O=qu(s),R=s===void 0;g<C;){var k=R1((g+C)/2),z=i(l[k]),j=z!==void 0,q=z===null,ee=z===z,le=qu(z);if(x)var me=u||ee;else R?me=ee&&(u||j):E?me=ee&&j&&(u||!q):O?me=ee&&j&&!q&&(u||!le):q||le?me=!1:me=u?z<=s:z<s;me?g=k+1:C=k}return q3(C,K3)}var I2=4294967295,DI=I2>>>1;function NO(l,s,i){var u=0,g=l==null?u:l.length;if(typeof s=="number"&&s===s&&g<=DI){for(;u<g;){var C=u+g>>>1,x=l[C];x!==null&&!qu(x)&&(i?x<=s:x<s)?u=C+1:g=C}return g}return RI(l,s,Fs,i)}function Q3(l,s){return NO(l,s)}function TL(l,s,i){return RI(l,s,da(i))}function LI(l,s){var i=l==null?0:l.length;if(i){var u=NO(l,s);if(u<i&&Kc(l[u],s))return u}return-1}function OL(l,s){return NO(l,s,!0)}function PI(l,s,i){return RI(l,s,da(i),!0)}function J3(l,s){var i=l==null?0:l.length;if(i){var u=NO(l,s,!0)-1;if(Kc(l[u],s))return u}return-1}function ET(l,s){for(var i=-1,u=l.length,g=0,C=[];++i<u;){var x=l[i],E=s?s(x):x;if(!i||!Kc(E,O)){var O=E;C[g++]=x===0?0:x}}return C}function eR(l){return l&&l.length?ET(l):[]}function AL(l,s){return l&&l.length?ET(l,da(s)):[]}var HO=4294967295;function tR(l,s,i){return i&&typeof i!="number"&&Hs(l,s,i)&&(s=i=void 0),i=i===void 0?HO:i>>>0,i?(l=ao(l),l&&(typeof s=="string"||s!=null&&!NA(s))&&(s=wc(s),!s&&zg(l))?bu(Mc(l),0,i):l.split(s,i)):[]}var rR="Expected a function",nR=Math.max;function iR(l,s){if(typeof l!="function")throw new TypeError(rR);return s=s==null?0:nR(Nn(s),0),ba(function(i){var u=i[s],g=bu(i,0,s);return u&&fl(g,u),Qu(l,this,g)})}var sM=gv(function(l,s,i){return l+(i?" ":"")+GC(s)}),IL=sM;function RL(l,s,i){return l=ao(l),i=i==null?0:Vg(Nn(i),0,l.length),s=wc(s),l.slice(i,i+s.length)==s}function aR(){return{}}function oR(){return""}function lR(){return!0}var sR=oC(function(l,s){return l-s},0),DL=sR;function LL(l){return l&&l.length?pT(l,Fs):0}function uR(l,s){return l&&l.length?pT(l,da(s)):0}function PL(l){var s=l==null?0:l.length;return s?jl(l,1,s):[]}function uM(l,s,i){return l&&l.length?(s=i||s===void 0?1:Nn(s),jl(l,0,s<0?0:s)):[]}function BI(l,s,i){var u=l==null?0:l.length;return u?(s=i||s===void 0?1:Nn(s),s=u-s,jl(l,s<0?0:s,u)):[]}function kI(l,s){return l&&l.length?kf(l,da(s),!1,!0):[]}function cR(l,s){return l&&l.length?kf(l,da(s)):[]}function fR(l,s){return s(l),l}var FI=Object.prototype,hR=FI.hasOwnProperty;function NI(l,s,i,u){return l===void 0||Kc(l,FI[i])&&!hR.call(u,i)?s:l}var dR={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function HI(l){return"\\"+dR[l]}var vR=/<%=([\s\S]+?)%>/g,zI=vR,BL=/<%-([\s\S]+?)%>/g,kL=BL,R2=/<%([\s\S]+?)%>/g,FL=R2,WI={escape:kL,evaluate:FL,interpolate:zI,variable:"",imports:{_:{escape:XE}}},GI=WI,pR="Invalid `variable` option passed into `_.template`",gR=/\b__p \+= '';/g,zO=/\b(__p \+=) '' \+/g,mR=/(__e\(.*?\)|\b__t\)) \+\n'';/g,NL=/[()=,{}\[\]\/\s]/,WO=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,GO=/($^)/,yR=/['\n\r\u2028\u2029\\]/g,CR=Object.prototype,$I=CR.hasOwnProperty;function cM(l,s,i){var u=GI.imports._.templateSettings||GI;i&&Hs(l,s,i)&&(s=void 0),l=ao(l),s=Jc({},s,u,NI);var g=Jc({},s.imports,u.imports,NI),C=Aa(g),x=_1(g,C),E,O,R=0,k=s.interpolate||GO,z="__p += '",j=RegExp((s.escape||GO).source+"|"+k.source+"|"+(k===zI?WO:GO).source+"|"+(s.evaluate||GO).source+"|$","g"),q=$I.call(s,"sourceURL")?"//# sourceURL="+(s.sourceURL+"").replace(/\s/g," ")+`
`:"";l.replace(j,function(me,Oe,$e,Ye,Ze,Ut){return $e||($e=Ye),z+=l.slice(R,Ut).replace(yR,HI),Oe&&(E=!0,z+=`' +
__e(`+Oe+`) +
'`),Ze&&(O=!0,z+=`';
`+Ze+`;
__p += '`),$e&&(z+=`' +
((__t = (`+$e+`)) == null ? '' : __t) +
'`),R=Ut+me.length,me}),z+=`';
`;var ee=$I.call(s,"variable")&&s.variable;if(!ee)z=`with (obj) {
`+z+`
}
`;else if(NL.test(ee))throw new Error(pR);z=(O?z.replace(gR,""):z).replace(zO,"$1").replace(mR,"$1;"),z="function("+(ee||"obj")+`) {
`+(ee?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(E?", __e = _.escape":"")+(O?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+z+`return __p
}`;var le=Zb(function(){return Function(C,q+"return "+z).apply(void 0,x)});if(le.source=z,Cp(le))throw le;return le}var HL="Expected a function";function UI(l,s,i){var u=!0,g=!0;if(typeof l!="function")throw new TypeError(HL);return na(i)&&(u="leading"in i?!!i.leading:u,g="trailing"in i?!!i.trailing:g),Ia(l,s,{leading:u,maxWait:s,trailing:g})}function d(l,s){return s(l)}var p=9007199254740991,m=4294967295,w=Math.min;function I(l,s){if(l=Nn(l),l<1||l>p)return[];var i=m,u=w(l,m);s=Sl(s),l-=m;for(var g=Rf(u,s);++i<l;)s(i);return g}function P(){return this}function N(l,s){var i=l;return i instanceof Na&&(i=i.value()),xp(s,function(u,g){return g.func.apply(g.thisArg,fl([u],g.args))},i)}function $(){return N(this.__wrapped__,this.__actions__)}function V(l){return ao(l).toLowerCase()}function J(l){return Fi(l)?bo(l,To):qu(l)?[l]:tl(jb(ao(l)))}var se=9007199254740991;function Te(l){return l?Vg(Nn(l),-se,se):l===0?l:0}function Se(l){return ao(l).toUpperCase()}function et(l,s,i){var u=Fi(l),g=u||ja(l)||dh(l);if(s=da(s),i==null){var C=l&&l.constructor;g?i=u?new C:[]:na(l)?i=kl(C)?lp(Cu(l)):{}:i={}}return(g?Qs:ne)(l,function(x,E,O){return s(i,x,E,O)}),i}function ft(l,s){for(var i=l.length;i--&&iv(s,l[i],0)>-1;);return i}function Ue(l,s){for(var i=-1,u=l.length;++i<u&&iv(s,l[i],0)>-1;);return i}function Ne(l,s,i){if(l=ao(l),l&&(i||s===void 0))return uC(l);if(!l||!(s=wc(s)))return l;var u=Mc(l),g=Mc(s),C=Ue(u,g),x=ft(u,g)+1;return bu(u,C,x).join("")}function Ct(l,s,i){if(l=ao(l),l&&(i||s===void 0))return l.slice(0,sa(l)+1);if(!l||!(s=wc(s)))return l;var u=Mc(l),g=ft(u,Mc(s))+1;return bu(u,0,g).join("")}var Ot=/^\s+/;function mt(l,s,i){if(l=ao(l),l&&(i||s===void 0))return l.replace(Ot,"");if(!l||!(s=wc(s)))return l;var u=Mc(l),g=Ue(u,Mc(s));return bu(u,g).join("")}var Wt=30,Xe="...",_t=/\w*$/;function vt(l,s){var i=Wt,u=Xe;if(na(s)){var g="separator"in s?s.separator:g;i="length"in s?Nn(s.length):i,u="omission"in s?wc(s.omission):u}l=ao(l);var C=l.length;if(zg(l)){var x=Mc(l);C=x.length}if(i>=C)return l;var E=i-nx(u);if(E<1)return u;var O=x?bu(x,0,E).join(""):l.slice(0,E);if(g===void 0)return O+u;if(x&&(E+=O.length-E),NA(g)){if(l.slice(E).search(g)){var R,k=O;for(g.global||(g=RegExp(g.source,ao(_t.exec(g))+"g")),g.lastIndex=0;R=g.exec(k);)var z=R.index;O=O.slice(0,z===void 0?E:z)}}else if(l.indexOf(wc(g),E)!=E){var j=O.lastIndexOf(g);j>-1&&(O=O.slice(0,j))}return O+u}function Rt(l){return eS(l,1)}var Kt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},fr=TS(Kt),kr=fr,ln=/&(?:amp|lt|gt|quot|#39);/g,nn=RegExp(ln.source);function Jr(l){return l=ao(l),l&&nn.test(l)?l.replace(ln,kr):l}var hn=1/0,it=rl&&1/d1(new rl([,-0]))[1]==hn?function(l){return new rl(l)}:Sg,je=it,dt=200;function Jt(l,s,i){var u=-1,g=xc,C=l.length,x=!0,E=[],O=E;if(i)x=!1,g=tu;else if(C>=dt){var R=s?null:je(l);if(R)return d1(R);x=!1,g=wl,O=new Sd}else O=s?[]:E;e:for(;++u<C;){var k=l[u],z=s?s(k):k;if(k=i||k!==0?k:0,x&&z===z){for(var j=O.length;j--;)if(O[j]===z)continue e;s&&O.push(z),E.push(k)}else g(O,z,i)||(O!==E&&O.push(z),E.push(k))}return E}var pr=ba(function(l){return Jt(No(l,1,oo,!0))}),xr=pr,Nr=ba(function(l){var s=lo(l);return oo(s)&&(s=void 0),Jt(No(l,1,oo,!0),da(s))}),Wr=Nr,on=ba(function(l){var s=lo(l);return s=typeof s=="function"?s:void 0,Jt(No(l,1,oo,!0),void 0,s)}),Yn=on;function sn(l){return l&&l.length?Jt(l):[]}function bn(l,s){return l&&l.length?Jt(l,da(s)):[]}function Hi(l,s){return s=typeof s=="function"?s:void 0,l&&l.length?Jt(l,void 0,s):[]}var ua=0;function li(l){var s=++ua;return ao(l)+s}function La(l,s){return l==null?!0:xO(l,s)}var so=Math.max;function Ho(l){if(!(l&&l.length))return[];var s=0;return l=Cd(l,function(i){if(oo(i))return s=so(i.length,s),!0}),Rf(s,function(i){return bo(l,tf(i))})}function eo(l,s){if(!(l&&l.length))return[];var i=Ho(l);return s==null?i:bo(i,function(u){return Qu(s,void 0,u)})}function Wa(l,s,i,u){return aM(l,s,i(mp(l,s)),u)}function qi(l,s,i){return l==null?l:Wa(l,s,Sl(i))}function pa(l,s,i,u){return u=typeof u=="function"?u:void 0,l==null?l:Wa(l,s,Sl(i),u)}var Qi=gv(function(l,s,i){return l+(i?" ":"")+s.toUpperCase()}),Ua=Qi;function Ao(l){return l==null?[]:_1(l,pu(l))}var _l=ba(function(l,s){return oo(l)?nf(l,s):[]}),Ws=_l;function Nf(l,s){return fI(Sl(s),l)}var Ah=Yl(function(l){var s=l.length,i=s?l[0]:0,u=this.__wrapped__,g=function(C){return Vb(C,l)};return s>1||this.__actions__.length||!(u instanceof Na)||!ko(i)?this.thru(g):(u=u.slice(i,+i+(s?1:0)),u.__actions__.push({func:d,args:[g],thisArg:void 0}),new Ns(u,this.__chain__).thru(function(C){return s&&!C.length&&C.push(void 0),C}))}),xs=Ah;function El(){return md(this)}function kp(){var l=this.__wrapped__;if(l instanceof Na){var s=l;return this.__actions__.length&&(s=new Na(this)),s=s.reverse(),s.__actions__.push({func:d,args:[MI],thisArg:void 0}),new Ns(s,this.__chain__)}return this.thru(MI)}function Sv(l,s,i){var u=l.length;if(u<2)return u?Jt(l[0]):[];for(var g=-1,C=Array(u);++g<u;)for(var x=l[g],E=-1;++E<u;)E!=g&&(C[g]=nf(C[g]||x,l[E],s,i));return Jt(No(C,1),s,i)}var Hf=ba(function(l){return Sv(Cd(l,oo))}),_v=Hf,zf=ba(function(l){var s=lo(l);return oo(s)&&(s=void 0),Sv(Cd(l,oo),da(s))}),Ih=zf,Rh=ba(function(l){var s=lo(l);return s=typeof s=="function"?s:void 0,Sv(Cd(l,oo),void 0,s)}),a0=Rh,Dc=ba(Ho),Fl=Dc;function ax(l,s,i){for(var u=-1,g=l.length,C=s.length,x={};++u<g;){var E=u<C?s[u]:void 0;i(x,l[u],E)}return x}function Ev(l,s){return ax(l||[],s||[],dp)}function ox(l,s){return ax(l||[],s||[],aM)}var Mv=ba(function(l){var s=l.length,i=s>1?l[s-1]:void 0;return i=typeof i=="function"?(l.pop(),i):void 0,eo(l,i)}),o0=Mv,vi={chunk:iE,compact:xh,concat:Sh,difference:ny,differenceBy:qw,differenceWith:UE,drop:ZT,dropRight:KT,dropRightWhile:YE,dropWhile:Qw,fill:Lp,findIndex:c,findLastIndex:H,first:te,flatten:Bg,flattenDeep:Sr,flattenDepth:Mr,fromPairs:Pp,head:te,indexOf:w6,initial:gD,intersection:LA,intersectionBy:CD,intersectionWith:wD,join:zA,last:lo,lastIndexOf:jD,nth:ZA,pull:E3,pullAll:_3,pullAllBy:vL,pullAllWith:pL,pullAt:O3,remove:k3,reverse:MI,slice:U3,sortedIndex:Q3,sortedIndexBy:TL,sortedIndexOf:LI,sortedLastIndex:OL,sortedLastIndexBy:PI,sortedLastIndexOf:J3,sortedUniq:eR,sortedUniqBy:AL,tail:PL,take:uM,takeRight:BI,takeRightWhile:kI,takeWhile:cR,union:xr,unionBy:Wr,unionWith:Yn,uniq:sn,uniqBy:bn,uniqWith:Hi,unzip:Ho,unzipWith:eo,without:Ws,xor:_v,xorBy:Ih,xorWith:a0,zip:Fl,zipObject:Ev,zipObjectDeep:ox,zipWith:o0},to={countBy:Cr,each:Xi,eachRight:ay,every:y2,filter:h,find:y,findLast:Y,flatMap:Fe,flatMapDeep:nt,flatMapDepth:pt,forEach:Xi,forEachRight:ay,groupBy:sO,includes:Mh,invokeMap:Za,keyBy:q6,map:Me,orderBy:eI,partition:hI,reduce:T2,reduceRight:SI,reject:bL,sample:z3,sampleSize:ML,shuffle:G3,size:I1,some:_T,sortBy:X3},D2={now:Cn},nl={after:jT,ary:eS,before:Ng,bind:qb,bindKey:gh,curry:Ir,curryRight:Ur,debounce:Ia,defer:xo,delay:Ic,flip:Xr,memoize:fv,negate:E1,once:i3,overArgs:rL,partial:fI,partialRight:O1,rearg:P3,rest:EI,spread:iR,throttle:UI,unary:Rt,wrap:Nf},Ai={castArray:VM,clone:wd,cloneDeep:s1,cloneDeepWith:xd,cloneWith:s2,conformsTo:T,eq:Kc,gt:uT,gte:cT,isArguments:ch,isArray:Fi,isArrayBuffer:L6,isArrayLike:Fu,isArrayLikeObject:oo,isBoolean:xv,isBuffer:ja,isDate:BA,isElement:dT,isEmpty:zn,isEqual:sf,isEqualWith:DD,isError:Cp,isFinite:PD,isFunction:kl,isInteger:B6,isLength:sd,isMap:Cv,isMatch:BD,isMatchWith:kD,isNaN:dO,isNative:N6,isNil:ru,isNull:ND,isNumber:Th,isObject:na,isObjectLike:Zo,isPlainObject:kg,isRegExp:NA,isSafeInteger:GD,isSet:r2,isString:lf,isSymbol:qu,isTypedArray:dh,isUndefined:Oh,isWeakMap:W6,isWeakSet:$6,lt:JE,lte:_2,toArray:tx,toFinite:Uc,toInteger:Nn,toLength:qE,toNumber:ca,toPlainObject:Eh,toSafeInteger:Te,toString:ao},Wi={add:sC,ceil:jg,divide:XT,floor:ti,max:Qo,maxBy:gO,mean:YA,meanBy:Q6,min:CT,minBy:J6,multiply:bT,round:SL,subtract:DL,sum:LL,sumBy:uR},po={clamp:bh,inRange:Bp,random:bI},pi={assign:gm,assignIn:gu,assignInWith:Jc,assignWith:mu,at:Xb,create:mr,defaults:es,defaultsDeep:Dp,entries:oT,entriesIn:jE,extend:gu,extendWith:Jc,findKey:M,findLastKey:Q,forIn:w1,forInRight:C2,forOwn:TA,forOwnRight:OA,functions:aO,functionsIn:oO,get:Mi,has:ly,hasIn:Ip,invert:M6,invertBy:ED,invoke:A6,keys:Aa,keysIn:pu,mapKeys:E2,mapValues:vO,merge:rM,mergeWith:_d,omit:SO,omitBy:KD,pick:dI,pickBy:_O,result:F3,set:i0,setWith:OI,toPairs:oT,toPairsIn:jE,transform:et,unset:La,update:qi,updateWith:pa,values:sy,valuesIn:Ao},Zi={at:xs,chain:md,commit:c1,lodash:Je,next:XA,plant:uL,reverse:kp,tap:fR,thru:d,toIterator:P,toJSON:$,value:$,valueOf:$,wrapperChain:El},Sa={camelCase:nE,capitalize:MS,deburr:aw,endsWith:ex,escape:XE,escapeRegExp:lT,kebabCase:Z6,lowerCase:GA,lowerFirst:XD,pad:g3,padEnd:m3,padStart:cI,parseInt:T1,repeat:wL,replace:_I,snakeCase:Y3,split:tR,startCase:IL,startsWith:RL,template:cM,templateSettings:GI,toLower:V,toUpper:Se,trim:Ne,trimEnd:Ct,trimStart:mt,truncate:vt,unescape:Jr,upperCase:Ua,upperFirst:GC,words:dw},Io={attempt:Zb,bindAll:N_,cond:Zw,conforms:S,constant:nd,defaultTo:ka,flow:Oo,flowRight:b1,identity:Fs,iteratee:Y6,matches:vT,matchesProperty:tM,method:mT,methodOf:nM,mixin:bO,noop:Sg,nthArg:r3,over:a3,overEvery:nL,overSome:iL,property:d2,propertyOf:cL,range:ix,rangeRight:D3,stubArray:gw,stubFalse:hm,stubObject:aR,stubString:oR,stubTrue:lR,times:I,toPath:J,uniqueId:li};function fM(){var l=new Na(this.__wrapped__);return l.__actions__=tl(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=tl(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=tl(this.__views__),l}function MT(){if(this.__filtered__){var l=new Na(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}var $O=Math.max,TT=Math.min;function D1(l,s,i){for(var u=-1,g=i.length;++u<g;){var C=i[u],x=C.size;switch(C.type){case"drop":l+=x;break;case"dropRight":s-=x;break;case"take":s=TT(s,l+x);break;case"takeRight":l=$O(l,s-x);break}}return{start:l,end:s}}var hM=1,L2=2,OT=Math.min;function Xl(){var l=this.__wrapped__.value(),s=this.__dir__,i=Fi(l),u=s<0,g=i?l.length:0,C=D1(0,g,this.__views__),x=C.start,E=C.end,O=E-x,R=u?E:x-1,k=this.__iteratees__,z=k.length,j=0,q=OT(O,this.__takeCount__);if(!i||!u&&g==O&&q==O)return N(l,this.__actions__);var ee=[];e:for(;O--&&j<q;){R+=s;for(var le=-1,me=l[R];++le<z;){var Oe=k[le],$e=Oe.iteratee,Ye=Oe.type,Ze=$e(me);if(Ye==L2)me=Ze;else if(!Ze){if(Ye==hM)continue e;break e}}ee[j++]=me}return ee}var l0="4.17.21",P2=2,dM=1,vM=3,lx=4294967295,UO=Array.prototype,pM=Object.prototype,B2=pM.hasOwnProperty,sx=Bo?Bo.iterator:void 0,YO=Math.max,AT=Math.min,Ed=function(l){return function(s,i,u){if(u==null){var g=na(i),C=g&&Aa(i),x=C&&C.length&&b2(i,C);(x?x.length:g)||(u=i,i=s,s=this)}return l(s,i,u)}}(bO);Je.after=nl.after,Je.ary=nl.ary,Je.assign=pi.assign,Je.assignIn=pi.assignIn,Je.assignInWith=pi.assignInWith,Je.assignWith=pi.assignWith,Je.at=pi.at,Je.before=nl.before,Je.bind=nl.bind,Je.bindAll=Io.bindAll,Je.bindKey=nl.bindKey,Je.castArray=Ai.castArray,Je.chain=Zi.chain,Je.chunk=vi.chunk,Je.compact=vi.compact,Je.concat=vi.concat,Je.cond=Io.cond,Je.conforms=Io.conforms,Je.constant=Io.constant,Je.countBy=to.countBy,Je.create=pi.create,Je.curry=nl.curry,Je.curryRight=nl.curryRight,Je.debounce=nl.debounce,Je.defaults=pi.defaults,Je.defaultsDeep=pi.defaultsDeep,Je.defer=nl.defer,Je.delay=nl.delay,Je.difference=vi.difference,Je.differenceBy=vi.differenceBy,Je.differenceWith=vi.differenceWith,Je.drop=vi.drop,Je.dropRight=vi.dropRight,Je.dropRightWhile=vi.dropRightWhile,Je.dropWhile=vi.dropWhile,Je.fill=vi.fill,Je.filter=to.filter,Je.flatMap=to.flatMap,Je.flatMapDeep=to.flatMapDeep,Je.flatMapDepth=to.flatMapDepth,Je.flatten=vi.flatten,Je.flattenDeep=vi.flattenDeep,Je.flattenDepth=vi.flattenDepth,Je.flip=nl.flip,Je.flow=Io.flow,Je.flowRight=Io.flowRight,Je.fromPairs=vi.fromPairs,Je.functions=pi.functions,Je.functionsIn=pi.functionsIn,Je.groupBy=to.groupBy,Je.initial=vi.initial,Je.intersection=vi.intersection,Je.intersectionBy=vi.intersectionBy,Je.intersectionWith=vi.intersectionWith,Je.invert=pi.invert,Je.invertBy=pi.invertBy,Je.invokeMap=to.invokeMap,Je.iteratee=Io.iteratee,Je.keyBy=to.keyBy,Je.keys=Aa,Je.keysIn=pi.keysIn,Je.map=to.map,Je.mapKeys=pi.mapKeys,Je.mapValues=pi.mapValues,Je.matches=Io.matches,Je.matchesProperty=Io.matchesProperty,Je.memoize=nl.memoize,Je.merge=pi.merge,Je.mergeWith=pi.mergeWith,Je.method=Io.method,Je.methodOf=Io.methodOf,Je.mixin=Ed,Je.negate=E1,Je.nthArg=Io.nthArg,Je.omit=pi.omit,Je.omitBy=pi.omitBy,Je.once=nl.once,Je.orderBy=to.orderBy,Je.over=Io.over,Je.overArgs=nl.overArgs,Je.overEvery=Io.overEvery,Je.overSome=Io.overSome,Je.partial=nl.partial,Je.partialRight=nl.partialRight,Je.partition=to.partition,Je.pick=pi.pick,Je.pickBy=pi.pickBy,Je.property=Io.property,Je.propertyOf=Io.propertyOf,Je.pull=vi.pull,Je.pullAll=vi.pullAll,Je.pullAllBy=vi.pullAllBy,Je.pullAllWith=vi.pullAllWith,Je.pullAt=vi.pullAt,Je.range=Io.range,Je.rangeRight=Io.rangeRight,Je.rearg=nl.rearg,Je.reject=to.reject,Je.remove=vi.remove,Je.rest=nl.rest,Je.reverse=vi.reverse,Je.sampleSize=to.sampleSize,Je.set=pi.set,Je.setWith=pi.setWith,Je.shuffle=to.shuffle,Je.slice=vi.slice,Je.sortBy=to.sortBy,Je.sortedUniq=vi.sortedUniq,Je.sortedUniqBy=vi.sortedUniqBy,Je.split=Sa.split,Je.spread=nl.spread,Je.tail=vi.tail,Je.take=vi.take,Je.takeRight=vi.takeRight,Je.takeRightWhile=vi.takeRightWhile,Je.takeWhile=vi.takeWhile,Je.tap=Zi.tap,Je.throttle=nl.throttle,Je.thru=d,Je.toArray=Ai.toArray,Je.toPairs=pi.toPairs,Je.toPairsIn=pi.toPairsIn,Je.toPath=Io.toPath,Je.toPlainObject=Ai.toPlainObject,Je.transform=pi.transform,Je.unary=nl.unary,Je.union=vi.union,Je.unionBy=vi.unionBy,Je.unionWith=vi.unionWith,Je.uniq=vi.uniq,Je.uniqBy=vi.uniqBy,Je.uniqWith=vi.uniqWith,Je.unset=pi.unset,Je.unzip=vi.unzip,Je.unzipWith=vi.unzipWith,Je.update=pi.update,Je.updateWith=pi.updateWith,Je.values=pi.values,Je.valuesIn=pi.valuesIn,Je.without=vi.without,Je.words=Sa.words,Je.wrap=nl.wrap,Je.xor=vi.xor,Je.xorBy=vi.xorBy,Je.xorWith=vi.xorWith,Je.zip=vi.zip,Je.zipObject=vi.zipObject,Je.zipObjectDeep=vi.zipObjectDeep,Je.zipWith=vi.zipWith,Je.entries=pi.toPairs,Je.entriesIn=pi.toPairsIn,Je.extend=pi.assignIn,Je.extendWith=pi.assignInWith,Ed(Je,Je),Je.add=Wi.add,Je.attempt=Io.attempt,Je.camelCase=Sa.camelCase,Je.capitalize=Sa.capitalize,Je.ceil=Wi.ceil,Je.clamp=po.clamp,Je.clone=Ai.clone,Je.cloneDeep=Ai.cloneDeep,Je.cloneDeepWith=Ai.cloneDeepWith,Je.cloneWith=Ai.cloneWith,Je.conformsTo=Ai.conformsTo,Je.deburr=Sa.deburr,Je.defaultTo=Io.defaultTo,Je.divide=Wi.divide,Je.endsWith=Sa.endsWith,Je.eq=Ai.eq,Je.escape=Sa.escape,Je.escapeRegExp=Sa.escapeRegExp,Je.every=to.every,Je.find=to.find,Je.findIndex=vi.findIndex,Je.findKey=pi.findKey,Je.findLast=to.findLast,Je.findLastIndex=vi.findLastIndex,Je.findLastKey=pi.findLastKey,Je.floor=Wi.floor,Je.forEach=to.forEach,Je.forEachRight=to.forEachRight,Je.forIn=pi.forIn,Je.forInRight=pi.forInRight,Je.forOwn=pi.forOwn,Je.forOwnRight=pi.forOwnRight,Je.get=pi.get,Je.gt=Ai.gt,Je.gte=Ai.gte,Je.has=pi.has,Je.hasIn=pi.hasIn,Je.head=vi.head,Je.identity=Fs,Je.includes=to.includes,Je.indexOf=vi.indexOf,Je.inRange=po.inRange,Je.invoke=pi.invoke,Je.isArguments=Ai.isArguments,Je.isArray=Fi,Je.isArrayBuffer=Ai.isArrayBuffer,Je.isArrayLike=Ai.isArrayLike,Je.isArrayLikeObject=Ai.isArrayLikeObject,Je.isBoolean=Ai.isBoolean,Je.isBuffer=Ai.isBuffer,Je.isDate=Ai.isDate,Je.isElement=Ai.isElement,Je.isEmpty=Ai.isEmpty,Je.isEqual=Ai.isEqual,Je.isEqualWith=Ai.isEqualWith,Je.isError=Ai.isError,Je.isFinite=Ai.isFinite,Je.isFunction=Ai.isFunction,Je.isInteger=Ai.isInteger,Je.isLength=Ai.isLength,Je.isMap=Ai.isMap,Je.isMatch=Ai.isMatch,Je.isMatchWith=Ai.isMatchWith,Je.isNaN=Ai.isNaN,Je.isNative=Ai.isNative,Je.isNil=Ai.isNil,Je.isNull=Ai.isNull,Je.isNumber=Ai.isNumber,Je.isObject=na,Je.isObjectLike=Ai.isObjectLike,Je.isPlainObject=Ai.isPlainObject,Je.isRegExp=Ai.isRegExp,Je.isSafeInteger=Ai.isSafeInteger,Je.isSet=Ai.isSet,Je.isString=Ai.isString,Je.isSymbol=Ai.isSymbol,Je.isTypedArray=Ai.isTypedArray,Je.isUndefined=Ai.isUndefined,Je.isWeakMap=Ai.isWeakMap,Je.isWeakSet=Ai.isWeakSet,Je.join=vi.join,Je.kebabCase=Sa.kebabCase,Je.last=lo,Je.lastIndexOf=vi.lastIndexOf,Je.lowerCase=Sa.lowerCase,Je.lowerFirst=Sa.lowerFirst,Je.lt=Ai.lt,Je.lte=Ai.lte,Je.max=Wi.max,Je.maxBy=Wi.maxBy,Je.mean=Wi.mean,Je.meanBy=Wi.meanBy,Je.min=Wi.min,Je.minBy=Wi.minBy,Je.stubArray=Io.stubArray,Je.stubFalse=Io.stubFalse,Je.stubObject=Io.stubObject,Je.stubString=Io.stubString,Je.stubTrue=Io.stubTrue,Je.multiply=Wi.multiply,Je.nth=vi.nth,Je.noop=Io.noop,Je.now=D2.now,Je.pad=Sa.pad,Je.padEnd=Sa.padEnd,Je.padStart=Sa.padStart,Je.parseInt=Sa.parseInt,Je.random=po.random,Je.reduce=to.reduce,Je.reduceRight=to.reduceRight,Je.repeat=Sa.repeat,Je.replace=Sa.replace,Je.result=pi.result,Je.round=Wi.round,Je.sample=to.sample,Je.size=to.size,Je.snakeCase=Sa.snakeCase,Je.some=to.some,Je.sortedIndex=vi.sortedIndex,Je.sortedIndexBy=vi.sortedIndexBy,Je.sortedIndexOf=vi.sortedIndexOf,Je.sortedLastIndex=vi.sortedLastIndex,Je.sortedLastIndexBy=vi.sortedLastIndexBy,Je.sortedLastIndexOf=vi.sortedLastIndexOf,Je.startCase=Sa.startCase,Je.startsWith=Sa.startsWith,Je.subtract=Wi.subtract,Je.sum=Wi.sum,Je.sumBy=Wi.sumBy,Je.template=Sa.template,Je.times=Io.times,Je.toFinite=Ai.toFinite,Je.toInteger=Nn,Je.toLength=Ai.toLength,Je.toLower=Sa.toLower,Je.toNumber=Ai.toNumber,Je.toSafeInteger=Ai.toSafeInteger,Je.toString=Ai.toString,Je.toUpper=Sa.toUpper,Je.trim=Sa.trim,Je.trimEnd=Sa.trimEnd,Je.trimStart=Sa.trimStart,Je.truncate=Sa.truncate,Je.unescape=Sa.unescape,Je.uniqueId=Io.uniqueId,Je.upperCase=Sa.upperCase,Je.upperFirst=Sa.upperFirst,Je.each=to.forEach,Je.eachRight=to.forEachRight,Je.first=vi.head,Ed(Je,function(){var l={};return ne(Je,function(s,i){B2.call(Je.prototype,i)||(l[i]=s)}),l}(),{chain:!1}),Je.VERSION=l0,(Je.templateSettings=Sa.templateSettings).imports._=Je,Qs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){Je[l].placeholder=Je}),Qs(["drop","take"],function(l,s){Na.prototype[l]=function(i){i=i===void 0?1:YO(Nn(i),0);var u=this.__filtered__&&!s?new Na(this):this.clone();return u.__filtered__?u.__takeCount__=AT(i,u.__takeCount__):u.__views__.push({size:AT(i,lx),type:l+(u.__dir__<0?"Right":"")}),u},Na.prototype[l+"Right"]=function(i){return this.reverse()[l](i).reverse()}}),Qs(["filter","map","takeWhile"],function(l,s){var i=s+1,u=i==dM||i==vM;Na.prototype[l]=function(g){var C=this.clone();return C.__iteratees__.push({iteratee:da(g),type:i}),C.__filtered__=C.__filtered__||u,C}}),Qs(["head","last"],function(l,s){var i="take"+(s?"Right":"");Na.prototype[l]=function(){return this[i](1).value()[0]}}),Qs(["initial","tail"],function(l,s){var i="drop"+(s?"":"Right");Na.prototype[l]=function(){return this.__filtered__?new Na(this):this[i](1)}}),Na.prototype.compact=function(){return this.filter(Fs)},Na.prototype.find=function(l){return this.filter(l).head()},Na.prototype.findLast=function(l){return this.reverse().find(l)},Na.prototype.invokeMap=ba(function(l,s){return typeof l=="function"?new Na(this):this.map(function(i){return uy(i,l,s)})}),Na.prototype.reject=function(l){return this.filter(E1(da(l)))},Na.prototype.slice=function(l,s){l=Nn(l);var i=this;return i.__filtered__&&(l>0||s<0)?new Na(i):(l<0?i=i.takeRight(-l):l&&(i=i.drop(l)),s!==void 0&&(s=Nn(s),i=s<0?i.dropRight(-s):i.take(s-l)),i)},Na.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Na.prototype.toArray=function(){return this.take(lx)},ne(Na.prototype,function(l,s){var i=/^(?:filter|find|map|reject)|While$/.test(s),u=/^(?:head|last)$/.test(s),g=Je[u?"take"+(s=="last"?"Right":""):s],C=u||/^find/.test(s);g&&(Je.prototype[s]=function(){var x=this.__wrapped__,E=u?[1]:arguments,O=x instanceof Na,R=E[0],k=O||Fi(x),z=function(Oe){var $e=g.apply(Je,fl([Oe],E));return u&&j?$e[0]:$e};k&&i&&typeof R=="function"&&R.length!=1&&(O=k=!1);var j=this.__chain__,q=!!this.__actions__.length,ee=C&&!j,le=O&&!q;if(!C&&k){x=le?x:new Na(this);var me=l.apply(x,E);return me.__actions__.push({func:d,args:[z],thisArg:void 0}),new Ns(me,j)}return ee&&le?l.apply(this,E):(me=this.thru(z),ee?u?me.value()[0]:me.value():me)})}),Qs(["pop","push","shift","sort","splice","unshift"],function(l){var s=UO[l],i=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",u=/^(?:pop|shift)$/.test(l);Je.prototype[l]=function(){var g=arguments;if(u&&!this.__chain__){var C=this.value();return s.apply(Fi(C)?C:[],g)}return this[i](function(x){return s.apply(Fi(x)?x:[],g)})}}),ne(Na.prototype,function(l,s){var i=Je[s];if(i){var u=i.name+"";B2.call(jc,u)||(jc[u]=[]),jc[u].push({name:s,func:i})}}),jc[wC(void 0,P2).name]=[{name:"wrapper",func:void 0}],Na.prototype.clone=fM,Na.prototype.reverse=MT,Na.prototype.value=Xl,Je.prototype.at=Zi.at,Je.prototype.chain=Zi.wrapperChain,Je.prototype.commit=Zi.commit,Je.prototype.next=Zi.next,Je.prototype.plant=Zi.plant,Je.prototype.reverse=Zi.reverse,Je.prototype.toJSON=Je.prototype.valueOf=Je.prototype.value=Zi.value,Je.prototype.first=Je.prototype.head,sx&&(Je.prototype[sx]=Zi.toIterator);var fy={exports:{}};(function(l){(function(s){var i=/^\s+/,u=/\s+$/,g=0,C=s.round,x=s.min,E=s.max,O=s.random;function R(At,yr){if(At=At||"",yr=yr||{},At instanceof R)return At;if(!(this instanceof R))return new R(At,yr);var $t=k(At);this._originalInput=At,this._r=$t.r,this._g=$t.g,this._b=$t.b,this._a=$t.a,this._roundA=C(100*this._a)/100,this._format=yr.format||$t.format,this._gradientType=yr.gradientType,this._r<1&&(this._r=C(this._r)),this._g<1&&(this._g=C(this._g)),this._b<1&&(this._b=C(this._b)),this._ok=$t.ok,this._tc_id=g++}R.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var At=this.toRgb();return(At.r*299+At.g*587+At.b*114)/1e3},getLuminance:function(){var At=this.toRgb(),yr,$t,En,xi,Si,Vo;return yr=At.r/255,$t=At.g/255,En=At.b/255,yr<=.03928?xi=yr/12.92:xi=s.pow((yr+.055)/1.055,2.4),$t<=.03928?Si=$t/12.92:Si=s.pow(($t+.055)/1.055,2.4),En<=.03928?Vo=En/12.92:Vo=s.pow((En+.055)/1.055,2.4),.2126*xi+.7152*Si+.0722*Vo},setAlpha:function(At){return this._a=zo(At),this._roundA=C(100*this._a)/100,this},toHsv:function(){var At=ee(this._r,this._g,this._b);return{h:At.h*360,s:At.s,v:At.v,a:this._a}},toHsvString:function(){var At=ee(this._r,this._g,this._b),yr=C(At.h*360),$t=C(At.s*100),En=C(At.v*100);return this._a==1?"hsv("+yr+", "+$t+"%, "+En+"%)":"hsva("+yr+", "+$t+"%, "+En+"%, "+this._roundA+")"},toHsl:function(){var At=j(this._r,this._g,this._b);return{h:At.h*360,s:At.s,l:At.l,a:this._a}},toHslString:function(){var At=j(this._r,this._g,this._b),yr=C(At.h*360),$t=C(At.s*100),En=C(At.l*100);return this._a==1?"hsl("+yr+", "+$t+"%, "+En+"%)":"hsla("+yr+", "+$t+"%, "+En+"%, "+this._roundA+")"},toHex:function(At){return me(this._r,this._g,this._b,At)},toHexString:function(At){return"#"+this.toHex(At)},toHex8:function(At){return Oe(this._r,this._g,this._b,this._a,At)},toHex8String:function(At){return"#"+this.toHex8(At)},toRgb:function(){return{r:C(this._r),g:C(this._g),b:C(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+C(this._r)+", "+C(this._g)+", "+C(this._b)+")":"rgba("+C(this._r)+", "+C(this._g)+", "+C(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:C(aa(this._r,255)*100)+"%",g:C(aa(this._g,255)*100)+"%",b:C(aa(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+C(aa(this._r,255)*100)+"%, "+C(aa(this._g,255)*100)+"%, "+C(aa(this._b,255)*100)+"%)":"rgba("+C(aa(this._r,255)*100)+"%, "+C(aa(this._g,255)*100)+"%, "+C(aa(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:So[me(this._r,this._g,this._b,!0)]||!1},toFilter:function(At){var yr="#"+$e(this._r,this._g,this._b,this._a),$t=yr,En=this._gradientType?"GradientType = 1, ":"";if(At){var xi=R(At);$t="#"+$e(xi._r,xi._g,xi._b,xi._a)}return"progid:DXImageTransform.Microsoft.gradient("+En+"startColorstr="+yr+",endColorstr="+$t+")"},toString:function(At){var yr=!!At;At=At||this._format;var $t=!1,En=this._a<1&&this._a>=0,xi=!yr&&En&&(At==="hex"||At==="hex6"||At==="hex3"||At==="hex4"||At==="hex8"||At==="name");return xi?At==="name"&&this._a===0?this.toName():this.toRgbString():(At==="rgb"&&($t=this.toRgbString()),At==="prgb"&&($t=this.toPercentageRgbString()),(At==="hex"||At==="hex6")&&($t=this.toHexString()),At==="hex3"&&($t=this.toHexString(!0)),At==="hex4"&&($t=this.toHex8String(!0)),At==="hex8"&&($t=this.toHex8String()),At==="name"&&($t=this.toName()),At==="hsl"&&($t=this.toHslString()),At==="hsv"&&($t=this.toHsvString()),$t||this.toHexString())},clone:function(){return R(this.toString())},_applyModification:function(At,yr){var $t=At.apply(null,[this].concat([].slice.call(yr)));return this._r=$t._r,this._g=$t._g,this._b=$t._b,this.setAlpha($t._a),this},lighten:function(){return this._applyModification(gr,arguments)},brighten:function(){return this._applyModification(br,arguments)},darken:function(){return this._applyModification(Zr,arguments)},desaturate:function(){return this._applyModification(Ye,arguments)},saturate:function(){return this._applyModification(Ze,arguments)},greyscale:function(){return this._applyModification(Ut,arguments)},spin:function(){return this._applyModification(gn,arguments)},_applyCombination:function(At,yr){return At.apply(null,[this].concat([].slice.call(yr)))},analogous:function(){return this._applyCombination(Pi,arguments)},complement:function(){return this._applyCombination(Kn,arguments)},monochromatic:function(){return this._applyCombination(Dn,arguments)},splitcomplement:function(){return this._applyCombination(gi,arguments)},triad:function(){return this._applyCombination(In,arguments)},tetrad:function(){return this._applyCombination(Xn,arguments)}},R.fromRatio=function(At,yr){if(typeof At=="object"){var $t={};for(var En in At)At.hasOwnProperty(En)&&(En==="a"?$t[En]=At[En]:$t[En]=Tl(At[En]));At=$t}return R(At,yr)};function k(At){var yr={r:0,g:0,b:0},$t=1,En=null,xi=null,Si=null,Vo=!1,_s=!1;return typeof At=="string"&&(At=_A(At)),typeof At=="object"&&(Fp(At.r)&&Fp(At.g)&&Fp(At.b)?(yr=z(At.r,At.g,At.b),Vo=!0,_s=String(At.r).substr(-1)==="%"?"prgb":"rgb"):Fp(At.h)&&Fp(At.s)&&Fp(At.v)?(En=Tl(At.s),xi=Tl(At.v),yr=le(At.h,En,xi),Vo=!0,_s="hsv"):Fp(At.h)&&Fp(At.s)&&Fp(At.l)&&(En=Tl(At.s),Si=Tl(At.l),yr=q(At.h,En,Si),Vo=!0,_s="hsl"),At.hasOwnProperty("a")&&($t=At.a)),$t=zo($t),{ok:Vo,format:At.format||_s,r:x(255,E(yr.r,0)),g:x(255,E(yr.g,0)),b:x(255,E(yr.b,0)),a:$t}}function z(At,yr,$t){return{r:aa(At,255)*255,g:aa(yr,255)*255,b:aa($t,255)*255}}function j(At,yr,$t){At=aa(At,255),yr=aa(yr,255),$t=aa($t,255);var En=E(At,yr,$t),xi=x(At,yr,$t),Si,Vo,_s=(En+xi)/2;if(En==xi)Si=Vo=0;else{var nu=En-xi;switch(Vo=_s>.5?nu/(2-En-xi):nu/(En+xi),En){case At:Si=(yr-$t)/nu+(yr<$t?6:0);break;case yr:Si=($t-At)/nu+2;break;case $t:Si=(At-yr)/nu+4;break}Si/=6}return{h:Si,s:Vo,l:_s}}function q(At,yr,$t){var En,xi,Si;At=aa(At,360),yr=aa(yr,100),$t=aa($t,100);function Vo(cf,by,Ad){return Ad<0&&(Ad+=1),Ad>1&&(Ad-=1),Ad<1/6?cf+(by-cf)*6*Ad:Ad<1/2?by:Ad<2/3?cf+(by-cf)*(2/3-Ad)*6:cf}if(yr===0)En=xi=Si=$t;else{var _s=$t<.5?$t*(1+yr):$t+yr-$t*yr,nu=2*$t-_s;En=Vo(nu,_s,At+1/3),xi=Vo(nu,_s,At),Si=Vo(nu,_s,At-1/3)}return{r:En*255,g:xi*255,b:Si*255}}function ee(At,yr,$t){At=aa(At,255),yr=aa(yr,255),$t=aa($t,255);var En=E(At,yr,$t),xi=x(At,yr,$t),Si,Vo,_s=En,nu=En-xi;if(Vo=En===0?0:nu/En,En==xi)Si=0;else{switch(En){case At:Si=(yr-$t)/nu+(yr<$t?6:0);break;case yr:Si=($t-At)/nu+2;break;case $t:Si=(At-yr)/nu+4;break}Si/=6}return{h:Si,s:Vo,v:_s}}function le(At,yr,$t){At=aa(At,360)*6,yr=aa(yr,100),$t=aa($t,100);var En=s.floor(At),xi=At-En,Si=$t*(1-yr),Vo=$t*(1-xi*yr),_s=$t*(1-(1-xi)*yr),nu=En%6,cf=[$t,Vo,Si,Si,_s,$t][nu],by=[_s,$t,$t,Vo,Si,Si][nu],Ad=[Si,Si,_s,$t,$t,Vo][nu];return{r:cf*255,g:by*255,b:Ad*255}}function me(At,yr,$t,En){var xi=[Ro(C(At).toString(16)),Ro(C(yr).toString(16)),Ro(C($t).toString(16))];return En&&xi[0].charAt(0)==xi[0].charAt(1)&&xi[1].charAt(0)==xi[1].charAt(1)&&xi[2].charAt(0)==xi[2].charAt(1)?xi[0].charAt(0)+xi[1].charAt(0)+xi[2].charAt(0):xi.join("")}function Oe(At,yr,$t,En,xi){var Si=[Ro(C(At).toString(16)),Ro(C(yr).toString(16)),Ro(C($t).toString(16)),Ro(Lh(En))];return xi&&Si[0].charAt(0)==Si[0].charAt(1)&&Si[1].charAt(0)==Si[1].charAt(1)&&Si[2].charAt(0)==Si[2].charAt(1)&&Si[3].charAt(0)==Si[3].charAt(1)?Si[0].charAt(0)+Si[1].charAt(0)+Si[2].charAt(0)+Si[3].charAt(0):Si.join("")}function $e(At,yr,$t,En){var xi=[Ro(Lh(En)),Ro(C(At).toString(16)),Ro(C(yr).toString(16)),Ro(C($t).toString(16))];return xi.join("")}R.equals=function(At,yr){return!At||!yr?!1:R(At).toRgbString()==R(yr).toRgbString()},R.random=function(){return R.fromRatio({r:O(),g:O(),b:O()})};function Ye(At,yr){yr=yr===0?0:yr||10;var $t=R(At).toHsl();return $t.s-=yr/100,$t.s=Wo($t.s),R($t)}function Ze(At,yr){yr=yr===0?0:yr||10;var $t=R(At).toHsl();return $t.s+=yr/100,$t.s=Wo($t.s),R($t)}function Ut(At){return R(At).desaturate(100)}function gr(At,yr){yr=yr===0?0:yr||10;var $t=R(At).toHsl();return $t.l+=yr/100,$t.l=Wo($t.l),R($t)}function br(At,yr){yr=yr===0?0:yr||10;var $t=R(At).toRgb();return $t.r=E(0,x(255,$t.r-C(255*-(yr/100)))),$t.g=E(0,x(255,$t.g-C(255*-(yr/100)))),$t.b=E(0,x(255,$t.b-C(255*-(yr/100)))),R($t)}function Zr(At,yr){yr=yr===0?0:yr||10;var $t=R(At).toHsl();return $t.l-=yr/100,$t.l=Wo($t.l),R($t)}function gn(At,yr){var $t=R(At).toHsl(),En=($t.h+yr)%360;return $t.h=En<0?360+En:En,R($t)}function Kn(At){var yr=R(At).toHsl();return yr.h=(yr.h+180)%360,R(yr)}function In(At){var yr=R(At).toHsl(),$t=yr.h;return[R(At),R({h:($t+120)%360,s:yr.s,l:yr.l}),R({h:($t+240)%360,s:yr.s,l:yr.l})]}function Xn(At){var yr=R(At).toHsl(),$t=yr.h;return[R(At),R({h:($t+90)%360,s:yr.s,l:yr.l}),R({h:($t+180)%360,s:yr.s,l:yr.l}),R({h:($t+270)%360,s:yr.s,l:yr.l})]}function gi(At){var yr=R(At).toHsl(),$t=yr.h;return[R(At),R({h:($t+72)%360,s:yr.s,l:yr.l}),R({h:($t+216)%360,s:yr.s,l:yr.l})]}function Pi(At,yr,$t){yr=yr||6,$t=$t||30;var En=R(At).toHsl(),xi=360/$t,Si=[R(At)];for(En.h=(En.h-(xi*yr>>1)+720)%360;--yr;)En.h=(En.h+xi)%360,Si.push(R(En));return Si}function Dn(At,yr){yr=yr||6;for(var $t=R(At).toHsv(),En=$t.h,xi=$t.s,Si=$t.v,Vo=[],_s=1/yr;yr--;)Vo.push(R({h:En,s:xi,v:Si})),Si=(Si+_s)%1;return Vo}R.mix=function(At,yr,$t){$t=$t===0?0:$t||50;var En=R(At).toRgb(),xi=R(yr).toRgb(),Si=$t/100,Vo={r:(xi.r-En.r)*Si+En.r,g:(xi.g-En.g)*Si+En.g,b:(xi.b-En.b)*Si+En.b,a:(xi.a-En.a)*Si+En.a};return R(Vo)},R.readability=function(At,yr){var $t=R(At),En=R(yr);return(s.max($t.getLuminance(),En.getLuminance())+.05)/(s.min($t.getLuminance(),En.getLuminance())+.05)},R.isReadable=function(At,yr,$t){var En=R.readability(At,yr),xi,Si;switch(Si=!1,xi=dD($t),xi.level+xi.size){case"AAsmall":case"AAAlarge":Si=En>=4.5;break;case"AAlarge":Si=En>=3;break;case"AAAsmall":Si=En>=7;break}return Si},R.mostReadable=function(At,yr,$t){var En=null,xi=0,Si,Vo,_s,nu;$t=$t||{},Vo=$t.includeFallbackColors,_s=$t.level,nu=$t.size;for(var cf=0;cf<yr.length;cf++)Si=R.readability(At,yr[cf]),Si>xi&&(xi=Si,En=R(yr[cf]));return R.isReadable(At,En,{level:_s,size:nu})||!Vo?En:($t.includeFallbackColors=!1,R.mostReadable(At,["#fff","#000"],$t))};var Jn=R.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},So=R.hexNames=no(Jn);function no(At){var yr={};for(var $t in At)At.hasOwnProperty($t)&&(yr[At[$t]]=$t);return yr}function zo(At){return At=parseFloat(At),(isNaN(At)||At<0||At>1)&&(At=1),At}function aa(At,yr){Mu(At)&&(At="100%");var $t=ns(At);return At=x(yr,E(0,parseFloat(At))),$t&&(At=parseInt(At*yr,10)/100),s.abs(At-yr)<1e-6?1:At%yr/parseFloat(yr)}function Wo(At){return x(1,E(0,At))}function Ka(At){return parseInt(At,16)}function Mu(At){return typeof At=="string"&&At.indexOf(".")!=-1&&parseFloat(At)===1}function ns(At){return typeof At=="string"&&At.indexOf("%")!=-1}function Ro(At){return At.length==1?"0"+At:""+At}function Tl(At){return At<=1&&(At=At*100+"%"),At}function Lh(At){return s.round(parseFloat(At)*255).toString(16)}function Dv(At){return Ka(At)/255}var oc=function(){var At="[-\\+]?\\d+%?",yr="[-\\+]?\\d*\\.\\d+%?",$t="(?:"+yr+")|(?:"+At+")",En="[\\s|\\(]+("+$t+")[,|\\s]+("+$t+")[,|\\s]+("+$t+")\\s*\\)?",xi="[\\s|\\(]+("+$t+")[,|\\s]+("+$t+")[,|\\s]+("+$t+")[,|\\s]+("+$t+")\\s*\\)?";return{CSS_UNIT:new RegExp($t),rgb:new RegExp("rgb"+En),rgba:new RegExp("rgba"+xi),hsl:new RegExp("hsl"+En),hsla:new RegExp("hsla"+xi),hsv:new RegExp("hsv"+En),hsva:new RegExp("hsva"+xi),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Fp(At){return!!oc.CSS_UNIT.exec(At)}function _A(At){At=At.replace(i,"").replace(u,"").toLowerCase();var yr=!1;if(Jn[At])At=Jn[At],yr=!0;else if(At=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var $t;return($t=oc.rgb.exec(At))?{r:$t[1],g:$t[2],b:$t[3]}:($t=oc.rgba.exec(At))?{r:$t[1],g:$t[2],b:$t[3],a:$t[4]}:($t=oc.hsl.exec(At))?{h:$t[1],s:$t[2],l:$t[3]}:($t=oc.hsla.exec(At))?{h:$t[1],s:$t[2],l:$t[3],a:$t[4]}:($t=oc.hsv.exec(At))?{h:$t[1],s:$t[2],v:$t[3]}:($t=oc.hsva.exec(At))?{h:$t[1],s:$t[2],v:$t[3],a:$t[4]}:($t=oc.hex8.exec(At))?{r:Ka($t[1]),g:Ka($t[2]),b:Ka($t[3]),a:Dv($t[4]),format:yr?"name":"hex8"}:($t=oc.hex6.exec(At))?{r:Ka($t[1]),g:Ka($t[2]),b:Ka($t[3]),format:yr?"name":"hex"}:($t=oc.hex4.exec(At))?{r:Ka($t[1]+""+$t[1]),g:Ka($t[2]+""+$t[2]),b:Ka($t[3]+""+$t[3]),a:Dv($t[4]+""+$t[4]),format:yr?"name":"hex8"}:($t=oc.hex3.exec(At))?{r:Ka($t[1]+""+$t[1]),g:Ka($t[2]+""+$t[2]),b:Ka($t[3]+""+$t[3]),format:yr?"name":"hex"}:!1}function dD(At){var yr,$t;return At=At||{level:"AA",size:"small"},yr=(At.level||"AA").toUpperCase(),$t=(At.size||"small").toLowerCase(),yr!=="AA"&&yr!=="AAA"&&(yr="AA"),$t!=="small"&&$t!=="large"&&($t="small"),{level:yr,size:$t}}l.exports?l.exports=R:window.tinycolor=R})(Math)})(fy);var ux=fy.exports,IT="#FFFFFF",gM="#000000",RT=[95,85,75,30,15,0,15,30,45,60,80],DT=15,L1=function(l){return ux(l).getLuminance()<=.5},k2=[{fontColorIndex:0,bgColorIndex:3},{fontColorIndex:13,bgColorIndex:8},{fontColorIndex:14,bgColorIndex:1}],jO=function(l){for(var s=[],i=0;i<11;i++){var u=RT[i];s.push(Se(u===0?l:ux.mix(l,i<5?IT:gM,u).toHexString()))}return s},mM=function(l){l===void 0&&(l={});var s=Array.from(Array(DT)).fill(Qv),i=l.basicColorRelations,u=i===void 0?[]:i,g=l.brandColor,C=jO(g);return u.forEach(function(x){s[x.basicColorIndex]=C[x.standardColorIndex]}),k2.forEach(function(x){var E=x.fontColorIndex,O=x.bgColorIndex;s[E]=L1(s[O])?Qv:eC}),ur(ur({},l),{basicColors:s})},yM={brandColor:"#3471F9",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:5},{basicColorIndex:4,standardColorIndex:6},{basicColorIndex:5,standardColorIndex:6},{basicColorIndex:6,standardColorIndex:6},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:4},{basicColorIndex:11,standardColorIndex:4},{basicColorIndex:12,standardColorIndex:5}]},CM=mM(yM),LT={brandColor:"#326EF4",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:5},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:5},{basicColorIndex:12,standardColorIndex:5}]},VO=mM(LT),PT={brandColor:"#9DA7B6",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:8},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:3},{basicColorIndex:12,standardColorIndex:3}]},bM=mM(PT),ts={default:VO,colorful:CM,gray:bM},Ga="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif",Ml=12,Wf={\u5C0F\u8BA1:"\u5C0F\u8BA1",\u603B\u8BA1:"\u603B\u8BA1",\u603B\u548C:"\uFF08\u603B\u548C\uFF09",\u9879:"\u9879",\u5DF2\u9009\u62E9:"\u5DF2\u9009\u62E9",\u5E8F\u53F7:"\u5E8F\u53F7",\u5EA6\u91CF:"\u5EA6\u91CF",\u6570\u503C:"\u6570\u503C",\u5171\u8BA1:"\u5171\u8BA1",\u6761:"\u6761",\u8D8B\u52BF:"\u8D8B\u52BF",\u9690\u85CF:"\u9690\u85CF",\u7EC4\u5185\u5347\u5E8F:"\u7EC4\u5185\u5347\u5E8F",\u5347\u5E8F:"\u5347\u5E8F",\u964D\u5E8F:"\u964D\u5E8F",\u7EC4\u5185\u964D\u5E8F:"\u7EC4\u5185\u964D\u5E8F",\u4E0D\u6392\u5E8F:"\u4E0D\u6392\u5E8F","\uFF0C":"\uFF0C"},Lc={\u5C0F\u8BA1:"Total",\u603B\u8BA1:"Total",\u603B\u548C:"(SUM)",\u9879:"items",\u5DF2\u9009\u62E9:"selected",\u5E8F\u53F7:"Index",\u5EA6\u91CF:"Measure",\u6570\u503C:"Measure",\u5171\u8BA1:"Total",\u6761:"",\u9690\u85CF:"Hide",\u8D8B\u52BF:"Trend",\u7EC4\u5185\u5347\u5E8F:"Group ASC",\u7EC4\u5185\u964D\u5E8F:"Group DESC",\u5347\u5E8F:"ASC",\u964D\u5E8F:"DESC",\u4E0D\u6392\u5E8F:"No order","\uFF0C":", "},fx="zh_CN",P1=fx,hy={zh_CN:Wf,en_US:Lc},wM=function(){return P1},XO=function(l){P1=l||fx},B1=function(l){hy=rM({},hy,l)},hx=function(){return hy},rs=function(l,s){return s===void 0&&(s=l),Mi(hy,[P1,l],s)},ZO="".concat(ed,"-tooltip"),BT="".concat(ZO,"-container"),xM="".concat(BT,"-show"),KO="".concat(BT,"-hide"),zL="".concat(ZO,"-operation"),kT={x:15,y:10},YI=function(){return{key:"hiddenColumns",text:rs("\u9690\u85CF"),icon:"EyeOutlined"}},bR=function(){return{key:"trend",text:rs("\u8D8B\u52BF"),icon:"Trend"}},jI=function(){return[{key:"asc",icon:"groupAsc",text:rs("\u7EC4\u5185\u5347\u5E8F")},{key:"desc",icon:"groupDesc",text:rs("\u7EC4\u5185\u964D\u5E8F")},{key:"none",text:rs("\u4E0D\u6392\u5E8F")}]},qO=function(){return[{key:"asc",icon:"groupAsc",text:rs("\u5347\u5E8F")},{key:"desc",icon:"groupDesc",text:rs("\u964D\u5E8F")},{key:"none",text:rs("\u4E0D\u6392\u5E8F")}]},Md;(function(l){l[l.ALL=0]="ALL",l[l.COL=1]="COL",l[l.ROW=2]="ROW"})(Md||(Md={}));var Td=1;function ic(l){return l==="mobile"?!0:/(iPhone|iPad|SymbianOS|Windows Phone|iPod|iOS|Android)/i.test(navigator.userAgent)}function VI(){return/iPhone/gi.test(navigator.userAgent)&&window.screen.height===812&&window.screen.width===375}function FT(){return/windows/i.test(navigator.userAgent)}var XI=function(l){var s=l||"default";return ts[s.toLowerCase()]},SM=function(l){var s,i,u,g,C,x=(l==null?void 0:l.palette)||XI(l==null?void 0:l.name),E=x.basicColors,O=x.semanticColors,R=x.others,k=(s=l==null?void 0:l.spreadsheet)===null||s===void 0?void 0:s.isTableMode(),z=FT()?"bold":700,j=function(){var q,ee;return{bolderText:{fontFamily:Ga,fontSize:12,fontWeight:z,fill:E[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:E[6]},text:{fontFamily:Ga,fontSize:12,fontWeight:"normal",fill:E[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:E[6]},cell:{crossBackgroundColor:E[1],backgroundColor:E[8],backgroundColorOpacity:1,horizontalBorderColor:E[9],horizontalBorderColorOpacity:1,verticalBorderColor:E[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,borderDash:[],padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:E[2],backgroundOpacity:.6},hoverFocus:{backgroundColor:E[2],backgroundOpacity:.6,borderColor:E[14],borderWidth:1,borderOpacity:1},selected:{backgroundColor:E[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},searchResult:{backgroundColor:(q=R==null?void 0:R.results)!==null&&q!==void 0?q:E[2],backgroundOpacity:1},highlight:{backgroundColor:(ee=R==null?void 0:R.highlight)!==null&&ee!==void 0?ee:E[6],backgroundOpacity:1},prepareSelect:{borderColor:E[14],borderOpacity:1,borderWidth:1}}},miniChart:{line:{point:{size:2.2,fill:E[6],opacity:1},linkLine:{size:1.5,fill:E[6],opacity:.6}},bar:{intervalPadding:4,fill:E[6],opacity:1},bullet:{progressBar:{widthPercent:.6,height:10,innerHeight:6},comparativeMeasure:{width:1,height:12,fill:E[13],opacity:.25},rangeColors:{good:O==null?void 0:O.green,satisfactory:O.yellow,bad:O.red},backgroundColor:"#E9E9E9"},interval:{height:Ml,fill:E[7]}},icon:{fill:E[13],downIconColor:O.red,upIconColor:O.green,size:10,margin:{right:4,left:4}}}};return{cornerCell:{bolderText:{fontFamily:Ga,fontSize:12,fontWeight:z,fill:E[0],opacity:1,textAlign:k?"center":"left",textBaseline:"middle"},text:{fontFamily:Ga,fontSize:12,fontWeight:z,fill:E[0],opacity:1,textAlign:"right",textBaseline:"middle"},cell:{backgroundColor:E[3],backgroundColorOpacity:1,horizontalBorderColor:E[10],horizontalBorderColorOpacity:1,verticalBorderColor:E[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,borderDash:[],padding:{top:0,right:8,bottom:0,left:8}},icon:{fill:E[0],size:10,margin:{right:4,left:4}}},rowCell:{seriesText:{fontFamily:Ga,fontSize:12,fontWeight:"normal",fill:E[14],linkTextFill:E[6],opacity:1,textBaseline:"middle",textAlign:"center"},measureText:{fontFamily:Ga,fontSize:12,fontWeight:"normal",fill:E[14],linkTextFill:E[6],opacity:1,textAlign:k?"center":"left",textBaseline:"top"},bolderText:{fontFamily:Ga,fontSize:12,fontWeight:z,fill:E[14],linkTextFill:E[6],opacity:1,textAlign:k?"center":"left",textBaseline:"top"},text:{fontFamily:Ga,fontSize:12,fontWeight:"normal",fill:E[14],linkTextFill:E[6],opacity:1,textBaseline:"top",textAlign:k?"center":"left"},cell:{backgroundColor:E[1],backgroundColorOpacity:1,horizontalBorderColor:E[9],horizontalBorderColorOpacity:1,verticalBorderColor:E[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,borderDash:[],padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:E[2],backgroundOpacity:.6},selected:{backgroundColor:E[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:E[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:(i=R==null?void 0:R.results)!==null&&i!==void 0?i:E[2],backgroundOpacity:1},highlight:{backgroundColor:(u=R==null?void 0:R.highlight)!==null&&u!==void 0?u:E[6],backgroundOpacity:1}}},icon:{fill:E[14],size:10,margin:{right:4,left:4}},seriesNumberWidth:80},colCell:{measureText:{fontFamily:Ga,fontSize:12,fontWeight:"normal",fill:E[0],opacity:1,textAlign:"right",textBaseline:"middle"},bolderText:{fontFamily:Ga,fontSize:12,fontWeight:z,fill:E[0],opacity:1,textAlign:"center",textBaseline:"middle"},text:{fontFamily:Ga,fontSize:12,fontWeight:"normal",fill:E[0],opacity:1,textAlign:"center",textBaseline:"middle"},cell:{backgroundColor:E[3],backgroundColorOpacity:1,horizontalBorderColor:E[10],horizontalBorderColorOpacity:1,verticalBorderColor:E[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,borderDash:[],padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:E[4],backgroundOpacity:.6},selected:{backgroundColor:E[4],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:E[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:(g=R==null?void 0:R.results)!==null&&g!==void 0?g:E[2],backgroundOpacity:1},highlight:{backgroundColor:(C=R==null?void 0:R.highlight)!==null&&C!==void 0?C:E[6],backgroundOpacity:1}}},icon:{fill:E[0],size:10,margin:{top:6,right:4,bottom:6,left:4}}},dataCell:j(),mergedCell:j(),resizeArea:{size:3,background:E[7],backgroundOpacity:0,guideLineColor:E[7],guideLineDisableColor:"rgba(0,0,0,0.25)",guideLineDash:[3,3],interactionState:{hover:{backgroundColor:E[7],backgroundOpacity:1}}},scrollBar:{trackColor:"rgba(0,0,0,0.01)",thumbHoverColor:"rgba(0,0,0,0.25)",thumbColor:"rgba(0,0,0,0.15)",thumbHorizontalMinSize:32,thumbVerticalMinSize:32,size:ic()?3:6,hoverSize:ic()?4:8,lineCap:"round"},splitLine:{horizontalBorderColor:E[12],horizontalBorderColorOpacity:.2,horizontalBorderWidth:2,verticalBorderColor:E[11],verticalBorderColorOpacity:.25,verticalBorderWidth:2,showShadow:!0,shadowWidth:8,shadowColors:{left:"rgba(0,0,0,0.1)",right:"rgba(0,0,0,0)"},borderDash:[]},prepareSelectMask:{backgroundColor:E[5],backgroundOpacity:.3},background:{color:E[8],opacity:1}}},Pc=function(){function l(s){this.x=0,this.y=0,this.width=0,this.height=0,this.colIndex=-1,this.level=0,this.isLeaf=!1,this.children=[],this.padding=0;var i=s.id,u=s.key,g=s.value,C=s.label,x=s.parent,E=s.level,O=s.rowIndex,R=s.isTotals,k=s.isGrandTotals,z=s.isSubTotals,j=s.isCollapsed,q=s.isTotalRoot,ee=s.hierarchy,le=s.isPivotMode,me=s.seriesNumberWidth,Oe=s.field,$e=s.spreadsheet,Ye=s.query,Ze=s.belongsCell,Ut=s.inCollapseNode,gr=s.isTotalMeasure,br=s.isLeaf,Zr=s.extra;this.id=i,this.key=u,this.value=g,this.label=C||g,this.parent=x,this.level=E,this.rowIndex=O,this.isTotals=R,this.isCollapsed=j,this.hierarchy=ee,this.isPivotMode=le,this.seriesNumberWidth=me,this.field=Oe,this.spreadsheet=$e,this.query=Ye,this.belongsCell=Ze,this.inCollapseNode=Ut,this.isTotalMeasure=gr,this.isLeaf=br,this.isGrandTotals=k,this.isSubTotals=z,this.isTotalRoot=q,this.extra=Zr}return l.getFieldPath=function(s,i){if(s&&!s.isTotals||s&&i){for(var u=s.parent,g=[s.field];u&&u.id!==Uo;)g.push(u.field),u=u.parent;return g.reverse()}return[]},l.getAllLeaveNodes=function(s){var i=[];if(s.isLeaf)return[s];for(var u=en([],Br(s.children),!1),g=u.shift();g;)g.isLeaf?i.push(g):u.unshift.apply(u,en([],Br(g.children),!1)),g=u.shift();return i},l.getAllChildrenNodes=function(s){var i=[];if(s.isLeaf)return[s];for(var u=en([],Br(s.children||[]),!1),g=u.shift();g;)i.push(g),u.unshift.apply(u,en([],Br(g.children),!1)),g=u.shift();return i},l.getAllBranch=function(s){for(var i=[],u=this.getAllLeaveNodes(s),g=u.shift(),C=[];g;){C.unshift(g);for(var x=g.parent;x&&!sf(x,s);){C.unshift(x);x=x.parent}i.push(C),g=u.shift(),C=[]}return i},l.blankNode=function(){return new l({id:"",key:"",value:""})},l.rootNode=function(){return new l({id:"root",key:"",value:""})},l.prototype.toJSON=function(){return SO(this,["config","hierarchy","parent","spreadsheet"])},l.prototype.getHeadLeafChild=function(){for(var s=this;!zn(s.children);)s=te(s.children);return s},l.prototype.getTotalHeightForTreeHierarchy=function(){return this.height===0||zn(this.children)?this.height:this.children.reduce(function(s,i){return s+i.getTotalHeightForTreeHierarchy()},this.height)},l}(),ZI=function(){function l(){this.width=0,this.height=0,this.maxLevel=-1,this.sampleNodesForAllLevels=[],this.sampleNodeForLastLevel=null,this.allNodesWithoutRoot=[],this.indexNode=[]}return l.prototype.getLeaves=function(){return this.allNodesWithoutRoot.filter(function(s){return s.isLeaf})},l.prototype.getNodes=function(s){return s!==void 0?this.allNodesWithoutRoot.filter(function(i){return i.level===s}):this.allNodesWithoutRoot},l.prototype.getNodesLessThanLevel=function(s){return this.allNodesWithoutRoot.filter(function(i){return i.level<=s})},l.prototype.pushNode=function(s,i){i===void 0&&(i=-1),i===-1?this.allNodesWithoutRoot.push(s):this.allNodesWithoutRoot.splice(i,0,s)},l.prototype.pushIndexNode=function(s){this.indexNode.push(s)},l.prototype.getIndexNodes=function(){return this.indexNode},l}(),Zn=function(){function l(s){var i=s.label,u=s.isSubTotals,g=s.isGrandTotals,C=s.isTotalRoot;this.label=i,this.isSubTotals=u,this.isGrandTotals=g,this.isTotalRoot=C}return l}(),ui=function(l){var s,i=l.isFirstField,u=l.currentField,g=l.fieldValues,C=l.spreadsheet,x=l.lastField,E=C.getTotalsConfig(i?u:x),O,R;i?E!=null&&E.showGrandTotals&&(O=E.reverseLayout?"unshift":"push",R=new Zn({label:E.label,isSubTotals:!1,isGrandTotals:!0,isTotalRoot:!0})):E!=null&&E.showSubTotals&&(Je.size(g)>1||Je.get(E,"showSubTotals.always")!==!1)&&u!==ra&&(O=E.reverseSubLayout?"unshift":"push",R=new Zn({label:E.subLabel,isSubTotals:!0,isGrandTotals:!1,isTotalRoot:!0})),(s=g[O])===null||s===void 0||s.call(g,R)};function ro(l,s){for(var i={},u=l;u&&u.key;)(!u.isTotalRoot||s)&&u.value!==Zv&&(i[u.key]=u.value),u=u.parent;return i}var $a=function(l,s,i,u){return s.layoutArrange?s.layoutArrange(s.spreadsheet,i,u,l):l},Zl=function(l,s,i,u){var g,C,x=(C=(g=l.spreadsheet)===null||g===void 0?void 0:g.facet)===null||C===void 0?void 0:C.getHiddenColumnsInfo(i);if(x&&l.columns.find(function(le){return le===i.field}))return!1;var E=!0,O=function(le,me,Oe){me===void 0&&(me=-1),Oe===void 0&&(Oe=-1),me===-1?(s.children.push(le),u.pushNode(le)):(s.children.splice(me,0,le),u.pushNode(le,Oe))};if(l.layoutHierarchy){var R=l.layoutHierarchy(l.spreadsheet,i);if(R){var k=xv(R==null?void 0:R.delete)?R==null?void 0:R.delete:!1;E=!k;var z=R.push,j=R.unshift,q=s.children.length,ee=u.getNodes().length;zn(j)||(Xi(j,function(le){O(le)}),q=s.children.length,ee=u.getNodes().length),zn(z)||Xi(z,function(le){O(le)}),k||O(i,q,ee)}else O(i)}else O(i);return E},Bc=function(l,s,i){l!=null&&l.layoutCoordinate&&(s!=null&&s.isLeaf||i!=null&&i.isLeaf)&&(l==null||l.layoutCoordinate(l.spreadsheet,s,i))},s0=function(l,s){var i=l==null?void 0:l.layoutDataPosition;if(i){var u=s.getCellMeta,g=i(l.spreadsheet,u);return ur(ur({},s),{getCellMeta:g})}return s},Tv=function(){function l(s){this.label=s}return l}(),Ov="Transform Data",ac="Header Layout",wR="Data Cell Render",u0=function(){function l(){var s=this;this.debug=!1,this.debugCallback=function(i,u){if(s.debug){var g=performance.now();u();var C=performance.now();console.log(i,"".concat(C-g," ms"))}else u()},this.logger=function(i){for(var u=[],g=1;g<arguments.length;g++)u[g-1]=arguments[g];s.debug&&console.log.apply(console,en([i],Br(u),!1))}}return l.getInstance=function(){return l.instance||(l.instance=new l),l.instance},l.prototype.setDebug=function(s){this.debug=s},l}(),QO=`
<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">
    <text id="\u2193" fill="#29A294">
        <tspan x="-0.225097656" y="8.5">\u2193</tspan>
    </text>
</g>
</svg>`,JO=`<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">
    <text id="\u2191" fill="#FF4D4F">
        <tspan x="-0.225097656" y="8.5">\u2191</tspan>
    </text>
</g>
</svg>
`,eA=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 58 (84663) - https://sketch.com -->
    <title>down</title>
    <desc>Created with Sketch.</desc>
    <g id="\u4E00\u671F\u5F00\u53D1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polygon id="down" fill="#58AE57" transform="translate(3.500000, 4.500000) scale(1, -1) translate(-3.500000, -4.500000) " points="3.5 0 7 9 0 9"></polygon>
    </g>
</svg>`,tA=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 58 (84663) - https://sketch.com -->
    <title>up</title>
    <desc>Created with Sketch.</desc>
    <g id="\u4E00\u671F\u5F00\u53D1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polygon id="up" fill="#F46649" points="3.5 0 7 9 0 9"></polygon>
    </g>
</svg> `,rA=`<svg t="1557124621626" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
xmlns="http://www.w3.org/2000/svg" p-id="17452"
xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">
<defs>
  <style type="text/css"></style>
</defs>
<path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 626.944h176c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8h-176A8 8 0 0 1 384 857.984v-56c0-4.416 3.584-8 8-8z m0-424h368c4.416 0 8 3.648 8 8v56a8 8 0 0 1-8 8h-368A8 8 0 0 1 384 433.984v-56c0-4.352 3.584-8 8-8z m528-139.968h-528A8 8 0 0 1 384 222.016v-56c0-4.416 3.584-8 8-8h528c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z m-256 424h-272A8 8 0 0 1 384 646.016v-56c0-4.416 3.584-8 8-8h272c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z" p-id="17453"></path>
</svg>`,nA=`<svg t="1557124685600" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" p-id="17561"
  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h176A8 8 0 0 0 576 222.016v-56a8 8 0 0 0-8-8h-176A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h368a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-368A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m-256-424h-272A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h272a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17562"></path>
</svg>`,iA=`<svg t="1557124695786" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" p-id="17670"
  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 62.976h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17671"></path>
</svg>`,aA=`<svg t="1557124710652" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" p-id="17779"
  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17780"></path>
</svg>`,dy=`<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="\u8BBE\u8BA1\u8F93\u51FA" stroke="none" stroke-width="1" fill-opacity="0.25" fill-rule="evenodd">
    <g id="\u8BBE\u8BA1\u8F93\u51FA-\u79FB\u52A8\u7AEF\u6307\u6807\u8BE6\u60C5\u9875-\u9605\u8BFB\u7AEF" transform="translate(-3275.000000, -724.000000)" fill-rule="nonzero">
        <g id="\u7F16\u7EC4-39" transform="translate(3064.500000, 667.000000)">
            <g id="\u7F16\u7EC4-36" transform="translate(80.500000, 44.000000)">
                <g id="\u4E0D\u6392\u5E8F" transform="translate(130.000000, 13.000000)">
                    <path d="M12.0009375,12.40625 C12.0696875,12.40625 12.1259375,12.4625 12.1259375,12.53125 L12.1259375,12.53125 L12.1259375,13.40625 C12.1259375,13.475 12.0696875,13.53125 12.0009375,13.53125 L12.0009375,13.53125 L6.25093747,13.53125 C6.18218747,13.53125 6.12593747,13.475 6.12593747,13.40625 L6.12593747,13.40625 L6.12593747,12.53125 C6.12593747,12.4625 6.18218747,12.40625 6.25093747,12.40625 L6.25093747,12.40625 Z M2.93949997,2.5801875 L2.97437497,2.6109375 L4.72437497,4.828125 C4.78062497,4.89776786 4.74503823,4.99725765 4.66779698,5.02426203 L4.62593747,5.03125 L3.438,5.03089062 L3.43843747,10.9691406 L4.62593747,10.9691406 C4.73062497,10.9691406 4.78999997,11.0910156 4.72437497,11.1722656 L2.97437497,13.3894531 C2.92437497,13.4535156 2.82749997,13.4535156 2.77749997,13.3894531 L1.02749997,11.1722656 C0.961874969,11.0894531 1.02124997,10.9691406 1.12593747,10.9691406 L2.31343747,10.9691406 L2.313,5.03089062 L1.12593747,5.03125 C1.03620533,5.03125 0.979764,4.94285714 1.00679571,4.8654519 L1.02749997,4.828125 L2.77749997,2.6109375 C2.81749997,2.5596875 2.88749997,2.5494375 2.93949997,2.5801875 Z M10.5009375,9.09375 C10.5696875,9.09375 10.6259375,9.15 10.6259375,9.21875 L10.6259375,9.21875 L10.6259375,10.09375 C10.6259375,10.1625 10.5696875,10.21875 10.5009375,10.21875 L10.5009375,10.21875 L6.25093747,10.21875 C6.18218747,10.21875 6.12593747,10.1625 6.12593747,10.09375 L6.12593747,10.09375 L6.12593747,9.21875 C6.12593747,9.15 6.18218747,9.09375 6.25093747,9.09375 L6.25093747,9.09375 Z M14.5009375,5.78125 C14.5696875,5.78125 14.6259375,5.8375 14.6259375,5.90625 L14.6259375,5.90625 L14.6259375,6.78125 C14.6259375,6.85 14.5696875,6.90625 14.5009375,6.90625 L14.5009375,6.90625 L6.25093747,6.90625 C6.18218747,6.90625 6.12593747,6.85 6.12593747,6.78125 L6.12593747,6.78125 L6.12593747,5.90625 C6.12593747,5.8375 6.18218747,5.78125 6.25093747,5.78125 L6.25093747,5.78125 Z M9.00093747,2.46875 C9.06968747,2.46875 9.12593747,2.525 9.12593747,2.59375 L9.12593747,2.59375 L9.12593747,3.46875 C9.12593747,3.5375 9.06968747,3.59375 9.00093747,3.59375 L9.00093747,3.59375 L6.25093747,3.59375 C6.18218747,3.59375 6.12593747,3.5375 6.12593747,3.46875 L6.12593747,3.46875 L6.12593747,2.59375 C6.12593747,2.525 6.18218747,2.46875 6.25093747,2.46875 L6.25093747,2.46875 Z" id="\u5F62\u72B6\u7ED3\u5408"></path>
                </g>
            </g>
        </g>
    </g>q
</g>
</svg>`,F2='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1590389330617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19656" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M512 64c-247.4 0-448 200.6-448 448s200.6 448 448 448 448-200.6 448-448-200.6-448-448-448z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="" p-id="19657"></path><path d="M464 336c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zM536 448h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-272c0-4.4-3.6-8-8-8z" fill="" p-id="19658"></path></svg>',N2=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="23px" height="12px" viewBox="0 0 23 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>\u7F16\u7EC4 8\u5907\u4EFD 3</title>
    <g id="----\u9690\u85CF\u5217\u6807\u6CE8\uFF01" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="\u9690\u85CF\u5217\u6807\u6CE8" transform="translate(-275.000000, -824.000000)">
            <rect fill="#FFFFFF" x="0" y="0" width="1333" height="1167"></rect>
            <g id="\u7F16\u7EC4-8\u5907\u4EFD-3" transform="translate(275.000000, 824.000000)">
                <rect id="\u77E9\u5F62" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="0.5" y="0.5" width="11" height="11"></rect>
                <rect id="\u77E9\u5F62\u5907\u4EFD-9" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="11.5" y="0.5" width="11" height="11"></rect>
                <g id="7.Icon/arrow/15.down/fill" transform="translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) " fill="#000000" fill-rule="nonzero" opacity="0.65">
                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>
                </g>
                <g id="7.Icon/arrow/15.down/fill" transform="translate(17.000000, 6.000000) rotate(270.000000) translate(-17.000000, -6.000000) translate(11.000000, 0.000000)" fill="#000000" fill-rule="nonzero" opacity="0.65">
                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>
                </g>
            </g>
            <line x1="286.5" y1="813" x2="286.5" y2="864.5" id="\u8DEF\u5F84-2\u5907\u4EFD-3" stroke="#000000" opacity="0.25"></line>
        </g>
    </g>
</svg>`,oA=`<svg t="1557140120188" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
xmlns="http://www.w3.org/2000/svg" p-id="16909" xmlns:xlink="http://www.w3.org/1999/xlink"
width="200" height="200">
	<defs>
		<style type="text/css">
		</style>
	</defs>
	<path d="M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"
	p-id="16910">
	</path>
	<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"
	p-id="16911">
	</path>
</svg>`,L5=`<svg t="1557140186692" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
xmlns="http://www.w3.org/2000/svg" p-id="17025" xmlns:xlink="http://www.w3.org/1999/xlink"
width="200" height="200">
	<defs>
		<style type="text/css">
		</style>
	</defs>
	<path d="M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"
	p-id="17026">
	</path>
	<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"
	p-id="17027">
	</path>
</svg>`,P5=`<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path
    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"
    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>
</svg>
`,B5=`<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path
    fill-opacity="0.45"
    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"
    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>
</svg>
`,k5=`<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
<defs>
<style type="text/css"></style>
</defs>
<path
d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"
p-id="17621"></path>
</svg>
`,F5=`<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
     p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path
    fill-opacity="0.45"
    d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"
    p-id="17621"></path>
</svg>
`,N5='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1596433821690" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20229" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6c-3.1-3.1-8.2-3.1-11.3 0l-230 229.9L461.4 404c-3.1-3.1-8.2-3.1-11.3 0L266.3 586.7c-3.1 3.1-3.1 8.2 0 11.3l39.5 39.7z" p-id="20230"></path></svg>',H5=`<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1608030723688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21482" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M547.648 696a32 32 0 0 1 31.488 26.24l0.512 5.76v151.68l145.216-144.512a32 32 0 0 1 40.832-3.648l4.416 3.712a32 32 0 0 1 3.584 40.832l-3.712 4.48-203.072 202.24a32 32 0 0 1-40.768 3.648l-4.416-3.712-202.24-202.24a32 32 0 0 1 40.832-48.96l4.416 3.712 150.912 150.912v-158.144a32 32 0 0 1 32-32z m194.56-529.28l4.928 3.072 233.792 180.224a32 32 0 0 1 1.728 49.28l-4.864 3.52-409.792 245.568a32 32 0 0 1-27.328 2.624l-5.184-2.432-422.4-245.568a32 32 0 0 1-7.552-49.28l4.544-4.032 242.816-180.288a32 32 0 0 1 42.432 47.552l-4.288 3.84-203.84 151.296 364.16 211.648 353.28-211.712-196.608-151.552a32 32 0 0 1-8.896-40l3.136-4.864a32 32 0 0 1 40-8.96zM547.712 28.672a32 32 0 0 1 31.488 26.24l0.512 5.76v396.992a32 32 0 0 1-63.488 5.76l-0.512-5.76V60.736a32 32 0 0 1 32-32z" p-id="21483" fill="currentColor"></path></svg>
`,z5='<svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg>',WL=Object.freeze({__proto__:null,ArrowDown:QO,ArrowUp:JO,CellDown:eA,CellUp:tA,GlobalAsc:rA,GlobalDesc:nA,GroupAsc:iA,GroupDesc:aA,GroupNone:dy,Minus:oA,Plus:L5,SortDown:B5,SortUp:F5,SortDownSelected:P5,SortUpSelected:k5,InfoCircle:F2,ExpandColIcon:N2,Trend:N5,DrillDownIcon:H5,EyeOutlined:z5}),GL={},xR=function(l,s){GL[GA(l)]=s},$L=function(l){return GL[GA(l)]};Aa(WL).forEach(function(l){xR(l,WL[l])});var UL="<svg",YL="data:image/svg+xml",jL={},lA=function(l){Ni(s,l);function s(i){var u=l.call(this,i)||this;return u.isOnlineLink=function(g){return/^(https?:)?(\/\/)/.test(g)},u.render(),u}return s.prototype.getImage=function(i,u,g){var C=this;return new Promise(function(x,E){var O=$L(i);if(O){var R=new Image;R.onload=function(){jL[u]=R,x(R)},R.onerror=E,O.includes(YL)||C.isOnlineLink(O)?R.src=O:(g&&(O=O.replace(/fill=[\'\"]#?\w+[\'\"]/g,""),O=O.replace(/fill>/g,">")),O=O.replace(UL,"".concat(UL,' fill="').concat(g,'"')),R.src="".concat(YL,";utf-8,").concat(encodeURIComponent(O)))}})},s.prototype.render=function(){var i=this.cfg,u=i.name,g=i.fill,C=wd(this.cfg),x=ur(ur({},SO(C,"fill")),{type:s.type}),E=new Di({attrs:x});this.iconImageShape=E,this.setImageAttrs({name:u,fill:g})},s.prototype.setImageAttrs=function(i){var u=this,g=i.name,C=i.fill,x=this.iconImageShape;g=g||x.attrs.name,C=C||x.attrs.fill;var E="".concat(g,"-").concat(C),O=jL[E];O?(x.attr("img",O),this.addShape("image",x)):this.getImage(g,E,C).then(function(R){u.destroyed||(x.attr("img",R),u.addShape("image",x))}).catch(function(R){console.error("GuiIcon ".concat(g," load failed"),R)})},s.type="__GUI_ICON__",s}(pl),Yu;(function(l){l.TOP="TOP",l.BOTTOM="BOTTOM",l.LEFT="LEFT",l.RIGHT="RIGHT"})(Yu||(Yu={}));var NT;(function(l){l.SUM="SUM",l.MIN="MIN",l.MAX="MAX",l.AVG="AVG"})(NT||(NT={}));var c0;(function(l){l.Row="row",l.Col="col",l.Series="series"})(c0||(c0={}));var W5=function(){function l(){this.store=new Map}return l.prototype.set=function(s,i){return this.store.set(s,i)},l.prototype.get=function(s,i){var u,g=this.store.get(s);return(u=g)!==null&&u!==void 0?u:i},l.prototype.clear=function(){this.store.clear()},l.prototype.size=function(){return this.store.size},l}(),KI=function(l){var s,i,u=l.facetCfg,g=l.level,C=l.fields,x=u.colCfg,E=u.spreadsheet,O=u.dataSet,R=O.moreThanOneValue(),k=(i=(s=E.dataCfg.fields)===null||s===void 0?void 0:s.valueInCols)!==null&&i!==void 0?i:!0,z=(x==null?void 0:x.hideMeasureColumn)&&k&&!R&&Mh(C,ra),j=z?2:1;return g===C.length-j},VL=function(l){var s=l.addTotalMeasureInTotal,i=l.parentNode,u=l.currentField,g=l.fields,C=l.facetCfg,x=l.hierarchy,E=g.indexOf(u),O=C.dataSet,R=C.values,k=C.spreadsheet,z=[],j={},q=k.getTotalsConfig(u),ee=i.isGrandTotals?q.totalsGroupDimensions:q.subTotalsGroupDimensions;if(ee!=null&&ee.includes(u)){j=ro(i);var le=O.getTotalDimensionValues(u,j);z.push.apply(z,en([],Br((le||[]).map(function(Oe){return new Zn({label:Oe,isSubTotals:i.isSubTotals,isGrandTotals:i.isGrandTotals,isTotalRoot:!1})})),!1)),zn(z)&&u&&z.push(Zv)}else if(s&&u===ra)j=ro(i),z.push.apply(z,en([],Br(R.map(function(Oe){return new Tv(Oe)})),!1));else if(KI({facetCfg:C,level:E,fields:g})){i.isLeaf=!0,x.pushIndexNode(i),i.rowIndex=x.getIndexNodes().length-1;return}else{VL(ur(ur({},l),{currentField:g[E+1]}));return}var me=z.filter(function(Oe){return!Oh(Oe)});SR(ur(ur({},l),{fieldValues:me,level:E,parentNode:i,query:j}))},G5=function(l){var s,i=l.parentNode,u=l.currentField,g=l.fields,C=l.facetCfg,x=g.indexOf(u),E=C.dataSet,O=C.spreadsheet,R=[],k={};k=ro(i,!0);var z=E.getDimensionValues(u,k),j=$a(z,C,i,u);R.push.apply(R,en([],Br(j||[]),!1)),zn(R)&&u&&(u===ra?R.push.apply(R,en([],Br((s=E.fields)===null||s===void 0?void 0:s.values),!1)):R.push(Zv)),ui({currentField:u,lastField:g[x-1],isFirstField:x===0,fieldValues:R,spreadsheet:O});var q=R.filter(function(ee){return!Oh(ee)});SR(ur(ur({},l),{fieldValues:q,level:x,parentNode:i,query:k}))},XL=function(l){l.parentNode.isTotals?VL(l):G5(l)},HT=function(l,s){return"".concat(l).concat(zl).concat(s)},SR=function(l){var s,i,u,g,C,x,E,O,R,k,z=l.currentField,j=l.fields,q=l.fieldValues,ee=l.facetCfg,le=l.hierarchy,me=l.parentNode,Oe=l.level,$e=l.query,Ye=l.addMeasureInTotalQuery,Ze=l.addTotalMeasureInTotal,Ut=ee.spreadsheet,gr=ee.collapsedCols;try{for(var br=Ls(q.entries()),Zr=br.next();!Zr.done;Zr=br.next()){var gn=Br(Zr.value,2),Kn=gn[0],In=gn[1],Xn=In instanceof Zn,gi=In instanceof Tv,Pi=void 0,Dn=void 0,Jn=!1,So=!1,no=!1,zo=!1,aa=z;if(Xn){var Wo=In;So=Wo.isGrandTotals,no=Wo.isSubTotals,zo=Wo.isTotalRoot,Pi=rs(In.label),zo?Dn=$e:Dn=ur(ur({},$e),(u={},u[z]=Pi,u)),Ye&&(Dn[ra]=(E=Ut==null?void 0:Ut.dataSet)===null||E===void 0?void 0:E.fields.values[0]),Jn=KI({facetCfg:ee,level:Oe,fields:j})}else gi?(Pi=rs(In.label),Dn=ur(ur({},$e),(g={},g[ra]=Pi,g)),aa=ra,So=me.isGrandTotals,no=me.isSubTotals,Jn=KI({facetCfg:ee,level:Oe,fields:j})):Ut.isTableMode()?(Pi=In,aa=j[Kn],Dn=ur(ur({},$e),(C={},C[aa]=Pi,C)),Jn=!0):(Pi=In,Dn=Pi===Zv?ur({},$e):ur(ur({},$e),(x={},x[z]=Pi,x)),Jn=KI({facetCfg:ee,level:Oe,fields:j}));var Ka=HT(me.id,Pi);if(!Ka)return;var Mu=xv(gr==null?void 0:gr[Ka])?gr==null?void 0:gr[Ka]:!1,ns=new Pc({id:Ka,key:aa,value:Pi,level:Oe,field:aa,parent:me,isTotals:Xn||gi,isGrandTotals:So,isSubTotals:no,isTotalMeasure:gi,isCollapsed:Mu,isTotalRoot:zo,hierarchy:le,query:Dn,spreadsheet:Ut,isLeaf:Jn||Mu}),Ro=Zl(ee,me,ns,le),Tl=(O=Ut==null?void 0:Ut.facet)===null||O===void 0?void 0:O.getHiddenColumnsInfo(ns);Tl&&me&&(me.hiddenChildNodeInfo=Tl),Oe>le.maxLevel&&!So&&!me.isGrandTotals&&!me.isSubTotals&&!ns.isSubTotals&&(le.sampleNodesForAllLevels.push(ns),le.maxLevel=Oe,le.sampleNodeForLastLevel=Tl?((R=Tl==null?void 0:Tl.displaySiblingNode)===null||R===void 0?void 0:R.next)||((k=Tl==null?void 0:Tl.displaySiblingNode)===null||k===void 0?void 0:k.prev):ns);var Lh=Jn||Mu||!Ro;Lh?(ns.isLeaf=!0,le.pushIndexNode(ns),ns.rowIndex=le.getIndexNodes().length-1):XL({addTotalMeasureInTotal:Ze,addMeasureInTotalQuery:Ye,parentNode:ns,currentField:j[Oe+1],fields:j,facetCfg:ee,hierarchy:le})}}catch(Dv){s={error:Dv}}finally{try{Zr&&!Zr.done&&(i=br.return)&&i.call(br)}finally{if(s)throw s.error}}},ZL=function(l,s,i,u){var g=s.facetCfg,C=s.hierarchy,x=s.parentNode,E=g.dataSet;l.forEach(function(O,R){typeof O=="string"&&(O={key:O});var k=O.key,z=k===Zh?rs("\u5E8F\u53F7"):E.getFieldName(k),j=u||x;if(SR({currentField:k,fields:[k],fieldValues:[z],facetCfg:g,hierarchy:C,parentNode:j,level:i,query:{},addMeasureInTotalQuery:!1,addTotalMeasureInTotal:!1}),O.children&&O.children.length){var q=j.children[R];q.isLeaf=!1,ZL(O.children,s,i+1,q)}})},_M=function(l,s){return s>0&&l<s},EM=function(l,s,i){return s>0&&l>=i-s},qI=function(l,s,i){return i>0&&l<s+i},sA=function(l,s,i){return i>0&&l>=s+1-i},_R=function(l,s,i,u,g,C){var x=c(i,function(z,j){var q=l-(ru(C)?0:C)+g.x;return q>=z&&q<i[j+1]},0);x=Math.max(x,0);var E=c(i,function(z,j){var q=g.width+l+g.x;return q>=z&&q<i[j+1]},x);E=Math.min(E===-1?1/0:E,i.length-2);var O=u.getIndexRange(s+g.y,g.height+s+g.y),R=O.start,k=O.end;return[x,E,R,k]},$5=function(l,s,i){var u=2,g=Math.abs(l/s),C=g<=1/u?0:l,x=g>u?0:s;return[C*i.horizontal,x*i.vertical]},H2=function(l,s,i){var u,g,C=l==null?void 0:l.getMatrix(),x=(u=C==null?void 0:C[6])!==null&&u!==void 0?u:0,E=(g=C==null?void 0:C[7])!==null&&g!==void 0?g:0;l==null||l.translate(s-x,i-E)},ER=function(l,s){var i,u=l==null?void 0:l.getMatrix(),g=(i=u==null?void 0:u[6])!==null&&i!==void 0?i:0;l==null||l.translate(s-g,0)},U5=function(l,s){var i,u=l==null?void 0:l.getMatrix(),g=(i=u==null?void 0:u[7])!==null&&i!==void 0?i:0;l==null||l.translate(0,s-g)},Y5=function(l,s,i,u){var g=s.frozenColCount,C=s.frozenRowCount,x=s.frozenTrailingColCount,E=s.frozenTrailingRowCount,O=l.colIndex,R=l.rowIndex;return qI(R,u.start,C)?Xo.ROW:sA(R,u.end,E)?Xo.TRAILING_ROW:_M(O,g)?Xo.COL:EM(O,x,i)?Xo.TRAILING_COL:Xo.SCROLL},j5=function(l,s,i){for(var u,g=l.frozenColCount,C=l.frozenRowCount,x=l.frozenTrailingColCount,E=l.frozenTrailingRowCount,O=(u={},u[Xo.TOP]=[],u[Xo.BOTTOM]=[],u),R=0;R<g;R++){for(var k=i.start;k<i.start+C;k++)O[Xo.TOP].push({x:R,y:k});if(E>0)for(var k=0;k<E;k++){var z=i.end-k;O[Xo.BOTTOM].push({x:R,y:z})}}for(var R=0;R<x;R++){for(var j=s-1-R,k=i.start;k<i.start+C;k++)O[Xo.TOP].push({x:j,y:k});if(E>0)for(var k=0;k<E;k++){var z=i.end-k;O[Xo.BOTTOM].push({x:j,y:z})}}return O},V5=function(l,s,i,u){var g=s.frozenColCount,C=s.frozenRowCount,x=s.frozenTrailingColCount,E=s.frozenTrailingRowCount,O=en([],Br(l),!1);_M(O[0],g)&&(O[0]=g),EM(O[1],x,i)&&(O[1]=i-x-1),qI(O[2],u.start,C)&&(O[2]=u.start+C),sA(O[3],u.end,E)&&(O[3]=u.end-E);var R=en([],Br(O),!1);R[2]=u.start,R[3]=u.start+C-1;var k=en([],Br(O),!1);k[0]=0,k[1]=g-1;var z=en([],Br(O),!1);z[2]=u.end+1-E,z[3]=u.end;var j=en([],Br(O),!1);return j[0]=i-x,j[1]=i-1,{center:O,frozenRow:R,frozenCol:k,frozenTrailingCol:j,frozenTrailingRow:z}},X5=function(l,s){var i=l,u=0,g=i.getTotalLength()-1;if(s){var C=s.current,x=C===void 0?Td:C,E=s.pageSize;u=Math.max((x-1)*E,0),g=Math.min(x*E-1,i.getTotalLength()-1)}return{start:u,end:g}},uA=function(l,s,i){var u=s,g=i,C=function(x){return x.isLeaf?1:x.children?x.children.reduce(function(E,O){return E+=C(O),E},0):0};return s&&(u=l.slice(0,s).reduce(function(x,E){return x+=C(E),x},0)),i&&(g=l.slice(l.length-i).reduce(function(x,E){return x+=C(E),x},0)),{colCount:u,trailingColCount:g}},KL=function(l,s){return l.reduce(function(i,u){typeof u=="string"&&(u={key:u});var g=ur({},u);return g.children?(g.children=KL(g.children,s),i.push(g),i):(s[g.key]&&i.push(g),i)},[])},vy=function(l){return l.parent.id==="root"},Z5=function(l){for(;!vy(l);)l=l.parent;return l},K5=function(l){var s=[],i=function(u){u.forEach(function(g){typeof g=="string"||!g.children?s.push(g):i(g.children)})};return i(l),s},MM=function(l){var s=K5(l);return s.map(function(i){return typeof i=="string"?i:i.key})},cA=function(l){var s=l.children[0];return s?s.isLeaf?s:cA(s):l},q5=function(l){return zn(l.rows)&&zn(l.columns)&&zn(l.values)&&zn(l.customTreeItems)},Q5=function(l){var s=l.facetCfg,i=s.columns,u=s.spreadsheet,g=u.store.get("hiddenColumnsDetail"),C=s==null?void 0:s.showSeriesNumber,x=MM(i),E=x.filter(function(z){return g?g.every(function(j){return j.hideColumnNodes.every(function(q){return q.field!==z})}):!0}),O=en([],Br(E),!1),R=en([],Br(i),!1),k={};C&&(R.unshift({key:Zh}),k[Zh]=!0),O.reduce(function(z,j){return z[j]=!0,z},k),ZL(KL(R,k),l,0,null)},MR=function(l,s,i){return l.sort(function(u,g){i&&(u=i(u),g=i(g));var C=s.indexOf(u),x=s.indexOf(g);return C===-1&&x===-1?0:C===-1?1:x===-1?-1:C-x})},fA=function(l){return h(l,function(s){return!Oh(s)&&s!=="undefined"})},TR=function(l){var s;return(s=Aa(l))===null||s===void 0?void 0:s.reduce(function(i,u){var g=Mi(l,u);return Array.isArray(g)?i=i.concat(TR(g)):i==null||i.push(g),i},[])},OR=function(l){var s=[];if(Array.isArray(l))for(var i=("undefined"in l),u=l.length+(i?1:0),g=0,C=function(){var x=g===l.length?l.undefined:l[g];g++,x&&"undefined"in x?Aa(x).forEach(function(E){s.push(x[E])}):Array.isArray(x)?s.push.apply(s,en([],Br(x),!1)):s.push(x)};g<u;)C();else s.push(l);return s},J5=function(l){return l==null?void 0:l.every(function(s){return Oh(s)})},qL=function(l,s){var i=[];return l==null||l.forEach(function(u,g){u===void 0&&s[g]&&i.push(s[g])}),i},e8=function(l,s){var i;return(i=l==null?void 0:l.filter(function(u){return!(s!=null&&s.includes(u))}))===null||i===void 0?void 0:i.concat(s)},QL=function(l,s){return!y2(l,function(i){return s[i]})};function JL(l,s){var i=s.rows,u=s.columns;return T2(l,function(g,C){return QL([].concat(i).concat(u),C)&&g.push(C),g},[])}function t8(l,s){var i=l.isRowTotal,u=l.isRowSubTotal,g=l.isColTotal,C=l.isColSubTotal,x=s||{},E=x.row,O=x.col,R=E||{},k=R.calcTotals,z=k===void 0?{}:k,j=R.calcSubTotals,q=j===void 0?{}:j,ee=O||{},le=ee.calcTotals,me=le===void 0?{}:le,Oe=ee.calcSubTotals,$e=Oe===void 0?{}:Oe,Ye=function(Ze,Ut){if((Ze.aggregation||Ze.calcFunc)&&Ut)return{aggregation:Ze.aggregation,calcFunc:Ze.calcFunc}};return Ye(me,g)||Ye($e,C)||Ye(z,i)||Ye(q,u)}var eP={en_US:["KMBTP".split(""),[1e3,1e3,1e3,1e3,1e3]],zh_CN:[["\u4E07","\u4EBF"],[1e4,1e4]]},dF=function(l,s,i){if(s===void 0&&(s=2),i===void 0&&(i=eP[wM()]||eP.zh_CN),typeof l!="number"||dO(l))return"";for(var u=l,g=Br(i,2),C=g[0],x=g[1],E=0,O,R=!0;R;)O=x[E],u>=O&&E<C.length?u/=O:R=!1,E+=1;u=parseFloat(u.toFixed(s));var k=u>=1e3?u.toLocaleString("en"):"".concat(u);return E===0?k:"".concat(k," ").concat(C[E-1])},zT=function(l){return Number.parseFloat((ca(l)||0).toPrecision(Qy))},z2=function(l,s,i){if(i===void 0&&(i=0),!Object.values(l).find(function(x){return x>0}))return l;var u=ur({},l);u.frozenColCount>=s&&(u.frozenColCount=s);var g=s-u.frozenColCount;u.frozenTrailingColCount>g&&(u.frozenTrailingColCount=g),u.frozenRowCount>=i&&(u.frozenRowCount=i);var C=i-u.frozenRowCount;return u.frozenTrailingRowCount>C&&(u.frozenTrailingRowCount=C),u};function Od(l,s,i){var u;return(u=l==null?void 0:l.addShape)===null||u===void 0?void 0:u.call(l,"rect",ur({zIndex:1,attrs:s},i||{}))}function r8(l,s){var i;return(i=l==null?void 0:l.addShape)===null||i===void 0?void 0:i.call(l,"polygon",{attrs:s})}function tP(l,s){var i;return(i=l==null?void 0:l.addShape)===null||i===void 0?void 0:i.call(l,"polyline",{attrs:s})}function rP(l,s){var i;return(i=l==null?void 0:l.addShape)===null||i===void 0?void 0:i.call(l,"circle",{attrs:s})}function W2(l,s,i,u,g,C,x,E){var O;return!zn(s)&&l&&Xi(s,function(R){l.contain(R)&&l.removeChild(R,!0)}),(O=l==null?void 0:l.addShape)===null||O===void 0?void 0:O.call(l,"text",{attrs:ur(ur({x:i,y:u,text:g,originalText:E},C),x)})}function uf(l,s,i){var u;return(u=l==null?void 0:l.addShape)===null||u===void 0?void 0:u.call(l,"line",{zIndex:100,attrs:ur(ur({},s),i)})}function Av(l,s,i){if(!zn(l)){var u=Fi(l)?l:[l];u.forEach(function(g){i0(g,"attrs.".concat(s),i)})}}function vF(l,s){Av(l,"fillOpacity",s)}function pF(l,s){Av(l,"strokeOpacity",s)}function QI(l,s){var i=new lA(s);return l==null||l.add(i),i}function nP(l,s,i,u,g){var C=new lA(ur(ur({name:u?"Plus":"Minus"},s),{fill:i}));return kl(g)&&C.on("click",g),l==null||l.add(C),C}var AR="s2-offscreen-canvas",n8=function(){var l=document.getElementById(AR);return l||(l=document.createElement("canvas"),l.id=AR,l.style.display="none",document.body.appendChild(l),l)},i8=function(){var l;(l=document.getElementById(AR))===null||l===void 0||l.remove()},a8=function(l){var s;return(s=l==null?void 0:l.position)!==null&&s!==void 0?s:"right"},o8=function(l,s){l===void 0&&(l=0),s===void 0&&(s=0),l=zT(l),s=zT(s);var i=l>=0,u=s>=0&&l<=0,g=i?l:s,C=u?0:g,x=s-l;return function(E){var O=i?0:1,R=u?bh(Math.abs(0-l)/x,0,1):O,k=bh((E-C)/x,-1,1);return{zeroScale:R,scale:k}}},iP=function(l,s){var i,u,g,C=l.data,x=l.encode,E=l.type,O=s.getMeta(),R=O.x,k=O.y,z=O.height,j=O.width,q=s.getStyle(An.DATA_CELL),ee=q.cell,le=q.miniChart,me=[],Oe=Me(C,function(gi){return me.push(gi==null?void 0:gi[x.y]),{x:gi[x.x],y:gi[x.y]}}),$e=Qo(me),Ye=CT(me),Ze=$e-Ye,Ut=R+ee.padding.left,gr=R+j-ee.padding.right,br=k+ee.padding.top,Zr=k+z-ee.padding.bottom,gn=Zr-br,Kn=E===Po.Bar?(gr-Ut-(me.length-1)*((i=le==null?void 0:le.bar)===null||i===void 0?void 0:i.intervalPadding))/me.length+((u=le==null?void 0:le.bar)===null||u===void 0?void 0:u.intervalPadding):(g=(gr-Ut)/(me.length-1))!==null&&g!==void 0?g:0,In=[],Xn=Me(Oe,function(gi,Pi){var Dn,Jn=Ut+Pi*Kn,So;if(Ze!==0?So=Zr-((gi==null?void 0:gi.y)-Ye)/Ze*gn:So=Ye>0?br:Zr,E===Po.Bar){var no=void 0,zo=void 0;Ye<0&&$e>0&&Ze!==0?(no=Zr-(0-Ye)/Ze*gn,zo=Math.abs(So-no),(gi==null?void 0:gi.y)<0&&(So=no)):(no=Ye<0?br:Zr,Ze=Qo([Math.abs($e),Math.abs(Ye)]),zo=Ze===0?gn:Math.abs((gi==null?void 0:gi.y)-0)/Ze*gn,So=no);var aa=Kn-((Dn=le==null?void 0:le.bar)===null||Dn===void 0?void 0:Dn.intervalPadding);In.push([aa,zo])}return[Jn,So]});return{points:Xn,box:In}},l8=function(l,s){if(!(zn(l==null?void 0:l.data)||zn(s))){var i=s.getStyle(An.DATA_CELL),u=i.miniChart,g=u.line,C=g.point,x=g.linkLine,E=iP(l,s).points;tP(s,{points:E,stroke:x.fill,lineWidth:x.size,opacity:x.opacity});for(var O=0;O<E.length;O++)rP(s,{x:E[O][0],y:E[O][1],r:C.size,fill:C.fill,fillOpacity:C.opacity})}},s8=function(l,s){if(!(zn(l==null?void 0:l.data)||zn(s)))for(var i=s.getStyle(An.DATA_CELL),u=i.miniChart,g=u.bar,C=iP(l,s),x=C.points,E=C.box,O=0;O<x.length;O++)Od(s,{x:x[O][0],y:x[O][1],width:E[O][0],height:E[O][1],fill:g.fill,fillOpacity:g.opacity})},u8=function(l,s,i){var u=Number(s)-Number(l);return Number.isNaN(u)||Number(l)<0?i.bad:u<=.1?i.good:u>.1&&u<=.2?i.satisfactory:i.bad},c8=function(l,s){var i,u;s===void 0&&(s={min:0,max:0});var g=Number(l);if(Number.isNaN(g))return l;var C=(i=s==null?void 0:s.min)!==null&&i!==void 0?i:s,x=(u=s==null?void 0:s.max)!==null&&u!==void 0?u:s,E=new Intl.NumberFormat("en-US",{minimumFractionDigits:C,maximumFractionDigits:x,useGrouping:!1,style:"percent"});return E.format(g)},f8=function(l){var s,i,u,g,C,x;if(!zn(l)){var E=l.getCellArea(),O=E.x,R=E.y,k=E.height,z=E.width,j=l.findFieldCondition((s=l.cellConditions)===null||s===void 0?void 0:s.interval);if(j&&j.mapping){var q=l.mappingValue(j);if(!q)return;var ee=q.isCompare?q:l.valueRangeByField,le=zT(ee.minValue),me=zT(ee.maxValue),Oe=ru(q==null?void 0:q.fieldValue)?zT(l.getMeta().fieldValue):zT(q==null?void 0:q.fieldValue);if(Oe<le||Oe>me)return;var $e=(u=(i=l.getStyle().miniChart.interval)===null||i===void 0?void 0:i.height)!==null&&u!==void 0?u:l.getStyle().cell.miniBarChartHeight,Ye=(C=(g=l.getStyle().miniChart.interval)===null||g===void 0?void 0:g.fill)!==null&&C!==void 0?C:l.getStyle().cell.miniBarChartFillColor,Ze=o8(le,me),Ut=Ze(Oe),gr=Ut.zeroScale,br=Ut.scale,Zr=(x=q.fill)!==null&&x!==void 0?x:Ye;return Od(l,{x:O+z*gr,y:R+k/2-$e/2,width:z*br,height:$e,fill:Zr})}}},h8=function(l,s){var i,u=s.getStyle(An.DATA_CELL),g=s.getMeta(),C=g.x,x=g.y,E=g.height,O=g.width,R=g.spreadsheet;if(zn(l)){W2(s,[],C+O-u.cell.padding.right,x+E/2,OM(s,R.options.placeholder),u.text);return}var k=u.miniChart.bullet,z=k.progressBar,j=k.comparativeMeasure,q=k.rangeColors,ee=k.backgroundColor,le=l.measure,me=l.target,Oe=Math.max(Number(le),0),$e=Math.max(Number(me),0),Ye=c8(le,2),Ze=(z==null?void 0:z.widthPercent)>1?(z==null?void 0:z.widthPercent)/100:z==null?void 0:z.widthPercent,Ut=u.cell.padding,gr=O-Ut.left-Ut.right,br=Ze*gr,Zr=gr-br,gn=C+O-Ut.right-br,Kn=x+E/2-z.height/2;Od(s,{x:gn,y:Kn,width:br,height:z.height,fill:ee,textBaseline:u.text.textBaseline});var In=Mi(s.getMeta(),"spreadsheet.options.bullet.getRangeColor"),Xn=Math.max(Math.min(br*Oe,br),0);Od(s,{x:gn,y:Kn+(z.height-z.innerHeight)/2,width:Xn,height:z.innerHeight,fill:(i=In==null?void 0:In(Oe,$e))!==null&&i!==void 0?i:u8(Oe,$e,q)});var gi=gn+br*$e;uf(s,{x1:gi,y1:x+(E-j.height)/2,x2:gi,y2:x+(E-j.height)/2+j.height},{stroke:(j==null?void 0:j.fill)||(j==null?void 0:j.color),lineWidth:j.width,opacity:j==null?void 0:j.opacity}),W2(s,[],gn-Ut.right,x+E/2,TM({measureTextWidth:R.measureTextWidth,text:Ye,maxWidth:Zr-Ut.right,fontParam:u.text}),u.text)},d8=function(l,s){switch(s==null?void 0:s.type){case Po.Line:l8(s,l);break;case Po.Bar:s8(s,l);break;default:h8(s,l);break}},aP=function(l,s){var i=l.x,u=l.y,g=l.width,C=l.height,x=g-(s==null?void 0:s.left)-(s==null?void 0:s.right),E=C-(s==null?void 0:s.top)-(s==null?void 0:s.bottom);return{x:i+(s==null?void 0:s.left),y:u+(s==null?void 0:s.top),width:x,height:E}},oP=function(l){return rM({size:0,position:"right",margin:{left:0,right:0}},l)},lP=function(l,s){return s=oP(s),l-s.size-s.margin.right-s.margin.left},JI=function(l,s,i){var u=l.y,g=l.height;i===void 0&&(i=0);var C=0;switch(s){case"top":C=u;break;case"middle":C=u+g/2-i/2;break;default:C=u+g-i;break}return C},WT=function(l,s,i,u,g){i===void 0&&(i=0),g===void 0&&(g=1);var C=l.x,x=l.width,E=s.textAlign,O=s.textBaseline,R=oP(u),k=R.size,z=R.margin,j=R.position,q=g*(k+z.left)+(g?z.right:0),ee,le;switch(E){case"left":ee=C+(j==="left"?q:0),le=C+(j==="left"?z.left:i+z.left);break;case"center":{var me=q-(j==="left"?z.left:z.right)+i,Oe=C+x/2-me/2;ee=Oe+i/2+(j==="left"?q-z.left:0),le=Oe+(j==="left"?0:i+z.left);break}default:{ee=C+x-(j==="right"?q:0),le=C+x-(j==="right"?q-z.left:i+q-z.left);break}}var $e=JI(l,O,0),Ye=JI(l,O,k);return{text:{x:ee,y:$e},icon:{x:le,y:Ye}}},sP=function(l,s){return WT(l,s).text},v8=function(l,s,i){var u=s.start+s.width,g=l.start+l.width,C,x;if(s.start<=l.start&&u>=g)C=l.start+l.width/2,x=l.width;else if(s.start<=l.start){var E=s.width-(l.start-s.start);C=E<i?u-i/2:u-E/2,x=E}else if(u>=g){var E=s.width-(u-g);C=E<i?s.start+i/2:s.start+E/2,x=E}else C=s.start+s.width/2,x=s.width;return{start:C,width:x}},dx=function(l,s,i){var u=s.x,g=s.y,C=s.width,x=s.height,E=i.horizontalBorderWidth,O=i.horizontalBorderColorOpacity,R=i.horizontalBorderColor,k=i.verticalBorderWidth,z=i.verticalBorderColor,j=i.verticalBorderColorOpacity,q=i.borderDash,ee,le,me,Oe,$e;if(l===Yu.TOP||l===Yu.BOTTOM){var Ye=g;l===Yu.TOP?Ye=g+k/2:Ye=g+x-k/2,le=Ye,Oe=Ye,ee=u,me=u+C,$e={lineWidth:E,stroke:R,strokeOpacity:O,lineDash:q}}if(l===Yu.LEFT||l===Yu.RIGHT){var Ze=u;l===Yu.LEFT?Ze=u+E/2:Ze=u+C-E/2,ee=Ze,me=Ze,le=g,Oe=g+x,$e={lineWidth:k,stroke:z,strokeOpacity:j,lineDash:q}}return{position:{x1:ee,x2:me,y1:le,y2:Oe},style:$e}},p8=function(l,s,i){i===void 0&&(i={left:0,right:0});var u=ur({},l);return s==="left"?(u.start+=i.left,u.width-=i.left):s==="right"&&(u.width-=i.right),u},g8=function(l,s,i,u){var g=s+i,C=l.start;if(u==="center")return C-i/2;var x=l.width-g>0,E=x?l.width/2:g/2;return u==="left"?C-E:C+E-i},uP=fv(function(l,s){if(l===void 0&&(l=""),!s)return 0;var i=n8().getContext("2d"),u=s,g=u.fontSize,C=u.fontFamily,x=u.fontWeight,E=u.fontStyle,O=u.fontVariant;return i.font=[E,O,x,"".concat(g,"px"),C].join(" ").trim(),i.measureText("".concat(l)).width},function(l,s){return en([l],Br(sy(s)),!1).join("")}),cP=function(l,s,i,u){var g=16,C=l(Jh,u),x;lf(s)?x=s:x=ao(s);var E=i,O=[],R,k;if(l(s,u)<=i)return s;for(var z=!0;z;){if(R=x.substr(0,g),k=l(R,u),k+C>E&&k>E){z=!1;break}if(O.push(R),E-=k,x=x.substr(g),!x)return O.join("")}for(var j=!0;j;){if(R=x.substr(0,1),k=l(R,u),k+C>E){j=!1;break}if(O.push(R),E-=k,x=x.substr(1),!x)return O.join("")}return"".concat(O.join(""),"...")},gF=function(l,s){var i,u;s===void 0&&(s={});var g=uP("a",s),C=uP("\u8682",s),x=0;if(!l)return x;try{for(var E=Ls(l),O=E.next();!O.done;O=E.next()){var R=O.value,k=R.charCodeAt(0);x+=k>=0&&k<=255?g:C}}catch(z){i={error:z}}finally{try{O&&!O.done&&(u=E.return)&&u.call(E)}finally{if(i)throw i.error}}return x},TM=function(l){var s=l.measureTextWidth,i=l.text,u=l.maxWidth,g=l.fontParam,C=l.priorityParam,x=l.placeholder,E={},O=x!=null?x:$c,R=ru(i)||i===""||i===Zv,k=R?O:"".concat(i),z=C;if(g&&Fi(g)?z=g:E=g||{},!z||!z.length)return cP(s,k,u,E);var j=[],q=[k];z.forEach(function(Oe){q.forEach(function($e,Ye){var Ze=-1,Ut=$e.match(new RegExp(Oe));if(Ut){var gr=Ut[0];Ze=Ut.index,j.push(gr);var br=Ze+gr.length,Zr=$e.slice(0,Ze),gn=$e.slice(br),Kn=[Zr,gn].filter(function(In){return!!In});q.splice.apply(q,en([Ye,1],Br(Kn),!1))}})}),q=j.concat(q);var ee=k,le=s(Jh,E),me=u;return q.forEach(function(Oe){if(me<=0){var $e=ee.indexOf(Oe),Ye=ee.slice($e-3,$e);if(Ye&&Ye!==Jh){var Ze=s(Oe,E);ee=ee.replace(Oe,Ze>le?Jh:Oe)}else ee=ee.replace(Oe,"");me-=le}else{var Ze=s(Oe,E);if(me<Ze&&Ze>le){var Ut=cP(s,Oe,me,E);ee=ee.replace(Oe,Ut),me=0}else me-=Ze}}),ee},m8=function(l){return Th(l)?l>=0:!!l&&!Ne(l).startsWith("-")},y8=function(l){return ru(l)||l===""||Number(String(l).replace(/[^0-9.]+/g,""))===0},mF=function(l,s){return y8(l)||l===s},C8=function(l,s,i,u){u===void 0&&(u="left");var g=s.right,C=s.left,x=i||0;return u==="left"?l+g/2+x:u==="right"?l-g/2-x:l+C/2+x},b8=function(l){var s,i,u=l.getMeta().isTotals,g=(i=(s=l).isMeasureField)===null||i===void 0?void 0:i.call(s),C=l.getStyle(l.cellType||An.DATA_CELL),x;return g?x=C.measureText:u?x=C.bolderText:x=C.text,{cellStyle:C,textStyle:x}},w8=function(l){var s=l.rowIndex,i=l.colIndex,u=l.meta,g=l.data,C=l.textStyle,x=l.textCondition,E=C.fill;return x!=null&&x.mapping&&(E=x==null?void 0:x.mapping(g,{rowIndex:s,colIndex:i,meta:u}).fill),ur(ur({},C),{fill:E})},OM=function(l,s){return kl(s)?s(l):s},x8=function(l,s,i){for(var u=l.x,g=l.y,C=l.width,x=l.height,E=x/I1(s),O=[],R,k,z,j=0,q=Me(i,function(Oe){return Oe>1?Oe/100:Oe}),ee=0;ee<I1(s);ee++){k=g+E*ee;var le=[];R=u,j=0;for(var me=0;me<I1(s[ee]);me++)z=zn(q)?C/I1(s[0]):C*q[me],R=C8(u,{left:0,right:0},j,"left"),j+=z,le.push({x:R,y:k,width:z,height:E});O.push(le)}return O},fP=function(l,s,i){var u,g,C,x;i===void 0&&(i=!0);var E=l.getContentArea(),O=E.x,R=E.y,k=E.height,z=E.width,j=s||l.getMeta().fieldValue,q=j.values,ee=l.getMeta().spreadsheet,le=ee.options,me=ee.measureTextWidth,Oe=le.style.cellCfg.valuesCfg,$e=(g=(u=le==null?void 0:le.conditions)===null||u===void 0?void 0:u.text)===null||g===void 0?void 0:g[0],Ye=(x=(C=le==null?void 0:le.conditions)===null||C===void 0?void 0:C.icon)===null||x===void 0?void 0:x[0];if(!Fi(q)){d8(l,q);return}var Ze=Oe==null?void 0:Oe.widthPercent,Ut=0;if(j!=null&&j.label){var gr=l.getStyle(An.DATA_CELL),br=gr.bolderText;Ut=k/(q.length+1);var Zr=W2(l,[],O,R+Ut/2,TM({measureTextWidth:me,text:j.label,maxWidth:z,fontParam:br}),br);l.addTextShape(Zr)}for(var gn=b8(l),Kn=gn.cellStyle,In=gn.textStyle,Xn=Kn==null?void 0:Kn.icon,gi=Ye&&Ye.mapping&&{size:Xn==null?void 0:Xn.size,margin:Xn==null?void 0:Xn.margin,position:Ye==null?void 0:Ye.position},Pi,Dn=x8({x:O,y:R+Ut,height:k-Ut,width:z},q,Ze),Jn=0;Jn<q.length;Jn++)for(var So=wd(q[Jn]),no=0;no<So.length;no++){Pi=So[no];var zo=i?w8({rowIndex:Jn,colIndex:no,meta:l==null?void 0:l.getMeta(),data:Pi,textStyle:In,textCondition:$e}):In,aa=(l==null?void 0:l.getMeta().spreadsheet.options).placeholder,Wo=OM(l==null?void 0:l.getMeta(),aa),Ka=lP(Dn[Jn][no].width,Xn),Mu=TM({measureTextWidth:me,text:Pi,maxWidth:Ka,fontParam:zo,placeholder:Wo}),ns=me(Mu,In),Ro=WT(Dn[Jn][no],In,ns,gi,Ye?1:0),Zr=W2(l,[],Ro.text.x,Ro.text.y,Mu,zo,{},Pi==null?void 0:Pi.toString());if(l.addTextShape(Zr),Ye&&i){var Tl=Ye==null?void 0:Ye.mapping(Pi,{rowIndex:Jn,colIndex:no,meta:l==null?void 0:l.getMeta()});if(Tl){var Lh=QI(l,ur(ur({},Ro.icon),{name:Tl.icon,width:Xn==null?void 0:Xn.size,height:Xn==null?void 0:Xn.size,fill:Tl.fill}));l.addConditionIconShape(Lh)}}}},IR=function(l,s){return s===void 0&&(s=1),(l==null?void 0:l.width)*s},RR=function(l){try{return JSON.parse(l)}catch(s){return null}};function hP(l,s){return s.map(function(i){var u=l[i];return u===void 0?u:"".concat(u)})}function DR(l){return l.map(function(s){var i=s==null?void 0:s.split(zl);return i[(i==null?void 0:i.length)-1]||s})}function S8(l,s,i){var u,g=s.slice(0,s.indexOf(l)+1);return(u=i.map(function(C){return g.map(function(x){return C[x]}).join("".concat(zl))}))===null||u===void 0?void 0:u.filter(function(C){return C})}function hA(l){var s=l.rowDimensionValues,i=l.colDimensionValues,u=l.careUndefined,g=l.isFirstCreate,C=l.onFirstCreate,x=l.rowFields,E=l.colFields,O=l.rowPivotMeta,R=l.colPivotMeta,k=function(q,ee,le,me){ee===void 0&&(ee=!0);for(var Oe=ee?le:me,$e=ee?x:E,Ye=[],Ze=0;Ze<q.length;Ze++){var Ut=q[Ze];if(!Oe.has(Ut))if(g)Oe.set(Ut,{level:Oe.size,children:new Map}),C==null||C({isRow:ee,dimension:$e==null?void 0:$e[Ze],dimensionPath:q.slice(0,Ze+1)});else{var gr=Oe.get(Ut);if(gr&&Ye.push(gr.level),!u)break}var br=Oe.get(Ut);Oh(Ut)&&u?Ye.push(Ut):Ye.push(br==null?void 0:br.level),br&&(g&&(br.childField=$e==null?void 0:$e[Ze+1]),Oe=br==null?void 0:br.children)}return Ye},z=k(s,!0,O,R),j=k(i,!1,O,R);return z.concat.apply(z,en([],Br(j),!1))}function G2(l,s){return T2(l,function(i,u){return i.push(s[u]),i},[])}function LR(l){var s=l.rows,i=l.columns,u=l.originData,g=u===void 0?[]:u,C=l.indexesData,x=C===void 0?[]:C,E=l.totalData,O=E===void 0?[]:E,R=l.sortedDimensionValues,k=l.rowPivotMeta,z=l.colPivotMeta,j=[],q=new Set(LA(s,i)),ee=function(me){var Oe=me.isRow,$e=me.dimension,Ye=me.dimensionPath;!Oe&&q.has($e)||(R[$e]||(R[$e]=[])).push(Ye.map(function(Ze){return"".concat(Ze)}).join(zl))},le=g.concat(O);return le.forEach(function(me){var Oe=hP(me,s),$e=hP(me,i),Ye=hA({rowDimensionValues:Oe,colDimensionValues:$e,rowPivotMeta:k,colPivotMeta:z,isFirstCreate:!0,onFirstCreate:ee,careUndefined:(O==null?void 0:O.length)>0,rowFields:s,colFields:i});j.push(Ye),i0(x,Ye,me)}),{paths:j,indexesData:x,rowPivotMeta:k,colPivotMeta:z,sortedDimensionValues:R}}function dP(l,s){if(!(!l||!s)){var i=s.split(zl),u=lo(i),g=l;Xi(i,function(C,x){var E=g.get(C);return E?(C===u?(E.children=new Map,E.childField=void 0):g=E.children,!0):x===0&&C===Uo})}}function _8(l,s,i){var u=function(x){var E=y(l,function(O){var R=O.field;return R===x});return Mi(E,"name",x)},g=s||i,C={field:ra,name:g,formatter:function(x){return u(x)}};return C}function dA(l,s){return{isRowTotal:l.isGrandTotals,isRowSubTotal:l.isSubTotals,isColTotal:s.isGrandTotals,isColSubTotal:s.isSubTotals}}var e6;function vP(l,s){return!l||!s?!1:String(l).toLowerCase()===String(s).toLowerCase()}var E8=`\r
`,M8="	",t6=function(l,s){var i=l.getColumnNodes().find(function(u){return u.id===s});return l.isPivotMode()?i==null?void 0:i.value:i==null?void 0:i.field},T8=function(l,s){var i=s.getColumnNodes().find(function(u){return u.colIndex===l});return t6(s,i.id)},O8=function(l,s){var i=l.rowIndex,u=l.colIndex;return[s.getRowNodes().find(function(g){return g.rowIndex===i}),s.getColumnNodes().find(function(g){return g.colIndex===u})]},vA=function(l,s){var i=s.getColumnNodes().find(function(g){return g.colIndex===l}),u=t6(s,i.id);return s.options.interaction.copyWithFormat?s.dataSet.getFieldFormatter(u):function(g){return g}},A8=function(l){var s,i,u,g,C=((g=(u=(i=l.options)===null||i===void 0?void 0:i.style)===null||u===void 0?void 0:u.colCfg)===null||g===void 0?void 0:g.hideMeasureColumn)&&l.isValueInCols();return C?(s={},s[ra]=l.dataCfg.fields.values[0],s):{}},I8=function(l,s,i){var u,g;if(i.isPivotMode()){var C=Br(O8(l,i),2),x=C[0],E=C[1],O=A8(i),R=i.dataSet.getCellData({query:ur(ur(ur({},x.query),E.query),O),rowNode:x,isTotals:x.isTotals||x.isTotalMeasure||E.isTotals||E.isTotalMeasure,totalStatus:dA(x,E)});return(u=R==null?void 0:R[cu])!==null&&u!==void 0?u:""}var k=T8(l.colIndex,i);return(g=s[l.rowIndex])===null||g===void 0?void 0:g[k]},pP=function(l,s,i){var u=vA(l.colIndex,i);return u(I8(l,s,i))},r6=function(l){return/\n/.test(l)?'"'+l.replace(/\r\n?/g,`
`)+'"':l},pA=function(l,s){var i=l.split(zl);return s?i.slice(i.length-s):(i.shift(),i)},PR=function(l,s){return Me(l,function(i){return s.dataSet.getFieldName(i)})},Ss;(function(l){l.PLAIN="text/plain",l.HTML="text/html"})(Ss||(Ss={}));var R8=function(l){return{type:Ss.PLAIN,content:Me(l,function(s){return s.join(M8)}).join(E8)}},D8=function(l){function s(u,g){return u.map(function(C){return"<".concat(g,">").concat(XE(C),"</").concat(g,">")}).join("")}function i(u,g){return u.map(function(C){return"<".concat(g,">").concat(s(C,"td"),"</").concat(g,">")}).join("")}return{type:Ss.HTML,content:'<meta charset="utf-8"><table><tbody>'.concat(i(l,"tr"),"</tbody></table>")}},gP=(e6={},e6[Ss.PLAIN]=R8,e6[Ss.HTML]=D8,e6);function yF(l,s){gP[l]=s}function Iv(l){return gP[l]}function n6(l,s){return s===void 0&&(s=Ss.PLAIN),Array.isArray(s)?[].concat(l).filter(function(i){return s.includes(i.type)}).map(function(i){return i.content}):[].concat(l).filter(function(i){return(i==null?void 0:i.type)===s}).map(function(i){return i.content})[0]||""}var mP=function(l,s,i){var u,g,C,x,E,O,R=(g=(u=l[0])===null||u===void 0?void 0:u.length)!==null&&g!==void 0?g:0,k=(C=s==null?void 0:s.length)!==null&&C!==void 0?C:0,z=(E=(x=i[0])===null||x===void 0?void 0:x.length)!==null&&E!==void 0?E:0,j=(O=i.length)!==null&&O!==void 0?O:0,q=R+z,ee=k+j,le=Array.from(Array(ee),function(){return new Array(q)});return le=Me(le,function(me,Oe){return Me(me,function($e,Ye){if(Ye>=0&&Ye<R&&Oe>=0&&Oe<k)return"";if(Ye>=R&&Ye<=q&&Oe>=0&&Oe<k)return s[Oe][Ye-R];if(Ye>=0&&Ye<R&&Oe>=k&&Oe<ee)return l[Oe-k][Ye];if(Ye>=R&&Ye<=q&&Oe>=k&&Oe<ee)return i[Oe-k][Ye-R]})}),[Iv(Ss.PLAIN)(le),Iv(Ss.HTML)(le)]},L8=function(l,s,i){var u=s.map(function(g){return g.map(function(C){return C?r6(pP(C,l,i)):""})});return[Iv(Ss.PLAIN)(u),Iv(Ss.HTML)(u)]},P8=function(l){if(!(l!=null&&l.length))return[];var s=Br([{row:1/0,col:1/0},{row:0,col:0}],2),i=s[0],u=s[1];l.forEach(function(O){var R=O.rowIndex,k=O.colIndex;i.col=Math.min(k,i.col),i.row=Math.min(R,i.row),u.col=Math.max(k,u.col),u.row=Math.max(R,u.row)});var g=Br([u.row-i.row+1,u.col-i.col+1],2),C=g[0],x=g[1],E=new Array(C).fill("").map(function(){return new Array(x).fill("")});return l.forEach(function(O){var R=O.rowIndex,k=O.colIndex,z=Br([R-i.row,k-i.col],2),j=z[0],q=z[1];E[j][q]=O}),E},B8=function(l,s){var i=l.dataSet.getDisplayDataSet(),u=s.length?s.map(function(C){return{field:t6(l,C.id),formatter:vA(C.colIndex,l)}}):l.dataCfg.fields.columns.map(function(C){return l.getColumnNodes().find(function(x){return x.field===C})}).map(function(C){return{field:t6(l,C.id),formatter:vA(C.colIndex,l)}}),g=i.map(function(C){return u.map(function(x){var E=x.field,O=x.formatter;return r6(O(C[E]))})});return[Iv(Ss.PLAIN)(g),Iv(Ss.HTML)(g)]},yP=function(l,s,i){return Me(l,function(u){return s.map(function(g){var C,x=i.dataSet.getCellData({query:ur(ur({},u.query),g.query),rowNode:u,isTotals:u.isTotals||u.isTotalMeasure||g.isTotals||g.isTotalMeasure,totalStatus:dA(u,g)});return vA(g.colIndex,i)((C=x==null?void 0:x[cu])!==null&&C!==void 0?C:"")})})},k8=function(l,s,i){var u=yP(s,i,l);return[Iv(Ss.PLAIN)(u),Iv(Ss.HTML)(u)]},F8=function(l,s,i){var u=Me(s,function(x){return pA(x.id)}),g=Fl.apply(void 0,en([],Br(Me(i,function(x){return pA(x.id)})),!1)),C=yP(s,i,l);return mP(u,g,C)};function CP(l,s,i){var u=l.options.interaction.copyWithHeader;return u?F8(l,s,i):k8(l,s,i)}var N8=function(l,s){var i=l.getRowNodes().filter(function(C){return C.isLeaf||l.isHierarchyTreeType()}),u=l.getColumnNodes().filter(function(C){return C.isLeaf}),g=s.length?s.reduce(function(C,x){return C.push.apply(C,en([],Br(u.filter(function(E){return E.id.startsWith(x.id)})),!1)),C},[]):u;return CP(l,i,g)},i6=function(l,s,i){return s.isPivotMode()?N8(s,i):B8(s,i)},H8=function(l,s){var i=l.dataSet.getDisplayDataSet(),u=i.filter(function(g,C){return s.map(function(x){return x.rowIndex}).includes(C)}).map(function(g){var C=l.getColumnNodes().reduce(function(x,E,O){return x[E.field]=O,x},{});return Object.keys(g).sort(function(x,E){return C[x]-C[E]}).map(function(x){return l.getColumnNodes().find(function(E){return E.field===x})}).filter(Boolean).map(function(x){return r6(vA(x.colIndex,l)(g[x.field]))})});return[Iv(Ss.PLAIN)(u),Iv(Ss.HTML)(u)]},z8=function(l,s){var i=l.getRowNodes().filter(function(C){return C.isLeaf||l.isHierarchyTreeType()}),u=l.getColumnNodes().filter(function(C){return C.isLeaf}),g=s.reduce(function(C,x){return C.push.apply(C,en([],Br(i.filter(function(E){return E.id.startsWith(x.id)})),!1)),C},[]);return CP(l,g,u)},bP=function(l,s,i){return s.isPivotMode()?z8(s,i):H8(s,i)};function W8(l,s,i){i===void 0&&(i=Ss.PLAIN);var u=l.dataSet.getDisplayDataSet(),g=l.interaction.getState().cells||[];if(s===Md.ALL)return n6(i6(u,l,[]),i);if(s===Md.COL){var C=g.reduce(function(R,k){return R.find(function(z){return z===k.colIndex})||R.push(k.colIndex),R},[]),x=l.facet.layoutResult.colLeafNodes.filter(function(R){return C.includes(R.colIndex)}).map(function(R){return{id:R.id,colIndex:R.colIndex,rowIndex:R.rowIndex,type:An.COL_CELL}});return n6(i6(u,l,x),i)}if(s===Md.ROW){var E=g.reduce(function(R,k){return R.find(function(z){return z===k.rowIndex})||R.push(k.rowIndex),R},[]),O=E.map(function(R){return{id:R+"-"+l.facet.layoutResult.colLeafNodes[0].id,colIndex:0,rowIndex:R,type:An.ROW_CELL}});return n6(bP(u,l,O),i)}}var G8=function(l,s,i){var u=Fl.apply(void 0,en([],Br(Me(l[0],function(x){var E,O,R=(O=(E=x.id.split($c))===null||E===void 0?void 0:E[1])!==null&&O!==void 0?O:"";return PR(pA(R),i)})),!1)),g=Me(l,function(x){var E,O,R=(O=(E=x[0].id.split($c))===null||E===void 0?void 0:E[0])!==null&&O!==void 0?O:"";return PR(pA(R),i)}),C=Me(l,function(x){return Me(x,function(E){return pP(E,s,i)})});return mP(g,u,C)};function $8(l){var s=new Set;return Xi(l,function(i){var u=i.getMeta().level;s.has(u)||s.add(u)}),s}function U8(l,s){return h(l,function(i){var u=i.getMeta(),g=u.level===s,C=u.isTotals&&zn(u.children);return g||C})}function Y8(l,s){for(var i=l,u={level:s},g=i.label;i.level>=0;){for(var C=u.level-i.level;C>0;)g="".concat(i.label).concat(zl).concat(g),C--;u=i,i=i.parent}return g}function j8(l,s,i){return Me(l,function(u){var g=u.getMeta(),C=g.id,x=g.isTotals,E=g.spreadsheet,O=x?Y8(g,s):C,R=pA(O,i.size);return PR(R,E)})}function V8(l){var s,i=$8(l),u=(s=Qo(Array.from(i)))!==null&&s!==void 0?s:0,g=U8(l,u),C=l[0].cellType===An.COL_CELL,x=j8(g,u,i);return C&&(x=Fl.apply(void 0,en([],Br(x),!1))),[Iv(Ss.PLAIN)(x),Iv(Ss.HTML)(x)]}var X8=function(l,s,i){return Me(s,function(u){var g;return(g=l[u])!==null&&g!==void 0?g:i})},Z8=function(l,s){var i=l.options.placeholder,u=l.dataCfg.fields,g=u.rows,C=u.columns,x=u.values,E=OM(l,i),O=l.getColumnLeafNodes(),R=[];if(l.isTableMode()){var k=h(O,function(ee){return ee.field!==Zh});R=Me(s,function(ee){return Me(k,function(le){var me;return(me=ee==null?void 0:ee[le.field])!==null&&me!==void 0?me:E})})}else if(l.isPivotMode()){var z=en(en(en([],Br(g),!1),Br(C),!1),Br(x),!1),j=TR(s),q=j.filter(function(ee){return en(en([],Br(g),!1),Br(C),!1).every(function(le){return!ru(ee[le])})});R=T2(q,function(ee,le){return en(en([],Br(ee),!1),[X8(le,z,E)],!1)},[])}return[Iv(Ss.PLAIN)(R),Iv(Ss.HTML)(R)]};function K8(l,s){var i,u,g=s.filter(function(k){var z=k.type;return z===An.COL_CELL}),C=s.filter(function(k){var z=k.type;return z===An.ROW_CELL}),x=l.dataSet.getDisplayDataSet();if(l.interaction.getCurrentStateName()===bi.ALL_SELECTED)u=i6(x,l,[]);else if(g.length)u=i6(x,l,g);else if(C.length)u=bP(x,l,C);else{if(!s.length)return;var E=P8(s),O=l.interaction.getSelectedCellHighlight().currentRow;if(O){var R=eI(s,"rowIndex","asc").map(function(k){return l.dataSet.getRowData(k)});u=Z8(l,R)}else!((i=l.options.interaction)===null||i===void 0)&&i.copyWithHeader?u=G8(E,x,l):u=L8(x,E,l)}return u}var wP=function(l){var s,i=l.interaction,u=i.getState().cells||[],g,C=(s=i.getInteractedCells())!==null&&s!==void 0?s:[],x=zn(C)?!1:y2(C,function(E){return E.cellType===An.ROW_CELL||E.cellType===An.COL_CELL});return x?g=V8(C):g=K8(l,u),g&&SP(g),n6(g,Ss.PLAIN)};function gA(l){if(!l)return l;if(typeof l=="string"){var s=l;return'"'.concat(s.replace(/"/g,'""'),'"')}return'"'.concat(l,'"')}var xP=function(l){return new Promise(function(s,i){var u;Array.isArray(l)?u=Mi(l.filter(function(x){return x.type===Ss.PLAIN}),"[0].content",""):u=l.content||"";var g=document.createElement("textarea");g.value=u,document.body.appendChild(g),g.focus({preventScroll:!0}),g.select();var C=document.execCommand("copy");document.body.removeChild(g),C?s():i()})},q8=function(l){return navigator.clipboard.write([new ClipboardItem([].concat(l).reduce(function(s,i){var u,g=i.type,C=i.content,x=C.replace(/\x00/g,"");return ur(ur({},s),(u={},u[g]=new Blob([x],{type:g}),u))},{}))]).catch(function(){return xP(l)})},SP=function(l,s){s===void 0&&(s=!1);var i;return typeof l=="string"?i={content:l,type:Ss.PLAIN}:i=l,!navigator.clipboard||!window.ClipboardItem||s?xP(i):q8(i)},Q8=function(l,s){try{var i=document.createElement("a");i.download="".concat(s,".csv");var u=new Blob(["\uFEFF".concat(l)],{type:"text/csv;charset=utf-8"});i.href=URL.createObjectURL(u),i.click(),URL.revokeObjectURL(i.href)}catch(g){console.error(g)}},J8=function(l){var s=l!=null&&l.label?[l==null?void 0:l.label]:[],i=l==null?void 0:l.values;return zn(i)||Xi(i,function(u){s.push(u.join(" "))}),s.join("$")},e4=function(l,s){var i,u,g,C;return s?(C=l==null?void 0:l.values)===null||C===void 0?void 0:C[0]:(u=(i=l==null?void 0:l.originalValues)===null||i===void 0?void 0:i[0])!==null&&u!==void 0?u:(g=l==null?void 0:l.values)===null||g===void 0?void 0:g[0]},t4=function(l,s,i){var u,g,C,x=l.dataSet.getDisplayDataSet(),E=((C=l.dataCfg)===null||C===void 0?void 0:C.fields).columns,O=MM(E||[]),R=[],k=function(me,Oe){var $e=[];i?$e=O.map(function(Ye){var Ze=l.dataSet.getFieldFormatter(Ye);return gA(Ze(Oe[Ye],Oe))}):$e=O.map(function(Ye){return gA(Oe[Ye])}),l.options.showSeriesNumber&&($e=[gA(me+1)].concat($e)),R.push($e.join(s))};try{for(var z=Ls(x.entries()),j=z.next();!j.done;j=z.next()){var q=Br(j.value,2),ee=q[0],le=q[1];k(ee,le)}}catch(me){u={error:me}}finally{try{j&&!j.done&&(g=z.return)&&g.call(z)}finally{if(u)throw u.error}}return R},r4=function(l,s,i){if(!l)return"";var u=l.fieldValue,g=l.valueField,C=l.data;if(na(u))return J8(u);if(!i)return"".concat(u);var x=s.dataSet.getFieldFormatter(g);return x(u,C)},n4=function(l,s,i,u){var g=[];if(l){var C=l.fieldValue,x=l.valueField,E=l.data;if(na(C))return g=e4(C,u),g;if(ru(C)&&i.length>1)return g.push.apply(g,en([],Br(i),!1)),g;if(!u)g.push(C);else{var O=s.dataSet.getFieldFormatter(x);g.push(O(C,E))}}else g.push.apply(g,en([],Br(i),!1));return g.join("    ")},_P=function(l){var s=RR(l);return Fi(s)?s:l},i4=function(l,s,i){var u=_P(s.label),g=Fi(u)?u.length:1,C=i.options.placeholder,x=kl(C)?C(l):C;return Array(g).fill(x)},a4=function(l){var s=l.map(function(i){return i.map(function(u){return Fi(u)?u:Fi(i[0])?en([u],Br(new Array(i[0].length-1)),!1):u})});return s},EP=function(l){var s,i,u,g,C=(u=(i=(s=l.spreadsheet)===null||s===void 0?void 0:s.dataSet)===null||i===void 0?void 0:i.getFieldFormatter)===null||u===void 0?void 0:u.call(i,l.field);return(g=C==null?void 0:C(l.label))!==null&&g!==void 0?g:l.label},o4=function(l){var s=[],i=function(u){if(u.id!==Uo){var g=EP(u);if(s.unshift(g),u!=null&&u.parent)return i(u.parent)}};return i(l),s},l4=function(l){var s,i;return typeof l=="object"?{isFormatHeader:(s=l.isFormatHeader)!==null&&s!==void 0?s:!1,isFormatData:(i=l.isFormatData)!==null&&i!==void 0?i:!1}:{isFormatHeader:l!=null?l:!1,isFormatData:l!=null?l:!1}},s4=function(l,s,i){var u,g,C,x,E,O=l4(i),R=O.isFormatHeader,k=O.isFormatData,z=(E=l==null?void 0:l.facet)===null||E===void 0?void 0:E.layoutResult,j=z.rowsHierarchy,q=z.rowLeafNodes,ee=z.colLeafNodes,le=z.getCellMeta,me=j.maxLevel,Oe=l.dataCfg.fields.valueInCols,$e=j.sampleNodesForAllLevels.map(function(At){return l.dataSet.getFieldName(At.key)}),Ye=q.reduce(function(At,yr){var $t,En=(($t=yr.level)!==null&&$t!==void 0?$t:0)+1;return En>At?En:At},0),Ze=[],Ut=0;if(!l.isPivotMode())Ze=t4(l,s,k);else{var gr=q.filter(function(At){return At.height!==0});try{for(var br=Ls(gr),Zr=br.next();!Zr.done;Zr=br.next()){var gn=Zr.value,Kn=[];if(R)Kn=o4(gn);else{gn.label=Ne(gn==null?void 0:gn.label);var In=gn.id.replace(Qh,"");Kn=In.split(zl)}var Xn=me+1,gi=Xn-Kn.length;gi>0&&Kn.push.apply(Kn,en([],Br(new Array(gi)),!1));var Pi=l.dataSet.getFieldName(lo(Kn));Kn[Kn.length-1]=Pi;try{for(var Dn=(C=void 0,Ls(ee)),Jn=Dn.next();!Jn.done;Jn=Dn.next()){var So=Jn.value;if(Oe){var no=le(gn.rowIndex,So.colIndex);Kn.push(r4(no,l,k))}else{var no=le(gn.rowIndex,So.colIndex),zo=i4(no,So,l),aa=n4(no,l,zo,k);Fi(aa)?Kn=Kn.concat.apply(Kn,en([],Br(aa),!1)):Kn.push(aa)}}}catch(At){C={error:At}}finally{try{Jn&&!Jn.done&&(x=Dn.return)&&x.call(Dn)}finally{if(C)throw C.error}}Ut=Qo([Kn.length,Ut]);var Wo=Kn.map(function(At){return gA(At)}).join(s);Ze.push(Wo)}}catch(At){u={error:At}}finally{try{Zr&&!Zr.done&&(g=br.return)&&g.call(br)}finally{if(u)throw u.error}}}var Ka=[];if(zn(ee)&&!l.isPivotMode())Ka=[$e];else{var Mu=0,ns=wd(ee).map(function(At){for(var yr=At,$t=[];yr.level!==void 0;){var En=_P(yr.label);Fi(En)?Mu=Qo([Mu,I1(En)]):En=R&&l.isPivotMode()?EP(yr):En,$t.push(En),yr=yr.parent}return $t});Mu>1&&(ns=a4(ns));for(var Ro=ns.map(function(At){return At.length}),Tl=Qo(Ro),Lh=[],Dv=function(At){var yr=ns.map(function($t){return $t.length<Tl?en(en([],Br(new Array(Tl-$t.length)),!1),Br($t),!1):$t}).map(function($t){return $t[At]}).map(function($t){return l.dataSet.getFieldName($t)});Lh.push(Bg(yr))},oc=Tl-1;oc>=0;oc-=1)Dv(oc);Ka=Lh.map(function(At,yr){var $t,En;if(l.isPivotMode()){var xi=l.facet.cornerHeader.cfg,Si=xi.columns,Vo=xi.rows,_s=xi.data,nu=_s.filter(function(by){var Ad=by.cornerType;return Ad===c0.Col});if(yr<Lh.length-1)return en(en(en([],Br(Array(me).fill("")),!1),[((En=nu.find(function(by){var Ad=by.field;return Ad===Si[yr]}))===null||En===void 0?void 0:En.label)||""],!1),Br(At),!1);var cf=Vo.slice(0,Ye);return cf.length<Ye&&cf.unshift.apply(cf,en([],Br(Array(Ye-cf.length).fill("")),!1)),en(en([],Br(cf.map(function(by){return l.dataSet.getFieldName(by)||""})),!1),Br(At),!1)}return yr<Lh.length?($t=Array(Ye).fill("")).concat.apply($t,en([],Br(At),!1)):$e.concat.apply($e,en([],Br(At),!1))})}var Fp=Ka.map(function(At){var yr=Ut-At.length;return yr>0&&At.unshift.apply(At,en([],Br(new Array(yr)),!1)),At.map(function($t){return gA($t)}).join(s)}).join(`\r
`),_A=[Fp].concat(Ze),dD=_A.join(`\r
`);return dD},u4=function(l){var s,i,u,g,C,x,E=(u=(i=(s=l.target)===null||s===void 0?void 0:s.attrs)===null||i===void 0?void 0:i.appendInfo)===null||u===void 0?void 0:u.cellData,O=(C=(g=l.target).get)===null||C===void 0?void 0:C.call(g,"parent"),R=((x=O==null?void 0:O.getMeta)===null||x===void 0?void 0:x.call(O))||E;return{target:O,viewMeta:R,event:l}},BR=function(l,s,i){var u,g=l.split(zl);if(i)u=[l];else{u=[HT(g[0],g[1])];for(var C=2;C<g.length;C+=1)u.push(HT(u[C-2],g[C]))}var x=h(s,function(E){var O;return u.includes((O=E.getMeta())===null||O===void 0?void 0:O.id)});return x},MP=function(l,s,i){if(l){var u=BR(l,s);Xi(u,function(g){g.updateByState(i)})}},c4=function(l,s){return typeof l=="function"?l(s):l.some(function(i){return i===s.key||i===s.id||i===s.valueField})},kR=function(l){Ni(s,l);function s(i,u){for(var g=[],C=2;C<arguments.length;C++)g[C-2]=arguments[C];var x=l.call(this,{})||this;return x.textShapes=[],x.actualTextWidth=0,x.conditionIconShapes=[],x.stateShapes=new Map,x.meta=i,x.spreadsheet=u,x.theme=u.theme,x.conditions=x.spreadsheet.options.conditions,x.handleRestOptions.apply(x,en([],Br(g),!1)),x.shouldInit()&&x.initCell(),x}return s.prototype.getMeta=function(){return this.meta},s.prototype.setMeta=function(i){this.meta=i},s.prototype.getIconStyle=function(){return this.theme[this.cellType].icon},s.prototype.getTextAndIconPosition=function(i){i===void 0&&(i=1);var u=this.getTextStyle(),g=this.getIconStyle();return WT(this.getContentArea(),u,this.actualTextWidth,g,i)},s.prototype.getActualText=function(){return this.actualText},s.prototype.getFieldValue=function(){var i=this.getFormattedFieldValue().formattedValue;return i===Zv?this.getActualText():i},s.prototype.handleRestOptions=function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u]},s.prototype.shouldInit=function(){var i=this.meta,u=i.width,g=i.height;return u>0&&g>0},s.prototype.getStyle=function(i){return Mi(this.theme,i||this.cellType)},s.prototype.getResizeAreaStyle=function(){return this.getStyle("resizeArea")},s.prototype.shouldDrawResizeAreaByType=function(i,u){var g=this.spreadsheet.options.interaction.resize;return xv(g)?g:kl(g.visible)?g.visible(u):g[i]},s.prototype.getCellArea=function(){var i=this.meta,u=i.x,g=i.y,C=i.height,x=i.width;return{x:u,y:g,height:C,width:x}},s.prototype.getContentArea=function(){var i=this.getStyle()||this.theme.dataCell,u=(i==null?void 0:i.cell).padding;return aP(this.getCellArea(),u)},s.prototype.getIconPosition=function(i){return i===void 0&&(i=1),this.getTextAndIconPosition(i).icon},s.prototype.drawTextShape=function(){var i=this.getFormattedFieldValue().formattedValue,u=this.getMaxTextWidth(),g=this.getTextStyle(),C=this.spreadsheet,x=C.options.placeholder,E=C.measureTextWidth,O=OM(this,x),R=TM({measureTextWidth:E,text:i,maxWidth:u,fontParam:g,placeholder:O});this.actualText=R,this.actualTextWidth=E(R,g);var k=this.getTextPosition();this.textShape=W2(this,[this.textShape],k.x,k.y,R,g),this.textShapes.push(this.textShape)},s.prototype.drawLinkFieldShape=function(i,u){if(i){var g=this.spreadsheet.options.style.device;if(!ic(g)){var C=this.getTextStyle(),x=this.getTextPosition(),E=x.x;C.textAlign==="center"?E-=this.actualTextWidth/2:C.textAlign==="right"&&(E-=this.actualTextWidth);var O=this.textShape.getBBox().maxY;this.linkFieldShape=uf(this,{x1:E,y1:O+1,x2:E+this.actualTextWidth,y2:O+1},{stroke:u,lineWidth:1})}this.textShape.attr({fill:u,cursor:"pointer",appendInfo:{isLinkFieldText:!0,cellData:this.meta}})}},s.prototype.getLinkFieldStyle=function(){return this.getTextStyle().linkTextFill},s.prototype.drawLinkField=function(i){var u=this.spreadsheet.options.interaction.linkFields,g=u===void 0?[]:u,C=this.getLinkFieldStyle(),x=c4(g,i);this.drawLinkFieldShape(x,C)},s.prototype.updateByState=function(i,u){var g=this;this.spreadsheet.interaction.setInteractedCells(u);var C=Mi(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(i));Xi(C,function(x,E){var O=Aa(_O(gl,function(R){return Mh(R,E)}));O.forEach(function(R){var k=g.stateShapes.has(R),z=k?g.stateShapes.get(R):g[R],j=Fi(z)?z:[z];if(k&&j.forEach(function(ee){ee.set("visible",!0)}),R==="interactiveBorderShape"&&E==="borderWidth"&&Th(x)){var q=g.getInteractiveBorderShapeStyle(x);Xi(q,function(ee,le){Av(j,le,ee)})}Av(j,Pl[E],x)})})},s.prototype.getInteractiveBorderShapeStyle=function(i){var u=this.getCellArea(),g=u.x,C=u.y,x=u.height,E=u.width,O=this.theme.dataCell.cell,R=O.horizontalBorderWidth,k=O.verticalBorderWidth;return{x:g+k/2+i/2,y:C+R/2+i/2,width:E-k-i,height:x-R-i}},s.prototype.hideInteractionShape=function(){this.stateShapes.forEach(function(i){Av(i,Pl.backgroundOpacity,0),Av(i,Pl.backgroundColor,"transparent"),Av(i,Pl.borderOpacity,0),Av(i,Pl.borderWidth,1),Av(i,Pl.borderColor,"transparent")})},s.prototype.clearUnselectedState=function(){Av(this.backgroundShape,Pl.backgroundOpacity,1),Av(this.textShapes,Pl.textOpacity,1),Av(this.linkFieldShape,Pl.opacity,1)},s.prototype.getTextShape=function(){return this.textShape},s.prototype.getTextShapes=function(){return this.textShapes||[this.textShape]},s.prototype.addTextShape=function(i){i&&this.textShapes.push(i)},s.prototype.getConditionIconShape=function(){return this.conditionIconShape},s.prototype.getConditionIconShapes=function(){return this.conditionIconShapes||[this.conditionIconShape]},s.prototype.addConditionIconShape=function(i){i&&this.conditionIconShapes.push(i)},s.prototype.resetTextAndConditionIconShapes=function(){this.textShapes=[],this.conditionIconShapes=[]},Object.defineProperty(s.prototype,"cellConditions",{get:function(){return this.conditions},enumerable:!1,configurable:!0}),s.prototype.drawConditionIconShapes=function(){var i,u=this.findFieldCondition((i=this.conditions)===null||i===void 0?void 0:i.icon);if(u&&u.mapping){var g=this.mappingValue(u),C=this.getIconPosition(),x=this.theme.dataCell.icon.size;zn(g==null?void 0:g.icon)||(this.conditionIconShape=QI(this,ur(ur({},C),{name:g.icon,width:x,height:x,fill:g.fill})),this.addConditionIconShape(this.conditionIconShape))}},s.prototype.getTextConditionFill=function(i){var u,g,C=i.fill,x=this.findFieldCondition((u=this.conditions)===null||u===void 0?void 0:u.text);return x!=null&&x.mapping&&(C=((g=this.mappingValue(x))===null||g===void 0?void 0:g.fill)||i.fill),C},s.prototype.getCrossBackgroundColor=function(i){var u=this.getStyle().cell,g=u.crossBackgroundColor,C=u.backgroundColorOpacity;return g&&i%2===0?{backgroundColorOpacity:C,backgroundColor:g}:{backgroundColorOpacity:C,backgroundColor:this.getStyle().cell.backgroundColor}},s}(pl),TP=function(l,s){return s?s(l[ra],l[cu]):l[cu]},AM=function(l,s){var i=s.getMeta().id;return l.some(function(u){return sf(u.id,i)})},mA=function(l,s){return"".concat(l).concat($c).concat(s)},f4=function(l){var s=l.interaction.getSelectedCellHighlight(),i=s.currentRow,u=s.currentCol,g=s.rowHeader,C=s.colHeader;return i||u||g||C},FR=function(l){return l.type===An.DATA_CELL},h4=function(l,s){Xi(l,function(i){FR(i)&&i.rowIndex===s.getMeta().rowIndex&&s.updateByState(bi.SELECTED)})},d4=function(l,s){Xi(l,function(i){FR(i)&&i.colIndex===s.getMeta().colIndex&&s.updateByState(bi.SELECTED)})},v4=function(l,s){Xi(l,function(i){FR(i)&&i.rowIndex===s.getMeta().rowIndex&&i.colIndex===s.getMeta().colIndex&&s.updateByState(bi.SELECTED)})},p4=function(l,s,i){var u=i.interaction.getSelectedCellHighlight(),g=u.rowHeader,C=u.colHeader,x=u.currentRow,E=u.currentCol,O=s.cellType===An.ROW_CELL,R=i.isTableMode()&&i.options.showSeriesNumber&&g&&O;(x||R)&&h4(l,s),E&&d4(l,s),(g||C)&&v4(l,s)},vx=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"cellType",{get:function(){return An.DATA_CELL},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"valueRangeByField",{get:function(){return this.spreadsheet.dataSet.getValueRangeByField(this.meta.valueField)},enumerable:!1,configurable:!0}),s.prototype.handleByStateName=function(i,u){AM(i,this)&&this.updateByState(u)},s.prototype.handleSearchResult=function(i){if(AM(i,this)){var u=y(i,function(g){return g==null?void 0:g.isTarget});u.id===this.getMeta().id?this.updateByState(bi.HIGHLIGHT):this.updateByState(bi.SEARCH_RESULT)}},s.prototype.handleSelect=function(i){var u,g=(u=i==null?void 0:i[0])===null||u===void 0?void 0:u.type;switch(g){case An.COL_CELL:this.changeRowColSelectState("colIndex");break;case An.ROW_CELL:this.changeRowColSelectState("rowIndex");break;case An.DATA_CELL:f4(this.spreadsheet)?p4(i,this,this.spreadsheet):AM(i,this)?this.updateByState(bi.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight&&this.updateByState(bi.UNSELECTED);break}},s.prototype.handleHover=function(i){var u=te(i);if(u.type!==An.DATA_CELL){this.hideInteractionShape();return}var g=this.spreadsheet.interaction.getHoverHighlight(),C=g.currentRow,x=g.currentCol;if(C||x){var E=this.meta.colIndex,O=this.meta.rowIndex;x&&E===(u==null?void 0:u.colIndex)||C&&O===(u==null?void 0:u.rowIndex)?this.updateByState(bi.HOVER):this.hideInteractionShape()}var R=this.getMeta(),k=R.id,z=R.rowIndex,j=R.colIndex;sf(u.id,k)&&sf(u.rowIndex,z)&&sf(u.colIndex,j)&&this.updateByState(bi.HOVER_FOCUS)},s.prototype.update=function(){var i=this.spreadsheet.interaction.getCurrentStateName(),u=this.spreadsheet.interaction.getCells();if(i===bi.ALL_SELECTED){this.updateByState(bi.SELECTED);return}if(!(zn(u)||!i))switch(i){case bi.SELECTED:this.handleSelect(u);break;case bi.HOVER_FOCUS:case bi.HOVER:this.handleHover(u);break;case bi.SEARCH_RESULT:this.handleSearchResult(u);break;default:this.handleByStateName(u,i);break}},s.prototype.setMeta=function(i){l.prototype.setMeta.call(this,i),this.initCell()},s.prototype.drawTextShape=function(){l.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},s.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.shouldHideRowSubtotalData()||(this.drawConditionIntervalShape(),this.drawTextShape(),this.drawConditionIconShapes()),this.drawInteractiveBorderShape(),this.meta.isFrozenCorner&&this.drawBorderShape(),this.update()},s.prototype.getDefaultTextFill=function(i){var u=i.fill,g=this.getBackgroundColor(),C=g.backgroundColor,x=g.intelligentReverseTextColor;return L1(C)&&i.fill===eC&&x&&(u=Qv),u},s.prototype.getTextStyle=function(){var i=this.meta.isTotals,u=i?this.theme.dataCell.bolderText:this.theme.dataCell.text,g=this.getTextConditionFill(ur(ur({},u),{fill:this.getDefaultTextFill(u)}));return ur(ur({},u),{fill:g})},s.prototype.getIconStyle=function(){var i,u=this.theme.dataCell.icon,g=u.size,C=u.margin,x=this.findFieldCondition((i=this.conditions)===null||i===void 0?void 0:i.icon),E=x&&x.mapping&&{size:g,margin:C,position:a8(x)};return E},s.prototype.drawConditionIntervalShape=function(){this.conditionIntervalShape=f8(this)},s.prototype.shouldHideRowSubtotalData=function(){var i,u=((i=this.spreadsheet.options.totals)!==null&&i!==void 0?i:{}).row,g=u===void 0?{}:u,C=this.meta.rowIndex,x=this.spreadsheet.facet.layoutResult.rowLeafNodes[C],E=!(x!=null&&x.isGrandTotals)&&(x==null?void 0:x.isTotals);return this.spreadsheet.options.hierarchyType==="tree"&&!g.showSubTotals&&E},s.prototype.getFormattedFieldValue=function(){if(this.shouldHideRowSubtotalData())return{value:null,formattedValue:$c};var i=this.meta,u=i.rowId,g=i.valueField,C=i.fieldValue,x=i.data,E=this.spreadsheet.dataSet.getFieldMeta(u),O=E?u:g,R=this.spreadsheet.dataSet.getFieldFormatter(O),k=R(C,x,this.meta);return{value:C,formattedValue:k}},s.prototype.getMaxTextWidth=function(){var i=this.getContentArea().width;return lP(i,this.getIconStyle())},s.prototype.getTextPosition=function(){return this.getTextAndIconPosition().text},s.prototype.getBackgroundColor=function(){var i,u=this.getCrossBackgroundColor(this.meta.rowIndex),g=u.backgroundColor,C=u.backgroundColorOpacity;if(this.shouldHideRowSubtotalData())return{backgroundColor:g,backgroundColorOpacity:C};var x=this.findFieldCondition((i=this.conditions)===null||i===void 0?void 0:i.background),E=!1;if(x&&x.mapping){var O=this.mappingValue(x);O&&(g=O.fill,E=O.intelligentReverseTextColor)}return{backgroundColor:g,backgroundColorOpacity:C,intelligentReverseTextColor:E}},s.prototype.drawBackgroundShape=function(){var i=this.getBackgroundColor(),u=i.backgroundColor,g=i.backgroundColorOpacity;this.backgroundShape=Od(this,ur(ur({},this.getCellArea()),{fill:u,fillOpacity:g}))},s.prototype.drawInteractiveBorderShape=function(){var i=1,u=this.getCellArea(),g=u.x,C=u.y,x=u.height,E=u.width;this.stateShapes.set("interactiveBorderShape",Od(this,{x:g+i,y:C+i,width:E-i*2,height:x-i*2},{capture:!1,visible:!1}))},s.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",Od(this,ur({},this.getCellArea()),{visible:!1}))},s.prototype.changeRowColSelectState=function(i){var u=this.spreadsheet.interaction,g=Mi(this.meta,i),C=u.getState(),x=C.nodes,E=x===void 0?[]:x,O=C.cells,R=O===void 0?[]:O,k=!1;if(this.spreadsheet.isTableMode()&&E.length){var z=E[0].hierarchy.getLeaves();k=z.some(function(j,q){return E.some(function(ee){return ee===j})?q===g:!1})}else k=en(en([],Br(E),!1),Br(R),!1).some(function(j){return Mi(j,i)===g});k?this.updateByState(bi.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight?this.updateByState(bi.UNSELECTED):this.hideInteractionShape()},s.prototype.drawBorderShape=function(){var i=this;[Yu.BOTTOM,Yu.RIGHT].forEach(function(u){var g=dx(u,i.getCellArea(),i.getStyle().cell),C=g.position,x=g.style;uf(i,C,x)})},s.prototype.findFieldCondition=function(i){var u=this;return Y(i,function(g){return g.field instanceof RegExp?g.field.test(u.meta.valueField):g.field===u.meta.valueField})},s.prototype.mappingValue=function(i){var u=this.meta.fieldValue,g=this.spreadsheet.isTableMode()?this.spreadsheet.dataSet.getCellData({query:{rowIndex:this.meta.rowIndex}}):this.meta.data;return i==null?void 0:i.mapping(u,g)},s.prototype.updateByState=function(i){if(l.prototype.updateByState.call(this,i,this),i===bi.UNSELECTED){var u=Mi(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(i));u&&this.toggleConditionIntervalShapeOpacity(u.opacity)}},s.prototype.clearUnselectedState=function(){l.prototype.clearUnselectedState.call(this),this.toggleConditionIntervalShapeOpacity(1)},s.prototype.toggleConditionIntervalShapeOpacity=function(i){Av(this.conditionIntervalShape,Pl.backgroundOpacity,i),Av(this.conditionIconShapes,Pl.opacity,i)},s.prototype.drawLeftBorder=function(){var i=dx(Yu.LEFT,this.getCellArea(),this.getStyle().cell),u=i.position,g=i.style;uf(this,u,g)},s}(kR),g4=function(l){Ni(s,l);function s(i,u,g){return l.call(this,g,i,u)||this}return s.prototype.handleRestOptions=function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var g=Br(i,1),C=g[0];this.cells=C},Object.defineProperty(s.prototype,"cellType",{get:function(){return An.MERGED_CELL},enumerable:!1,configurable:!0}),s.prototype.update=function(){},s.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.conditions=this.spreadsheet.options.conditions,this.drawBackgroundShape(),this.drawTextShape()},s.prototype.drawBackgroundShape=function(){var i=b4(this.cells),u=this.theme.dataCell.cell;this.backgroundShape=r8(this,{points:i,stroke:u.horizontalBorderColor,fill:u.backgroundColor,lineHeight:u.horizontalBorderWidth})},s.prototype.drawTextShape=function(){zn(this.meta)||(na(this.meta.fieldValue)?fP(this):l.prototype.drawTextShape.call(this))},s}(vx),m4=function(l,s,i,u){var g=[l,s],C=[l+i,s],x=[l+i,s+u],E=[l,s+u];return[[g,C],[C,x],[x,E],[E,g]]},y4=function(l){var s=[];return Xi(l,function(i){var u=[i[1],i[0]];JSON.stringify(l).includes(JSON.stringify(u))||s.push(i)}),s},C4=function(l,s){return y(s,function(i){return sf(i[0],l[1])})},b4=function(l){var s=[];l.forEach(function(x){var E=x.getMeta(),O=E.x,R=E.y,k=E.width,z=E.height;s=s.concat(m4(O,R,k,z))}),s=y4(s);for(var i=[],u=s[0],g=u,C=[];!sf(u,C);)i=i.concat(g),C=C4(g,s),g=C;return i},w4=function(l,s){var i=[],u;return Xi(l,function(g){var C,x,E,O=(x=(C=s==null?void 0:s.facet)===null||C===void 0?void 0:C.layoutResult)===null||x===void 0?void 0:x.getCellMeta(g.rowIndex,g.colIndex);if(O){var R=(E=s==null?void 0:s.facet)===null||E===void 0?void 0:E.cfg.dataCell(O);u=g!=null&&g.showText?O:u,i.push(R)}}),{cells:i,cellsMeta:u}},x4=function(l,s){var i=[],u=[],g;return Xi(l,function(C){var x=y(s,function(E){var O,R=(O=E==null?void 0:E.getMeta)===null||O===void 0?void 0:O.call(E);if((R==null?void 0:R.colIndex)===(C==null?void 0:C.colIndex)&&(R==null?void 0:R.rowIndex)===(C==null?void 0:C.rowIndex))return E});x?(i.push(x),g=C!=null&&C.showText?x==null?void 0:x.getMeta():g):u.push(C)}),{cells:i,invisibleCellInfo:u,cellsMeta:g}},OP=function(l,s,i){var u;i===void 0&&(i=[]);var g=x4(i,l),C=g.cellsMeta,x=g.cells,E=g.invisibleCellInfo,O=C,R=x,k=(E==null?void 0:E.length)>0&&E.length<i.length;if(k){var z=w4(E,s),j=z.cells,q=z.cellsMeta;O=O||q,R=x.concat(j)}return!zn(x)&&!O&&(O=(u=R[0])===null||u===void 0?void 0:u.getMeta()),{cells:R,viewMeta:O}},S4=function(l){var s=l.interaction,i=s.getActiveCells(),u=[];return Xi(i,function(g,C){var x=g.getMeta(),E=C===0?{showText:!0}:{};u.push(ur(ur({},E),{colIndex:x==null?void 0:x.colIndex,rowIndex:x==null?void 0:x.rowIndex}))}),u},AP=function(l,s,i){return l.options.mergedCell?l.options.mergedCell(l,s,i):new g4(l,s,i)},_4=function(l,s,i){var u,g=s||S4(l);if((g==null?void 0:g.length)<=1){console.error("then merged cells must be more than one");return}var C=l.interaction.getPanelGroupAllDataCells(),x=OP(C,l,g),E=x.cells,O=x.viewMeta;if(!zn(E)){var R=((u=l.options)===null||u===void 0?void 0:u.mergedCellsInfo)||[];R.push(g),l.setOptions({mergedCellsInfo:R});var k=i?void 0:O;l.panelScrollGroup.addMergeCell(AP(l,E,k))}},E4=function(l,s){var i=Me(l.cells,function(u){return{colIndex:u.getMeta().colIndex,rowIndex:u.getMeta().rowIndex}});return h(s,function(u){var g=u.map(function(C){return C.showText?{colIndex:C.colIndex,rowIndex:C.rowIndex}:C});return!sf(g,i)})},M4=function(l,s){var i,u,g;if(!s||s.cellType!==An.MERGED_CELL){console.error("unmergeCell: the ".concat(s," is not a MergedCell"));return}var C=E4(s,(i=l.options)===null||i===void 0?void 0:i.mergedCellsInfo);(C==null?void 0:C.length)!==((g=(u=l.options)===null||u===void 0?void 0:u.mergedCellsInfo)===null||g===void 0?void 0:g.length)&&(l.setOptions({mergedCellsInfo:C}),s.remove(!0))},CF=function(l,s){var i={};return en(en([],Br(l),!1),Br(s),!1).forEach(function(u){i[u.viewMeta.id]=u}),Object.values(i)},T4=function(l){return Me(l,function(s){return{cells:s.cells,viewMeta:s.getMeta()}})},IP=function(l,s){return UE(l,s,function(i,u){return sf(i.viewMeta.id,u.viewMeta.id)})},O4=function(l,s){var i,u=(i=l.options)===null||i===void 0?void 0:i.mergedCellsInfo;if(!zn(u)){var g=l.interaction.getPanelGroupAllDataCells();if(!zn(g)){var C=[];u.forEach(function(k){var z=OP(g,l,k);z.cells.length>0&&C.push(z)});var x=s.getChildren(),E=T4(x),O=IP(E,C),R=IP(C,E);Xi(O,function(k){var z=y(x,function(j){return sf(j.getMeta().id,k.viewMeta.id)});z==null||z.remove(!0)}),Xi(R,function(k){var z=k.cells,j=k.viewMeta;s.add(AP(l,z,j))})}}},RP=function(l){var s=l.includes(zl)?"id":"field";return s},NR=function(l,s){s===void 0&&(s=[]);var i=l.getInitColumnLeafNodes();return xh(s.map(function(u){var g=RP(u);return i.find(function(C){return C[g]===u})}))},A4=function(l,s){if(s===void 0&&(s=[]),zn(s))return{prev:null,next:null};var i=l.getInitColumnLeafNodes(),u=NR(l,s).map(function(O){return O==null?void 0:O.colIndex}),g=Math.max.apply(Math,en([],Br(u),!1)),C=Math.min.apply(Math,en([],Br(u),!1)),x=i.find(function(O){return O.colIndex===g+1}),E=i.find(function(O){return O.colIndex===C-1});return{prev:E||null,next:x||null}},I4=function(l,s){if(zn(s))return[];var i=Number.NEGATIVE_INFINITY;return l.reduce(function(u,g,C){if(!s.includes(g))return u;if(C===i+1){var x=lo(u);x.push(g)}else{var E=[g];u.push(E)}return i=C,u},[])},DP=function(l,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1);var u=function(z,j){z===void 0&&(z=[]),j===void 0&&(j=[]),l.setOptions({interaction:{hiddenColumnFields:z}}),l.interaction.reset(),l.store.set("hiddenColumnsDetail",j),l.render(!1,{reBuildHiddenColumnsDetail:!1})};if(zn(s)&&i){u();return}var g=l.store.get("hiddenColumnsDetail",[]),C=l.options.interaction.hiddenColumnFields;if(!(sf(s,C)&&!i)){var x=sn(en(en([],Br(s),!1),Br(C),!1)),E=NR(l,x).every(function(z,j,q){var ee=q[j+1];return!ee||Math.abs(z.colIndex-ee.colIndex)===1}),O=A4(l,E?x:s),R={hideColumnNodes:NR(l,s),displaySiblingNode:O},k=en(en([],Br(g),!1),[R],!1);l.emit(Ar.LAYOUT_COLS_HIDDEN,R,k),u(x,k)}},R4=function(l){var s=l.dataCfg.fields.columns,i=s===void 0?[]:s;return l.isTableMode()?i:l.getInitColumnLeafNodes().map(function(u){var g=u.id;return g})},HR=function(l,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),zn(s)&&i&&DP(l,s,!0);var u=R4(l),g=MM(u),C=I4(g,s);C.forEach(function(x){DP(l,x,i)})},D4=function(l,s){var i=l.getColumnLeafNodes(),u=l.getInitColumnLeafNodes(),g=RP(s);return Mi(lo(i),g)===s&&Mi(lo(u),g)!==s},L4=function(l){return(l==null?void 0:l.next)||(l==null?void 0:l.prev)},P4=function(l){var s=L4(l);return s==null?void 0:s.id},zR=function(l,s){return P4(l)===s},yA=function(l){var s=l.type,i=l.id,u=l.theme,g=l.width,C=l.height,x=rC(l,["type","id","theme","width","height"]),E=s===yc.Horizontal?u.size:null,O=s===yc.Vertical?u.size:null;return{fill:u.background,fillOpacity:u.backgroundOpacity,cursor:"".concat(s,"-resize"),width:E,height:O,appendInfo:ur(ur({},x),{isResizeArea:!0,type:s,id:i,width:g,height:C,size:u.size})}},CA=function(l,s){if(l.foregroundGroup){var i=l.foregroundGroup.findById(s);return i||l.foregroundGroup.addGroup({id:s,zIndex:Rx})}},WR=function(l,s,i){var u=i!=null?i:{},g=u.scrollX,C=g===void 0?0:g,x=u.scrollY,E=x===void 0?0:x,O=!(l.x-C>s.x+s.width||l.x+l.width-C<s.x),R=!(l.y-E>s.y+s.height||l.y+l.height-E<s.y);return O&&R},B4=function(l,s,i){if(!l)return!1;var u=l.iconNames,g=l.displayCondition,C=l.belongsCell;return zn(u)||C!==i?!1:g?u.some(function(x){return g(s,x)}):!0},GR=function(l,s,i){var u=y(l,function(C){return B4(C,s,i)});if(u){var g=u.iconNames;return u.displayCondition&&(g=g.filter(function(C){return u.displayCondition(s,C)})),ur(ur({},u),{iconNames:g})}},LP=function(l,s){var i=l.label,u=l.field;return sf(u,ra)?{formattedValue:s||i,value:i}:{formattedValue:i,value:i}},GT=function(l){return Se(l)==="ASC"},$R=function(l){return Se(l)==="DESC"},PP=function(l){return!dO(Number(l))},BP=function(l,s,i){var u=GT(s)?1:-1,g=["-",void 0];return l==null?void 0:l.sort(function(C,x){var E=C,O=x;if(i){if(E=C[i],O=x[i],PP(E)&&PP(O))return(Number(E)-Number(O))*u;if(E&&(g!=null&&g.includes(E==null?void 0:E.toString())))return-u;if(Number(E)&&(g!=null&&g.includes(O==null?void 0:O.toString())))return u}return!ru(E)&&!ru(O)?E.toString().localeCompare(O.toString(),"zh")*u:E?u:-u})},kP=function(l,s,i){return i?e8(s,sn(l)):en([],Br(new Set(en(en([],Br(l),!1),Br(s),!1))),!1)},FP=function(l){var s=l.sortByValues,i=l.originValues,u=i.filter(function(E){return s.find(function(O){return ex(E,O)})}),g=u.map(function(E){var O=E.split(zl);if(O.length>1){var R=O.slice(0,O.length-1).join(zl);return[R,O[O.length-1]]}return O}),C=Array.from(new Set(g.map(function(E){return E[0]})));g.sort(function(E,O){var R=E.slice(0,E.length-1),k=O.slice(0,O.length-1);if(R.join()!==k.join()){var z=C.indexOf(R[0]),j=C.indexOf(k[0]);return z-j}var q=s.indexOf(E[E.length-1]),ee=s.indexOf(O[O.length-1]);return q-ee});var x=g.map(function(E){return E.join(zl)});return MR(i,x)},k4=function(l){var s=l.originValues,i=l.measureValues,u=l.sortParam,g=l.dataSet,C=u.sortFunc,x=u.sortFieldId,E=u.sortMethod,O=C(ur({data:i},u));return O!=null&&O.length?(g.fields.rows.indexOf(x)>0||g.fields.columns.indexOf(x)>0)&&!Mh(O[0],zl)?FP({sortByValues:O,originValues:s}):kP(O,s,GT(E)):s},F4=function(l){var s=l.sortParam,i=l.measureValues,u=l.originValues,g=l.dataSet,C=s.sortByMeasure,x=s.query,E=s.sortFieldId,O=s.sortMethod,R=g.fields,k=R.rows,z=R.columns,j=k.includes(E),q;if(C){var ee=BP(i,O,C===B0?x[ra]:C);q=S8(E,j?k:MM(z),ee)}else q=Me(BP(i,O));return kP(q,u,GT(O))},N4=function(l){var s=l.sortParam,i=l.originValues,u=l.measureValues,g=l.dataSet,C=s.sortFunc,x=s.sortMethod,E=s.sortBy,O=i,R={originValues:i,measureValues:u,sortParam:s,dataSet:g};return C?O=k4(R):E?O=FP({sortByValues:E,originValues:i}):(GT(x)||$R(x))&&(O=F4(R)),O},H4=function(l,s,i){var u,g={},C=Mh(l,zl);if(C)for(var x=tR(l,zl),E=!((u=s==null?void 0:s.rows)===null||u===void 0)&&u.includes(i)?s.rows:MM(s.columns),O=0;O<=w6(E,i);O++)g[E[O]]=x[O];else g[i]=l;return g},NP=function(l){return l.filter(function(s){return s!==ra})},z4=function(l){var s=l.dataSet,i=l.sortParam,u=l.originValues,g=s.fields,C=i.sortByMeasure,x=i.query,E=i.sortFieldId,O=s.getMultiData(x,void 0,void 0,void 0,!0),R=MM(g.columns);if(C!==B0){var k=Sh(g.rows,R);return O.filter(function($e){var Ye=new Set(Aa($e));return k.every(function(Ze){return Ye.has(Ze)})})}var z=Mh(g.rows,E),j=NP(z?g.rows:R),q=NP(z?R:g.rows),ee=j[j.indexOf(E)+1],le=Aa(x),me=q.filter(function($e){return!le.includes($e)}),Oe=O.filter(function($e){var Ye=new Set(Aa($e));if(!Ye.has(E)||Ye.has(ee))return!1;var Ze=me.every(function(Ut){return!Ye.has(Ut)});return Ze});return zn(Oe)?xh(Me(u,function($e){var Ye=H4($e,g,E);return s.getTotalValue(ur(ur({},x),Ye))})):Oe},W4=function(l){var s=l.dataSet,i=l.sortParam,u=l.originValues,g=l.isSortByMeasure,C;return g?C=z4(l):C=u,N4({sortParam:i,originValues:u,measureValues:C,dataSet:s})},HP=function(l,s){if(l!=null&&l.sortMethod){if(GT(l==null?void 0:l.sortMethod))return"groupAsc";if($R(l==null?void 0:l.sortMethod))return"groupDesc"}if(s)return"SortDown"},UR=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.handleRestOptions=function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var g=Br(i,1),C=g[0];this.headerConfig=ur({},C);var x=this.meta,E=x.value,O=x.query,R=this.spreadsheet.dataCfg.sortParams,k=this.isSortCell(),z=y(en([],Br(R),!1).reverse(),function(q){return k&&(q==null?void 0:q.sortByMeasure)===E&&sf(Mi(q,"query"),O)}),j=HP(z,k);this.headerConfig.sortParam=ur(ur(ur({},this.headerConfig.sortParam),z||{query:O}),{type:j})},s.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.actionIcons=[],this.hasDefaultHiddenIcon=!1},s.prototype.getTreeIcon=function(){return this.treeIcon},s.prototype.getInteractiveBorderShapeStyle=function(i){var u=this.getCellArea(),g=u.x,C=u.y,x=u.height,E=u.width;return{x:g+i,y:C+i,width:E-i*2,height:x-i*2}},s.prototype.getFormattedFieldValue=function(){var i=this.meta,u=i.label,g=i.isTotalRoot,C=i.isGrandTotals,x=this.spreadsheet.dataSet.getFieldFormatter(this.meta.field),E=!0;this.spreadsheet.isTableMode()?E=!1:this.spreadsheet.isHierarchyTreeType()?E=!(C&&g):E=!g;var O=E&&x?x(u,void 0,this.meta):u;return{formattedValue:O,value:u}},s.prototype.getActionIconCfg=function(){return GR(this.spreadsheet.options.headerActionIcons,this.meta,this.cellType)},s.prototype.showSortIcon=function(){var i=this.spreadsheet,u=i.options,g=i.dataCfg,C=zn(g.fields.values);if(u.showDefaultHeaderActionIcon&&!C){var x=this.headerConfig.sortParam,E=this.meta.query;return E&&sf(x==null?void 0:x.query,E)&&(x==null?void 0:x.type)&&(x==null?void 0:x.type)!=="none"}return!1},s.prototype.getActionIconsCount=function(){if(this.showSortIcon())return 1;var i=this.getActionIconCfg();if(i){var u=i.iconNames;return u.length}return 0},s.prototype.getActionIconsWidth=function(){var i=this.getStyle().icon,u=i.size,g=i.margin;return(u+g.left)*this.getActionIconsCount()},s.prototype.drawSortIcons=function(){var i=this;if(this.showSortIcon()){var u=this.getStyle(),g=u.icon,C=u.text,x=this.getTextConditionFill(C),E=this.headerConfig.sortParam,O=this.getIconPosition(),R=new lA(ur(ur({name:Mi(E,"type","none")},O),{width:g.size,height:g.size,fill:x}));R.on("click",function(k){i.spreadsheet.emit(Ar.GLOBAL_ACTION_ICON_CLICK,k),i.spreadsheet.handleGroupSort(k,i.meta)}),this.add(R),this.actionIcons.push(R)}},s.prototype.hasDefaultHideActionIcon=function(){return this.hasDefaultHiddenIcon},s.prototype.addActionIcon=function(i){var u=this,g=i.x,C=i.y,x=i.iconName,E=i.defaultHide,O=i.action,R=i.onClick,k=i.onHover,z=this.getStyle(),j=z.icon,q=z.text,ee=this.getTextConditionFill(q),le=(j==null?void 0:j.fill)||ee,me=new lA({name:x,x:g,y:C,width:j==null?void 0:j.size,height:j==null?void 0:j.size,fill:le});me.set("visible",!E),me.on("mouseover",function(Oe){u.spreadsheet.emit(Ar.GLOBAL_ACTION_ICON_HOVER,Oe),k==null||k({hovering:!0,iconName:x,meta:u.meta,event:Oe})}),me.on("mouseleave",function(Oe){u.spreadsheet.emit(Ar.GLOBAL_ACTION_ICON_HOVER_OFF,Oe),k==null||k({hovering:!1,iconName:x,meta:u.meta,event:Oe})}),me.on("click",function(Oe){var $e;u.spreadsheet.emit(Ar.GLOBAL_ACTION_ICON_CLICK,Oe),($e=R||O)===null||$e===void 0||$e({iconName:x,meta:u.meta,event:Oe})}),this.actionIcons.push(me),this.add(me)},s.prototype.drawActionIcons=function(){var i=this;if(this.showSortIcon()){this.drawSortIcons();return}var u=this.getActionIconCfg();if(u){var g=u.iconNames,C=u.action,x=u.onClick,E=u.onHover,O=u.defaultHide,R=this.getIconPosition(g.length),k=this.getStyle().icon,z=k.size,j=k.margin;Xi(g,function(q,ee){var le=R.x+ee*z+ee*j.left,me=R.y,Oe=typeof O=="function"?O(i.meta,q):O;Oe&&(i.hasDefaultHiddenIcon=!0),i.addActionIcon({iconName:q,x:le,y:me,defaultHide:Oe,action:C,onClick:x,onHover:E})})}},s.prototype.drawBackgroundShape=function(){var i=this.getBackgroundColor(),u=i.backgroundColor,g=i.backgroundColorOpacity;this.backgroundShape=Od(this,ur(ur({},this.getCellArea()),{fill:u,fillOpacity:g}))},s.prototype.isSortCell=function(){var i,u,g,C=(u=(i=this.meta.spreadsheet)===null||i===void 0?void 0:i.isValueInCols)===null||u===void 0?void 0:u.call(i),x=this.meta.level===((g=this.meta.hierarchy)===null||g===void 0?void 0:g.maxLevel);return C?x&&this.cellType===An.COL_CELL:x&&this.cellType===An.ROW_CELL},s.prototype.handleByStateName=function(i,u){AM(i,this)&&this.updateByState(u)},s.prototype.handleSearchResult=function(i){if(AM(i,this)){var u=y(i,function(g){return g==null?void 0:g.isTarget});u.id===this.getMeta().id?this.updateByState(bi.HIGHLIGHT):this.updateByState(bi.SEARCH_RESULT)}},s.prototype.handleHover=function(i){var u;AM(i,this)&&(this.updateByState(bi.HOVER),this.hasDefaultHideActionIcon()&&this.toggleActionIcon((u=i==null?void 0:i[0])===null||u===void 0?void 0:u.id))},s.prototype.handleSelect=function(i,u){AM(i,this)&&this.updateByState(bi.SELECTED);var g=Me(u,"id");Mh(g,this.meta.id)&&this.updateByState(bi.SELECTED)},s.prototype.getTextStyle=function(){var i=this.getStyle(),u=i.text,g=i.bolderText,C=i.measureText,x;this.isMeasureField()?x=C||u:this.isBolderText()?x=g:x=u;var E=this.getTextConditionFill(x);return ur(ur({},x),{fill:E})},s.prototype.getBackgroundColor=function(){var i,u=((i=this.getStyle())===null||i===void 0?void 0:i.cell)||{},g=u.backgroundColor,C=u.backgroundColorOpacity;return this.getBackgroundColorByCondition(g,C)},s.prototype.getBackgroundColorByCondition=function(i,u){var g,C=i,x=this.findFieldCondition((g=this.conditions)===null||g===void 0?void 0:g.background);if(x&&x.mapping){var E=this.mappingValue(x);E&&(C=E.fill)}return{backgroundColor:C,backgroundColorOpacity:u}},s.prototype.toggleActionIcon=function(i){if(this.getMeta().id===i){var u=[];Xi(this.actionIcons,function(g){g.get("visible")||(g.set("visible",!0),u.push(g))}),this.spreadsheet.store.set("visibleActionIcons",u)}},s.prototype.update=function(){var i=this.spreadsheet.interaction,u=i==null?void 0:i.getState(),g=i==null?void 0:i.getCells([An.CORNER_CELL,An.COL_CELL,An.ROW_CELL]);if(te(g))switch(u==null?void 0:u.stateName){case bi.SELECTED:case bi.BRUSH_SELECTED:this.handleSelect(g,u==null?void 0:u.nodes);break;case bi.HOVER_FOCUS:case bi.HOVER:this.handleHover(g);break;case bi.SEARCH_RESULT:this.handleSearchResult(g);break;default:this.handleByStateName(g,u==null?void 0:u.stateName);break}},s.prototype.updateByState=function(i){l.prototype.updateByState.call(this,i,this)},s.prototype.hideInteractionShape=function(){l.prototype.hideInteractionShape.call(this)},s.prototype.isMeasureField=function(){return[ra,P0].includes(this.meta.field)},s.prototype.mappingValue=function(i){var u=this.getMeta().label;return i==null?void 0:i.mapping(u,this.meta)},s.prototype.findFieldCondition=function(i){var u=this;return Y(i,function(g){return g.field instanceof RegExp?g.field.test(u.meta.field):g.field===u.meta.field})},s}(kR),bA=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"cellType",{get:function(){return An.COL_CELL},enumerable:!1,configurable:!0}),s.prototype.initCell=function(){l.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorders(),this.drawResizeArea(),this.addExpandColumnIconShapes(),this.update()},s.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",Od(this,ur({},this.getCellArea()),{visible:!1}))},s.prototype.drawInteractiveBorderShape=function(){var i=2;this.stateShapes.set("interactiveBorderShape",Od(this,this.getInteractiveBorderShapeStyle(i),{visible:!1}))},s.prototype.getMaxTextWidth=function(){var i=this.getContentArea().width;return i-this.getActionIconsWidth()},s.prototype.getIconPosition=function(){if(this.meta.isLeaf)return l.prototype.getIconPosition.call(this,this.getActionIconsCount());var i=this.getIconStyle(),u=i.margin.left,g=this.getTextStyle(),C=this.textPosition,x=C.x,E=C.y-i.size/2;return g.textAlign==="left"?{x:x+this.actualTextWidth+u,y:E}:g.textAlign==="right"?{x:x+u,y:E}:{x:x+this.actualTextWidth/2+u,y:E}},s.prototype.isBolderText=function(){var i=this.meta,u=i.isLeaf,g=i.isTotals;return!!(g||!u)},s.prototype.getTextPosition=function(){var i,u=this.meta.isLeaf,g=this.headerConfig,C=g.width,x=g.scrollContainsRowHeader,E=g.cornerWidth,O=g.scrollX,R=this.getTextStyle(),k=this.getContentArea(),z=this.getIconStyle();if(u)return WT(k,R,this.actualTextWidth,z,this.getActionIconsCount()).text;var j={start:O-(x?E:0),width:C+(x?E:0)},q=this.getTextStyle().textAlign,ee=p8(j,q,(i=this.getStyle().cell)===null||i===void 0?void 0:i.padding),le=this.getActionIconsWidth(),me=this.actualTextWidth+le,Oe=v8(ee,{start:k.x,width:k.width},me),$e=g8(Oe,this.actualTextWidth,le,q),Ye=k.y+k.height/2;return this.textPosition={x:$e,y:Ye},this.textPosition},s.prototype.getActionIconsWidth=function(){var i=this.getStyle().icon,u=i.size,g=i.margin,C=this.getActionIconsCount();return(u+g.left)*C+(C>0?g.right:0)},s.prototype.getColResizeAreaKey=function(){return this.meta.key},s.prototype.getColResizeArea=function(){return CA(this.spreadsheet,sl)},s.prototype.getHorizontalResizeAreaName=function(){return"".concat(ul).concat(this.meta.key)},s.prototype.drawHorizontalResizeArea=function(){var i,u,g=((u=(i=this.spreadsheet.options.style)===null||i===void 0?void 0:i.colCfg)===null||u===void 0?void 0:u.height)===0;if(!(g||!this.shouldDrawResizeAreaByType("colCellVertical",this))){var C=this.headerConfig,x=C.cornerWidth,E=C.viewportWidth,O=this.meta,R=O.y,k=O.height,z=this.getResizeAreaStyle(),j=this.getColResizeArea(),q=this.getHorizontalResizeAreaName(),ee=j.find(function(me){return me.attrs.name===q});if(!ee){var le=x+E;j.addShape("rect",{attrs:ur(ur({},yA({theme:z,type:yc.Vertical,id:this.getColResizeAreaKey(),effect:fu.Field,offsetX:0,offsetY:R,width:le,height:k,meta:this.meta})),{name:q,x:0,y:R+k-z.size/2,width:le})})}}},s.prototype.shouldAddVerticalResizeArea=function(){var i=this.meta,u=i.x,g=i.y,C=i.width,x=i.height,E=this.headerConfig,O=E.scrollX,R=E.scrollY,k=E.scrollContainsRowHeader,z=E.cornerWidth,j=E.height,q=E.width,ee=this.getResizeAreaStyle(),le={x:u+C-ee.size/2,y:g,width:ee.size,height:x},me={x:k?-z:0,y:0,width:k?z+q:q,height:j};return WR(le,me,{scrollX:O,scrollY:R})},s.prototype.getVerticalResizeAreaOffset=function(){var i=this.meta,u=i.x,g=i.y,C=this.headerConfig,x=C.scrollX,E=C.position;return{x:E.x+u-x,y:E.y+g}},s.prototype.drawVerticalResizeArea=function(){if(!(!this.meta.isLeaf||!this.shouldDrawResizeAreaByType("colCellHorizontal",this))){var i=this.meta,u=i.label,g=i.width,C=i.height,x=this.getResizeAreaStyle(),E=this.getColResizeArea();if(this.shouldAddVerticalResizeArea()){var O=this.getVerticalResizeAreaOffset(),R=O.x,k=O.y;E.addShape("rect",{attrs:ur(ur({},yA({theme:x,type:yc.Horizontal,effect:fu.Cell,id:u,offsetX:R,offsetY:k,width:g,height:C,meta:this.meta})),{x:R+g-x.size/2,y:k,height:C})})}}},s.prototype.drawResizeArea=function(){this.drawHorizontalResizeArea(),this.drawVerticalResizeArea()},s.prototype.drawHorizontalBorder=function(){var i=dx(Yu.TOP,this.meta,this.theme.colCell.cell),u=i.position,g=i.style;uf(this,u,g)},s.prototype.drawVerticalBorder=function(i){var u=dx(i,this.meta,this.theme.colCell.cell),g=u.position,C=u.style;uf(this,g,C)},s.prototype.drawBorders=function(){var i=this.spreadsheet,u=i.options,g=i.isTableMode;this.meta.colIndex===0&&g()&&!u.showSeriesNumber&&this.drawVerticalBorder(Yu.LEFT),this.drawHorizontalBorder(),this.drawVerticalBorder(Yu.RIGHT)},s.prototype.hasHiddenColumnCell=function(){var i=this,u=this.spreadsheet.options,g=u.interaction.hiddenColumnFields,C=g===void 0?[]:g,x=u.tooltip.operation,E=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return zn(E)||zn(C)||!x.hiddenColumns?!1:!!E.find(function(O){return zR(O==null?void 0:O.displaySiblingNode,i.meta.id)})},s.prototype.getExpandIconTheme=function(){var i=this.getStyle();return i.icon},s.prototype.addExpandColumnSplitLine=function(){var i=this.meta,u=i.x,g=i.y,C=i.width,x=i.height,E=this.theme.splitLine,O=E.horizontalBorderColor,R=E.horizontalBorderWidth,k=E.horizontalBorderColorOpacity,z=E.borderDash,j=this.isLastColumn()?u+C-R:u;uf(this,{x1:j,y1:g,x2:j,y2:g+x},{stroke:O,lineWidth:R,strokeOpacity:k,lineDash:z})},s.prototype.addExpandColumnIconShapes=function(){this.hasHiddenColumnCell()&&(this.addExpandColumnSplitLine(),this.addExpandColumnIcons())},s.prototype.addExpandColumnIcons=function(){var i=this.isLastColumn();this.addExpandColumnIcon(i),this.isAllDisplaySiblingNodeHidden()&&i&&this.addExpandColumnIcon(!1)},s.prototype.addExpandColumnIcon=function(i){var u=this,g=this.getExpandColumnIconConfig(i),C=QI(this,ur(ur({},g),{name:"ExpandColIcon",cursor:"pointer"}));C.on("click",function(){u.spreadsheet.emit(Ar.LAYOUT_COLS_EXPANDED,u.meta)})},s.prototype.getExpandColumnIconConfig=function(i){var u=this.getExpandIconTheme().size,g=this.getCellArea(),C=g.x,x=g.y,E=g.width,O=g.height,R=C-u,k=i?R+E:R,z=x+O/2-u/2;return{x:k,y:z,width:u*2,height:u}},s.prototype.isLastColumn=function(){return D4(this.spreadsheet,this.meta.id)},s.prototype.isAllDisplaySiblingNodeHidden=function(){var i=this.meta.id,u=this.spreadsheet.store.get("hiddenColumnsDetail",[]),g=u.find(function(x){var E,O=x.displaySiblingNode;return((E=O==null?void 0:O.next)===null||E===void 0?void 0:E.id)===i}),C=u.find(function(x){var E,O=x.displaySiblingNode;return((E=O==null?void 0:O.prev)===null||E===void 0?void 0:E.id)===i});return C&&g},s}(UR),G4=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.isBolderText=function(){var i=this.meta.cornerType;return i===c0.Col},Object.defineProperty(s.prototype,"cellType",{get:function(){return An.CORNER_CELL},enumerable:!1,configurable:!0}),s.prototype.initCell=function(){l.prototype.initCell.call(this),this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawTreeIcon(),this.drawCellText(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorderShape(),this.drawResizeArea(),this.update()},s.prototype.drawCellText=function(){this.drawTextShape()},s.prototype.drawTextShape=function(){var i=this.getContentArea().x,u=this.getCellArea(),g=u.y,C=u.height,x=this.getTextStyle(),E=this.getCornerText(),O=this.getMaxTextWidth(),R=OM(this.meta,this.spreadsheet.options.placeholder),k=this.spreadsheet.measureTextWidth,z=TM({measureTextWidth:k,text:E,maxWidth:O,fontParam:x,placeholder:R});this.actualText=z;var j=z.indexOf(Jh),q=z,ee="";if(j!==-1&&this.spreadsheet.isHierarchyTreeType()){var le=j+(VI()?1:0);q=E.substr(0,le),ee=E.slice(le),ee=TM({measureTextWidth:k,text:ee,maxWidth:O,fontParam:x})}var me=sP({x:i+this.getTreeIconWidth(),y:g,width:O,height:C},x).x,Oe=g+(zn(ee)?C/2:C/4);this.addTextShape(W2(this,[this.textShapes[0]],me,Oe,q,x)),zn(ee)||this.addTextShape(W2(this,[this.textShapes[1]],me,g+C*.75,ee,x)),this.actualTextWidth=Qo([k(q,x),k(ee,x)])},s.prototype.drawTreeIcon=function(){var i=this;if(!(!this.showTreeIcon()||this.meta.cornerType===c0.Col)){var u=this.headerConfig.hierarchyCollapse,g=this.getStyle().icon.size,C=this.getTextStyle(),x=C.textBaseline,E=C.fill,O=this.getContentArea();this.treeIcon=nP(this,{x:O.x,y:JI(O,x,g),width:g,height:g},E,u,function(){i.headerConfig.spreadsheet.store.set("scrollY",0),i.headerConfig.spreadsheet.emit(Ar.LAYOUT_TREE_ROWS_COLLAPSE_ALL,u)})}},s.prototype.drawBorderShape=function(){var i=this;[Yu.TOP,Yu.LEFT].forEach(function(u){var g=dx(u,i.getCellArea(),i.getStyle().cell),C=g.position,x=g.style;uf(i,C,x)})},s.prototype.isLastRowCornerCell=function(){var i=this.meta,u=i.cornerType,g=i.field,C=this.headerConfig.rows;return u===c0.Row&&(this.spreadsheet.isHierarchyTreeType()||lo(C)===g)},s.prototype.getResizeAreaEffect=function(){var i=this.meta.cornerType;return i===c0.Series?fu.Series:this.isLastRowCornerCell()&&this.spreadsheet.isHierarchyTreeType()?fu.Tree:fu.Field},s.prototype.drawResizeArea=function(){if(this.shouldDrawResizeAreaByType("cornerCellHorizontal",this)){var i=this.getResizeAreaStyle(),u=CA(this.spreadsheet,N0),g=this.headerConfig,C=g.position,x=g.scrollX,E=g.scrollY,O=g.width,R=g.height,k=this.meta,z=k.x,j=k.y,q=k.width,ee=k.height,le=k.field,me=k.cornerType,Oe={x:z+q-i.size/2,y:j,width:i.size,height:ee},$e={x:0,y:0,width:O,height:R};if(!(me===c0.Col||!WR(Oe,$e,{scrollX:x,scrollY:E}))){var Ye=C.x+z-x,Ze=C.y+(this.isLastRowCornerCell()?0:j);u.addShape("rect",{attrs:ur(ur({},yA({theme:i,id:le,type:yc.Horizontal,effect:this.getResizeAreaEffect(),offsetX:Ye,offsetY:Ze,width:q,height:ee,meta:this.meta})),{x:Ye+q-i.size/2,y:Ze,height:this.isLastRowCornerCell()?R:ee})})}}},s.prototype.showTreeIcon=function(){var i;return this.spreadsheet.isHierarchyTreeType()&&((i=this.meta)===null||i===void 0?void 0:i.x)===0},s.prototype.getIconPosition=function(){var i,u,g=(u=(i=this.textShapes)===null||i===void 0?void 0:i[0])===null||u===void 0?void 0:u.cfg.attrs,C=this.getTextStyle(),x=C.textBaseline,E=C.textAlign,O=this.getStyle().icon,R=O.size,k=O.margin,z=(g==null?void 0:g.x)+Zw([[vT("center"),nd(this.actualTextWidth/2)],[vT("right"),nd(0)],[lR,nd(this.actualTextWidth)]])(E)+k.left,j=JI(this.getContentArea(),x,R);return{x:z,y:j}},s.prototype.getTreeIconWidth=function(){var i=this.getStyle().icon,u=i.size,g=i.margin;return this.showTreeIcon()?u+g.right:0},s.prototype.getTextStyle=function(){var i=this.getStyle(),u=i.text,g=i.bolderText,C=this.isBolderText()?u:g,x=this.getTextConditionFill(C);return ur(ur({},C),{fill:x})},s.prototype.getMaxTextWidth=function(){var i=this.getContentArea().width;return i-this.getTreeIconWidth()-this.getActionIconsWidth()},s.prototype.getTextPosition=function(){return{x:0,y:0}},s.prototype.getFormattedFieldValue=function(){return LP(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},s.prototype.getCornerText=function(){var i=this.getFormattedFieldValue().formattedValue;return i},s}(UR),a6=function(){function l(s){this.EVENT="gesture",this.gm=s}return l.prototype.do=function(s){var i=s.type;switch(i){case"touchstart":this.onTouchStart(s);break;case"touchmove":this.onTouchMove(s);break;case"touchend":this.onTouchEnd(s);break;case"touchcancel":this.onTouchCancel(s);break;default:return}},l.prototype.emit=function(s){this.gm.emit(this.EVENT,s)},l}(),$4=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.EVENT="pan",i}return s.prototype.onTouchCancel=function(i){},s.prototype.onTouchEnd=function(i){},s.prototype.onTouchMove=function(i){var u=i.x,g=i.y,C=u-this.preX,x=g-this.preY;this.preX=u,this.preY=g,this.emit({x:u,y:g,deltaX:C,deltaY:x,event:i})},s.prototype.onTouchStart=function(i){var u=i.x,g=i.y;this.preX=u,this.preY=g},s}(a6),$2=typeof performance=="object"&&performance.now?performance:Date,U4=300,zP=10,Y4=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.EVENT="press",i}return s.prototype.onTouchCancel=function(i){this.clearTimeout()},s.prototype.onTouchEnd=function(i){this.clearTimeout()},s.prototype.onTouchMove=function(i){var u=i.x,g=i.y;(u-this.touchStartX>zP||g-this.touchStartY>zP)&&this.clearTimeout()},s.prototype.onTouchStart=function(i){var u=this;this.clearTimeout();var g=i.x,C=i.y;this.touchStartTime=$2.now(),this.touchStartX=g,this.touchStartY=C,this.pressTimeout=window.setTimeout(function(){u.emit({x:g,y:C,event:i})},U4)},s.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},s}(a6),j4=100,V4=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.EVENT="swipe",i.latestMoveTime=0,i.ms=0,i.speedX=0,i.speedY=0,i.preX=0,i.preY=0,i}return s.prototype.onTouchCancel=function(i){},s.prototype.onTouchEnd=function(i){var u=this.speedX,g=this.speedY;if($2.now()-this.latestMoveTime<j4){var C=i.x,x=i.y;this.emit({x:C,y:x,speedX:u,speedY:g,event:i})}},s.prototype.onTouchMove=function(i){var u=i.x,g=i.y,C=$2.now(),x=u-this.preX,E=g-this.preY,O=C-this.ms;this.speedX=x/O,this.speedY=E/O,this.latestMoveTime=C},s.prototype.onTouchStart=function(i){var u=i.x,g=i.y;this.speedX=this.speedY=0,this.preX=u,this.preY=g,this.ms=$2.now()},s}(a6),X4=300,WP=2,Z4=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.EVENT="tap",i}return s.prototype.onTouchCancel=function(i){},s.prototype.onTouchEnd=function(i){var u=i.x,g=i.y;u-this.touchStartX<WP&&g-this.touchStartY<WP&&$2.now()-this.touchStartTime<X4&&this.emit({x:u,y:g,event:i})},s.prototype.onTouchMove=function(i){},s.prototype.onTouchStart=function(i){var u=i.x,g=i.y;this.touchStartTime=$2.now(),this.touchStartX=u,this.touchStartY=g},s}(a6),K4={Pan:$4,Press:Y4,Swipe:V4,Tap:Z4},q4=function(l){return K4[l]},GP=function(l){Ni(s,l);function s(i,u){u===void 0&&(u={});var g=l.call(this)||this;return g.onTouchStart=function(C){g.preventEvent(C),g.element.on("touchmove",g.onTouchMove),g.element.on("touchend",g.onTouchEnd),g.element.on("touchcancel",g.onTouchCancel),g.emit("touchdown",C),g.doGestures(C)},g.onTouchMove=function(C){g.preventEvent(C),g.emit("touchmove",C),g.doGestures(C)},g.onTouchEnd=function(C){g.preventEvent(C),g.emit("touchend",C),g.element.off("touchmove",g.onTouchMove),g.element.off("touchend",g.onTouchEnd),g.element.off("touchcancel",g.onTouchCancel),g.doGestures(C)},g.onTouchCancel=function(C){g.preventEvent(C),g.emit("touchcancel",C),g.element.off("touchmove",g.onTouchMove),g.element.off("touchend",g.onTouchEnd),g.element.off("touchcancel",g.onTouchCancel),g.doGestures(C)},g.element=i,g.options=u,g.initialGestures(),g.bindTouchStart(),g}return s.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},s.prototype.initialGestures=function(){var i=this,u=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=u.map(function(g){var C=q4(g);return new C(i)})},s.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},s.prototype.preventEvent=function(i){var u=i.type,g=this.options.prevents||[];g.includes(u)&&i.preventDefault()},s.prototype.doGestures=function(i){this.gestures.forEach(function(u){u.do(i)})},s}(ei),Q4=df,J4=800,eB="swipe",tB="pan",$P="wheel",rB=function(l){Ni(s,l);function s(i){var u=l.call(this)||this;return u.rafMs=0,u.onPan=function(g){u.raf&&cancelAnimationFrame(u.raf);var C=g.deltaX,x=g.deltaY,E=u.getWrapperEvent(g,C,x);u.emit($P,E)},u.onSwipe=function(g){var C=g.speedX,x=g.speedY;u.rafMs=$2.now(),u.ms=u.rafMs,(C!==0||x!==0)&&u.rafInertia(g)},u.element=i,u.gm=new GP(i,{gestures:["Pan","Swipe"]}),u.gm.on(eB,u.onSwipe),u.gm.on(tB,u.onPan),u}return s.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},s.prototype.rafInertia=function(i){var u=this,g=i.speedX,C=i.speedY;this.raf=window.requestAnimationFrame(function(){var x=$2.now(),E=(x-u.ms)/J4;if(E<1){E=Q4(1-E);var O=x-u.rafMs,R=g*E*O,k=C*E*O,z=u.getWrapperEvent(i,R,k);u.emit($P,z),u.rafMs=x,u.rafInertia(i)}})},s.prototype.getWrapperEvent=function(i,u,g){return ur(ur({},i),{deltaX:-u,deltaY:-g})},s}(ei),nB=function(l){var s=0,i=l.children;return i==null||i.forEach(function(u){s+=u.height||0}),s},UP=function(l,s,i,u,g){var C=0,x=l+(s-g)/2,E=l+(s+g)/2,O=i+u;return l+g>=O?C=l:O<E?C=i+u-g:i>x?l+s-i>g?C=i:C=l+s-g:C=l+(s-g)/2,C},o6=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"cellType",{get:function(){return An.ROW_CELL},enumerable:!1,configurable:!0}),s.prototype.destroy=function(){var i;l.prototype.destroy.call(this),(i=this.gm)===null||i===void 0||i.destroy()},s.prototype.initCell=function(){l.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawTreeIcon(),this.drawTreeLeafNodeAlignDot(),this.drawRectBorder(),this.drawResizeAreaInLeaf(),this.drawActionIcons(),this.update()},s.prototype.getBackgroundColor=function(){var i=this.getCrossBackgroundColor(this.meta.rowIndex),u=i.backgroundColor,g=i.backgroundColorOpacity;return this.getBackgroundColorByCondition(u,g)},s.prototype.drawInteractiveBorderShape=function(){var i=2;this.stateShapes.set("interactiveBorderShape",Od(this,this.getInteractiveBorderShapeStyle(i),{visible:!1}))},s.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",Od(this,ur({},this.getCellArea()),{visible:!1}))},s.prototype.showTreeIcon=function(){return this.spreadsheet.isHierarchyTreeType()&&!this.meta.isLeaf},s.prototype.showTreeLeafNodeAlignDot=function(){var i;return((i=this.spreadsheet.options.style)===null||i===void 0?void 0:i.showTreeLeafNodeAlignDot)&&this.spreadsheet.isHierarchyTreeType()},s.prototype.getParentTreeIconCfg=function(){if(!(!this.showTreeLeafNodeAlignDot()||!this.spreadsheet.isHierarchyTreeType()||!this.meta.isLeaf))return Mi(this.meta,"parent.belongsCell.treeIcon.cfg")},s.prototype.drawTreeIcon=function(){var i=this;if(this.showTreeIcon()){var u=this.meta,g=u.isCollapsed,C=u.id,x=u.hierarchy,E=this.getContentArea().x,O=this.getTextStyle().fill,R=this.getStyle().icon.size,k=this.getContentIndent(),z=E+k,j=this.getIconYPosition();this.treeIcon=nP(this,{x:z,y:j,width:R,height:R},O,g,function(){if(!ic()){if(!g){var q=i.spreadsheet.store.get("scrollY"),ee=i.spreadsheet.facet.panelBBox.viewportHeight||0,le=nB(i.meta),me=x.height-le;if(q>0&&q+ee>me){var Oe=me-ee;i.spreadsheet.store.set("scrollY",Oe>0?Oe:0)}}i.spreadsheet.emit(Ar.ROW_CELL_COLLAPSE_TREE_ROWS,{id:C,isCollapsed:!g,node:i.meta})}}),ic()&&(this.gm=new GP(this,{gestures:["Tap"]}),this.gm.on("tap",function(){i.spreadsheet.emit(Ar.ROW_CELL_COLLAPSE_TREE_ROWS,{id:C,isCollapsed:!g,node:i.meta})}))}},s.prototype.drawTreeLeafNodeAlignDot=function(){var i=this.getParentTreeIconCfg();if(i){var u=this.getStyle().icon,g=u.size,C=u.margin,x=i.x+g+C.right,E=this.getTextPosition().y,O=this.getTextStyle(),R=O.fill,k=O.fontSize,z=g/5;this.treeLeafNodeAlignDot=rP(this,{x:x+g/2,y:E+(k-z)/2,r:z,fill:R,fillOpacity:.3})}},s.prototype.isBolderText=function(){var i=this.meta,u=i.isLeaf,g=i.isTotals,C=i.level;return!u&&C===0||g},s.prototype.drawTextShape=function(){l.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},s.prototype.drawRectBorder=function(){var i=this,u=this.getCellArea().x,g=this.getContentIndent(),C=this.spreadsheet.isHierarchyTreeType()?u:u+g;[Yu.BOTTOM,Yu.LEFT].forEach(function(x){var E=dx(x,ur(ur({},i.getCellArea()),{x:C}),i.getStyle().cell),O=E.position,R=E.style;uf(i,O,R)})},s.prototype.drawResizeAreaInLeaf=function(){if(!(!this.meta.isLeaf||!this.shouldDrawResizeAreaByType("rowCellVertical",this))){var i=this.getCellArea(),u=i.x,g=i.y,C=i.width,x=i.height,E=this.getResizeAreaStyle(),O=CA(this.spreadsheet,qv),R=this.headerConfig,k=R.position,z=R.seriesNumberWidth,j=R.width,q=R.viewportHeight,ee=R.scrollX,le=R.scrollY,me={x:u,y:g+x-E.size/2,width:C,height:E.size},Oe={x:0,y:0,width:j,height:q};if(WR(me,Oe,{scrollX:ee,scrollY:le})){var $e=(k==null?void 0:k.x)+u-ee+z,Ye=(k==null?void 0:k.y)+g-le,Ze=this.spreadsheet.isFrozenRowHeader()?j-z-(u-ee):C;O.addShape("rect",{attrs:ur(ur({},yA({id:this.meta.id,theme:E,type:yc.Vertical,effect:fu.Cell,offsetX:$e,offsetY:Ye,width:C,height:x,meta:this.meta})),{x:$e,y:Ye+x-E.size/2,width:Ze})})}}},s.prototype.getContentIndent=function(){if(!this.spreadsheet.isHierarchyTreeType())return 0;for(var i=this.getStyle(),u=i.icon,g=i.cell,C=u.size+u.margin.right,x=this.meta.parent,E=0;x;)x.height!==0&&(E+=C),x=x.parent;return this.showTreeLeafNodeAlignDot()&&(E+=this.isTreeLevel()?0:g.padding.right+u.margin.right),E},s.prototype.getTextIndent=function(){var i=this.getStyle().icon,u=i.size,g=i.margin,C=this.getContentIndent(),x=this.showTreeIcon()||this.isTreeLevel()&&this.showTreeLeafNodeAlignDot()?u+g.right:0;return C+x},s.prototype.isTreeLevel=function(){return y(Mi(this.meta,"parent.children"),function(i){return!i.isLeaf})},s.prototype.getIconPosition=function(){var i=this.textShape.cfg.attrs,u=i.x,g=i.y,C=i.textAlign,x=this.getStyle().icon.margin.left;return C==="left"?{x:u+this.actualTextWidth+x,y:g}:C==="right"?{x:u+x,y:g}:{x:u+this.actualTextWidth/2+x,y:g}},s.prototype.getMaxTextWidth=function(){var i=this.getContentArea().width;return i-this.getTextIndent()-this.getActionIconsWidth()},s.prototype.getTextArea=function(){var i=this.getContentArea(),u=this.getTextIndent();return ur(ur({},i),{x:i.x+u,width:i.width-u})},s.prototype.getAdjustTextAreaHeight=function(i,u,g){var C=i.height;return!this.spreadsheet.facet.vScrollBar&&i.y+i.height>u+g&&(C=u+g-i.y),C},s.prototype.getTextPosition=function(){var i=this.getTextArea(),u=this.headerConfig,g=u.scrollY,C=u.viewportHeight,x=this.getAdjustTextAreaHeight(i,g,C),E=this.getTextStyle().fontSize,O=UP(i.y,x,g,C,E),R=WT(i,this.getTextStyle(),0,this.getIconStyle(),this.getActionIconsCount()).text.x;return{x:R,y:O}},s.prototype.getIconYPosition=function(){var i=this.getTextPosition().y,u=this.getStyle().icon.size,g=this.getTextStyle().fontSize;return i+(g-u)/2},s}(UR),iB=function(l,s,i,u){var g,C,x=Mi(u,"size"),E=Mi(u,"margin"),O=0;return l.options.showDefaultHeaderActionIcon?O=1:O=(C=(g=GR(l.options.headerActionIcons,s,i))===null||g===void 0?void 0:g.iconNames.length)!==null&&C!==void 0?C:0,O*(x+E.left)+(O>0?E.right:0)},YP=function(l,s,i){var u,g,C=((u=i.icon.margin)===null||u===void 0?void 0:u.left)||0,x=((g=i.icon.margin)===null||g===void 0?void 0:g.right)||0,E=l.store.get("hiddenColumnsDetail",[]),O=!1,R=!1;E.forEach(function(z){var j,q,ee,le;((q=(j=z==null?void 0:z.displaySiblingNode)===null||j===void 0?void 0:j.prev)===null||q===void 0?void 0:q.field)===s&&(O=!0),((le=(ee=z==null?void 0:z.displaySiblingNode)===null||ee===void 0?void 0:ee.next)===null||le===void 0?void 0:le.field)===s&&(R=!0)});var k=Mi(i,"icon.size");return{left:R?k+x:0,right:O?k+C:0}},aB=function(l,s,i){var u=Mi(i,"cell.padding"),g=YP(l,s.field,i);return u.left+u.right+iB(l,s,An.COL_CELL,Mi(i,"icon"))+g.left+g.right},YR=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.handleRestOptions=function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var g=Br(i,1),C=g[0];this.headerConfig=ur({},C);var x=this.meta.field,E=this.spreadsheet.dataCfg.sortParams,O=y(E,function(k){return(k==null?void 0:k.sortFieldId)===x}),R=HP(O,!0);this.headerConfig.sortParam=ur(ur(ur({},this.headerConfig.sortParam),O||{}),{type:R})},s.prototype.isFrozenCell=function(){var i=this.spreadsheet.options,u=i.frozenColCount,g=i.frozenTrailingColCount,C=this.spreadsheet.facet.layoutResult.colNodes.filter(function(E){return vy(E)}),x=Z5(this.meta).colIndex;return _M(x,u)||EM(x,g,C.length)},s.prototype.getFormattedFieldValue=function(){return LP(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},s.prototype.shouldAddVerticalResizeArea=function(){return this.isFrozenCell()?!0:l.prototype.shouldAddVerticalResizeArea.call(this)},s.prototype.getVerticalResizeAreaOffset=function(){var i=this.meta,u=i.x,g=i.y,C=this.headerConfig,x=C.scrollX,E=C.position;return this.isFrozenCell()?{x:u,y:g}:{x:E.x+u-x,y:E.y+g}},s.prototype.getColResizeArea=function(){var i=this.isFrozenCell();return i?CA(this.spreadsheet,eh):l.prototype.getColResizeArea.call(this)},s.prototype.isSortCell=function(){return!0},s.prototype.showSortIcon=function(){return this.spreadsheet.options.showDefaultHeaderActionIcon},s.prototype.getTextStyle=function(){var i=this.getStyle();return i==null?void 0:i.bolderText},s.prototype.getContentArea=function(){var i,u=(((i=this.getStyle())===null||i===void 0?void 0:i.cell)||this.theme.dataCell.cell).padding,g=ur({},u),C=YP(this.spreadsheet,this.meta.field,this.getStyle());return C.left&&(g.left=(g.left||0)+C.left),C.right&&(g.right=(g.right||0)+C.right),aP(this.getCellArea(),g)},s.prototype.getHorizontalResizeAreaName=function(){return"".concat(ul).concat("table-col-cell")},s.prototype.drawBackgroundShape=function(){var i=this.getStyle().cell.backgroundColor;this.backgroundShape=Od(this,ur(ur({},this.getCellArea()),{fill:i}))},s}(bA),jP=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getStyle=function(i){return i?this.theme[i]:Mi(this,"theme.cornerCell")},s.prototype.showSortIcon=function(){return!1},s.prototype.drawLeftBorder=function(){var i=dx(Yu.LEFT,this.getCellArea(),this.getStyle().cell),u=i.position,g=i.style;uf(this,u,g)},s.prototype.drawBorders=function(){l.prototype.drawBorders.call(this),this.meta.colIndex===0&&this.drawLeftBorder()},s}(YR),wA=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getLinkFieldStyle=function(){return this.theme.rowCell.text.linkTextFill},s.prototype.drawBorderShape=function(){l.prototype.drawBorderShape.call(this),this.meta.colIndex===0&&this.drawLeftBorder()},s.prototype.shouldDrawResizeArea=function(){return this.meta.colIndex===0},s.prototype.drawResizeArea=function(){if(this.shouldDrawResizeArea()){var i=this.getCellArea(),u=i.x,g=i.y,C=i.width,x=i.height,E=this.meta.rowIndex,O=this.getResizeAreaStyle(),R=this.spreadsheet.options,k=R.frozenRowCount,z=R.frozenTrailingRowCount,j=this.spreadsheet.facet.getCellRange(),q=qI(E,j.start,k),ee=sA(E,j.end,z),le=q||ee,me=le?Qd:qv,Oe=CA(this.spreadsheet,me),$e=this.spreadsheet.facet.layoutResult.colsHierarchy.height,Ye=this.spreadsheet.facet.getScrollOffset().scrollY,Ze=this.spreadsheet.facet.getPaginationScrollY(),Ut=Ye+Ze,gr=g+(ee?0:$e);ee||(gr-=q?Ze:Ut),Oe.addShape("rect",{attrs:ur(ur({},yA({id:String(this.meta.rowIndex),theme:O,type:yc.Vertical,effect:fu.Cell,offsetX:u,offsetY:gr,width:C,height:x,meta:this.meta})),{x:u,y:gr+x-O.size/2,width:C})})}},s}(vx),jR=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"cellType",{get:function(){return An.ROW_CELL},enumerable:!1,configurable:!0}),s.prototype.getTextStyle=function(){return this.theme.rowCell.seriesText},s}(wA),l6=function(l){return[Gl.META,Gl.CONTROL].includes(l.key)},VP=function(l){return l.ctrlKey||l.metaKey},py=function(l){var s=l.getMeta(),i=s||{},u=i.id,g=i.colIndex,C=i.rowIndex,x=i.rowQuery;return{id:u,colIndex:g,rowIndex:C,type:l.cellType,rowQuery:x}},oB=function(l,s){var i=l.interaction;i.changeState({stateName:bi.SELECTED,cells:s}),l.emit(Ar.GLOBAL_SELECTED,i.getActiveCells())};function VR(l,s){var i=Math.min(l.rowIndex,s.rowIndex),u=Math.max(l.rowIndex,s.rowIndex),g=Math.min(l.colIndex,s.colIndex),C=Math.max(l.colIndex,s.colIndex);return{start:{rowIndex:i,colIndex:g},end:{rowIndex:u,colIndex:C}}}function lB(l,s){var i=s.interaction,u=s.facet,g=s.options;if(s.isTableMode()){if(!g.showSeriesNumber)return[];var C=u.layoutResult.colLeafNodes[0].id,x=mA(String(l.rowIndex),C),E=[],O=i.getAllCells().find(function(R){return R.getMeta().id===x});return O&&O instanceof jR&&E.push(O),E}return BR(l.rowId,i.getAllRowHeaderCells(),s.isHierarchyTreeType())}var sB=function(l,s){return s.getRowNodes().filter(function(i){return l.includes(i.id)})},uB=function(l,s){return s.getColumnNodes().filter(function(i){return l.includes(i.id)})},cB=function(l,s){var i=s.interaction.getSelectedCellHighlight(),u=i.colHeader,g=i.rowHeader,C=[{shouldGet:g,getter:sB},{shouldGet:u,getter:uB}],x=C.filter(function(E){return E.shouldGet}).reduce(function(E,O){return en(en([],Br(E),!1),Br(O.getter(l.id,s)),!1)},[]).filter(function(E){return!!E.belongsCell}).map(function(E){return py(E.belongsCell)});return en([l],Br(x),!1)},bF=function(l,s){var i=T2(l,function(u,g){return en(en([],Br(u),!1),Br(cB(g,s)),!1)},[]);return bn(en(en([],Br(l),!1),Br(i),!1),"id")},XR=function(l,s){var i=l.getSelectedCellHighlight(),u=i.colHeader,g=i.rowHeader;u&&l.updateCells(l.getAllColHeaderCells()),g&&l.updateCells(l.getAllRowHeaderCells()),s()},XP=function(l){var s=l.store.get("visibleActionIcons"),i=l.interaction.getInteractedCells(),u=l.interaction.getState().cells;if(zn(i)&&zn(u)&&zn(s))return!1;if(Xi(s,function(C){C.set("visible",!1)}),l.store.set("visibleActionIcons",[]),Xi(i,function(C){C.hideInteractionShape()}),l.interaction.resetState(),l.options.interaction.selectedCellsSpotlight){var g=l.interaction.getPanelGroupAllUnSelectedDataCells()||[];Xi(g,function(C){C.clearUnselectedState()})}return!0},fB=function(l,s){var i=s==null?void 0:s.stateName;l.interaction.isEqualStateName(i)||(XP(l),l.hideTooltip(),l.store.set(W0,s))},hB=function(l,s,i){var u,g,C=i.facet,x=C.panelBBox.width,E=C==null?void 0:C.frozenGroupInfo,O=(u=E==null?void 0:E.frozenCol.width)!==null&&u!==void 0?u:0,R=(g=E==null?void 0:E.frozenTrailingCol.width)!==null&&g!==void 0?g:0,k=C.layoutResult.colLeafNodes[l];return s===Lu.SCROLL_UP?k.x-O:k.x+k.width-(x-R)},dB=function(l,s,i){var u,g,C=i.facet,x=C.viewCellHeights.getCellOffsetY,E=C.panelBBox.height,O=x(l+1);if(ru(O))return 0;var R=C==null?void 0:C.frozenGroupInfo,k=(u=R==null?void 0:R.frozenRow.height)!==null&&u!==void 0?u:0,z=(g=R==null?void 0:R.frozenTrailingRow.height)!==null&&g!==void 0?g:0;return s===Lu.SCROLL_UP?x(l)-k:O-(E-z)},k1=function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];var i=function(g,C){if(Fi(g)&&Fi(C))return C},u=en(en([],Br(l),!1),[i],!1);return _d.apply(void 0,en([{}],Br(u),!1))},vB=function(l){var s=["rows","columns","values"],i=s.reduce(function(u,g){var C=l[g],x=sn(C);return sf(x,C)||console.warn("fields.".concat(g,":[").concat(C,"] should be unique")),u[g]=x,u},{});return ur(ur({},l),i)},s6=function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];var i=k1.apply(void 0,en([sb],Br(l),!1));return i.fields=vB(i.fields),(!zn(i.fields.customTreeItems)||zn(i.fields.values))&&(i.fields.valueInCols=!1),i},ZP=function(l){return k1(rv,l)},$T=9e15,U2=1e9,ZR="0123456789abcdef",u6="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",c6="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",KR={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-$T,maxE:$T,crypto:!1},KP,px,Ra=!0,f6="[DecimalError] ",Y2=f6+"Invalid argument: ",qP=f6+"Precision limit exceeded",QP=f6+"crypto unavailable",JP="[object Decimal]",Dh=Math.floor,kc=Math.pow,pB=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,gB=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,mB=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,e5=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gy=1e7,ga=7,yB=9007199254740991,CB=u6.length-1,qR=c6.length-1,wn={toStringTag:JP};wn.absoluteValue=wn.abs=function(){var l=new this.constructor(this);return l.s<0&&(l.s=1),Ji(l)},wn.ceil=function(){return Ji(new this.constructor(this),this.e+1,2)},wn.clampedTo=wn.clamp=function(l,s){var i,u=this,g=u.constructor;if(l=new g(l),s=new g(s),!l.s||!s.s)return new g(NaN);if(l.gt(s))throw Error(Y2+s);return i=u.cmp(l),i<0?l:u.cmp(s)>0?s:new g(u)},wn.comparedTo=wn.cmp=function(l){var s,i,u,g,C=this,x=C.d,E=(l=new C.constructor(l)).d,O=C.s,R=l.s;if(!x||!E)return!O||!R?NaN:O!==R?O:x===E?0:!x^O<0?1:-1;if(!x[0]||!E[0])return x[0]?O:E[0]?-R:0;if(O!==R)return O;if(C.e!==l.e)return C.e>l.e^O<0?1:-1;for(u=x.length,g=E.length,s=0,i=u<g?u:g;s<i;++s)if(x[s]!==E[s])return x[s]>E[s]^O<0?1:-1;return u===g?0:u>g^O<0?1:-1},wn.cosine=wn.cos=function(){var l,s,i=this,u=i.constructor;return i.d?i.d[0]?(l=u.precision,s=u.rounding,u.precision=l+Math.max(i.e,i.sd())+ga,u.rounding=1,i=bB(u,o5(u,i)),u.precision=l,u.rounding=s,Ji(px==2||px==3?i.neg():i,l,s,!0)):new u(1):new u(NaN)},wn.cubeRoot=wn.cbrt=function(){var l,s,i,u,g,C,x,E,O,R,k=this,z=k.constructor;if(!k.isFinite()||k.isZero())return new z(k);for(Ra=!1,C=k.s*kc(k.s*k,1/3),!C||Math.abs(C)==1/0?(i=Gf(k.d),l=k.e,(C=(l-i.length+1)%3)&&(i+=C==1||C==-2?"0":"00"),C=kc(i,1/3),l=Dh((l+1)/3)-(l%3==(l<0?-1:2)),C==1/0?i="5e"+l:(i=C.toExponential(),i=i.slice(0,i.indexOf("e")+1)+l),u=new z(i),u.s=k.s):u=new z(C.toString()),x=(l=z.precision)+3;;)if(E=u,O=E.times(E).times(E),R=O.plus(k),u=Kl(R.plus(k).times(E),R.plus(O),x+2,1),Gf(E.d).slice(0,x)===(i=Gf(u.d)).slice(0,x))if(i=i.slice(x-3,x+1),i=="9999"||!g&&i=="4999"){if(!g&&(Ji(E,l+1,0),E.times(E).times(E).eq(k))){u=E;break}x+=4,g=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(Ji(u,l+1,1),s=!u.times(u).times(u).eq(k));break}return Ra=!0,Ji(u,l,z.rounding,s)},wn.decimalPlaces=wn.dp=function(){var l,s=this.d,i=NaN;if(s){if(l=s.length-1,i=(l-Dh(this.e/ga))*ga,l=s[l],l)for(;l%10==0;l/=10)i--;i<0&&(i=0)}return i},wn.dividedBy=wn.div=function(l){return Kl(this,new this.constructor(l))},wn.dividedToIntegerBy=wn.divToInt=function(l){var s=this,i=s.constructor;return Ji(Kl(s,new i(l),0,1,1),i.precision,i.rounding)},wn.equals=wn.eq=function(l){return this.cmp(l)===0},wn.floor=function(){return Ji(new this.constructor(this),this.e+1,3)},wn.greaterThan=wn.gt=function(l){return this.cmp(l)>0},wn.greaterThanOrEqualTo=wn.gte=function(l){var s=this.cmp(l);return s==1||s===0},wn.hyperbolicCosine=wn.cosh=function(){var l,s,i,u,g,C=this,x=C.constructor,E=new x(1);if(!C.isFinite())return new x(C.s?1/0:NaN);if(C.isZero())return E;i=x.precision,u=x.rounding,x.precision=i+Math.max(C.e,C.sd())+4,x.rounding=1,g=C.d.length,g<32?(l=Math.ceil(g/3),s=(1/p6(4,l)).toString()):(l=16,s="2.3283064365386962890625e-10"),C=UT(x,1,C.times(s),new x(1),!0);for(var O,R=l,k=new x(8);R--;)O=C.times(C),C=E.minus(O.times(k.minus(O.times(k))));return Ji(C,x.precision=i,x.rounding=u,!0)},wn.hyperbolicSine=wn.sinh=function(){var l,s,i,u,g=this,C=g.constructor;if(!g.isFinite()||g.isZero())return new C(g);if(s=C.precision,i=C.rounding,C.precision=s+Math.max(g.e,g.sd())+4,C.rounding=1,u=g.d.length,u<3)g=UT(C,2,g,g,!0);else{l=1.4*Math.sqrt(u),l=l>16?16:l|0,g=g.times(1/p6(5,l)),g=UT(C,2,g,g,!0);for(var x,E=new C(5),O=new C(16),R=new C(20);l--;)x=g.times(g),g=g.times(E.plus(x.times(O.times(x).plus(R))))}return C.precision=s,C.rounding=i,Ji(g,s,i,!0)},wn.hyperbolicTangent=wn.tanh=function(){var l,s,i=this,u=i.constructor;return i.isFinite()?i.isZero()?new u(i):(l=u.precision,s=u.rounding,u.precision=l+7,u.rounding=1,Kl(i.sinh(),i.cosh(),u.precision=l,u.rounding=s)):new u(i.s)},wn.inverseCosine=wn.acos=function(){var l,s=this,i=s.constructor,u=s.abs().cmp(1),g=i.precision,C=i.rounding;return u!==-1?u===0?s.isNeg()?my(i,g,C):new i(0):new i(NaN):s.isZero()?my(i,g+4,C).times(.5):(i.precision=g+6,i.rounding=1,s=s.asin(),l=my(i,g+4,C).times(.5),i.precision=g,i.rounding=C,l.minus(s))},wn.inverseHyperbolicCosine=wn.acosh=function(){var l,s,i=this,u=i.constructor;return i.lte(1)?new u(i.eq(1)?0:NaN):i.isFinite()?(l=u.precision,s=u.rounding,u.precision=l+Math.max(Math.abs(i.e),i.sd())+4,u.rounding=1,Ra=!1,i=i.times(i).minus(1).sqrt().plus(i),Ra=!0,u.precision=l,u.rounding=s,i.ln()):new u(i)},wn.inverseHyperbolicSine=wn.asinh=function(){var l,s,i=this,u=i.constructor;return!i.isFinite()||i.isZero()?new u(i):(l=u.precision,s=u.rounding,u.precision=l+2*Math.max(Math.abs(i.e),i.sd())+6,u.rounding=1,Ra=!1,i=i.times(i).plus(1).sqrt().plus(i),Ra=!0,u.precision=l,u.rounding=s,i.ln())},wn.inverseHyperbolicTangent=wn.atanh=function(){var l,s,i,u,g=this,C=g.constructor;return g.isFinite()?g.e>=0?new C(g.abs().eq(1)?g.s/0:g.isZero()?g:NaN):(l=C.precision,s=C.rounding,u=g.sd(),Math.max(u,l)<2*-g.e-1?Ji(new C(g),l,s,!0):(C.precision=i=u-g.e,g=Kl(g.plus(1),new C(1).minus(g),i+l,1),C.precision=l+4,C.rounding=1,g=g.ln(),C.precision=l,C.rounding=s,g.times(.5))):new C(NaN)},wn.inverseSine=wn.asin=function(){var l,s,i,u,g=this,C=g.constructor;return g.isZero()?new C(g):(s=g.abs().cmp(1),i=C.precision,u=C.rounding,s!==-1?s===0?(l=my(C,i+4,u).times(.5),l.s=g.s,l):new C(NaN):(C.precision=i+6,C.rounding=1,g=g.div(new C(1).minus(g.times(g)).sqrt().plus(1)).atan(),C.precision=i,C.rounding=u,g.times(2)))},wn.inverseTangent=wn.atan=function(){var l,s,i,u,g,C,x,E,O,R=this,k=R.constructor,z=k.precision,j=k.rounding;if(R.isFinite()){if(R.isZero())return new k(R);if(R.abs().eq(1)&&z+4<=qR)return x=my(k,z+4,j).times(.25),x.s=R.s,x}else{if(!R.s)return new k(NaN);if(z+4<=qR)return x=my(k,z+4,j).times(.5),x.s=R.s,x}for(k.precision=E=z+10,k.rounding=1,i=Math.min(28,E/ga+2|0),l=i;l;--l)R=R.div(R.times(R).plus(1).sqrt().plus(1));for(Ra=!1,s=Math.ceil(E/ga),u=1,O=R.times(R),x=new k(R),g=R;l!==-1;)if(g=g.times(O),C=x.minus(g.div(u+=2)),g=g.times(O),x=C.plus(g.div(u+=2)),x.d[s]!==void 0)for(l=s;x.d[l]===C.d[l]&&l--;);return i&&(x=x.times(2<<i-1)),Ra=!0,Ji(x,k.precision=z,k.rounding=j,!0)},wn.isFinite=function(){return!!this.d},wn.isInteger=wn.isInt=function(){return!!this.d&&Dh(this.e/ga)>this.d.length-2},wn.isNaN=function(){return!this.s},wn.isNegative=wn.isNeg=function(){return this.s<0},wn.isPositive=wn.isPos=function(){return this.s>0},wn.isZero=function(){return!!this.d&&this.d[0]===0},wn.lessThan=wn.lt=function(l){return this.cmp(l)<0},wn.lessThanOrEqualTo=wn.lte=function(l){return this.cmp(l)<1},wn.logarithm=wn.log=function(l){var s,i,u,g,C,x,E,O,R=this,k=R.constructor,z=k.precision,j=k.rounding,q=5;if(l==null)l=new k(10),s=!0;else{if(l=new k(l),i=l.d,l.s<0||!i||!i[0]||l.eq(1))return new k(NaN);s=l.eq(10)}if(i=R.d,R.s<0||!i||!i[0]||R.eq(1))return new k(i&&!i[0]?-1/0:R.s!=1?NaN:i?0:1/0);if(s)if(i.length>1)C=!0;else{for(g=i[0];g%10===0;)g/=10;C=g!==1}if(Ra=!1,E=z+q,x=V2(R,E),u=s?v6(k,E+10):V2(l,E),O=Kl(x,u,E,1),xA(O.d,g=z,j))do if(E+=10,x=V2(R,E),u=s?v6(k,E+10):V2(l,E),O=Kl(x,u,E,1),!C){+Gf(O.d).slice(g+1,g+15)+1==1e14&&(O=Ji(O,z+1,0));break}while(xA(O.d,g+=10,j));return Ra=!0,Ji(O,z,j)},wn.minus=wn.sub=function(l){var s,i,u,g,C,x,E,O,R,k,z,j,q=this,ee=q.constructor;if(l=new ee(l),!q.d||!l.d)return!q.s||!l.s?l=new ee(NaN):q.d?l.s=-l.s:l=new ee(l.d||q.s!==l.s?q:NaN),l;if(q.s!=l.s)return l.s=-l.s,q.plus(l);if(R=q.d,j=l.d,E=ee.precision,O=ee.rounding,!R[0]||!j[0]){if(j[0])l.s=-l.s;else if(R[0])l=new ee(q);else return new ee(O===3?-0:0);return Ra?Ji(l,E,O):l}if(i=Dh(l.e/ga),k=Dh(q.e/ga),R=R.slice(),C=k-i,C){for(z=C<0,z?(s=R,C=-C,x=j.length):(s=j,i=k,x=R.length),u=Math.max(Math.ceil(E/ga),x)+2,C>u&&(C=u,s.length=1),s.reverse(),u=C;u--;)s.push(0);s.reverse()}else{for(u=R.length,x=j.length,z=u<x,z&&(x=u),u=0;u<x;u++)if(R[u]!=j[u]){z=R[u]<j[u];break}C=0}for(z&&(s=R,R=j,j=s,l.s=-l.s),x=R.length,u=j.length-x;u>0;--u)R[x++]=0;for(u=j.length;u>C;){if(R[--u]<j[u]){for(g=u;g&&R[--g]===0;)R[g]=gy-1;--R[g],R[u]+=gy}R[u]-=j[u]}for(;R[--x]===0;)R.pop();for(;R[0]===0;R.shift())--i;return R[0]?(l.d=R,l.e=d6(R,i),Ra?Ji(l,E,O):l):new ee(O===3?-0:0)},wn.modulo=wn.mod=function(l){var s,i=this,u=i.constructor;return l=new u(l),!i.d||!l.s||l.d&&!l.d[0]?new u(NaN):!l.d||i.d&&!i.d[0]?Ji(new u(i),u.precision,u.rounding):(Ra=!1,u.modulo==9?(s=Kl(i,l.abs(),0,3,1),s.s*=l.s):s=Kl(i,l,0,u.modulo,1),s=s.times(l),Ra=!0,i.minus(s))},wn.naturalExponential=wn.exp=function(){return QR(this)},wn.naturalLogarithm=wn.ln=function(){return V2(this)},wn.negated=wn.neg=function(){var l=new this.constructor(this);return l.s=-l.s,Ji(l)},wn.plus=wn.add=function(l){var s,i,u,g,C,x,E,O,R,k,z=this,j=z.constructor;if(l=new j(l),!z.d||!l.d)return!z.s||!l.s?l=new j(NaN):z.d||(l=new j(l.d||z.s===l.s?z:NaN)),l;if(z.s!=l.s)return l.s=-l.s,z.minus(l);if(R=z.d,k=l.d,E=j.precision,O=j.rounding,!R[0]||!k[0])return k[0]||(l=new j(z)),Ra?Ji(l,E,O):l;if(C=Dh(z.e/ga),u=Dh(l.e/ga),R=R.slice(),g=C-u,g){for(g<0?(i=R,g=-g,x=k.length):(i=k,u=C,x=R.length),C=Math.ceil(E/ga),x=C>x?C+1:x+1,g>x&&(g=x,i.length=1),i.reverse();g--;)i.push(0);i.reverse()}for(x=R.length,g=k.length,x-g<0&&(g=x,i=k,k=R,R=i),s=0;g;)s=(R[--g]=R[g]+k[g]+s)/gy|0,R[g]%=gy;for(s&&(R.unshift(s),++u),x=R.length;R[--x]==0;)R.pop();return l.d=R,l.e=d6(R,u),Ra?Ji(l,E,O):l},wn.precision=wn.sd=function(l){var s,i=this;if(l!==void 0&&l!==!!l&&l!==1&&l!==0)throw Error(Y2+l);return i.d?(s=t5(i.d),l&&i.e+1>s&&(s=i.e+1)):s=NaN,s},wn.round=function(){var l=this,s=l.constructor;return Ji(new s(l),l.e+1,s.rounding)},wn.sine=wn.sin=function(){var l,s,i=this,u=i.constructor;return i.isFinite()?i.isZero()?new u(i):(l=u.precision,s=u.rounding,u.precision=l+Math.max(i.e,i.sd())+ga,u.rounding=1,i=xB(u,o5(u,i)),u.precision=l,u.rounding=s,Ji(px>2?i.neg():i,l,s,!0)):new u(NaN)},wn.squareRoot=wn.sqrt=function(){var l,s,i,u,g,C,x=this,E=x.d,O=x.e,R=x.s,k=x.constructor;if(R!==1||!E||!E[0])return new k(!R||R<0&&(!E||E[0])?NaN:E?x:1/0);for(Ra=!1,R=Math.sqrt(+x),R==0||R==1/0?(s=Gf(E),(s.length+O)%2==0&&(s+="0"),R=Math.sqrt(s),O=Dh((O+1)/2)-(O<0||O%2),R==1/0?s="5e"+O:(s=R.toExponential(),s=s.slice(0,s.indexOf("e")+1)+O),u=new k(s)):u=new k(R.toString()),i=(O=k.precision)+3;;)if(C=u,u=C.plus(Kl(x,C,i+2,1)).times(.5),Gf(C.d).slice(0,i)===(s=Gf(u.d)).slice(0,i))if(s=s.slice(i-3,i+1),s=="9999"||!g&&s=="4999"){if(!g&&(Ji(C,O+1,0),C.times(C).eq(x))){u=C;break}i+=4,g=1}else{(!+s||!+s.slice(1)&&s.charAt(0)=="5")&&(Ji(u,O+1,1),l=!u.times(u).eq(x));break}return Ra=!0,Ji(u,O,k.rounding,l)},wn.tangent=wn.tan=function(){var l,s,i=this,u=i.constructor;return i.isFinite()?i.isZero()?new u(i):(l=u.precision,s=u.rounding,u.precision=l+10,u.rounding=1,i=i.sin(),i.s=1,i=Kl(i,new u(1).minus(i.times(i)).sqrt(),l+10,0),u.precision=l,u.rounding=s,Ji(px==2||px==4?i.neg():i,l,s,!0)):new u(NaN)},wn.times=wn.mul=function(l){var s,i,u,g,C,x,E,O,R,k=this,z=k.constructor,j=k.d,q=(l=new z(l)).d;if(l.s*=k.s,!j||!j[0]||!q||!q[0])return new z(!l.s||j&&!j[0]&&!q||q&&!q[0]&&!j?NaN:!j||!q?l.s/0:l.s*0);for(i=Dh(k.e/ga)+Dh(l.e/ga),O=j.length,R=q.length,O<R&&(C=j,j=q,q=C,x=O,O=R,R=x),C=[],x=O+R,u=x;u--;)C.push(0);for(u=R;--u>=0;){for(s=0,g=O+u;g>u;)E=C[g]+q[u]*j[g-u-1]+s,C[g--]=E%gy|0,s=E/gy|0;C[g]=(C[g]+s)%gy|0}for(;!C[--x];)C.pop();return s?++i:C.shift(),l.d=C,l.e=d6(C,i),Ra?Ji(l,z.precision,z.rounding):l},wn.toBinary=function(l,s){return eD(this,2,l,s)},wn.toDecimalPlaces=wn.toDP=function(l,s){var i=this,u=i.constructor;return i=new u(i),l===void 0?i:(Rv(l,0,U2),s===void 0?s=u.rounding:Rv(s,0,8),Ji(i,l+i.e+1,s))},wn.toExponential=function(l,s){var i,u=this,g=u.constructor;return l===void 0?i=F1(u,!0):(Rv(l,0,U2),s===void 0?s=g.rounding:Rv(s,0,8),u=Ji(new g(u),l+1,s),i=F1(u,!0,l+1)),u.isNeg()&&!u.isZero()?"-"+i:i},wn.toFixed=function(l,s){var i,u,g=this,C=g.constructor;return l===void 0?i=F1(g):(Rv(l,0,U2),s===void 0?s=C.rounding:Rv(s,0,8),u=Ji(new C(g),l+g.e+1,s),i=F1(u,!1,l+u.e+1)),g.isNeg()&&!g.isZero()?"-"+i:i},wn.toFraction=function(l){var s,i,u,g,C,x,E,O,R,k,z,j,q=this,ee=q.d,le=q.constructor;if(!ee)return new le(q);if(R=i=new le(1),u=O=new le(0),s=new le(u),C=s.e=t5(ee)-q.e-1,x=C%ga,s.d[0]=kc(10,x<0?ga+x:x),l==null)l=C>0?s:R;else{if(E=new le(l),!E.isInt()||E.lt(R))throw Error(Y2+E);l=E.gt(s)?C>0?s:R:E}for(Ra=!1,E=new le(Gf(ee)),k=le.precision,le.precision=C=ee.length*ga*2;z=Kl(E,s,0,1,1),g=i.plus(z.times(u)),g.cmp(l)!=1;)i=u,u=g,g=R,R=O.plus(z.times(g)),O=g,g=s,s=E.minus(z.times(g)),E=g;return g=Kl(l.minus(i),u,0,1,1),O=O.plus(g.times(R)),i=i.plus(g.times(u)),O.s=R.s=q.s,j=Kl(R,u,C,1).minus(q).abs().cmp(Kl(O,i,C,1).minus(q).abs())<1?[R,u]:[O,i],le.precision=k,Ra=!0,j},wn.toHexadecimal=wn.toHex=function(l,s){return eD(this,16,l,s)},wn.toNearest=function(l,s){var i=this,u=i.constructor;if(i=new u(i),l==null){if(!i.d)return i;l=new u(1),s=u.rounding}else{if(l=new u(l),s===void 0?s=u.rounding:Rv(s,0,8),!i.d)return l.s?i:l;if(!l.d)return l.s&&(l.s=i.s),l}return l.d[0]?(Ra=!1,i=Kl(i,l,0,s,1).times(l),Ra=!0,Ji(i)):(l.s=i.s,i=l),i},wn.toNumber=function(){return+this},wn.toOctal=function(l,s){return eD(this,8,l,s)},wn.toPower=wn.pow=function(l){var s,i,u,g,C,x,E=this,O=E.constructor,R=+(l=new O(l));if(!E.d||!l.d||!E.d[0]||!l.d[0])return new O(kc(+E,R));if(E=new O(E),E.eq(1))return E;if(u=O.precision,C=O.rounding,l.eq(1))return Ji(E,u,C);if(s=Dh(l.e/ga),s>=l.d.length-1&&(i=R<0?-R:R)<=yB)return g=r5(O,E,i,u),l.s<0?new O(1).div(g):Ji(g,u,C);if(x=E.s,x<0){if(s<l.d.length-1)return new O(NaN);if(l.d[s]&1||(x=1),E.e==0&&E.d[0]==1&&E.d.length==1)return E.s=x,E}return i=kc(+E,R),s=i==0||!isFinite(i)?Dh(R*(Math.log("0."+Gf(E.d))/Math.LN10+E.e+1)):new O(i+"").e,s>O.maxE+1||s<O.minE-1?new O(s>0?x/0:0):(Ra=!1,O.rounding=E.s=1,i=Math.min(12,(s+"").length),g=QR(l.times(V2(E,u+i)),u),g.d&&(g=Ji(g,u+5,1),xA(g.d,u,C)&&(s=u+10,g=Ji(QR(l.times(V2(E,s+i)),s),s+5,1),+Gf(g.d).slice(u+1,u+15)+1==1e14&&(g=Ji(g,u+1,0)))),g.s=x,Ra=!0,O.rounding=C,Ji(g,u,C))},wn.toPrecision=function(l,s){var i,u=this,g=u.constructor;return l===void 0?i=F1(u,u.e<=g.toExpNeg||u.e>=g.toExpPos):(Rv(l,1,U2),s===void 0?s=g.rounding:Rv(s,0,8),u=Ji(new g(u),l,s),i=F1(u,l<=u.e||u.e<=g.toExpNeg,l)),u.isNeg()&&!u.isZero()?"-"+i:i},wn.toSignificantDigits=wn.toSD=function(l,s){var i=this,u=i.constructor;return l===void 0?(l=u.precision,s=u.rounding):(Rv(l,1,U2),s===void 0?s=u.rounding:Rv(s,0,8)),Ji(new u(i),l,s)},wn.toString=function(){var l=this,s=l.constructor,i=F1(l,l.e<=s.toExpNeg||l.e>=s.toExpPos);return l.isNeg()&&!l.isZero()?"-"+i:i},wn.truncated=wn.trunc=function(){return Ji(new this.constructor(this),this.e+1,1)},wn.valueOf=wn.toJSON=function(){var l=this,s=l.constructor,i=F1(l,l.e<=s.toExpNeg||l.e>=s.toExpPos);return l.isNeg()?"-"+i:i};function Gf(l){var s,i,u,g=l.length-1,C="",x=l[0];if(g>0){for(C+=x,s=1;s<g;s++)u=l[s]+"",i=ga-u.length,i&&(C+=j2(i)),C+=u;x=l[s],u=x+"",i=ga-u.length,i&&(C+=j2(i))}else if(x===0)return"0";for(;x%10===0;)x/=10;return C+x}function Rv(l,s,i){if(l!==~~l||l<s||l>i)throw Error(Y2+l)}function xA(l,s,i,u){var g,C,x,E;for(C=l[0];C>=10;C/=10)--s;return--s<0?(s+=ga,g=0):(g=Math.ceil((s+1)/ga),s%=ga),C=kc(10,ga-s),E=l[g]%C|0,u==null?s<3?(s==0?E=E/100|0:s==1&&(E=E/10|0),x=i<4&&E==99999||i>3&&E==49999||E==5e4||E==0):x=(i<4&&E+1==C||i>3&&E+1==C/2)&&(l[g+1]/C/100|0)==kc(10,s-2)-1||(E==C/2||E==0)&&(l[g+1]/C/100|0)==0:s<4?(s==0?E=E/1e3|0:s==1?E=E/100|0:s==2&&(E=E/10|0),x=(u||i<4)&&E==9999||!u&&i>3&&E==4999):x=((u||i<4)&&E+1==C||!u&&i>3&&E+1==C/2)&&(l[g+1]/C/1e3|0)==kc(10,s-3)-1,x}function h6(l,s,i){for(var u,g=[0],C,x=0,E=l.length;x<E;){for(C=g.length;C--;)g[C]*=s;for(g[0]+=ZR.indexOf(l.charAt(x++)),u=0;u<g.length;u++)g[u]>i-1&&(g[u+1]===void 0&&(g[u+1]=0),g[u+1]+=g[u]/i|0,g[u]%=i)}return g.reverse()}function bB(l,s){var i,u,g;if(s.isZero())return s;u=s.d.length,u<32?(i=Math.ceil(u/3),g=(1/p6(4,i)).toString()):(i=16,g="2.3283064365386962890625e-10"),l.precision+=i,s=UT(l,1,s.times(g),new l(1));for(var C=i;C--;){var x=s.times(s);s=x.times(x).minus(x).times(8).plus(1)}return l.precision-=i,s}var Kl=function(){function l(u,g,C){var x,E=0,O=u.length;for(u=u.slice();O--;)x=u[O]*g+E,u[O]=x%C|0,E=x/C|0;return E&&u.unshift(E),u}function s(u,g,C,x){var E,O;if(C!=x)O=C>x?1:-1;else for(E=O=0;E<C;E++)if(u[E]!=g[E]){O=u[E]>g[E]?1:-1;break}return O}function i(u,g,C,x){for(var E=0;C--;)u[C]-=E,E=u[C]<g[C]?1:0,u[C]=E*x+u[C]-g[C];for(;!u[0]&&u.length>1;)u.shift()}return function(u,g,C,x,E,O){var R,k,z,j,q,ee,le,me,Oe,$e,Ye,Ze,Ut,gr,br,Zr,gn,Kn,In,Xn,gi=u.constructor,Pi=u.s==g.s?1:-1,Dn=u.d,Jn=g.d;if(!Dn||!Dn[0]||!Jn||!Jn[0])return new gi(!u.s||!g.s||(Dn?Jn&&Dn[0]==Jn[0]:!Jn)?NaN:Dn&&Dn[0]==0||!Jn?Pi*0:Pi/0);for(O?(q=1,k=u.e-g.e):(O=gy,q=ga,k=Dh(u.e/q)-Dh(g.e/q)),In=Jn.length,gn=Dn.length,Oe=new gi(Pi),$e=Oe.d=[],z=0;Jn[z]==(Dn[z]||0);z++);if(Jn[z]>(Dn[z]||0)&&k--,C==null?(gr=C=gi.precision,x=gi.rounding):E?gr=C+(u.e-g.e)+1:gr=C,gr<0)$e.push(1),ee=!0;else{if(gr=gr/q+2|0,z=0,In==1){for(j=0,Jn=Jn[0],gr++;(z<gn||j)&&gr--;z++)br=j*O+(Dn[z]||0),$e[z]=br/Jn|0,j=br%Jn|0;ee=j||z<gn}else{for(j=O/(Jn[0]+1)|0,j>1&&(Jn=l(Jn,j,O),Dn=l(Dn,j,O),In=Jn.length,gn=Dn.length),Zr=In,Ye=Dn.slice(0,In),Ze=Ye.length;Ze<In;)Ye[Ze++]=0;Xn=Jn.slice(),Xn.unshift(0),Kn=Jn[0],Jn[1]>=O/2&&++Kn;do j=0,R=s(Jn,Ye,In,Ze),R<0?(Ut=Ye[0],In!=Ze&&(Ut=Ut*O+(Ye[1]||0)),j=Ut/Kn|0,j>1?(j>=O&&(j=O-1),le=l(Jn,j,O),me=le.length,Ze=Ye.length,R=s(le,Ye,me,Ze),R==1&&(j--,i(le,In<me?Xn:Jn,me,O))):(j==0&&(R=j=1),le=Jn.slice()),me=le.length,me<Ze&&le.unshift(0),i(Ye,le,Ze,O),R==-1&&(Ze=Ye.length,R=s(Jn,Ye,In,Ze),R<1&&(j++,i(Ye,In<Ze?Xn:Jn,Ze,O))),Ze=Ye.length):R===0&&(j++,Ye=[0]),$e[z++]=j,R&&Ye[0]?Ye[Ze++]=Dn[Zr]||0:(Ye=[Dn[Zr]],Ze=1);while((Zr++<gn||Ye[0]!==void 0)&&gr--);ee=Ye[0]!==void 0}$e[0]||$e.shift()}if(q==1)Oe.e=k,KP=ee;else{for(z=1,j=$e[0];j>=10;j/=10)z++;Oe.e=z+k*q-1,Ji(Oe,E?C+Oe.e+1:C,x,ee)}return Oe}}();function Ji(l,s,i,u){var g,C,x,E,O,R,k,z,j,q=l.constructor;e:if(s!=null){if(z=l.d,!z)return l;for(g=1,E=z[0];E>=10;E/=10)g++;if(C=s-g,C<0)C+=ga,x=s,k=z[j=0],O=k/kc(10,g-x-1)%10|0;else if(j=Math.ceil((C+1)/ga),E=z.length,j>=E)if(u){for(;E++<=j;)z.push(0);k=O=0,g=1,C%=ga,x=C-ga+1}else break e;else{for(k=E=z[j],g=1;E>=10;E/=10)g++;C%=ga,x=C-ga+g,O=x<0?0:k/kc(10,g-x-1)%10|0}if(u=u||s<0||z[j+1]!==void 0||(x<0?k:k%kc(10,g-x-1)),R=i<4?(O||u)&&(i==0||i==(l.s<0?3:2)):O>5||O==5&&(i==4||u||i==6&&(C>0?x>0?k/kc(10,g-x):0:z[j-1])%10&1||i==(l.s<0?8:7)),s<1||!z[0])return z.length=0,R?(s-=l.e+1,z[0]=kc(10,(ga-s%ga)%ga),l.e=-s||0):z[0]=l.e=0,l;if(C==0?(z.length=j,E=1,j--):(z.length=j+1,E=kc(10,ga-C),z[j]=x>0?(k/kc(10,g-x)%kc(10,x)|0)*E:0),R)for(;;)if(j==0){for(C=1,x=z[0];x>=10;x/=10)C++;for(x=z[0]+=E,E=1;x>=10;x/=10)E++;C!=E&&(l.e++,z[0]==gy&&(z[0]=1));break}else{if(z[j]+=E,z[j]!=gy)break;z[j--]=0,E=1}for(C=z.length;z[--C]===0;)z.pop()}return Ra&&(l.e>q.maxE?(l.d=null,l.e=NaN):l.e<q.minE&&(l.e=0,l.d=[0])),l}function F1(l,s,i){if(!l.isFinite())return a5(l);var u,g=l.e,C=Gf(l.d),x=C.length;return s?(i&&(u=i-x)>0?C=C.charAt(0)+"."+C.slice(1)+j2(u):x>1&&(C=C.charAt(0)+"."+C.slice(1)),C=C+(l.e<0?"e":"e+")+l.e):g<0?(C="0."+j2(-g-1)+C,i&&(u=i-x)>0&&(C+=j2(u))):g>=x?(C+=j2(g+1-x),i&&(u=i-g-1)>0&&(C=C+"."+j2(u))):((u=g+1)<x&&(C=C.slice(0,u)+"."+C.slice(u)),i&&(u=i-x)>0&&(g+1===x&&(C+="."),C+=j2(u))),C}function d6(l,s){var i=l[0];for(s*=ga;i>=10;i/=10)s++;return s}function v6(l,s,i){if(s>CB)throw Ra=!0,i&&(l.precision=i),Error(qP);return Ji(new l(u6),s,1,!0)}function my(l,s,i){if(s>qR)throw Error(qP);return Ji(new l(c6),s,i,!0)}function t5(l){var s=l.length-1,i=s*ga+1;if(s=l[s],s){for(;s%10==0;s/=10)i--;for(s=l[0];s>=10;s/=10)i++}return i}function j2(l){for(var s="";l--;)s+="0";return s}function r5(l,s,i,u){var g,C=new l(1),x=Math.ceil(u/ga+4);for(Ra=!1;;){if(i%2&&(C=C.times(s),l5(C.d,x)&&(g=!0)),i=Dh(i/2),i===0){i=C.d.length-1,g&&C.d[i]===0&&++C.d[i];break}s=s.times(s),l5(s.d,x)}return Ra=!0,C}function n5(l){return l.d[l.d.length-1]&1}function i5(l,s,i){for(var u,g=new l(s[0]),C=0;++C<s.length;)if(u=new l(s[C]),u.s)g[i](u)&&(g=u);else{g=u;break}return g}function QR(l,s){var i,u,g,C,x,E,O,R=0,k=0,z=0,j=l.constructor,q=j.rounding,ee=j.precision;if(!l.d||!l.d[0]||l.e>17)return new j(l.d?l.d[0]?l.s<0?0:1/0:1:l.s?l.s<0?0:l:NaN);for(s==null?(Ra=!1,O=ee):O=s,E=new j(.03125);l.e>-2;)l=l.times(E),z+=5;for(u=Math.log(kc(2,z))/Math.LN10*2+5|0,O+=u,i=C=x=new j(1),j.precision=O;;){if(C=Ji(C.times(l),O,1),i=i.times(++k),E=x.plus(Kl(C,i,O,1)),Gf(E.d).slice(0,O)===Gf(x.d).slice(0,O)){for(g=z;g--;)x=Ji(x.times(x),O,1);if(s==null)if(R<3&&xA(x.d,O-u,q,R))j.precision=O+=10,i=C=E=new j(1),k=0,R++;else return Ji(x,j.precision=ee,q,Ra=!0);else return j.precision=ee,x}x=E}}function V2(l,s){var i,u,g,C,x,E,O,R,k,z,j,q=1,ee=10,le=l,me=le.d,Oe=le.constructor,$e=Oe.rounding,Ye=Oe.precision;if(le.s<0||!me||!me[0]||!le.e&&me[0]==1&&me.length==1)return new Oe(me&&!me[0]?-1/0:le.s!=1?NaN:me?0:le);if(s==null?(Ra=!1,k=Ye):k=s,Oe.precision=k+=ee,i=Gf(me),u=i.charAt(0),Math.abs(C=le.e)<15e14){for(;u<7&&u!=1||u==1&&i.charAt(1)>3;)le=le.times(l),i=Gf(le.d),u=i.charAt(0),q++;C=le.e,u>1?(le=new Oe("0."+i),C++):le=new Oe(u+"."+i.slice(1))}else return R=v6(Oe,k+2,Ye).times(C+""),le=V2(new Oe(u+"."+i.slice(1)),k-ee).plus(R),Oe.precision=Ye,s==null?Ji(le,Ye,$e,Ra=!0):le;for(z=le,O=x=le=Kl(le.minus(1),le.plus(1),k,1),j=Ji(le.times(le),k,1),g=3;;){if(x=Ji(x.times(j),k,1),R=O.plus(Kl(x,new Oe(g),k,1)),Gf(R.d).slice(0,k)===Gf(O.d).slice(0,k))if(O=O.times(2),C!==0&&(O=O.plus(v6(Oe,k+2,Ye).times(C+""))),O=Kl(O,new Oe(q),k,1),s==null)if(xA(O.d,k-ee,$e,E))Oe.precision=k+=ee,R=x=le=Kl(z.minus(1),z.plus(1),k,1),j=Ji(le.times(le),k,1),g=E=1;else return Ji(O,Oe.precision=Ye,$e,Ra=!0);else return Oe.precision=Ye,O;O=R,g+=2}}function a5(l){return String(l.s*l.s/0)}function JR(l,s){var i,u,g;for((i=s.indexOf("."))>-1&&(s=s.replace(".","")),(u=s.search(/e/i))>0?(i<0&&(i=u),i+=+s.slice(u+1),s=s.substring(0,u)):i<0&&(i=s.length),u=0;s.charCodeAt(u)===48;u++);for(g=s.length;s.charCodeAt(g-1)===48;--g);if(s=s.slice(u,g),s){if(g-=u,l.e=i=i-u-1,l.d=[],u=(i+1)%ga,i<0&&(u+=ga),u<g){for(u&&l.d.push(+s.slice(0,u)),g-=ga;u<g;)l.d.push(+s.slice(u,u+=ga));s=s.slice(u),u=ga-s.length}else u-=g;for(;u--;)s+="0";l.d.push(+s),Ra&&(l.e>l.constructor.maxE?(l.d=null,l.e=NaN):l.e<l.constructor.minE&&(l.e=0,l.d=[0]))}else l.e=0,l.d=[0];return l}function wB(l,s){var i,u,g,C,x,E,O,R,k;if(s.indexOf("_")>-1){if(s=s.replace(/(\d)_(?=\d)/g,"$1"),e5.test(s))return JR(l,s)}else if(s==="Infinity"||s==="NaN")return+s||(l.s=NaN),l.e=NaN,l.d=null,l;if(gB.test(s))i=16,s=s.toLowerCase();else if(pB.test(s))i=2;else if(mB.test(s))i=8;else throw Error(Y2+s);for(C=s.search(/p/i),C>0?(O=+s.slice(C+1),s=s.substring(2,C)):s=s.slice(2),C=s.indexOf("."),x=C>=0,u=l.constructor,x&&(s=s.replace(".",""),E=s.length,C=E-C,g=r5(u,new u(i),C,C*2)),R=h6(s,i,gy),k=R.length-1,C=k;R[C]===0;--C)R.pop();return C<0?new u(l.s*0):(l.e=d6(R,k),l.d=R,Ra=!1,x&&(l=Kl(l,g,E*4)),O&&(l=l.times(Math.abs(O)<54?kc(2,O):yy.pow(2,O))),Ra=!0,l)}function xB(l,s){var i,u=s.d.length;if(u<3)return s.isZero()?s:UT(l,2,s,s);i=1.4*Math.sqrt(u),i=i>16?16:i|0,s=s.times(1/p6(5,i)),s=UT(l,2,s,s);for(var g,C=new l(5),x=new l(16),E=new l(20);i--;)g=s.times(s),s=s.times(C.plus(g.times(x.times(g).minus(E))));return s}function UT(l,s,i,u,g){var C,x,E,O,R=l.precision,k=Math.ceil(R/ga);for(Ra=!1,O=i.times(i),E=new l(u);;){if(x=Kl(E.times(O),new l(s++*s++),R,1),E=g?u.plus(x):u.minus(x),u=Kl(x.times(O),new l(s++*s++),R,1),x=E.plus(u),x.d[k]!==void 0){for(C=k;x.d[C]===E.d[C]&&C--;);if(C==-1)break}C=E,E=u,u=x,x=C}return Ra=!0,x.d.length=k+1,x}function p6(l,s){for(var i=l;--s;)i*=l;return i}function o5(l,s){var i,u=s.s<0,g=my(l,l.precision,1),C=g.times(.5);if(s=s.abs(),s.lte(C))return px=u?4:1,s;if(i=s.divToInt(g),i.isZero())px=u?3:2;else{if(s=s.minus(i.times(g)),s.lte(C))return px=n5(i)?u?2:3:u?4:1,s;px=n5(i)?u?1:4:u?3:2}return s.minus(g).abs()}function eD(l,s,i,u){var g,C,x,E,O,R,k,z,j,q=l.constructor,ee=i!==void 0;if(ee?(Rv(i,1,U2),u===void 0?u=q.rounding:Rv(u,0,8)):(i=q.precision,u=q.rounding),!l.isFinite())k=a5(l);else{for(k=F1(l),x=k.indexOf("."),ee?(g=2,s==16?i=i*4-3:s==8&&(i=i*3-2)):g=s,x>=0&&(k=k.replace(".",""),j=new q(1),j.e=k.length-x,j.d=h6(F1(j),10,g),j.e=j.d.length),z=h6(k,10,g),C=O=z.length;z[--O]==0;)z.pop();if(!z[0])k=ee?"0p+0":"0";else{if(x<0?C--:(l=new q(l),l.d=z,l.e=C,l=Kl(l,j,i,u,0,g),z=l.d,C=l.e,R=KP),x=z[i],E=g/2,R=R||z[i+1]!==void 0,R=u<4?(x!==void 0||R)&&(u===0||u===(l.s<0?3:2)):x>E||x===E&&(u===4||R||u===6&&z[i-1]&1||u===(l.s<0?8:7)),z.length=i,R)for(;++z[--i]>g-1;)z[i]=0,i||(++C,z.unshift(1));for(O=z.length;!z[O-1];--O);for(x=0,k="";x<O;x++)k+=ZR.charAt(z[x]);if(ee){if(O>1)if(s==16||s==8){for(x=s==16?4:3,--O;O%x;O++)k+="0";for(z=h6(k,g,s),O=z.length;!z[O-1];--O);for(x=1,k="1.";x<O;x++)k+=ZR.charAt(z[x])}else k=k.charAt(0)+"."+k.slice(1);k=k+(C<0?"p":"p+")+C}else if(C<0){for(;++C;)k="0"+k;k="0."+k}else if(++C>O)for(C-=O;C--;)k+="0";else C<O&&(k=k.slice(0,C)+"."+k.slice(C))}k=(s==16?"0x":s==2?"0b":s==8?"0o":"")+k}return l.s<0?"-"+k:k}function l5(l,s){if(l.length>s)return l.length=s,!0}function SB(l){return new this(l).abs()}function _B(l){return new this(l).acos()}function EB(l){return new this(l).acosh()}function MB(l,s){return new this(l).plus(s)}function TB(l){return new this(l).asin()}function OB(l){return new this(l).asinh()}function AB(l){return new this(l).atan()}function IB(l){return new this(l).atanh()}function RB(l,s){l=new this(l),s=new this(s);var i,u=this.precision,g=this.rounding,C=u+4;return!l.s||!s.s?i=new this(NaN):!l.d&&!s.d?(i=my(this,C,1).times(s.s>0?.25:.75),i.s=l.s):!s.d||l.isZero()?(i=s.s<0?my(this,u,g):new this(0),i.s=l.s):!l.d||s.isZero()?(i=my(this,C,1).times(.5),i.s=l.s):s.s<0?(this.precision=C,this.rounding=1,i=this.atan(Kl(l,s,C,1)),s=my(this,C,1),this.precision=u,this.rounding=g,i=l.s<0?i.minus(s):i.plus(s)):i=this.atan(Kl(l,s,C,1)),i}function DB(l){return new this(l).cbrt()}function LB(l){return Ji(l=new this(l),l.e+1,2)}function PB(l,s,i){return new this(l).clamp(s,i)}function BB(l){if(!l||typeof l!="object")throw Error(f6+"Object expected");var s,i,u,g=l.defaults===!0,C=["precision",1,U2,"rounding",0,8,"toExpNeg",-$T,0,"toExpPos",0,$T,"maxE",0,$T,"minE",-$T,0,"modulo",0,9];for(s=0;s<C.length;s+=3)if(i=C[s],g&&(this[i]=KR[i]),(u=l[i])!==void 0)if(Dh(u)===u&&u>=C[s+1]&&u<=C[s+2])this[i]=u;else throw Error(Y2+i+": "+u);if(i="crypto",g&&(this[i]=KR[i]),(u=l[i])!==void 0)if(u===!0||u===!1||u===0||u===1)if(u)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(QP);else this[i]=!1;else throw Error(Y2+i+": "+u);return this}function kB(l){return new this(l).cos()}function FB(l){return new this(l).cosh()}function s5(l){var s,i,u;function g(C){var x,E,O,R=this;if(!(R instanceof g))return new g(C);if(R.constructor=g,u5(C)){R.s=C.s,Ra?!C.d||C.e>g.maxE?(R.e=NaN,R.d=null):C.e<g.minE?(R.e=0,R.d=[0]):(R.e=C.e,R.d=C.d.slice()):(R.e=C.e,R.d=C.d?C.d.slice():C.d);return}if(O=typeof C,O==="number"){if(C===0){R.s=1/C<0?-1:1,R.e=0,R.d=[0];return}if(C<0?(C=-C,R.s=-1):R.s=1,C===~~C&&C<1e7){for(x=0,E=C;E>=10;E/=10)x++;Ra?x>g.maxE?(R.e=NaN,R.d=null):x<g.minE?(R.e=0,R.d=[0]):(R.e=x,R.d=[C]):(R.e=x,R.d=[C]);return}else if(C*0!==0){C||(R.s=NaN),R.e=NaN,R.d=null;return}return JR(R,C.toString())}else if(O!=="string")throw Error(Y2+C);return(E=C.charCodeAt(0))===45?(C=C.slice(1),R.s=-1):(E===43&&(C=C.slice(1)),R.s=1),e5.test(C)?JR(R,C):wB(R,C)}if(g.prototype=wn,g.ROUND_UP=0,g.ROUND_DOWN=1,g.ROUND_CEIL=2,g.ROUND_FLOOR=3,g.ROUND_HALF_UP=4,g.ROUND_HALF_DOWN=5,g.ROUND_HALF_EVEN=6,g.ROUND_HALF_CEIL=7,g.ROUND_HALF_FLOOR=8,g.EUCLID=9,g.config=g.set=BB,g.clone=s5,g.isDecimal=u5,g.abs=SB,g.acos=_B,g.acosh=EB,g.add=MB,g.asin=TB,g.asinh=OB,g.atan=AB,g.atanh=IB,g.atan2=RB,g.cbrt=DB,g.ceil=LB,g.clamp=PB,g.cos=kB,g.cosh=FB,g.div=NB,g.exp=HB,g.floor=zB,g.hypot=WB,g.ln=GB,g.log=$B,g.log10=YB,g.log2=UB,g.max=jB,g.min=VB,g.mod=XB,g.mul=ZB,g.pow=KB,g.random=qB,g.round=QB,g.sign=JB,g.sin=ek,g.sinh=tk,g.sqrt=rk,g.sub=nk,g.sum=ik,g.tan=ak,g.tanh=ok,g.trunc=lk,l===void 0&&(l={}),l&&l.defaults!==!0)for(u=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],s=0;s<u.length;)l.hasOwnProperty(i=u[s++])||(l[i]=this[i]);return g.config(l),g}function NB(l,s){return new this(l).div(s)}function HB(l){return new this(l).exp()}function zB(l){return Ji(l=new this(l),l.e+1,3)}function WB(){var l,s,i=new this(0);for(Ra=!1,l=0;l<arguments.length;)if(s=new this(arguments[l++]),s.d)i.d&&(i=i.plus(s.times(s)));else{if(s.s)return Ra=!0,new this(1/0);i=s}return Ra=!0,i.sqrt()}function u5(l){return l instanceof yy||l&&l.toStringTag===JP||!1}function GB(l){return new this(l).ln()}function $B(l,s){return new this(l).log(s)}function UB(l){return new this(l).log(2)}function YB(l){return new this(l).log(10)}function jB(){return i5(this,arguments,"lt")}function VB(){return i5(this,arguments,"gt")}function XB(l,s){return new this(l).mod(s)}function ZB(l,s){return new this(l).mul(s)}function KB(l,s){return new this(l).pow(s)}function qB(l){var s,i,u,g,C=0,x=new this(1),E=[];if(l===void 0?l=this.precision:Rv(l,1,U2),u=Math.ceil(l/ga),this.crypto)if(crypto.getRandomValues)for(s=crypto.getRandomValues(new Uint32Array(u));C<u;)g=s[C],g>=429e7?s[C]=crypto.getRandomValues(new Uint32Array(1))[0]:E[C++]=g%1e7;else if(crypto.randomBytes){for(s=crypto.randomBytes(u*=4);C<u;)g=s[C]+(s[C+1]<<8)+(s[C+2]<<16)+((s[C+3]&127)<<24),g>=214e7?crypto.randomBytes(4).copy(s,C):(E.push(g%1e7),C+=4);C=u/4}else throw Error(QP);else for(;C<u;)E[C++]=Math.random()*1e7|0;for(u=E[--C],l%=ga,u&&l&&(g=kc(10,ga-l),E[C]=(u/g|0)*g);E[C]===0;C--)E.pop();if(C<0)i=0,E=[0];else{for(i=-1;E[0]===0;i-=ga)E.shift();for(u=1,g=E[0];g>=10;g/=10)u++;u<ga&&(i-=ga-u)}return x.e=i,x.d=E,x}function QB(l){return Ji(l=new this(l),l.e+1,this.rounding)}function JB(l){return l=new this(l),l.d?l.d[0]?l.s:0*l.s:l.s||NaN}function ek(l){return new this(l).sin()}function tk(l){return new this(l).sinh()}function rk(l){return new this(l).sqrt()}function nk(l,s){return new this(l).sub(s)}function ik(){var l=0,s=arguments,i=new this(s[l]);for(Ra=!1;i.s&&++l<s.length;)i=i.plus(s[l]);return Ra=!0,Ji(i,this.precision,this.rounding)}function ak(l){return new this(l).tan()}function ok(l){return new this(l).tanh()}function lk(l){return Ji(l=new this(l),l.e+1,1)}wn[Symbol.for("nodejs.util.inspect.custom")]=wn.toString,wn[Symbol.toStringTag]="Decimal";var yy=wn.constructor=s5(KR);u6=new yy(u6),c6=new yy(c6);var YT,c5=function(l){return typeof l=="number"?Number.isNaN(l):l&&typeof l=="string"?Number.isNaN(Number(l)):!0},tD=function(l,s,i){return i===void 0&&(i=!1),l!=null&&l.length?l.reduce(function(u,g){var C=Mi(g,s),x=c5(C);if(i&&x)return u;var E=x?0:C;return u.push(new yy(E)),u},[]):[]},f5=function(l,s){var i=tD(l,s);return i.length?yy.sum.apply(yy,en([],Br(i),!1)).toNumber():0},h5=function(l,s,i){var u=tD(s,i,!0);if(u!=null&&u.length)return yy[l].apply(yy,en([],Br(u),!1)).toNumber()},sk=function(l,s){var i=tD(l,s);return i!=null&&i.length?yy.sum.apply(yy,en([],Br(i),!1)).dividedBy(i.length).toNumber():0},uk=(YT={},YT[NT.SUM]=f5,YT[NT.MIN]=function(l,s){return h5("min",l,s)},YT[NT.MAX]=function(l,s){return h5("max",l,s)},YT[NT.AVG]=sk,YT),ck=function(l){return na(l)&&"values"in l},fk=function(l){var s=l.spreadsheet,i=l.position,u=l.tooltipContainer,g=l.autoAdjustBoundary,C=s.getCanvasElement(),x=i.x+kT.x,E=i.y+kT.y;if(!g||!C)return{x,y:E};var O=g==="body",R=s.facet.panelBBox,k=R.maxX,z=R.maxY,j=s.options,q=j.width,ee=j.height,le=C.getBoundingClientRect(),me=le.top,Oe=le.left,$e=u.getBoundingClientRect(),Ye=$e.width,Ze=$e.height,Ut=document.body.getBoundingClientRect(),gr=Ut.width,br=Ut.height,Zr=O?gr:Math.min(q,k)+Oe,gn=O?br:Math.min(ee,z)+me;return x+Ye>=Zr&&(x=Zr-Ye),E+Ze>=gn&&(E=gn-Ze),{x,y:E}},d5=function(l){return ur({operator:{onClick:Sg,menus:[]},enterable:!0,enableFormat:!0},l)},rD=function(l){return ur(ur({},l==null?void 0:l.colQuery),l==null?void 0:l.rowQuery)},g6=function(l,s){var i;if(l){var u=s.style,g=s.className,C=g===void 0?[]:g,x=s.visible;if(u&&Object.assign(l.style,u),C.length){var E=C.filter(Boolean);(i=l.classList).add.apply(i,en([],Br(E),!1))}l.classList.toggle(xM,x),l.classList.toggle(KO,!x)}},hk=function(l){var s=Th(l)&&Number.isNaN(l),i=l==="";return ru(l)||s||i?"-":l},nD=function(l,s){var i,u=(i=l==null?void 0:l.dataSet)===null||i===void 0?void 0:i.getFieldFormatter(s);return function(g,C){return hk(u(g,C))}},m6=function(l,s){var i,u=s.data,g=s.field,C=s.valueField,x=s.useCompleteDataForFormatter,E=x===void 0?!0:x,O=(i=l==null?void 0:l.dataSet)===null||i===void 0?void 0:i.getFieldName(g),R=nD(l,g),k=na(u[g])?JSON.stringify(u[g]):u[g],z=R(C||k,E?u:void 0);return{name:O,value:z}},v5=function(l,s,i){var u=h(Sh([],s),function(C){return C!==ra&&i[C]}),g=Me(u,function(C){return m6(l,{data:i,field:C,useCompleteDataForFormatter:!1})});return g},dk=function(l,s,i){var u,g,C,x,E=(i||{}).isTotals,O=[],R=[];if(s){var k=(g=(u=l==null?void 0:l.dataSet)===null||u===void 0?void 0:u.fields)===null||g===void 0?void 0:g.columns,z=(x=(C=l==null?void 0:l.dataSet)===null||C===void 0?void 0:C.fields)===null||x===void 0?void 0:x.rows;O=v5(l,MM(k||[]),s),R=v5(l,z,s)}return zn(O)&&zn(R)&&E&&(O=[{value:rs("\u603B\u8BA1")}]),{cols:O,rows:R}},vk=function(l,s,i){if(s){var u=i.isTotals,g=s[ra],C=s[g],x=[];if(u)x.push(m6(l,{data:s,field:g,valueField:Mi(s,cu)}));else if(ck(C)&&l.getTooltipDataItemMappingCallback()){var E=TP(s,l.getTooltipDataItemMappingCallback());Xi(E,function(O,R){x.push(m6(l,{data:E,field:R}))})}else x.push(m6(l,{data:s,field:g}));return x}},pk=function(l,s,i){var u;if(i)return rs("\u603B\u8BA1");var g=(u=l==null?void 0:l.dataSet)===null||u===void 0?void 0:u.getFieldName(s);return g&&g!=="undefined"?g:""},p5=function(l,s,i){i===void 0&&(i=!0);var u=[];return Xi(s,function(g,C){Xi(l,function(x){!i&&x.colIndex!==-1?u.push([C,x.colIndex]):i&&x.rowIndex!==-1&&u.push([x.rowIndex,C])})}),u},gk=function(l,s){var i,u=s.rowLeafNodes,g=s.colLeafNodes,C=l.interaction.getState(),x=C.nodes,E=x===void 0?[]:x,O=C.cells,R=O===void 0?[]:O,k=(i=R==null?void 0:R[0])===null||i===void 0?void 0:i.type;return k===An.COL_CELL?p5(E,u,!1):k===An.ROW_CELL?p5(E,g):[]},mk=function(l,s,i){var u,g=(u=l.facet)===null||u===void 0?void 0:u.layoutResult,C=function(O){var R=s==null?void 0:s.getMeta(),k=R==null?void 0:R.isTotals,z=(s==null?void 0:s.cellType)===An.COL_CELL,j=(s==null?void 0:s.cellType)===An.ROW_CELL;if(!z&&!j)return!1;var q=g.colNodes.find(function(me){return me.colIndex===O.colIndex}),ee=g.rowNodes.find(function(me){return me.rowIndex===O.rowIndex}),le=z?ee==null?void 0:ee.isTotals:q==null?void 0:q.isTotals;return!k&&(O==null?void 0:O.isTotals)||k&&le};if(i){var x=gk(l,g);return xh(Me(x,function(O){var R=Br(O,2),k=R[0],z=R[1],j=g.getCellMeta(k,z);if(!C(j))return(j==null?void 0:j.data)||rD(j)}))}var E=l.interaction.getCells();return E.filter(function(O){var R=g.getCellMeta(O.rowIndex,O.colIndex);return!C(R)}).map(function(O){var R=g.getCellMeta(O.rowIndex,O.colIndex);return(R==null?void 0:R.data)||rD(R)})},yk=function(l){var s=l.spreadsheet,i=l.targetCell,u=l.options,g=u===void 0?{}:u,C=[],x={},E=s.isTableMode();if(E&&(g!=null&&g.showSingleTips)){var O=s.dataSet.getMultiData({});return[{selectedData:O,name:"",value:""}]}var R=mk(s,i,g.showSingleTips);return Xi(R,function(k){var z;x[k==null?void 0:k[ra]]?(z=x[k==null?void 0:k[ra]])===null||z===void 0||z.push(k):x[k==null?void 0:k[ra]]=[k]}),E2(x,function(k,z){var j,q=pk(s,z,g==null?void 0:g.isTotals),ee="",le="";if(y2(k,function(Ze){return c5(Mi(Ze,cu))})){var me=s.options.placeholder,Oe=OM(x,me);ee=Oe,le=Oe}else{var $e=nD(s,z),Ye=f5(k,cu);le=Ye,ee=(j=$e==null?void 0:$e(Ye,k))!==null&&j!==void 0?j:parseFloat(Ye.toPrecision(Qy))}C.push({selectedData:k,name:q,value:ee,originValue:le})}),C},Ck=function(l){if(l){var s=l.getMeta();if(!s.isTotals){var i=y(s.spreadsheet.dataCfg.meta,{field:s.field||s.value||s.valueField}),u=i==null?void 0:i.field;return s.spreadsheet.dataSet.getFieldDescription(u)}}},bk=function(l){var s=l.spreadsheet,i=l.cellInfos,u=i===void 0?[]:i,g=l.options,C=g===void 0?{}:g,x=l.targetCell,E=null,O=null,R=null,k=Ck(x),z=u[0]||{};if(!(C!=null&&C.hideSummary))E=yk({spreadsheet:s,options:C,targetCell:x});else if(C.showSingleTips){var j=nD(s,z.valueField),q=j(z.value),ee=C.enableFormat?s.dataSet.getFieldName(z.value)||q:s.dataSet.getFieldName(z.valueField);z.name=ee||""}else O=dk(s,z,C),R=vk(s,z,C);var le=z||{},me=le.interpretation,Oe=le.infos,$e=le.tips,Ye=le.name;return{summaries:E,interpretation:me,infos:Oe,tips:$e,name:Ye,headInfo:O,details:R,description:k}},wk=function(l){return Me(l,function(s){var i=s.getMeta();return gm({},i.query||{},dI(i,["colIndex","rowIndex"]))})},iD=function(l){if(!l.interaction.isSelectedState())return[];var s=l.dataCfg.fields.valueInCols;return l.interaction.getCells().reduce(function(i,u){var g=l.facet.layoutResult.getCellMeta(u==null?void 0:u.rowIndex,u==null?void 0:u.colIndex),C=rD(g);if(zn(g)||zn(C))return[];var x=ur(ur({},C),{colIndex:s?g.colIndex:null,rowIndex:s?null:g.rowIndex}),E=i.find(function(O){return sf(x,O)});return E||i.push(x),i},[])},xk=function(l,s){l===void 0&&(l={});var i=function(E){return k1(l,E)},u=l.col,g=l.row,C=l.data,x=l.corner;return s===An.COL_CELL?i(u):s===An.ROW_CELL?i(g):s===An.DATA_CELL?i(C):s===An.CORNER_CELL?i(x):ur({},l)},y6=function(l,s){var i;if(!(!s||!l)){var u=(i=l.getCellType)===null||i===void 0?void 0:i.call(l,s==null?void 0:s.target);return xk(l.options.tooltip,u)}},g5=function(l,s){var i=s.defaultMenus,u=i===void 0?[]:i,g=s.cell,C=function(E){return E===void 0&&(E=[]),E.filter(function(O){var R;return kl(O.visible)?O.visible(g):(R=O.visible)!==null&&R!==void 0?R:!0}).map(function(O){return O.children&&(O.children=C(O.children)),O})},x=C(l.menus);return{onClick:l.onClick,menus:xh(en(en([],Br(u),!1),Br(x),!1))}},Sk=function(l,s){for(var i=!1,u=s;u&&u!==document.body;){if(l===u){i=!0;break}u=u.parentElement}return i},_k=function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];return"".concat(ed,"-").concat(l.join("-"))},Ek=function(l){l.store.set(Ef,z0)},Mk=function(l,s){var i=l.store.get(Ef,z0);l.store.set(Ef,ur(ur({},i),s))},Tk=function(l,s){var i=l.store.get(Ef,z0);return i[s]},m5=function(){function l(s){var i=this;this.getFieldMeta=fv(function(u,g){return y(i.meta||g,function(C){return C.field===u})}),this.spreadsheet=s}return l.prototype.getFieldName=function(s){return Mi(this.getFieldMeta(s,this.meta),"name",s)},l.prototype.getFieldFormatter=function(s){return Mi(this.getFieldMeta(s,this.meta),"formatter",Fs)},l.prototype.getFieldDescription=function(s){return Mi(this.getFieldMeta(s,this.meta),"description")},l.prototype.setDataCfg=function(s){this.getFieldMeta.cache.clear();var i=this.processDataCfg(s),u=i.fields,g=i.meta,C=i.data,x=i.totalData,E=i.sortParams,O=i.filterParams;this.fields=u,this.meta=g,this.originData=C,this.totalData=x,this.sortParams=E,this.filterParams=O,this.displayData=this.originData,this.indexesData=[]},l.prototype.processMeta=function(s,i){var u,g;return s===void 0&&(s=[]),en(en([],Br(s),!1),[_8(s,(g=(u=this.spreadsheet)===null||u===void 0?void 0:u.options)===null||g===void 0?void 0:g.cornerExtraFieldText,i)],!1)},l.prototype.getDisplayDataSet=function(){return this.displayData},l.prototype.isEmpty=function(){return zn(this.getDisplayDataSet())},l.prototype.getValueRangeByField=function(s){var i,u=Tk(this.spreadsheet,s);if(u)return u;var g=xh(Me(this.originData,function(x){var E=x[s];return ru(E)?null:Number.parseFloat(E)})),C={maxValue:Qo(g),minValue:CT(g)};return Mk(this.spreadsheet,(i={},i[s]=C,i)),C},l.prototype.moreThanOneValue=function(){var s,i;return((i=(s=this.fields)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.length)>1},l}(),aD=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.handleDimensionValuesSort=function(){Xi(i.sortParams,function(u){var g=u.sortFieldId,C=u.sortByMeasure;if(g){var x=en([],Br(i.sortedDimensionValues[g]||[]),!1),E=W4({dataSet:i,sortParam:u,originValues:x,isSortByMeasure:!zn(C)});i.sortedDimensionValues[g]=E}})},i.getCustomData=function(u){for(var g,C=!1,x=i.indexesData,E=function(R){var k=u[R];C?Oh(k)?x=OR(x):x=(g=sy(x))===null||g===void 0?void 0:g.map(function(z){return z&&Mi(z,k)}):Oh(k)?C=!0:x=x==null?void 0:x[k]},O=0;O<u.length;O++)E(O);return x},i.getTotalStatus=function(u){var g=i.fields,C=g.columns,x=g.rows,E=function(R,k){if(k){var z=y(R,function(j){return!ly(u,j)});return z&&z!==te(R)}return y2(R,function(j){return!ly(u,j)})},O=function(R,k){return k?R.filter(function(z){return z!==ra}):R};return{isRowTotal:E(O(x,!i.spreadsheet.isValueInCols())),isRowSubTotal:E(x,!0),isColTotal:E(O(C,i.spreadsheet.isValueInCols())),isColSubTotal:E(C,!0)}},i}return s.prototype.setDataCfg=function(i){var u=this;l.prototype.setDataCfg.call(this,i),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map,this.totalData=[].concat(JL(i.data,i.fields)).concat(this.totalData),u0.getInstance().debugCallback(Ov,function(){var g=u.fields,C=g.rows,x=g.columns,E=LR({rows:C,columns:x,originData:u.originData,totalData:u.totalData,indexesData:u.indexesData,sortedDimensionValues:u.sortedDimensionValues,rowPivotMeta:u.rowPivotMeta,colPivotMeta:u.colPivotMeta}).indexesData;u.indexesData=E}),this.handleDimensionValuesSort()},s.prototype.transformDrillDownData=function(i,u,g){var C=this,x,E=this.fields,O=E.columns,R=E.values,k=Pc.getFieldPath(g,!0),z=en(en([],Br(k),!1),[i],!1),j=this.spreadsheet.store,q=this.standardTransform(u,R),ee=JL(q,{columns:this.fields.columns,rows:z}),le=ny(q,ee),me=g==null?void 0:g.id,Oe=(x=j.get("drillDownIdPathMap"))!==null&&x!==void 0?x:new Map;Oe.has(me)&&(Xi(Oe.get(me),function(Zr){La(C.indexesData,Zr)}),dP(this.rowPivotMeta,me));var $e=LR({rows:z,columns:O,originData:le,totalData:ee,indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),Ye=$e.paths,Ze=$e.indexesData,Ut=$e.rowPivotMeta,gr=$e.colPivotMeta,br=$e.sortedDimensionValues;this.indexesData=Ze,this.rowPivotMeta=Ut,this.colPivotMeta=gr,this.sortedDimensionValues=br,Oe.set(me,Ye),j.set("drillDownIdPathMap",Oe)},s.prototype.clearDrillDownData=function(i){var u=this,g=this.spreadsheet.store,C=g.get("drillDownIdPathMap");if(C){var x=g.get("drillDownDataCache",[]);if(i){var E=C.get(i);E&&Xi(E,function(q){La(u.indexesData,q)}),dP(this.rowPivotMeta,i),C.delete(i);var O=h(x,function(q){return C.has(q==null?void 0:q.rowId)});g.set("drillDownDataCache",O);var R=O.map(function(q){return q==null?void 0:q.drillLevel}),k=g.get("drillDownFieldInLevel",[]),z=k.filter(function(q){return Mh(R,q==null?void 0:q.drillLevel)});g.set("drillDownFieldInLevel",z)}else{C.clear();var j=this.spreadsheet.store.get("originalDataCfg");zn(j)||this.spreadsheet.setDataCfg(j),this.spreadsheet.store.set("drillItemsNum",-1),this.spreadsheet.store.set("drillDownDataCache",[]),this.spreadsheet.store.set("drillDownFieldInLevel",[])}g.set("drillDownIdPathMap",C)}},s.prototype.standardTransform=function(i,u){if(zn(u))return i;var g=[];return Xi(u,function(C){Xi(i,function(x){var E;ly(x,C)&&g.push(ur(ur({},x),(E={},E[ra]=C,E[cu]=x[C],E)))})}),g},s.prototype.processDataCfg=function(i){var u=i.data,g=i.meta,C=g===void 0?[]:g,x=i.fields,E=i.sortParams,O=E===void 0?[]:E,R=i.totalData,k=x.columns,z=x.rows,j=x.values,q=x.valueInCols,ee=x.customValueOrder,le=k,me=z;q?le=this.isCustomMeasuresPosition(ee)?this.handleCustomMeasuresOrder(ee,le):sn(en(en([],Br(k),!1),[ra],!1)):me=this.isCustomMeasuresPosition(ee)?this.handleCustomMeasuresOrder(ee,me):sn(en(en([],Br(z),!1),[ra],!1));var Oe=this.processMeta(C,rs("\u6570\u503C")),$e=this.standardTransform(u,j),Ye=this.standardTransform(R,j);return{data:$e,meta:Oe,fields:ur(ur({},x),{rows:me,columns:le,values:j}),totalData:Ye,sortParams:O}},s.prototype.getDimensionsByField=function(i){var u=this.fields||{},g=u.rows,C=g===void 0?[]:g,x=u.columns,E=x===void 0?[]:x;return Mh(C,i)?C:Mh(E,i)?E:[]},s.prototype.getTotalDimensionValues=function(i,u){var g=this,C=this.getDimensionsByField(i),x=(this.sortedDimensionValues[i]||[]).filter(function(E){return g.checkAccordQueryWithDimensionValue({dimensionValues:E,query:u,dimensions:C,field:i})});return fA(sn(DR(en([],Br(x),!1))))},s.prototype.getDimensionValues=function(i,u){var g,C,x,E,O=this.fields||{},R=O.rows,k=R===void 0?[]:R,z=O.columns,j=z===void 0?[]:z,q=new Map,ee=[];if(Mh(k,i)?(q=this.rowPivotMeta,ee=k):Mh(j,i)&&(q=this.colPivotMeta,ee=j),!zn(u)){var le=[],me=[],Oe=function(gr){var br=Mi(u,gr);me.push("".concat(br));var Zr=me.join("".concat(zl));if(q.has(br)&&!Oh(br)){var gn=(x=q.get(br))===null||x===void 0?void 0:x.childField;if(q=q.get(br).children,y($e.sortParams,function(In){return In.sortFieldId===gn})&&$e.sortedDimensionValues[gn]){var Kn=(E=$e.sortedDimensionValues[gn])===null||E===void 0?void 0:E.filter(function(In){return In==null?void 0:In.startsWith(Zr)});le=DR(en([],Br(Kn),!1))}else le=en([],Br(q.keys()),!1)}},$e=this;try{for(var Ye=Ls(ee),Ze=Ye.next();!Ze.done;Ze=Ye.next()){var Ut=Ze.value;Oe(Ut)}}catch(gr){g={error:gr}}finally{try{Ze&&!Ze.done&&(C=Ye.return)&&C.call(Ye)}finally{if(g)throw g.error}}return zn(le)?[]:fA(MR(en([],Br(q.keys()),!1),le))}return this.sortedDimensionValues[i]?fA(DR(en([],Br(this.sortedDimensionValues[i]),!1))):fA(en([],Br(q.keys()),!1))},s.prototype.getTotalValue=function(i,u){var g,C,x=_T(u),E=x?u:this.getTotalStatus(i),O=t8(E,(C=this.spreadsheet.options)===null||C===void 0?void 0:C.totals)||{},R=O.aggregation,k=O.calcFunc,z=uk[R];if(z||k){var j=this.getMultiData(i),q=void 0;return k?q=k(i,j):z&&(q=z(j,cu)),ur(ur({},i),(g={},g[cu]=q,g[i[ra]]=q,g))}},s.prototype.getCellData=function(i){var u,g,C,x=i||{},E=x.query,O=x.rowNode,R=x.isTotals,k=R===void 0?!1:R,z=x.totalStatus,j=this.fields,q=j.columns,ee=j.rows,le=ee,me=(u=this.spreadsheet)===null||u===void 0?void 0:u.store.get("drillDownIdPathMap"),Oe=Array.from((g=me==null?void 0:me.keys())!==null&&g!==void 0?g:[]).some(function(gr){return O.id.startsWith(gr)});(!k||Oe)&&(le=(C=Pc.getFieldPath(O,Oe))!==null&&C!==void 0?C:ee);var $e=G2(le,E),Ye=G2(q,E),Ze=hA({rowDimensionValues:$e,colDimensionValues:Ye,careUndefined:k||QL([].concat(ee).concat(q),E),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),Ut=Mi(this.indexesData,Ze);return Ut||(k?this.getTotalValue(E,z):Ut)},s.prototype.checkExistDimensionGroup=function(i){var u=this.fields,g=u.rows,C=u.columns,x=function(E){for(var O=!1,R=E.length;R>0;R--){var k=E[R-1];if(Aa(i).includes(k))k!==ra&&(O=!0);else if(O)return!0}return!1};return x(g)||x(C)},s.prototype.checkAccordQueryWithDimensionValue=function(i){var u,g,C=i.dimensionValues,x=i.query,E=i.dimensions,O=i.field;try{for(var R=Ls(E.entries()),k=R.next();!k.done;k=R.next()){var z=Br(k.value,2),j=z[0],q=z[1],ee=Mi(x,q);if(ee){var le=C.split(zl),me=le[j];if(me!==ee)return!1}if(O===q)break}}catch(Oe){u={error:Oe}}finally{try{k&&!k.done&&(g=R.return)&&g.call(R)}finally{if(u)throw u.error}}return!0},s.prototype.getTotalGroupQueries=function(i,u){for(var g=[u],C=null,x=function(R){var k,z,j=i[R];if(Aa(u).includes(j))j!==ra&&(C=j);else if(C){var q=E.sortedDimensionValues[C],ee=[],le=function(Ye){var Ze,Ut,gr=[];try{for(var br=(Ze=void 0,Ls(q)),Zr=br.next();!Zr.done;Zr=br.next()){var gn=Zr.value;if(E.checkAccordQueryWithDimensionValue({dimensionValues:gn,query:Ye,dimensions:i,field:C})){var Kn=gn.split(zl),In=Kn[R];In!=="undefined"&&gr.push(In)}}}catch(gi){Ze={error:gi}}finally{try{Zr&&!Zr.done&&(Ut=br.return)&&Ut.call(br)}finally{if(Ze)throw Ze.error}}var Xn=sn(gr).map(function(gi){var Pi;return ur(ur({},Ye),(Pi={},Pi[j]=gi,Pi))});ee=Sh(ee,Xn)};try{for(var me=(k=void 0,Ls(g)),Oe=me.next();!Oe.done;Oe=me.next()){var $e=Oe.value;le($e)}}catch(Ye){k={error:Ye}}finally{try{Oe&&!Oe.done&&(z=me.return)&&z.call(me)}finally{if(k)throw k.error}}g=ee,C=j}},E=this,O=i.length-1;O>=0;O--)x(O);return g},s.prototype.getGroupTotalMultiData=function(i,u){var g,C,x,E,O=this.fields,R=O.rows,k=O.columns,z=[],j=this.getTotalGroupQueries(i,u),q=[];try{for(var ee=Ls(j),le=ee.next();!le.done;le=ee.next()){var me=le.value;q=Sh(q,this.getTotalGroupQueries(k,me))}}catch(br){g={error:br}}finally{try{le&&!le.done&&(C=ee.return)&&C.call(ee)}finally{if(g)throw g.error}}try{for(var Oe=Ls(q),$e=Oe.next();!$e.done;$e=Oe.next()){var me=$e.value,Ye=G2(i,me),Ze=G2(k,me),Ut=hA({rowDimensionValues:Ye,colDimensionValues:Ze,careUndefined:!0,isFirstCreate:!0,rowFields:R,colFields:k,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),gr=this.getCustomData(Ut);z=Sh(z,xh(OR(gr)))}}catch(br){x={error:br}}finally{try{$e&&!$e.done&&(E=Oe.return)&&E.call(Oe)}finally{if(x)throw x.error}}return z},s.prototype.getMultiData=function(i,u,g,C,x){var E;if(zn(i))return xh(TR(this.indexesData));var O=this.fields,R=O.rows,k=O.columns,z=O.values,j=zn(C)?R:R.concat(C),q=!x&&this.checkExistDimensionGroup(i),ee=[];if(q)ee=this.getGroupTotalMultiData(j,i);else{var le=G2(j,i),me=G2(k,i),Oe=hA({rowDimensionValues:le,colDimensionValues:me,careUndefined:!0,isFirstCreate:!0,rowFields:R,colFields:k,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),$e=this.getCustomData(Oe);if(ee=xh(OR($e)),u){var Ye=[],Ze=qL(le,R),Ut=qL(me,k);if(g)Ye=Ze;else{var gr=((E=Aa(i))===null||E===void 0?void 0:E.length)===1&&ly(i,ra);if(gr)Ye=Ut;else{var br=function(Kn){return J5(Kn==null?void 0:Kn.filter(function(In){return!(z!=null&&z.includes(In))}))},Zr=br(me),gn=br(le);Zr?Ye=Ze:gn?Ye=Ut:Ye=en(en([],Br(Ze),!1),Br(Ut),!1)}}ee=ee.filter(function(Kn){return!(Ye!=null&&Ye.find(function(In){var Xn;return In!==ra&&((Xn=Aa(Kn))===null||Xn===void 0?void 0:Xn.includes(In))}))})}}return ee||[]},s.prototype.getFieldFormatter=function(i,u){return i===B0?this.getFieldFormatterForTotalValue(u):l.prototype.getFieldFormatter.call(this,i)},s.prototype.getFieldFormatterForTotalValue=function(i){var u;return!this.spreadsheet.isValueInCols()&&i&&(u=Mi(i.rowQuery,ra)),u=u!=null?u:Mi(this.fields.values,0),l.prototype.getFieldFormatter.call(this,u)},s.prototype.handleCustomMeasuresOrder=function(i,u){var g=sn(en([],Br(u),!1));return u.length>=i?(g.splice(i,0,ra),g):en(en([],Br(g),!1),[ra],!1)},s.prototype.isCustomMeasuresPosition=function(i){return Th(i)},s.prototype.getRowData=function(i){return this.getMultiData(i.rowQuery)},s}(m5),Ok=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.handleDimensionValueFilter=function(){Xi(i.filterParams,function(u){var g=u.filterKey,C=u.filteredValues,x=u.customFilter,E=new Set(C),O=function(R){return!E.has(R[g])};i.displayData=en(en(en([],Br(i.getStartRows()),!1),Br(h(i.getMovableRows(),function(R){return x?x(R)&&O(R):O(R)})),!1),Br(i.getEndRows()),!1)})},i.handleDimensionValuesSort=function(){Xi(i.sortParams,function(u){var g=u.sortFieldId,C=u.sortBy,x=u.sortFunc,E=u.sortMethod,O=u.query;if(g){var R=i.getMovableRows(),k=[];if(O){var z=[];R.forEach(function(le){for(var me=Object.keys(O),Oe=!0,$e=0;$e<me.length;$e++){var Ye=me[$e];if(le[Ye]!==O[Ye]){Oe=!1,k.push(le);break}}Oe&&z.push(le)}),R=z}var j=R;if(x)j=x(ur(ur({},u),{data:R}));else if(C&&!kl(C)){var q=en([],Br(C),!1).reverse();j=R.sort(function(le,me){var Oe=q.indexOf(le[g]),$e=q.indexOf(me[g]);return $e-Oe})}else if(GT(E)||$R(E)){var ee=kl(C)?C:null;j=eI(R,[ee||g],[E.toLocaleLowerCase()])}k.length&&(j=en(en([],Br(j),!1),Br(k),!1)),i.displayData=en(en(en([],Br(i.getStartRows()),!1),Br(j),!1),Br(i.getEndRows()),!1)}})},i}return s.prototype.processDataCfg=function(i){return i},s.prototype.setDataCfg=function(i){l.prototype.setDataCfg.call(this,i),this.handleDimensionValueFilter(),this.handleDimensionValuesSort()},s.prototype.getStartRows=function(){var i=(this.spreadsheet.options||{}).frozenRowCount;if(!i)return[];var u=this.displayData;return u.slice(0,i)},s.prototype.getEndRows=function(){var i=(this.spreadsheet.options||{}).frozenTrailingRowCount;if(!i)return[];var u=this.displayData;return u.slice(-i)},s.prototype.getMovableRows=function(){var i=this.displayData,u=this.spreadsheet.options||{},g=u.frozenTrailingRowCount,C=u.frozenRowCount;return i.slice(C||0,-g||void 0)},s.prototype.getTotalDimensionValues=function(i,u){return[]},s.prototype.getDimensionValues=function(i,u){return[]},s.prototype.getCellData=function(i){var u=i.query;if(!(this.displayData.length===0&&u.rowIndex===0)){var g=this.displayData[u.rowIndex];return!("col"in u)||!na(g)?g:g[u.col]}},s.prototype.getMultiData=function(i,u){return this.displayData},s.prototype.getRowData=function(i){return this.getCellData({query:{rowIndex:i.rowIndex}})},s}(m5),y5=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getCellData=function(i){var u=i.query,g=this.fields,C=g.columns,x=g.rows,E=G2(x,u),O=G2(C,u),R=hA({rowDimensionValues:E,colDimensionValues:O,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,isFirstCreate:!0,careUndefined:!0,rowFields:x,colFields:C}),k=Mi(this.indexesData,R);return k},s.prototype.setDataCfg=function(i){l.prototype.setDataCfg.call(this,i),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map;var u=this.fields,g=u.rows,C=u.columns,x=LR({rows:g,columns:C,originData:this.originData,totalData:[],indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}).indexesData;this.indexesData=x,this.handleDimensionValuesSort()},s.prototype.processDataCfg=function(i){i.fields.valueInCols=!1;var u=i.data,g=i.meta,C=rC(i,["data","meta"]),x=i.fields.values,E=[];Xi(u,function(R){zn(LA(Aa(R),x))?E.push(R):Xi(x,function(k){var z;ly(R,k)&&E.push(ur(ur({},R),(z={},z[ra]=k,z[cu]=R[k],z)))})});var O=this.processMeta(g,rs("\u6307\u6807"));return ur(ur({},C),{meta:O,data:sn(E),fields:ur(ur({},i.fields),{rows:[ra]})})},s}(aD),IM;(function(l){l.ScrollChange="scroll-change",l.ScrollEnd="scroll-end"})(IM||(IM={}));var oD=function(l){Ni(s,l);function s(i){var u=l.call(this,i)||this;u.isMobile=!1,u.eventHandlers=[],u.scrollFrameId=null,u.getCoordinatesName=function(){var q=u.isHorizontal?"x1":"y1",ee=u.isHorizontal?"x2":"y2";return{from:q,to:ee}},u.getCoordinatesWithBBoxExtraPadding=function(){var q=u.theme.size,ee=u.isHorizontal?0:q/2,le=u.isHorizontal?q:q/2;return{start:u.thumbOffset+ee,end:u.thumbOffset+u.thumbLen-le}},u.current=function(){var q=u.thumbLen/u.trackLen,ee=u.thumbOffset/u.trackLen;return ee/(1-q)},u.updateThumbLen=function(q){if(u.thumbLen!==q){u.thumbLen=q;var ee=u.getCoordinatesName();u.thumbShape.attr(ee.to,u.thumbOffset+q),u.emitScrollChange(u.thumbOffset/(u.trackLen-u.thumbLen)*u.scrollTargetMaxOffset,!1)}},u.updateThumbOffset=function(q,ee){var le;ee===void 0&&(ee=!0);var me=u.validateRange(q),Oe=u.thumbOffset===me&&me!==0;if(!Oe){u.thumbOffset=me;var $e=u.getCoordinatesName(),Ye=$e.from,Ze=$e.to,Ut=u.getCoordinatesWithBBoxExtraPadding(),gr=Ut.start,br=Ut.end;u.thumbShape.attr((le={},le[Ye]=gr,le[Ze]=br,le)),ee&&u.emitScrollChange(me/(u.trackLen-u.thumbLen)*u.scrollTargetMaxOffset,!1)}},u.onlyUpdateThumbOffset=function(q){var ee;u.updateThumbOffset(q,!1),(ee=u.get("canvas"))===null||ee===void 0||ee.draw()},u.emitScrollChange=function(q,ee){ee===void 0&&(ee=!0),cancelAnimationFrame(u.scrollFrameId),u.scrollFrameId=requestAnimationFrame(function(){u.emit(IM.ScrollChange,{offset:q,updateThumbOffset:ee})})},u.addEventListener=function(q,ee,le){return q==null||q.addEventListener(ee,le,!1),{remove:function(){q==null||q.removeEventListener(ee,le,!1)}}},u.addEvent=function(q,ee,le){q.on(ee,le),u.eventHandlers.push({target:q,type:ee,handler:le})},u.initScrollBar=function(){u.scrollBarGroup=u.createScrollBarGroup(),u.scrollBarGroup.move(u.position.x,u.position.y),u.bindEvents()},u.createScrollBarGroup=function(){var q=u.addGroup({className:u.isHorizontal?"horizontalBar":"verticalBar"});return u.trackShape=u.createTrackShape(q),u.thumbShape=u.createThumbShape(q),q},u.createTrackShape=function(q){var ee=u.theme,le=ee.lineCap,me=le===void 0?"round":le,Oe=ee.trackColor,$e=ee.size,Ye={lineWidth:$e,stroke:Oe,lineCap:me};return u.isHorizontal?q.addShape("line",{attrs:ur(ur({},Ye),{x1:0,y1:$e/2,x2:u.trackLen,y2:$e/2})}):q.addShape("line",{attrs:ur(ur({},Ye),{x1:$e/2,y1:0,x2:$e/2,y2:u.trackLen})})},u.createThumbShape=function(q){var ee=u.theme,le=ee.size,me=ee.lineCap,Oe=me===void 0?"round":me,$e=ee.thumbColor,Ye={lineWidth:le,stroke:$e,lineCap:Oe,cursor:"default"},Ze=u.getCoordinatesWithBBoxExtraPadding(),Ut=Ze.start,gr=Ze.end;return u.isHorizontal?q.addShape("line",{attrs:ur(ur({},Ye),{x1:Ut,y1:le/2,x2:gr,y2:le/2})}):q.addShape("line",{attrs:ur(ur({},Ye),{x1:le/2,y1:Ut,x2:le/2,y2:gr})})},u.bindEvents=function(){u.on("mousedown",u.onStartEvent(!1)),u.on("mouseup",u.onMouseUp),u.on("touchstart",u.onStartEvent(!0)),u.on("touchend",u.onMouseUp),u.trackShape.on("click",u.onTrackClick),u.thumbShape.on("mouseover",u.onTrackMouseOver),u.thumbShape.on("mouseout",u.onTrackMouseOut)},u.onStartEvent=function(q){return function(ee){ee.preventDefault(),u.isMobile=q;var le=u.isMobile?Mi(ee,"touches.0",ee):ee,me=le.clientX,Oe=le.clientY;u.startPos=u.isHorizontal?me:Oe,u.bindLaterEvent()}},u.bindLaterEvent=function(){var q=u.get("canvas"),ee=document.body,le=[];u.isMobile?(le=[u.addEventListener(ee,"touchmove",u.onMouseMove),u.addEventListener(ee,"touchend",u.onMouseUp),u.addEventListener(ee,"touchcancel",u.onMouseUp)],u.addEvent(q,"touchend",u.onMouseUp),u.addEvent(q,"touchcancel",u.onMouseUp)):(le=[u.addEventListener(ee,"mousemove",u.onMouseMove),u.addEventListener(ee,"mouseup",u.onMouseUp),u.addEventListener(ee,"mouseleave",u.onMouseUp)],u.addEvent(q,"mouseup",u.onMouseUp)),u.clearEvents=function(){le.forEach(function(me){me==null||me.remove()}),Xi(u.eventHandlers,function(me){var Oe;(Oe=me.target)===null||Oe===void 0||Oe.off(me.type,me.handler)}),u.eventHandlers.length=0}},u.onTrackClick=function(q){var ee=u.isHorizontal?q.x-u.position.x-u.thumbLen/2:q.y-u.position.y-u.thumbLen/2,le=u.validateRange(ee);u.updateThumbOffset(le)},u.onMouseMove=function(q){q.preventDefault();var ee=u.isMobile?Mi(q,"touches.0",q):q,le=ee.clientX,me=ee.clientY,Oe=u.isHorizontal?le:me,$e=Oe-u.startPos;u.startPos=Oe,u.updateThumbOffset(u.thumbOffset+$e)},u.onMouseUp=function(q){var ee;u.emit(IM.ScrollEnd,{}),q.preventDefault(),(ee=u.clearEvents)===null||ee===void 0||ee.call(u)},u.onTrackMouseOver=function(){var q=u.theme,ee=q.thumbHoverColor,le=q.hoverSize;u.thumbShape.attr("stroke",ee),u.thumbShape.attr("lineWidth",le)},u.onTrackMouseOut=function(){var q=u.theme,ee=q.thumbColor,le=q.size;u.thumbShape.attr("stroke",ee),u.thumbShape.attr("lineWidth",le)},u.validateRange=function(q){var ee=q;return q+u.thumbLen>u.trackLen?ee=u.trackLen-u.thumbLen:q+u.thumbLen<u.thumbLen&&(ee=0),ee};var g=i.isHorizontal,C=g===void 0?!1:g,x=i.trackLen,E=i.thumbLen,O=i.position,R=i.thumbOffset,k=R===void 0?0:R,z=i.theme,j=i.scrollTargetMaxOffset;return u.isHorizontal=C,u.thumbOffset=k,u.trackLen=x,u.thumbLen=E,u.position=O,u.theme=z,u.scrollTargetMaxOffset=j,u.initScrollBar(),u}return s}(pl),C5=function(l,s,i){if(i<=0)return{start:0,end:0};var u=c(l,function(C,x){var E=s;return E>=C&&E<l[x+1]},0);u=Math.max(u,0);var g=i===s?u:c(l,function(C,x){var E=i;return E>C&&E<=l[x+1]},u);return g=Math.min(g===-1?1/0:g,l.length-2),{start:u,end:g}},Ak=function(l,s){var i=s.width,u=s.originalWidth,g=Math.min(u-i,l);return g<0?0:g},lD=function(l,s,i){var u=Math.min(s-i,l);return u<0?0:u},SA=function(l,s){if(l===void 0&&(l=[]),zn(l))return[];var i=[];return l.forEach(function(u){if(u instanceof s&&i.push(u),u instanceof pl){var g=u.getChildren();g.forEach(function(C){C instanceof s&&i.push(C)})}}),i},b5=function(l,s,i){return i.slice(l,s+1).map(function(u){return u.x+u.width})},sD=function(l,s,i){for(var u=[],g=l;g<s+1;g++)u.push(i.getCellOffsetY(g+1));return u},Ik=function(l,s,i,u){var g=sD(l,s,u),C=u.getCellOffsetY(l);return g.map(function(x){return x-C+i})},w5=function(l,s,i){var u=Br(i,4),g=u[0],C=u[1],x=u[2],E=u[3];return l>=g&&l<=C&&s>=x&&s<=E},x5=function(l){for(var s=Br(l,4),i=s[0],u=s[1],g=s[2],C=s[3],x=[],E=i;E<=u;E+=1)for(var O=g;O<=C;O+=1)x.push([E,O]);return x},Rk=function(l,s){var i=[],u=[];if(zn(l))return zn(s)?{add:i,remove:u}:{add:x5(s),remove:u};if(zn(s))return{add:i,remove:x5(l)};for(var g=Br(l,4),C=g[0],x=g[1],E=g[2],O=g[3],R=Br(s,4),k=R[0],z=R[1],j=R[2],q=R[3],ee=C;ee<=x;ee++)for(var le=E;le<=O;le++)w5(ee,le,s)||u.push([ee,le]);for(var ee=k;ee<=z;ee+=1)for(var le=j;le<=q;le+=1)w5(ee,le,l)||i.push([ee,le]);return{add:i,remove:u}},Dk=function(l,s){var i=[],u=[];return Object.keys(s).forEach(function(g){var C=Rk((l==null?void 0:l[g])||[],s[g]),x=C.add,E=C.remove;i.push.apply(i,en([],Br(x),!1)),u.push.apply(u,en([],Br(E),!1))}),{add:i,remove:u}},S5=function(){function l(s,i){i===void 0&&(i=!1),this.x=0,this.y=0,this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.originalWidth=0,this.originalHeight=0,this.viewportHeight=0,this.viewportWidth=0,this.facet=s,this.spreadsheet=s.spreadsheet,this.layoutResult=s.layoutResult,i&&this.calculateBBox()}return l}(),_5=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.calculateBBox=function(){var i=this.getCornerBBoxWidth(),u=this.getCornerBBoxHeight();this.width=i,this.height=u,this.maxX=i,this.maxY=u},s.prototype.getCornerBBoxOriginalHeight=function(){var i=this.layoutResult.colsHierarchy,u=this.spreadsheet.options.style.colCfg;return i.sampleNodeForLastLevel?Math.floor(i.height):u==null?void 0:u.height},s.prototype.getCornerBBoxHeight=function(){return this.originalHeight=this.getCornerBBoxOriginalHeight(),this.originalHeight},s.prototype.getCornerBBoxWidth=function(){var i=this.layoutResult.rowsHierarchy;return this.originalWidth=Math.floor(i.width+this.facet.getSeriesNumberWidth()),this.spreadsheet.isScrollContainsRowHeader()?this.originalWidth:this.adjustCornerBBoxWidth()},s.prototype.adjustCornerBBoxWidth=function(){var i=this.layoutResult.colsHierarchy,u=this.spreadsheet.options.width,g=u*gg,C=i==null?void 0:i.width,x=u-this.originalWidth;if(this.originalWidth<=g||C<=x)return this.originalWidth;var E=0,O=u-g;return C<=O?E=this.originalWidth-(C-x):E=g,Math.floor(E)},s}(S5),Lk=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.calculateBBox=function(){this.originalWidth=this.facet.getRealWidth(),this.originalHeight=this.facet.getRealHeight();var i=this.facet.cornerBBox,u={x:Math.floor(i.maxX),y:Math.floor(i.maxY)},g=this.spreadsheet.theme.scrollBar.size,C=this.spreadsheet.options,x=C.width,E=C.height,O=Math.max(0,x-u.x),R=Math.max(0,E-u.y-g);this.x=u.x,this.y=u.y,this.width=O,this.height=R,this.viewportHeight=Math.abs(Math.floor(Math.min(R,this.originalHeight))),this.viewportWidth=Math.abs(Math.floor(Math.min(O,this.originalWidth))),this.maxX=u.x+this.viewportWidth,this.maxY=u.y+this.viewportHeight,this.minX=u.x,this.minY=u.y;var k=this.spreadsheet.options,z=k.frozenTrailingColCount,j=k.frozenTrailingRowCount;z>0&&(this.viewportWidth=this.width,this.maxX=u.x+this.width),j>0&&(this.viewportHeight=this.height,this.maxY=u.y+this.height)},s}(S5),C6=function(l){Ni(s,l);function s(i){var u=l.call(this,i)||this;return u.isHeaderCellInViewport=function(g,C,x,E){return g+C>=x&&x+E>=g},u.headerConfig=i,u}return s.prototype.getConfig=function(){return this.headerConfig},s.prototype.clearResizeAreaGroup=function(i){var u=this.get("parent"),g=u==null?void 0:u.findById(i);g==null||g.clear()},s.prototype.render=function(i){this.clearResizeAreaGroup(i),this.clear(),this.layout(),this.offset(),this.clip()},s.prototype.onScrollXY=function(i,u,g){this.headerConfig.scrollX=i,this.headerConfig.scrollY=u,this.render(g)},s.prototype.onRowScrollX=function(i,u){this.headerConfig.scrollX=i,this.render(u)},s.prototype.clear=function(){l.prototype.clear.call(this)},s}(pl),uD=function(l){Ni(s,l);function s(i){var u=l.call(this,i)||this;return u.scrollGroup=u.addGroup({name:Jd,zIndex:qy}),u}return s.prototype.onColScroll=function(i,u){this.headerConfig.scrollX!==i&&(this.headerConfig.scrollX=i,this.render(u))},s.prototype.clip=function(){var i=this.headerConfig,u=i.width,g=i.height,C=i.scrollX,x=i.spreadsheet,E=x.isFrozenRowHeader();this.scrollGroup.setClip({type:"rect",attrs:{x:E?C:0,y:0,width:E?u:u+C,height:g}})},s.prototype.clear=function(){var i,u;(i=this.scrollGroup)===null||i===void 0||i.clear(),(u=this.background)===null||u===void 0||u.remove(!0)},s.prototype.getCellInstance=function(i,u,g){return new bA(i,u,g)},s.prototype.getCellGroup=function(i){return this.scrollGroup},s.prototype.isColCellInRect=function(i){var u=this.headerConfig,g=u.spreadsheet,C=u.cornerWidth,x=u.width,E=u.scrollX;return x+E>i.x&&E-(g.isFrozenRowHeader()?0:C)<i.x+i.width},s.prototype.layout=function(){var i=this,u=this.headerConfig,g=u.data,C=u.spreadsheet,x=C.options.colCell;Xi(g,function(E){var O=E;if(i.isColCellInRect(O)){var R=(x==null?void 0:x(O,C,i.headerConfig))||i.getCellInstance(O,C,i.headerConfig);O.belongsCell=R;var k=i.getCellGroup(O);k.add(R)}})},s.prototype.offset=function(){var i=this.headerConfig,u=i.position,g=i.scrollX;ER(this.scrollGroup,u.x-g)},s}(C6),Pk=function(l){Ni(s,l);function s(i){return l.call(this,i)||this}return s.getCornerHeader=function(i,u,g,C,x,E){var O=i.width,R=i.height,k=u.originalWidth,z=u.originalHeight,j=u.width,q=u.height,ee=this.getCornerNodes({x:u.x,y:u.y},k,z,C.rows,C.columns,x.rowsHierarchy,x.colsHierarchy,C.dataSet,g,E);return new s({data:ee,position:{x:u.x,y:u.y},width:j,height:q,originalHeight:z,originalWidth:k,viewportWidth:O,viewportHeight:R,hierarchyType:C.hierarchyType,hierarchyCollapse:C.hierarchyCollapse,rows:C.rows,columns:C.columns,seriesNumberWidth:g,spreadsheet:E})},s.getCornerNodes=function(i,u,g,C,x,E,O,R,k,z){var j,q,ee,le=[],me=z.options.style.colCfg,Oe=O==null?void 0:O.sampleNodeForLastLevel,$e=(j=Oe==null?void 0:Oe.y)!==null&&j!==void 0?j:0,Ye=(ee=(q=Oe==null?void 0:Oe.height)!==null&&q!==void 0?q:me==null?void 0:me.height)!==null&&ee!==void 0?ee:0;if(k){var Ze=new Pc({id:"",key:Kh,value:rs("\u5E8F\u53F7")});Ze.x=i==null?void 0:i.x,Ze.y=$e,Ze.width=k,Ze.height=Ye,Ze.isPivotMode=!0,Ze.spreadsheet=z,Ze.cornerType=c0.Series,le.push(Ze)}if(z.isHierarchyTreeType()){var Ut=this.getTreeCornerText(z),gr=new Pc({key:"",id:Ut,value:Ut});gr.x=i.x+k,gr.y=$e,gr.width=u-k,gr.height=Ye,gr.seriesNumberWidth=k,gr.isPivotMode=!0,gr.spreadsheet=z,gr.cornerType=c0.Row,le.push(gr)}else E.sampleNodesForAllLevels.forEach(function(br){var Zr=C[br.level],gn=new Pc({key:Zr,id:Zr,value:R.getFieldName(Zr)});gn.x=br.x+k,gn.y=$e,gn.width=br.width,gn.height=Ye,gn.field=Zr,gn.isPivotMode=!0,gn.cornerType=c0.Row,gn.spreadsheet=z,le.push(gn)});return O.sampleNodesForAllLevels.forEach(function(br){if(br.level<O.maxLevel){var Zr=x[br.level],gn=new Pc({key:Zr,id:Zr,value:R.getFieldName(Zr)});gn.x=i.x,gn.y=br.y,gn.width=u,gn.height=br.height,gn.field=Zr,gn.isPivotMode=!0,gn.cornerType=c0.Col,gn.spreadsheet=z,le.push(gn)}}),le},s.getTreeCornerText=function(i){var u=i.dataSet.fields.rows,g=u===void 0?[]:u,C=i.options.cornerText;if(C)return C;var x=i.store.get("drillDownFieldInLevel",[]),E=x.map(function(R){return R.drillField}),O=g.filter(function(R){return!Mh(E,R)}).map(function(R){return i.dataSet.getFieldName(R)}).join("/");return O},s.prototype.onCorScroll=function(i,u){this.headerConfig.scrollX=i,this.render(u)},s.prototype.destroy=function(){l.prototype.destroy.call(this)},s.prototype.layout=function(){this.renderCells()},s.prototype.renderCells=function(){var i=this,u,g,C,x,E=this.headerConfig,O=E.data,R=E.spreadsheet,k=(g=(u=R==null?void 0:R.facet)===null||u===void 0?void 0:u.cfg)===null||g===void 0?void 0:g.cornerHeader,z=(x=(C=R==null?void 0:R.facet)===null||C===void 0?void 0:C.cfg)===null||x===void 0?void 0:x.cornerCell;if(k){k(this,R,this.headerConfig);return}O.forEach(function(j){var q;z&&(q=z(j,i.headerConfig.spreadsheet,i.headerConfig)),zn(q)&&(q=new G4(j,i.headerConfig.spreadsheet,i.headerConfig)),i.add(q)})},s.prototype.offset=function(){var i=this.headerConfig.scrollX;ER(this,-i)},s.prototype.clip=function(){var i=this.headerConfig,u=i.width,g=i.height,C=i.scrollX;this.setClip({type:"rect",attrs:{x:C,y:0,width:u,height:g}})},s.prototype.getNodes=function(){return this.headerConfig.data||[]},s}(C6),Bk=function(l){Ni(s,l);function s(i){var u=l.call(this,i)||this;return u.render(),u}return s.prototype.layout=function(){this.addCornerBottomBorder(),this.addCornerRightBorder(),this.addSplitLineShadow()},s.prototype.render=function(){this.clear(),this.layout()},s.prototype.onBorderScroll=function(i){this.cfg.scrollX=i;var u=this.cfg.position;H2(this,u.x-i,0),this.render()},s.prototype.onChangeShadowVisibility=function(i,u){this.cfg.showViewportLeftShadow=i>0,this.cfg.showViewportRightShadow=Math.floor(i)<Math.floor(u),this.render()},s.prototype.addCornerRightBorder=function(){var i,u=this.cfg,g=u.isPivotMode;if(g){var C=u.width,x=u.height,E=u.viewportHeight,O=u.position,R=u.spreadsheet,k=(i=R.theme)===null||i===void 0?void 0:i.splitLine,z=O.x+C,j=O.y,q=O.y+x+E;this.addShape("line",{attrs:{x1:z,y1:j,x2:z,y2:q,stroke:k.verticalBorderColor,lineWidth:k.verticalBorderWidth,opacity:k.verticalBorderColorOpacity,lineDash:k.borderDash}})}},s.prototype.addCornerBottomBorder=function(){var i,u=this.cfg,g=u.width,C=u.height,x=u.viewportWidth,E=u.position,O=u.scrollX,R=u.scrollContainsRowHeader,k=u.spreadsheet,z=(i=k.theme)===null||i===void 0?void 0:i.splitLine,j=E.x,q=j+g+x+(R?O:0),ee=E.y+C-1;this.addShape("line",{attrs:{x1:j,y1:ee,x2:q,y2:ee,stroke:z.horizontalBorderColor,lineWidth:z.horizontalBorderWidth,opacity:z.horizontalBorderColorOpacity,lineDash:z.borderDash}})},s.prototype.addSplitLineShadow=function(){var i,u=this.cfg,g=u.isPivotMode,C=u.spreadsheet,x=(i=C.theme)===null||i===void 0?void 0:i.splitLine;!g||!x.showShadow||!C.isFrozenRowHeader()||(this.addSplitLineLeftShadow(),this.addSplitLineRightShadow())},s.prototype.addSplitLineLeftShadow=function(){var i,u,g;if(this.cfg.showViewportLeftShadow){var C=this.cfg,x=C.width,E=C.height,O=C.viewportHeight,R=C.position,k=C.spreadsheet,z=(i=k.theme)===null||i===void 0?void 0:i.splitLine,j=R.x+x,q=R.y;this.addShape("rect",{attrs:{x:j,y:q,width:z.shadowWidth,height:O+E,fill:"l (0) 0:".concat((u=z.shadowColors)===null||u===void 0?void 0:u.left," 1:").concat((g=z.shadowColors)===null||g===void 0?void 0:g.right)}})}},s.prototype.addSplitLineRightShadow=function(){var i,u,g;if(this.cfg.showViewportRightShadow){var C=this.cfg,x=C.width,E=C.height,O=C.viewportHeight,R=C.viewportWidth,k=C.position,z=C.spreadsheet,j=(i=z.theme)===null||i===void 0?void 0:i.splitLine,q=k.x+x+R-j.shadowWidth,ee=k.y;this.addShape("rect",{attrs:{x:q,y:ee,width:j.shadowWidth,height:O+E,fill:"l (0) 0:".concat((u=j.shadowColors)===null||u===void 0?void 0:u.right," 1:").concat((g=j.shadowColors)===null||g===void 0?void 0:g.left)}})}},s}(pl),E5=function(l){Ni(s,l);function s(i){return l.call(this,i)||this}return s.prototype.destroy=function(){l.prototype.destroy.call(this),this.gm&&this.gm.destroy()},s.prototype.layout=function(){var i=this,u,g,C=this.headerConfig,x=C.data,E=C.spreadsheet,O=C.width,R=C.viewportHeight,k=C.seriesNumberWidth,z=C.scrollY,j=C.scrollX,q=(g=(u=E==null?void 0:E.facet)===null||u===void 0?void 0:u.cfg)===null||g===void 0?void 0:g.rowCell,ee=function(le){return R+z>le.y&&z<le.y+le.height&&O-k+j>le.x&&j-k<le.x+le.width};Xi(x,function(le){if(ee(le)&&le.height!==0){var me=void 0;q&&(me=q(le,E,i.headerConfig)),zn(me)&&E.isPivotMode()&&(me=new o6(le,E,i.headerConfig)),le.belongsCell=me,i.add(me)}})},s.prototype.offset=function(){var i=this.headerConfig,u=i.scrollX,g=i.scrollY,C=i.position,x=i.seriesNumberWidth;H2(this,C.x-u+x,C.y-g)},s.prototype.clip=function(){var i=this.headerConfig,u=i.width,g=i.viewportHeight,C=i.scrollX,x=i.scrollY,E=i.seriesNumberWidth;this.setClip({type:"rect",attrs:{x:C-E,y:x,width:u,height:g}})},s}(C6),kk=function(l){Ni(s,l);function s(i){return l.call(this,i)||this}return s.getSeriesNumberHeader=function(i,u,g,C,x){var E=i.height,O=i.viewportHeight,R=[],k=C.isHierarchyTreeType();return g.forEach(function(z){var j=new Pc({id:"",key:"",value:"".concat(R.length+1)});j.x=z.x,j.y=z.y,j.height=k?z.getTotalHeightForTreeHierarchy():z.height,j.width=u,R.push(j)}),new s({width:x,height:E,viewportWidth:x,viewportHeight:O,position:{x:0,y:i.y},data:R,spreadsheet:C})},s.prototype.clip=function(){var i=this.headerConfig,u=i.width,g=i.viewportHeight,C=i.scrollY;this.setClip({type:"rect",attrs:{x:0,y:C,width:u,height:g}})},s.prototype.layout=function(){var i=this,u=this.headerConfig,g=u.data,C=u.scrollY,x=u.viewportHeight,E=u.spreadsheet;E.isPivotMode&&this.addBackGround();var O=this.addGroup();Xi(g,function(R){var k=R.y,z=R.height,j=R.isLeaf,q=i.isHeaderCellInViewport(k,z,C,x);if(q){var ee=i.addGroup();i.addText(ee,R),i.add(ee),j||i.addBorder(O,R)}})},s.prototype.offset=function(){var i=this.headerConfig,u=i.scrollY,g=i.scrollX,C=i.position;H2(this,C.x-g,C.y-u),this.backgroundShape&&this.backgroundShape.translate(C.x,C.y+u),this.leftBorderShape&&this.leftBorderShape.translate(C.x,C.y+u)},s.prototype.addBackGround=function(){var i=this.getStyle().cell,u=this.headerConfig,g=u.position,C=u.width,x=u.viewportHeight;this.backgroundShape=Od(this,{x:g.x,y:-g.y,width:C,height:x,fill:i.backgroundColor,stroke:"transparent",opacity:i.backgroundColorOpacity});var E=dx(Yu.LEFT,{x:g.x,y:-g.y,width:C,height:x},i),O=E.position,R=E.style;this.leftBorderShape=uf(this,O,R)},s.prototype.addBorder=function(i,u){var g=this.getStyle().cell,C=dx(Yu.BOTTOM,u,g),x=C.position,E=C.style;uf(i,x,E)},s.prototype.getStyle=function(){return this.headerConfig.spreadsheet.theme.rowCell},s.prototype.addText=function(i,u){var g=this.headerConfig,C=g.scrollY,x=g.viewportHeight,E=ur(ur({},this.getStyle().seriesText),{textBaseline:"top"}),O=u.label,R=u.x,k=u.y,z=u.width,j=u.height,q=this.getTextPadding(O,z),ee=UP(k+q.top,j-q.top-q.bottom,C,x,E.fontSize);i.addShape("text",{attrs:ur(ur({x:R+q.left,y:ee,text:O},E),{cursor:"pointer"})})},s.prototype.getTextPadding=function(i,u){var g=this.getStyle(),C=this.headerConfig.spreadsheet.measureTextWidth(i,g.seriesText),x=Math.max(Math.abs((u-C)/2),4);return ur(ur({},g.cell.padding),{left:x,right:x})},s}(C6),M5=function(){function l(s){var i=this;this.scrollFrameId=null,this.hideScrollBar=function(){var u,g,C;(u=i.hRowScrollBar)===null||u===void 0||u.hide(),(g=i.hScrollBar)===null||g===void 0||g.hide(),(C=i.vScrollBar)===null||C===void 0||C.hide()},this.delayHideScrollBar=Ia(this.hideScrollBar,1e3),this.delayHideScrollbarOnMobile=function(){ic()&&i.delayHideScrollBar()},this.showVerticalScrollBar=function(){var u;(u=i.vScrollBar)===null||u===void 0||u.show()},this.showHorizontalScrollBar=function(){var u,g;(u=i.hRowScrollBar)===null||u===void 0||u.show(),(g=i.hScrollBar)===null||g===void 0||g.show()},this.onContainerWheel=function(){i.onContainerWheelForPc(),i.onContainerWheelForMobile()},this.onContainerWheelForPc=function(){var u=i.spreadsheet.getCanvasElement();u==null||u.addEventListener("wheel",i.onWheel)},this.onContainerWheelForMobile=function(){i.mobileWheel=new rB(i.spreadsheet.container),i.mobileWheel.on("wheel",function(u){i.spreadsheet.hideTooltip();var g=u.event,C=u.deltaX,x=u.deltaY,E=u.x,O=u.y;i.onWheel(ur(ur({},g),{deltaX:C,deltaY:x,offsetX:E,offsetY:O}))})},this.bindEvents=function(){i.onContainerWheel(),i.emitPaginationEvent()},this.setScrollOffset=function(u){Object.keys(u).forEach(function(g){var C=u[g];Oh(C)||i.spreadsheet.store.set(g,Math.floor(C))})},this.getScrollOffset=function(){var u=i.spreadsheet.store;return{scrollX:u.get("scrollX",0),scrollY:u.get("scrollY",0),rowHeaderScrollX:u.get("rowHeaderScrollX",0)}},this.emitPaginationEvent=function(){var u=i.cfg.pagination;if(u){var g=u.current,C=g===void 0?Td:g,x=u.pageSize,E=i.viewCellHeights.getTotalLength(),O=Math.floor((E-1)/x)+1;i.cfg.spreadsheet.emit(Ar.LAYOUT_PAGINATION,{pageSize:x,pageCount:O,total:E,current:C})}},this.unbindEvents=function(){var u=i.spreadsheet.getCanvasElement();u==null||u.removeEventListener("wheel",i.onWheel),i.mobileWheel.destroy()},this.clipPanelGroup=function(){var u;i.foregroundGroup=i.spreadsheet.foregroundGroup,i.backgroundGroup=i.spreadsheet.backgroundGroup,i.panelGroup=i.spreadsheet.panelGroup;var g=i.panelBBox,C=g.width,x=g.height;(u=i.spreadsheet.panelScrollGroup)===null||u===void 0||u.setClip({type:"rect",attrs:{x:0,y:i.cornerBBox.height,width:C,height:x}})},this.calculateCellWidthHeight=function(){var u=i.layoutResult.colLeafNodes,g=T2(u,function(C,x){return C.push(lo(C)+x.width),C},[0]);i.viewCellWidths=g,i.viewCellHeights=i.getViewCellHeights(i.layoutResult)},this.getRealScrollX=function(u,g){return g===void 0&&(g=0),i.cfg.spreadsheet.isScrollContainsRowHeader()?u:g},this.calculatePanelBBox=function(){i.panelBBox=new Lk(i,!0)},this.getRealWidth=function(){return lo(i.viewCellWidths)},this.getRealHeight=function(){var u=i.cfg.pagination,g=i.viewCellHeights;if(u){var C=i.getCellRange(),x=C.start,E=C.end;return g.getCellOffsetY(E+1)-g.getCellOffsetY(x)}return g.getTotalHeight()},this.clearAllGroup=function(){for(var u=i.panelGroup.getChildren()||[],g=u.length-1;g>=0;g--){var C=u[g];C instanceof pl?C.set("children",[]):u[g].remove()}i.foregroundGroup.set("children",[]),i.backgroundGroup.set("children",[])},this.scrollWithAnimation=function(u,g,C){var x,E,O,R;u===void 0&&(u={}),g===void 0&&(g=200);var k=i.getAdjustedScrollOffset({scrollX:((x=u.offsetX)===null||x===void 0?void 0:x.value)||0,scrollY:((E=u.offsetY)===null||E===void 0?void 0:E.value)||0,rowHeaderScrollX:((O=u.rowHeaderOffsetX)===null||O===void 0?void 0:O.value)||0}),z=k.scrollX,j=k.scrollY,q=k.rowHeaderScrollX;(R=i.timer)===null||R===void 0||R.stop();var ee=i.getScrollOffset(),le=[z!=null?z:ee.scrollX,j!=null?j:ee.scrollY,q!=null?q:ee.rowHeaderScrollX],me=Ld(Object.values(ee),le);i.timer=Mo(function(Oe){try{var $e=Math.min(Oe/g,1),Ye=Br(me($e),3),Ze=Ye[0],Ut=Ye[1],gr=Ye[2];i.setScrollOffset({rowHeaderScrollX:gr,scrollX:Ze,scrollY:Ut}),i.startScroll(),Oe>g&&(i.timer.stop(),C==null||C())}catch(br){console.error(br),i.timer.stop()}})},this.scrollImmediately=function(u){var g,C,x;u===void 0&&(u={});var E=i.getAdjustedScrollOffset({scrollX:((g=u.offsetX)===null||g===void 0?void 0:g.value)||0,scrollY:((C=u.offsetY)===null||C===void 0?void 0:C.value)||0,rowHeaderScrollX:((x=u.rowHeaderOffsetX)===null||x===void 0?void 0:x.value)||0}),O=E.scrollX,R=E.scrollY,k=E.rowHeaderScrollX;i.setScrollOffset({scrollX:O,scrollY:R,rowHeaderScrollX:k}),i.startScroll()},this.startScroll=function(u){var g,C,x;u===void 0&&(u=!1);var E=i.getScrollOffset(),O=E.rowHeaderScrollX,R=E.scrollX,k=E.scrollY;(g=i.hRowScrollBar)===null||g===void 0||g.onlyUpdateThumbOffset(i.getScrollBarOffset(O,i.hRowScrollBar)),(C=i.hScrollBar)===null||C===void 0||C.onlyUpdateThumbOffset(i.getScrollBarOffset(R,i.hScrollBar)),(x=i.vScrollBar)===null||x===void 0||x.onlyUpdateThumbOffset(i.getScrollBarOffset(k,i.vScrollBar)),i.dynamicRenderCell(u)},this.getRendererHeight=function(){var u=i.getCellRange(),g=u.start,C=u.end;return i.viewCellHeights.getCellOffsetY(C+1)-i.viewCellHeights.getCellOffsetY(g)},this.getAdjustedScrollOffset=function(u){var g=u.scrollX,C=u.scrollY,x=u.rowHeaderScrollX;return{scrollX:lD(g,i.layoutResult.colsHierarchy.width,i.panelBBox.width),scrollY:lD(C,i.getRendererHeight(),i.panelBBox.height),rowHeaderScrollX:Ak(x,i.cornerBBox)}},this.renderRowScrollBar=function(u){if(!i.cfg.spreadsheet.isScrollContainsRowHeader()&&i.cornerBBox.width<i.cornerBBox.originalWidth){var g=i.cornerBBox.originalWidth-i.cornerBBox.width,C=i.getScrollbarPosition().maxY,x=i.spreadsheet.theme,E=x.splitLine,O=x.scrollBar,R=Math.max(i.cornerBBox.width*i.cornerBBox.width/i.cornerBBox.originalWidth,O==null?void 0:O.thumbHorizontalMinSize),k=R-(E==null?void 0:E.verticalBorderWidth);i.hRowScrollBar=new oD({isHorizontal:!0,trackLen:i.cornerBBox.width,thumbLen:k,position:{x:i.cornerBBox.minX+i.scrollBarSize/2,y:C},thumbOffset:u*(i.cornerBBox.width-R)/g,theme:i.scrollBarTheme,scrollTargetMaxOffset:g}),i.hRowScrollBar.on(IM.ScrollChange,function(z){var j,q,ee=z.offset,le=i.getValidScrollBarOffset(ee,g),me=Math.floor(le);i.setScrollOffset({rowHeaderScrollX:me}),(j=i.rowHeader)===null||j===void 0||j.onRowScrollX(me,qv),(q=i.rowIndexHeader)===null||q===void 0||q.onRowScrollX(me,_f),i.cornerHeader.onRowScrollX(me,N0);var Oe=i.getScrollBarOffset(me,i.hRowScrollBar),$e=i.getScrollOffset(),Ye=$e.scrollX,Ze=$e.scrollY,Ut={scrollX:Ye,scrollY:Ze,rowHeaderScrollX:Oe};i.hRowScrollBar.updateThumbOffset(Oe,!1),i.spreadsheet.emit(Ar.ROW_CELL_SCROLL,Ut),i.spreadsheet.emit(Ar.GLOBAL_SCROLL,Ut)}),i.foregroundGroup.add(i.hRowScrollBar)}},this.getValidScrollBarOffset=function(u,g){return bh(u,0,g)},this.renderHScrollBar=function(u,g,C){if(Math.floor(u)<Math.floor(g)){var x=i.scrollBarSize/2,E=i.getScrollbarPosition().maxY,O=u+(i.cfg.spreadsheet.isScrollContainsRowHeader()?Math.min(i.cornerBBox.width,i.getCanvasHW().width):0),R={x:i.panelBBox.minX+(i.cfg.spreadsheet.isScrollContainsRowHeader()?-i.cornerBBox.width+x:x),y:E},k=g+(i.cfg.spreadsheet.isScrollContainsRowHeader()?i.cornerBBox.width:0),z=i.spreadsheet.theme.scrollBar,j=k-O,q=Math.max(O/k*O,z==null?void 0:z.thumbHorizontalMinSize);i.hScrollBar=new oD({isHorizontal:!0,trackLen:O,thumbLen:q,position:R,thumbOffset:C*(O-q)/j,theme:i.scrollBarTheme,scrollTargetMaxOffset:j}),i.hScrollBar.on(IM.ScrollChange,function(ee){var le=ee.offset,me=ee.updateThumbOffset,Oe=i.getValidScrollBarOffset(le,j);me&&i.hScrollBar.updateThumbOffset(i.getScrollBarOffset(Oe,i.hScrollBar),!1),i.setScrollOffset({scrollX:Oe}),i.dynamicRenderCell()}),i.foregroundGroup.add(i.hScrollBar)}},this.getScrollbarPosition=function(){var u=i.panelBBox,g=u.maxX,C=u.maxY,x=i.getCanvasHW(),E=x.width,O=x.height,R=i.spreadsheet.options.interaction.scrollbarPosition===G0.CONTENT;return{maxX:(R?g:E)-i.scrollBarSize,maxY:R?C:O-i.scrollBarSize}},this.renderVScrollBar=function(u,g,C){if(u<g){var x=i.spreadsheet.theme.scrollBar,E=Math.max(u/g*u,x==null?void 0:x.thumbVerticalMinSize),O=g-u,R=i.getScrollbarPosition().maxX;i.vScrollBar=new oD({isHorizontal:!1,trackLen:u,thumbLen:E,thumbOffset:C*(u-E)/O,position:{x:R,y:i.panelBBox.minY},theme:i.scrollBarTheme,scrollTargetMaxOffset:O}),i.vScrollBar.on(IM.ScrollChange,function(k){var z=k.offset,j=k.updateThumbOffset,q=i.getValidScrollBarOffset(z,O);j&&i.vScrollBar.updateThumbOffset(i.getScrollBarOffset(q,i.vScrollBar),!1),i.setScrollOffset({scrollY:q}),i.dynamicRenderCell()}),i.foregroundGroup.add(i.vScrollBar)}},this.getScrollBarOffset=function(u,g){var C=g.trackLen,x=g.thumbLen,E=g.scrollTargetMaxOffset;return u*(C-x)/E},this.isScrollOverThePanelArea=function(u){var g=u.offsetX,C=u.offsetY;return g>i.panelBBox.minX&&g<i.panelBBox.maxX&&C>i.panelBBox.minY&&C<i.panelBBox.maxY},this.isScrollOverTheCornerArea=function(u){var g=u.offsetX,C=u.offsetY;return g>i.cornerBBox.minX&&g<i.cornerBBox.maxX&&C>i.cornerBBox.minY&&C<i.cornerBBox.maxY+i.panelBBox.height},this.updateHorizontalRowScrollOffset=function(u){var g,C=u.offset,x=u.offsetX,E=u.offsetY;i.isScrollOverTheCornerArea({offsetX:x,offsetY:E})&&((g=i.hRowScrollBar)===null||g===void 0||g.emitScrollChange(C))},this.updateHorizontalScrollOffset=function(u){var g,C=u.offset,x=u.offsetX,E=u.offsetY;(!i.hRowScrollBar||i.isScrollOverThePanelArea({offsetX:x,offsetY:E}))&&((g=i.hScrollBar)===null||g===void 0||g.emitScrollChange(C))},this.isScrollToLeft=function(u){var g=u.deltaX,C=u.offsetX,x=u.offsetY;if(!i.hScrollBar&&!i.hRowScrollBar)return!0;var E=!i.hRowScrollBar||i.isScrollOverThePanelArea({offsetY:x,offsetX:C})||i.hRowScrollBar.thumbOffset<=0,O=!i.hScrollBar||i.hScrollBar.thumbOffset<=0;return g<=0&&O&&E},this.isScrollToRight=function(u){var g,C,x,E,O,R,k=u.deltaX,z=u.offsetX,j=u.offsetY;if(!i.hScrollBar&&!i.hRowScrollBar)return!0;var q=i.spreadsheet.isFrozenRowHeader()?(g=i.panelBBox)===null||g===void 0?void 0:g.width:(C=i.panelBBox)===null||C===void 0?void 0:C.maxX,ee=!i.hRowScrollBar||i.isScrollOverThePanelArea({offsetY:j,offsetX:z})||((x=i.hRowScrollBar)===null||x===void 0?void 0:x.thumbOffset)+((E=i.hRowScrollBar)===null||E===void 0?void 0:E.thumbLen)>=i.cornerBBox.width,le=i.hRowScrollBar&&i.isScrollOverTheCornerArea({offsetX:z,offsetY:j})||((O=i.hScrollBar)===null||O===void 0?void 0:O.thumbOffset)+((R=i.hScrollBar)===null||R===void 0?void 0:R.thumbLen)>=q;return k>=0&&le&&ee},this.isScrollToTop=function(u){var g;return i.vScrollBar?u<=0&&((g=i.vScrollBar)===null||g===void 0?void 0:g.thumbOffset)<=0:!0},this.isScrollToBottom=function(u){var g,C,x;return i.vScrollBar?u>=0&&((g=i.vScrollBar)===null||g===void 0?void 0:g.thumbOffset)+((C=i.vScrollBar)===null||C===void 0?void 0:C.thumbLen)>=((x=i.panelBBox)===null||x===void 0?void 0:x.height):!0},this.isVerticalScrollOverTheViewport=function(u){return!i.isScrollToTop(u)&&!i.isScrollToBottom(u)},this.isHorizontalScrollOverTheViewport=function(u){return!i.isScrollToLeft(u)&&!i.isScrollToRight(u)},this.isScrollOverTheViewport=function(u){var g=u.deltaY,C=u.deltaX,x=u.offsetY,E=x<=i.cornerBBox.maxY;return E?!1:g!==0?i.isVerticalScrollOverTheViewport(g):C!==0?i.isHorizontalScrollOverTheViewport(u):!1},this.cancelScrollFrame=function(){return ic()&&i.scrollFrameId?!1:(cancelAnimationFrame(i.scrollFrameId),!0)},this.clearScrollFrameIdOnMobile=function(){ic()&&(i.scrollFrameId=null)},this.stopScrollChainingIfNeeded=function(u){var g=i.spreadsheet.options.interaction;g.overscrollBehavior!=="auto"&&i.stopScrollChaining(u)},this.stopScrollChaining=function(u){var g,C;u!=null&&u.cancelable&&((g=u==null?void 0:u.preventDefault)===null||g===void 0||g.call(u));var x=u==null?void 0:u.originalEvent;x!=null&&x.cancelable&&((C=x==null?void 0:x.preventDefault)===null||C===void 0||C.call(x))},this.onWheel=function(u){var g=i.spreadsheet.options.interaction,C=u.deltaX,x=u.deltaY,E=u.offsetX,O=u.offsetY,R=u.shiftKey;R&&FT()&&(E=E-C+x,C=x,O-=x,x=0);var k=Br($5(C,x,g.scrollSpeedRatio),2),z=k[0],j=k[1];if(i.spreadsheet.hideTooltip(),i.spreadsheet.interaction.clearHoverTimer(),!i.isScrollOverTheViewport({deltaX:z,deltaY:j,offsetX:E,offsetY:O})){i.stopScrollChainingIfNeeded(u);return}i.stopScrollChaining(u),i.spreadsheet.interaction.addIntercepts([$i.HOVER]),i.cancelScrollFrame()&&(i.scrollFrameId=requestAnimationFrame(function(){var q,ee=i.getScrollOffset(),le=ee.scrollX,me=ee.scrollY,Oe=ee.rowHeaderScrollX;z!==0&&(i.showHorizontalScrollBar(),i.updateHorizontalRowScrollOffset({offsetX:E,offsetY:O,offset:z+Oe}),i.updateHorizontalScrollOffset({offsetX:E,offsetY:O,offset:z+le})),j!==0&&(i.showVerticalScrollBar(),(q=i.vScrollBar)===null||q===void 0||q.emitScrollChange(j+me)),i.delayHideScrollbarOnMobile(),i.clearScrollFrameIdOnMobile()}))},this.addCell=function(u){var g=i.spreadsheet.panelScrollGroup;g==null||g.add(u)},this.realCellRender=function(u,g){var C=i.calculateXYIndexes(u,g);u0.getInstance().logger("renderIndex:",i.preCellIndexes,C);var x=Dk(i.preCellIndexes,C),E=x.add,O=x.remove;u0.getInstance().debugCallback(wR,function(){Xi(E,function(k){var z=Br(k,2),j=z[0],q=z[1],ee=i.layoutResult.getCellMeta(q,j);if(ee){var le=i.cfg.dataCell(ee);le.set("name","".concat(j,"-").concat(q)),i.addCell(le)}});var R=SA(i.panelGroup.getChildren(),vx);Xi(O,function(k){var z=Br(k,2),j=z[0],q=z[1],ee=y(R,function(le){return le.get("name")==="".concat(j,"-").concat(q)});ee==null||ee.remove(!0)}),u0.getInstance().logger("Render Cell Panel: ".concat(R==null?void 0:R.length,", Add: ").concat(E==null?void 0:E.length,", Remove: ").concat(O==null?void 0:O.length))}),i.preCellIndexes=C,i.spreadsheet.emit(Ar.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,{add:E,remove:O,spreadsheet:i.spreadsheet})},this.getGridInfo=function(){var u=Br(i.preCellIndexes.center,4),g=u[0],C=u[1],x=u[2],E=u[3],O=b5(g,C,i.layoutResult.colLeafNodes),R=sD(x,E,i.viewCellHeights);return{cols:O,rows:R}},this.onAfterScroll=Ia(function(){var u=i.spreadsheet,g=u.interaction,C=u.container;if(!g.isSelectedState()&&(g.removeIntercepts([$i.HOVER]),g.getHoverAfterScroll())){var x=g.eventController.canvasMousemoveEvent;if(x){var E=x.x,O=x.y,R=C.getShape(E,O);R&&C.emit(ll.MOUSE_MOVE,ur(ur({},x),{shape:R,target:R,timestamp:performance.now()}))}}},300),this.cfg=s,this.spreadsheet=s.spreadsheet,this.init()}return Object.defineProperty(l.prototype,"scrollBarTheme",{get:function(){return this.spreadsheet.theme.scrollBar},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"scrollBarSize",{get:function(){return this.scrollBarTheme.size},enumerable:!1,configurable:!0}),l.prototype.getCellCustomWidth=function(s,i){return kl(i)?i==null?void 0:i(s):i},l.prototype.getCellDraggedWidth=function(s){var i=this.cfg.colCfg;return Mi(i==null?void 0:i.widthByFieldValue,"".concat(s.value))},l.prototype.render=function(){q5(this.spreadsheet.dataCfg.fields)||(this.adjustScrollOffset(),this.renderHeaders(),this.renderScrollBars(),this.renderBackground(),this.dynamicRenderCell())},l.prototype.adjustScrollOffset=function(){var s=this.getAdjustedScrollOffset(this.getScrollOffset());this.setScrollOffset(s)},l.prototype.getSeriesNumberWidth=function(){var s=this.cfg.showSeriesNumber;return s?this.spreadsheet.theme.rowCell.seriesNumberWidth:0},l.prototype.getCanvasHW=function(){return{width:this.cfg.width,height:this.cfg.height}},l.prototype.updateScrollOffset=function(s){var i,u,g,C,x,E;if(((i=s.rowHeaderOffsetX)===null||i===void 0?void 0:i.value)!==void 0){!((u=s.rowHeaderOffsetX)===null||u===void 0)&&u.animate?this.scrollWithAnimation(s):this.scrollImmediately(s);return}if(((g=s.offsetX)===null||g===void 0?void 0:g.value)!==void 0){!((C=s.offsetX)===null||C===void 0)&&C.animate?this.scrollWithAnimation(s):this.scrollImmediately(s);return}((x=s.offsetY)===null||x===void 0?void 0:x.value)!==void 0&&(!((E=s.offsetY)===null||E===void 0)&&E.animate?this.scrollWithAnimation(s):this.scrollImmediately(s))},l.prototype.getPaginationScrollY=function(){var s=this.cfg.pagination;if(s){var i=s.current,u=i===void 0?Td:i,g=s.pageSize,C=this.viewCellHeights,x=Math.max((u-1)*g,0);return C.getCellOffsetY(x)}return 0},l.prototype.destroy=function(){this.unbindEvents(),this.clearAllGroup(),this.preCellIndexes=null,cancelAnimationFrame(this.scrollFrameId)},l.prototype.calculateXYIndexes=function(s,i){var u=this.panelBBox,g=u.viewportHeight,C=u.viewportWidth,x=_R(s,i,this.viewCellWidths,this.viewCellHeights,{width:C,height:g,x:0,y:0},this.getRealScrollX(this.cornerBBox.width));return{center:x}},l.prototype.calculateCornerBBox=function(){this.cornerBBox=new _5(this,!0)},l.prototype.getCellRange=function(){var s=this.cfg.pagination;return X5(this.viewCellHeights,s)},l.prototype.clip=function(s,i){var u,g=this.spreadsheet.isFrozenRowHeader();(u=this.spreadsheet.panelScrollGroup)===null||u===void 0||u.setClip({type:"rect",attrs:{x:g?s:0,y:i,width:this.panelBBox.width+(g?0:s),height:this.panelBBox.height}})},l.prototype.translateRelatedGroups=function(s,i,u){var g,C,x,E,O,R;H2(this.spreadsheet.panelScrollGroup,this.cornerBBox.width-s,this.cornerBBox.height-i),(g=this.rowHeader)===null||g===void 0||g.onScrollXY(this.getRealScrollX(s,u),i,qv),(C=this.rowIndexHeader)===null||C===void 0||C.onScrollXY(this.getRealScrollX(s,u),i,_f),(x=this.cornerHeader)===null||x===void 0||x.onCorScroll(this.getRealScrollX(s,u),N0),(E=this.centerFrame)===null||E===void 0||E.onChangeShadowVisibility(s,this.getRealWidth()-this.panelBBox.width),(O=this.centerFrame)===null||O===void 0||O.onBorderScroll(this.getRealScrollX(s)),(R=this.columnHeader)===null||R===void 0||R.onColScroll(s,sl)},l.prototype.init=function(){var s=this;u0.getInstance().debugCallback(ac,function(){s.layoutResult=s.doLayout(),s.saveInitColumnLeafNodes(s.layoutResult.colLeafNodes),s.spreadsheet.emit(Ar.LAYOUT_AFTER_HEADER_LAYOUT,s.layoutResult)}),this.calculateCellWidthHeight(),this.calculateCornerBBox(),this.calculatePanelBBox(),this.clipPanelGroup(),this.bindEvents()},l.prototype.renderBackground=function(){var s=this.getCanvasHW(),i=s.width,u=s.height,g=this.spreadsheet.theme.background,C=g.color,x=g.opacity;this.backgroundGroup.addShape("rect",{attrs:{fill:C,opacity:x,x:0,y:0,width:i,height:u}})},l.prototype.renderScrollBars=function(){var s=this.getScrollOffset(),i=s.scrollX,u=s.scrollY,g=s.rowHeaderScrollX,C=this.panelBBox,x=C.width,E=C.height,O=this.layoutResult.colsHierarchy.width,R=this.getRealHeight();this.renderRowScrollBar(g),this.renderHScrollBar(x,O,i),this.renderVScrollBar(E,R,u)},l.prototype.renderHeaders=function(){var s=this.getSeriesNumberWidth();this.rowHeader=this.getRowHeader(),this.columnHeader=this.getColHeader(),s>0&&!this.rowIndexHeader&&(this.rowIndexHeader=this.getSeriesNumberHeader()),this.cornerHeader=this.getCornerHeader(),this.centerFrame=this.getCenterFrame(),this.rowIndexHeader&&this.foregroundGroup.add(this.rowIndexHeader),this.rowHeader&&this.foregroundGroup.add(this.rowHeader),this.foregroundGroup.add(this.columnHeader),this.foregroundGroup.add(this.cornerHeader),this.foregroundGroup.add(this.centerFrame)},l.prototype.getRowHeader=function(){var s,i,u;if(!this.rowHeader){var g=this.panelBBox,C=g.y,x=g.viewportHeight,E=g.viewportWidth,O=g.height,R=this.getSeriesNumberWidth();return new E5({width:this.cornerBBox.width,height:O,viewportWidth:E,viewportHeight:x,position:{x:0,y:C},data:this.layoutResult.rowNodes,hierarchyType:this.cfg.hierarchyType,linkFields:(u=(i=(s=this.cfg.spreadsheet.options)===null||s===void 0?void 0:s.interaction)===null||i===void 0?void 0:i.linkFields)!==null&&u!==void 0?u:[],seriesNumberWidth:R,spreadsheet:this.spreadsheet})}return this.rowHeader},l.prototype.getColHeader=function(){if(!this.columnHeader){var s=this.panelBBox,i=s.x,u=s.width,g=s.viewportHeight,C=s.viewportWidth;return new uD({width:u,cornerWidth:this.cornerBBox.width,height:this.cornerBBox.height,viewportWidth:C,viewportHeight:g,position:{x:i,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},l.prototype.getCornerHeader=function(){return this.cornerHeader?this.cornerHeader:Pk.getCornerHeader(this.panelBBox,this.cornerBBox,this.getSeriesNumberWidth(),this.cfg,this.layoutResult,this.spreadsheet)},l.prototype.getSeriesNumberHeader=function(){return kk.getSeriesNumberHeader(this.panelBBox,this.getSeriesNumberWidth(),this.layoutResult.rowsHierarchy.getNodes(0),this.spreadsheet,this.cornerBBox.width)},l.prototype.getCenterFrame=function(){var s;if(!this.centerFrame){var i=this.panelBBox,u=i.viewportWidth,g=i.viewportHeight,C=this.cornerBBox.width,x=this.cornerBBox.height,E=(s=this.cfg)===null||s===void 0?void 0:s.frame,O={position:{x:this.cornerBBox.x,y:this.cornerBBox.y},width:C,height:x,viewportWidth:u,viewportHeight:g,showViewportLeftShadow:!1,showViewportRightShadow:!1,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),isPivotMode:this.cfg.spreadsheet.isPivotMode(),spreadsheet:this.cfg.spreadsheet};return E?E(O):new Bk(O)}return this.centerFrame},l.prototype.updatePanelScrollGroup=function(){this.gridInfo=this.getGridInfo(),this.spreadsheet.panelScrollGroup.update(this.gridInfo)},l.prototype.dynamicRenderCell=function(s){var i=this.getScrollOffset(),u=i.scrollX,g=i.scrollY,C=i.rowHeaderScrollX,x=g+this.getPaginationScrollY(),E=lD(x,this.viewCellHeights.getTotalHeight(),this.panelBBox.viewportHeight);this.spreadsheet.hideTooltip(),this.spreadsheet.interaction.clearHoverTimer(),this.realCellRender(u,E),this.updatePanelScrollGroup(),this.translateRelatedGroups(u,E,C),this.clip(u,E),s||this.emitScrollEvent({scrollX:u,scrollY:E,rowHeaderScrollX:C}),this.onAfterScroll()},l.prototype.emitScrollEvent=function(s){this.spreadsheet.emit(Ar.LAYOUT_CELL_SCROLL,s),this.spreadsheet.emit(Ar.GLOBAL_SCROLL,s)},l.prototype.saveInitColumnLeafNodes=function(s){s===void 0&&(s=[]);var i=this.spreadsheet,u=i.store,g=i.options,C=g.interaction.hiddenColumnFields,x=s.length+C.length,E=u.get("initColumnLeafNodes",[]);x!==E.length&&u.set("initColumnLeafNodes",s)},l.prototype.getHiddenColumnsInfo=function(s){var i=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return zn(i)?null:i.find(function(u){var g;return(g=u==null?void 0:u.hideColumnNodes)===null||g===void 0?void 0:g.some(function(C){return C.id===s.id})})},l.prototype.getCornerNodes=function(){var s;return((s=this.cornerHeader)===null||s===void 0?void 0:s.getNodes())||[]},l}(),T5=function(l){var s,i,u,g=l.facetCfg,C=l.customTreeItems,x=C===void 0?[]:C,E=l.level,O=l.parentNode,R=l.hierarchy,k=g.spreadsheet,z=g.collapsedRows,j=g.hierarchyCollapse;try{for(var q=Ls(x),ee=q.next();!ee.done;ee=q.next()){var le=ee.value,me=le.key,Oe=le.title,$e=le.collapsed,Ye=le.children,Ze=rC(le,["key","title","collapsed","children"]),Ut=(u={},u[ra]=me,u),gr=HT(O.id,Oe),br=$e!=null?$e:!1,Zr=Mi(z,gr),gn=Zr!=null?Zr:j||br,Kn=new Pc({id:gr,key:me,label:Oe,value:Oe,level:E,parent:O,field:me,isTotals:!1,isCollapsed:gn,hierarchy:R,query:Ut,spreadsheet:k,extra:Ze});E>R.maxLevel&&(R.maxLevel=E),zn(Ye)&&(Kn.isLeaf=!0);var In=Zl(g,O,Kn,R);!zn(Ye)&&!gn&&In&&T5({facetCfg:g,parentNode:Kn,level:E+1,hierarchy:R,customTreeItems:Ye})}}catch(Xn){s={error:Xn}}finally{try{ee&&!ee.done&&(i=q.return)&&i.call(q)}finally{if(s)throw s.error}}},Fk=function(l,s,i){var u=l.getTotalsConfig(s);if(u.showGrandTotals){var g=u.reverseLayout?"unshift":"push";i[g](new Zn({label:u.label,isSubTotals:!1,isGrandTotals:!0}))}},Nk=(Uo+zl).length,O5=function(l){var s,i,u,g,C,x,E,O=l.parentNode,R=l.currentField,k=l.level,z=l.facetCfg,j=l.hierarchy,q=l.pivotMeta,ee=z.spreadsheet,le=z.dataSet,me=z.collapsedRows,Oe=z.hierarchyCollapse,$e=z.rowExpandDepth,Ye=O.query,Ze=O.id,Ut=((g=ee.dataCfg.fields.rows)===null||g===void 0?void 0:g.length)<=k,gr=((C=le==null?void 0:le.sortedDimensionValues)===null||C===void 0?void 0:C[R])||[],br=fA(Array.from(q.keys())),Zr=MR(br,gr,function(Dv){return Uo===Ze?Dv:HT(Ze,Dv).slice(Nk)}),gn=$a(Zr,z,O,R),Kn=ee.store.get("drillItemsNum");Ut&&Kn>0&&(gn=gn.slice(0,Kn)),k===0&&Fk(ee,R,gn);try{for(var In=Ls(gn),Xn=In.next();!Xn.done;Xn=In.next()){var gi=Xn.value,Pi=gi instanceof Zn,Dn=Pi?null:q.get(gi),Jn=void 0,So=Ye,no=!1,zo=!1;if(Pi){var aa=gi;no=aa.isGrandTotals,zo=aa.isSubTotals,Jn=rs(gi.label),So=Ye}else Jn=gi,So=ur(ur({},Ye),(u={},u[R]=Jn,u));var Wo=HT(Ze,Jn),Ka=me==null?void 0:me[Wo],Mu=Th($e)?k>$e:null,ns=(x=Ka!=null?Ka:Mu)!==null&&x!==void 0?x:Oe,Ro=new Pc({id:Wo,key:R,label:Jn,value:Jn,level:k,parent:O,field:R,isTotals:Pi,isGrandTotals:no,isSubTotals:zo,isCollapsed:ns,hierarchy:j,query:So,spreadsheet:ee});k>j.maxLevel&&(j.maxLevel=k);var Tl=!(!((E=Dn==null?void 0:Dn.children)===null||E===void 0)&&E.size);(Tl||Pi)&&(Ro.isLeaf=!0),Tl||(Ro.isTotals=!0);var Lh=Zl(z,O,Ro,j);!Tl&&!ns&&!Pi&&Lh&&O5({level:k+1,currentField:Dn.childField,pivotMeta:Dn.children,facetCfg:z,parentNode:Ro,hierarchy:j})}}catch(Dv){s={error:Dv}}finally{try{Xn&&!Xn.done&&(i=In.return)&&i.call(In)}finally{if(s)throw s.error}}},A5=function(l){var s=l.isValueInCols,i=l.moreThanOneValue,u=l.rootNode,g=l.facetCfg,C=l.hierarchy,x=l.fields,E=l.isRowHeader,O,R;E?(O=!s&&i,R=!s&&!i):(O=s&&i,R=s&&!i),XL({addTotalMeasureInTotal:O,addMeasureInTotalQuery:R,parentNode:u,currentField:x[0],fields:x,facetCfg:g,hierarchy:C})},Hk=function(l){var s=l.facetCfg,i=l.rootNode,u=l.hierarchy,g=s.dataSet.fields.customTreeItems;T5({customTreeItems:g,facetCfg:s,level:0,parentNode:i,hierarchy:u})},zk=function(l){var s=l.facetCfg,i=l.rootNode,u=l.hierarchy,g=s.hierarchyType,C=s.rows,x=s.dataSet;g==="tree"?O5({level:0,currentField:C[0],pivotMeta:x.rowPivotMeta,facetCfg:s,parentNode:i,hierarchy:u}):Hk(l)},Wk=function(l){var s=l.spreadsheet;s.isHierarchyTreeType()?zk(l):A5(l)},Gk=function(l){var s=l.isPivotMode,i=l.hierarchy,u=l.rootNode,g=l.facetCfg;s?A5(l):Q5({parentNode:u,hierarchy:i,facetCfg:g})},cD=function(l){var s=l.isRowHeader,i=l.facetCfg,u=i.spreadsheet,g=i.rows,C=g===void 0?[]:g,x=i.columns,E=x===void 0?[]:x,O=u.dataCfg.fields.valueInCols,R=u.isPivotMode(),k=i.dataSet.moreThanOneValue(),z=Pc.rootNode(),j=new ZI,q={isValueInCols:O,isPivotMode:R,moreThanOneValue:k,rootNode:z,hierarchy:j,spreadsheet:u,facetCfg:i,fields:s?C:E,isRowHeader:s};s?Wk(q):Gk(q);var ee=function(){return s&&u.isHierarchyTreeType()?j.getNodes():j.getLeaves()};return{hierarchy:j,leafNodes:ee()}},$k=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(s.prototype,"rowCellTheme",{get:function(){return this.spreadsheet.theme.rowCell.cell},enumerable:!1,configurable:!0}),s.prototype.getContentHeight=function(){var i=this.layoutResult,u=i.rowsHierarchy,g=i.colsHierarchy;return u.height+g.height},s.prototype.doLayout=function(){var i=cD({isRowHeader:!0,facetCfg:this.cfg}),u=i.leafNodes,g=i.hierarchy,C=cD({isRowHeader:!1,facetCfg:this.cfg}),x=C.leafNodes,E=C.hierarchy;this.calculateNodesCoordinate(u,g,x,E);var O=this.cfg,R=O.dataSet,k=O.spreadsheet,z=function(q,ee){var le,me,Oe,$e=q||0,Ye=ee||0,Ze=u[$e],Ut=x[Ye];if(!Ze||!Ut)return null;var gr=Ze.query,br=Ut.query,Zr=Ze.isTotals||Ze.isTotalMeasure||Ut.isTotals||Ut.isTotalMeasure,gn=k.options.hierarchyType,Kn=(me=Mi(k,"facet.cfg.colCfg.hideMeasureColumn"))!==null&&me!==void 0?me:!1,In=Kn&&gn!=="customTree"?(le={},le[ra]=(Oe=R.fields.values)===null||Oe===void 0?void 0:Oe[0],le):{},Xn=rM({},gr,br,In),gi=dA(Ze,Ut),Pi=R.getCellData({query:Xn,rowNode:Ze,isTotals:Zr,totalStatus:gi}),Dn,Jn=null;return zn(Pi)?Dn=Mi(Xn,[ra],""):(Dn=Mi(Pi,[ra],""),Jn=Mi(Pi,[cu],null),Zr&&(Dn=Mi(Xn,[ra],""),Jn=Mi(Pi,Dn,null))),{spreadsheet:k,x:Ut.x,y:Ze.y,width:Ut.width,height:Ze.height,data:Pi,rowIndex:$e,colIndex:Ye,isTotals:Zr,valueField:Dn,fieldValue:Jn,rowQuery:gr,colQuery:br,rowId:Ze.id,colId:Ut.id,id:mA(Ze.id,Ut.id)}},j={colNodes:E.getNodes(),colsHierarchy:E,rowNodes:g.getNodes(),rowsHierarchy:g,rowLeafNodes:u,colLeafNodes:x,getCellMeta:z,spreadsheet:k};return s0(this.cfg,j)},s.prototype.calculateNodesCoordinate=function(i,u,g,C){this.calculateRowNodesCoordinate(i,u,g),this.calculateColNodesCoordinate(g,C,i,u.width)},s.prototype.calculateColNodesCoordinate=function(i,u,g,C){for(var x,E,O,R=Pc.blankNode(),k=u.getNodes(),z=u.sampleNodesForAllLevels,j=0;j<z.length;j++){var q=z[j];if(q.height=this.getColNodeHeight(q),u.height+=q.height,q.level===0)q.y=0;else{var ee=z[j-1];q.y=(x=(ee==null?void 0:ee.y)+(ee==null?void 0:ee.height))!==null&&x!==void 0?x:0}}for(var le=0,me=function(Ye){var Ze=k[Ye];if(Ze.isLeaf&&(Ze.colIndex=le,le+=1,Ze.x=R.x+R.width,Ze.width=Oe.calculateColLeafNodesWidth(Ze,i,g,C),u.width+=Ze.width,R=Ze),Ze.level===0)Ze.y=0;else{var Ut=u.sampleNodesForAllLevels.find(function(gr){return gr.level===Ze.level-1});Ze.y=(E=(Ut==null?void 0:Ut.y)+(Ut==null?void 0:Ut.height))!==null&&E!==void 0?E:0}Ze.height=Oe.getColNodeHeight(Ze),Bc(Oe.cfg,null,Ze)},Oe=this,$e=0;$e<k.length;$e++)me($e);this.autoCalculateColNodeWidthAndX(i),zn((O=this.spreadsheet.options.totals)===null||O===void 0?void 0:O.col)||(this.adjustTotalNodesCoordinate({hierarchy:u,isRowHeader:!1,isSubTotal:!0}),this.adjustTotalNodesCoordinate({hierarchy:u,isRowHeader:!1,isSubTotal:!1}))},s.prototype.autoCalculateColNodeWidthAndX=function(i){for(var u,g=null,C=i.slice(0);C.length;){var x=C.shift(),E=x.parent;if(g!==E&&E){C.push(E);var O=(u=E.children)===null||u===void 0?void 0:u.find(function(z){return z.width}),R=O==null?void 0:O.x,k=uR(E.children,"width");E.x=R,E.width=k,g=E}}},s.prototype.calculateColLeafNodesWidth=function(i,u,g,C){var x,E,O,R,k,z=this.cfg,j=z.colCfg,q=z.dataSet,ee=z.filterDisplayDataItem,le=this.getCellDraggedWidth(i);if(Th(le))return le;var me=this.getCellCustomWidth(i,j==null?void 0:j.width);if(Th(me))return me;if(this.spreadsheet.getLayoutWidthType()===Mf.Compact){for(var Oe=this.spreadsheet.theme.colCell,$e=Oe.bolderText,Ye=Oe.cell,Ze=Oe.icon,Ut=this.spreadsheet.theme.dataCell.text,gr=this.spreadsheet.dataSet.getFieldFormatter(i.field),br=(x=gr==null?void 0:gr(i.value))!==null&&x!==void 0?x:i.label,Zr=this.getExpectedCellIconWidth(An.COL_CELL,this.spreadsheet.isValueInCols()&&this.spreadsheet.options.showDefaultHeaderActionIcon,Ze),gn=this.spreadsheet.measureTextWidthRoughly(br,$e)+Zr,Kn=void 0,In=0,Xn=0;Xn<H0;Xn++){var gi=g[Xn];if(gi){var Pi=q.getCellData({query:ur(ur({},i.query),gi.query),rowNode:gi,isTotals:i.isTotals||i.isTotalMeasure||gi.isTotals||gi.isTotalMeasure,totalStatus:dA(gi,i)});if(Pi){var Dn=TP(Pi,ee),Jn=(O=(E=this.spreadsheet.dataSet.getFieldFormatter(Pi[ra]))===null||E===void 0?void 0:E(Dn))!==null&&O!==void 0?O:Dn,So="".concat(Jn),no=this.spreadsheet.measureTextWidthRoughly(So,Ut);no>In&&(Kn=So,In=no)}}}var zo=gn>In,aa=zo?br:Kn,Wo=zo?Zr:0;u0.getInstance().logger("Max Label In Col:",i.field,aa,In);var Ka=this.spreadsheet.measureTextWidth(aa,ur(ur({},$e),{fontSize:Math.max(Ut.fontSize,$e.fontSize)}));return Ka+((R=Ye.padding)===null||R===void 0?void 0:R.left)+((k=Ye.padding)===null||k===void 0?void 0:k.right)+Wo}return this.spreadsheet.isHierarchyTreeType()?this.getAdaptTreeColWidth(i,u,g):this.getAdaptGridColWidth(u,C)},s.prototype.getColNodeHeight=function(i){var u=this.cfg.colCfg,g=Mi(u,["heightByField",i.key]);return g!=null?g:u==null?void 0:u.height},s.prototype.getExpectedCellIconWidth=function(i,u,g){var C,x=0;if(u)x=1;else{var E=GR(Me(this.spreadsheet.options.headerActionIcons,function(O){return ur(ur({},O),{displayCondition:function(){return!0}})}),null,i);x=(C=E==null?void 0:E.iconNames.length)!==null&&C!==void 0?C:0}return x?x*(g.size+g.margin.left)+g.margin.right:0},s.prototype.calculateRowNodesCoordinate=function(i,u,g){var C,x,E,O,R,k,z,j,q,ee,le=this.cfg,me=le.cellCfg,Oe=le.spreadsheet,$e=Oe.isHierarchyTreeType(),Ye=Mi(Oe,"options.style.rowCfg.heightByField",{}),Ze=(E=u.sampleNodesForAllLevels)!==null&&E!==void 0?E:[];if($e)u.width=this.getTreeRowHeaderWidth();else try{for(var Ut=Ls(u.sampleNodesForAllLevels),gr=Ut.next();!gr.done;gr=Ut.next()){var br=gr.value;br.width=this.calculateGridRowNodesWidth(br,g),u.width+=br.width;var Zr=(O=Ze[br.level-1])!==null&&O!==void 0?O:{x:0,width:0};br.x=(Zr==null?void 0:Zr.x)+(Zr==null?void 0:Zr.width)}}catch(Dn){C={error:Dn}}finally{try{gr&&!gr.done&&(x=Ut.return)&&x.call(Ut)}finally{if(C)throw C.error}}for(var gn=Pc.blankNode(),Kn=u.getNodes(),In=0;In<Kn.length;In++){var Xn=Kn[In],gi=$e||!$e&&Xn.isLeaf;if(gi&&((R=Xn.rowIndex)!==null&&R!==void 0||(Xn.rowIndex=In),(k=Xn.colIndex)!==null&&k!==void 0||(Xn.colIndex=In),Xn.y=gn.y+gn.height,Xn.height=((z=Ye==null?void 0:Ye[Xn.id])!==null&&z!==void 0?z:me==null?void 0:me.height)+((j=this.rowCellTheme.padding)===null||j===void 0?void 0:j.top)+((q=this.rowCellTheme.padding)===null||q===void 0?void 0:q.bottom),gn=Xn,u.height+=Xn.height),$e||Xn.level===0)Xn.x=0;else{var Zr=Ze[Xn.level-1];Xn.x=(Zr==null?void 0:Zr.x)+(Zr==null?void 0:Zr.width)}if($e)Xn.width=this.getTreeRowHeaderWidth();else{var Pi=Ze[Xn.level];Xn.width=Pi==null?void 0:Pi.width}Bc(this.cfg,Xn,null)}$e||(this.autoCalculateRowNodeHeightAndY(i),zn((ee=Oe.options.totals)===null||ee===void 0?void 0:ee.row)||(this.adjustTotalNodesCoordinate({hierarchy:u,isRowHeader:!0,isSubTotal:!1}),this.adjustTotalNodesCoordinate({hierarchy:u,isRowHeader:!0,isSubTotal:!0})))},s.prototype.autoCalculateRowNodeHeightAndY=function(i){for(var u=null,g=i.slice(0);g.length;){var C=g.shift(),x=C.parent;u!==x&&x&&(g.push(x),x.y=x.children[0].y,x.height=x.children.map(function(E){return E.height}).reduce(function(E,O){return E+O},0),u=x)}},s.prototype.getMultipleMap=function(i,u,g){for(var C=i.maxLevel,x=this.cfg,E=x.totals,O=x.dataSet,R=O.moreThanOneValue(),k=O.fields,z=k.rows,j=k.columns,q=u?z:j,ee=u?E.row:E.col,le=g?ee.subTotalsGroupDimensions||[]:ee.totalsGroupDimensions||[],me=Array.from({length:C+1},function(){return 1}),Oe=C;Oe>0;Oe--){var $e=q[Oe],Ye=$e===ra&&R;le.includes($e)||Ye||(me[Oe-1]+=me[Oe],me[Oe]=0)}return me},s.prototype.adjustTotalNodesCoordinate=function(i){var u=i.hierarchy,g=i.isRowHeader,C=i.isSubTotal,x=this.getMultipleMap(u,g,C),E=h(u.getNodes(),function(R){return C?R.isSubTotals:R.isGrandTotals}),O=g?"width":"height";Xi(E,function(R){var k=x[R.level];if(!k&&C)for(var z=1;k<1;)k=x[R.level-z]-z,z++;for(var j=0,q=function(le){j+=u.sampleNodesForAllLevels.find(function(me){return me.level===R.level+le})[O]},ee=0;ee<k;ee++)q(ee);R[O]=j})},s.prototype.calculateGridRowNodesWidth=function(i,u){var g=this.cfg,C=g.rowCfg,x=g.spreadsheet,E=Mi(C,["widthByField",i.key]);if(Th(E))return E;var O=this.getCellCustomWidth(i,C==null?void 0:C.width);return Th(O)?O:x.getLayoutWidthType()!==Mf.Adaptive?this.getCompactGridRowWidth(i):this.getAdaptGridColWidth(u)},s.prototype.getAdaptTreeColWidth=function(i,u,g){var C=this.getCanvasHW().width,x=C-this.getSeriesNumberWidth(),E=Math.min(x/2,this.getTreeRowHeaderWidth()),O=Math.max(1,u.length),R=this.cfg.cellCfg;return Math.max(IR(R,this.getColLabelLength(i,g)),(x-E)/O)},s.prototype.getColLabelLength=function(i,u){var g,C=RR(i==null?void 0:i.value);if(Fi(C))return C.length;for(var x=1,E=0;E<H0;E++){var O=u[E];if(!O)return x;for(var R=this.cfg.dataSet.getCellData({query:ur(ur({},i.query),O.query),rowNode:O,isTotals:i.isTotals||i.isTotalMeasure||O.isTotals||O.isTotalMeasure,totalStatus:dA(O,i)}),k=Aa(R),z=0;z<k.length;z++){var j=R[k[z]],q=I1((g=j==null?void 0:j.values)===null||g===void 0?void 0:g[0]);q>x&&(x=q)}}return x},s.prototype.getAdaptGridColWidth=function(i,u){var g=this.cfg,C=g.rows,x=g.cellCfg,E=C.length,O=i.length,R=this.getCanvasHW().width,k=R-this.getSeriesNumberWidth(),z=Math.max(1,E+O);return u?Math.max(IR(x),(k-u)/O):Math.max(IR(x),k/z)},s.prototype.getTreeRowHeaderWidth=function(){var i,u,g,C,x=this.cfg,E=x.rows,O=x.dataSet,R=x.rowCfg,k=x.treeRowsWidth,z=k!=null?k:R==null?void 0:R.treeRowsWidth;if(z)return z;var j=this.getCellCustomWidth(null,R==null?void 0:R.width);if(j)return j;var q=E.map(function($e){return O.getFieldName($e)}).join("/"),ee=this.spreadsheet.theme.cornerCell,le=ee.bolderText,me=ee.icon,Oe=1+this.spreadsheet.measureTextWidth(q,le)+me.size*2+((i=me.margin)===null||i===void 0?void 0:i.left)+((u=me.margin)===null||u===void 0?void 0:u.right)+((g=this.rowCellTheme.padding)===null||g===void 0?void 0:g.left)+((C=this.rowCellTheme.padding)===null||C===void 0?void 0:C.right);return Math.max(z!=null?z:zx,Oe)},s.prototype.getCompactGridRowWidth=function(i){var u=this,g,C=this.cfg,x=C.dataSet,E=C.spreadsheet,O=E.theme.rowCell,R=O.bolderText,k=O.icon,z=O.cell,j=E.theme.cornerCell,q=j.bolderText,ee=j.icon,le=j.cell,me=i.field,Oe=i.isLeaf,$e=this.getExpectedCellIconWidth(An.ROW_CELL,!E.isValueInCols()&&Oe&&E.options.showDefaultHeaderActionIcon,k),Ye=(g=x.getDimensionValues(me))===null||g===void 0?void 0:g.slice(0,H0).map(function(gn){var Kn,In;return(In=(Kn=u.spreadsheet.dataSet.getFieldFormatter(me))===null||Kn===void 0?void 0:Kn(gn))!==null&&In!==void 0?In:gn}),Ze=gO(Ye,function(gn){return"".concat(gn).length}),Ut=E.measureTextWidth(Ze,R)+$e+z.padding.left+z.padding.right,gr=x.getFieldName(me),br=this.getExpectedCellIconWidth(An.CORNER_CELL,!1,ee),Zr=E.measureTextWidth(gr,q)+br+le.padding.left+le.padding.right;return u0.getInstance().logger("Max Label In Row:",me,Ut>Zr?Ze:gr),Math.max(Ut,Zr)},s.prototype.getViewCellHeights=function(i){var u=i.rowLeafNodes,g=T2(u,function(C,x){return C.push(lo(C)+x.height),C},[0]);return{getTotalHeight:function(){return lo(g)},getCellOffsetY:function(C){return g[C]},getTotalLength:function(){return g.length-1},getIndexRange:function(C,x){return C5(g,C,x)}}},s}(M5),Uk=function(l){Ni(s,l);function s(i){var u=this,g;u=l.call(this,i)||this,u.getScrollGroupClipBBox=function(){var O,R=u.headerConfig,k=R.width,z=R.height,j=R.scrollX,q=R.spreadsheet,ee=q.options;if(!ee.frozenColCount&&!ee.frozenTrailingColCount)return{x:j,y:0,width:k,height:z};for(var le=(O=q.facet)===null||O===void 0?void 0:O.layoutResult.colLeafNodes,me=z2(q.options,le.length),Oe=me.frozenColCount,$e=me.frozenTrailingColCount,Ye=0,Ze=0,Ut=0;Ut<Oe;Ut++)Ye+=le[Ut].width;for(var Ut=0;Ut<$e;Ut++)Ze+=le[le.length-1-Ut].width;var gr=k-Ye-Ze;return{x:j+Ye,y:0,width:gr,height:z}};var C=(g=u.headerConfig.spreadsheet)===null||g===void 0?void 0:g.options,x=C.frozenColCount,E=C.frozenTrailingColCount;return x&&(u.frozenColGroup=u.addGroup({name:Nx,zIndex:tb})),E&&(u.frozenTrailingColGroup=u.addGroup({name:ev,zIndex:tb})),u}return s.prototype.isFrozenCell=function(i){var u=this.headerConfig.spreadsheet,g=u==null?void 0:u.options,C=g.frozenColCount,x=g.frozenTrailingColCount,E=i.colIndex,O=u==null?void 0:u.facet.layoutResult.colLeafNodes;return _M(E,C)||EM(E,x,O.length)},s.prototype.clear=function(){var i,u,g=this.headerConfig.spreadsheet;l.prototype.clear.call(this),(i=this.frozenTrailingColGroup)===null||i===void 0||i.clear(),(u=this.frozenColGroup)===null||u===void 0||u.clear();var C=g==null?void 0:g.foregroundGroup.findById(eh);C==null||C.clear()},s.prototype.getCellInstance=function(i,u,g){return i.field===Zh?new jP(i,u,g):new YR(i,u,g)},s.prototype.getCellGroup=function(i){var u,g,C=this.headerConfig.spreadsheet,x=C==null?void 0:C.options,E=x.frozenColCount,O=x.frozenTrailingColCount,R=(u=C==null?void 0:C.facet)===null||u===void 0?void 0:u.layoutResult.colNodes.filter(function(q){return vy(q)}),k=uA(R,E,O),z=k.colCount,j=k.trailingColCount;return _M(cA(i).colIndex,z)?this.frozenColGroup:EM(cA(i).colIndex,j,(g=C==null?void 0:C.facet)===null||g===void 0?void 0:g.layoutResult.colLeafNodes.length)?this.frozenTrailingColGroup:this.scrollGroup},s.prototype.isColCellInRect=function(i){var u,g,C=this.headerConfig.spreadsheet,x=C==null?void 0:C.options,E=x.frozenColCount,O=x.frozenTrailingColCount,R=(u=C==null?void 0:C.facet)===null||u===void 0?void 0:u.layoutResult.colLeafNodes.length,k=(g=C==null?void 0:C.facet)===null||g===void 0?void 0:g.layoutResult.colNodes.filter(function(ee){return vy(ee)}),z=uA(k,E,O),j=z.colCount,q=z.trailingColCount;return _M(cA(i).colIndex,j)||EM(cA(i).colIndex,q,R)?!0:l.prototype.isColCellInRect.call(this,i)},s.prototype.clip=function(){this.scrollGroup.setClip({type:"rect",attrs:this.getScrollGroupClipBBox()})},s}(uD),Yk=function(l){Ni(s,l);function s(i){var u,g=l.call(this,i)||this;return g.frozenGroupInfo=(u={},u[ds.FROZEN_COL]={width:0},u[ds.FROZEN_ROW]={height:0},u[ds.FROZEN_TRAILING_ROW]={height:0},u[ds.FROZEN_TRAILING_COL]={width:0},u),g.panelScrollGroupIndexes=[],g.initFrozenGroupPosition=function(){var C=g.getScrollOffset(),x=C.scrollY,E=C.scrollX,O=g.getPaginationScrollY();H2(g.spreadsheet.frozenRowGroup,g.cornerBBox.width-E,g.cornerBBox.height-O),H2(g.spreadsheet.frozenColGroup,g.cornerBBox.width,g.cornerBBox.height-x-O),H2(g.spreadsheet.frozenTrailingColGroup,g.cornerBBox.width,g.cornerBBox.height-x-O),H2(g.spreadsheet.frozenTopGroup,g.cornerBBox.width,g.cornerBBox.height-O)},g.addCell=function(C){var x=g.getBizRevisedFrozenOptions(),E=x.frozenRowCount,O=x.frozenColCount,R=x.frozenTrailingRowCount,k=x.frozenTrailingColCount,z=g.layoutResult.colsHierarchy.getLeaves().length,j=g.getCellRange(),q=g.getRealFrozenColumns(O,k),ee=q.colCount,le=q.trailingColCount,me=Y5(C.getMeta(),{frozenRowCount:E,frozenColCount:ee,frozenTrailingRowCount:R,frozenTrailingColCount:le},z,j),Oe=tC[me];Oe&&g.spreadsheet[Oe]&&g.spreadsheet[Oe].add(C)},g.renderFrozenGroupSplitLine=function(C,x){var E,O,R,k=g.panelBBox,z=k.width,j=k.height,q=k.viewportWidth,ee=k.viewportHeight,le=g.cornerBBox.height,me=g.layoutResult.colNodes.filter(function(Mu){return vy(Mu)}),Oe=g.getCellRange(),$e=Oe.end-Oe.start,Ye=z2(g.getBizRevisedFrozenOptions(),me.length,$e),Ze=Ye.frozenRowCount,Ut=Ze===void 0?0:Ze,gr=Ye.frozenColCount,br=gr===void 0?0:gr,Zr=Ye.frozenTrailingColCount,gn=Zr===void 0?0:Zr,Kn=Ye.frozenTrailingRowCount,In=Kn===void 0?0:Kn,Xn=Math.floor(x-g.getPaginationScrollY()),gi=Math.max(0,((E=lo(g.viewCellWidths))!==null&&E!==void 0?E:0)-q),Pi=Math.max(0,g.viewCellHeights.getCellOffsetY(Oe.end+1)-g.viewCellHeights.getCellOffsetY(Oe.start)-ee);(O=g.foregroundGroup.findById(F0))===null||O===void 0||O.remove();var Dn=Mi(g.cfg,"spreadsheet.theme.splitLine"),Jn=g.foregroundGroup.addGroup({id:F0,zIndex:tb}),So={lineWidth:Dn==null?void 0:Dn.verticalBorderWidth,stroke:Dn==null?void 0:Dn.verticalBorderColor,opacity:Dn==null?void 0:Dn.verticalBorderColorOpacity,lineDash:Dn==null?void 0:Dn.borderDash},no={lineWidth:Dn==null?void 0:Dn.horizontalBorderWidth,stroke:Dn==null?void 0:Dn.horizontalBorderColor,opacity:Dn==null?void 0:Dn.horizontalBorderColorOpacity,lineDash:Dn==null?void 0:Dn.borderDash};if(br>0){var zo=me.reduce(function(Mu,ns,Ro){return Ro<br?Mu+ns.width:Mu},0),aa=In>0?j:ee;uf(Jn,{x1:zo,x2:zo,y1:le,y2:le+aa},ur({},So)),Dn.showShadow&&C>0&&Jn.addShape("rect",{attrs:{x:zo,y:le,width:Dn.shadowWidth,height:aa,fill:g.getShadowFill(0)}})}if(Ut>0){var Wo=le+g.getTotalHeightForRange(Oe.start,Oe.start+Ut-1),Ka=gn>0?z:q;uf(Jn,{x1:0,x2:Ka,y1:Wo,y2:Wo},ur({},no)),Dn.showShadow&&Xn>0&&Jn.addShape("rect",{attrs:{x:0,y:Wo,width:Ka,height:Dn.shadowWidth,fill:g.getShadowFill(90)}})}if(gn>0){var zo=me[me.length-gn].x,aa=In?j:ee;uf(Jn,{x1:zo,x2:zo,y1:le,y2:le+aa},ur({},So)),Dn.showShadow&&Math.floor(C)<Math.floor(gi)&&Jn.addShape("rect",{attrs:{x:zo-((R=Dn.shadowWidth)!==null&&R!==void 0?R:0),y:le,width:Dn.shadowWidth,height:aa,fill:g.getShadowFill(180)}})}if(In>0){var Wo=g.panelBBox.maxY-g.getTotalHeightForRange(Oe.end-In+1,Oe.end),Ka=gn>0?z:q;uf(Jn,{x1:0,x2:Ka,y1:Wo,y2:Wo},ur({},no)),Dn.showShadow&&Xn<Math.floor(Pi)&&Jn.addShape("rect",{attrs:{x:0,y:Wo-Dn.shadowWidth,width:Ka,height:Dn.shadowWidth,fill:g.getShadowFill(270)}})}g.foregroundGroup.sort()},g.getRealFrozenColumns=function(C,x){var E,O=C,R=x;if(C||x){var k=g.layoutResult.colsHierarchy.getNodes();k=k.filter(function(z){return vy(z)}),E=uA(k,C,x),O=E.colCount,R=E.trailingColCount}return{colCount:O,trailingColCount:R}},g.getTotalHeightForRange=function(C,x){if(C<0||x<0)return 0;if(g.rowOffsets)return g.rowOffsets[x+1]-g.rowOffsets[C];for(var E=0,O=C;O<x+1;O++){var R=g.getDefaultCellHeight();E+=R}return E},g.getShadowFill=function(C){var x,E,O=Mi(g.cfg,"spreadsheet.theme.splitLine");return"l (".concat(C,") 0:").concat((x=O.shadowColors)===null||x===void 0?void 0:x.left," 1:").concat((E=O.shadowColors)===null||E===void 0?void 0:E.right)},g}return s.prototype.calculateFrozenGroupInfo=function(){var i=this.getFrozenOptionsDirectly(),u=i.frozenColCount,g=i.frozenRowCount,C=i.frozenTrailingColCount,x=i.frozenTrailingRowCount,E=this.layoutResult.colNodes.filter(function(le){return vy(le)}),O=this.viewCellHeights,R=this.getCellRange(),k=this.frozenGroupInfo,z=k.frozenCol,j=k.frozenTrailingCol,q=k.frozenRow,ee=k.frozenTrailingRow;u>0&&(z.width=E[u-1].x+E[u-1].width-0,z.range=[0,u-1]),g>0&&(q.height=O.getCellOffsetY(R.start+g)-O.getCellOffsetY(R.start),q.range=[R.start,R.start+g-1]),C>0&&(j.width=E[E.length-1].x-E[E.length-C].x+E[E.length-1].width,j.range=[E.length-C,E.length-1]),x>0&&(ee.height=O.getCellOffsetY(R.end+1)-O.getCellOffsetY(R.end+1-x),ee.range=[R.end-x+1,R.end])},s.prototype.calculateXYIndexes=function(i,u){var g,C,x,E=this.layoutResult.colLeafNodes.length,O=this.getCellRange(),R=this.panelBBox,k=R.viewportHeight,z=R.viewportWidth,j=this.getFrozenOptionsDirectly(),q=j.frozenColCount,ee=q===void 0?0:q,le=j.frozenRowCount,me=le===void 0?0:le,Oe=j.frozenTrailingColCount,$e=Oe===void 0?0:Oe,Ye=j.frozenTrailingRowCount,Ze=Ye===void 0?0:Ye,Ut={width:z,height:k,x:0,y:0};if($e>0||ee>0){var gr=this.frozenGroupInfo,br=gr.frozenTrailingCol,Zr=gr.frozenCol;Ut.width-=br.width+Zr.width,Ut.x+=(g=Zr.width)!==null&&g!==void 0?g:0}if(Ze>0||me>0){var gn=this.frozenGroupInfo,Kn=gn.frozenRow,In=gn.frozenTrailingRow;Ut.height<Kn.height+In.height?(Ut.height=0,Ut.y=0):(Ut.height-=Kn.height+In.height,Ut.y+=Kn.height)}var Xn=!((x=(C=this.spreadsheet.dataSet)===null||C===void 0?void 0:C.isEmpty)===null||x===void 0)&&x.call(C)?[]:_R(i,u,this.viewCellWidths,this.viewCellHeights,Ut,this.getRealScrollX(this.cornerBBox.width));this.panelScrollGroupIndexes=Xn;var gi=this.getRealFrozenColumns(ee,$e),Pi=gi.colCount,Dn=gi.trailingColCount;return V5(Xn,{frozenColCount:Pi,frozenRowCount:me,frozenTrailingColCount:Dn,frozenTrailingRowCount:Ze},E,O)},s.prototype.updateFrozenGroupGrid=function(){var i=this;[ds.FROZEN_COL,ds.FROZEN_ROW,ds.FROZEN_TRAILING_COL,ds.FROZEN_TRAILING_ROW].forEach(function(u){if(i.frozenGroupInfo[u].range){var g=[],C=[];if(u.toLowerCase().includes("row")){var x=Br(i.frozenGroupInfo[u].range,2),E=x[0],O=x[1];if(g=i.gridInfo.cols,C=sD(E,O,i.viewCellHeights),u===ds.FROZEN_TRAILING_ROW){var R=i.spreadsheet.frozenTrailingRowGroup.getBBox().minY;C=Ik(E,O,Math.ceil(R),i.viewCellHeights)}}else{var k=Br(i.frozenGroupInfo[u].range,2),z=k[0],j=k[1],q=i.layoutResult.colNodes.filter(function(ee){return vy(ee)});g=b5(z,j,q),C=i.gridInfo.rows}i.spreadsheet["".concat(u,"Group")].updateGrid({cols:g,rows:C},"".concat(u,"Group"))}})},s.prototype.updatePanelScrollGroup=function(){l.prototype.updatePanelScrollGroup.call(this),this.updateFrozenGroupGrid()},s.prototype.translateRelatedGroups=function(i,u,g){var C=this,x=this.spreadsheet,E=x.frozenColGroup,O=x.frozenTrailingColGroup,R=x.frozenRowGroup,k=x.frozenTrailingRowGroup;[R,k].forEach(function(z){ER(z,C.cornerBBox.width-i)}),[E,O].forEach(function(z){U5(z,C.cornerBBox.height-u)}),l.prototype.translateRelatedGroups.call(this,i,u,g),this.updateRowResizeArea(),this.renderFrozenGroupSplitLine(i,u)},s.prototype.updateRowResizeArea=function(){},s.prototype.clip=function(i,u){var g,C,x,E=this.getPaginationScrollY(),O=this.spreadsheet,R=O.frozenRowGroup,k=O.frozenColGroup,z=O.frozenTrailingColGroup,j=O.frozenTrailingRowGroup,q=O.panelScrollGroup,ee=0,le=0,me=0;k&&(ee=k.getBBox().width),R&&(le=R.getBBox().height);var Oe;z&&(Oe=z.getBBox()),j&&(me=j.getBBox().height);var $e=this.panelBBox.width-ee-((g=Oe==null?void 0:Oe.width)!==null&&g!==void 0?g:0),Ye=this.panelBBox.height-le-me;q.setClip({type:"rect",attrs:{x:i+ee,y:u+le,width:$e,height:Ye}}),R.setClip({type:"rect",attrs:{x:i+ee,y:E,width:$e,height:le}}),j==null||j.setClip({type:"rect",attrs:{x:i+ee,y:j.getBBox().minY,width:$e,height:me}});var Ze={y:u+le,height:Ye};k==null||k.setClip({type:"rect",attrs:ur(ur({},Ze),{x:0,width:ee})}),z==null||z.setClip({type:"rect",attrs:ur(ur({},Ze),{x:(C=Oe==null?void 0:Oe.minX)!==null&&C!==void 0?C:0,width:(x=Oe==null?void 0:Oe.width)!==null&&x!==void 0?x:0})})},s.prototype.init=function(){l.prototype.init.call(this),this.initRowOffsets()},s.prototype.render=function(){this.calculateFrozenGroupInfo(),l.prototype.render.call(this),this.initFrozenGroupPosition()},s.prototype.getFrozenOptionsDirectly=function(){var i=this.layoutResult.colLeafNodes.length,u=this.getCellRange();return z2(this.getBizRevisedFrozenOptions(),i,u.end-u.start+1)},s.prototype.getBizRevisedFrozenOptions=function(){var i=this.cfg,u=i.frozenColCount,g=i.frozenRowCount,C=i.frozenTrailingColCount,x=i.frozenTrailingRowCount;return{frozenColCount:u,frozenRowCount:g,frozenTrailingColCount:C,frozenTrailingRowCount:x}},s.prototype.initRowOffsets=function(){var i=this,u=this.cfg.dataSet,g=Mi(this.spreadsheet,"options.style.rowCfg.heightByField",{});if(Object.keys(g).length){var C=u.getDisplayDataSet();this.rowOffsets=[0];var x=0;C.forEach(function(E,O){var R,k=(R=g==null?void 0:g[String(O)])!==null&&R!==void 0?R:i.getDefaultCellHeight(),z=x+k;i.rowOffsets.push(z),x=z})}},s.prototype.getDefaultCellHeight=function(){var i,u=this.cfg.cellCfg;return(i=u==null?void 0:u.height)!==null&&i!==void 0?i:0},s}(M5),jk=function(l){Ni(s,l);function s(i){var u=l.call(this,i)||this;u.onSortHandler=function(C){var x=u.spreadsheet,E=C;Array.isArray(C)||(E=[C]);var O=x.dataCfg.sortParams||[];E=E.map(function(k){var z,j,q=ur(ur({},k),{sortFieldId:(z=k.sortKey)!==null&&z!==void 0?z:k.sortFieldId}),ee=(j=O.find(function(le){return le.sortFieldId===q.sortFieldId}))!==null&&j!==void 0?j:{};return ur(ur({},ee),q)});var R=O.filter(function(k){var z=E.find(function(j){return j.sortFieldId===k.sortFieldId});return!z});i0(x.dataCfg,"sortParams",en(en([],Br(R),!1),Br(E),!1)),x.setDataCfg(x.dataCfg),x.render(!0),x.emit(Ar.RANGE_SORTED,x.dataSet.getDisplayDataSet())},u.onFilterHandler=function(C){var x=u.spreadsheet,E=!C.filteredValues||C.filteredValues.length===0,O=x.dataCfg.filterParams||[],R=O.findIndex(function(k){return k.filterKey===C.filterKey});R!==-1?E?O.splice(R,1):O[R]=C:O.push(C),i0(x.dataCfg,"filterParams",O),x.render(!0),x.emit(Ar.RANGE_FILTERED,x.dataSet.getDisplayDataSet())},u.renderFrozenPanelCornerGroup=function(){var C=u.layoutResult.colNodes.filter(function(me){return vy(me)}),x=u.getCellRange(),E=z2(u.spreadsheet.options,C.length,x.end-x.start+1),O=E.frozenRowCount,R=E.frozenColCount,k=E.frozenTrailingRowCount,z=E.frozenTrailingColCount,j=uA(C,R,z),q=j.colCount,ee=j.trailingColCount,le=j5({frozenRowCount:O,frozenColCount:q,frozenTrailingRowCount:k,frozenTrailingColCount:ee},u.layoutResult.colLeafNodes.length,x);Object.keys(le).forEach(function(me){var Oe=le[me],$e=u.spreadsheet[tC[me]];$e&&Oe.forEach(function(Ye){u.addFrozenCell(Ye.x,Ye.y,$e)})})},u.addFrozenCell=function(C,x,E){var O=u.layoutResult.getCellMeta(x,C);if(O.isFrozenCorner=!0,O){var R=u.cfg.dataCell(O);E.add(R)}};var g=u.spreadsheet;return g.on(Ar.RANGE_SORT,u.onSortHandler),g.on(Ar.RANGE_FILTER,u.onFilterHandler),u}return s.prototype.updateRowResizeArea=function(){var i=this.spreadsheet,u=i.foregroundGroup,g=i.options,C=Mi(g,"interaction.resize"),x=xv(C)?C:C==null?void 0:C.rowCellVertical;if(x){var E=u.findById(qv),O=u.findById(Qd);E&&E.set("children",[]),O&&O.set("children",[]);var R=SA(this.panelGroup.getChildren(),wA).filter(function(k){return k.shouldDrawResizeArea()});R==null||R.forEach(function(k){k.drawResizeArea()})}},s.prototype.clip=function(i,u){l.prototype.clip.call(this,i,u),this.clipResizeAreaGroup()},s.prototype.clipResizeAreaGroup=function(){var i,u,g=this.spreadsheet.foregroundGroup.findById(qv);if(g){var C=this.layoutResult.colLeafNodes,x=this.spreadsheet,E=x.frozenRowGroup,O=x.frozenTrailingRowGroup,R=0,k=0;E&&(R=E.getBBox().height),O&&(k=O.getBBox().height);var z=this.panelBBox.height-R-k;g.setClip({type:"rect",attrs:{x:0,y:R+this.cornerBBox.height,width:(u=(i=C==null?void 0:C[0])===null||i===void 0?void 0:i.width)!==null&&u!==void 0?u:0,height:z}})}},s.prototype.getContentHeight=function(){var i=this.getViewCellHeights().getTotalHeight,u=this.layoutResult.colsHierarchy;return i()+u.height},Object.defineProperty(s.prototype,"dataCellTheme",{get:function(){return this.spreadsheet.theme.dataCell.cell},enumerable:!1,configurable:!0}),s.prototype.destroy=function(){var i=this.spreadsheet;i.off(Ar.RANGE_SORT,this.onSortHandler),i.off(Ar.RANGE_FILTER,this.onFilterHandler),l.prototype.destroy.call(this)},s.prototype.calculateCornerBBox=function(){var i=this.layoutResult.colsHierarchy,u=Math.floor(i.height);this.cornerBBox=new _5(this),this.cornerBBox.height=u,this.cornerBBox.maxY=u},s.prototype.doLayout=function(){var i=this,u=this.cfg,g=u.dataSet,C=u.spreadsheet,x=new ZI,E=cD({isRowHeader:!1,facetCfg:this.cfg}),O=E.leafNodes,R=E.hierarchy;this.calculateColNodesCoordinate(O,R);var k=function(j,q){var ee,le=i.cfg.showSeriesNumber,me=O[q],Oe=i.getCellHeight(j),$e=i.getCellRange(),Ye=z2(i.cfg,O.length,$e.end-$e.start+1).frozenTrailingRowCount,Ze,Ut=me.x,gr=i.viewCellHeights.getCellOffsetY(j);return sA(j,$e.end,Ye)&&(gr=i.panelBBox.maxY-i.getTotalHeightForRange(j,$e.end)),le&&me.field===Zh?Ze=j+1:Ze=g.getCellData({query:{col:me.field,rowIndex:j}}),{spreadsheet:C,x:Ut,y:gr,width:me.width,height:Oe,data:(ee={},ee[me.field]=Ze,ee),rowIndex:j,colIndex:q,isTotals:!1,colId:me.id,rowId:String(j),valueField:me.field,fieldValue:Ze,id:mA(String(j),me.id)}},z={colNodes:R.getNodes(),colsHierarchy:R,rowNodes:x.getNodes(),rowsHierarchy:x,rowLeafNodes:x.getLeaves(),colLeafNodes:O,getCellMeta:k,spreadsheet:C};return z},s.prototype.getAdaptiveColWidth=function(i){var u=this.cfg.cellCfg,g=this.cfg.showSeriesNumber;if(this.spreadsheet.getLayoutWidthType()!==Mf.Compact){var C=this.getSeriesNumberWidth(),x=i.length-(g?1:0),E=this.getCanvasHW().width-C;return Math.max(u==null?void 0:u.width,E/Math.max(1,x))}return u==null?void 0:u.width},s.prototype.getColNodeHeight=function(i,u){var g=this.cfg.colCfg,C=sy(g==null?void 0:g.heightByField)[0],x=C||(g==null?void 0:g.height);if(!u||i.children&&i.children.length)return x;for(;i.parent;)u-=vy(i)?0:x,i=i.parent;return u},s.prototype.calculateColNodesCoordinate=function(i,u){var g,C,x,E,O,R,k=Pc.blankNode(),z=u.getNodes();try{for(var j=Ls(u.sampleNodesForAllLevels),q=j.next();!q.done;q=j.next()){var ee=q.value;ee.height=this.getColNodeHeight(ee),u.height+=ee.height}}catch(Zr){g={error:Zr}}finally{try{q&&!q.done&&(C=j.return)&&C.call(j)}finally{if(g)throw g.error}}for(var le=this.getAdaptiveColWidth(i),me=0,Oe=0;Oe<z.length;Oe++){var $e=z[Oe];$e.isLeaf&&($e.colIndex=me,me+=1,$e.x=k.x+k.width,$e.width=this.calculateColLeafNodesWidth($e,le),Bc(this.cfg,null,$e),u.width+=$e.width,k=$e),$e.level===0?$e.y=0:$e.y=(O=((x=$e.parent)===null||x===void 0?void 0:x.y)+((E=$e.parent)===null||E===void 0?void 0:E.height))!==null&&O!==void 0?O:0,$e.height=this.getColNodeHeight($e,u.height)}var Ye=z.filter(function(Zr){return vy(Zr)}),Ze=z2((R=this.spreadsheet)===null||R===void 0?void 0:R.options,Ye.length).frozenTrailingColCount;k=Pc.blankNode();var Ut=this.getCanvasHW().width;if(Ze>0)for(var gr=uA(Ye,0,Ze).trailingColCount,br=z.filter(function(Zr){return Zr.isLeaf}),Oe=1;Oe<=gr;Oe++){var $e=br[br.length-Oe];Oe===1?$e.x=Ut-$e.width:$e.x=k.x-$e.width,k=$e}this.autoCalculateColNodeWidthAndX(i)},s.prototype.autoCalculateColNodeWidthAndX=function(i){for(var u=null,g=i.slice(0);g.length;){var C=g.shift(),x=C.parent;u!==x&&x&&(g.push(x),x.x=x.children[0].x,x.width=x.children.map(function(E){return E.width}).reduce(function(E,O){return E+O},0),u=x)}},s.prototype.calculateColLeafNodesWidth=function(i,u){var g=this.cfg,C=g.colCfg,x=g.dataSet,E=g.spreadsheet,O=this.spreadsheet.getLayoutWidthType(),R=this.getCellDraggedWidth(i);if(Th(R))return R;var k=this.getCellCustomWidth(i,C==null?void 0:C.width);if(Th(k))return k;var z;if(O===Mf.Compact){var j=x.getDisplayDataSet(),q=x.getFieldFormatter(i.field),ee=gO(j==null?void 0:j.slice(0,50).map(function(gr){var br;return"".concat((br=q==null?void 0:q(gr[i.field]))!==null&&br!==void 0?br:gr[i.field])}),function(gr){return E.measureTextWidthRoughly(gr)});u0.getInstance().logger("Max Label In Col:",i.field,ee);var le=E.theme.colCell.bolderText,me=E.theme.dataCell,Oe=me.text,$e=me.cell,Ye=1,Ze=E.measureTextWidth(ee,Oe)+$e.padding.left+$e.padding.right+Ye,Ut=E.measureTextWidth(i.label,le)+aB(this.spreadsheet,i,E.theme.colCell);z=Math.max(Ut,Ze)}else z=u;return i.field===Zh&&(z=this.getSeriesNumberWidth()),z},s.prototype.getCellHeight=function(i){if(this.rowOffsets){var u=Mi(this.spreadsheet,"options.style.rowCfg.heightByField",{}),g=u==null?void 0:u[String(i)];if(Th(g))return g}return this.getDefaultCellHeight()},s.prototype.getViewCellHeights=function(){var i=this,u=this.cfg.dataSet,g=this.getDefaultCellHeight();return{getTotalHeight:function(){return i.rowOffsets?lo(i.rowOffsets):g*u.getDisplayDataSet().length},getCellOffsetY:function(C){if(C<=0)return 0;if(i.rowOffsets)return i.rowOffsets[C];for(var x=0,E=0;E<C;E++)x+=g;return x},getTotalLength:function(){return u.getDisplayDataSet().length},getIndexRange:function(C,x){if(i.rowOffsets)return C5(i.rowOffsets,C,x);var E=Math.floor(C/g),O=x%g===0?x/g-1:Math.floor(x/g);return{start:Math.max(0,E),end:Math.max(0,O)}}}},s.prototype.init=function(){l.prototype.init.call(this);var i=this.panelBBox,u=i.width,g=i.height;this.spreadsheet.panelGroup.setClip({type:"rect",attrs:{x:0,y:this.cornerBBox.height,width:u,height:g}})},s.prototype.getColHeader=function(){if(!this.columnHeader){var i=this.panelBBox,u=i.x,g=i.width,C=i.viewportHeight,x=i.viewportWidth;return new Uk({width:g,height:this.cornerBBox.height,viewportWidth:x,viewportHeight:C,cornerWidth:this.cornerBBox.width,position:{x:u,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},s.prototype.render=function(){this.renderFrozenPanelCornerGroup(),l.prototype.render.call(this)},s.prototype.getRowHeader=function(){return null},s.prototype.getSeriesNumberHeader=function(){return null},s}(Yk),I5=function(l){Ni(s,l);function s(i){var u=l.call(this,i)||this;return u.gridInfo={cols:[],rows:[]},u.updateGrid=function(g,C){C===void 0&&(C=tv);var x=u.getBBox(),E=u.s2,O=E.theme,R=E.isTableMode,k=O.dataCell.cell,z=R()&&(C===tv||C===Sf);(!u.gridGroup||!u.findById(C))&&(u.gridGroup=u.addGroup({id:C})),u.gridGroup.clear(),u.gridInfo=g,z&&u.gridInfo.cols.unshift(0);var j=k.verticalBorderWidth,q=k.verticalBorderWidth/2;u.gridInfo.cols.forEach(function(me){uf(u.gridGroup,{x1:me,x2:me,y1:Math.ceil(x.minY+q),y2:Math.floor(x.maxY-q)},{stroke:k.verticalBorderColor,strokeOpacity:k.verticalBorderColorOpacity,lineWidth:j,lineCap:Jy,lineDash:k.borderDash})});var ee=k.horizontalBorderWidth,le=k.horizontalBorderWidth/2;u.gridInfo.rows.forEach(function(me){uf(u.gridGroup,{x1:Math.ceil(x.minX+le),x2:Math.floor(x.maxX-le),y1:me,y2:me},{stroke:k.horizontalBorderColor,strokeOpacity:k.horizontalBorderColorOpacity,lineWidth:ee,lineCap:Jy,lineDash:k.borderDash})}),u.gridGroup.toFront()},u.s2=i.s2,u}return s}(pl),Vk=function(l){Ni(s,l);function s(i){var u=l.call(this,i)||this;return u.initMergedCellsGroup(),u}return s.prototype.initMergedCellsGroup=function(){this.mergedCellsGroup&&this.findById(k0)||(this.mergedCellsGroup=this.addGroup({id:k0}))},s.prototype.updateMergedCells=function(){this.initMergedCellsGroup(),O4(this.s2,this.mergedCellsGroup),this.mergedCellsGroup.toFront()},s.prototype.addMergeCell=function(i){var u;(u=this.mergedCellsGroup)===null||u===void 0||u.add(i)},s.prototype.update=function(i){this.updateGrid(i),this.updateMergedCells()},s}(I5),Cy=function(){function l(s){var i=this;this.isLinkFieldText=function(u){var g=i.getCellAppendInfo(u);return g==null?void 0:g.isLinkFieldText},this.spreadsheet=s,this.bindEvents()}return l.prototype.getCellAppendInfo=function(s){var i,u;return((i=s==null?void 0:s.attr)===null||i===void 0?void 0:i.call(s,"appendInfo"))||((u=s==null?void 0:s.attrs)===null||u===void 0?void 0:u.appendInfo)||{}},l.prototype.reset=function(){},l}(),Xk=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.bindEvents=function(){this.bindDataCellClick()},s.prototype.bindDataCellClick=function(){var i=this;this.spreadsheet.on(Ar.DATA_CELL_CLICK,function(u){var g;u.stopPropagation();var C=i.spreadsheet.interaction;if(C.clearHoverTimer(),!C.hasIntercepts([$i.CLICK])){if(i.isLinkFieldText(u.target)){i.emitLinkFieldClickEvent(u);return}var x=i.spreadsheet.getCell(u.target),E=x.getMeta();if(E){if(C.addIntercepts([$i.HOVER]),C.isSelectedCell(x)){((g=u.originalEvent)===null||g===void 0?void 0:g.detail)===1&&C.reset();return}C.changeState({cells:[py(x)],stateName:bi.SELECTED,onUpdateCells:XR}),i.spreadsheet.emit(Ar.GLOBAL_SELECTED,[x]),i.showTooltip(u,E);var O=E.rowId,R=E.colId,k=E.spreadsheet,z=C.getSelectedCellHighlight(),j=z.colHeader,q=z.rowHeader;if(j&&MP(R,C.getAllColHeaderCells(),bi.SELECTED),q&&O){var ee=lB(E,k);Xi(ee,function(le){le.updateByState(bi.SELECTED)})}}}})},s.prototype.getTooltipOperator=function(i,u){var g=this,C=bR(),x=this.spreadsheet.getCell(i.target),E=y6(this.spreadsheet,i).operation,O=E.trend&&ur(ur({},C),{onClick:function(){g.spreadsheet.emit(Ar.DATA_CELL_TREND_ICON_CLICK,ur(ur({},u),{record:g.spreadsheet.isTableMode()?g.spreadsheet.dataSet.getCellData({query:{rowIndex:u.rowIndex}}):void 0})),g.spreadsheet.hideTooltip()}});return g5(E,{defaultMenus:[O],cell:x})},s.prototype.showTooltip=function(i,u){var g=u.data,C=u.isTotals,x=C===void 0?!1:C,E=u.value,O=u.fieldValue,R=u.field,k=u.valueField,z=g,j=this.spreadsheet.isTableMode(),q=j?ur(ur({},z),{value:E||O,valueField:R||k}):z,ee=[q||ur(ur({},u.rowQuery),u.colQuery)],le=this.getTooltipOperator(i,u);this.spreadsheet.showTooltipWithInfo(i,ee,{isTotals:x,operator:le,enterable:!0,hideSummary:!0,showSingleTips:j})},s.prototype.emitLinkFieldClickEvent=function(i){var u=this.getCellAppendInfo(i.target).cellData,g=u.valueField,C=u.data;this.spreadsheet.emit(Ar.GLOBAL_LINK_FIELD_JUMP,{key:g,cellData:u,record:Object.assign({rowIndex:u.rowIndex},C)})},s}(Cy),Zk=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.bindEvents=function(){this.bindDataCellClick()},s.prototype.bindDataCellClick=function(){var i=this;this.spreadsheet.on(Ar.MERGED_CELLS_CLICK,function(u){u.stopPropagation();var g=i.spreadsheet.interaction;g.hasIntercepts([$i.CLICK])||g.addIntercepts([$i.HOVER])})},s}(Cy),Kk=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.isMultiSelection=!1,i.handleRowColClick=function(u){if(u.stopPropagation(),!i.isLinkFieldText(u.target)){var g=i.spreadsheet,C=g.interaction,x=g.options,E=i.spreadsheet.getCell(u.target),O=x.interaction.multiSelection,R=!!(O&&i.isMultiSelection),k=C.selectHeaderCell({cell:E,isMultiSelection:R});k&&i.showTooltip(u)}},i.getHideColumnField=function(u){return i.spreadsheet.isTableMode()?u.field:u.id},i}return s.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindKeyboardUp(),this.bindColCellClick(),this.bindRowCellClick(),this.bindTableColExpand(),this.bindMouseMove()},s.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([$i.CLICK])},s.prototype.bindKeyboardDown=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_KEYBOARD_DOWN,function(u){l6(u)&&(i.isMultiSelection=!0)})},s.prototype.bindKeyboardUp=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_KEYBOARD_UP,function(u){l6(u)&&i.reset()})},s.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_MOUSE_MOVE,function(u){i.isMultiSelection&&!VP(u)&&i.reset()})},s.prototype.bindRowCellClick=function(){var i=this;this.spreadsheet.on(Ar.ROW_CELL_CLICK,function(u){i.handleRowColClick(u)})},s.prototype.bindColCellClick=function(){var i=this;this.spreadsheet.on(Ar.COL_CELL_CLICK,function(u){i.handleRowColClick(u)})},s.prototype.showTooltip=function(i){var u=y6(this.spreadsheet,i),g=u.operation,C=u.showTooltip;if(C){var x=this.spreadsheet.interaction,E=x.isSelectedState()?wk(x.getActiveCells()):[],O=this.getTooltipOperator(i,g);this.spreadsheet.showTooltipWithInfo(i,E,{showSingleTips:!0,operator:O})}},s.prototype.getTooltipOperator=function(i,u){var g=this,C=this.spreadsheet.getCell(i.target),x=C.getMeta(),E=C.cellType===An.COL_CELL,O=this.spreadsheet.getColumnLeafNodes().length===1,R=YI(),k=E&&!O&&x.isLeaf&&u.hiddenColumns,z=k&&ur(ur({},R),{onClick:function(){g.hideSelectedColumns()}});return g5(u,{defaultMenus:[z],cell:C})},s.prototype.bindTableColExpand=function(){var i=this;this.spreadsheet.on(Ar.LAYOUT_COLS_EXPANDED,function(u){i.handleExpandIconClick(u)})},s.prototype.hideSelectedColumns=function(){var i=this.spreadsheet.interaction,u=i.getActiveCells().map(function(C){return C.getMeta()}),g=u.map(this.getHideColumnField);HR(this.spreadsheet,g,!0)},s.prototype.handleExpandIconClick=function(i){var u=this.spreadsheet.store.get("hiddenColumnsDetail",[]),g=(Y(u,function(k){var z=k.displaySiblingNode;return zR(z,i.id)})||{}).hideColumnNodes,C=g===void 0?[]:g,x=this.spreadsheet.options.interaction.hiddenColumnFields,E=C.map(this.getHideColumnField),O=ny(x,E),R=u.filter(function(k){var z=k.displaySiblingNode;return!zR(z,i.id)});this.spreadsheet.setOptions({interaction:{hiddenColumnFields:O}}),this.spreadsheet.store.set("hiddenColumnsDetail",R),this.spreadsheet.interaction.reset(),this.spreadsheet.render(!1)},s}(Cy),qk=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.getRowData=function(u){var g,C=u.getHeadLeafChild(),x=i.spreadsheet.dataSet.getMultiData(C==null?void 0:C.query,C==null?void 0:C.isTotals,!0)[0];return ur(ur({},x),{rowIndex:(g=u.rowIndex)!==null&&g!==void 0?g:C.rowIndex})},i}return s.prototype.bindEvents=function(){this.bindRowCellClick()},s.prototype.bindRowCellClick=function(){var i=this;this.spreadsheet.on(Ar.ROW_CELL_CLICK,function(u){if(!i.spreadsheet.interaction.hasIntercepts([$i.CLICK])&&i.isLinkFieldText(u.target)){var g=i.getCellAppendInfo(u.target).cellData,C=g.key,x=i.getRowData(g);i.spreadsheet.emit(Ar.GLOBAL_LINK_FIELD_JUMP,{key:C,cellData:g,record:x})}})},s}(Cy),Qk=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.bindEvents=function(){this.bindCornerCellClick()},s.prototype.bindCornerCellClick=function(){var i=this;this.spreadsheet.on(Ar.CORNER_CELL_CLICK,function(u){var g,C=i.spreadsheet.interaction,x=i.spreadsheet.getCell(u.target);if(x){var E=x.getMeta(),O=i.getRowNodesByField(E==null?void 0:E.field),R=(g=O[0])===null||g===void 0?void 0:g.belongsCell,k=i.getRowCells(O);if(R&&C.isSelectedCell(R)){C.reset(),i.spreadsheet.emit(Ar.GLOBAL_SELECTED,C.getActiveCells());return}zn(O)||zn(k)||(C.addIntercepts([$i.HOVER]),C.changeState({cells:k,stateName:bi.SELECTED}),C.highlightNodes(O),i.showTooltip(u),i.spreadsheet.emit(Ar.GLOBAL_SELECTED,C.getActiveCells()))}})},s.prototype.getRowNodesByField=function(i){return this.spreadsheet.getRowNodes().filter(function(u){return u.field===i})},s.prototype.getRowCells=function(i){return i.map(function(u){return{id:u.id,colIndex:-1,rowIndex:-1,type:An.ROW_CELL}})},s.prototype.showTooltip=function(i){var u=this.spreadsheet.interaction.getActiveCells();this.spreadsheet.showTooltipWithInfo(i,[],{data:{summaries:[{selectedData:u,name:"",value:null}]}})},s}(Cy),Jk=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.bindEvents=function(){this.bindCornerCellHover(),this.bindDataCellHover(),this.bindRowCellHover(),this.bindColCellHover()},s.prototype.updateRowColCells=function(i){var u=i.rowId,g=i.colId,C=this.spreadsheet.interaction,x=C.getHoverHighlight(),E=x.rowHeader,O=x.colHeader;if(O&&MP(g,C.getAllColHeaderCells(),bi.HOVER),E&&u){var R=BR(u,C.getAllRowHeaderCells(),this.spreadsheet.isHierarchyTreeType());Xi(R,function(k){k.updateByState(bi.HOVER)})}},s.prototype.changeStateToHoverFocus=function(i,u,g){var C=this,x,E=this.spreadsheet.interaction,O=this.spreadsheet.options.interaction,R=O.hoverFocus;E.clearHoverTimer();var k=function(){if(!E.hasIntercepts([$i.HOVER])){E.changeState({cells:[py(i)],stateName:bi.HOVER_FOCUS});var q=C.spreadsheet.isTableMode(),ee={isTotals:g.isTotals,enterable:!0,hideSummary:!0,showSingleTips:q},le=E.getHoverHighlight(),me=le.rowHeader,Oe=le.colHeader;(me||Oe)&&C.updateRowColCells(g);var $e=C.getCellData(g,q);C.spreadsheet.showTooltipWithInfo(u,$e,ee)}},z=mc;if(xv(R)||(z=(x=R==null?void 0:R.duration)!==null&&x!==void 0?x:mc),z===0)k();else{var j=window.setTimeout(function(){return k()},z);E.setHoverTimer(j)}},s.prototype.handleHeaderHover=function(i){var u=this.spreadsheet.getCell(i.target);if(!zn(u)){var g=this.spreadsheet.interaction;g.clearHoverTimer(),!g.isActiveCell(u)&&(g.changeState({cells:[py(u)],stateName:bi.HOVER}),u.update(),this.showEllipsisTooltip(i,u))}},s.prototype.showEllipsisTooltip=function(i,u){if(!(!u||u.getActualText()===u.getFieldValue())){var g=u.getMeta(),C=!0,x={isTotals:g.isTotals,enterable:!0,hideSummary:!0,showSingleTips:C,enableFormat:this.spreadsheet.isPivotMode()},E=this.getCellData(g,C);this.spreadsheet.showTooltipWithInfo(i,E,x)}},s.prototype.getCellData=function(i,u){i===void 0&&(i={});var g=i.data,C=i.query,x=i.value,E=i.field,O=i.fieldValue,R=i.valueField,k=i.rowQuery,z=i.colQuery,j=g,q=u?[ur(ur({},C),{value:x||O,valueField:E||R})]:[j||ur(ur({},k),z)];return q},s.prototype.bindDataCellHover=function(){var i=this;this.spreadsheet.on(Ar.DATA_CELL_HOVER,function(u){var g=i.spreadsheet.getCell(u.target);if(!zn(g)){var C=i.spreadsheet,x=C.interaction,E=C.options,O=E.interaction,R=g==null?void 0:g.getMeta();if(!x.isActiveCell(g)){x.changeState({cells:[py(g)],stateName:bi.HOVER});var k=x.getHoverHighlight(),z=k.rowHeader,j=k.colHeader;(z||j)&&i.updateRowColCells(R),O.hoverFocus&&i.changeStateToHoverFocus(g,u,R)}}})},s.prototype.bindRowCellHover=function(){var i=this;this.spreadsheet.on(Ar.ROW_CELL_HOVER,function(u){i.handleHeaderHover(u)})},s.prototype.bindColCellHover=function(){var i=this;this.spreadsheet.on(Ar.COL_CELL_HOVER,function(u){i.handleHeaderHover(u)})},s.prototype.bindCornerCellHover=function(){var i=this;this.spreadsheet.on(Ar.CORNER_CELL_HOVER,function(u){i.handleHeaderHover(u)})},s}(Cy),fD=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.displayedCells=[],i.brushRangeCells=[],i.brushSelectionStage=Ds.UN_DRAGGED,i.brushSelectionMinimumMoveDistance=5,i.scrollAnimationComplete=!0,i.mouseMoveDistanceFromCanvas=0,i.setMoveDistanceFromCanvas=function(u,g,C){var x=0;if(g&&(x=u.x),C){var E=u.y;g?x=Math.max(E,x):x=E}i.mouseMoveDistanceFromCanvas=Math.abs(x)},i.formatBrushPointForScroll=function(u,g){var C,x,E,O;g===void 0&&(g=!1);var R=u.x,k=u.y,z=i.spreadsheet.facet,j=g?z.cornerBBox:z.panelBBox,q=j.minX,ee=j.maxX,le=z.panelBBox,me=le.minY,Oe=le.maxY,$e=((C=i.endBrushPoint)===null||C===void 0?void 0:C.x)+R,Ye=((x=i.endBrushPoint)===null||x===void 0?void 0:x.y)+k,Ze=!0,Ut=!0,gr=(O=(E=z.vScrollBar)===null||E===void 0?void 0:E.getBBox())===null||O===void 0?void 0:O.width,br=2;return $e>ee?$e=ee-gr-br:$e<q?$e=q+br:Ze=!1,Ye>Oe?Ye=Oe-br:Ye<=me?Ye=me+br:Ut=!1,{x:{value:$e,needScroll:Ze},y:{value:Ye,needScroll:Ut}}},i.rectanglesIntersect=function(u,g){return u.maxX>g.minX&&u.minX<g.maxX&&u.minY<g.maxY&&u.maxY>g.minY},i.autoScrollIntervalId=null,i.autoScrollConfig=s1(Oi),i.validateYIndex=function(u){var g,C,x=i.spreadsheet.facet,E=x.frozenGroupInfo,O=0,R=(g=E==null?void 0:E.frozenRow)===null||g===void 0?void 0:g.range;if(R&&(O=R[1]+1),u<O)return null;var k=x.getCellRange().end,z=(C=E==null?void 0:E.frozenTrailingRow)===null||C===void 0?void 0:C.range;return z&&(k=z[0]-1),u>k?null:u},i.validateXIndex=function(u){var g,C,x=i.spreadsheet.facet,E=x.frozenGroupInfo,O=0,R=(g=E==null?void 0:E.frozenCol)===null||g===void 0?void 0:g.range;if(R&&(O=R[1]+1),u<O)return null;var k=x.layoutResult.colLeafNodes.length-1,z=(C=E==null?void 0:E.frozenTrailingCol)===null||C===void 0?void 0:C.range;return z&&(k=z[0]-1),u>k?null:u},i.adjustNextColIndexWithFrozen=function(u,g){var C=i.spreadsheet,x=C.facet,E=C.dataSet,O=C.options,R=E.getDisplayDataSet().length,k=x.layoutResult.colLeafNodes.length,z=z2(O,k,R),j=z.frozenTrailingColCount,q=z.frozenColCount,ee=x.panelScrollGroupIndexes;return j>0&&g===Lu.SCROLL_DOWN&&EM(u,j,k)?ee[1]:q>0&&g===Lu.SCROLL_UP&&_M(u,q)?ee[0]:u},i.adjustNextRowIndexWithFrozen=function(u,g){var C=i.spreadsheet,x=C.facet,E=C.dataSet,O=C.options,R=E.getDisplayDataSet().length,k=x.layoutResult.colLeafNodes.length,z=x.getCellRange(),j=z2(O,k,R),q=j.frozenTrailingRowCount,ee=j.frozenRowCount,le=x.panelScrollGroupIndexes;return q>0&&g===Lu.SCROLL_DOWN&&sA(u,z.end,q)?le[3]:ee>0&&g===Lu.SCROLL_UP&&qI(u,z.start,ee)?le[2]:u},i.getWillScrollRowIndexDiff=function(u){return u===Lu.SCROLL_DOWN?$0.SCROLL_DOWN:$0.SCROLL_UP},i.getDefaultWillScrollToRowIndex=function(u){var g=i.adjustNextRowIndexWithFrozen(i.endBrushPoint.rowIndex,u),C=g+i.getWillScrollRowIndexDiff(u);return i.validateYIndex(C)},i.getWillScrollToRowIndex=function(u){return i.getDefaultWillScrollToRowIndex(u)},i.getNextScrollDelta=function(u){var g=i.spreadsheet.facet.getScrollOffset(),C=g.scrollX,x=g.scrollY,E=0,O=0;if(u.y.scroll){var R=u.y.value>0?Lu.SCROLL_DOWN:Lu.SCROLL_UP,k=i.getWillScrollToRowIndex(R),z=dB(k,R,i.spreadsheet)-x,j=ru(k)||ru(z)||Number.isNaN(z);O=j?0:z}if(u.x.scroll){var R=u.x.value>0?Lu.SCROLL_DOWN:Lu.SCROLL_UP,q=i.adjustNextColIndexWithFrozen(i.endBrushPoint.colIndex,R),ee=i.validateXIndex(q+(u.x.value>0?1:-1));E=ru(ee)?0:hB(ee,R,i.spreadsheet)-C}return{x:E,y:O}},i.onScrollAnimationComplete=function(){i.scrollAnimationComplete=!0,i.brushSelectionStage!==Ds.UN_DRAGGED&&i.renderPrepareSelected(i.endBrushPoint)},i.autoScroll=function(u){if(u===void 0&&(u=!1),!(i.brushSelectionStage===Ds.UN_DRAGGED||!i.scrollAnimationComplete)){var g=i.autoScrollConfig,C=i.spreadsheet.facet.getScrollOffset(),x=u?"rowHeaderOffsetX":"offsetX",E={rowHeaderOffsetX:{value:C.rowHeaderScrollX,animate:!0},offsetX:{value:C.scrollX,animate:!0},offsetY:{value:C.scrollY,animate:!0}},O=i.getNextScrollDelta(g),R=O.x,k=O.y;if(k===0&&R===0){i.clearAutoScroll();return}if(g.y.scroll&&(E.offsetY.value+=k),g.x.scroll){var z=E[x];z.value+=R,z.value<0&&(z.value=0)}i.scrollAnimationComplete=!1;var j=g.x.scroll?1:3,q=Math.max(16,300-i.mouseMoveDistanceFromCanvas*j);i.spreadsheet.facet.scrollWithAnimation(E,q,i.onScrollAnimationComplete)}},i.handleScroll=UI(function(u,g,C){if(C===void 0&&(C=!1),i.brushSelectionStage!==Ds.UN_DRAGGED){var x=i.formatBrushPointForScroll({x:u,y:g},C),E=x.x,O=E.value,R=E.needScroll,k=x.y,z=k.value,j=k.needScroll,q=i.autoScrollConfig;j&&(q.y.value=g,q.y.scroll=!0),R&&(q.x.value=u,q.x.scroll=!0),i.setMoveDistanceFromCanvas({x:u,y:g},R,j),i.renderPrepareSelected({x:O,y:z}),(j||R)&&(i.clearAutoScroll(),i.autoScroll(C),i.autoScrollIntervalId=setInterval(function(){i.autoScroll(C)},16))}},30),i.clearAutoScroll=function(){i.autoScrollIntervalId&&(clearInterval(i.autoScrollIntervalId),i.autoScrollIntervalId=null,i.resetScrollDelta())},i.onUpdateCells=function(u,g){return g()},i.showPrepareSelectedCells=function(){i.brushRangeCells=i.getBrushRangeCells(),i.spreadsheet.interaction.changeState({cells:Me(i.brushRangeCells,function(u){return py(u)}),stateName:bi.PREPARE_SELECT,force:!0,onUpdateCells:i.onUpdateCells})},i.renderPrepareSelected=function(u){var g=u.x,C=u.y,x=i.spreadsheet.container.getShape(g,C),E=i.spreadsheet.getCell(x),O=E instanceof vx||E instanceof o6||E instanceof bA;if(!(!E||!O)){var R=E.getMeta(),k=R.rowIndex,z=R.colIndex;i.endBrushPoint={x:g,y:C,rowIndex:k,colIndex:z};var j=i.spreadsheet.interaction;j.addIntercepts([$i.HOVER]),j.clearStyleIndependent(),i.isValidBrushSelection()&&(i.showPrepareSelectedCells(),i.updatePrepareSelectMask())}},i}return s.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},s.prototype.getPrepareSelectMaskTheme=function(){var i;return(i=this.spreadsheet.theme)===null||i===void 0?void 0:i.prepareSelectMask},s.prototype.initPrepareSelectMaskShape=function(){var i=this.spreadsheet.foregroundGroup;if(i){i.removeChild(this.prepareSelectMaskShape);var u=this.getPrepareSelectMaskTheme();this.prepareSelectMaskShape=i.addShape("rect",{visible:!1,attrs:{width:0,height:0,x:0,y:0,fill:u==null?void 0:u.backgroundColor,fillOpacity:u==null?void 0:u.backgroundOpacity,zIndex:Kd},capture:!1})}},s.prototype.setBrushSelectionStage=function(i){this.brushSelectionStage=i},s.prototype.isPointInCanvas=function(i){var u=this.spreadsheet.facet.getCanvasHW(),g=u.height,C=u.width,x=this.spreadsheet.facet.panelBBox,E=x.minX,O=x.minY;return i.x>E&&i.x<C&&i.y>O&&i.y<g},s.prototype.resetDrag=function(){this.hidePrepareSelectMaskShape(),this.setBrushSelectionStage(Ds.UN_DRAGGED)},s.prototype.isValidBrushSelection=function(){var i=this.getBrushRange(),u=i.start,g=i.end,C=g.x-u.x>this.brushSelectionMinimumMoveDistance||g.y-u.y>this.brushSelectionMinimumMoveDistance;return C},s.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getPanelGroupAllDataCells()},s.prototype.updatePrepareSelectMask=function(){var i=this.getBrushRange(),u=this.getPrepareSelectMaskPosition(i),g=u.x,C=u.y;this.prepareSelectMaskShape.attr({x:g,y:C,width:i.width,height:i.height}),this.prepareSelectMaskShape.show()},s.prototype.hidePrepareSelectMaskShape=function(){var i;(i=this.prepareSelectMaskShape)===null||i===void 0||i.hide()},s.prototype.resetScrollDelta=function(){this.autoScrollConfig=s1(Oi)},s.prototype.getBrushPoint=function(i){var u=this.spreadsheet.facet.getScrollOffset(),g=u.scrollY,C=u.scrollX,x={x:i==null?void 0:i.x,y:i==null?void 0:i.y},E=this.spreadsheet.getCell(i.target),O=E.getMeta(),R=O.colIndex,k=O.rowIndex;return ur(ur({},x),{rowIndex:k,colIndex:R,scrollY:g,scrollX:C})},s.prototype.getBrushRange=function(){var i,u,g,C,x,E,O,R,k=this.spreadsheet.facet.getScrollOffset(),z=k.scrollX,j=k.scrollY,q=Math.min(this.startBrushPoint.rowIndex,(i=this.endBrushPoint)===null||i===void 0?void 0:i.rowIndex),ee=Math.max(this.startBrushPoint.rowIndex,(u=this.endBrushPoint)===null||u===void 0?void 0:u.rowIndex),le=Math.min(this.startBrushPoint.colIndex,(g=this.endBrushPoint)===null||g===void 0?void 0:g.colIndex),me=Math.max(this.startBrushPoint.colIndex,(C=this.endBrushPoint)===null||C===void 0?void 0:C.colIndex),Oe=this.startBrushPoint.x+this.startBrushPoint.scrollX-z,$e=this.startBrushPoint.y+this.startBrushPoint.scrollY-j,Ye=Math.min(Oe,(x=this.endBrushPoint)===null||x===void 0?void 0:x.x),Ze=Math.max(Oe,(E=this.endBrushPoint)===null||E===void 0?void 0:E.x),Ut=Math.min($e,(O=this.endBrushPoint)===null||O===void 0?void 0:O.y),gr=Math.max($e,(R=this.endBrushPoint)===null||R===void 0?void 0:R.y);return{start:{rowIndex:q,colIndex:le,x:Ye,y:Ut},end:{rowIndex:ee,colIndex:me,x:Ze,y:gr},width:Ze-Ye,height:gr-Ut}},s.prototype.getBrushRangeCells=function(){var i=this;return this.setDisplayedCells(),this.displayedCells.filter(function(u){var g=u.getMeta();return i.isInBrushRange(g)})},s.prototype.mouseDown=function(i){var u;(u=i==null?void 0:i.preventDefault)===null||u===void 0||u.call(i),!this.spreadsheet.interaction.hasIntercepts([$i.CLICK])&&(this.setBrushSelectionStage(Ds.CLICK),this.initPrepareSelectMaskShape(),this.setDisplayedCells(),this.startBrushPoint=this.getBrushPoint(i))},s.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([$i.BRUSH_SELECTION])},s.prototype.bindMouseUp=function(i){var u=this;i===void 0&&(i=!1),this.spreadsheet.on(Ar.GLOBAL_MOUSE_UP,function(g){if(u.brushSelectionStage!==Ds.DRAGGED){u.resetDrag();return}if(i&&u.clearAutoScroll(),u.isValidBrushSelection()){u.addBrushIntercepts(),u.updateSelectedCells();var C=iD(u.spreadsheet);u.spreadsheet.showTooltipWithInfo(g,C)}u.spreadsheet.interaction.getCurrentStateName()===bi.PREPARE_SELECT&&u.spreadsheet.interaction.reset(),u.resetDrag()}),this.spreadsheet.on(Ar.GLOBAL_CONTEXT_MENU,function(){u.brushSelectionStage!==Ds.UN_DRAGGED&&(u.spreadsheet.interaction.removeIntercepts([$i.HOVER]),u.resetDrag())})},s.prototype.autoBrushScroll=function(i,u){var g,C;if(u===void 0&&(u=!1),this.clearAutoScroll(),!this.isPointInCanvas(i)){var x=(i==null?void 0:i.x)-((g=this.endBrushPoint)===null||g===void 0?void 0:g.x),E=(i==null?void 0:i.y)-((C=this.endBrushPoint)===null||C===void 0?void 0:C.y);return this.handleScroll(x,E,u),!0}return!1},s.prototype.emitBrushSelectionEvent=function(i,u){this.spreadsheet.emit(i,u),this.spreadsheet.emit(Ar.GLOBAL_SELECTED,u),zn(u)&&this.spreadsheet.interaction.removeIntercepts([$i.HOVER])},s.prototype.getVisibleBrushRangeCells=function(i){return this.brushRangeCells.find(function(u){var g=u.getMeta();return(g==null?void 0:g.id)===i})},s.prototype.isInBrushRange=function(i){return!1},s.prototype.bindMouseDown=function(){},s.prototype.bindMouseMove=function(){},s.prototype.updateSelectedCells=function(){},s.prototype.getPrepareSelectMaskPosition=function(i){return{x:i.start.x,y:i.start.y}},s}(Cy),eF=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.displayedCells=[],i.brushRangeCells=[],i.onUpdateCells=function(u){return u.updateCells(u.getAllColHeaderCells())},i}return s.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},s.prototype.bindMouseDown=function(){var i=this;this.spreadsheet.on(Ar.COL_CELL_MOUSE_DOWN,function(u){i.spreadsheet.interaction.getBrushSelection().col&&l.prototype.mouseDown.call(i,u)})},s.prototype.isPointInCanvas=function(i){var u=this.spreadsheet.facet.getCanvasHW().width,g=this.spreadsheet.facet.cornerBBox,C=g.width,x=g.minY,E=g.maxY;return i.x>=C&&i.x<=u&&i.y>=x&&i.y<=E},s.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(Ar.COL_CELL_MOUSE_MOVE,function(u){if(i.brushSelectionStage!==Ds.UN_DRAGGED){i.setBrushSelectionStage(Ds.DRAGGED);var g=i.spreadsheet.container.getPointByEvent(u.originalEvent);i.isPointInCanvas(g)&&i.renderPrepareSelected(g)}})},s.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllColHeaderCells()},s.prototype.isInBrushRange=function(i){var u=this.getBrushRange(),g=u.start,C=u.end,x=this.spreadsheet.facet.getScrollOffset().scrollX,E=this.spreadsheet.facet.cornerBBox,O=i.x,R=O===void 0?0:O,k=i.y,z=k===void 0?0:k,j=i.width,q=j===void 0?0:j,ee=i.height,le=ee===void 0?0:ee;return this.rectanglesIntersect({minX:g.x-E.width+x,minY:g.y,maxX:C.x-E.width+x,maxY:C.y},{minX:R,maxX:R+q,minY:z,maxY:z+le})},s.prototype.updateSelectedCells=function(){var i=this.spreadsheet.interaction;i.changeState({cells:Me(this.brushRangeCells,py),stateName:bi.BRUSH_SELECTED,onUpdateCells:this.onUpdateCells}),this.spreadsheet.emit(Ar.COL_CELL_BRUSH_SELECTION,this.brushRangeCells),this.spreadsheet.emit(Ar.GLOBAL_SELECTED,this.brushRangeCells),zn(this.brushRangeCells)&&i.removeIntercepts([$i.HOVER])},s.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([$i.COL_BRUSH_SELECTION])},s}(fD),tF=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.displayedCells=[],i.brushRangeCells=[],i.getSelectedCellMetas=function(u){var g=[],C=i.spreadsheet.facet.layoutResult,x=C.rowLeafNodes,E=x===void 0?[]:x,O=C.colLeafNodes,R=O===void 0?[]:O,k=ix(u.start.rowIndex,u.end.rowIndex+1),z=ix(u.start.colIndex,u.end.colIndex+1);return k.forEach(function(j){z.forEach(function(q){var ee=String(R[q].id),le=zn(E)?String(j):String(E[j].id);g.push({colIndex:q,rowIndex:j,id:"".concat(le,"-").concat(ee),type:An.DATA_CELL,rowId:le,colId:ee,spreadsheet:i.spreadsheet})})}),g},i}return s.prototype.bindMouseDown=function(){var i=this;this.spreadsheet.on(Ar.DATA_CELL_MOUSE_DOWN,function(u){i.spreadsheet.interaction.getBrushSelection().data&&(l.prototype.mouseDown.call(i,u),i.resetScrollDelta())})},s.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_MOUSE_MOVE,function(u){if(i.brushSelectionStage!==Ds.UN_DRAGGED){i.setBrushSelectionStage(Ds.DRAGGED);var g=i.spreadsheet.container.getPointByEvent(u);i.autoBrushScroll(g)||i.renderPrepareSelected(g)}})},s.prototype.isInBrushRange=function(i){var u=this.getBrushRange(),g=u.start,C=u.end,x=i.rowIndex,E=i.colIndex;return x>=g.rowIndex&&x<=C.rowIndex&&E>=g.colIndex&&E<=C.colIndex},s.prototype.updateSelectedCells=function(){var i=this.getBrushRange(),u=this.getSelectedCellMetas(i);this.spreadsheet.interaction.changeState({cells:u,stateName:bi.SELECTED,onUpdateCells:XR});var g=this.getScrollBrushRangeCells(u);this.emitBrushSelectionEvent(Ar.DATA_CELL_BRUSH_SELECTION,g)},s.prototype.getScrollBrushRangeCells=function(i){var u=this;return i.map(function(g){var C=u.getVisibleBrushRangeCells(g.id);if(C)return C;var x=u.spreadsheet.facet.layoutResult.getCellMeta(g.rowIndex,g.colIndex),E=u.spreadsheet.isTableMode()?wA:vx;return new E(x,u.spreadsheet)})},s.prototype.bindMouseUp=function(){l.prototype.bindMouseUp.call(this,!0)},s.prototype.getPrepareSelectMaskPosition=function(i){var u=this.spreadsheet.facet.panelBBox,g=u.minX,C=u.minY,x=Math.max(i.start.x,g),E=Math.max(i.start.y,C);return{x,y:E}},s}(fD),rF=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.isInBrushRange=function(u){var g=i.getBrushRange(),C=g.start,x=g.end,E=i.spreadsheet.facet.getScrollOffset(),O=E.scrollY,R=E.rowHeaderScrollX,k=i.spreadsheet.facet.cornerBBox,z=u.x,j=z===void 0?0:z,q=u.y,ee=q===void 0?0:q,le=u.width,me=le===void 0?0:le,Oe=u.height,$e=Oe===void 0?0:Oe;return i.rectanglesIntersect({minX:C.x+R,minY:C.y-k.height+O,maxX:x.x+R,maxY:x.y-k.height+O},{minX:j,maxX:j+me,minY:ee,maxY:ee+$e})},i.onUpdateCells=function(u){return u.updateCells(u.getAllRowHeaderCells())},i.getSelectedRowNodes=function(){return i.spreadsheet.getRowNodes().filter(i.isInBrushRange)},i.getVisibleRowLeafCellByScrollDirection=function(u){var g=i.spreadsheet.interaction.getAllRowHeaderCells();return u===Lu.SCROLL_DOWN?lo(g):g.find(function(C){var x=C.getMeta();return x.isLeaf})},i.getWillScrollToRowIndex=function(u){var g,C;if(!ru(i.endBrushPoint.rowIndex))return i.getDefaultWillScrollToRowIndex(u);var x=i.getVisibleRowLeafCellByScrollDirection(u),E=(C=(g=x==null?void 0:x.getMeta())===null||g===void 0?void 0:g.rowIndex)!==null&&C!==void 0?C:0,O=E+i.getWillScrollRowIndexDiff(u);return i.validateYIndex(O)},i}return s.prototype.bindMouseDown=function(){var i=this;this.spreadsheet.on(Ar.ROW_CELL_MOUSE_DOWN,function(u){i.spreadsheet.interaction.getBrushSelection().row&&l.prototype.mouseDown.call(i,u)})},s.prototype.isPointInCanvas=function(i){var u=this.spreadsheet.facet.getCanvasHW().height,g=this.spreadsheet.facet.cornerBBox,C=g.minX,x=g.height,E=g.maxX;return i.x>=C&&i.x<=E&&i.y>=x&&i.y<=u},s.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_MOUSE_MOVE,function(u){if(i.brushSelectionStage!==Ds.UN_DRAGGED){i.setBrushSelectionStage(Ds.DRAGGED);var g=i.spreadsheet.container.getPointByEvent(u);i.autoBrushScroll(g,!0)||i.renderPrepareSelected(g)}})},s.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllRowHeaderCells()},s.prototype.updateSelectedCells=function(){var i=this.getSelectedRowNodes(),u=this.getScrollBrushRangeCells(i),g=Me(u,py);this.spreadsheet.interaction.changeState({cells:g,stateName:bi.BRUSH_SELECTED,onUpdateCells:this.onUpdateCells}),this.emitBrushSelectionEvent(Ar.ROW_CELL_BRUSH_SELECTION,u)},s.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([$i.ROW_BRUSH_SELECTION])},s.prototype.getScrollBrushRangeCells=function(i){var u=this;return i.map(function(g){var C=u.getVisibleBrushRangeCells(g.id);return C||new o6(g,u.spreadsheet)})},s.prototype.getPrepareSelectMaskPosition=function(i){var u=this.spreadsheet.facet.panelBBox.minY,g=i.start.x,C=Math.max(i.start.y,u);return{x:g,y:C}},s}(fD),nF=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.isMultiSelection=!1,i}return s.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},s.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([$i.CLICK])},s.prototype.bindKeyboardDown=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_KEYBOARD_DOWN,function(u){l6(u)&&(i.isMultiSelection=!0,i.spreadsheet.interaction.addIntercepts([$i.CLICK]))})},s.prototype.bindKeyboardUp=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_KEYBOARD_UP,function(u){l6(u)&&i.reset()})},s.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_MOUSE_MOVE,function(u){i.isMultiSelection&&!VP(u)&&i.reset()})},s.prototype.getSelectedCells=function(i){var u=i.getMeta().id,g=this.spreadsheet.interaction,C=g.getCells([An.DATA_CELL]),x=[];return g.getCurrentStateName()!==bi.SELECTED&&(C=[]),C.find(function(E){return E.id===u})?x=C.filter(function(E){return E.id!==u}):x=en(en([],Br(C),!1),[py(i)],!1),x},s.prototype.bindDataCellClick=function(){var i=this;this.spreadsheet.on(Ar.DATA_CELL_CLICK,function(u){u.stopPropagation();var g=i.spreadsheet.getCell(u.target),C=g.getMeta(),x=i.spreadsheet,E=x.interaction;if(x.options,i.isMultiSelection&&C){var O=i.getSelectedCells(g);if(zn(O)){E.clearState(),i.spreadsheet.hideTooltip();return}E.addIntercepts([$i.CLICK,$i.HOVER]),i.spreadsheet.hideTooltip(),E.changeState({cells:O,stateName:bi.SELECTED,onUpdateCells:XR}),i.spreadsheet.emit(Ar.GLOBAL_SELECTED,E.getActiveCells()),i.spreadsheet.showTooltipWithInfo(u,iD(i.spreadsheet))}})},s}(Cy),iF=function(){function l(s){var i=this;this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[],this.isCanvasEffect=!1,this.isGuiIconShape=function(u){return u instanceof Di&&u.attrs.type===lA.type},this.onCanvasMousedown=function(u){if(i.target=u.target,i.spreadsheet.interaction.clearHoverTimer(),i.isResizeArea(u)){i.spreadsheet.emit(Ar.LAYOUT_RESIZE_MOUSE_DOWN,u);var g=function(x){if(!i.spreadsheet.getCanvasElement())return!1;i.spreadsheet.getCanvasElement()!==x.target&&(u.clientX=x.clientX,u.clientY=x.clientY,u.originalEvent=x,i.spreadsheet.emit(Ar.LAYOUT_RESIZE_MOUSE_MOVE,u))};window.addEventListener("mousemove",g),window.addEventListener("mouseup",function(){window.removeEventListener("mousemove",g)},{once:!0});return}var C=i.spreadsheet.getCellType(u.target);switch(C){case An.DATA_CELL:i.spreadsheet.emit(Ar.DATA_CELL_MOUSE_DOWN,u);break;case An.ROW_CELL:i.spreadsheet.emit(Ar.ROW_CELL_MOUSE_DOWN,u);break;case An.COL_CELL:i.spreadsheet.emit(Ar.COL_CELL_MOUSE_DOWN,u);break;case An.CORNER_CELL:i.spreadsheet.emit(Ar.CORNER_CELL_MOUSE_DOWN,u);break;case An.MERGED_CELL:i.spreadsheet.emit(Ar.MERGED_CELLS_MOUSE_DOWN,u);break}},this.onCanvasMousemove=function(u){if(i.canvasMousemoveEvent=u,i.isResizeArea(u)){i.activeResizeArea(u),i.spreadsheet.emit(Ar.LAYOUT_RESIZE_MOUSE_MOVE,u);return}i.resetResizeArea();var g=i.spreadsheet.getCell(u.target);if(g){var C=g.cellType;switch(C){case An.DATA_CELL:i.spreadsheet.emit(Ar.DATA_CELL_MOUSE_MOVE,u);break;case An.ROW_CELL:i.spreadsheet.emit(Ar.ROW_CELL_MOUSE_MOVE,u);break;case An.COL_CELL:i.spreadsheet.emit(Ar.COL_CELL_MOUSE_MOVE,u);break;case An.CORNER_CELL:i.spreadsheet.emit(Ar.CORNER_CELL_MOUSE_MOVE,u);break;case An.MERGED_CELL:i.spreadsheet.emit(Ar.MERGED_CELLS_MOUSE_MOVE,u);break}if(!i.hasBrushSelectionIntercepts())switch(i.spreadsheet.emit(Ar.GLOBAL_HOVER,u),C){case An.DATA_CELL:i.spreadsheet.emit(Ar.DATA_CELL_HOVER,u);break;case An.ROW_CELL:i.spreadsheet.emit(Ar.ROW_CELL_HOVER,u);break;case An.COL_CELL:i.spreadsheet.emit(Ar.COL_CELL_HOVER,u);break;case An.CORNER_CELL:i.spreadsheet.emit(Ar.CORNER_CELL_HOVER,u);break;case An.MERGED_CELL:i.spreadsheet.emit(Ar.MERGED_CELLS_HOVER,u);break}}},this.onCanvasMouseup=function(u){if(i.isResizeArea(u)){i.spreadsheet.emit(Ar.LAYOUT_RESIZE_MOUSE_UP,u);return}var g=i.spreadsheet.getCell(u.target);if(g){var C=g.cellType;if(i.target===u.target){var x=i.isGuiIconShape(u.target);switch(C){case An.DATA_CELL:i.spreadsheet.emit(Ar.DATA_CELL_CLICK,u);break;case An.ROW_CELL:if(x)break;i.spreadsheet.emit(Ar.ROW_CELL_CLICK,u);break;case An.COL_CELL:if(x)break;i.spreadsheet.emit(Ar.COL_CELL_CLICK,u);break;case An.CORNER_CELL:if(x)break;i.spreadsheet.emit(Ar.CORNER_CELL_CLICK,u);break;case An.MERGED_CELL:i.spreadsheet.emit(Ar.MERGED_CELLS_CLICK,u);break}}switch(C){case An.DATA_CELL:i.spreadsheet.emit(Ar.DATA_CELL_MOUSE_UP,u);break;case An.ROW_CELL:i.spreadsheet.emit(Ar.ROW_CELL_MOUSE_UP,u);break;case An.COL_CELL:i.spreadsheet.emit(Ar.COL_CELL_MOUSE_UP,u);break;case An.CORNER_CELL:i.spreadsheet.emit(Ar.CORNER_CELL_MOUSE_UP,u);break;case An.MERGED_CELL:i.spreadsheet.emit(Ar.MERGED_CELLS_MOUSE_UP,u);break}}},this.onCanvasClick=function(u){i.spreadsheet.emit(Ar.GLOBAL_CLICK,u)},this.onCanvasDoubleClick=function(u){var g=i.spreadsheet;if(i.isResizeArea(u)){g.emit(Ar.LAYOUT_RESIZE_MOUSE_UP,u);return}g.emit(Ar.GLOBAL_DOUBLE_CLICK,u);var C=g.getCell(u.target);if(C){var x=C.cellType;if(i.target===u.target)switch(x){case An.DATA_CELL:g.emit(Ar.DATA_CELL_DOUBLE_CLICK,u);break;case An.ROW_CELL:g.emit(Ar.ROW_CELL_DOUBLE_CLICK,u);break;case An.COL_CELL:g.emit(Ar.COL_CELL_DOUBLE_CLICK,u);break;case An.CORNER_CELL:g.emit(Ar.CORNER_CELL_DOUBLE_CLICK,u);break;case An.MERGED_CELL:g.emit(Ar.MERGED_CELLS_DOUBLE_CLICK,u);break}}},this.onCanvasMouseout=function(u){if(!(!i.isAutoResetSheetStyle||u!=null&&u.shape)){var g=i.spreadsheet.interaction;!g.isSelectedState()&&!(g.intercepts.size>0)&&g.reset()}},this.onCanvasContextMenu=function(u){var g=i.spreadsheet;if(i.isResizeArea(u)){g.emit(Ar.LAYOUT_RESIZE_MOUSE_UP,u);return}g.emit(Ar.GLOBAL_CONTEXT_MENU,u);var C=i.spreadsheet.getCellType(u.target);switch(C){case An.DATA_CELL:i.spreadsheet.emit(Ar.DATA_CELL_CONTEXT_MENU,u);break;case An.ROW_CELL:i.spreadsheet.emit(Ar.ROW_CELL_CONTEXT_MENU,u);break;case An.COL_CELL:i.spreadsheet.emit(Ar.COL_CELL_CONTEXT_MENU,u);break;case An.CORNER_CELL:i.spreadsheet.emit(Ar.CORNER_CELL_CONTEXT_MENU,u);break;case An.MERGED_CELL:i.spreadsheet.emit(Ar.MERGED_CELLS_CONTEXT_MENU,u);break}},this.spreadsheet=s,this.bindEvents()}return Object.defineProperty(l.prototype,"canvasContainer",{get:function(){return this.spreadsheet.container},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isAutoResetSheetStyle",{get:function(){return this.spreadsheet.options.interaction.autoResetSheetStyle},enumerable:!1,configurable:!0}),l.prototype.bindEvents=function(){var s=this;this.clearAllEvents(),this.addCanvasEvent(ll.CLICK,this.onCanvasClick),this.addCanvasEvent(ll.MOUSE_DOWN,this.onCanvasMousedown),this.addCanvasEvent(ll.MOUSE_MOVE,this.onCanvasMousemove),this.addCanvasEvent(ll.MOUSE_OUT,this.onCanvasMouseout),this.addCanvasEvent(ll.MOUSE_UP,this.onCanvasMouseup),this.addCanvasEvent(ll.DOUBLE_CLICK,this.onCanvasDoubleClick),this.addCanvasEvent(ll.CONTEXT_MENU,this.onCanvasContextMenu),this.addS2Event(Ar.GLOBAL_ACTION_ICON_CLICK,function(){s.spreadsheet.interaction.addIntercepts([$i.HOVER]),s.spreadsheet.interaction.clearState()}),this.addDomEventListener(window,ll.CLICK,function(i){s.resetSheetStyle(i),s.isCanvasEffect=s.isMouseOnTheCanvasContainer(i)}),this.addDomEventListener(window,ll.KEY_DOWN,function(i){s.onKeyboardCopy(i),s.onKeyboardEsc(i),s.spreadsheet.emit(Ar.GLOBAL_KEYBOARD_DOWN,i)}),this.addDomEventListener(window,ll.KEY_UP,function(i){s.spreadsheet.emit(Ar.GLOBAL_KEYBOARD_UP,i)}),this.addDomEventListener(window,ll.MOUSE_UP,function(i){s.spreadsheet.emit(Ar.GLOBAL_MOUSE_UP,i)}),this.addDomEventListener(window,ll.MOUSE_MOVE,function(i){s.spreadsheet.emit(Ar.GLOBAL_MOUSE_MOVE,i)})},l.prototype.onKeyboardCopy=function(s){if(this.isCanvasEffect&&this.spreadsheet.options.interaction.enableCopy&&vP(s.key,Gl.COPY)&&(s.metaKey||s.ctrlKey)){var i=wP(this.spreadsheet);ru(i)||this.spreadsheet.emit(Ar.GLOBAL_COPIED,i)}},l.prototype.onKeyboardEsc=function(s){this.isCanvasEffect&&vP(s.key,Gl.ESC)&&this.resetSheetStyle(s)},l.prototype.resetSheetStyle=function(s){if(!(!this.isAutoResetSheetStyle||!this.spreadsheet)){var i=this.spreadsheet.interaction;if(i.hasIntercepts([$i.BRUSH_SELECTION,$i.COL_BRUSH_SELECTION,$i.ROW_BRUSH_SELECTION])){i.removeIntercepts([$i.BRUSH_SELECTION,$i.ROW_BRUSH_SELECTION,$i.COL_BRUSH_SELECTION]);return}this.isMouseOnTheTooltip(s)||this.isMouseOnTheCanvasContainer(s)||(this.spreadsheet.emit(Ar.GLOBAL_RESET,s),i.reset())}},l.prototype.isMouseEvent=function(s){return Ip(s,"clientX")&&Ip(s,"clientY")},l.prototype.isMouseOnTheCanvasContainer=function(s){if(this.isMouseEvent(s)){var i=this.spreadsheet.getCanvasElement();if(!i)return!1;var u=i.getBoundingClientRect()||{},g=u.x,C=u.y,x=this.getContainerRect(),E=x.width,O=x.height;return i.contains(s.target)&&s.clientX<=g+E&&s.clientY<=C+O}return!1},l.prototype.getContainerRect=function(){var s,i=this.spreadsheet,u=i.facet,g=i.options,C=u.hRowScrollBar||u.hScrollBar,x=(u==null?void 0:u.panelBBox)||{},E=x.maxX,O=x.maxY,R=g.width,k=g.height,z=((s=C==null?void 0:C.theme)===null||s===void 0?void 0:s.size)||0;return{width:Math.min(R,E),height:Math.min(k,O+z)}},l.prototype.isMouseOnTheTooltip=function(s){var i,u,g,C,x=this.spreadsheet.tooltip;if(!(x!=null&&x.visible))return!1;var E=((g=(u=(i=this.spreadsheet.tooltip)===null||i===void 0?void 0:i.container)===null||u===void 0?void 0:u.getBoundingClientRect)===null||g===void 0?void 0:g.call(u))||{},O=E.x,R=E.y,k=E.width,z=E.height;return s.target instanceof Node?Sk((C=this.spreadsheet.tooltip)===null||C===void 0?void 0:C.container,s.target):this.isMouseEvent(s)?s.clientX>=O&&s.clientX<=O+k&&s.clientY>=R&&s.clientY<=R+z:!1},l.prototype.isResizeArea=function(s){var i=Mi(s.target,"attrs.appendInfo");return i==null?void 0:i.isResizeArea},l.prototype.activeResizeArea=function(s){this.resetResizeArea();var i=s.target;this.spreadsheet.store.set("activeResizeArea",i),i.attr(Pl.backgroundOpacity,this.spreadsheet.theme.resizeArea.interactionState.hover.backgroundOpacity)},l.prototype.resetResizeArea=function(){var s=this.spreadsheet.store.get("activeResizeArea");zn(s)||s.attr(Pl.backgroundOpacity,this.spreadsheet.theme.resizeArea.backgroundOpacity),this.spreadsheet.store.set("activeResizeArea",s)},l.prototype.hasBrushSelectionIntercepts=function(){return this.spreadsheet.interaction.hasIntercepts([$i.HOVER,$i.BRUSH_SELECTION,$i.ROW_BRUSH_SELECTION,$i.COL_BRUSH_SELECTION])},l.prototype.clear=function(){this.unbindEvents()},l.prototype.unbindEvents=function(){this.clearAllEvents()},l.prototype.addCanvasEvent=function(s,i){var u;(u=this.canvasContainer)===null||u===void 0||u.on(s,i),this.canvasEventHandlers.push({type:s,handler:i})},l.prototype.addS2Event=function(s,i){this.spreadsheet.on(s,i),this.s2EventHandlers.push({type:s,handler:i})},l.prototype.addDomEventListener=function(s,i,u){if(s.addEventListener){var g=this.spreadsheet.options.interaction.eventListenerOptions;s.addEventListener(i,u,g),this.domEventListeners.push({target:s,type:i,handler:u,options:g})}else console.error("Please make sure ".concat(s," has addEventListener function"))},l.prototype.clearAllEvents=function(){var s=this;Xi(this.canvasEventHandlers,function(i){var u,g=i.type,C=i.handler;(u=s.canvasContainer)===null||u===void 0||u.off(g,C)}),Xi(this.s2EventHandlers,function(i){var u=i.type,g=i.handler;s.spreadsheet.off(u,g)}),Xi(this.domEventListeners,function(i){i.target.removeEventListener(i.type,i.handler,i.options)}),this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[]},l}(),aF=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.isRangeSelection=!1,i.handleColClick=function(u){u.stopPropagation();var g=i.spreadsheet.interaction,C=i.spreadsheet.getCell(u.target),x=C==null?void 0:C.getMeta();if(!ru(x==null?void 0:x.x)){g.addIntercepts([$i.HOVER]);var E=[py(C)],O=i.spreadsheet.store.get("lastClickedCell");if(i.isRangeSelection&&O&&O.cellType===C.cellType&&O.getMeta().level===C.getMeta().level){var R=Br([i.spreadsheet.facet.layoutResult.rowsHierarchy.maxLevel,i.spreadsheet.facet.layoutResult.colsHierarchy.maxLevel],2),k=R[0],z=R[1],j=VR(O.getMeta(),C.getMeta()),q=j.start,ee=j.end;C instanceof vx?E=i.handleSeriesNumberRowSelected(q.rowIndex,ee.rowIndex,C):C.cellType===An.ROW_CELL&&C.getMeta().level===k?E=i.handleRowSelected(q.rowIndex,ee.rowIndex,C):C.cellType===An.COL_CELL&&C.getMeta().level===z&&(E=i.handleColSelected(q.colIndex,ee.colIndex,C)),g.changeState({cells:E,stateName:bi.SELECTED})}else zn(g.getCells())&&g.removeIntercepts([$i.HOVER]),i.spreadsheet.store.set("lastClickedCell",C);var le=E.map(function(me){var Oe=me.id;return Oe});g.updateCells(g.getRowColActiveCells(le)),i.spreadsheet.emit(Ar.GLOBAL_SELECTED,g.getActiveCells())}},i}return s.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindColCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},s.prototype.reset=function(){this.isRangeSelection=!1,this.spreadsheet.interaction.removeIntercepts([$i.CLICK])},s.prototype.bindKeyboardDown=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_KEYBOARD_DOWN,function(u){u.key===Gl.SHIFT&&(i.isRangeSelection=!0,i.spreadsheet.interaction.addIntercepts([$i.CLICK]))})},s.prototype.bindKeyboardUp=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_KEYBOARD_UP,function(u){u.key===Gl.SHIFT&&i.reset()})},s.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_MOUSE_MOVE,function(u){i.isRangeSelection&&!u.shiftKey&&i.reset()})},s.prototype.bindColCellClick=function(){var i=this;this.spreadsheet.isTableMode()&&this.spreadsheet.on(Ar.ROW_CELL_CLICK,function(u){i.handleColClick(u)}),this.spreadsheet.on(Ar.COL_CELL_CLICK,function(u){i.handleColClick(u)})},s.prototype.bindDataCellClick=function(){var i=this;this.spreadsheet.on(Ar.DATA_CELL_CLICK,function(u){u.stopPropagation();var g=i.spreadsheet.getCell(u.target),C=g.getMeta(),x=i.spreadsheet.interaction;if(C){var E=i.spreadsheet.store.get("lastClickedCell"),O=i.isRangeSelection&&(E==null?void 0:E.cellType)===g.cellType;if(!O){i.spreadsheet.store.set("lastClickedCell",g);return}var R=VR(E.getMeta(),g.getMeta()),k=R.start,z=R.end,j=ix(k.colIndex,z.colIndex+1).flatMap(function(q){var ee=i.spreadsheet.facet.layoutResult.colLeafNodes[q].id;return ix(k.rowIndex,z.rowIndex+1).map(function(le){var me=i.spreadsheet.facet.getSeriesNumberWidth()||i.spreadsheet.isTableMode()?String(le):i.spreadsheet.facet.layoutResult.rowLeafNodes[le].id;return{id:me+"-"+ee,colIndex:q,rowIndex:le,type:g.cellType}})});x.addIntercepts([$i.CLICK,$i.HOVER]),x.changeState({cells:j,stateName:bi.SELECTED}),i.spreadsheet.showTooltipWithInfo(u,iD(i.spreadsheet)),i.spreadsheet.emit(Ar.GLOBAL_SELECTED,x.getActiveCells())}})},s.prototype.handleSeriesNumberRowSelected=function(i,u,g){var C=this.spreadsheet.facet.layoutResult.colLeafNodes[0].id;return ix(i,u+1).map(function(x){var E=String(x);return{id:E+"-"+C,colIndex:0,rowIndex:x,type:g.cellType}})},s.prototype.handleRowSelected=function(i,u,g){return this.spreadsheet.facet.layoutResult.rowNodes.filter(function(C){var x=C.rowIndex;return Bp(x,i,u+1)}).map(function(C){return{id:C.id,colIndex:C.colIndex,rowIndex:C.rowIndex,type:g.cellType}})},s.prototype.handleColSelected=function(i,u,g){return this.spreadsheet.facet.layoutResult.colLeafNodes.filter(function(C){var x=C.colIndex;return Bp(x,i,u+1)}).map(function(C){return{id:C.id,colIndex:C.colIndex,rowIndex:C.rowIndex,type:g.cellType}})},s}(Cy),oF=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.resizeStartPosition={},i.resizeMouseMove=function(u){var g,C;if(!((g=i.resizeReferenceGroup)===null||g===void 0)&&g.get("visible")){(C=u==null?void 0:u.preventDefault)===null||C===void 0||C.call(u);var x=u.originalEvent,E=i.getResizeInfo(),O=i.resizeReferenceGroup.getChildren()||[];if(!zn(O)){var R=Br(O,2),k=R[1],z=Br(wd(k.attr("path")),2),j=z[0],q=z[1];E.type===yc.Horizontal?i.updateHorizontalResizingEndGuideLinePosition(x,E,j,q):i.updateVerticalResizingEndGuideLinePosition(x,E,j,q),i.updateResizeGuideLineTheme(k),k.attr("path",[j,q])}}},i}return s.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},s.prototype.initResizeGroup=function(){if(!this.resizeReferenceGroup){this.resizeReferenceGroup=this.spreadsheet.foregroundGroup.addGroup();var i=this.spreadsheet.options,u=i.width,g=i.height,C=this.getResizeAreaTheme(),x=C.guideLineColor,E=C.guideLineDash,O=C.size,R={path:"",lineDash:E,stroke:x,lineWidth:O};this.resizeReferenceGroup.addShape("path",{id:Jv,attrs:R}),this.resizeReferenceGroup.addShape("path",{id:td,attrs:R}),this.resizeReferenceGroup.addShape("rect",{id:Hx,attrs:{appendInfo:{isResizeArea:!0},x:0,y:0,width:u,height:g,fill:"transparent"}})}},s.prototype.getResizeAreaTheme=function(){return this.spreadsheet.theme.resizeArea},s.prototype.setResizeTarget=function(i){this.resizeTarget=i},s.prototype.getGuideLineWidthAndHeight=function(){var i=this.spreadsheet.options,u=i.width,g=i.height,C=this.spreadsheet.facet.panelBBox,x=C.maxY,E=C.maxX,O=Math.min(E,u),R=Math.min(x,g);return{width:O,height:R}},s.prototype.getResizeShapes=function(){var i;return((i=this.resizeReferenceGroup)===null||i===void 0?void 0:i.get("children"))||[]},s.prototype.setResizeMaskCursor=function(i){var u=Br(this.getResizeShapes(),3),g=u[2];g==null||g.attr("cursor",i)},s.prototype.updateResizeGuideLinePosition=function(i,u){var g=this.getResizeShapes();if(!zn(g)){var C=Br(g,2),x=C[0],E=C[1],O=u.type,R=u.offsetX,k=u.offsetY,z=u.width,j=u.height,q=this.getGuideLineWidthAndHeight(),ee=q.width,le=q.height;if(this.setResizeMaskCursor("".concat(O,"-resize")),O===yc.Horizontal){x.attr("path",[["M",R,k],["L",R,le]]),E.attr("path",[["M",R+z,k],["L",R+z,le]]),this.resizeStartPosition.offsetX=i.offsetX,this.resizeStartPosition.clientX=i.clientX;return}x.attr("path",[["M",R,k],["L",ee,k]]),E.attr("path",[["M",R,k+j],["L",ee,k+j]]),this.resizeStartPosition.offsetY=i.offsetY,this.resizeStartPosition.clientY=i.clientY}},s.prototype.bindMouseDown=function(){var i=this;this.spreadsheet.on(Ar.LAYOUT_RESIZE_MOUSE_DOWN,function(u){var g=u.target,C=u.originalEvent,x=i.getCellAppendInfo(u.target);i.spreadsheet.store.set("resized",!1),x!=null&&x.isResizeArea&&(i.spreadsheet.interaction.reset(),i.spreadsheet.interaction.addIntercepts([$i.RESIZE]),i.setResizeTarget(g),i.showResizeGroup(),i.updateResizeGuideLinePosition(C,x))})},s.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(Ar.LAYOUT_RESIZE_MOUSE_MOVE,function(u){UI(i.resizeMouseMove,33)(u)})},s.prototype.getResizeGuideLinePosition=function(){var i=Br(this.resizeReferenceGroup.getChildren()||[],2),u=i[0],g=i[1],C=(u==null?void 0:u.attr("path"))||[],x=(g==null?void 0:g.attr("path"))||[],E=Br(C[0]||[],3),O=E[1],R=O===void 0?0:O,k=E[2],z=k===void 0?0:k,j=Br(x[0]||[],3),q=j[1],ee=q===void 0?0:q,le=j[2],me=le===void 0?0:le;return{start:{x:R,y:z},end:{x:ee,y:me}}},s.prototype.getDisAllowResizeInfo=function(){var i,u=this.getResizeInfo(),g=this.spreadsheet.options.interaction.resize,C=u.width,x=u.height,E=u.resizedWidth,O=u.resizedHeight,R=(i=g==null?void 0:g.disable)===null||i===void 0?void 0:i.call(g,u),k=R?C:E,z=R?x:O;return{displayWidth:k,displayHeight:z,isDisabled:R}},s.prototype.getResizeWidthDetail=function(){var i,u,g=this.getResizeInfo(),C=this.getDisAllowResizeInfo().displayWidth;switch(g.effect){case fu.Field:return{eventType:Ar.LAYOUT_RESIZE_ROW_WIDTH,style:{rowCfg:{widthByField:(i={},i[g.id]=C,i)}}};case fu.Tree:return{eventType:Ar.LAYOUT_RESIZE_TREE_WIDTH,style:{treeRowsWidth:C,rowCfg:{treeRowsWidth:C}}};case fu.Cell:return{eventType:Ar.LAYOUT_RESIZE_COL_WIDTH,style:{colCfg:{widthByFieldValue:(u={},u[g.id]=C,u)}}};case fu.Series:return{eventType:Ar.LAYOUT_RESIZE_SERIES_WIDTH,seriesNumberWidth:C};default:return null}},s.prototype.getResizeHeightDetail=function(){var i,u,g=this.spreadsheet.options,C=g.interaction.resize,x=g.style.rowCfg.heightByField,E=this.spreadsheet.theme.rowCell.cell.padding,O=this.getResizeInfo(),R=this.getDisAllowResizeInfo().displayHeight,k=R-E.top-E.bottom,z;switch(O.effect){case fu.Field:return{eventType:Ar.LAYOUT_RESIZE_COL_HEIGHT,style:{colCfg:{heightByField:(i={},i[O.id]=R,i)}}};case fu.Cell:return x!=null&&x[String(O.id)]||(C==null?void 0:C.rowResizeType)===ep.CURRENT?z={rowCfg:{heightByField:(u={},u[O.id]=k,u)}}:z={cellCfg:{height:k}},{eventType:Ar.LAYOUT_RESIZE_ROW_HEIGHT,style:z};default:return null}},s.prototype.getResizeDetail=function(){var i=this.getResizeInfo();return i.type===yc.Horizontal?this.getResizeWidthDetail():this.getResizeHeightDetail()},s.prototype.showResizeGroup=function(){this.initResizeGroup(),this.resizeReferenceGroup.set("visible",!0)},s.prototype.hideResizeGroup=function(){this.resizeReferenceGroup.set("visible",!1)},s.prototype.bindMouseUp=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_MOUSE_UP,function(){var u;i.setResizeMaskCursor("default"),!(!i.resizeReferenceGroup||zn((u=i.resizeReferenceGroup)===null||u===void 0?void 0:u.getChildren()))&&(i.hideResizeGroup(),i.renderResizedResult())})},s.prototype.updateResizeGuideLineTheme=function(i){var u=this.getResizeAreaTheme(),g=u.guideLineColor,C=u.guideLineDisableColor,x=this.getDisAllowResizeInfo().isDisabled;i.attr("stroke",x?C:g),this.setResizeMaskCursor(x?"no-drop":"default")},s.prototype.updateHorizontalResizingEndGuideLinePosition=function(i,u,g,C){var x=i.clientX-this.resizeStartPosition.clientX;u.width+x<ob&&(x=-(u.width-ob));var E=u.offsetX+u.width+x;g[1]=E,C[1]=E,this.resizeTarget.attr({x:E-u.size/2})},s.prototype.updateVerticalResizingEndGuideLinePosition=function(i,u,g,C){var x=i.clientY-this.resizeStartPosition.clientY;u.height+x<lb&&(x=-(u.height-lb));var E=u.offsetY+u.height+x;g[2]=E,C[2]=E,this.resizeTarget.attr({y:E-u.size/2})},s.prototype.renderResizedResult=function(){var i=this.getResizeInfo(),u=this.getResizeDetail()||{},g=u.style,C=u.seriesNumberWidth,x=u.eventType,E={info:i,style:g};this.spreadsheet.emit(Ar.LAYOUT_RESIZE,E),this.spreadsheet.emit(x,E),g&&this.spreadsheet.setOptions({style:g}),C&&this.spreadsheet.setTheme({rowCell:{seriesNumberWidth:C}}),this.spreadsheet.store.set("resized",!0),this.render()},s.prototype.getResizeInfo=function(){var i=this.getCellAppendInfo(this.resizeTarget),u=this.getResizeGuideLinePosition(),g=u.start,C=u.end,x=Math.floor(C.x-g.x),E=Math.floor(C.y-g.y);return ur(ur({},i),{resizedWidth:x,resizedHeight:E})},s.prototype.render=function(){this.resizeStartPosition={},this.resizeTarget=null,this.resizeReferenceGroup=null,this.spreadsheet.render(!1)},s}(Cy),lF=[Gl.ARROW_LEFT,Gl.ARROW_RIGHT,Gl.ARROW_UP,Gl.ARROW_DOWN],R5=function(l){Ni(s,l);function s(i){return l.call(this,i)||this}return s.prototype.isCanvasEffect=function(){return this.spreadsheet.interaction.eventController.isCanvasEffect},s.prototype.bindEvents=function(){var i=this;this.spreadsheet.on(Ar.GLOBAL_KEYBOARD_DOWN,function(u){if(i.isCanvasEffect()){var g=u.shiftKey,C=u.metaKey,x=lF.includes(u.key),E=!1,O=!1,R=!1;x&&(C&&g?(E=!1,O=!0,R=!1):C?(E=!0,O=!0,R=!0):g?(E=!1,O=!1,R=!1):(E=!0,O=!1,R=!0),i.handleMove({event:u,changeStartCell:E,isJumpMode:O,isSingleSelection:R}))}}),this.spreadsheet.on(Ar.DATA_CELL_CLICK,function(u){var g=i.spreadsheet.getCell(u.target).getMeta();g&&(i.startCell=i.getCellMetaFromViewMeta(g),i.endCell=i.startCell)})},s.prototype.getCellMetaFromViewMeta=function(i){return{rowIndex:i.rowIndex,colIndex:i.colIndex,id:i.id,type:An.DATA_CELL}},s.prototype.handleMove=function(i){var u=i.event,g=i.changeStartCell,C=i.isJumpMode,x=i.isSingleSelection,E=this,O=E.spreadsheet,R=E.startCell,k=E.endCell,z=g?R:k,j=this.getMoveInfo(u.key,z,C);if(j){var q=Br([j.row,j.col],2),ee=q[0],le=q[1];this.scrollToActiveCell(O,ee,le);var me=this.generateCellMeta(O,ee,le),Oe=x?[me]:this.getRangeCells(O,R,me);oB(O,Oe),g&&(this.startCell=me),this.endCell=me,this.spreadsheet.emit(Ar.DATA_CELL_SELECT_MOVE,Oe)}},s.prototype.generateCellMeta=function(i,u,g){var C=i.isTableMode,x=i.facet.layoutResult,E=x.colLeafNodes,O=x.rowLeafNodes,R=C()?String(u):O[u].id,k=E[g].id;return{rowIndex:u,colIndex:g,id:mA(R,k),type:An.DATA_CELL}},s.prototype.getRangeCells=function(i,u,g){for(var C=VR(u,g),x=C.start,E=x.rowIndex,O=x.colIndex,R=C.end,k=R.rowIndex,z=R.colIndex,j=[],q=E;q<=k;q++)for(var ee=O;ee<=z;ee++)j.push(this.generateCellMeta(i,q,ee));return j},s.prototype.getMoveInfo=function(i,u,g){var C=this.spreadsheet,x=C.options,E=x.frozenColCount,O=E===void 0?0:E,R=x.frozenRowCount,k=R===void 0?0:R,z=x.frozenTrailingColCount,j=z===void 0?0:z,q=x.frozenTrailingRowCount,ee=q===void 0?0:q,le=C.facet.layoutResult,me=le.rowLeafNodes,Oe=le.colLeafNodes,$e=Br([0+O,Oe.length-j-1],2),Ye=$e[0],Ze=$e[1],Ut=Br([0+k,(C.isTableMode()?C.dataSet.getDisplayDataSet().length:me.length)-ee-1],2),gr=Ut[0],br=Ut[1];if(u)switch(i){case Gl.ARROW_RIGHT:return u.colIndex+1>Ze?void 0:{row:u.rowIndex,col:g?Ze:u.colIndex+1};case Gl.ARROW_LEFT:return u.colIndex-1<Ye?void 0:{row:u.rowIndex,col:g?Ye:u.colIndex-1};case Gl.ARROW_UP:return u.rowIndex-1<gr?void 0:{row:g?gr:u.rowIndex-1,col:u.colIndex};case Gl.ARROW_DOWN:return u.rowIndex+1>br?void 0:{row:g?br:u.rowIndex+1,col:u.colIndex}}},s.prototype.calculateOffset=function(i,u,g){var C=i.options,x=C.frozenRowCount,E=x===void 0?0:x,O=C.frozenTrailingRowCount,R=O===void 0?0:O,k=i.facet,z=i.frozenColGroup,j=i.frozenTrailingColGroup,q=i.frozenRowGroup,ee=i.frozenTrailingRowGroup,le=k.layoutResult.colLeafNodes,me=k.getScrollOffset(),Oe=me.scrollX,$e=me.scrollY,Ye=k.panelBBox,Ze=Ye.viewportHeight,Ut=Ye.viewportWidth,gr=Mi(i,"theme.splitLine"),br=z?Math.floor(z.getBBox().width-gr.verticalBorderWidth/2):0,Zr=j?Math.floor(j.getBBox().width):0,gn=q?Math.floor(q.getBBox().height-gr.horizontalBorderWidth/2):0,Kn=ee?Math.floor(ee.getBBox().height):0,In=_R(Oe,$e,k.viewCellWidths,k.viewCellHeights,{width:Ut-br-Zr,height:Ze-gn-Kn,x:br,y:gn},k.getRealScrollX(k.cornerBBox.width)),Xn=-1,gi=-1,Pi=le.find(function(Jn){return Jn.colIndex===g});if(g<=In[0]?Xn=Pi.x-br:g>=In[1]&&g<le.length-R&&(Xn=Pi.x+Pi.width-Ut+Zr),u<=In[2])gi=k.viewCellHeights.getCellOffsetY(u-E);else if(u>=In[3]){var Dn=k.viewCellHeights.getCellOffsetY(u+1);gi=Dn+Kn-Ze}return{offsetX:Xn,offsetY:gi}},s.prototype.scrollToActiveCell=function(i,u,g){var C=this.calculateOffset(i,u,g),x=C.offsetX,E=C.offsetY,O=i.facet,R=i.facet.getScrollOffset(),k=R.scrollX,z=R.scrollY;O.scrollWithAnimation({offsetX:{value:x>-1?x:k},offsetY:{value:E>-1?E:z}})},s}(Cy),sF=function(){function l(s){var i=this;this.interactions=new Map,this.intercepts=new Set,this.hoverTimer=null,this.defaultState={cells:[],force:!1},this.onTriggerInteractionsResetEffect=function(){i.interactions.forEach(function(u){u.reset()})},this.selectAll=function(){i.changeState({stateName:bi.ALL_SELECTED})},this.getCellChildrenNodes=function(u){var g,C=(g=u==null?void 0:u.getMeta)===null||g===void 0?void 0:g.call(u),x=(u==null?void 0:u.cellType)===An.ROW_CELL,E=i.spreadsheet.isHierarchyTreeType();return E&&x?Pc.getAllLeaveNodes(C).filter(function(O){return O.rowIndex===C.rowIndex}):Pc.getAllChildrenNodes(C)},this.selectHeaderCell=function(u){var g;u===void 0&&(u={});var C=u.cell;if(!zn(C)){var x=(g=C==null?void 0:C.getMeta)===null||g===void 0?void 0:g.call(C);if(!(!x||ru(x==null?void 0:x.x))){i.addIntercepts([$i.HOVER]);var E=i.spreadsheet.isHierarchyTreeType(),O=(C==null?void 0:C.cellType)===An.COL_CELL,R=i.getState(),k=i.isSelectedCell(C),z=(u==null?void 0:u.isMultiSelection)&&i.isSelectedState(),j=k?[]:i.getCellChildrenNodes(C),q=k?[]:[py(C)];if(z&&(q=Sh(R==null?void 0:R.cells,q),j=Sh(R==null?void 0:R.nodes,j),k&&(q=q.filter(function(me){var Oe=me.id;return Oe!==x.id}),j=j.filter(function(me){return!(me!=null&&me.id.includes(x.id))}))),zn(q)){i.reset(),i.spreadsheet.emit(Ar.GLOBAL_SELECTED,i.getActiveCells());return}var ee=j.filter(function(me){return me==null?void 0:me.isLeaf});i.changeState({cells:q,nodes:ee,stateName:bi.SELECTED});var le=q.map(function(me){var Oe=me.id;return Oe});return i.updateCells(i.getRowColActiveCells(le)),(!E||O)&&i.highlightNodes(j),i.spreadsheet.emit(Ar.GLOBAL_SELECTED,i.getActiveCells()),!0}}},this.highlightNodes=function(u){u===void 0&&(u=[]),u.forEach(function(g){var C;(C=g==null?void 0:g.belongsCell)===null||C===void 0||C.updateByState(bi.SELECTED,g.belongsCell)})},this.mergeCells=function(u,g){_4(i.spreadsheet,u,g)},this.unmergeCell=function(u){M4(i.spreadsheet,u)},this.spreadsheet=s,this.registerEventController(),this.registerInteractions(),window.addEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)}return l.prototype.destroy=function(){this.interactions.clear(),this.intercepts.clear(),this.eventController.clear(),this.clearHoverTimer(),this.resetState(),window.removeEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)},l.prototype.reset=function(){this.clearState(),this.clearHoverTimer(),this.intercepts.clear(),this.spreadsheet.hideTooltip()},l.prototype.setState=function(s){fB(this.spreadsheet,s)},l.prototype.getState=function(){return this.spreadsheet.store.get(W0)||this.defaultState},l.prototype.setInteractedCells=function(s){var i=this.getInteractedCells().concat([s]),u=this.getState();u.interactedCells=i,this.setState(u)},l.prototype.getInteractedCells=function(){var s=this.getState();return(s==null?void 0:s.interactedCells)||[]},l.prototype.resetState=function(){this.spreadsheet.store.set(W0,this.defaultState)},l.prototype.getCurrentStateName=function(){return this.getState().stateName},l.prototype.isEqualStateName=function(s){return this.getCurrentStateName()===s},l.prototype.isStateOf=function(s){var i=this.getState();return(i==null?void 0:i.stateName)===s},l.prototype.isSelectedState=function(){return this.isStateOf(bi.SELECTED)||this.isStateOf(bi.BRUSH_SELECTED)},l.prototype.isAllSelectedState=function(){return this.isStateOf(bi.ALL_SELECTED)},l.prototype.isHoverFocusState=function(){return this.isStateOf(bi.HOVER_FOCUS)},l.prototype.isHoverState=function(){return this.isStateOf(bi.HOVER)},l.prototype.isActiveCell=function(s){return!!this.getCells().find(function(i){return s.getMeta().id===i.id})},l.prototype.isSelectedCell=function(s){return this.isSelectedState()&&this.isActiveCell(s)},l.prototype.getCells=function(s){var i=this.getState(),u=(i==null?void 0:i.cells)||[];return ru(s)?u:u.filter(function(g){return s.includes(g.type)})},l.prototype.getActiveCells=function(){var s=this.getCells().map(function(u){return u.id}),i=this.getAllCells();return Me(s,function(u){return y(i,function(g){var C;return((C=g==null?void 0:g.getMeta())===null||C===void 0?void 0:C.id)===u})}).filter(function(u){return u})},l.prototype.clearStyleIndependent=function(){!this.isSelectedState()&&!this.isHoverState()&&!this.isAllSelectedState()||this.getPanelGroupAllDataCells().forEach(function(s){s.hideInteractionShape()})},l.prototype.getPanelGroupAllUnSelectedDataCells=function(){var s=this;return this.getPanelGroupAllDataCells().filter(function(i){return!s.isActiveCell(i)})},l.prototype.getPanelGroupAllDataCells=function(){var s;return SA((s=this.spreadsheet.panelGroup)===null||s===void 0?void 0:s.getChildren(),vx)},l.prototype.getAllRowHeaderCells=function(){var s,i,u=((s=this.spreadsheet.foregroundGroup)===null||s===void 0?void 0:s.getChildren())||[],g=u.find(function(x){return x instanceof E5}),C=((i=g==null?void 0:g.cfg)===null||i===void 0?void 0:i.children)||[];return SA(C,o6).filter(function(x){return x.cellType===An.ROW_CELL})},l.prototype.getAllColHeaderCells=function(){var s,i,u=((s=this.spreadsheet.foregroundGroup)===null||s===void 0?void 0:s.getChildren())||[],g=u.find(function(x){return x instanceof uD}),C=((i=g==null?void 0:g.cfg)===null||i===void 0?void 0:i.children)||[];return SA(C,bA).filter(function(x){return x.cellType===An.COL_CELL})},l.prototype.getRowColActiveCells=function(s){return Sh(this.getAllRowHeaderCells(),this.getAllColHeaderCells()).filter(function(i){return s.includes(i.getMeta().id)})},l.prototype.getAllCells=function(){return Sh(this.getPanelGroupAllDataCells(),this.getAllRowHeaderCells(),this.getAllColHeaderCells())},l.prototype.hideColumns=function(s,i){s===void 0&&(s=[]),i===void 0&&(i=!0),HR(this.spreadsheet,s,i)},l.prototype.getBrushSelectionInfo=function(s){var i,u,g;return xv(s)?{dataBrushSelection:s,rowBrushSelection:s,colBrushSelection:s}:{dataBrushSelection:(i=s==null?void 0:s.data)!==null&&i!==void 0?i:!1,rowBrushSelection:(u=s==null?void 0:s.row)!==null&&u!==void 0?u:!1,colBrushSelection:(g=s==null?void 0:s.col)!==null&&g!==void 0?g:!1}},l.prototype.getDefaultInteractions=function(){var s=this.spreadsheet.options.interaction,i=s.resize,u=s.brushSelection,g=s.multiSelection,C=s.rangeSelection,x=s.selectedCellMove,E=this.getBrushSelectionInfo(u),O=E.dataBrushSelection,R=E.rowBrushSelection,k=E.colBrushSelection;return[{key:Wl.CORNER_CELL_CLICK,interaction:Qk},{key:Wl.DATA_CELL_CLICK,interaction:Xk},{key:Wl.ROW_COLUMN_CLICK,interaction:Kk},{key:Wl.ROW_TEXT_CLICK,interaction:qk},{key:Wl.MERGED_CELLS_CLICK,interaction:Zk},{key:Wl.HOVER,interaction:Jk,enable:!ic()},{key:Wl.BRUSH_SELECTION,interaction:tF,enable:!ic()&&O},{key:Wl.ROW_BRUSH_SELECTION,interaction:rF,enable:!ic()&&R},{key:Wl.COL_BRUSH_SELECTION,interaction:eF,enable:!ic()&&k},{key:Wl.COL_ROW_RESIZE,interaction:oF,enable:!ic()&&i},{key:Wl.DATA_CELL_MULTI_SELECTION,interaction:nF,enable:!ic()&&g},{key:Wl.RANGE_SELECTION,interaction:aF,enable:!ic()&&C},{key:Wl.SELECTED_CELL_MOVE,interaction:R5,enable:!ic()&&x}]},l.prototype.registerInteractions=function(){var s=this,i=this.spreadsheet.options.interaction.customInteractions;this.interactions.clear();var u=this.getDefaultInteractions();u.forEach(function(g){var C=g.key,x=g.interaction,E=g.enable;E!==!1&&s.interactions.set(C,new x(s.spreadsheet))}),zn(i)||Xi(i,function(g){var C=g.interaction;s.interactions.set(g.key,new C(s.spreadsheet))})},l.prototype.registerEventController=function(){this.eventController=new iF(this.spreadsheet)},l.prototype.draw=function(){this.spreadsheet.container.draw()},l.prototype.clearState=function(){XP(this.spreadsheet)&&this.draw()},l.prototype.changeState=function(s){var i=this,u=this.spreadsheet.interaction,g=s.cells,C=g===void 0?[]:g,x=s.force,E=s.stateName,O=s.onUpdateCells;if(zn(C)&&E===bi.SELECTED){x&&u.changeState({cells:[],stateName:bi.UNSELECTED});return}this.getCurrentStateName()===bi.ALL_SELECTED&&this.clearStyleIndependent(),this.clearState(),this.setState(s);var R=function(){i.updatePanelGroupAllDataCells()};O?O(this,R):R(),this.draw()},l.prototype.updatePanelGroupAllDataCells=function(){this.updateCells(this.getPanelGroupAllDataCells())},l.prototype.updateCells=function(s){s===void 0&&(s=[]),s.forEach(function(i){i.update()})},l.prototype.addIntercepts=function(s){var i=this;s===void 0&&(s=[]),s.forEach(function(u){i.intercepts.add(u)})},l.prototype.hasIntercepts=function(s){var i=this;return s===void 0&&(s=[]),s.some(function(u){return i.intercepts.has(u)})},l.prototype.removeIntercepts=function(s){var i=this;s===void 0&&(s=[]),s.forEach(function(u){i.intercepts.delete(u)})},l.prototype.clearHoverTimer=function(){clearTimeout(this.hoverTimer)},l.prototype.setHoverTimer=function(s){this.hoverTimer=s},l.prototype.getHoverTimer=function(){return this.hoverTimer},l.prototype.getSelectedCellHighlight=function(){var s=this.spreadsheet.options.interaction.selectedCellHighlight;if(xv(s))return{rowHeader:s,colHeader:s,currentRow:!1,currentCol:!1};var i=s!=null?s:{},u=i.rowHeader,g=u===void 0?!1:u,C=i.colHeader,x=C===void 0?!1:C,E=i.currentRow,O=E===void 0?!1:E,R=i.currentCol,k=R===void 0?!1:R;return{rowHeader:g,colHeader:x,currentRow:O,currentCol:k}},l.prototype.getHoverAfterScroll=function(){return this.spreadsheet.options.interaction.hoverAfterScroll},l.prototype.getHoverHighlight=function(){var s=this.spreadsheet.options.interaction.hoverHighlight;if(xv(s))return{rowHeader:s,colHeader:s,currentRow:s,currentCol:s};var i=s!=null?s:{},u=i.rowHeader,g=u===void 0?!1:u,C=i.colHeader,x=C===void 0?!1:C,E=i.currentRow,O=E===void 0?!1:E,R=i.currentCol,k=R===void 0?!1:R;return{rowHeader:g,colHeader:x,currentRow:O,currentCol:k}},l.prototype.getBrushSelection=function(){var s=this.spreadsheet.options.interaction.brushSelection;if(xv(s))return{data:s,row:s,col:s};var i=s!=null?s:{},u=i.data,g=u===void 0?!1:u,C=i.row,x=C===void 0?!1:C,E=i.col,O=E===void 0?!1:E;return{data:g,row:x,col:O}},l}(),uF=function(){function l(s){var i=this;this.viewport=window,this.isDevicePixelRatioChange=!1,this.init=function(){i.initDevicePixelRatioListener(),i.initDeviceZoomListener()},this.destroy=function(){i.removeDevicePixelRatioListener(),i.removeDeviceZoomListener()},this.removeDevicePixelRatioListener=function(){var u;!((u=i.devicePixelRatioMedia)===null||u===void 0)&&u.removeEventListener?i.devicePixelRatioMedia.removeEventListener("change",i.renderByDevicePixelRatioChanged):i.devicePixelRatioMedia.removeListener(i.renderByDevicePixelRatioChanged)},this.initDeviceZoomListener=function(){var u,g;ic()||(g=(u=i.viewport)===null||u===void 0?void 0:u.visualViewport)===null||g===void 0||g.addEventListener("resize",i.renderByZoomScaleWithoutResizeEffect)},this.removeDeviceZoomListener=function(){var u,g;ic()||(g=(u=i.viewport)===null||u===void 0?void 0:u.visualViewport)===null||g===void 0||g.removeEventListener("resize",i.renderByZoomScaleWithoutResizeEffect)},this.renderByZoomScaleWithoutResizeEffect=function(u){i.isDevicePixelRatioChange=!1,i.renderByZoomScale(u)},this.renderByDevicePixelRatioChanged=function(){i.isDevicePixelRatioChange=!0,i.renderByDevicePixelRatio()},this.renderByDevicePixelRatio=function(u){u===void 0&&(u=window.devicePixelRatio);var g=i.spreadsheet,C=g.container,x=g.options,E=x.width,O=x.height,R=x.devicePixelRatio,k=i.spreadsheet.getCanvasElement(),z=C.get("pixelRatio");if(!(z===u||!k)){var j=Math.max(u,R,tp);C.set("pixelRatio",j),C.changeSize(E,O),i.spreadsheet.render(!1)}},this.renderByZoomScale=Ia(function(u){var g=Math.ceil(u.target.scale);g>=1&&!i.isDevicePixelRatioChange&&i.renderByDevicePixelRatio(g)},350),this.spreadsheet=s}return l.prototype.initDevicePixelRatioListener=function(){var s;this.devicePixelRatioMedia=window.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")),!((s=this.devicePixelRatioMedia)===null||s===void 0)&&s.addEventListener?this.devicePixelRatioMedia.addEventListener("change",this.renderByDevicePixelRatioChanged):this.devicePixelRatioMedia.addListener(this.renderByDevicePixelRatioChanged)},l}(),hD=function(){function l(s){this.visible=!1,this.position={x:0,y:0},this.spreadsheet=s}return l.prototype.show=function(s){var i,u,g,C=s.position,x=s.options,E=s.content,O=s.event,R=d5(x).enterable,k=this.spreadsheet.options.tooltip||{},z=k.autoAdjustBoundary,j=k.adjustPosition;this.visible=!0,this.options=s;var q=this.getContainer();this.renderContent(E);var ee=fk({spreadsheet:this.spreadsheet,position:C,tooltipContainer:q,autoAdjustBoundary:z}),le=ee.x,me=ee.y;this.position=(i=j==null?void 0:j({position:{x:le,y:me},event:O}))!==null&&i!==void 0?i:{x:le,y:me},g6(q,{style:{left:"".concat((u=this.position)===null||u===void 0?void 0:u.x,"px"),top:"".concat((g=this.position)===null||g===void 0?void 0:g.y,"px"),pointerEvents:R?"all":"none"},visible:!0})},l.prototype.hide=function(){this.visible=!1,this.container&&(g6(this.container,{style:{pointerEvents:"none"},visible:!1}),this.resetPosition())},l.prototype.destroy=function(){var s,i;this.visible=!1,this.container&&(this.resetPosition(),(i=(s=this.container).remove)===null||i===void 0||i.call(s),this.container=null)},l.prototype.renderContent=function(s){if(this.container){this.clearContent();var i=(this.spreadsheet.options.tooltip||{}).content,u=s!=null?s:i;if(!ru(u)){if(typeof u=="string"){this.container.innerHTML=u;return}u instanceof Element&&this.container.appendChild(u)}}},l.prototype.clearContent=function(){this.container&&(this.container.innerHTML="")},l.prototype.disablePointerEvent=function(){this.container&&this.container.style.pointerEvents!=="none"&&g6(this.container,{style:{pointerEvents:"none"}})},l.prototype.resetPosition=function(){this.position={x:0,y:0}},l.prototype.getContainer=function(){var s;if(!this.container){var i=this.spreadsheet.options.tooltip,u=((s=i.getContainer)===null||s===void 0?void 0:s.call(i))||document.body,g=document.createElement("div");return g6(g,{style:i.style,className:[BT].concat(i.className)}),u.appendChild(g),this.container=g,this.container}return this.container},l}(),D5=function(l){Ni(s,l);function s(i,u,g){var C=l.call(this)||this;return C.store=new W5,C.untypedOn=C.on,C.untypedEmit=C.emit,C.on=function(x,E){return C.untypedOn(x,E)},C.emit=function(x){for(var E=[],O=1;O<arguments.length;O++)E[O-1]=arguments[O];return C.untypedEmit.apply(C,en([x],Br(E),!1))},C.initHiddenColumnsDetail=function(){var x=C.options.interaction.hiddenColumnFields,E=C.store.get("hiddenColumnsDetail");zn(x)&&zn(E)||HR(C,x,!0)},C.measureText=fv(function(x,E){var O;if(x===void 0&&(x=""),!E)return null;var R=(O=C.getCanvasElement())===null||O===void 0?void 0:O.getContext("2d"),k=E,z=k.fontSize,j=k.fontFamily,q=k.fontWeight,ee=k.fontStyle,le=k.fontVariant;return R.font=[ee,le,q,"".concat(z,"px"),j].join(" ").trim(),R.measureText(String(x))},function(x,E){return en([x],Br(sy(E)),!1).join("")}),C.measureTextWidth=function(x,E){x===void 0&&(x="");var O=C.measureText(x,E);return(O==null?void 0:O.width)||0},C.measureTextHeight=function(x,E){x===void 0&&(x="");var O=C.measureText(x,E);return O?O.actualBoundingBoxAscent+O.actualBoundingBoxDescent:0},C.measureTextWidthRoughly=function(x,E){var O,R;E===void 0&&(E={});var k=C.measureTextWidth("a",E),z=C.measureTextWidth("\u8682",E),j=0;if(!x)return j;try{for(var q=Ls(x),ee=q.next();!ee.done;ee=q.next()){var le=ee.value,me=le.charCodeAt(0);j+=me>=0&&me<=255?k:z}}catch(Oe){O={error:Oe}}finally{try{ee&&!ee.done&&(R=q.return)&&R.call(q)}finally{if(O)throw O.error}}return j},C.dataCfg=s6(u),C.options=ZP(g),C.dataSet=C.getDataSet(C.options),C.setDebug(),C.initTooltip(),C.initGroups(i),C.bindEvents(),C.initInteraction(),C.initTheme(),C.initHdAdapter(),C.registerIcons(),C.setOverscrollBehavior(),C}return s.prototype.setOverscrollBehavior=function(){var i=this.options.interaction.overscrollBehavior,u=window.getComputedStyle(document.body).getPropertyValue("overscroll-behavior"),g=u&&u!=="auto";g?this.store.set("initOverscrollBehavior",u):i&&(document.body.style.overscrollBehavior=i)},s.prototype.restoreOverscrollBehavior=function(){document.body.style.overscrollBehavior=this.store.get("initOverscrollBehavior")||""},s.prototype.setDebug=function(){u0.getInstance().setDebug(this.options.debug)},s.prototype.initTheme=function(){this.setThemeCfg({name:"default"})},s.prototype.getMountContainer=function(i){var u=lf(i)?document.querySelector(i):i;if(!u)throw new Error("Target mount container is not a DOM element");return u},s.prototype.initHdAdapter=function(){this.options.hdAdapter&&(this.hdAdapter=new uF(this),this.hdAdapter.init())},s.prototype.initInteraction=function(){var i,u;(u=(i=this.interaction)===null||i===void 0?void 0:i.destroy)===null||u===void 0||u.call(i),this.interaction=new sF(this)},s.prototype.initTooltip=function(){var i,u,g,C;(u=(i=this.tooltip)===null||i===void 0?void 0:i.destroy)===null||u===void 0||u.call(i),this.tooltip=this.renderTooltip(),this.tooltip instanceof hD||console.warn("[Custom Tooltip]: ".concat((C=(g=this.tooltip)===null||g===void 0?void 0:g.constructor)===null||C===void 0?void 0:C.toString()," should be extends from BaseTooltip"))},s.prototype.renderTooltip=function(){var i,u;return((u=(i=this.options.tooltip)===null||i===void 0?void 0:i.renderTooltip)===null||u===void 0?void 0:u.call(i,this))||new hD(this)},s.prototype.showTooltip=function(i){var u,g,C=i.content,x=i.event,E=this.getCell(x==null?void 0:x.target),O=kl(C)?C(E,i):C;(g=(u=this.tooltip).show)===null||g===void 0||g.call(u,ur(ur({},i),{content:O}))},s.prototype.showTooltipWithInfo=function(i,u,g){var C,x=y6(this,i),E=x.showTooltip,O=x.content;if(E){var R=this.getCell(i==null?void 0:i.target),k=(C=g==null?void 0:g.data)!==null&&C!==void 0?C:bk({spreadsheet:this,cellInfos:u,targetCell:R,options:ur({enableFormat:!0},g)});this.showTooltip({data:k,position:{x:i.clientX,y:i.clientY},options:ur({enterable:!0},g),event:i,content:O})}},s.prototype.hideTooltip=function(){var i,u;(u=(i=this.tooltip).hide)===null||u===void 0||u.call(i)},s.prototype.destroyTooltip=function(){var i,u;(u=(i=this.tooltip).destroy)===null||u===void 0||u.call(i)},s.prototype.registerIcons=function(){var i=this.options.customSVGIcons;zn(i)||Xi(i,function(u){xR(u.name,u.svg)})},s.prototype.setDataCfg=function(i,u){this.store.set("originalDataCfg",i),u?this.dataCfg=s6(i):this.dataCfg=s6(this.dataCfg,i),Ek(this)},s.prototype.setOptions=function(i,u){var g;this.hideTooltip(),u?this.options=ZP(i):this.options=k1(this.options,i),(u||!((g=i.tooltip)===null||g===void 0)&&g.renderTooltip)&&this.initTooltip(),this.registerIcons()},s.prototype.render=function(i,u){if(i===void 0&&(i=!0),u===void 0&&(u={}),!!this.getCanvasElement()){var g=u.reBuildDataSet,C=g===void 0?!1:g,x=u.reBuildHiddenColumnsDetail,E=x===void 0?!0:x;this.emit(Ar.LAYOUT_BEFORE_RENDER),C&&(this.dataSet=this.getDataSet(this.options)),i&&(this.clearDrillDownData("",!0),this.dataSet.setDataCfg(this.dataCfg)),this.buildFacet(),E&&this.initHiddenColumnsDetail(),this.emit(Ar.LAYOUT_AFTER_RENDER)}},s.prototype.destroy=function(){var i,u,g,C,x;this.restoreOverscrollBehavior(),this.emit(Ar.LAYOUT_DESTROY),(i=this.facet)===null||i===void 0||i.destroy(),(u=this.hdAdapter)===null||u===void 0||u.destroy(),(g=this.interaction)===null||g===void 0||g.destroy(),(C=this.store)===null||C===void 0||C.clear(),this.destroyTooltip(),this.clearCanvasEvent(),(x=this.container)===null||x===void 0||x.destroy(),i8()},s.prototype.setThemeCfg=function(i){i===void 0&&(i={});var u=(i==null?void 0:i.theme)||{},g=SM(ur(ur({},i),{spreadsheet:this}));this.theme=k1(g,u)},s.prototype.setTheme=function(i){this.theme=k1(this.theme,i)},s.prototype.updatePagination=function(i){this.options=k1(this.options,{pagination:i}),this.store.set("scrollX",0),this.store.set("scrollY",0)},s.prototype.getContentHeight=function(){return this.facet.getContentHeight()},s.prototype.changeSize=function(i,u){i===void 0&&(i=this.options.width),u===void 0&&(u=this.options.height),this.changeSheetSize(i,u)},s.prototype.changeSheetSize=function(i,u){i===void 0&&(i=this.options.width),u===void 0&&(u=this.options.height);var g=this.getCanvasElement(),C=this.container.get("width"),x=this.container.get("height"),E=i!==C||u!==x;!E||!g||(this.options=k1(this.options,{width:i,height:u}),this.container.changeSize(i,u))},s.prototype.getCanvasElement=function(){return this.container.get("el")},s.prototype.getLayoutWidthType=function(){return this.options.style.layoutWidthType},s.prototype.getRowNodes=function(i){return i===void 0&&(i=-1),i===-1?this.facet.layoutResult.rowNodes:this.facet.layoutResult.rowNodes.filter(function(u){return u.level===i})},s.prototype.getRowLeafNodes=function(){var i;return((i=this.facet)===null||i===void 0?void 0:i.layoutResult.rowLeafNodes)||[]},s.prototype.getColumnNodes=function(i){var u;i===void 0&&(i=-1);var g=((u=this.facet)===null||u===void 0?void 0:u.layoutResult.colNodes)||[];return i===-1?g:g.filter(function(C){return C.level===i})},s.prototype.getColumnLeafNodes=function(){var i;return((i=this.facet)===null||i===void 0?void 0:i.layoutResult.colLeafNodes)||[]},s.prototype.updateScrollOffset=function(i){var u={offsetX:{value:void 0,animate:!1},offsetY:{value:void 0,animate:!1},rowHeaderOffsetX:{value:void 0,animate:!1}};this.facet.updateScrollOffset(k1(u,i))},s.prototype.getTooltipDataItemMappingCallback=function(){var i;return(i=this.options)===null||i===void 0?void 0:i.mappingDisplayDataItem},s.prototype.getCell=function(i){for(var u,g=i;g&&!(g instanceof hg);){if(g instanceof kR)return g;g=(u=g.get)===null||u===void 0?void 0:u.call(g,"parent")}return null},s.prototype.getCellType=function(i){var u=this.getCell(i);return u==null?void 0:u.cellType},s.prototype.getTotalsConfig=function(i){var u=this.options.totals,g=this.dataSet.fields.rows,C=Mi(u,Mh(g,i)?"row":"col",{}),x=C.showSubTotals&&Mh(C.subTotalsDimensions,i)?C.showSubTotals:!1;return ur(ur({label:rs("\u603B\u8BA1"),subLabel:rs("\u5C0F\u8BA1"),totalsGroupDimensions:[],subTotalsGroupDimensions:[]},C),{showSubTotals:x})},s.prototype.initGroups=function(i){var u=this.options,g=u.width,C=u.height,x=u.supportCSSTransform,E=u.devicePixelRatio;this.container=new hg({container:this.getMountContainer(i),width:g,height:C,localRefresh:!1,supportCSSTransform:x,pixelRatio:Math.max(E,tp)}),this.backgroundGroup=this.container.addGroup({name:rb,zIndex:Zd}),this.panelGroup=this.container.addGroup({name:Kv,zIndex:dg}),this.foregroundGroup=this.container.addGroup({name:o_,zIndex:eb}),this.initPanelGroupChildren(),this.updateContainerStyle()},s.prototype.updateContainerStyle=function(){var i=this.getCanvasElement();i&&(i.style.display="block")},s.prototype.initPanelGroupChildren=function(){this.panelScrollGroup=new Vk({name:qd,zIndex:Dx,s2:this}),this.panelGroup.add(this.panelScrollGroup)},s.prototype.getInitColumnLeafNodes=function(){return this.store.get("initColumnLeafNodes",[])},s.prototype.clearColumnLeafNodes=function(){this.store.set("initColumnLeafNodes",void 0)},s.prototype.clearCanvasEvent=function(){var i=this,u=this.getEvents();w1(u,function(g,C){i.off(C)})},s.prototype.updateSortMethodMap=function(i,u,g){var C;g===void 0&&(g=!1);var x=g?null:this.store.get("sortMethodMap");this.store.set("sortMethodMap",ur(ur({},x),(C={},C[i]=u,C)))},s.prototype.getMenuDefaultSelectedKeys=function(i){var u=this.store.get("sortMethodMap"),g=Mi(u,i);return g?[g]:[]},s}(ei),cF=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.getDataSet=function(i){var u=i.dataSet,g=i.hierarchyType;if(u)return u(this);var C=g==="customTree"?new y5(this):new aD(this);return C},s.prototype.getContentHeight=function(){return this.facet.getContentHeight()},s.prototype.isPivotMode=function(){return!0},s.prototype.isTableMode=function(){return!1},s.prototype.isHierarchyTreeType=function(){var i=this.options.hierarchyType;return i==="tree"||i==="customTree"},s.prototype.isScrollContainsRowHeader=function(){return!this.isFrozenRowHeader()},s.prototype.isFrozenRowHeader=function(){var i;return(i=this.options)===null||i===void 0?void 0:i.frozenRowHeader},s.prototype.isValueInCols=function(){return this.dataSet.fields.valueInCols},s.prototype.clearDrillDownData=function(i,u){this.dataSet instanceof aD&&(this.dataSet.clearDrillDownData(i),u||(this.interaction.reset(),this.render(!1)))},s.prototype.getFacetCfgFromDataSetAndOptions=function(){var i=this,u=this.dataSet,g=u.fields,C=u.meta,x=this.options,E=x.style,O=x.dataCell,R=function(k){return new vx(k,i)};return ur(ur(ur(ur({},this.options),g),E),{meta:C,spreadsheet:this,dataSet:this.dataSet,dataCell:O!=null?O:R})},s.prototype.buildFacet=function(){var i,u=this.getFacetCfgFromDataSetAndOptions();(i=this.facet)===null||i===void 0||i.destroy(),this.facet=new $k(u),this.facet.render()},s.prototype.bindEvents=function(){this.off(Ar.ROW_CELL_COLLAPSE_TREE_ROWS),this.off(Ar.LAYOUT_TREE_ROWS_COLLAPSE_ALL),this.on(Ar.ROW_CELL_COLLAPSE_TREE_ROWS,this.handleRowCellCollapseTreeRows),this.on(Ar.LAYOUT_TREE_ROWS_COLLAPSE_ALL,this.handleTreeRowsCollapseAll)},s.prototype.handleRowCellCollapseTreeRows=function(i){var u,g=i.id,C=i.isCollapsed,x={style:{collapsedRows:(u={},u[g]=C,u)}};this.emit(Ar.LAYOUT_COLLAPSE_ROWS,{collapsedRows:x.style.collapsedRows,meta:i==null?void 0:i.node}),this.setOptions(x),this.render(!1),this.emit(Ar.LAYOUT_AFTER_COLLAPSE_ROWS,{collapsedRows:x.style.collapsedRows,meta:i==null?void 0:i.node})},s.prototype.handleTreeRowsCollapseAll=function(i){var u={style:{hierarchyCollapse:!i,collapsedRows:null,rowExpandDepth:null}};this.setOptions(u),this.render(!1)},s.prototype.groupSortByMethod=function(i,u){var g=this.dataCfg.fields,C=g.rows,x=g.columns,E=this.options.style.colCfg.hideMeasureColumn,O=this.isValueInCols()?lo(C):lo(x),R=u.query,k=u.value,z=wd(R),j=k;E&&this.isValueInCols()&&(j=this.dataSet.fields.values[0],z[ra]=j);var q={sortFieldId:O,sortMethod:i,sortByMeasure:j,query:z},ee=this.dataCfg.sortParams.filter(function(me){return(me==null?void 0:me.sortFieldId)!==O});this.updateSortMethodMap(u.id,i,!0);var le=en(en([],Br(ee),!1),[q],!1);this.emit(Ar.RANGE_SORT,le),this.setDataCfg(ur(ur({},this.dataCfg),{sortParams:le})),this.render()},s.prototype.handleGroupSort=function(i,u){var g=this;i.stopPropagation(),this.interaction.addIntercepts([$i.HOVER]);var C=this.getMenuDefaultSelectedKeys(u==null?void 0:u.id),x={onClick:function(E){var O=E.key,R=O;g.groupSortByMethod(R,u),g.emit(Ar.RANGE_SORTED,i)},menus:jI(),defaultSelectedKeys:C};this.showTooltipWithInfo(i,[],{operator:x,onlyMenu:!0,forceRender:!0})},s}(D5),fF=function(l){Ni(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s}(I5),hF=function(l){Ni(s,l);function s(){var i=l!==null&&l.apply(this,arguments)||this;return i.onSortTooltipClick=function(u,g){var C=u.key,x=g.field,E={sortFieldId:x,sortMethod:C};i.updateSortMethodMap(g.id,C),i.emit(Ar.RANGE_SORT,[E])},i}return s.prototype.getDataSet=function(i){var u=i.dataSet;return u?u(this):new Ok(this)},s.prototype.isPivotMode=function(){return!1},s.prototype.isTableMode=function(){return!0},s.prototype.isHierarchyTreeType=function(){return!1},s.prototype.isScrollContainsRowHeader=function(){return!1},s.prototype.isFrozenRowHeader=function(){return!1},s.prototype.clearDrillDownData=function(){},s.prototype.isValueInCols=function(){return!1},s.prototype.bindEvents=function(){},s.prototype.initPanelGroupChildren=function(){var i,u=this;l.prototype.initPanelGroupChildren.call(this);var g={zIndex:Lx,s2:this};i=Br([Bx,Sf,nb,kx,Fx,vg].map(function(C){var x=new fF(ur({name:C},g));return u.panelGroup.add(x),x}),6),this.frozenRowGroup=i[0],this.frozenColGroup=i[1],this.frozenTrailingRowGroup=i[2],this.frozenTrailingColGroup=i[3],this.frozenTopGroup=i[4],this.frozenBottomGroup=i[5]},s.prototype.getFacetCfgFromDataSetAndOptions=function(){var i=this,u=this.dataSet,g=u.fields,C=u.meta,x=this.options,E=x.style,O=x.dataCell,R=function(k){return i.options.showSeriesNumber&&k.colIndex===0?new jR(k,i):new wA(k,i)};return ur(ur(ur(ur({},this.options),g),E),{meta:C,spreadsheet:this,dataSet:this.dataSet,dataCell:O!=null?O:R})},s.prototype.buildFacet=function(){var i,u=this.getFacetCfgFromDataSetAndOptions();(i=this.facet)===null||i===void 0||i.destroy(),this.facet=new jk(u),this.facet.render()},s.prototype.clearFrozenGroups=function(){this.frozenRowGroup.set("children",[]),this.frozenColGroup.set("children",[]),this.frozenTrailingRowGroup.set("children",[]),this.frozenTrailingColGroup.set("children",[]),this.frozenTopGroup.set("children",[]),this.frozenBottomGroup.set("children",[])},s.prototype.destroy=function(){l.prototype.destroy.call(this),this.clearFrozenGroups(),this.off(Ar.RANGE_SORT),this.off(Ar.RANGE_FILTER)},s.prototype.handleGroupSort=function(i,u){var g=this;i.stopPropagation(),this.interaction.addIntercepts([$i.HOVER]);var C=this.getMenuDefaultSelectedKeys(u==null?void 0:u.id),x={onClick:function(E){var O=E.key,R=O;g.onSortTooltipClick({key:R},u)},menus:qO(),defaultSelectedKeys:C};this.showTooltipWithInfo(i,[],{operator:x,onlyMenu:!0,forceRender:!0})},s}(D5)},47165:function(ai,Sn,tt){"use strict";tt.d(Sn,{Ct:function(){return jf},f0:function(){return Gi},uZ:function(){return kn},VS:function(){return hi},d9:function(){return di},FX:function(){return oe},Ds:function(){return jn},b$:function(){return il},e5:function(){return Ft},S6:function(){return lr},yW:function(){return Ee},hX:function(){return re},sE:function(){return mn},cx:function(){return Fr},Wx:function(){return Wn},ri:function(){return ei},xH:function(){return Et},U5:function(){return ff},U2:function(){return Do},Lo:function(){return Pv},rx:function(){return be},ru:function(){return rr},vM:function(){return Ht},Ms:function(){return Yt},wH:function(){return ea},YM:function(){return cn},q9:function(){return oe},cq:function(){return os},kJ:function(){return Pt},jn:function(){return vl},J_:function(){return Eo},kK:function(){return Hn},xb:function(){return Tu},Xy:function(){return lu},mf:function(){return Mt},BD:function(){return er},UM:function(){return D},Ft:function(){return Id},hj:function(){return yi},vQ:function(){return oa},Kn:function(){return lt},PO:function(){return vr},HD:function(){return dr},P9:function(){return kt},o8:function(){return Pn},XP:function(){return xt},Z$:function(){return Kr},vl:function(){return St},UI:function(){return $r},Q8:function(){return Ri},Fp:function(){return yn},UT:function(){return Es},HP:function(){return Bi},VV:function(){return Vt},F:function(){return Gs},CD:function(){return Gi},wQ:function(){return ql},ZT:function(){return Rd},CE:function(){return ol},ei:function(){return yo},u4:function(){return ir},Od:function(){return sr},U7:function(){return ci},t8:function(){return Ei},dp:function(){return Lv},G:function(){return Re},MR:function(){return an},ng:function(){return yt},P2:function(){return Il},qo:function(){return Rl},c$:function(){return Ph},BB:function(){return lc},jj:function(){return fn},EL:function(){return js},jC:function(){return _r},VO:function(){return Ql},I:function(){return qn}});var Ve=function(Le){return Le!==null&&typeof Le!="function"&&isFinite(Le.length)},ye=Ve,ut=function(Le,It){return ye(Le)?Le.indexOf(It)>-1:!1},oe=ut,cr=function(Le,It){if(!ye(Le))return Le;for(var Xt=[],nr=0;nr<Le.length;nr++){var Lr=Le[nr];It(Lr,nr)&&Xt.push(Lr)}return Xt},re=cr,ie=function(Le,It){return It===void 0&&(It=[]),re(Le,function(Xt){return!oe(It,Xt)})},Ft=ie,Dt={}.toString,or=function(Le,It){return Dt.call(Le)==="[object "+It+"]"},kt=or,Mt=function(Le){return kt(Le,"Function")},U=function(Le){return Le==null},D=U,Pt=function(Le){return Array.isArray?Array.isArray(Le):kt(Le,"Array")},lt=function(Le){var It=typeof Le;return Le!==null&&It==="object"||It==="function"};function Gt(Le,It){if(Le){var Xt;if(Pt(Le))for(var nr=0,Lr=Le.length;nr<Lr&&(Xt=It(Le[nr],nr),Xt!==!1);nr++);else if(lt(Le)){for(var Tn in Le)if(Le.hasOwnProperty(Tn)&&(Xt=It(Le[Tn],Tn),Xt===!1))break}}}var lr=Gt,tr=Object.keys?function(Le){return Object.keys(Le)}:function(Le){var It=[];return lr(Le,function(Xt,nr){Mt(Le)&&nr==="prototype"||It.push(nr)}),It},xt=tr;function gt(Le,It){var Xt=xt(It),nr=Xt.length;if(D(Le))return!nr;for(var Lr=0;Lr<nr;Lr+=1){var Tn=Xt[Lr];if(It[Tn]!==Le[Tn]||!(Tn in Le))return!1}return!0}var er=gt,Lt=function(Le){return typeof Le=="object"&&Le!==null},Nt=Lt,Tr=function(Le){if(!Nt(Le)||!kt(Le,"Object"))return!1;if(Object.getPrototypeOf(Le)===null)return!0;for(var It=Le;Object.getPrototypeOf(It)!==null;)It=Object.getPrototypeOf(It);return Object.getPrototypeOf(Le)===It},vr=Tr;function Yr(Le,It){if(!Pt(Le))return null;var Xt;if(Mt(It)&&(Xt=It),vr(It)&&(Xt=function(Lr){return er(Lr,It)}),Xt){for(var nr=0;nr<Le.length;nr+=1)if(Xt(Le[nr]))return Le[nr]}return null}var mn=Yr;function Mn(Le,It,Xt){Xt===void 0&&(Xt=0);for(var nr=Xt;nr<Le.length;nr++)if(It(Le[nr],nr))return nr;return-1}var Fr=Mn,Rn=function(Le,It){for(var Xt=null,nr=0;nr<Le.length;nr++){var Lr=Le[nr],Tn=Lr[It];if(!D(Tn)){Pt(Tn)?Xt=Tn[0]:Xt=Tn;break}}return Xt},Wn=Rn,Ge=function(Le){if(!Pt(Le))return[];for(var It=[],Xt=0;Xt<Le.length;Xt++)It=It.concat(Le[Xt]);return It},Et=Ge,Rr=function(Le,It){if(It===void 0&&(It=[]),!isArray(Le))It.push(Le);else for(var Xt=0;Xt<Le.length;Xt+=1)Rr(Le[Xt],It);return It},un=null,yn=function(Le){if(Pt(Le))return Le.reduce(function(It,Xt){return Math.max(It,Xt)},Le[0])},Vt=function(Le){if(Pt(Le))return Le.reduce(function(It,Xt){return Math.min(It,Xt)},Le[0])},Ce=function(Le){var It=Le.filter(function(Ci){return!isNaN(Ci)});if(!It.length)return{min:0,max:0};if(Pt(Le[0])){for(var Xt=[],nr=0;nr<Le.length;nr++)Xt=Xt.concat(Le[nr]);It=Xt}var Lr=yn(It),Tn=Vt(It);return{min:Tn,max:Lr}},be=Ce,Ae=Array.prototype,_e=Ae.splice,ze=Ae.indexOf,Bt=function(Le){for(var It=[],Xt=1;Xt<arguments.length;Xt++)It[Xt-1]=arguments[Xt];for(var nr=0;nr<It.length;nr++)for(var Lr=It[nr],Tn=-1;(Tn=ze.call(Le,Lr))>-1;)_e.call(Le,Tn,1);return Le},at=null,wt=Array.prototype.splice,fe=function(It,Xt){if(!ye(It))return[];for(var nr=It?Xt.length:0,Lr=nr-1;nr--;){var Tn=void 0,Ci=Xt[nr];(nr===Lr||Ci!==Tn)&&(Tn=Ci,wt.call(It,Ci,1))}return It},st=fe,Tt=function(Le,It,Xt){if(!Pt(Le)&&!vr(Le))return Le;var nr=Xt;return lr(Le,function(Lr,Tn){nr=It(nr,Lr,Tn)}),nr},ir=Tt,bt=function(Le,It){var Xt=[];if(!ye(Le))return Xt;for(var nr=-1,Lr=[],Tn=Le.length;++nr<Tn;){var Ci=Le[nr];It(Ci,nr,Le)&&(Xt.push(Ci),Lr.push(nr))}return st(Le,Lr),Xt},sr=bt,dr=function(Le){return kt(Le,"String")};function Pr(Le,It){var Xt;if(Mt(It))Xt=function(Lr,Tn){return It(Lr)-It(Tn)};else{var nr=[];dr(It)?nr.push(It):Pt(It)&&(nr=It),Xt=function(Lr,Tn){for(var Ci=0;Ci<nr.length;Ci+=1){var Ea=nr[Ci];if(Lr[Ea]>Tn[Ea])return 1;if(Lr[Ea]<Tn[Ea])return-1}return 0}}return Le.sort(Xt),Le}var an=Pr;function fn(Le,It){It===void 0&&(It=new Map);var Xt=[];if(Array.isArray(Le))for(var nr=0,Lr=Le.length;nr<Lr;nr++){var Tn=Le[nr];It.has(Tn)||(Xt.push(Tn),It.set(Tn,!0))}return Xt}var qn=function(Le,It){for(var Xt=[],nr={},Lr=0;Lr<Le.length;Lr++){var Tn=Le[Lr],Ci=Tn[It];if(!D(Ci)){Pt(Ci)||(Ci=[Ci]);for(var Ea=0;Ea<Ci.length;Ea++){var Jo=Ci[Ea];nr[Jo]||(Xt.push(Jo),nr[Jo]=!0)}}}return Xt};function cn(Le){if(ye(Le))return Le[0]}function Kr(Le){if(ye(Le)){var It=Le;return It[It.length-1]}}function rt(Le,It){return isArray(Le)||isString(Le)?Le[0]===It:!1}var de=null;function ve(Le,It){return isArray(Le)||isString(Le)?Le[Le.length-1]===It:!1}var ce=null,xe=function(Le,It){for(var Xt=0;Xt<Le.length;Xt++)if(!It(Le[Xt],Xt))return!1;return!0},Ee=xe,Be=function(Le,It){for(var Xt=0;Xt<Le.length;Xt++)if(It(Le[Xt],Xt))return!0;return!1},Re=Be,ct=Object.prototype.hasOwnProperty;function ht(Le,It){if(!It||!Pt(Le))return{};for(var Xt={},nr=Mt(It)?It:function(Ea){return Ea[It]},Lr,Tn=0;Tn<Le.length;Tn++){var Ci=Le[Tn];Lr=nr(Ci),ct.call(Xt,Lr)?Xt[Lr].push(Ci):Xt[Lr]=[Ci]}return Xt}var Ht=ht;function Yt(Le,It){if(!It)return{0:Le};if(!Mt(It)){var Xt=Pt(It)?It:It.replace(/\s+/g,"").split("*");It=function(nr){for(var Lr="_",Tn=0,Ci=Xt.length;Tn<Ci;Tn++)Lr+=nr[Xt[Tn]]&&nr[Xt[Tn]].toString();return Lr}}return Ht(Le,It)}var rr=function(Le,It){if(!It)return[Le];var Xt=Yt(Le,It),nr=[];for(var Lr in Xt)nr.push(Xt[Lr]);return nr},hr={};function Hr(Le){var It=hr[Le];if(!It){for(var Xt=Le.toString(16),nr=Xt.length;nr<6;nr++)Xt="0"+Xt;It="#"+Xt,hr[Le]=It}return It}var Zt=null;function qr(Le){var It=0,Xt=0,nr=0,Lr=0;return isArray(Le)?Le.length===1?It=Xt=nr=Lr=Le[0]:Le.length===2?(It=nr=Le[0],Xt=Lr=Le[1]):Le.length===3?(It=Le[0],Xt=Lr=Le[1],nr=Le[2]):(It=Le[0],Xt=Le[1],nr=Le[2],Lr=Le[3]):It=Xt=nr=Lr=Le,{r1:It,r2:Xt,r3:nr,r4:Lr}}var Qr=null,dn=function(Le,It,Xt){return Le<It?It:Le>Xt?Xt:Le},kn=dn,wr=function(Le,It){var Xt=It.toString(),nr=Xt.indexOf(".");if(nr===-1)return Math.round(Le);var Lr=Xt.substr(nr+1).length;return Lr>20&&(Lr=20),parseFloat(Le.toFixed(Lr))},ei=wr,Ln=function(Le){return kt(Le,"Number")},yi=Ln,fa=function(Le){return isNumber(Le)&&Le%1!==0},_i=null,Ja=function(Le){return isNumber(Le)&&Le%2===0},Gr=null,oi=Number.isInteger?Number.isInteger:function(Le){return yi(Le)&&Le%1===0},is=null,qa=function(Le){return isNumber(Le)&&Le<0},_a=null,Ti=1e-5;function oa(Le,It,Xt){return Xt===void 0&&(Xt=Ti),Math.abs(Le-It)<Xt}var zi=function(Le){return isNumber(Le)&&Le%2!==0},dl=null,go=function(Le){return isNumber(Le)&&Le>0},Ol=null,Es=function(Le,It){if(Pt(Le)){for(var Xt,nr=-1/0,Lr=0;Lr<Le.length;Lr++){var Tn=Le[Lr],Ci=Mt(It)?It(Tn):Tn[It];Ci>nr&&(Xt=Tn,nr=Ci)}return Xt}},Gs=function(Le,It){if(Pt(Le)){for(var Xt,nr=1/0,Lr=0;Lr<Le.length;Lr++){var Tn=Le[Lr],Ci=Mt(It)?It(Tn):Tn[It];Ci<nr&&(Xt=Tn,nr=Ci)}return Xt}},iu=function(Le,It){return(Le%It+It)%It},ql=iu,$f=180/Math.PI,ju=function(Le){return $f*Le},au=null,Ms=Math.PI/180,Ts=function(Le){return Ms*Le},Ph=Ts,ff=lr,wa=function(Le,It){return Le.hasOwnProperty(It)},ea=wa,$s=Object.values?function(Le){return Object.values(Le)}:function(Le){var It=[];return lr(Le,function(Xt,nr){Mt(Le)&&nr==="prototype"||It.push(Xt)}),It},Ql=$s,Al=function(Le,It){return contains(values(Le),It)},lc=function(Le){return D(Le)?"":Le.toString()},Uf=function(Le){return lc(Le).toLowerCase()},St=Uf;function Pe(Le,It){return!Le||!It?Le:Le.replace(/\\?\{([^{}]+)\}/g,function(Xt,nr){return Xt.charAt(0)==="\\"?Xt.slice(1):It[nr]===void 0?"":It[nr]})}var yt=Pe,qt=function(Le){var It=lc(Le);return It.charAt(0).toUpperCase()+It.substring(1)},_r=qt,rn={}.toString,xn=function(Le){return rn.call(Le).replace(/^\[object /,"").replace(/]$/,"")},vn=xn,Ii=function(Le){return isType(Le,"Arguments")},Fa=null,_o=function(Le){return kt(Le,"Boolean")},vl=_o,Us=function(Le){return kt(Le,"Date")},Eo=Us,as=function(Le){return isType(Le,"Error")},Os=null;function Yf(Le){return isNumber(Le)&&isFinite(Le)}var hf=function(Le){return Le===null},Id=hf,pe=Object.prototype,Ie=function(Le){var It=Le&&Le.constructor,Xt=typeof It=="function"&&It.prototype||pe;return Le===Xt},qe=Ie,jt=function(Le){return isType(Le,"RegExp")},Dr=null,jr=function(Le){return Le===void 0},Pn=jr,fi=function(Le){return Le instanceof Element||Le instanceof HTMLDocument},Hn=fi;function ci(Le){var It=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Xt){return setTimeout(Xt,16)};return It(Le)}function hi(Le){var It=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;It(Le)}var si=function(){for(var Le=[],It=0;It<arguments.length;It++)Le[It]=arguments[It];for(var Xt=Le[0],nr=1;nr<Le.length;nr++){var Lr=Le[nr];isFunction(Lr)&&(Lr=Lr.prototype),mix(Xt.prototype,Lr)}},Vr=null,Gn=function(Le){if(typeof Le!="object"||Le===null)return Le;var It;if(Pt(Le)){It=[];for(var Xt=0,nr=Le.length;Xt<nr;Xt++)typeof Le[Xt]=="object"&&Le[Xt]!=null?It[Xt]=Gn(Le[Xt]):It[Xt]=Le[Xt]}else{It={};for(var Lr in Le)typeof Le[Lr]=="object"&&Le[Lr]!=null?It[Lr]=Gn(Le[Lr]):It[Lr]=Le[Lr]}return It},di=Gn;function ni(Le,It,Xt){var nr;return function(){var Lr=this,Tn=arguments,Ci=function(){nr=null,Xt||Le.apply(Lr,Tn)},Ea=Xt&&!nr;clearTimeout(nr),nr=setTimeout(Ci,It),Ea&&Le.apply(Lr,Tn)}}var jn=ni,Bi=function(Le,It){if(!Mt(Le))throw new TypeError("Expected a function");var Xt=function(){for(var nr=[],Lr=0;Lr<arguments.length;Lr++)nr[Lr]=arguments[Lr];var Tn=It?It.apply(this,nr):nr[0],Ci=Xt.cache;if(Ci.has(Tn))return Ci.get(Tn);var Ea=Le.apply(this,nr);return Ci.set(Tn,Ea),Ea};return Xt.cache=new Map,Xt},Ui=5;function ma(Le,It,Xt,nr){Xt=Xt||0,nr=nr||Ui;for(var Lr in It)if(It.hasOwnProperty(Lr)){var Tn=It[Lr];Tn!==null&&vr(Tn)?(vr(Le[Lr])||(Le[Lr]={}),Xt<nr?ma(Le[Lr],Tn,Xt+1,nr):Le[Lr]=It[Lr]):Pt(Tn)?(Le[Lr]=[],Le[Lr]=Le[Lr].concat(Tn)):Tn!==void 0&&(Le[Lr]=Tn)}}var Mo=function(Le){for(var It=[],Xt=1;Xt<arguments.length;Xt++)It[Xt-1]=arguments[Xt];for(var nr=0;nr<It.length;nr+=1)ma(Le,It[nr]);return Le},il=Mo,mo=function(Le,It,Xt,nr){isFunction(It)||(Xt=It,It=Le,Le=function(){});var Lr=Object.create?function(Ci,Ea){return Object.create(Ci,{constructor:{value:Ea}})}:function(Ci,Ea){function Jo(){}Jo.prototype=Ci;var ls=new Jo;return ls.constructor=Ea,ls},Tn=Lr(It.prototype,Le);return Le.prototype=mix(Tn,Le.prototype),Le.superclass=Lr(It.prototype,It),mix(Tn,Xt),mix(Le,nr),Le},As=null,ou=function(Le,It){if(!ye(Le))return-1;var Xt=Array.prototype.indexOf;if(Xt)return Xt.call(Le,It);for(var nr=-1,Lr=0;Lr<Le.length;Lr++)if(Le[Lr]===It){nr=Lr;break}return nr},os=ou,Ys=Object.prototype.hasOwnProperty;function al(Le){if(D(Le))return!0;if(ye(Le))return!Le.length;var It=vn(Le);if(It==="Map"||It==="Set")return!Le.size;if(qe(Le))return!Object.keys(Le).length;for(var Xt in Le)if(Ys.call(Le,Xt))return!1;return!0}var Tu=al,Is=function(Le,It){if(Le===It)return!0;if(!Le||!It||dr(Le)||dr(It))return!1;if(ye(Le)||ye(It)){if(Le.length!==It.length)return!1;for(var Xt=!0,nr=0;nr<Le.length&&(Xt=Is(Le[nr],It[nr]),!!Xt);nr++);return Xt}if(Nt(Le)||Nt(It)){var Lr=Object.keys(Le),Tn=Object.keys(It);if(Lr.length!==Tn.length)return!1;for(var Xt=!0,nr=0;nr<Lr.length&&(Xt=Is(Le[Lr[nr]],It[Lr[nr]]),!!Xt);nr++);return Xt}return!1},lu=Is,ha=function(Le,It,Xt){return isFunction(Xt)?!!Xt(Le,It):isEqual(Le,It)},Vn=function(Le,It){if(!ye(Le))return Le;for(var Xt=[],nr=0;nr<Le.length;nr++){var Lr=Le[nr];Xt.push(It(Lr,nr))}return Xt},$r=Vn,Fn=function(Le){return Le},Ri=function(Le,It){It===void 0&&(It=Fn);var Xt={};return lt(Le)&&!D(Le)&&Object.keys(Le).forEach(function(nr){Xt[nr]=It(Le[nr],nr)}),Xt};function Ki(Le,It){for(var Xt in It)It.hasOwnProperty(Xt)&&Xt!=="constructor"&&It[Xt]!==void 0&&(Le[Xt]=It[Xt])}function Gi(Le,It,Xt,nr){return It&&Ki(Le,It),Xt&&Ki(Le,Xt),nr&&Ki(Le,nr),Le}var Do=function(Le,It,Xt){for(var nr=0,Lr=dr(It)?It.split("."):It;Le&&nr<Lr.length;)Le=Le[Lr[nr++]];return Le===void 0||nr<Lr.length?Xt:Le},Ei=function(Le,It,Xt){var nr=Le,Lr=dr(It)?It.split("."):It;return Lr.forEach(function(Tn,Ci){Ci<Lr.length-1?(lt(nr[Tn])||(nr[Tn]=yi(Lr[Ci+1])?[]:{}),nr=nr[Tn]):nr[Tn]=Xt}),Le},Lo=Object.prototype.hasOwnProperty,yo=function(Le,It){if(Le===null||!vr(Le))return{};var Xt={};return lr(It,function(nr){Lo.call(Le,nr)&&(Xt[nr]=Le[nr])}),Xt},ol=function(Le,It){return ir(Le,function(Xt,nr,Lr){return It.includes(Lr)||(Xt[Lr]=nr),Xt},{})},Il=function(Le,It,Xt){var nr,Lr,Tn,Ci,Ea=0;Xt||(Xt={});var Jo=function(){Ea=Xt.leading===!1?0:Date.now(),nr=null,Ci=Le.apply(Lr,Tn),nr||(Lr=Tn=null)},ls=function(){var ss=Date.now();!Ea&&Xt.leading===!1&&(Ea=ss);var sc=It-(ss-Ea);return Lr=this,Tn=arguments,sc<=0||sc>It?(nr&&(clearTimeout(nr),nr=null),Ea=ss,Ci=Le.apply(Lr,Tn),nr||(Lr=Tn=null)):!nr&&Xt.trailing!==!1&&(nr=setTimeout(Jo,sc)),Ci};return ls.cancel=function(){clearTimeout(nr),Ea=0,nr=Lr=Tn=null},ls},Rl=function(Le){return ye(Le)?Array.prototype.slice.call(Le):[]},Vu={},js=function(Le){return Le=Le||"g",Vu[Le]?Vu[Le]+=1:Vu[Le]=1,Le+Vu[Le]},Rd=function(){};function Lv(Le){return D(Le)?0:ye(Le)?Le.length:Object.keys(Le).length}var Dd=tt(85556),uo,Dl=Bi(function(Le,It){It===void 0&&(It={});var Xt=It.fontSize,nr=It.fontFamily,Lr=It.fontWeight,Tn=It.fontStyle,Ci=It.fontVariant;return uo||(uo=document.createElement("canvas").getContext("2d")),uo.font=[Tn,Ci,Lr,Xt+"px",nr].join(" "),uo.measureText(dr(Le)?Le:"").width},function(Le,It){return It===void 0&&(It={}),(0,Dd.pr)([Le],Ql(It)).join("")}),Pv=function(Le,It,Xt,nr){nr===void 0&&(nr="...");var Lr=16,Tn=Dl(nr,Xt),Ci=dr(Le)?Le:lc(Le),Ea=It,Jo=[],ls,ss;if(Dl(Le,Xt)<=It)return Le;for(;ls=Ci.substr(0,Lr),ss=Dl(ls,Xt),!(ss+Tn>Ea&&ss>Ea);)if(Jo.push(ls),Ea-=ss,Ci=Ci.substr(Lr),!Ci)return Jo.join("");for(;ls=Ci.substr(0,1),ss=Dl(ls,Xt),!(ss+Tn>Ea);)if(Jo.push(ls),Ea-=ss,Ci=Ci.substr(1),!Ci)return Jo.join("");return""+Jo.join("")+nr},Vs=function(){function Le(){this.map={}}return Le.prototype.has=function(It){return this.map[It]!==void 0},Le.prototype.get=function(It,Xt){var nr=this.map[It];return nr===void 0?Xt:nr},Le.prototype.set=function(It,Xt){this.map[It]=Xt},Le.prototype.clear=function(){this.map={}},Le.prototype.delete=function(It){delete this.map[It]},Le.prototype.size=function(){return Object.keys(this.map).length},Le}(),jf=Vs},89446:function(ai,Sn,tt){"use strict";tt.d(Sn,{k3:function(){return Yt},P$:function(){return yi},vg:function(){return hf},Re:function(){return Uf},YP:function(){return Yf}});var Ve=tt(87363);function ye(pe){"@babel/helpers - typeof";return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},ye(pe)}var ut=function(){};function oe(pe,Ie){for(var qe=pe,jt=void 0;qe&&!jt;)jt=Object.getOwnPropertyDescriptor(qe,Ie),qe=Object.getPrototypeOf(qe);return jt}function cr(pe){if(ye(pe)!=="object"||pe===null||Object.prototype.toString.call(pe)!=="[object Object]")return!1;var Ie=Object.getPrototypeOf(pe);if(Ie===null)return!0;var qe=Object.prototype.hasOwnProperty.call(Ie,"constructor")&&Ie.constructor;return typeof qe=="function"&&qe instanceof qe&&qe.toString()===Object.toString()}var re;(function(pe){var Ie=pe.Tracker=Symbol("Tracker"),qe=pe.Notifier=Symbol("Notifier"),jt=pe.Observable=Symbol("Observable"),Dr=pe.ObservableProperties=Symbol("ObservableProperties"),jr=pe.KeepOrigin=Symbol("KeepOrigin"),Pn=pe.Self=Symbol("Self")})(re||(re={}));var ie;function Ft(pe){"@babel/helpers - typeof";return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},Ft(pe)}var Dt;(function(pe){function Ie(Dr){return!!Dr&&Ft(Dr)==="object"&&"dispose"in Dr&&typeof Dr.dispose=="function"}pe.is=Ie;function qe(Dr){return{dispose:Dr}}pe.create=qe;var jt=pe.NONE=qe(ut)})(Dt||(Dt={}));var or;(function(pe){function Ie(qe){return!!qe&&Ft(qe)==="object"&&"disposed"in qe&&typeof qe.disposed=="boolean"}pe.is=Ie})(or||(or={}));function kt(pe){"@babel/helpers - typeof";return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},kt(pe)}var Mt;function U(){return typeof Reflect!="undefined"&&Reflect.get?U=Reflect.get.bind():U=function(Ie,qe,jt){var Dr=D(Ie,qe);if(Dr){var jr=Object.getOwnPropertyDescriptor(Dr,qe);return jr.get?jr.get.call(arguments.length<3?Ie:jt):jr.value}},U.apply(this,arguments)}function D(pe,Ie){for(;!Object.prototype.hasOwnProperty.call(pe,Ie)&&(pe=gt(pe),pe!==null););return pe}function Pt(pe,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function");pe.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:pe,writable:!0,configurable:!0}}),Object.defineProperty(pe,"prototype",{writable:!1}),Ie&&lt(pe,Ie)}function lt(pe,Ie){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(jt,Dr){return jt.__proto__=Dr,jt},lt(pe,Ie)}function Gt(pe){var Ie=xt();return function(){var jt=gt(pe),Dr;if(Ie){var jr=gt(this).constructor;Dr=Reflect.construct(jt,arguments,jr)}else Dr=jt.apply(this,arguments);return lr(this,Dr)}}function lr(pe,Ie){if(Ie&&(kt(Ie)==="object"||typeof Ie=="function"))return Ie;if(Ie!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(pe)}function tr(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}function xt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(pe){return!1}}function gt(pe){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(qe){return qe.__proto__||Object.getPrototypeOf(qe)},gt(pe)}function er(){"use strict";er=function(){return Ie};var pe,Ie={},qe=Object.prototype,jt=qe.hasOwnProperty,Dr=Object.defineProperty||function(Vn,$r,Fn){Vn[$r]=Fn.value},jr=typeof Symbol=="function"?Symbol:{},Pn=jr.iterator||"@@iterator",fi=jr.asyncIterator||"@@asyncIterator",Hn=jr.toStringTag||"@@toStringTag";function ci(Vn,$r,Fn){return Object.defineProperty(Vn,$r,{value:Fn,enumerable:!0,configurable:!0,writable:!0}),Vn[$r]}try{ci({},"")}catch(Vn){ci=function(Fn,Ri,Ki){return Fn[Ri]=Ki}}function hi(Vn,$r,Fn,Ri){var Ki=$r&&$r.prototype instanceof Bi?$r:Bi,Gi=Object.create(Ki.prototype),Do=new lu(Ri||[]);return Dr(Gi,"_invoke",{value:Ys(Vn,Fn,Do)}),Gi}function si(Vn,$r,Fn){try{return{type:"normal",arg:Vn.call($r,Fn)}}catch(Ri){return{type:"throw",arg:Ri}}}Ie.wrap=hi;var Vr="suspendedStart",Gn="suspendedYield",di="executing",ni="completed",jn={};function Bi(){}function Ui(){}function ma(){}var Mo={};ci(Mo,Pn,function(){return this});var il=Object.getPrototypeOf,mo=il&&il(il(ha([])));mo&&mo!==qe&&jt.call(mo,Pn)&&(Mo=mo);var As=ma.prototype=Bi.prototype=Object.create(Mo);function ou(Vn){["next","throw","return"].forEach(function($r){ci(Vn,$r,function(Fn){return this._invoke($r,Fn)})})}function os(Vn,$r){function Fn(Ki,Gi,Do,Ei){var Lo=si(Vn[Ki],Vn,Gi);if(Lo.type!=="throw"){var yo=Lo.arg,ol=yo.value;return ol&&kt(ol)=="object"&&jt.call(ol,"__await")?$r.resolve(ol.__await).then(function(Il){Fn("next",Il,Do,Ei)},function(Il){Fn("throw",Il,Do,Ei)}):$r.resolve(ol).then(function(Il){yo.value=Il,Do(yo)},function(Il){return Fn("throw",Il,Do,Ei)})}Ei(Lo.arg)}var Ri;Dr(this,"_invoke",{value:function(Gi,Do){function Ei(){return new $r(function(Lo,yo){Fn(Gi,Do,Lo,yo)})}return Ri=Ri?Ri.then(Ei,Ei):Ei()}})}function Ys(Vn,$r,Fn){var Ri=Vr;return function(Ki,Gi){if(Ri===di)throw new Error("Generator is already running");if(Ri===ni){if(Ki==="throw")throw Gi;return{value:pe,done:!0}}for(Fn.method=Ki,Fn.arg=Gi;;){var Do=Fn.delegate;if(Do){var Ei=al(Do,Fn);if(Ei){if(Ei===jn)continue;return Ei}}if(Fn.method==="next")Fn.sent=Fn._sent=Fn.arg;else if(Fn.method==="throw"){if(Ri===Vr)throw Ri=ni,Fn.arg;Fn.dispatchException(Fn.arg)}else Fn.method==="return"&&Fn.abrupt("return",Fn.arg);Ri=di;var Lo=si(Vn,$r,Fn);if(Lo.type==="normal"){if(Ri=Fn.done?ni:Gn,Lo.arg===jn)continue;return{value:Lo.arg,done:Fn.done}}Lo.type==="throw"&&(Ri=ni,Fn.method="throw",Fn.arg=Lo.arg)}}}function al(Vn,$r){var Fn=$r.method,Ri=Vn.iterator[Fn];if(Ri===pe)return $r.delegate=null,Fn==="throw"&&Vn.iterator.return&&($r.method="return",$r.arg=pe,al(Vn,$r),$r.method==="throw")||Fn!=="return"&&($r.method="throw",$r.arg=new TypeError("The iterator does not provide a '"+Fn+"' method")),jn;var Ki=si(Ri,Vn.iterator,$r.arg);if(Ki.type==="throw")return $r.method="throw",$r.arg=Ki.arg,$r.delegate=null,jn;var Gi=Ki.arg;return Gi?Gi.done?($r[Vn.resultName]=Gi.value,$r.next=Vn.nextLoc,$r.method!=="return"&&($r.method="next",$r.arg=pe),$r.delegate=null,jn):Gi:($r.method="throw",$r.arg=new TypeError("iterator result is not an object"),$r.delegate=null,jn)}function Tu(Vn){var $r={tryLoc:Vn[0]};1 in Vn&&($r.catchLoc=Vn[1]),2 in Vn&&($r.finallyLoc=Vn[2],$r.afterLoc=Vn[3]),this.tryEntries.push($r)}function Is(Vn){var $r=Vn.completion||{};$r.type="normal",delete $r.arg,Vn.completion=$r}function lu(Vn){this.tryEntries=[{tryLoc:"root"}],Vn.forEach(Tu,this),this.reset(!0)}function ha(Vn){if(Vn||Vn===""){var $r=Vn[Pn];if($r)return $r.call(Vn);if(typeof Vn.next=="function")return Vn;if(!isNaN(Vn.length)){var Fn=-1,Ri=function Ki(){for(;++Fn<Vn.length;)if(jt.call(Vn,Fn))return Ki.value=Vn[Fn],Ki.done=!1,Ki;return Ki.value=pe,Ki.done=!0,Ki};return Ri.next=Ri}}throw new TypeError(kt(Vn)+" is not iterable")}return Ui.prototype=ma,Dr(As,"constructor",{value:ma,configurable:!0}),Dr(ma,"constructor",{value:Ui,configurable:!0}),Ui.displayName=ci(ma,Hn,"GeneratorFunction"),Ie.isGeneratorFunction=function(Vn){var $r=typeof Vn=="function"&&Vn.constructor;return!!$r&&($r===Ui||($r.displayName||$r.name)==="GeneratorFunction")},Ie.mark=function(Vn){return Object.setPrototypeOf?Object.setPrototypeOf(Vn,ma):(Vn.__proto__=ma,ci(Vn,Hn,"GeneratorFunction")),Vn.prototype=Object.create(As),Vn},Ie.awrap=function(Vn){return{__await:Vn}},ou(os.prototype),ci(os.prototype,fi,function(){return this}),Ie.AsyncIterator=os,Ie.async=function(Vn,$r,Fn,Ri,Ki){Ki===void 0&&(Ki=Promise);var Gi=new os(hi(Vn,$r,Fn,Ri),Ki);return Ie.isGeneratorFunction($r)?Gi:Gi.next().then(function(Do){return Do.done?Do.value:Gi.next()})},ou(As),ci(As,Hn,"Generator"),ci(As,Pn,function(){return this}),ci(As,"toString",function(){return"[object Generator]"}),Ie.keys=function(Vn){var $r=Object(Vn),Fn=[];for(var Ri in $r)Fn.push(Ri);return Fn.reverse(),function Ki(){for(;Fn.length;){var Gi=Fn.pop();if(Gi in $r)return Ki.value=Gi,Ki.done=!1,Ki}return Ki.done=!0,Ki}},Ie.values=ha,lu.prototype={constructor:lu,reset:function($r){if(this.prev=0,this.next=0,this.sent=this._sent=pe,this.done=!1,this.delegate=null,this.method="next",this.arg=pe,this.tryEntries.forEach(Is),!$r)for(var Fn in this)Fn.charAt(0)==="t"&&jt.call(this,Fn)&&!isNaN(+Fn.slice(1))&&(this[Fn]=pe)},stop:function(){this.done=!0;var $r=this.tryEntries[0].completion;if($r.type==="throw")throw $r.arg;return this.rval},dispatchException:function($r){if(this.done)throw $r;var Fn=this;function Ri(yo,ol){return Do.type="throw",Do.arg=$r,Fn.next=yo,ol&&(Fn.method="next",Fn.arg=pe),!!ol}for(var Ki=this.tryEntries.length-1;Ki>=0;--Ki){var Gi=this.tryEntries[Ki],Do=Gi.completion;if(Gi.tryLoc==="root")return Ri("end");if(Gi.tryLoc<=this.prev){var Ei=jt.call(Gi,"catchLoc"),Lo=jt.call(Gi,"finallyLoc");if(Ei&&Lo){if(this.prev<Gi.catchLoc)return Ri(Gi.catchLoc,!0);if(this.prev<Gi.finallyLoc)return Ri(Gi.finallyLoc)}else if(Ei){if(this.prev<Gi.catchLoc)return Ri(Gi.catchLoc,!0)}else{if(!Lo)throw new Error("try statement without catch or finally");if(this.prev<Gi.finallyLoc)return Ri(Gi.finallyLoc)}}}},abrupt:function($r,Fn){for(var Ri=this.tryEntries.length-1;Ri>=0;--Ri){var Ki=this.tryEntries[Ri];if(Ki.tryLoc<=this.prev&&jt.call(Ki,"finallyLoc")&&this.prev<Ki.finallyLoc){var Gi=Ki;break}}Gi&&($r==="break"||$r==="continue")&&Gi.tryLoc<=Fn&&Fn<=Gi.finallyLoc&&(Gi=null);var Do=Gi?Gi.completion:{};return Do.type=$r,Do.arg=Fn,Gi?(this.method="next",this.next=Gi.finallyLoc,jn):this.complete(Do)},complete:function($r,Fn){if($r.type==="throw")throw $r.arg;return $r.type==="break"||$r.type==="continue"?this.next=$r.arg:$r.type==="return"?(this.rval=this.arg=$r.arg,this.method="return",this.next="end"):$r.type==="normal"&&Fn&&(this.next=Fn),jn},finish:function($r){for(var Fn=this.tryEntries.length-1;Fn>=0;--Fn){var Ri=this.tryEntries[Fn];if(Ri.finallyLoc===$r)return this.complete(Ri.completion,Ri.afterLoc),Is(Ri),jn}},catch:function($r){for(var Fn=this.tryEntries.length-1;Fn>=0;--Fn){var Ri=this.tryEntries[Fn];if(Ri.tryLoc===$r){var Ki=Ri.completion;if(Ki.type==="throw"){var Gi=Ki.arg;Is(Ri)}return Gi}}throw new Error("illegal catch attempt")},delegateYield:function($r,Fn,Ri){return this.delegate={iterator:ha($r),resultName:Fn,nextLoc:Ri},this.method==="next"&&(this.arg=pe),jn}},Ie}function Lt(pe,Ie,qe,jt,Dr,jr,Pn){try{var fi=pe[jr](Pn),Hn=fi.value}catch(ci){qe(ci);return}fi.done?Ie(Hn):Promise.resolve(Hn).then(jt,Dr)}function Nt(pe){return function(){var Ie=this,qe=arguments;return new Promise(function(jt,Dr){var jr=pe.apply(Ie,qe);function Pn(Hn){Lt(jr,jt,Dr,Pn,fi,"next",Hn)}function fi(Hn){Lt(jr,jt,Dr,Pn,fi,"throw",Hn)}Pn(void 0)})}}function Tr(pe,Ie){var qe=typeof Symbol!="undefined"&&pe[Symbol.iterator]||pe["@@iterator"];if(!qe){if(Array.isArray(pe)||(qe=vr(pe))||Ie&&pe&&typeof pe.length=="number"){qe&&(pe=qe);var jt=0,Dr=function(){};return{s:Dr,n:function(){return jt>=pe.length?{done:!0}:{done:!1,value:pe[jt++]}},e:function(Hn){function ci(hi){return Hn.apply(this,arguments)}return ci.toString=function(){return Hn.toString()},ci}(function(Hn){throw Hn}),f:Dr}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jr=!0,Pn=!1,fi;return{s:function(){qe=qe.call(pe)},n:function(){var ci=qe.next();return jr=ci.done,ci},e:function(Hn){function ci(hi){return Hn.apply(this,arguments)}return ci.toString=function(){return Hn.toString()},ci}(function(Hn){Pn=!0,fi=Hn}),f:function(){try{!jr&&qe.return!=null&&qe.return()}finally{if(Pn)throw fi}}}}function vr(pe,Ie){if(pe){if(typeof pe=="string")return Yr(pe,Ie);var qe=Object.prototype.toString.call(pe).slice(8,-1);if(qe==="Object"&&pe.constructor&&(qe=pe.constructor.name),qe==="Map"||qe==="Set")return Array.from(pe);if(qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe))return Yr(pe,Ie)}}function Yr(pe,Ie){(Ie==null||Ie>pe.length)&&(Ie=pe.length);for(var qe=0,jt=new Array(Ie);qe<Ie;qe++)jt[qe]=pe[qe];return jt}function mn(pe,Ie){if(!(pe instanceof Ie))throw new TypeError("Cannot call a class as a function")}function Mn(pe,Ie){for(var qe=0;qe<Ie.length;qe++){var jt=Ie[qe];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(pe,Wn(jt.key),jt)}}function Fr(pe,Ie,qe){return Ie&&Mn(pe.prototype,Ie),qe&&Mn(pe,qe),Object.defineProperty(pe,"prototype",{writable:!1}),pe}function Rn(pe,Ie,qe){return Ie=Wn(Ie),Ie in pe?Object.defineProperty(pe,Ie,{value:qe,enumerable:!0,configurable:!0,writable:!0}):pe[Ie]=qe,pe}function Wn(pe){var Ie=Ge(pe,"string");return kt(Ie)=="symbol"?Ie:String(Ie)}function Ge(pe,Ie){if(kt(pe)!="object"||!pe)return pe;var qe=pe[Symbol.toPrimitive];if(qe!==void 0){var jt=qe.call(pe,Ie||"default");if(kt(jt)!="object")return jt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ie==="string"?String:Number)(pe)}var Et;(function(pe){var Ie=pe.None=function(){return Dt.NONE};function qe(jt,Dr){return function(jr,Pn){return jt(function(fi){return jr.call(Pn,Dr(fi))},void 0)}}pe.map=qe})(Et||(Et={})),Mt=Symbol.iterator;var Rr=function(){function pe(){mn(this,pe),Rn(this,"_callbacks",void 0)}return Fr(pe,[{key:"length",get:function(){return this._callbacks&&this._callbacks.length||0}},{key:"add",value:function(qe){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;this._callbacks||(this._callbacks=[]),this._callbacks.push([qe,jt])}},{key:"remove",value:function(qe){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this._callbacks){for(var Dr=!1,jr=0;jr<this._callbacks.length;jr+=1)if(this._callbacks[jr][0]===qe){if(this._callbacks[jr][1]===jt){this._callbacks.splice(jr,1);return}Dr=!0}if(Dr)throw new Error("You should remove it with the same context you add it")}}},{key:Mt,value:function(){if(!this._callbacks)return[][Symbol.iterator]();var qe=this._callbacks.slice(0);return qe.map(function(jt){return function(){for(var Dr=arguments.length,jr=new Array(Dr),Pn=0;Pn<Dr;Pn++)jr[Pn]=arguments[Pn];return jt[0].apply(jt[1],jr)}})[Symbol.iterator]()}},{key:"invoke",value:function(){var qe=[],jt=Tr(this),Dr;try{for(jt.s();!(Dr=jt.n()).done;){var jr=Dr.value;try{qe.push(jr.apply(void 0,arguments))}catch(Pn){console.error(Pn)}}}catch(Pn){jt.e(Pn)}finally{jt.f()}return qe}},{key:"isEmpty",value:function(){return!this._callbacks||this._callbacks.length===0}},{key:"dispose",value:function(){this._callbacks=void 0}}]),pe}(),un=function(){function pe(Ie){mn(this,pe),Rn(this,"_event",void 0),Rn(this,"_callbacks",void 0),Rn(this,"_disposed",!1),Rn(this,"_options",void 0),this._options=Ie}return Fr(pe,[{key:"event",get:function(){var qe=this;return this._event||(this._event=function(jt,Dr,jr){qe._callbacks||(qe._callbacks=new Rr),qe._options&&qe._options.onFirstListenerAdd&&qe._callbacks.isEmpty()&&qe._options.onFirstListenerAdd(qe),qe._callbacks.add(jt,Dr);var Pn={dispose:function(){Pn.dispose=ut,qe._disposed||(qe._callbacks.remove(jt,Dr),Pn.dispose=ut,qe._options&&qe._options.onLastListenerRemove&&qe._callbacks.isEmpty()&&qe._options.onLastListenerRemove(qe))}};return Array.isArray(jr)&&jr.push(Pn),Pn}),this._event}},{key:"fire",value:function(qe){this._callbacks&&this._callbacks.invoke(qe)}},{key:"sequence",value:function(){var Ie=Nt(er().mark(function jt(Dr){var jr,Pn,fi,Hn;return er().wrap(function(hi){for(;;)switch(hi.prev=hi.next){case 0:if(!this._callbacks){hi.next=21;break}jr=Tr(this._callbacks),hi.prev=2,jr.s();case 4:if((Pn=jr.n()).done){hi.next=13;break}return fi=Pn.value,hi.next=8,Dr(fi);case 8:if(Hn=hi.sent,Hn){hi.next=11;break}return hi.abrupt("break",13);case 11:hi.next=4;break;case 13:hi.next=18;break;case 15:hi.prev=15,hi.t0=hi.catch(2),jr.e(hi.t0);case 18:return hi.prev=18,jr.f(),hi.finish(18);case 21:case"end":return hi.stop()}},jt,this,[[2,15,18,21]])}));function qe(jt){return Ie.apply(this,arguments)}return qe}()},{key:"dispose",value:function(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0),this._disposed=!0}}]),pe}(),yn=null;function Vt(pe){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},Vt(pe)}function Ce(){return typeof Reflect!="undefined"&&Reflect.get?Ce=Reflect.get.bind():Ce=function(Ie,qe,jt){var Dr=be(Ie,qe);if(Dr){var jr=Object.getOwnPropertyDescriptor(Dr,qe);return jr.get?jr.get.call(arguments.length<3?Ie:jt):jr.value}},Ce.apply(this,arguments)}function be(pe,Ie){for(;!Object.prototype.hasOwnProperty.call(pe,Ie)&&(pe=qn(pe),pe!==null););return pe}function Ae(pe,Ie){return Bt(pe)||ze(pe,Ie)||wt(pe,Ie)||_e()}function _e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ze(pe,Ie){var qe=pe==null?null:typeof Symbol!="undefined"&&pe[Symbol.iterator]||pe["@@iterator"];if(qe!=null){var jt,Dr,jr,Pn,fi=[],Hn=!0,ci=!1;try{if(jr=(qe=qe.call(pe)).next,Ie===0){if(Object(qe)!==qe)return;Hn=!1}else for(;!(Hn=(jt=jr.call(qe)).done)&&(fi.push(jt.value),fi.length!==Ie);Hn=!0);}catch(hi){ci=!0,Dr=hi}finally{try{if(!Hn&&qe.return!=null&&(Pn=qe.return(),Object(Pn)!==Pn))return}finally{if(ci)throw Dr}}return fi}}function Bt(pe){if(Array.isArray(pe))return pe}function at(pe,Ie){var qe=typeof Symbol!="undefined"&&pe[Symbol.iterator]||pe["@@iterator"];if(!qe){if(Array.isArray(pe)||(qe=wt(pe))||Ie&&pe&&typeof pe.length=="number"){qe&&(pe=qe);var jt=0,Dr=function(){};return{s:Dr,n:function(){return jt>=pe.length?{done:!0}:{done:!1,value:pe[jt++]}},e:function(Hn){function ci(hi){return Hn.apply(this,arguments)}return ci.toString=function(){return Hn.toString()},ci}(function(Hn){throw Hn}),f:Dr}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jr=!0,Pn=!1,fi;return{s:function(){qe=qe.call(pe)},n:function(){var ci=qe.next();return jr=ci.done,ci},e:function(Hn){function ci(hi){return Hn.apply(this,arguments)}return ci.toString=function(){return Hn.toString()},ci}(function(Hn){Pn=!0,fi=Hn}),f:function(){try{!jr&&qe.return!=null&&qe.return()}finally{if(Pn)throw fi}}}}function wt(pe,Ie){if(pe){if(typeof pe=="string")return fe(pe,Ie);var qe=Object.prototype.toString.call(pe).slice(8,-1);if(qe==="Object"&&pe.constructor&&(qe=pe.constructor.name),qe==="Map"||qe==="Set")return Array.from(pe);if(qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe))return fe(pe,Ie)}}function fe(pe,Ie){(Ie==null||Ie>pe.length)&&(Ie=pe.length);for(var qe=0,jt=new Array(Ie);qe<Ie;qe++)jt[qe]=pe[qe];return jt}function st(pe,Ie){if(!(pe instanceof Ie))throw new TypeError("Cannot call a class as a function")}function Tt(pe,Ie){for(var qe=0;qe<Ie.length;qe++){var jt=Ie[qe];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(pe,Kr(jt.key),jt)}}function ir(pe,Ie,qe){return Ie&&Tt(pe.prototype,Ie),qe&&Tt(pe,qe),Object.defineProperty(pe,"prototype",{writable:!1}),pe}function bt(pe,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function");pe.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:pe,writable:!0,configurable:!0}}),Object.defineProperty(pe,"prototype",{writable:!1}),Ie&&sr(pe,Ie)}function sr(pe,Ie){return sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(jt,Dr){return jt.__proto__=Dr,jt},sr(pe,Ie)}function dr(pe){var Ie=fn();return function(){var jt=qn(pe),Dr;if(Ie){var jr=qn(this).constructor;Dr=Reflect.construct(jt,arguments,jr)}else Dr=jt.apply(this,arguments);return Pr(this,Dr)}}function Pr(pe,Ie){if(Ie&&(Vt(Ie)==="object"||typeof Ie=="function"))return Ie;if(Ie!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return an(pe)}function an(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}function fn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(pe){return!1}}function qn(pe){return qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(qe){return qe.__proto__||Object.getPrototypeOf(qe)},qn(pe)}function cn(pe,Ie,qe){return Ie=Kr(Ie),Ie in pe?Object.defineProperty(pe,Ie,{value:qe,enumerable:!0,configurable:!0,writable:!0}):pe[Ie]=qe,pe}function Kr(pe){var Ie=rt(pe,"string");return Vt(Ie)=="symbol"?Ie:String(Ie)}function rt(pe,Ie){if(Vt(pe)!="object"||!pe)return pe;var qe=pe[Symbol.toPrimitive];if(qe!==void 0){var jt=qe.call(pe,Ie||"default");if(Vt(jt)!="object")return jt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ie==="string"?String:Number)(pe)}var de=function(pe){bt(qe,pe);var Ie=dr(qe);function qe(){var jt;st(this,qe);for(var Dr=arguments.length,jr=new Array(Dr),Pn=0;Pn<Dr;Pn++)jr[Pn]=arguments[Pn];return jt=Ie.call.apply(Ie,[this].concat(jr)),cn(an(jt),"called",void 0),jt}return ir(qe,[{key:"invoke",value:function(){for(var Dr,jr=this,Pn=arguments.length,fi=new Array(Pn),Hn=0;Hn<Pn;Hn++)fi[Hn]=arguments[Hn];var ci=[];if(!this._callbacks)return[];this.called||(this.called=[]);var hi=(Dr=this._callbacks)===null||Dr===void 0?void 0:Dr.slice(0),si=at(hi),Vr;try{var Gn=function(){var ni=Ae(Vr.value,2),jn=ni[0],Bi=ni[1];try{var Ui;jr.called.includes(jn)||(jr.called.push(jn),Ui=Promise.resolve().then(function(){jn.apply(Bi,fi),jr.called=void 0})),ci.push(Ui)}catch(ma){console.error(ma)}};for(si.s();!(Vr=si.n()).done;)Gn()}catch(di){si.e(di)}finally{si.f()}return ci}}]),qe}(Rr),ve=function(pe){bt(qe,pe);var Ie=dr(qe);function qe(){var jt;st(this,qe);for(var Dr=arguments.length,jr=new Array(Dr),Pn=0;Pn<Dr;Pn++)jr[Pn]=arguments[Pn];return jt=Ie.call.apply(Ie,[this].concat(jr)),cn(an(jt),"_asyncCallbacks",void 0),cn(an(jt),"_eventAsync",void 0),jt}return ir(qe,[{key:"eventAsync",get:function(){var Dr=this;return this._eventAsync||(this._eventAsync=function(jr,Pn){var fi=function(){return Dr._asyncCallbacks||(Dr._asyncCallbacks=new de),Dr._asyncCallbacks},Hn=fi();Dr._options&&Dr._options.onFirstListenerAdd&&Hn.isEmpty()&&Dr._options.onFirstListenerAdd(Dr),Hn.add(jr,Pn);var ci={dispose:function(){ci.dispose=ut,Dr._disposed||(fi().remove(jr,Pn),ci.dispose=ut,Dr._options&&Dr._options.onLastListenerRemove&&fi().isEmpty()&&Dr._options.onLastListenerRemove(Dr))}};return ci}),this._eventAsync}},{key:"fire",value:function(Dr){Ce(qn(qe.prototype),"fire",this).call(this,Dr),this._asyncCallbacks&&this._asyncCallbacks.invoke(Dr)}},{key:"dispose",value:function(){this._asyncCallbacks&&(this._asyncCallbacks.dispose(),this._asyncCallbacks=void 0),Ce(qn(qe.prototype),"dispose",this).call(this)}}]),qe}(un);function ce(pe){"@babel/helpers - typeof";return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},ce(pe)}function xe(pe,Ie){if(!(pe instanceof Ie))throw new TypeError("Cannot call a class as a function")}function Ee(pe,Ie){for(var qe=0;qe<Ie.length;qe++){var jt=Ie[qe];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(pe,ct(jt.key),jt)}}function Be(pe,Ie,qe){return Ie&&Ee(pe.prototype,Ie),qe&&Ee(pe,qe),Object.defineProperty(pe,"prototype",{writable:!1}),pe}function Re(pe,Ie,qe){return Ie=ct(Ie),Ie in pe?Object.defineProperty(pe,Ie,{value:qe,enumerable:!0,configurable:!0,writable:!0}):pe[Ie]=qe,pe}function ct(pe){var Ie=ht(pe,"string");return ce(Ie)=="symbol"?Ie:String(Ie)}function ht(pe,Ie){if(ce(pe)!="object"||!pe)return pe;var qe=pe[Symbol.toPrimitive];if(qe!==void 0){var jt=qe.call(pe,Ie||"default");if(ce(jt)!="object")return jt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ie==="string"?String:Number)(pe)}var Ht=function(){function pe(){xe(this,pe),Re(this,"async",!1),Re(this,"paused",!1),Re(this,"excludeCheckers",[])}return Be(pe,[{key:"exclude",value:function(qe){return!!this.excludeCheckers.push(qe)}},{key:"shouldExclude",value:function(qe){return this.excludeCheckers.some(function(jt){return jt(qe)})}}]),pe}(),Yt=new Ht;Yt.exclude(function(pe){return Object.isFrozen(pe)}),Yt.exclude(function(pe){return"$$typeof"in pe}),Yt.exclude(function(pe){return pe instanceof Promise}),Yt.exclude(function(pe){return pe instanceof Element}),Yt.exclude(function(pe){return pe instanceof RegExp}),Yt.exclude(function(pe){return pe instanceof Date}),Yt.exclude(function(pe){return pe instanceof WeakMap}),Yt.exclude(function(pe){return pe instanceof Set}),Yt.exclude(function(pe){return pe instanceof Performance});var rr=tt(18706);function hr(pe){return Qr(pe)||qr(pe)||Zt(pe)||Hr()}function Hr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zt(pe,Ie){if(pe){if(typeof pe=="string")return dn(pe,Ie);var qe=Object.prototype.toString.call(pe).slice(8,-1);if(qe==="Object"&&pe.constructor&&(qe=pe.constructor.name),qe==="Map"||qe==="Set")return Array.from(pe);if(qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe))return dn(pe,Ie)}}function qr(pe){if(typeof Symbol!="undefined"&&pe[Symbol.iterator]!=null||pe["@@iterator"]!=null)return Array.from(pe)}function Qr(pe){if(Array.isArray(pe))return dn(pe)}function dn(pe,Ie){(Ie==null||Ie>pe.length)&&(Ie=pe.length);for(var qe=0,jt=new Array(Ie);qe<Ie;qe++)jt[qe]=pe[qe];return jt}function kn(pe){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},kn(pe)}var wr;(function(pe){function Ie(Vr){return!!Vr&&Vr[re.Self]}pe.isTraceable=Ie;function qe(Vr){return!!Vr&&kn(Vr)==="object"}pe.isObject=qe;function jt(Vr){return!(!qe(Vr)||Yt.shouldExclude(Vr))}pe.canBeObservable=jt;function Dr(Vr,Gn){if(!qe(Vr))return!1;var di=Hn(Vr);return Gn?Reflect.hasOwnMetadata(re.Observable,di,Gn):Reflect.hasOwnMetadata(re.Observable,di)}pe.marked=Dr;function jr(Vr,Gn){Reflect.defineMetadata(re.Observable,!0,Vr),Gn&&Reflect.defineMetadata(re.Observable,!0,Vr,Gn)}pe.mark=jr;function Pn(Vr,Gn){Reflect.defineMetadata(re.KeepOrigin,!0,Vr,Gn)}pe.defineOrigin=Pn;function fi(Vr,Gn){if(!qe(Vr))return!1;var di=Hn(Vr);return cr(di)?!1:Reflect.hasMetadata(re.KeepOrigin,di.constructor,Gn)}pe.shouldKeepOrigin=fi;function Hn(Vr){return Ie(Vr)?Vr[re.Self]:Vr}pe.getOrigin=Hn;function ci(Vr,Gn){return Hn(Vr)===Hn(Gn)}pe.equals=ci;function hi(Vr,Gn,di){return di?Reflect.getOwnMetadata(Vr,Gn,di):Reflect.getOwnMetadata(Vr,Gn)}pe.getDisposable=hi;function si(Vr,Gn,di,ni){ni&&Reflect.defineMetadata(Vr,Gn,di,ni),Reflect.defineMetadata(Vr,Gn,di)}pe.setDisposable=si})(wr||(wr={}));var ei;(function(pe){function Ie(jr){return Reflect.getOwnMetadata(re.ObservableProperties,jr)}pe.getOwn=Ie;function qe(jr){return Reflect.getMetadata(re.ObservableProperties,jr)}pe.get=qe;function jt(jr){if(jr&&jr.constructor)return qe(jr.constructor)}pe.find=jt;function Dr(jr,Pn){var fi=Ie(jr);if(fi)fi.push(Pn);else{var Hn=qe(jr)||[];Reflect.defineMetadata(re.ObservableProperties,[].concat(hr(Hn),[Pn]),jr)}}pe.add=Dr})(ei||(ei={}));var Ln;(function(pe){function Ie(jt,Dr,jr){Reflect.defineMetadata(Dr,jr,jt)}pe.set=Ie;function qe(jt,Dr){return Reflect.getMetadata(Dr,jt)}pe.get=qe})(Ln||(Ln={}));var yi=wr.getOrigin,fa=wr.equals;function _i(pe,Ie){var qe=oe(pe,Ie);return(qe==null?void 0:qe.configurable)===!1&&(qe==null?void 0:qe.writable)===!1}function Ja(pe){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},Ja(pe)}function Gr(pe,Ie){if(!(pe instanceof Ie))throw new TypeError("Cannot call a class as a function")}function oi(pe,Ie){for(var qe=0;qe<Ie.length;qe++){var jt=Ie[qe];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(pe,_a(jt.key),jt)}}function is(pe,Ie,qe){return Ie&&oi(pe.prototype,Ie),qe&&oi(pe,qe),Object.defineProperty(pe,"prototype",{writable:!1}),pe}function qa(pe,Ie,qe){return Ie=_a(Ie),Ie in pe?Object.defineProperty(pe,Ie,{value:qe,enumerable:!0,configurable:!0,writable:!0}):pe[Ie]=qe,pe}function _a(pe){var Ie=Ti(pe,"string");return Ja(Ie)=="symbol"?Ie:String(Ie)}function Ti(pe,Ie){if(Ja(pe)!="object"||!pe)return pe;var qe=pe[Symbol.toPrimitive];if(qe!==void 0){var jt=qe.call(pe,Ie||"default");if(Ja(jt)!="object")return jt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ie==="string"?String:Number)(pe)}var oa=function(){function pe(){Gr(this,pe),qa(this,"changedEmitter",new ve),qa(this,"disposed",!1)}return is(pe,[{key:"onChange",get:function(){return Yt.async?this.onChangeAsync:this.onChangeSync}},{key:"onChangeAsync",get:function(){return this.changedEmitter.eventAsync}},{key:"onChangeSync",get:function(){return this.changedEmitter.event}},{key:"dispose",value:function(){this.changedEmitter.dispose(),this.disposed=!0}},{key:"once",value:function(qe,jt){var Dr=this.onChange(function(jr){qe(jr.target,jr.prop),Dr.dispose()},jt);return Dr}},{key:"notify",value:function(qe,jt){this.changedEmitter.fire({target:qe,prop:jt}),jt&&pe.trigger(qe)}}],[{key:"trigger",value:function(qe,jt){var Dr=pe.get(qe,jt);Dr&&Dr.notify(qe,jt)}},{key:"getOrCreate",value:function(qe,jt){var Dr=zi.getNotifier(qe);if(Dr)return Dr;var jr=wr.getOrigin(qe),Pn=pe.get(jr,jt);if(Pn&&!Pn.disposed)return Pn;var fi=new pe;return pe.set(jr,fi,jt),fi}},{key:"find",value:function(qe,jt){if(wr.marked(qe,jt)||wr.canBeObservable(qe))return pe.getOrCreate(qe,jt)}},{key:"get",value:function(qe,jt){return jt===void 0?Reflect.getMetadata(re.Notifier,qe):Reflect.getMetadata(re.Notifier,qe,jt)}},{key:"set",value:function(qe,jt,Dr){Dr===void 0?Reflect.defineMetadata(re.Notifier,jt,qe):Reflect.defineMetadata(re.Notifier,jt,qe,Dr)}},{key:"once",value:function(qe,jt,Dr){var jr=wr.getDisposable(jt,qe);jr&&jr.dispose();var Pn=qe.once(function(){Dr()});wr.setDisposable(jt,Pn,qe)}},{key:"toEvent",value:function(qe,jt){var Dr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,jr=pe.find(qe,jt);return jr?Dr===null?jr.onChange:Dr?jr.onChangeAsync:jr.onChangeSync:Et.None}}]),pe}(),zi;(function(pe){var Ie=pe.token=Symbol("Notifiable");function qe(Vr){return wr.isObject(Vr)&&!!Vr[re.Notifier]}pe.is=qe;function jt(Vr){return Vr[re.Notifier]}pe.getNotifier=jt;function Dr(Vr){if(qe(Vr))return jt(Vr)}pe.tryGetNotifier=Dr;function jr(Vr,Gn){Reflect.defineMetadata(Ie,Gn,Vr)}pe.set=jr;function Pn(Vr){return Reflect.getMetadata(Ie,Vr)}pe.get=Pn;function fi(Vr){return!wr.isObject(Vr)||Object.isFrozen(Vr)?!1:!!(Vr instanceof Array||Vr instanceof Map||cr(Vr))}pe.canBeNotifiable=fi;function Hn(Vr){if(qe(Vr)||!wr.canBeObservable(Vr))return Vr;var Gn=wr.getOrigin(Vr),di=zi.get(Gn);return di||(Gn instanceof Array?ci(Gn):Gn instanceof Map?si(Gn):cr(Gn)?hi(Gn):Vr)}pe.transform=Hn;function ci(Vr){var Gn=oa.getOrCreate(Vr),di=new Proxy(Vr,{get:function(jn,Bi){if(Bi===re.Notifier)return Gn;if(Bi===re.Self)return jn;var Ui=Reflect.get(jn,Bi);if(_i(Vr,Bi))return Ui;var ma=wr.getOrigin(Ui);return zi.transform(ma)},set:function(jn,Bi,Ui){var ma=Reflect.set(jn,Bi,Ui);return Gn.notify(Ui),ma}});return jr(Vr,di),di}pe.transformArray=ci;function hi(Vr){var Gn=oa.getOrCreate(Vr),di=new Proxy(Vr,{get:function(jn,Bi){if(Bi===re.Notifier)return Gn;if(Bi===re.Self)return jn;var Ui=Reflect.get(jn,Bi);if(_i(Vr,Bi))return Ui;var ma=wr.getOrigin(Ui);return zi.transform(ma)},set:function(jn,Bi,Ui){var ma=Reflect.set(jn,Bi,Ui);return Gn.notify(Ui),ma},deleteProperty:function(jn,Bi){var Ui=Reflect.deleteProperty(jn,Bi);return Gn.notify(void 0),Ui}});return jr(Vr,di),di}pe.transformPlainObject=hi;function si(Vr){var Gn=oa.getOrCreate(Vr),di=new Proxy(Vr,{get:function(jn,Bi){if(Bi===re.Notifier)return Gn;if(Bi===re.Self)return jn;var Ui;switch(Bi){case"delete":return function(){for(var Mo=arguments.length,il=new Array(Mo),mo=0;mo<Mo;mo++)il[mo]=arguments[mo];return Ui=jn.delete.apply(jn,il),Gn.notify(void 0),Ui};case"clear":return function(){for(var Mo=arguments.length,il=new Array(Mo),mo=0;mo<Mo;mo++)il[mo]=arguments[mo];return Ui=jn.clear.apply(jn,il),Gn.notify(void 0),Ui};case"set":return function(){for(var Mo=arguments.length,il=new Array(Mo),mo=0;mo<Mo;mo++)il[mo]=arguments[mo];return Ui=jn.set.apply(jn,il),Gn.notify(void 0),Ui};case"get":return function(){for(var Mo=arguments.length,il=new Array(Mo),mo=0;mo<Mo;mo++)il[mo]=arguments[mo];Ui=jn.get.apply(jn,il);var As=wr.getOrigin(Ui);return zi.transform(As)};default:if(Ui=Reflect.get(jn,Bi),typeof Ui=="function")return Ui.bind(jn);var ma=wr.getOrigin(Ui);return zi.transform(ma)}}});return jr(Vr,di),di}pe.transformMap=si})(zi||(zi={}));var dl=Symbol("propertyRelatedNotifier");function go(pe,Ie,qe){var jt=oa.getOrCreate(pe,Ie),Dr=function(){Yt.paused||oa.trigger(pe,Ie)},jr=function(hi){if(Ln.set(pe,Ie,hi),jt){var si=wr.getDisposable(dl,jt);si&&si.dispose()}if(zi.is(hi)){var Vr=zi.getNotifier(hi);if(jt&&Vr){var Gn=Vr.onChangeSync(Dr);wr.setDisposable(dl,Gn,jt)}}},Pn=pe[Ie]===void 0?qe:pe[Ie];jr(zi.transform(Pn));var fi=function(){var hi=Reflect.getMetadata(Ie,pe);return hi},Hn=function(hi){var si=zi.transform(hi),Vr=Ln.get(pe,Ie);si!==Vr&&(jr(si),Dr())};Reflect.deleteProperty(pe,Ie)&&Reflect.defineProperty(pe,Ie,{configurable:!0,enumerable:!0,get:fi,set:Hn}),ei.add(pe,Ie),wr.mark(pe,Ie)}function Ol(pe){if(!wr.canBeObservable(pe))return pe;var Ie=wr.getOrigin(pe),qe=ei.find(Ie);if(!qe){var jt=zi.transform(Ie);return zi.is(jt)&&wr.mark(Ie),jt}return qe.forEach(function(Dr){return go(Ie,Dr)}),Ie}function Es(pe,Ie,qe){try{return pe.call(Ie)}catch(jt){if(jt instanceof TypeError&&jt.message.includes("Illegal invocation"))return pe.call(qe);throw jt}}var Gs;(function(pe){var Ie=pe.activator=Symbol("activator");function qe(jr){return wr.canBeObservable(jr)&&jr[re.Tracker]}pe.is=qe;function jt(jr){return jr[re.Tracker]}pe.getOrigin=jt;function Dr(jr){return qe(jr)?jt(jr):jr}pe.tryGetOrigin=Dr})(Gs||(Gs={}));var iu;(function(pe){function Ie(si,Vr,Gn){Reflect.defineMetadata(Vr,Gn,si,re.Tracker)}pe.set=Ie;function qe(si,Vr){return Reflect.getMetadata(Vr,si,re.Tracker)}pe.get=qe;function jt(si,Vr){return Reflect.hasOwnMetadata(Vr,si,re.Tracker)}pe.has=jt;function Dr(si,Vr,Gn){return si instanceof Array?jr(si,Vr,Gn):si instanceof Map?fi(si,Vr,Gn):cr(si)?Pn(si,Vr,Gn):si}pe.tramsform=Dr;function jr(si,Vr,Gn){return new Proxy(si,{get:function(ni,jn){var Bi=ni[jn];return jn===re.Self||Object.isFrozen(ni)?Bi:jn===Gs.activator?Gn:hi(Bi,Vr)}})}pe.transformArray=jr;function Pn(si,Vr,Gn){return new Proxy(si,{get:function(ni,jn){var Bi=ni[jn];return jn===re.Self||Object.isFrozen(ni)?Bi:jn===Gs.activator?Gn:hi(Bi,Vr)}})}pe.transformPlainObject=Pn;function fi(si,Vr,Gn){return new Proxy(si,{get:function(ni,jn){var Bi=ni[jn];return jn===re.Self||Object.isFrozen(ni)?Bi:jn===Gs.activator?Gn:jn==="get"&&typeof Bi=="function"?function(){for(var Ui=arguments.length,ma=new Array(Ui),Mo=0;Mo<Ui;Mo++)ma[Mo]=arguments[Mo];var il=Bi.apply(ni,ma);return hi(il,Vr)}:Bi}})}pe.transformMap=fi;function Hn(si,Vr){wr.marked(si)||Ol(si);var Gn=new Proxy(si,{get:function(ni,jn){if(jn===re.Tracker||jn===re.Self)return ni;var Bi,Ui;if(typeof jn=="string"){if(wr.shouldKeepOrigin(ni,jn))return ni[jn];var ma=oe(ni,jn);if((ma==null?void 0:ma.configurable)===!1&&(ma==null?void 0:ma.writable)===!1)return ni[jn];if(wr.marked(ni,jn))return Bi=oa.getOrCreate(ni,jn),oa.once(Bi,Vr,function(){Vr({key:jn,value:ni[jn]})}),Ui=ni[jn],hi(Ui,Vr,!0);if(ma!=null&&ma.get)return Es(ma.get,Gn,ni)}return Ui=ni[jn],hi(Ui,Vr,!0)}});return Ie(si,Vr,Gn),Gn}pe.toInstanceTracker=Hn;function ci(si,Vr,Gn){var di=zi.get(si);di||(di=zi.transform(si));var ni;if(!Gn&&zi.is(di)){var jn=zi.getNotifier(di);ni=function(){oa.once(jn,Vr,function(){Vr(si)})},ni()}var Bi=Dr(di,Vr,ni);return Ie(si,Vr,Bi),Bi}pe.toNotifiableTracker=ci;function hi(si,Vr){var Gn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!wr.canBeObservable(si))return si;var di=si;Gs.is(si)&&(di=Gs.getOrigin(si)),di=wr.getOrigin(di);var ni=void 0;return jt(di,Vr)&&(ni=qe(di,Vr),ni)?(ni[Gs.activator]&&ni[Gs.activator](),ni):zi.canBeNotifiable(di)?ci(di,Vr,Gn):Hn(di,Vr)}pe.track=hi})(iu||(iu={}));function ql(pe){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},ql(pe)}function $f(pe,Ie){return Ph(pe)||Ts(pe,Ie)||au(pe,Ie)||ju()}function ju(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function au(pe,Ie){if(pe){if(typeof pe=="string")return Ms(pe,Ie);var qe=Object.prototype.toString.call(pe).slice(8,-1);if(qe==="Object"&&pe.constructor&&(qe=pe.constructor.name),qe==="Map"||qe==="Set")return Array.from(pe);if(qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe))return Ms(pe,Ie)}}function Ms(pe,Ie){(Ie==null||Ie>pe.length)&&(Ie=pe.length);for(var qe=0,jt=new Array(Ie);qe<Ie;qe++)jt[qe]=pe[qe];return jt}function Ts(pe,Ie){var qe=pe==null?null:typeof Symbol!="undefined"&&pe[Symbol.iterator]||pe["@@iterator"];if(qe!=null){var jt,Dr,jr,Pn,fi=[],Hn=!0,ci=!1;try{if(jr=(qe=qe.call(pe)).next,Ie===0){if(Object(qe)!==qe)return;Hn=!1}else for(;!(Hn=(jt=jr.call(qe)).done)&&(fi.push(jt.value),fi.length!==Ie);Hn=!0);}catch(hi){ci=!0,Dr=hi}finally{try{if(!Hn&&qe.return!=null&&(Pn=qe.return(),Object(Pn)!==Pn))return}finally{if(ci)throw Dr}}return fi}}function Ph(pe){if(Array.isArray(pe))return pe}function ff(pe,Ie){var qe=Object.keys(pe);if(Object.getOwnPropertySymbols){var jt=Object.getOwnPropertySymbols(pe);Ie&&(jt=jt.filter(function(Dr){return Object.getOwnPropertyDescriptor(pe,Dr).enumerable})),qe.push.apply(qe,jt)}return qe}function wa(pe){for(var Ie=1;Ie<arguments.length;Ie++){var qe=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?ff(Object(qe),!0).forEach(function(jt){ea(pe,jt,qe[jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(qe)):ff(Object(qe)).forEach(function(jt){Object.defineProperty(pe,jt,Object.getOwnPropertyDescriptor(qe,jt))})}return pe}function ea(pe,Ie,qe){return Ie=$s(Ie),Ie in pe?Object.defineProperty(pe,Ie,{value:qe,enumerable:!0,configurable:!0,writable:!0}):pe[Ie]=qe,pe}function $s(pe){var Ie=Ql(pe,"string");return ql(Ie)=="symbol"?Ie:String(Ie)}function Ql(pe,Ie){if(ql(pe)!="object"||!pe)return pe;var qe=pe[Symbol.toPrimitive];if(qe!==void 0){var jt=qe.call(pe,Ie||"default");if(ql(jt)!="object")return jt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ie==="string"?String:Number)(pe)}function Al(pe){return!!pe&&pe.key!==void 0&&pe.value!==void 0}var lc=function(Ie,qe){return Al(qe)?wa(wa({},Ie),{},ea({},qe.key,qe.value)):wa({},Ie)};function Uf(pe){var Ie=Ve.useReducer(lc,{}),qe=$f(Ie,2),jt=qe[1];return wr.canBeObservable(pe)?iu.track(pe,jt):pe}function St(pe){var Ie=React.useMemo(function(){return pe},[]);return Uf(Ie)}function Pe(pe){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},Pe(pe)}function yt(pe,Ie){if(!(pe instanceof Ie))throw new TypeError("Cannot call a class as a function")}function qt(pe,Ie){for(var qe=0;qe<Ie.length;qe++){var jt=Ie[qe];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(pe,xn(jt.key),jt)}}function _r(pe,Ie,qe){return Ie&&qt(pe.prototype,Ie),qe&&qt(pe,qe),Object.defineProperty(pe,"prototype",{writable:!1}),pe}function rn(pe,Ie,qe){return Ie=xn(Ie),Ie in pe?Object.defineProperty(pe,Ie,{value:qe,enumerable:!0,configurable:!0,writable:!0}):pe[Ie]=qe,pe}function xn(pe){var Ie=vn(pe,"string");return Pe(Ie)=="symbol"?Ie:String(Ie)}function vn(pe,Ie){if(Pe(pe)!="object"||!pe)return pe;var qe=pe[Symbol.toPrimitive];if(qe!==void 0){var jt=qe.call(pe,Ie||"default");if(Pe(jt)!="object")return jt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ie==="string"?String:Number)(pe)}var Ii={getContainer:function(){}},Fa=function(){function pe(){var Ie=this;yt(this,pe),rn(this,"context",Ii),rn(this,"getContainer",function(){return Ie.context.getContainer()})}return _r(pe,[{key:"config",value:function(qe){this.context=qe}}]),pe}(),_o=new Fa,vl=null;function Us(pe){var Ie=useContext(vl),qe=Ie.getContainer,jt=useMemo(function(){var Dr=qe();if(!Dr)throw new Error("Can not find container in context, please check the context settings.");return Dr.get(pe)},[qe,pe]);return useObserve(jt)}function Eo(pe){var Ie=yi(pe);return wr.canBeObservable(Ie)?wr.marked(Ie)?Ie:Ol(Ie):Ie}function as(pe,Ie){var qe=yi(pe);if(!wr.canBeObservable(qe))return Dt.NONE;Eo(qe);var jt=oa.toEvent(qe);if(jt===Et.None)return console.warn("Cannot add watcher for unobservable target",pe),Dt.NONE;var Dr=Object.keys(qe);return Dr&&Dr.forEach(function(jr){return oa.find(pe,jr)}),jt(Ie)}function Os(pe,Ie,qe){var jt=yi(pe);Eo(jt);var Dr=oa.toEvent(jt,Ie);return Dr===Et.None?(console.warn("Cannot add watcher for unobservable property ".concat(Ie.toString()),pe),Dt.NONE):Dr(qe)}function Yf(pe,Ie,qe){var jt;return typeof Ie=="function"?(jt=Ie,as(pe,jt)):typeof Ie=="string"&&qe?(jt=qe,Os(pe,Ie,jt)):(console.warn("Invalid arguments for watch ".concat(Ie.toString()),pe),Dt.NONE)}function hf(){return function(pe,Ie){ei.add(pe.constructor,Ie)}}function Id(){return function(pe,Ie){Observability.defineOrigin(pe.constructor,Ie)}}},50476:function(ai,Sn,tt){"use strict";tt.d(Sn,{ZP:function(){return Tr},Dt:function(){return er}});var Ve=tt(87363),ye=tt.n(Ve),ut=tt(75784),oe=tt(76311),cr=tt(12611);function re(vr){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Yr){return typeof Yr}:function(Yr){return Yr&&typeof Symbol=="function"&&Yr.constructor===Symbol&&Yr!==Symbol.prototype?"symbol":typeof Yr},re(vr)}function ie(vr,Yr){var mn=Object.keys(vr);if(Object.getOwnPropertySymbols){var Mn=Object.getOwnPropertySymbols(vr);Yr&&(Mn=Mn.filter(function(Fr){return Object.getOwnPropertyDescriptor(vr,Fr).enumerable})),mn.push.apply(mn,Mn)}return mn}function Ft(vr){for(var Yr=1;Yr<arguments.length;Yr++){var mn=arguments[Yr]!=null?arguments[Yr]:{};Yr%2?ie(Object(mn),!0).forEach(function(Mn){Dt(vr,Mn,mn[Mn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(vr,Object.getOwnPropertyDescriptors(mn)):ie(Object(mn)).forEach(function(Mn){Object.defineProperty(vr,Mn,Object.getOwnPropertyDescriptor(mn,Mn))})}return vr}function Dt(vr,Yr,mn){return Yr=or(Yr),Yr in vr?Object.defineProperty(vr,Yr,{value:mn,enumerable:!0,configurable:!0,writable:!0}):vr[Yr]=mn,vr}function or(vr){var Yr=kt(vr,"string");return re(Yr)=="symbol"?Yr:String(Yr)}function kt(vr,Yr){if(re(vr)!="object"||!vr)return vr;var mn=vr[Symbol.toPrimitive];if(mn!==void 0){var Mn=mn.call(vr,Yr||"default");if(re(Mn)!="object")return Mn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Yr==="string"?String:Number)(vr)}function Mt(vr,Yr){return Gt(vr)||lt(vr,Yr)||D(vr,Yr)||U()}function U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D(vr,Yr){if(vr){if(typeof vr=="string")return Pt(vr,Yr);var mn=Object.prototype.toString.call(vr).slice(8,-1);if(mn==="Object"&&vr.constructor&&(mn=vr.constructor.name),mn==="Map"||mn==="Set")return Array.from(vr);if(mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mn))return Pt(vr,Yr)}}function Pt(vr,Yr){(Yr==null||Yr>vr.length)&&(Yr=vr.length);for(var mn=0,Mn=new Array(Yr);mn<Yr;mn++)Mn[mn]=vr[mn];return Mn}function lt(vr,Yr){var mn=vr==null?null:typeof Symbol!="undefined"&&vr[Symbol.iterator]||vr["@@iterator"];if(mn!=null){var Mn,Fr,Rn,Wn,Ge=[],Et=!0,Rr=!1;try{if(Rn=(mn=mn.call(vr)).next,Yr===0){if(Object(mn)!==mn)return;Et=!1}else for(;!(Et=(Mn=Rn.call(mn)).done)&&(Ge.push(Mn.value),Ge.length!==Yr);Et=!0);}catch(un){Rr=!0,Fr=un}finally{try{if(!Et&&mn.return!=null&&(Wn=mn.return(),Object(Wn)!==Wn))return}finally{if(Rr)throw Fr}}return Ge}}function Gt(vr){if(Array.isArray(vr))return vr}var lr={},tr=function(){},xt=new Proxy(lr,{set:function(Yr,mn,Mn){return Reflect.set(Yr,mn,Mn),tr(Yr,mn,Mn),!0}});function gt(vr){xt[vr]=function(){return null}}function er(vr,Yr,mn){xt[vr]=Yr,mn&&Reflect.set(Yr,"inst",mn)}function Lt(vr){var Yr=ye().useState({}),mn=Mt(Yr,2),Mn=mn[0],Fr=mn[1],Rn=(0,ut.L00)(),Wn=Rn.spreadsheet,Ge=(0,Ve.useState)(0),Et=Mt(Ge,2),Rr=Et[0],un=Et[1],yn=vr.hidden,Vt=yn===void 0?!1:yn;(0,Ve.useEffect)(function(){return tr=function(){un(function(_e){return _e+1})},function(){tr=function(){}}},[]),(0,ut.ixp)(oe.ch4.GLOBAL_SCROLL,function(){return un(function(Ae){return Ae+1})});var Ce=function(){var _e=(0,cr.flatten)(Object.values(xt).filter(function(ze){var Bt=Reflect.get(ze,"inst");return!Bt||Bt===Wn}).map(function(ze){return ze()}).filter(function(ze){return ze}));return _e.length?_e:null};ye().useEffect(function(){var Ae=Wn.getCanvasElement();if(Ae){var _e=new ResizeObserver((0,cr.debounce)(function(){if(Ae){var ze=Ae.getBoundingClientRect(),Bt=ze.left,at=ze.top,wt=ze.width,fe=ze.height;Fr({left:0,top:0,width:wt,height:fe,position:"absolute",pointerEvents:"none"})}},10));return _e.observe(Ae),function(){_e.unobserve(Ae)}}},[Wn.getCanvasElement()]);var be=Vt?{display:"none"}:{};return ye().createElement("div",{className:"synergy",style:Ft(Ft({},Mn),be)},ye().createElement("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"}},Ce()))}var Nt={childContribution:Lt},Tr=Nt},40496:function(ai,Sn,tt){"use strict";tt.d(Sn,{ZP:function(){return Bt}});var Ve=tt(87363),ye=tt.n(Ve),ut=tt(95876),oe=tt(75784),cr=tt(90005),re=tt.n(cr),ie=tt(12611);function Ft(at,wt){return U(at)||Mt(at,wt)||or(at,wt)||Dt()}function Dt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function or(at,wt){if(at){if(typeof at=="string")return kt(at,wt);var fe=Object.prototype.toString.call(at).slice(8,-1);if(fe==="Object"&&at.constructor&&(fe=at.constructor.name),fe==="Map"||fe==="Set")return Array.from(at);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return kt(at,wt)}}function kt(at,wt){(wt==null||wt>at.length)&&(wt=at.length);for(var fe=0,st=new Array(wt);fe<wt;fe++)st[fe]=at[fe];return st}function Mt(at,wt){var fe=at==null?null:typeof Symbol!="undefined"&&at[Symbol.iterator]||at["@@iterator"];if(fe!=null){var st,Tt,ir,bt,sr=[],dr=!0,Pr=!1;try{if(ir=(fe=fe.call(at)).next,wt===0){if(Object(fe)!==fe)return;dr=!1}else for(;!(dr=(st=ir.call(fe)).done)&&(sr.push(st.value),sr.length!==wt);dr=!0);}catch(an){Pr=!0,Tt=an}finally{try{if(!dr&&fe.return!=null&&(bt=fe.return(),Object(bt)!==bt))return}finally{if(Pr)throw Tt}}return sr}}function U(at){if(Array.isArray(at))return at}var D=function(wt,fe){return Object.entries((0,ie.countBy)(fe.map(function(st){return st[wt]}))).map(function(st){var Tt=Ft(st,2),ir=Tt[0],bt=Tt[1];return{id:ir,number:bt}}).sort(function(st,Tt){return st.number<Tt.number?1:-1})};function Pt(at){return tr(at)||lr(at)||Gt(at)||lt()}function lt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gt(at,wt){if(at){if(typeof at=="string")return xt(at,wt);var fe=Object.prototype.toString.call(at).slice(8,-1);if(fe==="Object"&&at.constructor&&(fe=at.constructor.name),fe==="Map"||fe==="Set")return Array.from(at);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return xt(at,wt)}}function lr(at){if(typeof Symbol!="undefined"&&at[Symbol.iterator]!=null||at["@@iterator"]!=null)return Array.from(at)}function tr(at){if(Array.isArray(at))return xt(at)}function xt(at,wt){(wt==null||wt>at.length)&&(wt=at.length);for(var fe=0,st=new Array(wt);fe<wt;fe++)st[fe]=at[fe];return st}var gt=function(wt,fe){return Number(wt)+Number(fe)},er=function(wt){return wt*wt},Lt=function(wt,fe){return wt<fe?-1:1},Nt=function(wt){var fe=Pt(wt);return fe.sort(Lt),fe.length%2===0?(Number(wt[wt.length/2])+Number(wt[wt.length/2+1]))/2:wt[(wt.length+1)/2]},Tr=function(wt){var fe=Pt(wt);return fe.sort(Lt),fe[Math.floor(wt.length/4)]},vr=function(wt){var fe=wt.colIndex,st=wt.dataset,Tt=wt.id,ir=(0,oe.L00)(),bt=ir.theme;ye().useLayoutEffect(function(){var de=D(fe,st),ve=new ut.kL({container:Tt,autoFit:!0,width:150,height:120,padding:[4,4,4,4]});return ve.data(de),ve.scale("number",{alias:"\u6570\u91CF"}),ve.area().position("id*number").color("l(100) 0.7:rgba(91,143,249,0.85) 1:#ffffff"),ve.line().position("id*number"),ve.axis("id",!1),ve.axis("number",!1),ve.render(),function(){return ve.destroy()}},[st.length,Tt]);var sr=st.map(function(de){return de[fe]}).filter(function(de){return!isNaN(de)}),dr=Math.max.apply(Math,Pt(sr)),Pr=Math.min.apply(Math,Pt(sr)),an=sr.reduce(gt,0)/sr.length,fn=Nt(sr),qn=Tr(sr)||0,cn=sr.map(function(de){return de-an}),Kr=Math.sqrt(cn.map(er).reduce(gt,0)/(sr.length-1)),rt=re()("cell",bt==="light"&&"light");return ye().createElement("div",{className:"weave-summary-grid",style:{background:bt==="dark"?"#1b2333":"white"}},ye().createElement("div",{id:Tt,style:{gridArea:"1/1/2/7"},className:"summary-graph"}),ye().createElement("div",{className:rt,style:{gridArea:"2/1/3/3"}},ye().createElement(oe.BvW,{text:dr,line:1}),ye().createElement("div",null,"\u6700\u5927\u503C")),ye().createElement("div",{className:rt,style:{gridArea:"2/3/3/5"}},ye().createElement(oe.BvW,{text:Pr,line:1}),ye().createElement("div",null,"\u6700\u5C0F\u503C")),ye().createElement("div",{className:rt,style:{gridArea:"2/5/3/7"}},ye().createElement(oe.BvW,{text:an.toFixed(2),line:1}),ye().createElement("div",null,"\u5747\u503C")),ye().createElement("div",{className:rt,style:{gridArea:"3/1/4/3"}},ye().createElement(oe.BvW,{text:fn,line:1}),ye().createElement("div",null,"\u4E2D\u4F4D\u6570")),ye().createElement("div",{className:rt,style:{gridArea:"3/3/4/5"}},ye().createElement(oe.BvW,{text:qn,line:1}),ye().createElement("div",null,"\u56DB\u5206\u4F4D\u6570")),ye().createElement("div",{className:rt,style:{gridArea:"3/5/4/7"}},ye().createElement(oe.BvW,{text:Kr.toFixed(2),line:1}),ye().createElement("div",null,"\u6807\u51C6\u5DEE")))};function Yr(at){return Rn(at)||Fr(at)||Mn(at)||mn()}function mn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mn(at,wt){if(at){if(typeof at=="string")return Wn(at,wt);var fe=Object.prototype.toString.call(at).slice(8,-1);if(fe==="Object"&&at.constructor&&(fe=at.constructor.name),fe==="Map"||fe==="Set")return Array.from(at);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return Wn(at,wt)}}function Fr(at){if(typeof Symbol!="undefined"&&at[Symbol.iterator]!=null||at["@@iterator"]!=null)return Array.from(at)}function Rn(at){if(Array.isArray(at))return Wn(at)}function Wn(at,wt){(wt==null||wt>at.length)&&(wt=at.length);for(var fe=0,st=new Array(wt);fe<wt;fe++)st[fe]=at[fe];return st}var Ge=function(wt){var fe=wt.colIndex,st=wt.dataset,Tt=wt.id,ir=(0,oe.L00)(),bt=ir.theme,sr=D(fe,st);ye().useLayoutEffect(function(){var an=new ut.kL({container:Tt,autoFit:!0,width:150,height:120,padding:[8,8,8,8]}),fn=[{id:"\u5176\u4ED6",number:sr.slice(5).reduce(function(qn,cn){return qn+cn.number},0)}].concat(Yr(sr.slice(0,5).reverse()));return an.data(fn),an.coordinate().transpose(),an.interval().position("id*number").color("rgba(91,143,249,0.85)"),an.scale("number",{alias:"\u6570\u91CF"}),an.scale("id",{type:"cat"}),an.axis("id",!1),an.axis("number",!1),an.render(),function(){an.destroy()}},[st.length,Tt]);var dr=new Set(sr.map(function(an){return an.id})).size,Pr=(st.length-st.filter(function(an){var fn=an[fe];return!(!fn||["\\n","\\N","-"].includes(fn))}).length)/st.length*100;return ye().createElement("div",{className:"weave-summary-grid",style:{background:bt==="dark"?"#1b2333":"white"}},ye().createElement("div",{id:Tt,className:"summary-graph",style:{gridArea:"1/1/2/7"}}),ye().createElement("div",{style:{gridArea:"2/1/4/4"},className:re()(["cell",bt==="light"&&"light"])},ye().createElement(oe.BvW,{text:dr,line:1}),ye().createElement("div",null,"\u679A\u4E3E\u503C\u6570")),ye().createElement("div",{style:{gridArea:"2/4/4/7"},className:re()(["cell",bt==="light"&&"light"])},ye().createElement(oe.BvW,{text:Pr.toPrecision(2)+"%",line:1}),ye().createElement("div",null,"\u7A7A\u503C\u7387")))};function Et(){return Et=Object.assign?Object.assign.bind():function(at){for(var wt=1;wt<arguments.length;wt++){var fe=arguments[wt];for(var st in fe)Object.prototype.hasOwnProperty.call(fe,st)&&(at[st]=fe[st])}return at},Et.apply(this,arguments)}function Rr(at,wt){return be(at)||Ce(at,wt)||yn(at,wt)||un()}function un(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yn(at,wt){if(at){if(typeof at=="string")return Vt(at,wt);var fe=Object.prototype.toString.call(at).slice(8,-1);if(fe==="Object"&&at.constructor&&(fe=at.constructor.name),fe==="Map"||fe==="Set")return Array.from(at);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return Vt(at,wt)}}function Vt(at,wt){(wt==null||wt>at.length)&&(wt=at.length);for(var fe=0,st=new Array(wt);fe<wt;fe++)st[fe]=at[fe];return st}function Ce(at,wt){var fe=at==null?null:typeof Symbol!="undefined"&&at[Symbol.iterator]||at["@@iterator"];if(fe!=null){var st,Tt,ir,bt,sr=[],dr=!0,Pr=!1;try{if(ir=(fe=fe.call(at)).next,wt===0){if(Object(fe)!==fe)return;dr=!1}else for(;!(dr=(st=ir.call(fe)).done)&&(sr.push(st.value),sr.length!==wt);dr=!0);}catch(an){Pr=!0,Tt=an}finally{try{if(!dr&&fe.return!=null&&(bt=fe.return(),Object(bt)!==bt))return}finally{if(Pr)throw Tt}}return sr}}function be(at){if(Array.isArray(at))return at}var Ae=function(wt,fe){return wt.every(function(st){var Tt=st[fe];return Tt===fe||Tt===null||Tt===void 0||typeof Tt=="number"?!0:typeof Tt=="string"&&!Number.isNaN(Number(Tt))})};function _e(at){return ye().forwardRef(function(wt,fe){var st=wt.summaryRowCfg,Tt=(0,Ve.useState)((0,ie.merge)({height:200,width:232,rowIndex:0,visible:!1},st)),ir=Rr(Tt,1),bt=ir[0];return ye().createElement(at,Et({},wt,{ref:fe,summaryRowCfg:bt,renderSummaryCell:function(dr,Pr){var an=dr.field;return Ae(Pr,an)?ye().createElement(vr,{colIndex:an,dataset:Pr,id:an}):ye().createElement(Ge,{colIndex:an,dataset:Pr,id:an})}}))})}var ze={wrapperContribution:_e},Bt=ze},14214:function(ai,Sn,tt){"use strict";tt.d(Sn,{Z:function(){return ie}});var Ve=tt(87363),ye=tt.n(Ve),ut=tt(81821),oe=tt(15934),cr=ut.Select.Option,re=function(Dt){var or=Dt.value,kt=Dt.onChange;return ye().createElement(ut.Select,{className:"aggregation-select",defaultValue:oe.Pe.COUNT,onChange:function(U){kt(U)},value:or,placeholder:"\u8BF7\u9009\u62E9",style:{width:106,marginRight:10}},oe.d0.map(function(Mt){return ye().createElement(cr,{value:Mt.id,key:Mt.id},Mt.displayName)}))},ie=re},30095:function(ai,Sn,tt){"use strict";var Ve=tt(87363),ye=tt.n(Ve),ut=tt(81821),oe=tt.n(ut),cr=ut.Select.Option,re=function(Ft){var Dt=Ft.label,or=Ft.value,kt=Ft.columns,Mt=Ft.onChange,U=Ft.valueWidth,D=U===void 0?276:U;return ye().createElement("div",{className:"weave-chart-config-contain"},ye().createElement("div",{className:"weave-chart-config-label"},Dt),ye().createElement("div",{className:"weave-chart-config-value"},ye().createElement(ut.Select,{onChange:Mt,value:or,showSearch:!0,style:{width:D},placeholder:"\u8BF7\u9009\u62E9"},kt.map(function(Pt){return ye().createElement(cr,{value:Pt.name,key:Pt.name},Pt.id)}))))};Sn.Z=re},15934:function(ai,Sn,tt){"use strict";tt.d(Sn,{IL:function(){return Et},Pe:function(){return Ge},d0:function(){return Rr},jm:function(){return yn},oX:function(){return Wn}});var Ve=tt(89446),ye=tt(12611),ut=tt.n(ye),oe=tt(61320),cr=tt.n(oe),re=tt(19399);function ie(Ae){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},ie(Ae)}var Ft,Dt,or,kt,Mt,U,D,Pt,lt,Gt,lr,tr,xt,gt,er;function Lt(Ae,_e,ze){return _e=mn(_e),_e in Ae?Object.defineProperty(Ae,_e,{value:ze,enumerable:!0,configurable:!0,writable:!0}):Ae[_e]=ze,Ae}function Nt(Ae,_e,ze,Bt){ze&&Object.defineProperty(Ae,_e,{enumerable:ze.enumerable,configurable:ze.configurable,writable:ze.writable,value:ze.initializer?ze.initializer.call(Bt):void 0})}function Tr(Ae,_e){if(!(Ae instanceof _e))throw new TypeError("Cannot call a class as a function")}function vr(Ae,_e){for(var ze=0;ze<_e.length;ze++){var Bt=_e[ze];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Ae,mn(Bt.key),Bt)}}function Yr(Ae,_e,ze){return _e&&vr(Ae.prototype,_e),ze&&vr(Ae,ze),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae}function mn(Ae){var _e=Mn(Ae,"string");return ie(_e)=="symbol"?_e:String(_e)}function Mn(Ae,_e){if(ie(Ae)!="object"||!Ae)return Ae;var ze=Ae[Symbol.toPrimitive];if(ze!==void 0){var Bt=ze.call(Ae,_e||"default");if(ie(Bt)!="object")return Bt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(Ae)}function Fr(Ae,_e,ze,Bt,at){var wt={};return Object.keys(Bt).forEach(function(fe){wt[fe]=Bt[fe]}),wt.enumerable=!!wt.enumerable,wt.configurable=!!wt.configurable,("value"in wt||wt.initializer)&&(wt.writable=!0),wt=ze.slice().reverse().reduce(function(fe,st){return st(Ae,_e,fe)||fe},wt),at&&wt.initializer!==void 0&&(wt.value=wt.initializer?wt.initializer.call(at):void 0,wt.initializer=void 0),wt.initializer===void 0&&(Object.defineProperty(Ae,_e,wt),wt=null),wt}function Rn(Ae,_e){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}var Wn=function(Ae){return Ae.LINE="line",Ae.PIE="pie",Ae.BAR="bar",Ae}({}),Ge=function(Ae){return Ae.COUNT="count",Ae.SUM="sum",Ae}({}),Et=(Ft=(0,re.ZR)("ChartConfig"),Dt=(0,Ve.vg)(),or=(0,Ve.vg)(),kt=(0,Ve.vg)(),Mt=(0,Ve.vg)(),U=(0,Ve.vg)(),D=(0,Ve.vg)(),Ft(Pt=(lt=function(){function Ae(){Tr(this,Ae),Nt(this,"id",Gt,this),Nt(this,"x",lr,this),Nt(this,"y",tr,this),Nt(this,"split",xt,this),Nt(this,"aggregation",gt,this),Nt(this,"type",er,this)}return Yr(Ae,[{key:"reset",value:function(){this.id=null,this.x=null,this.y=null,this.split=null,this.aggregation=null,this.type=null}}]),Ae}(),Gt=Fr(lt.prototype,"id",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lr=Fr(lt.prototype,"x",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tr=Fr(lt.prototype,"y",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=Fr(lt.prototype,"split",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=Fr(lt.prototype,"aggregation",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),er=Fr(lt.prototype,"type",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt))||Pt),Rr=[{id:Ge.COUNT,displayName:"\u8BA1\u6570"},{id:Ge.SUM,displayName:"\u6C42\u548C"}],un={x:"",y:"",split:"",aggregation:Ge.COUNT},yn=function(_e,ze,Bt,at,wt){var fe=Bt===Ge.COUNT,st=fe?"\u8BA1\u6570":"\u6C42\u548C",Tt={};return at.slice(1).forEach(function(ir,bt){wt?Tt["".concat(ir[_e],"-").concat(ir[wt])]?Tt["".concat(ir[_e],"-").concat(ir[wt])][ze]+=fe?1:Number(ir[ze]):Tt["".concat(ir[_e],"-").concat(ir[wt])]=Lt(Lt(Lt({},_e,ir[_e]),wt,"".concat(ir[wt],"(").concat(st,")")),ze,fe?1:Number(ir[ze])):Tt[ir[_e]]?Tt[ir[_e]]["".concat(ze,"(").concat(st,")")]+=fe?1:Number(ir[ze]):Tt[ir[_e]]=Lt(Lt({},_e,ir[_e]),"".concat(ze,"(").concat(st,")"),fe?1:Number(ir[ze]))}),Object.entries(Tt).sort(function(ir,bt){var sr=ir[1][_e],dr=bt[1][_e];return cr()(sr).isValid()&&cr()(dr).isValid()?cr()(sr)>cr()(dr)?1:-1:!isNaN(sr)&&!isNaN(dr)?(0,ye.toNumber)(sr)-(0,ye.toNumber)(dr):sr-dr}).map(function(ir){return ir[1]})},Vt=function(_e,ze){return _e.every(function(Bt){var at=Bt[ze];return typeof at=="string"&&!Number.isNaN(Number(at))})},Ce=function(_e,ze){return _e.every(function(Bt){var at=Bt[ze];return isNaN(at)&&!isNaN(Date.parse(at))?!0:/^([12]\d{3})(0\d|1[0-2])([0-2]\d|3[01])$/.test(at)&&moment(at).isValid()})},be=function(_e,ze){var Bt,at,wt,fe,st,Tt,ir,bt,sr,dr,Pr,an={x:void 0,y:void 0,split:void 0},fn={x:void 0,y:void 0,split:void 0},qn={x:void 0,y:void 0},cn={row:[],column:[],value:[],valueType:"average"},Kr={},rt={};if(!_e||!(_e!=null&&_e.length))return{numMap:Kr,timeMap:rt,barSetting:an,lineSetting:fn,pieSetting:qn,pivottableSetting:cn};var de=Object.keys(_e[0]),ve=_e.slice(1,11);de.forEach(function(Ln){Kr[Ln]=Vt(ve,Ln),rt[Ln]=Ce(ve,Ln)});var ce=(Bt=ze.find(function(Ln){return!Kr[Ln.name]}))===null||Bt===void 0?void 0:Bt.name,xe=(at=ze.find(function(Ln){return!Kr[Ln.name]&&ce!==Ln.name}))===null||at===void 0?void 0:at.name,Ee=(wt=ze.find(function(Ln){return Kr[Ln.name]}))===null||wt===void 0?void 0:wt.name,Be=(fe=ze.find(function(Ln){return Kr[Ln.name]&&Ee!==Ln.name}))===null||fe===void 0?void 0:fe.name,Re=ce||Be,ct=Ee||xe;an={x:Re,y:ct,split:void 0};var ht=(st=ze.find(function(Ln){return rt[Ln.name]}))===null||st===void 0?void 0:st.name,Ht=(Tt=ze.find(function(Ln){return Kr[Ln.name]&&!rt[Ln.name]}))===null||Tt===void 0?void 0:Tt.name,Yt=(ir=ze.find(function(Ln){return!Kr[Ln.name]&&!rt[Ln.name]}))===null||ir===void 0?void 0:ir.name,rr=ht,hr=Ht||Yt;fn={x:rr,y:hr,split:void 0},qn={x:Re,y:ct};var Hr=(bt=ze.find(function(Ln){return!Kr[Ln.name]&&!rt[Ln.name]}))===null||bt===void 0?void 0:bt.name,Zt=(sr=ze.find(function(Ln){return!Kr[Ln.name]&&!rt[Ln.name]&&ce!==Ln.name}))===null||sr===void 0?void 0:sr.name,qr=(dr=ze.find(function(Ln){return Kr[Ln.name]}))===null||dr===void 0?void 0:dr.name,Qr=(Pr=ze.find(function(Ln){return Kr[Ln.name]&&qr!==Ln.name}))===null||Pr===void 0?void 0:Pr.name,dn=Hr||Qr?[Hr||Qr]:[],kn=Zt?[Zt]:[],wr=qr?[qr]:[],ei=Object.keys(Kr).length>0?"average":"count";return cn={row:dn,column:kn,value:wr,valueType:ei},{numMap:Kr,timeMap:rt,barSetting:an,lineSetting:fn,pieSetting:qn,pivottableSetting:cn}}},53829:function(ai,Sn){"use strict";function tt(Ft){"@babel/helpers - typeof";return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Dt){return typeof Dt}:function(Dt){return Dt&&typeof Symbol=="function"&&Dt.constructor===Symbol&&Dt!==Symbol.prototype?"symbol":typeof Dt},tt(Ft)}function Ve(Ft,Dt){for(var or=0;or<Dt.length;or++){var kt=Dt[or];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(Ft,ut(kt.key),kt)}}function ye(Ft,Dt,or){return Dt&&Ve(Ft.prototype,Dt),or&&Ve(Ft,or),Object.defineProperty(Ft,"prototype",{writable:!1}),Ft}function ut(Ft){var Dt=oe(Ft,"string");return tt(Dt)=="symbol"?Dt:String(Dt)}function oe(Ft,Dt){if(tt(Ft)!="object"||!Ft)return Ft;var or=Ft[Symbol.toPrimitive];if(or!==void 0){var kt=or.call(Ft,Dt||"default");if(tt(kt)!="object")return kt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Dt==="string"?String:Number)(Ft)}function cr(Ft,Dt){if(!(Ft instanceof Dt))throw new TypeError("Cannot call a class as a function")}var re=ye(function Ft(){cr(this,Ft),this.transformers=void 0,this.executables=void 0,this.models=void 0,this.modelCtors=void 0,this.instancedModels=void 0,this.transformers=new Map,this.executables=new Map,this.models=new Map,this.modelCtors=new Map,this.instancedModels=new WeakMap}),ie=new re;Sn.Z=ie},95684:function(ai,Sn,tt){"use strict";tt.d(Sn,{C:function(){return ye},m:function(){return Ve}});var Ve=function(ut){return ut[ut.FILTER=0]="FILTER",ut[ut.SORT=1]="SORT",ut[ut.FILTERBYEXP=2]="FILTERBYEXP",ut[ut.FREEZECOL=3]="FREEZECOL",ut[ut.SPLITCOL=4]="SPLITCOL",ut[ut.ADDCHART=5]="ADDCHART",ut[ut.REMOVECHART=6]="REMOVECHART",ut[ut.APPLYCONDITION=7]="APPLYCONDITION",ut[ut.EDITCELL=8]="EDITCELL",ut[ut.ADDROW=9]="ADDROW",ut[ut.REMOVEROW=10]="REMOVEROW",ut[ut.ADDCOL=11]="ADDCOL",ut[ut.RENAMECOL=12]="RENAMECOL",ut[ut.MODIFYCOLCONFIG=13]="MODIFYCOLCONFIG",ut[ut.REMOVECOL=14]="REMOVECOL",ut[ut.EXPANDDIM=15]="EXPANDDIM",ut}({}),ye=function(ut){return ut.Instance="Instance",ut.Global="Global",ut}({})},19399:function(ai,Sn,tt){"use strict";tt.d(Sn,{FL:function(){return ie},HH:function(){return cr},MP:function(){return Mt},P8:function(){return Dt},ZR:function(){return Pt},mY:function(){return Ft},vQ:function(){return D},wv:function(){return U},wx:function(){return kt},yU:function(){return ut}});var Ve=tt(95684),ye=tt(53829),ut=[],oe=Symbol.for("collector"),cr=Symbol.for("DATA_CTOR"),re=Symbol.for("MODEL_CTOR"),ie="__mana__constructor__key__";function Ft(lt){return function(Gt){Reflect.defineMetadata("commandId",lt,Gt);for(var lr=Reflect.getMetadata(oe,Gt)||[];lr.length;){var tr=lr.pop();tr()}}}function Dt(lt){return function(Gt,lr){var tr=Reflect.getMetadata("Scope",lt);or(Gt.constructor,function(){var xt=Reflect.getMetadata("commandId",Gt.constructor);if(tr===Ve.C.Global){if(!ye.Z.models.get(lt)){var gt=new lt;ye.Z.models.set(lt,gt)}ye.Z.models.set(xt,ye.Z.models.get(lt))}else tr===Ve.C.Instance&&ut.push(function(Lt){if(!Lt.get(lt)){var Nt=new lt;Lt.set(lt,Nt)}Lt.set(xt,Lt.get(lt))});var er=Reflect.getMetadata("dataModels",Gt.constructor)||{};er[lr]=lt,Reflect.defineMetadata("dataModels",er,Gt.constructor)})}}function or(lt,Gt){var lr=Reflect.getMetadata(oe,lt)||[];lr.push(Gt),Reflect.defineMetadata(oe,lr,lt)}function kt(){return function(lt,Gt){or(lt,function(){var lr=Reflect.getMetadata("commandId",lt);ye.Z.transformers.set(lr,lt[Gt])})}}function Mt(){return function(lt,Gt){or(lt.constructor,function(){var lr=Reflect.getMetadata("commandId",lt.constructor);ye.Z.executables.set(lr,Gt)})}}function U(){return function(lt){Reflect.defineMetadata("AutoRevert",!0,lt)}}function D(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ve.C.Instance;return function(Gt){Reflect.defineMetadata("Scope",lt,Gt)}}function Pt(lt){return function(Gt){Reflect.defineMetadata(cr,lt,Gt),ye.Z.modelCtors.set(lt,Gt)}}},75784:function(ai,Sn,tt){"use strict";tt.d(Sn,{BvW:function(){return Ha},iG8:function(){return q3},E5N:function(){return os},$_G:function(){return g2},l3E:function(){return Ts},A4U:function(){return jS},ixp:function(){return Es},L00:function(){return rr}});var Ve=tt(18706),ye=tt(76311),ut=tt(87004),oe=tt(12611),cr=tt.n(oe),re=tt(87363),ie=tt.n(re);function Ft(d){"@babel/helpers - typeof";return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Ft(d)}function Dt(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function or(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,Mt(w.key),w)}}function kt(d,p,m){return p&&or(d.prototype,p),m&&or(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function Mt(d){var p=U(d,"string");return Ft(p)=="symbol"?p:String(p)}function U(d,p){if(Ft(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Ft(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function D(){return typeof Reflect!="undefined"&&Reflect.get?D=Reflect.get.bind():D=function(p,m,w){var I=Pt(p,m);if(I){var P=Object.getOwnPropertyDescriptor(I,m);return P.get?P.get.call(arguments.length<3?p:w):P.value}},D.apply(this,arguments)}function Pt(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=er(d),d!==null););return d}function lt(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&Gt(d,p)}function Gt(d,p){return Gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},Gt(d,p)}function lr(d){var p=gt();return function(){var w=er(d),I;if(p){var P=er(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return tr(this,I)}}function tr(d,p){if(p&&(Ft(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xt(d)}function xt(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function gt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function er(d){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},er(d)}var Lt=function(d){lt(m,d);var p=lr(m);function m(){return Dt(this,m),p.apply(this,arguments)}return kt(m,[{key:"drawBackgroundShape",value:function(){D(er(m.prototype),"drawBackgroundShape",this).call(this)}},{key:"drawInteractiveBgShape",value:function(){D(er(m.prototype),"drawInteractiveBgShape",this).call(this)}},{key:"drawTextShape",value:function(){var I=this.meta,P=I.x,N=I.y,$=I.width,V=I.height;this.textShape=this.addShape("polygon",{zIndex:4,attrs:{fill:"rgb(87,94,125)",points:[[P+$,N],[P+$,N+V],[P,N+V]]}})}}]),m}(ye.WkZ),Nt=Lt;function Tr(d){"@babel/helpers - typeof";return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Tr(d)}function vr(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function Yr(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?vr(Object(m),!0).forEach(function(w){mn(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):vr(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function mn(d,p,m){return p=Wn(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function Mn(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function Fr(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,Wn(w.key),w)}}function Rn(d,p,m){return p&&Fr(d.prototype,p),m&&Fr(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function Wn(d){var p=Ge(d,"string");return Tr(p)=="symbol"?p:String(p)}function Ge(d,p){if(Tr(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Tr(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function Et(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&Rr(d,p)}function Rr(d,p){return Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},Rr(d,p)}function un(d){var p=Ce();return function(){var w=be(d),I;if(p){var P=be(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return yn(this,I)}}function yn(d,p){if(p&&(Tr(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vt(d)}function Vt(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function Ce(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function be(d){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},be(d)}var Ae=function(d){Et(m,d);var p=un(m);function m(){var w;Mn(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),w.textShapeExtra=void 0,w}return Rn(m,[{key:"drawTextShape",value:function(){var I=this,P=this.headerConfig.spreadsheet,N=this.meta,$=N.label,V=N.x,J=N.y,se=N.width,Te=N.height,Se=N.key,et=N.rowIndex,ft=cr().get(this.spreadsheet.dataCfg.meta,"[".concat(et-1,"].cn"),void 0),Ue=this.spreadsheet.measureTextWidth,Ne=this.getStyle(),Ct=(0,oe.get)(Ne,"bolderText"),Ot=(0,oe.get)(Ne,"cell.padding"),mt=(0,oe.get)(Ne,"icon.size"),Wt=(Ot==null?void 0:Ot.right)+mt,Xe=Ot==null?void 0:Ot.left,_t=(0,oe.get)(Ct,"textAlign"),vt=(0,oe.get)(Ct,"textBaseline"),Rt=function(fr,kr,ln){var nn=(0,ye.XPl)(fr,{textAlign:_t,textBaseline:vt}),Jr=(0,ye.Lov)({measureTextWidth:Ue,text:ln,maxWidth:se-Xe-Wt,fontParam:Ct});return(0,ye.IYT)(I,[kr],nn.x,nn.y,Jr,Yr({textAlign:_t},Ct),{cursor:"pointer"})};ft?(this.textShape=Rt({x:V,y:J,width:se,height:Te/2},this.textShape,$),this.textShapeExtra=Rt({x:V,y:J+Te/2,width:se,height:Te/2},this.textShapeExtra,ft)):this.textShape=Rt({x:V,y:J,width:se,height:Te},this.textShape,$)}}]),m}(ye.UhE),_e=Ae,ze={},Bt=function(p){var m=document.getElementsByTagName("svg")[0];if(document.body.childNodes[0].nodeName!=="svg"){var w;m=document.createElement("svg"),m.setAttribute("aria-hidden","true"),m.style.position="absolute",m.style.width="0",m.style.height="0",m.style.overflow="hidden";var I=document.body.firstChild;I==null||(w=I.parentNode)===null||w===void 0||w.insertBefore(m,I)}var P=document.createElementNS("http://www.w3.org/2000/svg","svg");P.innerHTML=p,m.appendChild(P.childNodes[0])},at=function d(p){if(!ze[p])if(window.SVGICON){var m=window.SVGICON[p];Bt(m),ze[p]=!0}else setTimeout(function(){d(p)},200)},wt=tt(90005),fe=tt.n(wt);function st(d){"@babel/helpers - typeof";return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},st(d)}var Tt=["type","colorful","className","style"];function ir(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function bt(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,dr(w.key),w)}}function sr(d,p,m){return p&&bt(d.prototype,p),m&&bt(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function dr(d){var p=Pr(d,"string");return st(p)=="symbol"?p:String(p)}function Pr(d,p){if(st(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(st(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function an(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&fn(d,p)}function fn(d,p){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},fn(d,p)}function qn(d){var p=rt();return function(){var w=de(d),I;if(p){var P=de(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return cn(this,I)}}function cn(d,p){if(p&&(st(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kr(d)}function Kr(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function rt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function de(d){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},de(d)}function ve(){return ve=Object.assign?Object.assign.bind():function(d){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(d[w]=m[w])}return d},ve.apply(this,arguments)}function ce(d,p){if(d==null)return{};var m=xe(d,p),w,I;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(d);for(I=0;I<P.length;I++)w=P[I],!(p.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(d,w)&&(m[w]=d[w])}return m}function xe(d,p){if(d==null)return{};var m={},w=Object.keys(d),I,P;for(P=0;P<w.length;P++)I=w[P],!(p.indexOf(I)>=0)&&(m[I]=d[I]);return m}var Ee=function(p){var m=p.type,w=p.colorful,I=p.className,P=p.style,N=ce(p,Tt),$=m;if(w){var V=m.match(/icon-[^ ]*/);return $=V?V[0]:m,re.createElement("svg",ve({className:fe()(I,"svg-one-icon"),"aria-hidden":!0},N),re.createElement("use",{xlinkHref:"#".concat($)}))}return re.createElement("i",ve({className:fe()(I,"one-icon",m),style:P,"data-testid":"".concat(m)},N))},Be=new RegExp(/icon-([\w-_]+)/),Re=function(d){an(m,d);var p=qn(m);function m(){return ir(this,m),p.apply(this,arguments)}return sr(m,[{key:"componentDidMount",value:function(){this.createSVG()}},{key:"componentDidUpdate",value:function(){this.createSVG()}},{key:"createSVG",value:function(){if(this.props.colorful){var I,P=this.props.type,N=(I=Be.exec(P))===null||I===void 0?void 0:I[0];N&&at(N)}}},{key:"render",value:function(){return re.createElement(Ee,this.props)}}]),m}(re.Component),ct=null,ht=tt(61533),Ht=tt.n(ht),Yt=re.createContext(null);function rr(){return re.useContext(Yt)}var hr=Yt,Hr={theme:"dark",antdStyleContext:{}},Zt=tt(81821);function qr(d,p,m,w,I){var P=I||{},N=P.onCleanUp;if(w){var $=document.querySelector("#".concat(w));if($){var V=ht.unmountComponentAtNode($);if(V&&$.parentNode){$.parentNode.removeChild($);return}}}var J=document.createElement("div");w&&(J.id=w),document.body.appendChild(J);var se,Te,Se=new Promise(function(Ne,Ct){se=Ne,Te=Ct}).then(function(Ne){return Ue(),Ne});function et(){var Ne=ht.unmountComponentAtNode(J);Ne&&J.parentNode&&(J.parentNode.removeChild(J),N&&N())}function ft(){setTimeout(function(){ht.render(re.createElement(Zt.ConfigProvider,Hr.antdStyleContext||{},re.createElement(hr.Provider,{value:{spreadsheet:m,logger:m.logger,theme:Hr.theme,commandManager:m.commandManager}},re.createElement(d,{onCancel:Ue,resolver:se,params:p}))),J)})}function Ue(){for(var Ne=arguments.length,Ct=new Array(Ne),Ot=0;Ot<Ne;Ot++)Ct[Ot]=arguments[Ot];et.call.apply(et,[null].concat(Ct)),Te()}return ft(),Se}var Qr=/\*$/,dn='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1633848048963" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="85936" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M0 0h1024L724.676923 488.369231V1024l-425.353846-141.784615v-393.846154L0 0z m196.923077 102.4l204.8 354.461538v362.338462l228.430769 63.015385V456.861538l212.676923-354.461538H196.923077z" opacity=".8" p-id="85937" fill="#ffffff"></path></svg>',kn='<svg t="1634734477742" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2208" width="200" height="200"><path d="M569.508769 653.352619l151.594419 0 0 108.819221-151.594419 0L569.508769 653.352619zM569.508769 65.693452l385.479045 0 0 108.828814L569.508569 174.522266 569.508769 65.693452 569.508769 65.693452zM569.508769 261.583239l307.513506 0 0 108.819021L569.508769 370.402259 569.508769 261.583239 569.508769 261.583239zM569.508769 457.463032l229.552363 0 0 108.821019-229.552363 0C569.508769 566.284051 569.508769 457.463032 569.508769 457.463032zM569.508769 849.232612l73.62868 0 0 108.826815-73.62868 0L569.508769 849.232612zM354.693414 427.846912l0 530.212516L203.94622 958.059428 203.94622 427.846912 62.754748 427.846912 279.308125 65.187795 495.87849 427.846912 354.693414 427.846912z" p-id="2209"></path></svg>',wr='<svg t="1634734501800" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2875" width="200" height="200"><path d="M279.15323 958.059228l217.110799-363.160177-141.539436 0L354.724593 63.957829l-151.123938 0 0 530.943021L62.057421 594.900849 279.15323 958.059228 279.15323 958.059228zM570.078783 64.464885l386.443791 0 0 108.976114L570.078583 173.440999 570.078783 64.464885 570.078783 64.464885zM570.078783 369.594007 878.364965 369.594007l0-108.974515L570.078783 260.619492 570.078783 369.594007zM570.078783 565.747016l230.128573 0 0-108.976114L570.078783 456.770901 570.078783 565.747016 570.078783 565.747016zM570.078783 761.904621l151.972163 0L722.050945 652.930305l-151.972163 0L570.078783 761.904621zM570.078783 958.059228l73.813355 0 0-108.974315-73.813355 0L570.078783 958.059228z" p-id="2876"></path></svg>',ei='<svg t="1634783900019" class="icon" viewBox="0 0 1609 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="73377" width="32" height="32"><path d="M0 0h1609.142857v1024H0z" fill="#3B425F" p-id="73378"></path><path d="M422.619429 264.923429v465.92c0 41.106286-12.653714 56.758857-51.053715 61.805714l-9.362285 1.024-22.601143 1.901714-12.8-43.593143 25.014857-2.56c23.332571-1.682286 30.500571-4.534857 31.597714-25.234285l0.146286-6.802286V600.137143h-72.630857c-3.876571 83.382857-21.138286 133.997714-47.030857 189.220571l-7.314286 15.213715L219.428571 784.091429c34.377143-70.509714 51.565714-114.614857 52.955429-261.339429l0.146286-20.699429V264.923429h150.089143z m256.292571-39.058286l42.642286 12.8a855.04 855.04 0 0 1-48.566857 101.083428l-8.118858 14.262858h64.658286v213.430857H664.137143V716.8c0 23.04 6.144 26.916571 25.6 29.476571a65.682286 65.682286 0 0 0 15.945143 0c19.529143-2.56 25.014857-5.851429 29.257143-26.916571 2.852571-14.116571 4.608-28.818286 5.485714-43.300571l0.585143-21.430858 39.716571 14.043429c-1.828571 26.916571-3.072 54.491429-8.557714 80.749714-5.485714 26.916571-21.357714 36.571429-57.344 38.473143a447.926857 447.926857 0 0 1-41.545143 0c-32.256-1.170286-48.274286-11.702857-50.395429-49.737143l-0.219428-9.216V567.442286H569.051429c-3.437714 112.932571-32.182857 171.154286-99.986286 226.596571l-11.702857 9.216-27.428572-37.156571c65.097143-44.178286 92.16-88.941714 96.548572-181.76l0.438857-16.896h-55.515429V354.011429h65.901715c-10.093714-28.013714-32.402286-70.802286-48.493715-96.914286l-6.436571-10.093714 35.401143-21.211429c14.994286 20.260571 38.765714 63.488 52.297143 92.452571l5.12 11.410286-32.402286 24.356572h72.630857c21.357714-34.596571 50.614857-94.866286 63.488-128.146286z m522.24-1.974857l41.545143 6.436571c-4.534857 22.235429-9.801143 43.885714-15.725714 64.950857l-9.289143 31.158857h154.331428v46.153143h-39.643428c-9.142857 105.106286-26.258286 185.856-63.488 257.024a514.779429 514.779429 0 0 0 102.546285 118.857143l18.285715 15.067429-31.085715 37.156571a635.099429 635.099429 0 0 1-113.517714-131.364571c-26.697143 40.374857-61.366857 77.824-105.984 115.346285l-19.748571 16.091429-29.257143-35.913143c57.344-42.349714 99.474286-86.528 130.56-137.142857a580.315429 580.315429 0 0 1-59.757714-169.837714c-4.900571 9.362286-10.020571 18.212571-15.506286 27.062857l-8.338286 13.312-33.499428-27.574857c42.715429-58.953143 85.357714-168.594286 97.572571-246.784zM1099.337143 380.342857c0 7.826286-2.633143 61.952-4.973714 124.854857l-0.512 13.604572h48.274285v39.131428h-50.102857c-1.462857 29.696-2.56 59.465143-3.803428 84.845715l-1.097143 18.285714h46.372571v41.033143h-48.201143c0 8.996571-0.585143 15.36-0.585143 17.334857-1.755429 54.272-13.165714 67.657143-70.436571 73.362286l-11.337143 0.950857-25.014857 1.901714-10.971429-42.934857 32.914286-2.56c42.130286-3.218286 45.202286-10.898286 45.787429-34.596572 0-1.462857 0.365714-4.681143 0.512-8.923428l0.073143-4.534857H863.817143l12.8-144.164572h-48.786286v-39.131428h52.443429l12.214857-138.459429h206.848z m-45.714286 177.590857H915.017143l-9.142857 103.131429h142.116571c1.828571-29.476571 3.657143-66.633143 5.558857-103.131429z m-83.602286 8.923429c11.702857 10.678857 31.817143 32.036571 44.982858 47.762286l6.875428 8.630857-23.844571 32.036571c-9.362286-16.969143-30.427429-41.106286-45.129143-55.734857l-6.729143-6.436571 23.844571-26.258286z m322.121143-194.194286h-90.916571l-10.971429 26.331429c10.386286 69.193143 27.501714 130.048 53.686857 184.539428 26.258286-58.953143 40.96-126.902857 48.274286-210.870857zM383.561143 455.241143h-71.387429v101.961143h71.387429V455.314286z m304.493714-57.636572H512.950857v126.244572h175.104V397.604571z m371.565714 23.698286h-131.803428l-9.142857 97.426286h136.704c2.413714-48.713143 4.242286-89.088 4.242285-97.426286z m-81.188571 7.094857c10.678857 10.093714 30.281143 30.939429 42.861714 46.518857l6.582857 8.557715-24.429714 30.72a295.058286 295.058286 0 0 0-43.008-54.857143l-6.363428-5.997714 24.356571-24.941715zM928.402286 219.428571l45.787428 9.581715a521.508571 521.508571 0 0 1-14.409143 35.84l-8.192 17.408h181.833143v42.934857h-204.361143c-15.140571 25.6-32.182857 50.029714-52.224 73.874286l-15.506285 17.773714-35.401143-26.916572c44.544-50.614857 83.602286-115.346286 102.473143-170.496zM383.561143 308.516571h-71.387429v103.131429h71.387429v-103.131429z" fill="#FFFFFF" opacity=".4" p-id="73379"></path></svg>',Ln='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1713248944100" class="icon" viewBox="0 0 5461 1024" version="1.1" p-id="2097" width="1066.6015625" height="200"><path d="M195.072 0h5071.189333C5373.525333 0 5461.333333 76.8 5461.333333 170.666667v682.666666c0 93.866667-87.808 170.666667-195.072 170.666667H195.072C87.808 1024 0 947.2 0 853.333333V170.666667C0 76.8 87.808 0 195.072 0z" fill="#F6903D" fill-opacity=".16" p-id="2098" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.10743a81PDJvfv" class="selected"/><path d="M170.666667 0h1877.333333v1024H170.666667c-93.866667 0-170.666667-76.8-170.666667-170.666667V170.666667C0 76.8 76.8 0 170.666667 0z" fill="#F6903D" p-id="2099"/><path d="M324.266667 418.133333h93.866666v128H324.266667V418.133333zM418.133333 341.333333H324.266667V213.333333h93.866666V341.333333zM324.266667 622.933333h93.866666v170.666667c0 25.6-8.533333 34.133333-25.6 34.133333-17.066667 0-34.133333 0-59.733333-8.533333l17.066667 76.8h59.733333c59.733333 0 85.333333-25.6 85.333333-76.8v-682.666667H247.466667v418.133334c0 110.933333-17.066667 213.333333-51.2 281.6l68.266666 59.733333c34.133333-68.266667 51.2-162.133333 59.733334-273.066667z m221.866666-332.8v290.133334h85.333334c0 119.466667-42.666667 196.266667-119.466667 247.466666l42.666667 68.266667c93.866667-68.266667 145.066667-170.666667 153.6-324.266667H768v230.4c0 51.2 25.6 76.8 68.266667 76.8h68.266666c25.6 0 42.666667-8.533333 59.733334-25.6 17.066667-17.066667 25.6-68.266667 25.6-153.6l-68.266667-25.6c0 59.733333-8.533333 93.866667-8.533333 110.933334 0 8.533333-8.533333 17.066667-17.066667 17.066666h-34.133333c-17.066667 0-17.066667-8.533333-17.066667-25.6V580.266667H938.666667V290.133333H836.266667c25.6-42.666667 51.2-93.866667 76.8-153.6l-76.8-25.6c-17.066667 59.733333-51.2 119.466667-76.8 179.2H546.133333zM853.333333 503.466667H622.933333V358.4H853.333333v145.066667zM631.466667 110.933333l-68.266667 34.133334 76.8 128 68.266667-34.133334-76.8-128z m571.733333 153.6h281.6v-76.8h-238.933333c8.533333-17.066667 17.066667-34.133333 17.066666-51.2l-76.8-34.133333c-25.6 93.866667-76.8 162.133333-136.533333 213.333333l59.733333 51.2 17.066667-17.066666c0 51.2-8.533333 102.4-8.533333 153.6h-59.733334v68.266666h51.2c-8.533333 68.266667-17.066667 128-34.133333 196.266667H1365.333333v8.533333c-8.533333 17.066667-17.066667 25.6-34.133333 34.133334-17.066667 0-34.133333 8.533333-51.2 8.533333h-42.666667l25.6 76.8h34.133334c42.666667 0 76.8-8.533333 93.866666-17.066667 25.6-8.533333 34.133333-34.133333 42.666667-59.733333 0-8.533333 0-17.066667 8.533333-42.666667h59.733334v-68.266666H1450.666667c0-34.133333 8.533333-76.8 8.533333-128h59.733333V512h-51.2V409.6l51.2 59.733333c8.533333-17.066667 17.066667-34.133333 25.6-42.666666 25.6 85.333333 51.2 162.133333 85.333334 238.933333-34.133333 68.266667-85.333333 119.466667-145.066667 162.133333l42.666667 68.266667c51.2-42.666667 102.4-93.866667 136.533333-153.6 42.666667 51.2 85.333333 110.933333 128 153.6l51.2-59.733333c-42.666667-51.2-85.333333-110.933333-119.466667-179.2 42.666667-93.866667 68.266667-213.333333 68.266667-349.866667h51.2v-68.266667h-204.8c8.533333-34.133333 17.066667-76.8 25.6-119.466666l-76.8-17.066667c-17.066667 128-59.733333 221.866667-119.466667 298.666667v-85.333334h-307.2c17.066667-17.066667 34.133333-34.133333 42.666667-51.2z m469.333333 298.666667c-34.133333-68.266667-51.2-145.066667-76.8-230.4l8.533334-25.6H1706.666667c0 102.4-8.533333 187.733333-34.133334 256z m-409.6-170.666667l-34.133333 34.133334c34.133333 34.133333 59.733333 59.733333 76.8 85.333333H1194.666667c0-34.133333 8.533333-76.8 8.533333-119.466667h59.733333z m51.2 119.466667l42.666667-42.666667c-17.066667-25.6-42.666667-51.2-76.8-85.333333h119.466667c0 42.666667 0 85.333333-8.533334 119.466667h-76.8V512z m76.8 68.266667c0 51.2-8.533333 93.866667-8.533333 128h-76.8l34.133333-34.133334c-17.066667-25.6-51.2-59.733333-76.8-85.333333h128v-8.533333z m-136.533333 0l-42.666667 42.666666c34.133333 25.6 59.733333 59.733333 76.8 85.333334h-119.466666c8.533333-42.666667 8.533333-76.8 17.066666-128h68.266667z" fill="#FFFFFF" p-id="2100"/><path d="M2705.066667 119.466667v128h-273.066667v486.4h59.733333v-68.266667h213.333334v221.866667h59.733333V665.6h213.333333v51.2h59.733334V247.466667h-273.066667V119.466667h-59.733333z m-221.866667 494.933333V486.4h213.333333v128h-213.333333z m281.6 0V486.4h213.333333v128h-213.333333zM2483.2 426.666667V298.666667h213.333333V426.666667h-213.333333z m281.6 0V298.666667h213.333333V426.666667h-213.333333z m878.933333 93.866666l-34.133333 51.2c42.666667 17.066667 93.866667 42.666667 136.533333 68.266667v264.533333h59.733334V665.6c42.666667 25.6 85.333333 51.2 128 85.333333l34.133333-51.2c-42.666667-42.666667-93.866667-68.266667-153.6-102.4V418.133333h145.066667v-59.733333H3584V230.4c136.533333-8.533333 256-25.6 358.4-59.733333l-34.133333-51.2c-110.933333 34.133333-247.466667 59.733333-384 59.733333V512c0 145.066667-34.133333 256-85.333334 332.8l42.666667 42.666667C3549.866667 793.6 3584 674.133333 3584 512V418.133333h170.666667v145.066667c-34.133333-17.066667-68.266667-34.133333-110.933334-42.666667z m-341.333333-392.533333l-42.666667 42.666667c59.733333 42.666667 102.4 85.333333 136.533334 128l42.666666-42.666667c-42.666667-42.666667-85.333333-85.333333-136.533333-128z m-110.933333 247.466667v59.733333h119.466666v324.266667c0 17.066667-8.533333 25.6-17.066666 34.133333l25.6 59.733333c51.2-34.133333 102.4-76.8 145.066666-128l-17.066666-68.266666-76.8 76.8V375.466667h-179.2z" fill="#6CA0F5" p-id="2101"/></svg>',yi='<svg t="1695353389196" class="icon" viewBox="0 0 4778 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="42052" xmlns:xlink="http://www.w3.org/1999/xlink" width="74.65625" height="16"><path d="M170.666667 0h4437.333333c93.866667 0 170.666667 76.8 170.666667 170.666667v682.666666c0 93.866667-76.8 170.666667-170.666667 170.666667H170.666667c-93.866667 0-170.666667-76.8-170.666667-170.666667V170.666667C0 76.8 76.8 0 170.666667 0z" fill="#F6903D" fill-opacity=".16" p-id="42053"></path><path d="M170.666667 0h1877.333333v1024H170.666667c-93.866667 0-170.666667-76.8-170.666667-170.666667V170.666667C0 76.8 76.8 0 170.666667 0z" fill="#F6903D" p-id="42054"></path><path d="M324.266667 418.133333h93.866666v128H324.266667V418.133333zM418.133333 341.333333H324.266667V213.333333h93.866666V341.333333zM324.266667 622.933333h93.866666v170.666667c0 25.6-8.533333 34.133333-25.6 34.133333-17.066667 0-34.133333 0-59.733333-8.533333l17.066667 76.8h59.733333c59.733333 0 85.333333-25.6 85.333333-76.8v-682.666667H247.466667v418.133334c0 110.933333-17.066667 213.333333-51.2 281.6l68.266666 59.733333c34.133333-68.266667 51.2-162.133333 59.733334-273.066667z m221.866666-332.8v290.133334h85.333334c0 119.466667-42.666667 196.266667-119.466667 247.466666l42.666667 68.266667c93.866667-68.266667 145.066667-170.666667 153.6-324.266667H768v230.4c0 51.2 25.6 76.8 68.266667 76.8h68.266666c25.6 0 42.666667-8.533333 59.733334-25.6 17.066667-17.066667 25.6-68.266667 25.6-153.6l-68.266667-25.6c0 59.733333-8.533333 93.866667-8.533333 110.933334 0 8.533333-8.533333 17.066667-17.066667 17.066666h-34.133333c-17.066667 0-17.066667-8.533333-17.066667-25.6V580.266667H938.666667V290.133333H836.266667c25.6-42.666667 51.2-93.866667 76.8-153.6l-76.8-25.6c-17.066667 59.733333-51.2 119.466667-76.8 179.2H546.133333zM853.333333 503.466667H622.933333V358.4H853.333333v145.066667zM631.466667 110.933333l-68.266667 34.133334 76.8 128 68.266667-34.133334-76.8-128z m571.733333 153.6h281.6v-76.8h-238.933333c8.533333-17.066667 17.066667-34.133333 17.066666-51.2l-76.8-34.133333c-25.6 93.866667-76.8 162.133333-136.533333 213.333333l59.733333 51.2 17.066667-17.066666c0 51.2-8.533333 102.4-8.533333 153.6h-59.733334v68.266666h51.2c-8.533333 68.266667-17.066667 128-34.133333 196.266667H1365.333333v8.533333c-8.533333 17.066667-17.066667 25.6-34.133333 34.133334-17.066667 0-34.133333 8.533333-51.2 8.533333h-42.666667l25.6 76.8h34.133334c42.666667 0 76.8-8.533333 93.866666-17.066667 25.6-8.533333 34.133333-34.133333 42.666667-59.733333 0-8.533333 0-17.066667 8.533333-42.666667h59.733334v-68.266666H1450.666667c0-34.133333 8.533333-76.8 8.533333-128h59.733333V512h-51.2V409.6l51.2 59.733333c8.533333-17.066667 17.066667-34.133333 25.6-42.666666 25.6 85.333333 51.2 162.133333 85.333334 238.933333-34.133333 68.266667-85.333333 119.466667-145.066667 162.133333l42.666667 68.266667c51.2-42.666667 102.4-93.866667 136.533333-153.6 42.666667 51.2 85.333333 110.933333 128 153.6l51.2-59.733333c-42.666667-51.2-85.333333-110.933333-119.466667-179.2 42.666667-93.866667 68.266667-213.333333 68.266667-349.866667h51.2v-68.266667h-204.8c8.533333-34.133333 17.066667-76.8 25.6-119.466666l-76.8-17.066667c-17.066667 128-59.733333 221.866667-119.466667 298.666667v-85.333334h-307.2c17.066667-17.066667 34.133333-34.133333 42.666667-51.2z m469.333333 298.666667c-34.133333-68.266667-51.2-145.066667-76.8-230.4l8.533334-25.6H1706.666667c0 102.4-8.533333 187.733333-34.133334 256z m-409.6-170.666667l-34.133333 34.133334c34.133333 34.133333 59.733333 59.733333 76.8 85.333333H1194.666667c0-34.133333 8.533333-76.8 8.533333-119.466667h59.733333z m51.2 119.466667l42.666667-42.666667c-17.066667-25.6-42.666667-51.2-76.8-85.333333h119.466667c0 42.666667 0 85.333333-8.533334 119.466667h-76.8z m76.8 68.266667c0 51.2-8.533333 93.866667-8.533333 128h-76.8l34.133333-34.133334c-17.066667-25.6-51.2-59.733333-76.8-85.333333h128z m-136.533333 0l-42.666667 42.666666c34.133333 25.6 59.733333 59.733333 76.8 85.333334h-119.466666c8.533333-42.666667 8.533333-76.8 17.066666-128h68.266667z" fill="#FFFFFF" p-id="42055"></path><path d="M2790.4 119.466667v128h-273.066667v486.4h59.733334v-68.266667h213.333333v221.866667h59.733333V665.6h213.333334v51.2h59.733333V247.466667h-273.066667V119.466667h-59.733333z m-221.866667 494.933333V486.4h213.333334v128h-213.333334z m281.6 0V486.4h213.333334v128h-213.333334zM2568.533333 426.666667V298.666667h213.333334V426.666667h-213.333334z m281.6 0V298.666667h213.333334V426.666667h-213.333334z m878.933334 93.866666l-34.133334 51.2c42.666667 17.066667 93.866667 42.666667 136.533334 68.266667v264.533333h59.733333V665.6c42.666667 25.6 85.333333 51.2 128 85.333333l34.133333-51.2c-42.666667-42.666667-93.866667-68.266667-153.6-102.4V418.133333h145.066667v-59.733333H3669.333333V230.4c136.533333-8.533333 256-25.6 358.4-59.733333l-34.133333-51.2c-110.933333 34.133333-247.466667 59.733333-384 59.733333V512c0 145.066667-34.133333 256-85.333333 332.8l42.666666 42.666667C3635.2 793.6 3669.333333 674.133333 3669.333333 512V418.133333h170.666667v145.066667c-34.133333-17.066667-68.266667-34.133333-110.933333-42.666667z m-341.333334-392.533333l-42.666666 42.666667c59.733333 42.666667 102.4 85.333333 136.533333 128l42.666667-42.666667c-42.666667-42.666667-85.333333-85.333333-136.533334-128z m-110.933333 247.466667v59.733333h119.466667v324.266667c0 17.066667-8.533333 25.6-17.066667 34.133333l25.6 59.733333c51.2-34.133333 102.4-76.8 145.066667-128l-17.066667-68.266666-76.8 76.8V375.466667h-179.2z m861.866667-8.533334V426.666667l349.866666 153.6-349.866666 153.6v68.266666l426.666666-196.266666v-42.666667l-426.666666-196.266667z" fill="#6CA0F5" p-id="42056"></path></svg>',fa='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1713250980907" class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="2251" width="200" height="200"><path d="M618.642286 426.642286a21.357714 21.357714 0 0 1-21.284572-21.284572v-42.715428c0-11.702857 9.508571-21.284571 21.284572-21.284572h138.459428a298.642286 298.642286 0 1 0 41.179429 256h88.210286A384.146286 384.146286 0 0 1 128 512a384 384 0 0 1 682.715429-241.371429V149.357714c0-11.776 9.508571-21.357714 21.284571-21.357714h42.642286c11.776 0 21.357714 9.508571 21.357714 21.357714V384c0 22.528-17.408 40.96-39.497143 42.569143l-3.145143 0.073143H618.642286z" fill="#71a3f4" p-id="2252"/></svg>',_i="SERIES_NUM_KEY",Ja=32,Gr=function(d){return d.mount="mount",d.copyByKey="copyByKey",d.copyByClick="copyByClick",d.dragColWidth="dragColWidth",d.dragColHeight="dragColHeight",d.dragRowHeight="dragRowHeight",d.brushSelection="brushSelection",d.selectAllByClick="selectAllByClick",d.selectAllByKey="selectAllByKey",d.filterCol="filterCol",d.redo="redo",d.undo="undo",d.sortCol="sortCol",d.search="search",d.frozenCol="frozenCol",d.filterExpressionClick="filterExpressionClick",d.editCell="editCell",d.searchFilter="searchFilter",d.setType="setType",d.sortManage="sortManage",d.filterManage="filterManage",d.detailJson="json",d.detailText="text",d.detailExt="ext",d.triggerHint="triggerHint",d.acceptUrlHint="acceptUrlHint",d.openDiagnosis="openDiagnosis",d.splitKVCol="splitKVCol",d.splitCol="splitCol",d.copyLineNumAndSensitiveData="copyLineNumAndSensitiveData",d.pasteFromClipboard="pasteFromClipboard",d.addRow="addRow",d.addCol="addRow",d.removeRow="removeRow",d.toggleMode="toggleMode",d.dataExplore="dataExplore",d.loadEdits="loadEdits",d.conditionalFormatting="conditionalFormatting",d.exportData="exportData",d.diffTable="diffTable",d.diffCaculate="diffCaculate",d.graphRecommendation="graphRecommendation",d.useFormulaEngine="useFormulaEngine",d.errorCollect="errorCollect",d}({}),oi=function(d){return d.IsEqualTo="IsEqualTo",d.IsGreaterThan="IsGreaterThan",d.IsLessThan="IsLessThan",d.IsStartsWith="IsStartsWith",d.IsEndsWith="IsEndsWith",d.IsNotStartsWith="IsNotStartsWith",d.IsNotEndsWith="IsNotEndsWith",d.Contains="Contains",d.DoesntContain="DoesntContain",d.IsDateBefore="IsDateBefore",d.IsDateAfter="IsDateAfter",d}({}),is="__$$id$$__",qa={isOriginal:1,isDimension:2,isComputed:4,isAggregation:8},_a=function(d){return d.COUNT="COUNT",d.COUNT_DISTINCT="COUNT_DISTINCT",d.AVERAGE="AVERAGE",d.SUM="SUM",d.MAX="MAX",d.MIN="MIN",d.MEDIAN="MEDIAN",d}({}),Ti=function(d){return d.String="string",d.Number="number",d.Date="date",d}({}),oa="#FFFFFF",zi=function(d){return d.TEXT="TEXT",d.DATE="DATE",d.SELECT="SELECT",d.TEXTAREA="TEXTAREA",d.MULTIPLE="MULTIPLE",d}({}),dl=null,go=function(d){return d.pivot="pivot",d.table="table",d}({}),Ol=function(d){return d.PASTE_SUCCESS="paste:success",d.HANDLER_ERROR="handler:error",d.CLICK_DESENSITIZED_FIELD="click:desensitized-field",d.DATACELL_BLUR="blur:datacell",d.COLCELL_DRAGEND="dragend:colcell",d}({});function Es(d,p){var m=rr(),w=m.spreadsheet,I=ie().useCallback(function(){try{for(var P=arguments.length,N=new Array(P),$=0;$<P;$++)N[$]=arguments[$];p.apply(w,N)}catch(V){throw w.emit(Ol.HANDLER_ERROR,V),V}},[p]);ie().useEffect(function(){return w&&w.on(d,I),function(){w&&w.off(d,I)}},[w,I])}function Gs(d,p){return au(d)||ju(d,p)||ql(d,p)||iu()}function iu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ql(d,p){if(d){if(typeof d=="string")return $f(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return $f(d,p)}}function $f(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function ju(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function au(d){if(Array.isArray(d))return d}function Ms(d){var p=rr(),m=p.spreadsheet,w=(0,re.useState)(!1),I=Gs(w,2),P=I[0],N=I[1],$=(0,re.useCallback)(function(V){var J=!m.container.cfg.container.contains(V.target);m&&m.container.cfg.container&&P!==J&&N(function(se){return J})},[m,P]);(0,re.useEffect)(function(){return window.addEventListener("click",$),function(){window.removeEventListener("click",$)}},[$]),(0,re.useEffect)(function(){return!P&&m&&window.addEventListener("keydown",d),function(){!P&&m&&window.removeEventListener("keydown",d)}},[P,m,d])}var Ts=function(p,m){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,I=m.facet.getScrollOffset(),P=(m.getColumnNodes()[0]||{height:0}).height,N=(0,oe.pick)(p,["x","y","width","height"]);return N.x-=I.scrollX||0,N.y-=(I.scrollY||0)-P,w&&N.y<P&&(N.height-=P-N.y,N.y=P),N},Ph=function(p,m){return useMemo(function(){return Ts(p,m)},[p,m])},ff=null,wa=tt(53829),ea=tt(89446);function $s(d,p){var m=wa.Z.instancedModels.get(p).get(d);return m||wa.Z.models.get(d)}function Ql(d,p){return(0,ea.Re)($s(d,p))}var Al=Ql;function lc(d){return yt(d)||Pe(d)||St(d)||Uf()}function Uf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(d,p){if(d){if(typeof d=="string")return qt(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return qt(d,p)}}function Pe(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function yt(d){if(Array.isArray(d))return qt(d)}function qt(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function _r(d){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},_r(d)}function rn(){"use strict";rn=function(){return p};var d,p={},m=Object.prototype,w=m.hasOwnProperty,I=Object.defineProperty||function(it,je,dt){it[je]=dt.value},P=typeof Symbol=="function"?Symbol:{},N=P.iterator||"@@iterator",$=P.asyncIterator||"@@asyncIterator",V=P.toStringTag||"@@toStringTag";function J(it,je,dt){return Object.defineProperty(it,je,{value:dt,enumerable:!0,configurable:!0,writable:!0}),it[je]}try{J({},"")}catch(it){J=function(dt,Jt,pr){return dt[Jt]=pr}}function se(it,je,dt,Jt){var pr=je&&je.prototype instanceof Ct?je:Ct,xr=Object.create(pr.prototype),Nr=new Jr(Jt||[]);return I(xr,"_invoke",{value:fr(it,dt,Nr)}),xr}function Te(it,je,dt){try{return{type:"normal",arg:it.call(je,dt)}}catch(Jt){return{type:"throw",arg:Jt}}}p.wrap=se;var Se="suspendedStart",et="suspendedYield",ft="executing",Ue="completed",Ne={};function Ct(){}function Ot(){}function mt(){}var Wt={};J(Wt,N,function(){return this});var Xe=Object.getPrototypeOf,_t=Xe&&Xe(Xe(hn([])));_t&&_t!==m&&w.call(_t,N)&&(Wt=_t);var vt=mt.prototype=Ct.prototype=Object.create(Wt);function Rt(it){["next","throw","return"].forEach(function(je){J(it,je,function(dt){return this._invoke(je,dt)})})}function Kt(it,je){function dt(pr,xr,Nr,Wr){var on=Te(it[pr],it,xr);if(on.type!=="throw"){var Yn=on.arg,sn=Yn.value;return sn&&_r(sn)=="object"&&w.call(sn,"__await")?je.resolve(sn.__await).then(function(bn){dt("next",bn,Nr,Wr)},function(bn){dt("throw",bn,Nr,Wr)}):je.resolve(sn).then(function(bn){Yn.value=bn,Nr(Yn)},function(bn){return dt("throw",bn,Nr,Wr)})}Wr(on.arg)}var Jt;I(this,"_invoke",{value:function(xr,Nr){function Wr(){return new je(function(on,Yn){dt(xr,Nr,on,Yn)})}return Jt=Jt?Jt.then(Wr,Wr):Wr()}})}function fr(it,je,dt){var Jt=Se;return function(pr,xr){if(Jt===ft)throw new Error("Generator is already running");if(Jt===Ue){if(pr==="throw")throw xr;return{value:d,done:!0}}for(dt.method=pr,dt.arg=xr;;){var Nr=dt.delegate;if(Nr){var Wr=kr(Nr,dt);if(Wr){if(Wr===Ne)continue;return Wr}}if(dt.method==="next")dt.sent=dt._sent=dt.arg;else if(dt.method==="throw"){if(Jt===Se)throw Jt=Ue,dt.arg;dt.dispatchException(dt.arg)}else dt.method==="return"&&dt.abrupt("return",dt.arg);Jt=ft;var on=Te(it,je,dt);if(on.type==="normal"){if(Jt=dt.done?Ue:et,on.arg===Ne)continue;return{value:on.arg,done:dt.done}}on.type==="throw"&&(Jt=Ue,dt.method="throw",dt.arg=on.arg)}}}function kr(it,je){var dt=je.method,Jt=it.iterator[dt];if(Jt===d)return je.delegate=null,dt==="throw"&&it.iterator.return&&(je.method="return",je.arg=d,kr(it,je),je.method==="throw")||dt!=="return"&&(je.method="throw",je.arg=new TypeError("The iterator does not provide a '"+dt+"' method")),Ne;var pr=Te(Jt,it.iterator,je.arg);if(pr.type==="throw")return je.method="throw",je.arg=pr.arg,je.delegate=null,Ne;var xr=pr.arg;return xr?xr.done?(je[it.resultName]=xr.value,je.next=it.nextLoc,je.method!=="return"&&(je.method="next",je.arg=d),je.delegate=null,Ne):xr:(je.method="throw",je.arg=new TypeError("iterator result is not an object"),je.delegate=null,Ne)}function ln(it){var je={tryLoc:it[0]};1 in it&&(je.catchLoc=it[1]),2 in it&&(je.finallyLoc=it[2],je.afterLoc=it[3]),this.tryEntries.push(je)}function nn(it){var je=it.completion||{};je.type="normal",delete je.arg,it.completion=je}function Jr(it){this.tryEntries=[{tryLoc:"root"}],it.forEach(ln,this),this.reset(!0)}function hn(it){if(it||it===""){var je=it[N];if(je)return je.call(it);if(typeof it.next=="function")return it;if(!isNaN(it.length)){var dt=-1,Jt=function pr(){for(;++dt<it.length;)if(w.call(it,dt))return pr.value=it[dt],pr.done=!1,pr;return pr.value=d,pr.done=!0,pr};return Jt.next=Jt}}throw new TypeError(_r(it)+" is not iterable")}return Ot.prototype=mt,I(vt,"constructor",{value:mt,configurable:!0}),I(mt,"constructor",{value:Ot,configurable:!0}),Ot.displayName=J(mt,V,"GeneratorFunction"),p.isGeneratorFunction=function(it){var je=typeof it=="function"&&it.constructor;return!!je&&(je===Ot||(je.displayName||je.name)==="GeneratorFunction")},p.mark=function(it){return Object.setPrototypeOf?Object.setPrototypeOf(it,mt):(it.__proto__=mt,J(it,V,"GeneratorFunction")),it.prototype=Object.create(vt),it},p.awrap=function(it){return{__await:it}},Rt(Kt.prototype),J(Kt.prototype,$,function(){return this}),p.AsyncIterator=Kt,p.async=function(it,je,dt,Jt,pr){pr===void 0&&(pr=Promise);var xr=new Kt(se(it,je,dt,Jt),pr);return p.isGeneratorFunction(je)?xr:xr.next().then(function(Nr){return Nr.done?Nr.value:xr.next()})},Rt(vt),J(vt,V,"Generator"),J(vt,N,function(){return this}),J(vt,"toString",function(){return"[object Generator]"}),p.keys=function(it){var je=Object(it),dt=[];for(var Jt in je)dt.push(Jt);return dt.reverse(),function pr(){for(;dt.length;){var xr=dt.pop();if(xr in je)return pr.value=xr,pr.done=!1,pr}return pr.done=!0,pr}},p.values=hn,Jr.prototype={constructor:Jr,reset:function(je){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(nn),!je)for(var dt in this)dt.charAt(0)==="t"&&w.call(this,dt)&&!isNaN(+dt.slice(1))&&(this[dt]=d)},stop:function(){this.done=!0;var je=this.tryEntries[0].completion;if(je.type==="throw")throw je.arg;return this.rval},dispatchException:function(je){if(this.done)throw je;var dt=this;function Jt(Yn,sn){return Nr.type="throw",Nr.arg=je,dt.next=Yn,sn&&(dt.method="next",dt.arg=d),!!sn}for(var pr=this.tryEntries.length-1;pr>=0;--pr){var xr=this.tryEntries[pr],Nr=xr.completion;if(xr.tryLoc==="root")return Jt("end");if(xr.tryLoc<=this.prev){var Wr=w.call(xr,"catchLoc"),on=w.call(xr,"finallyLoc");if(Wr&&on){if(this.prev<xr.catchLoc)return Jt(xr.catchLoc,!0);if(this.prev<xr.finallyLoc)return Jt(xr.finallyLoc)}else if(Wr){if(this.prev<xr.catchLoc)return Jt(xr.catchLoc,!0)}else{if(!on)throw new Error("try statement without catch or finally");if(this.prev<xr.finallyLoc)return Jt(xr.finallyLoc)}}}},abrupt:function(je,dt){for(var Jt=this.tryEntries.length-1;Jt>=0;--Jt){var pr=this.tryEntries[Jt];if(pr.tryLoc<=this.prev&&w.call(pr,"finallyLoc")&&this.prev<pr.finallyLoc){var xr=pr;break}}xr&&(je==="break"||je==="continue")&&xr.tryLoc<=dt&&dt<=xr.finallyLoc&&(xr=null);var Nr=xr?xr.completion:{};return Nr.type=je,Nr.arg=dt,xr?(this.method="next",this.next=xr.finallyLoc,Ne):this.complete(Nr)},complete:function(je,dt){if(je.type==="throw")throw je.arg;return je.type==="break"||je.type==="continue"?this.next=je.arg:je.type==="return"?(this.rval=this.arg=je.arg,this.method="return",this.next="end"):je.type==="normal"&&dt&&(this.next=dt),Ne},finish:function(je){for(var dt=this.tryEntries.length-1;dt>=0;--dt){var Jt=this.tryEntries[dt];if(Jt.finallyLoc===je)return this.complete(Jt.completion,Jt.afterLoc),nn(Jt),Ne}},catch:function(je){for(var dt=this.tryEntries.length-1;dt>=0;--dt){var Jt=this.tryEntries[dt];if(Jt.tryLoc===je){var pr=Jt.completion;if(pr.type==="throw"){var xr=pr.arg;nn(Jt)}return xr}}throw new Error("illegal catch attempt")},delegateYield:function(je,dt,Jt){return this.delegate={iterator:hn(je),resultName:dt,nextLoc:Jt},this.method==="next"&&(this.arg=d),Ne}},p}function xn(d,p,m,w,I,P,N){try{var $=d[P](N),V=$.value}catch(J){m(J);return}$.done?p(V):Promise.resolve(V).then(w,I)}function vn(d){return function(){var p=this,m=arguments;return new Promise(function(w,I){var P=d.apply(p,m);function N(V){xn(P,w,I,N,$,"next",V)}function $(V){xn(P,w,I,N,$,"throw",V)}N(void 0)})}}function Ii(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function Fa(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,vl(w.key),w)}}function _o(d,p,m){return p&&Fa(d.prototype,p),m&&Fa(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function vl(d){var p=Us(d,"string");return _r(p)=="symbol"?p:String(p)}function Us(d,p){if(_r(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(_r(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}var Eo=function(){function d(){Ii(this,d)}return _o(d,[{key:"clickChecked",value:function(){var p=vn(rn().mark(function w(I,P,N){return rn().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.abrupt("return",new Promise(function(J){var se=new ye.lZf(I).calculateOffset(I,N,1),Te=se.offsetY;P==null||P(Te);var Se=I.interaction.getPanelGroupAllDataCells().filter(function(et){return et.getMeta().rowIndex===N}).map(function(et){return(0,oe.assign)(et.getMeta(),{type:ye.Czd.DATA_CELL})});I.interaction.reset(),I.interaction.changeState({stateName:ye._61.SELECTED,cells:Se}),J()}));case 1:case"end":return V.stop()}},w)}));function m(w,I,P){return p.apply(this,arguments)}return m}()},{key:"scrollSheet",value:function(){var p=vn(rn().mark(function w(I,P,N,$){return rn().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.abrupt("return",new Promise(function(se){I.facet.scrollWithAnimation({offsetY:{value:P>-1?P:N},offsetX:{value:$}}),se()}));case 1:case"end":return J.stop()}},w)}));function m(w,I,P,N){return p.apply(this,arguments)}return m}()}]),d}(),as=_o(function d(p,m,w,I){var P=this;Ii(this,d),this.spreadsheet=void 0,this.rowIndex=void 0,this.field=void 0,this.splitCharacter=void 0,this.value=void 0,this.getCellConnectData=function(){var N=P.field,$=P.rowIndex,V=P.spreadsheet.dataCfg,J=V.data,se=(0,oe.get)(V,"data.".concat($,".").concat(N,"diffPosition"));return{dataMirror:(0,oe.get)(J,"".concat($,".").concat(N),""),summaryRowCfg:V,diffPosition:se}},this.getDiffCharacter=function(N,$){return(0,oe.slice)(P.splitCharacter,N,$).join("")},this.caculateCharacter=function(N,$){P.splitCharacter=(P.value||N||"").split("");var V=(0,oe.reverse)((0,oe.cloneDeep)($||[])),J=V.map(function(se,Te){var Se={highLight:!0,value:P.getDiffCharacter(se[0],se[1]+1)},et=Te!==0?P.getDiffCharacter(V[Te-1][1]+1,se[0]):void 0;return Te===0?P.handleFirstHighlight(se,Se,V.length):Te===V.length-1?se[1]===P.splitCharacter.length-1?[et,Se]:[et,Se,P.getDiffCharacter(se[1]+1,P.splitCharacter.length)]:[et,Se]});return V.length===0?P.value||N:J.flat(1)},this.handleFirstHighlight=function(N,$,V){return N[0]===0?N[1]===0&&V===1&&P.splitCharacter.length>1||(0,oe.last)(N)<P.splitCharacter.length-1&&V===1?[$,P.getDiffCharacter((0,oe.last)(N)+1,P.splitCharacter.length)]:(0,oe.last)(N)<P.splitCharacter.length-1&&V===1?[$,P.getDiffCharacter((0,oe.last)(N)+1,P.splitCharacter.length)]:[$]:[P.getDiffCharacter(0,N[0]),$]},this.caculate=function(){var N=P.getCellConnectData(),$=N.dataMirror,V=N.diffPosition;return P.caculateCharacter($,V)},this.spreadsheet=p,this.rowIndex=m,this.field=w,this.value=I}),Os=function(p){var m=p.textMap,w=p.index,I=p.x,P=p.measureTextWidth,N=p.textStyle,$=I;return w===0?N.textAlign==="left"?$:$-P(m[w].value,N):(N.textAlign==="left"?m.filter(function(V,J){return J<w}).forEach(function(V){$+=P(typeof V=="string"?V:V.value,N)}):m.filter(function(V,J){return J<=w}).forEach(function(V){$-=P(typeof V=="string"?V:V.value,N)}),$)},Yf=function(p){var m=p.isEllips,w=p.diffResult,I=p.textStyle,P=p.ellips,N=I.textAlign==="left";return m?[].concat(lc(w),[P]):(N?w:(0,oe.reverse)(w))||[]};function hf(d,p){return jt(d)||qe(d,p)||pe(d,p)||Id()}function Id(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pe(d,p){if(d){if(typeof d=="string")return Ie(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Ie(d,p)}}function Ie(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function qe(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function jt(d){if(Array.isArray(d))return d}function Dr(d){var p,m=d.resolver,w=d.params,I=rr(),P=I.spreadsheet,N=I.logger,$=I.theme,V=w.index,J=V===void 0?0:V,se=ie().useState(J),Te=hf(se,2),Se=Te[0],et=Te[1],ft=ie().useState(0),Ue=hf(ft,2),Ne=Ue[0],Ct=Ue[1],Ot=(0,re.useMemo)(function(){var Nr;return(Nr=P.dataSet.getDisplayDataSet())===null||Nr===void 0?void 0:Nr[Se]},[Se,P]),mt=P.facet.getScrollOffset(),Wt=mt.scrollY,Xe=mt.scrollX,_t=(P==null||(p=P.dataCfg)===null||p===void 0?void 0:p.comparesheet)||{},vt=_t.sourceTable,Rt=_t.targetTable,Kt=!!(vt&&Rt),fr=P.options.seriesNumberStartOffset===-1,kr=ie().useState(Wt),ln=hf(kr,2),nn=ln[0],Jr=ln[1];ie().useEffect(function(){N&&N(Gr.openDiagnosis)},[]),ie().useEffect(function(){var Nr=new Eo,Wr=Nr.clickChecked;Kt?Promise.all([Wr(vt,Jr,Se),Wr(Rt,void 0,Se)]):Wr(P,Jr,Se)},[Se,P,Ne,Kt,vt,Rt]),ie().useEffect(function(){var Nr=new Eo,Wr=Nr.scrollSheet;Kt?Promise.all([Wr(vt,nn,Wt,Xe),Wr(Rt,nn,Wt,Xe)]):Wr(P,nn,Wt,Xe)},[nn,Kt,vt,Rt]),Es(ye.ch4.GLOBAL_SCROLL,function(Nr){var Wr=Nr.scrollY;return Ct(Wt-Wr===1?Wt:Wr)});var hn=[{icon:ie().createElement(Re,{type:"icon-danjiantouwangshang"}),callback:function(){return Se>1&&et(function(Wr){return Wr-1})}},{icon:ie().createElement(Re,{type:"icon-danjiantouwangxia"}),callback:function(){return Se<(0,oe.size)(P.dataSet.getDisplayDataSet())-1&&et(function(Wr){return Wr+1})}},{icon:ie().createElement(Re,{type:"icon-huabansuoxiao"}),callback:function(){return m(!1)}}],it=(0,re.useMemo)(function(){return ie().createElement("div",{className:"modal-head"},ie().createElement("div",null,"\u667A\u80FD\u89E3\u6790"),ie().createElement("div",null,ie().createElement("span",{className:"line-count"},"\u5F53\u524D\uFF1A\u7B2C".concat(fr?Se:Se+1,"\u884C")),hn.map(function(Nr){return ie().createElement("span",{onClick:Nr.callback},Nr.icon)})))},[Se,P,et,fr]),je=(0,re.useCallback)(function(Nr){var Wr=Nr==null?void 0:Nr.map(function(on){return on.field});return Wr.every(function(on,Yn){return Number(on.slice((0,oe.size)(on)-(0,oe.size)("".concat(Yn+1)),(0,oe.size)(on)))===Yn+1})},[]),dt=(0,re.useMemo)(function(){var Nr;return P==null||(Nr=P.dataCfg)===null||Nr===void 0||(Nr=Nr.meta)===null||Nr===void 0?void 0:Nr.map(function(Wr,on){var Yn,sn;return{key:"".concat(Wr.field,"_").concat(on,"_").concat(Se),keyIndex:on+1,id:je(P==null||(Yn=P.dataCfg)===null||Yn===void 0?void 0:Yn.meta)?(sn=Wr.field)===null||sn===void 0?void 0:sn.slice(0,(0,oe.size)(Wr.field)-(0,oe.size)("".concat(on+1))):Wr.field,value:Ot==null?void 0:Ot[Wr.field]}})},[Se,P,Ot,je]),Jt=(0,re.useMemo)(function(){if(Kt){var Nr,Wr,on,Yn,sn=(Nr=vt.dataSet.getDisplayDataSet())===null||Nr===void 0?void 0:Nr[Se],bn=(Wr=Rt.dataSet.getDisplayDataSet())===null||Wr===void 0?void 0:Wr[Se],Hi=Rt==null||(on=Rt.dataCfg)===null||on===void 0?void 0:on.meta;return vt==null||(Yn=vt.dataCfg)===null||Yn===void 0||(Yn=Yn.meta)===null||Yn===void 0?void 0:Yn.map(function(ua,li){var La,so,Ho=Hi[li].field;return{key:"".concat(ua.field,"_").concat(li,"_").concat(Se),keyIndex:li+1,sourceId:je(vt==null||(La=vt.dataCfg)===null||La===void 0?void 0:La.meta)?(so=ua.field)===null||so===void 0?void 0:so.slice(0,(0,oe.size)(ua.field)-(0,oe.size)("".concat(li+1))):ua.field,sourceValue:sn==null?void 0:sn[ua.field],tragetId:je(Hi)?Ho==null?void 0:Ho.slice(0,(0,oe.size)(Ho)-(0,oe.size)("".concat(li+1))):Ho,targetValue:bn[Ho]}})}return null},[Se,vt,Rt,je,Kt]),pr=(0,re.useCallback)(function(Nr,Wr){var on=new as(Wr==="sourceId"?vt:Rt,Se,Nr==null?void 0:Nr[Wr]).caculate();return typeof on=="string"?on:on.map(function(Yn){return typeof Yn=="string"?Yn:ie().createElement("span",{className:Wr==="sourceId"?"different-red":"different-green"},Yn==null?void 0:Yn.value)})},[Se,vt,Rt]),xr=[{title:"\u5E8F\u53F7",dataIndex:"keyIndex",width:Kt?"5%":void 0},{title:Kt?"\u6765\u6E90\u8868\u5B57\u6BB5\u540D":"\u5B57\u6BB5\u540D",dataIndex:Kt?"sourceId":"id",width:Kt?"10%":void 0},{title:Kt?"\u6765\u6E90\u8868\u503C":"\u503C",dataIndex:Kt?"sourceValue":"value",render:function(Wr,on){return Kt?pr(on,"sourceId"):Wr}},Kt&&{title:"\u76EE\u6807\u8868\u5B57\u6BB5\u540D",dataIndex:"tragetId",width:"10%"},Kt&&{title:"\u76EE\u6807\u8868\u503C",dataIndex:"targetValue",render:function(Wr,on){return pr(on,"tragetId")}}].filter(Boolean);return ie().createElement(Zt.Modal,{title:it,closable:!1,visible:!0,width:Kt?"100%":void 0,onCancel:function(){return m(!1)},className:fe()("weave-diagnosis-container",$),footer:null},ie().createElement("div",{className:"weave-diagnosis-container"},ie().createElement(Zt.Table,{rowKey:function(Wr){return Wr.key},dataSource:Kt?Jt:dt,columns:xr,pagination:!1,scroll:{y:Kt?window.screen.height-200:400}})))}var jr=function d(p){return p?["auto","scroll"].includes(getComputedStyle(p).overflowY)||(p==null?void 0:p.id)==="root"?p:d(p==null?void 0:p.parentElement):null};function Pn(d){var p=d.params,m=d.resolver,w=p.newStyle,I=w===void 0?!1:w,P=p.renderedXBoundary,N=rr(),$=N.spreadsheet,V=N.theme,J=(0,re.useRef)(null),se=(0,re.useRef)(null),Te=$.facet.getScrollOffset(),Se=Te.scrollY,et=Te.scrollX,ft=(0,re.useMemo)(function(){return et&&!$.options.frozenColCount?"none":void 0},[et,$.options.frozenColCount]),Ue=(0,re.useMemo)(function(){var _t,vt=$==null||(_t=$.container.cfg.container)===null||_t===void 0?void 0:_t.getBoundingClientRect(),Rt={left:window.scrollX+vt.left,top:window.scrollY+vt.top+p.y+25-(p.rowIndex===0?0:Se),width:p.width,height:p.height,wrapperScrollElement:jr($==null?void 0:$.container.cfg.container),XBoundary:[P[0]+vt.x,P[1]+vt.x]};return Rt},[$==null?void 0:$.container.cfg.container,p,Se,P]),Ne=Ue.width,Ct=Ue.height,Ot=Ue.left,mt=Ue.top,Wt=Ue.wrapperScrollElement,Xe=Ue.XBoundary;return ie().useEffect(function(){var _t=(0,oe.throttle)(function(Rt){var Kt=Rt.clientX<Xe[0]||Rt.clientX>Xe[1]||Rt.clientY<mt-window.scrollY||Rt.clientY>mt+Ct-window.scrollY;Kt&&m(!1)},10,{leading:!0}),vt=function(Kt){m(!1)};return $.on(ye.ch4.GLOBAL_SCROLL,vt),Wt==null||Wt.addEventListener("scroll",vt),window.addEventListener("mousemove",_t),window.addEventListener("scroll",vt),function(){window.removeEventListener("mousemove",_t),window.removeEventListener("scroll",vt),Wt==null||Wt.removeEventListener("scroll",vt),$.off(ye.ch4.GLOBAL_SCROLL,vt)}},[m,J.current,$,Wt,Ct,mt,Xe]),ie().createElement("div",{ref:J,style:{zIndex:500,position:"absolute",overflow:"hidden",left:I?Ot+Ne:Ot,top:I?mt-10:mt,width:I?void 0:Ne,height:Ct,pointerEvents:"none",display:ft},className:fe()("row-icon-container",V,{"new-style":I}),id:"diagniosis_row_head_".concat(p.rowIndex)},ie().createElement("span",{className:fe()("icon",{"new-icon":I}),onMouseMove:function(vt){return vt.stopPropagation()},onClick:function(vt){vt.stopPropagation(),qr(Dr,{index:cr().toNumber(p.rowIndex)},$),m(!1)},ref:se},ie().createElement(Re,{type:"one-icon dataphin-icon icon-zhinengjiexi",style:{fontSize:"15px"}}),I&&ie().createElement("span",null," \xA0\u667A\u80FD\u89E3\u6790")))}function fi(d){"@babel/helpers - typeof";return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},fi(d)}function Hn(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function ci(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?Hn(Object(m),!0).forEach(function(w){hi(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Hn(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function hi(d,p,m){return p=di(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function si(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function Vr(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,di(w.key),w)}}function Gn(d,p,m){return p&&Vr(d.prototype,p),m&&Vr(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function di(d){var p=ni(d,"string");return fi(p)=="symbol"?p:String(p)}function ni(d,p){if(fi(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(fi(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function jn(){return typeof Reflect!="undefined"&&Reflect.get?jn=Reflect.get.bind():jn=function(p,m,w){var I=Bi(p,m);if(I){var P=Object.getOwnPropertyDescriptor(I,m);return P.get?P.get.call(arguments.length<3?p:w):P.value}},jn.apply(this,arguments)}function Bi(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=ou(d),d!==null););return d}function Ui(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&ma(d,p)}function ma(d,p){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},ma(d,p)}function Mo(d){var p=As();return function(){var w=ou(d),I;if(p){var P=ou(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return il(this,I)}}function il(d,p){if(p&&(fi(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mo(d)}function mo(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function As(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function ou(d){return ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},ou(d)}var os=function(d){Ui(m,d);var p=Mo(m);function m(){return si(this,m),p.apply(this,arguments)}return Gn(m,[{key:"initCell",value:function(){jn(ou(m.prototype),"initCell",this).call(this),this.meta.useDiagnosis&&this.drawRowHeadIcon()}},{key:"getTextAndIconPosition",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,P=this.getTextStyle(),N=this.getIconStyle(),$=this.getContentArea(),V=this.spreadsheet.dataCfg.summaryRowCfg;if(V&&V.visible&&!this.meta.showIconInColumnCell&&V.rowIndex===this.meta.rowIndex){var J=(this.spreadsheet.options.style.rowCfg.heightByField||{})[String(this.meta.rowIndex)];$.height=J-V.height;var se=this.getStyle();$.y-=se.cell.padding.top}return(0,ye.o0q)($,P,this.actualTextWidth,N,I)}},{key:"getFormattedFieldValue",value:function(){var I=jn(ou(m.prototype),"getFormattedFieldValue",this).call(this),P=Number(I.formattedValue),N=this.spreadsheet.options.seriesNumberStartOffset;return(0,oe.isNil)(N)?I:(P=Number(I.formattedValue),isNaN(P)||(P+=N),ci(ci({},I),{},{formattedValue:String(P)}))}},{key:"drawRowHeadIcon",value:function(){var I,P=this,N=((I=this.backgroundShape)===null||I===void 0?void 0:I.attr())||{},$=N.width,V=N.height,J=N.x,se=N.y,Te=this.meta.rowIndex,Se=[J,J+$];this.on("mouseover",(0,oe.throttle)(function(et){var ft=document.getElementById("diagniosis_row_head_".concat(Te));!ft&&Te!==0&&qr(Pn,{width:$,height:V,x:J,y:se,rowIndex:Te,newStyle:!0,renderedXBoundary:Se},P.spreadsheet)},10))}}]),m}(ye.DUx),Ys=os,al,Tu,Is;function lu(d){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},lu(d)}function ha(d,p,m){return p=Vn(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function Vn(d){var p=$r(d,"string");return lu(p)=="symbol"?p:String(p)}function $r(d,p){if(lu(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(lu(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}var Fn=function(d){return d.zh_CN="zh_CN",d.zh_TW="zh_TW",d.en_US="en_US",d}({}),Ri=Fn.zh_CN,Ki={zh_CN:{addCol:"\u63D2\u5165\u5217",copy:"\u590D\u5236",copyRow:"\u590D\u5236\u884C",copyCol:"\u590D\u5236\u5217",hideCol:"\u9690\u85CF\u5217",copyRowHeader:"\u590D\u5236\u884C\u5934",copyColHeader:"\u590D\u5236\u5217\u5934",downloadTxt:"\u5BFC\u51FA\u4E3ATXT",downloadCsv:"\u5BFC\u51FA\u4E3ACSV",copySuccess:"\u590D\u5236\u6210\u529F",copyTip:"\u5DF2\u590D\u5236\u5230\u526A\u5207\u677F",copyToExcel:"\u590D\u5236\u5230Excel",deleteRow:"\u5220\u9664\u884C",insertRow:"\u63D2\u5165\u884C",insertCol:"\u63D2\u5165\u5217",splitCol:"\u62C6\u5206\u5217",noResult:"\u65E0\u7ED3\u679C",currentFieldValue:"\u5F53\u524D\u5B57\u6BB5\u503C",confirm:"\u786E\u5B9A",cancel:"\u53D6\u6D88",asc:"\u5347\u5E8F",desc:"\u964D\u5E8F",noSort:"\u4E0D\u6392\u5E8F",clear:"\u6E05\u9664\u5185\u5BB9",clearFilter:"\u6E05\u9664\u7B5B\u9009",selectAll:"\u5168\u9009",filter:"\u6570\u503C\u7B5B\u9009",filterSearch:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD",dataSort:"\u6570\u636E\u6392\u5E8F",frozen:"\u56FA\u5B9A\u6B64\u5217",unfrozen:"\u53D6\u6D88\u56FA\u5B9A\u5217",required:"\u8BF7\u586B\u5199",customFilter:"\u81EA\u5B9A\u4E49\u7B5B\u9009",filterExpression:"\u9AD8\u7EA7\u7B5B\u9009",joinType:"\u7EC4\u5408\u7C7B\u578B",diagnosisRow:"\u89E3\u6790\u5F53\u524D\u884C",conditionalFormatting:"\u6761\u4EF6\u683C\u5F0F",adaptiveCol:"\u81EA\u9002\u5E94\u5C55\u5F00\u5217",pivotTable:"\u900F\u89C6\u8868",baseTable:"\u660E\u7EC6\u8868",filterExpressions:(al={},ha(ha(ha(ha(ha(ha(ha(ha(ha(ha(al,oi.IsEqualTo,"\u7B49\u4E8E"),oi.IsGreaterThan,"\u5927\u4E8E"),oi.IsLessThan,"\u5C0F\u4E8E"),oi.IsStartsWith,"\u5F00\u5934\u662F"),oi.IsNotStartsWith,"\u5F00\u5934\u4E0D\u662F"),oi.IsEndsWith,"\u7ED3\u5C3E\u662F"),oi.IsNotEndsWith,"\u7ED3\u5C3E\u4E0D\u662F"),oi.Contains,"\u5305\u542B"),oi.DoesntContain,"\u4E0D\u5305\u542B"),oi.IsDateBefore,"\u5728\u65E5\u671F\u4E4B\u524D"),ha(al,oi.IsDateAfter,"\u5728\u65E5\u671F\u4E4B\u540E")),backTop:"\u56DE\u5230\u9876\u90E8",backBottom:"\u76F4\u8FBE\u5E95\u90E8",deleteCell:"\u6E05\u9664\u5185\u5BB9",addRemark:"\u5907\u6CE8"},en_US:{addCol:"\u63D2\u5165\u5217",copy:"Copy",copyRow:"Copy row",copyCol:"Copy col",hideCol:"Hide col",copyRowHeader:"Copy row header",copyColHeader:"Copy col header",downloadTxt:"download txt",downloadCsv:"download CSV",copySuccess:"Copy successful",copyTip:"Copied to clipboard",copyToExcel:"\u590D\u5236\u5230Excel",deleteRow:"Delete row",insertRow:"Insert row",insertCol:"\u63D2\u5165\u5217",splitCol:"\u62C6\u5206\u5217",noResult:"No result",currentFieldValue:"Current field value",confirm:"Confirm",cancel:"Cancel",asc:"Asc",desc:"Desc",noSort:"None",clear:"Clear Content",clearFilter:"\u6E05\u9664\u7B5B\u9009",selectAll:"Select all",filter:"Value filter",filterSearch:"Please input keyword",dataSort:"Sort data",frozen:"Frozen this column",unfrozen:"Unfrozen this column",customFilter:"custom filter",required:"please fill",filterExpression:"filter with expression",joinType:"Join type",diagnosisRow:"diagnosis row",pivotTable:"pivot table",baseTable:"base table",conditionalFormatting:"\u6761\u4EF6\u683C\u5F0F",adaptiveCol:"\u81EA\u9002\u5E94\u5C55\u5F00\u5217",filterExpressions:(Tu={},ha(ha(ha(ha(ha(ha(ha(ha(ha(ha(Tu,oi.IsEqualTo,"is equal to"),oi.IsGreaterThan,"is greater than"),oi.IsLessThan,"is less than"),oi.IsStartsWith,"starts with"),oi.IsNotStartsWith,"not starts with"),oi.IsEndsWith,"ends with"),oi.IsNotEndsWith,"not ends with"),oi.Contains,"contains"),oi.DoesntContain,"does not contain"),oi.IsDateBefore,"before date"),ha(Tu,oi.IsDateAfter,"after date")),backTop:"Back to top",backBottom:"Back to bottom",deleteCell:"delete content",addRemark:"\u5907\u6CE8"},zh_TW:{addCol:"\u63D2\u5165\u5217",copy:"\u590D\u5236",copySuccess:"\u590D\u5236\u6210\u529F",copyTip:"\u5DF2\u590D\u5236\u5230\u526A\u5207\u677F",copyToExcel:"\u590D\u5236\u5230Excel",deleteRow:"\u5220\u9664\u884C",insertRow:"\u63D2\u5165\u884C",hideCol:"\u9690\u85CF\u5217",insertCol:"\u63D2\u5165\u5217",splitCol:"\u62C6\u5206\u5217",noResult:"\u65E0\u7ED3\u679C",currentFieldValue:"\u5F53\u524D\u5B57\u6BB5\u503C",confirm:"\u786E\u5B9A",cancel:"\u53D6\u6D88",asc:"\u5347\u5E8F",desc:"\u964D\u5E8F",noSort:"\u4E0D\u6392\u5E8F",clear:"\u6E05\u9664\u5185\u5BB9",clearFilter:"\u6E05\u9664\u7B5B\u9009",selectAll:"\u5168\u9009",filter:"\u6570\u503C\u7B5B\u9009",filterSearch:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD",dataSort:"\u6570\u636E\u6392\u5E8F",frozen:"\u56FA\u5B9A\u6B64\u5217",unfrozen:"\u53D6\u6D88\u56FA\u5B9A\u5217",required:"\u8BF7\u586B\u5199",customFilter:"\u81EA\u5B9A\u4E49\u7B5B\u9009",filterExpression:"\u9AD8\u7EA7\u7B5B\u9009",joinType:"\u7EC4\u5408\u7C7B\u578B",diagnosisRow:"\u89E3\u6790\u5F53\u524D\u884C",conditionalFormatting:"\u6761\u4EF6\u683C\u5F0F",adaptiveCol:"\u81EA\u9002\u5E94\u5C55\u5F00\u5217",filterExpressions:(Is={},ha(ha(ha(ha(ha(ha(ha(ha(ha(ha(Is,oi.IsEqualTo,"\u7B49\u4E8E"),oi.IsGreaterThan,"\u5927\u4E8E"),oi.IsLessThan,"\u5C0F\u4E8E"),oi.IsStartsWith,"\u5F00\u5934\u662F"),oi.IsNotStartsWith,"\u5F00\u5934\u4E0D\u662F"),oi.IsEndsWith,"\u7ED3\u5C3E\u662F"),oi.IsNotEndsWith,"\u7ED3\u5C3E\u4E0D\u662F"),oi.Contains,"\u5305\u542B"),oi.DoesntContain,"\u4E0D\u5305\u542B"),oi.IsDateBefore,"\u5728\u65E5\u671F\u4E4B\u524D"),ha(Is,oi.IsDateAfter,"\u5728\u65E5\u671F\u4E4B\u540E")),backTop:"\u56DE\u5230\u9876\u90E8",backBottom:"\u76F4\u8FBE\u5E95\u90E8",deleteCell:"\u6E05\u9664\u5185\u5BB9",addRemark:"\u5907\u6CE8"}},Gi=function(p){Ri=p},Do=function(p){var m=Ki[Ri],w=(0,oe.get)(m,p);return!w||!(0,oe.isString)(w)?"":w},Ei=Do;function Lo(d){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Lo(d)}function yo(d,p,m){return p=jf(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function ol(){return typeof Reflect!="undefined"&&Reflect.get?ol=Reflect.get.bind():ol=function(p,m,w){var I=Il(p,m);if(I){var P=Object.getOwnPropertyDescriptor(I,m);return P.get?P.get.call(arguments.length<3?p:w):P.value}},ol.apply(this,arguments)}function Il(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=uo(d),d!==null););return d}function Rl(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&Vu(d,p)}function Vu(d,p){return Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},Vu(d,p)}function js(d){var p=Dd();return function(){var w=uo(d),I;if(p){var P=uo(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return Rd(this,I)}}function Rd(d,p){if(p&&(Lo(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lv(d)}function Lv(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function Dd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function uo(d){return uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},uo(d)}function Dl(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function Pv(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,jf(w.key),w)}}function Vs(d,p,m){return p&&Pv(d.prototype,p),m&&Pv(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function jf(d){var p=Le(d,"string");return Lo(p)=="symbol"?p:String(p)}function Le(d,p){if(Lo(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Lo(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}var It=function(d){return d.OR="OR",d.AND="AND",d}({}),Xt=function(){function d(){Dl(this,d),this.key=void 0,this._operand=void 0}return Vs(d,[{key:"filter",value:function(m){throw new Error("Method not implemented.")}},{key:"operand",get:function(){return this._operand},set:function(m){nr(m)?this._operand=Number(m):this._operand=m}},{key:"serialize",value:function(){return{key:this.key,operand:this.operand}}}]),d}(),nr=function(p){var m=Number(p);return(0,oe.isNumber)(m)&&!isNaN(m)},Lr=function(){function d(p,m,w){Dl(this,d),this.type=void 0,this.funcA=void 0,this.funcB=void 0,this.funcA=m,this.funcB=w,this.type=p}return Vs(d,[{key:"filter",value:function(m){return this.type==="AND"?this.funcA.filter(m)&&this.funcB.filter(m):this.funcA.filter(m)||this.funcB.filter(m)}},{key:"serialize",value:function(){return{type:this.type,funcA:this.funcA.serialize(),funcB:this.funcB.serialize()}}}]),d}(),Tn=function(d){Rl(m,d);var p=js(m);function m(){var w;Dl(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),w.key=oi.IsGreaterThan,w}return Vs(m,[{key:"filter",value:function(I){var P=Number(I);return nr(P)&&P>this.operand}}]),m}(Xt),Ci=function(d){Rl(m,d);var p=js(m);function m(){var w;Dl(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),w.key=oi.IsLessThan,w}return Vs(m,[{key:"filter",value:function(I){var P=Number(I);return nr(P)&&P<this.operand}}]),m}(Xt),Ea=function(d){Rl(m,d);var p=js(m);function m(){var w;Dl(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),w.key=oi.IsEqualTo,w}return Vs(m,[{key:"filter",value:function(I){var P=Number(I);return nr(P)?P===this.operand:I===this.operand}}]),m}(Xt),Jo=function(d){Rl(m,d);var p=js(m);function m(){var w;Dl(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),w.key=oi.IsStartsWith,w}return Vs(m,[{key:"filter",value:function(I){return(0,oe.isString)(I)?I.startsWith(this.operand):I.toString().startsWith(this.operand)}}]),m}(Xt),ls=function(d){Rl(m,d);var p=js(m);function m(){var w;Dl(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),w.key=oi.IsNotStartsWith,w}return Vs(m,[{key:"filter",value:function(I){return!ol(uo(m.prototype),"filter",this).call(this,I)}}]),m}(Jo),ss=function(d){Rl(m,d);var p=js(m);function m(){var w;Dl(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),w.key=oi.IsEndsWith,w}return Vs(m,[{key:"filter",value:function(I){return(0,oe.isString)(I)?I.endsWith(this.operand):I.toString().endsWith(this.operand)}}]),m}(Xt),sc=function(d){Rl(m,d);var p=js(m);function m(){var w;Dl(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),w.key=oi.IsNotEndsWith,w}return Vs(m,[{key:"filter",value:function(I){return!ol(uo(m.prototype),"filter",this).call(this,I)}}]),m}(ss),Ld=function(d){Rl(m,d);var p=js(m);function m(){var w;Dl(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),w.key=oi.Contains,w}return Vs(m,[{key:"filter",value:function(I){return(0,oe.isString)(I)?I.includes(this.operand):I.toString().includes(this.operand)}}]),m}(Xt),wy=function(d){Rl(m,d);var p=js(m);function m(){var w;Dl(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),w.key=oi.DoesntContain,w}return Vs(m,[{key:"filter",value:function(I){return!ol(uo(m.prototype),"filter",this).call(this,I)}}]),m}(Ld),xy=null,Sy=null,Np=yo(yo(yo(yo(yo(yo(yo(yo(yo({},oi.IsEqualTo,Ea),oi.IsGreaterThan,Tn),oi.IsLessThan,Ci),oi.IsStartsWith,Jo),oi.IsNotStartsWith,ls),oi.IsEndsWith,ss),oi.IsNotEndsWith,sc),oi.Contains,Ld),oi.DoesntContain,wy),Pd=function(p){return!cr().isNull(p.key)&&!cr().isUndefined(p.key)},Bv=function(p){return!!p.funcA&&!!p.funcB};function Hp(d){if(Pd(d)){var p=new Np[d.key];return p.operand=d.operand,p}if(Bv(d))return new Lr(d.type,Hp(d.funcA),Hp(d.funcB))}var Go=function d(p){return Pd(p)?"\u503C ".concat(i18n("filterExpressions."+p.key)," ").concat(p.operand):Bv(p)?"".concat(d(p.funcA)," ").concat(p.type.toUpperCase()," ").concat(d(p.funcB)):""},wi=tt(95684),zp=tt(75262),Ca;(function(d){d[d.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",d[d.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",d[d.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(Ca||(Ca={}));var Vf=function(){function d(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return d.prototype.addTypeMetadata=function(p){this._typeMetadatas.has(p.target)||this._typeMetadatas.set(p.target,new Map),this._typeMetadatas.get(p.target).set(p.propertyName,p)},d.prototype.addTransformMetadata=function(p){this._transformMetadatas.has(p.target)||this._transformMetadatas.set(p.target,new Map),this._transformMetadatas.get(p.target).has(p.propertyName)||this._transformMetadatas.get(p.target).set(p.propertyName,[]),this._transformMetadatas.get(p.target).get(p.propertyName).push(p)},d.prototype.addExposeMetadata=function(p){this._exposeMetadatas.has(p.target)||this._exposeMetadatas.set(p.target,new Map),this._exposeMetadatas.get(p.target).set(p.propertyName,p)},d.prototype.addExcludeMetadata=function(p){this._excludeMetadatas.has(p.target)||this._excludeMetadatas.set(p.target,new Map),this._excludeMetadatas.get(p.target).set(p.propertyName,p)},d.prototype.findTransformMetadatas=function(p,m,w){return this.findMetadatas(this._transformMetadatas,p,m).filter(function(I){return!I.options||I.options.toClassOnly===!0&&I.options.toPlainOnly===!0?!0:I.options.toClassOnly===!0?w===Ca.CLASS_TO_CLASS||w===Ca.PLAIN_TO_CLASS:I.options.toPlainOnly===!0?w===Ca.CLASS_TO_PLAIN:!0})},d.prototype.findExcludeMetadata=function(p,m){return this.findMetadata(this._excludeMetadatas,p,m)},d.prototype.findExposeMetadata=function(p,m){return this.findMetadata(this._exposeMetadatas,p,m)},d.prototype.findExposeMetadataByCustomName=function(p,m){return this.getExposedMetadatas(p).find(function(w){return w.options&&w.options.name===m})},d.prototype.findTypeMetadata=function(p,m){return this.findMetadata(this._typeMetadatas,p,m)},d.prototype.getStrategy=function(p){var m=this._excludeMetadatas.get(p),w=m&&m.get(void 0),I=this._exposeMetadatas.get(p),P=I&&I.get(void 0);return w&&P||!w&&!P?"none":w?"excludeAll":"exposeAll"},d.prototype.getExposedMetadatas=function(p){return this.getMetadata(this._exposeMetadatas,p)},d.prototype.getExcludedMetadatas=function(p){return this.getMetadata(this._excludeMetadatas,p)},d.prototype.getExposedProperties=function(p,m){return this.getExposedMetadatas(p).filter(function(w){return!w.options||w.options.toClassOnly===!0&&w.options.toPlainOnly===!0?!0:w.options.toClassOnly===!0?m===Ca.CLASS_TO_CLASS||m===Ca.PLAIN_TO_CLASS:w.options.toPlainOnly===!0?m===Ca.CLASS_TO_PLAIN:!0}).map(function(w){return w.propertyName})},d.prototype.getExcludedProperties=function(p,m){return this.getExcludedMetadatas(p).filter(function(w){return!w.options||w.options.toClassOnly===!0&&w.options.toPlainOnly===!0?!0:w.options.toClassOnly===!0?m===Ca.CLASS_TO_CLASS||m===Ca.PLAIN_TO_CLASS:w.options.toPlainOnly===!0?m===Ca.CLASS_TO_PLAIN:!0}).map(function(w){return w.propertyName})},d.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},d.prototype.getMetadata=function(p,m){var w=p.get(m),I;w&&(I=Array.from(w.values()).filter(function(Te){return Te.propertyName!==void 0}));for(var P=[],N=0,$=this.getAncestors(m);N<$.length;N++){var V=$[N],J=p.get(V);if(J){var se=Array.from(J.values()).filter(function(Te){return Te.propertyName!==void 0});P.push.apply(P,se)}}return P.concat(I||[])},d.prototype.findMetadata=function(p,m,w){var I=p.get(m);if(I){var P=I.get(w);if(P)return P}for(var N=0,$=this.getAncestors(m);N<$.length;N++){var V=$[N],J=p.get(V);if(J){var se=J.get(w);if(se)return se}}},d.prototype.findMetadatas=function(p,m,w){var I=p.get(m),P;I&&(P=I.get(w));for(var N=[],$=0,V=this.getAncestors(m);$<V.length;$++){var J=V[$],se=p.get(J);se&&se.has(w)&&N.push.apply(N,se.get(w))}return N.slice().reverse().concat((P||[]).slice().reverse())},d.prototype.getAncestors=function(p){if(!p)return[];if(!this._ancestorsMap.has(p)){for(var m=[],w=Object.getPrototypeOf(p.prototype.constructor);typeof w.prototype!="undefined";w=Object.getPrototypeOf(w.prototype.constructor))m.push(w);this._ancestorsMap.set(p,m)}return this._ancestorsMap.get(p)},d}(),su=new Vf;function _y(){if(typeof globalThis!="undefined")return globalThis;if(typeof tt.g!="undefined")return tt.g;if(typeof window!="undefined")return window;if(typeof self!="undefined")return self}function df(d){return d!==null&&typeof d=="object"&&typeof d.then=="function"}var f0=tt(30816).lW,Xf=function(d,p,m){if(m||arguments.length===2)for(var w=0,I=p.length,P;w<I;w++)(P||!(w in p))&&(P||(P=Array.prototype.slice.call(p,0,w)),P[w]=p[w]);return d.concat(P||Array.prototype.slice.call(p))};function h0(d){var p=new d;return!(p instanceof Set)&&!("push"in p)?[]:p}var vf=function(){function d(p,m){this.transformationType=p,this.options=m,this.recursionStack=new Set}return d.prototype.transform=function(p,m,w,I,P,N){var $=this;if(N===void 0&&(N=0),Array.isArray(m)||m instanceof Set){var V=I&&this.transformationType===Ca.PLAIN_TO_CLASS?h0(I):[];return m.forEach(function(Ne,Ct){var Ot=p?p[Ct]:void 0;if(!$.options.enableCircularCheck||!$.isCircular(Ne)){var mt=void 0;if(typeof w!="function"&&w&&w.options&&w.options.discriminator&&w.options.discriminator.property&&w.options.discriminator.subTypes){if($.transformationType===Ca.PLAIN_TO_CLASS){mt=w.options.discriminator.subTypes.find(function(vt){return vt.name===Ne[w.options.discriminator.property]});var Wt={newObject:V,object:Ne,property:void 0},Xe=w.typeFunction(Wt);mt===void 0?mt=Xe:mt=mt.value,w.options.keepDiscriminatorProperty||delete Ne[w.options.discriminator.property]}$.transformationType===Ca.CLASS_TO_CLASS&&(mt=Ne.constructor),$.transformationType===Ca.CLASS_TO_PLAIN&&(Ne[w.options.discriminator.property]=w.options.discriminator.subTypes.find(function(vt){return vt.value===Ne.constructor}).name)}else mt=w;var _t=$.transform(Ot,Ne,mt,void 0,Ne instanceof Map,N+1);V instanceof Set?V.add(_t):V.push(_t)}else $.transformationType===Ca.CLASS_TO_CLASS&&(V instanceof Set?V.add(Ne):V.push(Ne))}),V}else{if(w===String&&!P)return m==null?m:String(m);if(w===Number&&!P)return m==null?m:Number(m);if(w===Boolean&&!P)return m==null?m:!!m;if((w===Date||m instanceof Date)&&!P)return m instanceof Date?new Date(m.valueOf()):m==null?m:new Date(m);if(_y().Buffer&&(w===f0||m instanceof f0)&&!P)return m==null?m:f0.from(m);if(df(m)&&!P)return new Promise(function(Ne,Ct){m.then(function(Ot){return Ne($.transform(void 0,Ot,w,void 0,void 0,N+1))},Ct)});if(!P&&m!==null&&typeof m=="object"&&typeof m.then=="function")return m;if(typeof m=="object"&&m!==null){!w&&m.constructor!==Object&&(!Array.isArray(m)&&m.constructor===Array||(w=m.constructor)),!w&&p&&(w=p.constructor),this.options.enableCircularCheck&&this.recursionStack.add(m);var J=this.getKeys(w,m,P),se=p||{};!p&&(this.transformationType===Ca.PLAIN_TO_CLASS||this.transformationType===Ca.CLASS_TO_CLASS)&&(P?se=new Map:w?se=new w:se={});for(var Te=function(Ne){if(Ne==="__proto__"||Ne==="constructor")return"continue";var Ct=Ne,Ot=Ne,mt=Ne;if(!Se.options.ignoreDecorators&&w){if(Se.transformationType===Ca.PLAIN_TO_CLASS){var Wt=su.findExposeMetadataByCustomName(w,Ne);Wt&&(mt=Wt.propertyName,Ot=Wt.propertyName)}else if(Se.transformationType===Ca.CLASS_TO_PLAIN||Se.transformationType===Ca.CLASS_TO_CLASS){var Wt=su.findExposeMetadata(w,Ne);Wt&&Wt.options&&Wt.options.name&&(Ot=Wt.options.name)}}var Xe=void 0;Se.transformationType===Ca.PLAIN_TO_CLASS?Xe=m[Ct]:m instanceof Map?Xe=m.get(Ct):m[Ct]instanceof Function?Xe=m[Ct]():Xe=m[Ct];var _t=void 0,vt=Xe instanceof Map;if(w&&P)_t=w;else if(w){var Rt=su.findTypeMetadata(w,mt);if(Rt){var Kt={newObject:se,object:m,property:mt},fr=Rt.typeFunction?Rt.typeFunction(Kt):Rt.reflectedType;Rt.options&&Rt.options.discriminator&&Rt.options.discriminator.property&&Rt.options.discriminator.subTypes?m[Ct]instanceof Array?_t=Rt:(Se.transformationType===Ca.PLAIN_TO_CLASS&&(_t=Rt.options.discriminator.subTypes.find(function(je){if(Xe&&Xe instanceof Object&&Rt.options.discriminator.property in Xe)return je.name===Xe[Rt.options.discriminator.property]}),_t===void 0?_t=fr:_t=_t.value,Rt.options.keepDiscriminatorProperty||Xe&&Xe instanceof Object&&Rt.options.discriminator.property in Xe&&delete Xe[Rt.options.discriminator.property]),Se.transformationType===Ca.CLASS_TO_CLASS&&(_t=Xe.constructor),Se.transformationType===Ca.CLASS_TO_PLAIN&&Xe&&(Xe[Rt.options.discriminator.property]=Rt.options.discriminator.subTypes.find(function(je){return je.value===Xe.constructor}).name)):_t=fr,vt=vt||Rt.reflectedType===Map}else if(Se.options.targetMaps)Se.options.targetMaps.filter(function(je){return je.target===w&&!!je.properties[mt]}).forEach(function(je){return _t=je.properties[mt]});else if(Se.options.enableImplicitConversion&&Se.transformationType===Ca.PLAIN_TO_CLASS){var kr=Reflect.getMetadata("design:type",w.prototype,mt);kr&&(_t=kr)}}var ln=Array.isArray(m[Ct])?Se.getReflectedType(w,mt):void 0,nn=p?p[Ct]:void 0;if(se.constructor.prototype){var Jr=Object.getOwnPropertyDescriptor(se.constructor.prototype,Ot);if((Se.transformationType===Ca.PLAIN_TO_CLASS||Se.transformationType===Ca.CLASS_TO_CLASS)&&(Jr&&!Jr.set||se[Ot]instanceof Function))return"continue"}if(!Se.options.enableCircularCheck||!Se.isCircular(Xe)){var hn=Se.transformationType===Ca.PLAIN_TO_CLASS?Ot:Ne,it=void 0;Se.transformationType===Ca.CLASS_TO_PLAIN?(it=m[hn],it=Se.applyCustomTransformations(it,w,hn,m,Se.transformationType),it=m[hn]===it?Xe:it,it=Se.transform(nn,it,_t,ln,vt,N+1)):Xe===void 0&&Se.options.exposeDefaultValues?it=se[Ot]:(it=Se.transform(nn,Xe,_t,ln,vt,N+1),it=Se.applyCustomTransformations(it,w,hn,m,Se.transformationType)),(it!==void 0||Se.options.exposeUnsetFields)&&(se instanceof Map?se.set(Ot,it):se[Ot]=it)}else if(Se.transformationType===Ca.CLASS_TO_CLASS){var it=Xe;it=Se.applyCustomTransformations(it,w,Ne,m,Se.transformationType),(it!==void 0||Se.options.exposeUnsetFields)&&(se instanceof Map?se.set(Ot,it):se[Ot]=it)}},Se=this,et=0,ft=J;et<ft.length;et++){var Ue=ft[et];Te(Ue)}return this.options.enableCircularCheck&&this.recursionStack.delete(m),se}else return m}},d.prototype.applyCustomTransformations=function(p,m,w,I,P){var N=this,$=su.findTransformMetadatas(m,w,this.transformationType);return this.options.version!==void 0&&($=$.filter(function(V){return V.options?N.checkVersion(V.options.since,V.options.until):!0})),this.options.groups&&this.options.groups.length?$=$.filter(function(V){return V.options?N.checkGroups(V.options.groups):!0}):$=$.filter(function(V){return!V.options||!V.options.groups||!V.options.groups.length}),$.forEach(function(V){p=V.transformFn({value:p,key:w,obj:I,type:P,options:N.options})}),p},d.prototype.isCircular=function(p){return this.recursionStack.has(p)},d.prototype.getReflectedType=function(p,m){if(p){var w=su.findTypeMetadata(p,m);return w?w.reflectedType:void 0}},d.prototype.getKeys=function(p,m,w){var I=this,P=su.getStrategy(p);P==="none"&&(P=this.options.strategy||"exposeAll");var N=[];if((P==="exposeAll"||w)&&(m instanceof Map?N=Array.from(m.keys()):N=Object.keys(m)),w)return N;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&p){var $=su.getExposedProperties(p,this.transformationType),V=su.getExcludedProperties(p,this.transformationType);N=Xf(Xf([],$,!0),V,!0)}if(!this.options.ignoreDecorators&&p){var $=su.getExposedProperties(p,this.transformationType);this.transformationType===Ca.PLAIN_TO_CLASS&&($=$.map(function(Te){var Se=su.findExposeMetadata(p,Te);return Se&&Se.options&&Se.options.name?Se.options.name:Te})),this.options.excludeExtraneousValues?N=$:N=N.concat($);var J=su.getExcludedProperties(p,this.transformationType);J.length>0&&(N=N.filter(function(Te){return!J.includes(Te)})),this.options.version!==void 0&&(N=N.filter(function(Te){var Se=su.findExposeMetadata(p,Te);return!Se||!Se.options?!0:I.checkVersion(Se.options.since,Se.options.until)})),this.options.groups&&this.options.groups.length?N=N.filter(function(Te){var Se=su.findExposeMetadata(p,Te);return!Se||!Se.options?!0:I.checkGroups(Se.options.groups)}):N=N.filter(function(Te){var Se=su.findExposeMetadata(p,Te);return!Se||!Se.options||!Se.options.groups||!Se.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(N=N.filter(function(se){return I.options.excludePrefixes.every(function(Te){return se.substr(0,Te.length)!==Te})})),N=N.filter(function(se,Te,Se){return Se.indexOf(se)===Te}),N},d.prototype.checkVersion=function(p,m){var w=!0;return w&&p&&(w=this.options.version>=p),w&&m&&(w=this.options.version<m),w},d.prototype.checkGroups=function(p){return p?this.options.groups.some(function(m){return p.includes(m)}):!0},d}(),uc={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},us=function(){return us=Object.assign||function(d){for(var p,m=1,w=arguments.length;m<w;m++){p=arguments[m];for(var I in p)Object.prototype.hasOwnProperty.call(p,I)&&(d[I]=p[I])}return d},us.apply(this,arguments)},Bd=function(){function d(){}return d.prototype.instanceToPlain=function(p,m){var w=new vf(Ca.CLASS_TO_PLAIN,us(us({},uc),m));return w.transform(void 0,p,void 0,void 0,void 0,void 0)},d.prototype.classToPlainFromExist=function(p,m,w){var I=new vf(Ca.CLASS_TO_PLAIN,us(us({},uc),w));return I.transform(m,p,void 0,void 0,void 0,void 0)},d.prototype.plainToInstance=function(p,m,w){var I=new vf(Ca.PLAIN_TO_CLASS,us(us({},uc),w));return I.transform(void 0,m,p,void 0,void 0,void 0)},d.prototype.plainToClassFromExist=function(p,m,w){var I=new vf(Ca.PLAIN_TO_CLASS,us(us({},uc),w));return I.transform(p,m,void 0,void 0,void 0,void 0)},d.prototype.instanceToInstance=function(p,m){var w=new vf(Ca.CLASS_TO_CLASS,us(us({},uc),m));return w.transform(void 0,p,void 0,void 0,void 0,void 0)},d.prototype.classToClassFromExist=function(p,m,w){var I=new vf(Ca.CLASS_TO_CLASS,us(us({},uc),w));return I.transform(m,p,void 0,void 0,void 0,void 0)},d.prototype.serialize=function(p,m){return JSON.stringify(this.instanceToPlain(p,m))},d.prototype.deserialize=function(p,m,w){var I=JSON.parse(m);return this.plainToInstance(p,I,w)},d.prototype.deserializeArray=function(p,m,w){var I=JSON.parse(m);return this.plainToInstance(p,I,w)},d}(),Ou=new Bd;function N1(d,p){return Ou.instanceToPlain(d,p)}function Wp(d,p){return Ou.instanceToPlain(d,p)}function Bh(d,p,m){return Ou.classToPlainFromExist(d,p,m)}function Fc(d,p,m){return Ou.plainToInstance(d,p,m)}function Gp(d,p,m){return Ou.plainToInstance(d,p,m)}function X2(d,p,m){return Ou.plainToClassFromExist(d,p,m)}function gx(d,p){return Ou.instanceToInstance(d,p)}function Z2(d,p,m){return Ou.classToClassFromExist(d,p,m)}function K2(d,p){return Ou.serialize(d,p)}function mx(d,p,m){return Ou.deserialize(d,p,m)}function kh(d,p,m){return Ou.deserializeArray(d,p,m)}function $p(d){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},$p(d)}var Up,Ey,My;function yx(d,p,m,w){m&&Object.defineProperty(d,p,{enumerable:m.enumerable,configurable:m.configurable,writable:m.writable,value:m.initializer?m.initializer.call(w):void 0})}function Cx(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function cc(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,Xu(w.key),w)}}function kd(d,p,m){return p&&cc(d.prototype,p),m&&cc(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function Xu(d){var p=bx(d,"string");return $p(p)=="symbol"?p:String(p)}function bx(d,p){if($p(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if($p(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function pf(d,p,m,w,I){var P={};return Object.keys(w).forEach(function(N){P[N]=w[N]}),P.enumerable=!!P.enumerable,P.configurable=!!P.configurable,("value"in P||P.initializer)&&(P.writable=!0),P=m.slice().reverse().reduce(function(N,$){return $(d,p,N)||N},P),I&&P.initializer!==void 0&&(P.value=P.initializer?P.initializer.call(I):void 0,P.initializer=void 0),P.initializer===void 0&&(Object.defineProperty(d,p,P),P=null),P}function wx(d,p){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}var Yp=(Up=(0,ea.vg)(),Ey=function(){function d(){Cx(this,d),yx(this,"transformers",My,this),this.lookUp=void 0,this.transformers=[],this.lookUp={}}return kd(d,[{key:"addPipe",value:function(m){var w=this;return this.transformers.push(m),function(){var I=w.transformers.findIndex(function(P){return P===m});I!==-1&&w.transformers.splice(I,1)}}},{key:"addNamedPipe",value:function(m,w){var I=this,P=this.lookUp[m];if(P){var N=this.transformers.findIndex(function($){return $===P});N!==-1&&this.transformers.splice(N,1)}return this.transformers.push(w),this.lookUp[m]=w,function(){var $=I.transformers.findIndex(function(V){return V===w});$!==-1&&I.transformers.splice($,1),delete I.lookUp[m]}}}]),d}(),My=pf(Ey.prototype,"transformers",[Up],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ey),Bn=tt(19399);function kv(d){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},kv(d)}var Ty,Fh,d0,fc,H1,jp,Nh,z1,Fd,W1,G1,$1,v0,Vp,Xp,Fv,Nv,Nd,Zp,p0,U1,Oy,g0,m0,y0,C0;function Hv(d,p){var m=typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(!m){if(Array.isArray(d)||(m=Pa(d))||p&&d&&typeof d.length=="number"){m&&(d=m);var w=0,I=function(){};return{s:I,n:function(){return w>=d.length?{done:!0}:{done:!1,value:d[w++]}},e:function(J){throw J},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P=!0,N=!1,$;return{s:function(){m=m.call(d)},n:function(){var J=m.next();return P=J.done,J},e:function(J){N=!0,$=J},f:function(){try{!P&&m.return!=null&&m.return()}finally{if(N)throw $}}}}function Pa(d,p){if(d){if(typeof d=="string")return Hd(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Hd(d,p)}}function Hd(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function Ll(d,p,m,w){m&&Object.defineProperty(d,p,{enumerable:m.enumerable,configurable:m.configurable,writable:m.writable,value:m.initializer?m.initializer.call(w):void 0})}function Hh(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,Vi(w.key),w)}}function zh(d,p,m){return p&&Hh(d.prototype,p),m&&Hh(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function Vi(d){var p=Ay(d,"string");return kv(p)=="symbol"?p:String(p)}function Ay(d,p){if(kv(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(kv(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function zv(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function el(d,p,m,w,I){var P={};return Object.keys(w).forEach(function(N){P[N]=w[N]}),P.enumerable=!!P.enumerable,P.configurable=!!P.configurable,("value"in P||P.initializer)&&(P.writable=!0),P=m.slice().reverse().reduce(function(N,$){return $(d,p,N)||N},P),I&&P.initializer!==void 0&&(P.value=P.initializer?P.initializer.call(I):void 0,P.initializer=void 0),P.initializer===void 0&&(Object.defineProperty(d,p,P),P=null),P}function b0(d,p){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}var Wh=(Ty=(0,ea.vg)(),Fh=(0,ea.vg)(),d0=(0,ea.vg)(),fc=(0,ea.vg)(),H1=(0,ea.vg)(),jp=(0,ea.vg)(),Nh=zh(function d(){zv(this,d),Ll(this,"alias",z1,this),Ll(this,"type",Fd,this),Ll(this,"contentType",W1,this),Ll(this,"aggregateType",G1,this),Ll(this,"computeLogic",$1,this),Ll(this,"filterLogic",v0,this)}),z1=el(Nh.prototype,"alias",[Ty],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fd=el(Nh.prototype,"type",[Fh],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qa.isOriginal}}),W1=el(Nh.prototype,"contentType",[d0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ti.String}}),G1=el(Nh.prototype,"aggregateType",[fc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _a.COUNT}}),$1=el(Nh.prototype,"computeLogic",[H1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v0=el(Nh.prototype,"filterLogic",[jp],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Nh),Gh=(Vp=(0,Bn.ZR)("ColConfigModel"),Xp=(0,Bn.vQ)(wi.C.Instance),Fv=(0,ea.vg)(),Vp(Nv=Xp(Nv=(Nd=function(){function d(){zv(this,d),Ll(this,"colConfigs",Zp,this)}return zh(d,[{key:"modify",value:function(m,w){var I=this;this.colConfigs[m]||(this.colConfigs[m]=new Wh);var P={};return Object.keys(w).forEach(function(N){P[N]=I.colConfigs[m][N],I.colConfigs[m][N]=w[N]}),P}},{key:"getColumnType",value:function(m){var w;return((w=this.colConfigs[m])===null||w===void 0?void 0:w.contentType)||Ti.String}}]),d}(),Zp=el(Nd.prototype,"colConfigs",[Fv],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Nd))||Nv)||Nv),Nl=(p0=(0,Bn.vQ)(wi.C.Instance),p0(U1=function(){function d(){zv(this,d),this.graph=void 0,this.graph=new Map}return zh(d,[{key:"addEdge",value:function(m,w){this.graph.has(m)||this.graph.set(m,[]),this.graph.has(w)||this.graph.set(w,[]),!this.graph.get(m).includes(w)&&(this.graph.get(w).includes(m)&&this.removePrecedence(w,m),this.graph.get(m).push(w))}},{key:"hasEdge",value:function(m,w){return this.graph.has(m)&&this.graph.get(m).includes(w)}},{key:"addPrecedence",value:function(m,w){!m||!w||m!==w&&this.addEdge(m,w)}},{key:"removePrecedence",value:function(m,w){this.graph.has(m)&&this.graph.set(m,this.graph.get(m).filter(function(I){return I!==w}))}},{key:"topologicalSortUtil",value:function(m,w,I){if(w.add(m),this.graph.has(m)){var P=Hv(this.graph.get(m)),N;try{for(P.s();!(N=P.n()).done;){var $=N.value;w.has($)||this.topologicalSortUtil($,w,I)}}catch(V){P.e(V)}finally{P.f()}}I.push(m)}},{key:"getOrderedDimensions",value:function(m,w){var I=new Set,P=[],N=Hv(m),$;try{for(N.s();!($=N.n()).done;){var V=$.value;I.has(V)||this.topologicalSortUtil(V,I,P)}}catch(J){N.e(J)}finally{N.f()}return P.reverse()}}]),d}())||U1),Kp=(Oy=(0,Bn.vQ)(wi.C.Instance),g0=(0,ea.vg)(),Oy(m0=(y0=function(){function d(){zv(this,d),Ll(this,"dimensionExpandedMap",C0,this)}return zh(d,[{key:"change",value:function(m,w,I){this.dimensionExpandedMap[m]||(this.dimensionExpandedMap[m]=[]);var P=this.dimensionExpandedMap[m].indexOf(w);I&&P===-1?this.dimensionExpandedMap[m].push(w):!I&&P!==-1&&this.dimensionExpandedMap[m].splice(P,1)}},{key:"resetDimExpansion",value:function(m){this.dimensionExpandedMap[m]=[]}},{key:"isExpanded",value:function(m,w){return this.dimensionExpandedMap[m]&&this.dimensionExpandedMap[m].indexOf(w)!==-1}}]),d}(),C0=el(y0.prototype,"dimensionExpandedMap",[g0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),y0))||m0);function $h(d){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},$h(d)}function cs(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function hc(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?cs(Object(m),!0).forEach(function(w){Iy(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):cs(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function Iy(d,p,m){return p=Wd(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function zd(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function qp(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,Wd(w.key),w)}}function Qp(d,p,m){return p&&qp(d.prototype,p),m&&qp(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function Wd(d){var p=Zu(d,"string");return $h(p)=="symbol"?p:String(p)}function Zu(d,p){if($h(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if($h(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}var Jp=function(p){switch(p){case wi.m.FILTER:return"\u7B5B\u9009";case wi.m.SORT:return"\u6392\u5E8F";case wi.m.FILTERBYEXP:return"\u8868\u8FBE\u5F0F\u7B5B\u9009";case wi.m.FREEZECOL:return"\u51BB\u7ED3\u5217";case wi.m.SPLITCOL:return"\u62C6\u5206\u5217";case wi.m.ADDCHART:return"\u6DFB\u52A0\u56FE\u8868";case wi.m.REMOVECHART:return"\u5220\u9664\u56FE\u8868";case wi.m.APPLYCONDITION:return"\u6761\u4EF6\u683C\u5F0F";case wi.m.EDITCELL:return"\u7F16\u8F91\u5355\u5143\u683C";default:return"\u672A\u77E5"}},Hl=function(){function d(p){zd(this,d),this._cmdObject=void 0,this.executed=void 0,this._cmdObject=p,this.executed=!1}return Qp(d,[{key:"revert",value:function(){if(this.isRevertable())return this._cmdObject.revert()}},{key:"setExecuted",value:function(m){this.executed=m}},{key:"isRevertable",value:function(){return!!this._cmdObject.revert}},{key:"humanReadable",value:function(){return{name:Jp(this._cmdObject.id)}}},{key:"toJSON",value:function(){var m,w=Reflect.getMetadata(Bn.HH,(m=this._cmdObject.params)===null||m===void 0?void 0:m.constructor);if(w){var I=Wp(this._cmdObject.params);return I[Bn.FL]=w,hc(hc({},this._cmdObject),{},{params:I})}return this._cmdObject}}]),d}(),Zf=function(p){var m=p.id,w=p.className,I=w===void 0?"":w,P=p.children,N=p.onDrop,$=p.onDelete,V=p.disable,J=V===void 0?!1:V;return ie().createElement("div",{className:fe()(["weave-dnd-container",I]),draggable:!J,onDragStart:function(Te){J||Te.dataTransfer.setData("sourceId",m)},onDragOver:function(Te){Te.preventDefault()},onDrop:function(Te){if(!J){var Se=Te.dataTransfer.getData("sourceId");N(Se,m)}}},ie().createElement(Re,{type:"one-icon dataphin-icon icon-drag anticon-dpicon",className:fe()(["icon","dragIcon",{hidden:J}])}),ie().createElement("div",{className:"content"},P),ie().createElement(Re,{type:"one-icon icon-shanchu2 anticon-dpicon",className:"icon",onClick:function(){return $(m)}}))},w0=tt(61320),co=tt.n(w0);function Xs(d){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Xs(d)}function Uh(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function Nc(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?Uh(Object(m),!0).forEach(function(w){xx(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Uh(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function xx(d,p,m){return p=Gd(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function Gd(d){var p=eg(d,"string");return Xs(p)=="symbol"?p:String(p)}function eg(d,p){if(Xs(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Xs(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function Ry(d,p){return fs(d)||Dy(d,p)||Ud(d,p)||x0()}function x0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dy(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function fs(d){if(Array.isArray(d))return d}function $d(d){return gf(d)||Ly(d)||Ud(d)||Y1()}function Y1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ud(d,p){if(d){if(typeof d=="string")return tg(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return tg(d,p)}}function Ly(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function gf(d){if(Array.isArray(d))return tg(d)}function tg(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}var Yh={sortFieldId:void 0,sortMethod:ye.Xzc.DESC};function Py(d){return function(p,m){for(var w=0;w<d.length;w++){var I=d[w](p,m);if(I!==0)return I}return 0}}function Jl(){var d=this.spreadsheet.dataCfg.types,p=(this.sortParams||[]).map(function(I){var P=I.sortFieldId,N=I.sortMethod,$=function(J,se){return 0};return P&&[ye.Xzc.ASC,ye.Xzc.DESC].includes(N)&&(d[P]===Ti.Number?$=function(J,se){var Te=Hc(J[P]),Se=Hc(se[P]),et=ye.Xzc.ASC===N?Te:Se,ft=ye.Xzc.ASC===N?Se:Te;return et>ft?1:et<ft?-1:0}:d[P]===Ti.Date?$=function(J,se){var Te,Se,et=co()((Te=J==null?void 0:J[P])!==null&&Te!==void 0?Te:0),ft=co()((Se=se==null?void 0:se[P])!==null&&Se!==void 0?Se:0),Ue=ye.Xzc.ASC===N?et:ft,Ne=ye.Xzc.ASC===N?ft:et;return Ue>Ne?1:Ue<Ne?-1:0}:$=function(J,se){var Te,Se,et=(Te=J[P])!==null&&Te!==void 0?Te:"",ft=(Se=se[P])!==null&&Se!==void 0?Se:"",Ue=ye.Xzc.ASC===N?et:ft,Ne=ye.Xzc.ASC===N?ft:et,Ct=/^\d*[\.]?\d*$/,Ot=/[a-zA-Z]/;if(Ct.test(Ue)&&Ct.test(Ne)){var mt=Hc(Ue),Wt=Hc(Ne);return mt>Wt?1:mt<Wt?-1:0}else return Ot.test(Ue)||Ot.test(Ne)?Ue>Ne?1:Ue<Ne?-1:0:Ue.localeCompare(Ne,"zh-Hans-CN")}),$}),m=Py(p),w=this.getMovableRows().sort(m);this.displayData=[].concat($d(this.getStartRows()),$d(w),$d(this.getEndRows()))}var Au=function(p){var m,w,I=p.visible,P=p.onVisibleChange,N=p.columns,$=rr(),V=$.spreadsheet,J=$.logger,se=(0,re.useState)([]),Te=Ry(se,2),Se=Te[0],et=Te[1],ft=V==null||(m=V.dataCfg)===null||m===void 0?void 0:m.sortParams;(0,re.useEffect)(function(){I&&(J&&J(Gr.sortManage),et(ft&&ft.length?ft:[Nc({},Yh)]))},[I]);var Ue=Se.map(function(Xe){return Xe.sortFieldId}),Ne=im(V==null||(w=V.dataCfg)===null||w===void 0||(w=w.fields)===null||w===void 0?void 0:w.columns),Ct=function(_t,vt){et(function(Rt){return Rt.map(function(Kt){return Kt.sortFieldId===_t?Nc(Nc({},Kt),{},{sortMethod:vt}):Kt})})},Ot=function(_t,vt,Rt){et(function(Kt){return Kt.map(function(fr){return fr.sortFieldId===_t?Nc(Nc({},fr),{},{sortFieldId:Rt,sortMethod:vt}):fr})})},mt=function(_t){et(function(vt){return[].concat($d(vt),[_t])})},Wt=function(_t){V.dataSet.handleDimensionValuesSort=Jl;var vt=_t.map(function(Rt){return{sortFieldId:Rt.sortFieldId,sortMethod:Rt.sortMethod,sortFunc:mf(V)}});V.setDataCfg(Nc(Nc({},V.dataCfg),{},{sortParams:vt})),V.render(!0),V.emit(ye.ch4.RANGE_SORTED,V.dataSet.getDisplayDataSet())};return ie().createElement(Zt.Modal,{className:"weave-sort-modal dp-sort-modal-wrapper",title:"\u8BBE\u7F6E\u6392\u5E8F",centered:!0,visible:I,maskClosable:!1,onCancel:function(){P(!1)},footer:ie().createElement("div",{className:"footer"},ie().createElement("div",{className:"left",onClick:function(){et([Nc({},Yh)])}},ie().createElement(Re,{type:"one-icon icon-shuaxin2 anticon-dpicon"}),"\u6E05\u9664"),ie().createElement("div",{className:"right"},ie().createElement(Zt.Button,{type:"ghost",onClick:function(){P(!1)},className:"btn"},"\u53D6\u6D88"),ie().createElement(Zt.Button,{onClick:function(){Wt(Se.filter(function(_t){return!!_t.sortFieldId})),P(!1)},className:"btn"},"\u5E94\u7528")))},ie().createElement("div",null,Se.map(function(Xe){return ie().createElement(Zf,{className:"weave-sort-item-container",disable:!Xe.sortFieldId,onDrop:function(vt,Rt){et(nm(Se,vt,Rt,"sortFieldId"))},onDelete:function(vt){et(function(Rt){return Rt.filter(function(Kt){return Kt.sortFieldId!==vt})})},id:Xe.sortFieldId},ie().createElement("div",{className:"sortItem"},ie().createElement(Zt.Select,{className:"select",placeholder:"\u9009\u62E9\u5B57\u6BB5",key:Xe.sortFieldId,value:Xe.sortFieldId,onSelect:function(vt){Ot(Xe.sortFieldId,Xe.sortMethod,vt)}},Ne.filter(function(_t){return _t===Xe.sortFieldId||!Ue.includes(_t)}).map(function(_t){var vt,Rt;return ie().createElement(Zt.Select.Option,{key:_t},(vt=(Rt=N.find(function(Kt){return Kt.name===_t}))===null||Rt===void 0?void 0:Rt.id)!==null&&vt!==void 0?vt:_t)})),ie().createElement(Zt.Radio.Group,{className:"select",onChange:function(vt){Ct(Xe.sortFieldId,vt.target.value)},value:Xe.sortMethod},ie().createElement(Zt.Radio.Button,{value:ye.Xzc.ASC},"\u5347\u5E8F"),ie().createElement(Zt.Radio.Button,{value:ye.Xzc.DESC},"\u964D\u5E8F"))))}),Se.find(function(Xe){return!Xe.sortFieldId})?null:ie().createElement("div",{className:"add",onClick:function(){mt({sortFieldId:void 0,sortMethod:ye.Xzc.DESC})}},ie().createElement(Re,{className:"icon",type:"one-icon icon-jiahao anticon-dpicon"}),"\u6DFB\u52A0\u6392\u5E8F")))},Hc=function(p){if(typeof p=="number"||typeof p=="bigint")return p;if(typeof p=="string")try{return p.includes(".")?Number(p):BigInt(p)}catch(m){return 0}},mf=function(p){return function(m){var w=m.data,I=m.sortFieldId,P=m.sortMethod;return[ye.Xzc.ASC,ye.Xzc.DESC].includes(P)?p.dataCfg.types[I]===Ti.Number?w.sort(function(N,$){var V=Hc(N[I]),J=Hc($[I]),se=ye.Xzc.ASC===P?V:J,Te=ye.Xzc.ASC===P?J:V;return se>Te?1:se<Te?-1:0}):p.dataCfg.types[I]===Ti.Date?(0,oe.orderBy)(w,[function(N){var $;return co()(($=N==null?void 0:N[I])!==null&&$!==void 0?$:0)}],[P.toLocaleLowerCase()]):w.sort(function(N,$){var V,J,se=(V=N[I])!==null&&V!==void 0?V:"",Te=(J=$[I])!==null&&J!==void 0?J:"",Se=ye.Xzc.ASC===P?se:Te,et=ye.Xzc.ASC===P?Te:se,ft=/^\d*[\.]?\d*$/,Ue=/[a-zA-Z]/;if(ft.test(Se)&&ft.test(et)){var Ne=Hc(Se),Ct=Hc(et);return Ne>Ct?1:Ne<Ct?-1:0}else return Ue.test(Se)||Ue.test(et)?Se>et?1:Se<et?-1:0:Se.localeCompare(et,"zh-Hans-CN")}):w}},Co=tt(25773),Wv=tt(47169),On=tt(6983);function rg(d,p){d.prototype=Object.create(p.prototype),d.prototype.constructor=d,(0,On.Z)(d,p)}var By=Number.isNaN||function(p){return typeof p=="number"&&p!==p};function Gv(d,p){return!!(d===p||By(d)&&By(p))}function Ta(d,p){if(d.length!==p.length)return!1;for(var m=0;m<d.length;m++)if(!Gv(d[m],p[m]))return!1;return!0}function yf(d,p){p===void 0&&(p=Ta);var m,w=[],I,P=!1;function N(){for(var $=[],V=0;V<arguments.length;V++)$[V]=arguments[V];return P&&m===this&&p($,w)||(I=d.apply(this,$),P=!0,m=this,w=$),I}return N}var dc=yf,Yd=typeof performance=="object"&&typeof performance.now=="function",ji=Yd?function(){return performance.now()}:function(){return Date.now()};function ng(d){cancelAnimationFrame(d.id)}function $v(d,p){var m=ji();function w(){ji()-m>=p?d.call(null):I.id=requestAnimationFrame(w)}var I={id:requestAnimationFrame(w)};return I}var Uv=-1;function S0(d){if(d===void 0&&(d=!1),Uv===-1||d){var p=document.createElement("div"),m=p.style;m.width="50px",m.height="50px",m.overflow="scroll",document.body.appendChild(p),Uv=p.offsetWidth-p.clientWidth,document.body.removeChild(p)}return Uv}var Zs=null;function Yv(d){if(d===void 0&&(d=!1),Zs===null||d){var p=document.createElement("div"),m=p.style;m.width="50px",m.height="50px",m.overflow="scroll",m.direction="rtl";var w=document.createElement("div"),I=w.style;return I.width="100px",I.height="100px",p.appendChild(w),document.body.appendChild(p),p.scrollLeft>0?Zs="positive-descending":(p.scrollLeft=1,p.scrollLeft===0?Zs="negative":Zs="positive-ascending"),document.body.removeChild(p),Zs}return Zs}var jd=150,ig=function(p){var m=p.columnIndex,w=p.data,I=p.rowIndex;return I+":"+m},j1=null,_0=null,Sx=null;function ag(d){var p,m=d.getColumnOffset,w=d.getColumnStartIndexForOffset,I=d.getColumnStopIndexForStartIndex,P=d.getColumnWidth,N=d.getEstimatedTotalHeight,$=d.getEstimatedTotalWidth,V=d.getOffsetForColumnAndAlignment,J=d.getOffsetForRowAndAlignment,se=d.getRowHeight,Te=d.getRowOffset,Se=d.getRowStartIndexForOffset,et=d.getRowStopIndexForStartIndex,ft=d.initInstanceProps,Ue=d.shouldResetStyleCacheOnItemSizeChange,Ne=d.validateProps;return p=function(Ct){rg(Ot,Ct);function Ot(Wt){var Xe;return Xe=Ct.call(this,Wt)||this,Xe._instanceProps=ft(Xe.props,(0,Wv.Z)(Xe)),Xe._resetIsScrollingTimeoutId=null,Xe._outerRef=void 0,Xe.state={instance:(0,Wv.Z)(Xe),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof Xe.props.initialScrollLeft=="number"?Xe.props.initialScrollLeft:0,scrollTop:typeof Xe.props.initialScrollTop=="number"?Xe.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},Xe._callOnItemsRendered=void 0,Xe._callOnItemsRendered=dc(function(_t,vt,Rt,Kt,fr,kr,ln,nn){return Xe.props.onItemsRendered({overscanColumnStartIndex:_t,overscanColumnStopIndex:vt,overscanRowStartIndex:Rt,overscanRowStopIndex:Kt,visibleColumnStartIndex:fr,visibleColumnStopIndex:kr,visibleRowStartIndex:ln,visibleRowStopIndex:nn})}),Xe._callOnScroll=void 0,Xe._callOnScroll=dc(function(_t,vt,Rt,Kt,fr){return Xe.props.onScroll({horizontalScrollDirection:Rt,scrollLeft:_t,scrollTop:vt,verticalScrollDirection:Kt,scrollUpdateWasRequested:fr})}),Xe._getItemStyle=void 0,Xe._getItemStyle=function(_t,vt){var Rt=Xe.props,Kt=Rt.columnWidth,fr=Rt.direction,kr=Rt.rowHeight,ln=Xe._getItemStyleCache(Ue&&Kt,Ue&&fr,Ue&&kr),nn=_t+":"+vt,Jr;if(ln.hasOwnProperty(nn))Jr=ln[nn];else{var hn=m(Xe.props,vt,Xe._instanceProps),it=fr==="rtl";ln[nn]=Jr={position:"absolute",left:it?void 0:hn,right:it?hn:void 0,top:Te(Xe.props,_t,Xe._instanceProps),height:se(Xe.props,_t,Xe._instanceProps),width:P(Xe.props,vt,Xe._instanceProps)}}return Jr},Xe._getItemStyleCache=void 0,Xe._getItemStyleCache=dc(function(_t,vt,Rt){return{}}),Xe._onScroll=function(_t){var vt=_t.currentTarget,Rt=vt.clientHeight,Kt=vt.clientWidth,fr=vt.scrollLeft,kr=vt.scrollTop,ln=vt.scrollHeight,nn=vt.scrollWidth;Xe.setState(function(Jr){if(Jr.scrollLeft===fr&&Jr.scrollTop===kr)return null;var hn=Xe.props.direction,it=fr;if(hn==="rtl")switch(Yv()){case"negative":it=-fr;break;case"positive-descending":it=nn-Kt-fr;break}it=Math.max(0,Math.min(it,nn-Kt));var je=Math.max(0,Math.min(kr,ln-Rt));return{isScrolling:!0,horizontalScrollDirection:Jr.scrollLeft<fr?"forward":"backward",scrollLeft:it,scrollTop:je,verticalScrollDirection:Jr.scrollTop<kr?"forward":"backward",scrollUpdateWasRequested:!1}},Xe._resetIsScrollingDebounced)},Xe._outerRefSetter=function(_t){var vt=Xe.props.outerRef;Xe._outerRef=_t,typeof vt=="function"?vt(_t):vt!=null&&typeof vt=="object"&&vt.hasOwnProperty("current")&&(vt.current=_t)},Xe._resetIsScrollingDebounced=function(){Xe._resetIsScrollingTimeoutId!==null&&ng(Xe._resetIsScrollingTimeoutId),Xe._resetIsScrollingTimeoutId=$v(Xe._resetIsScrolling,jd)},Xe._resetIsScrolling=function(){Xe._resetIsScrollingTimeoutId=null,Xe.setState({isScrolling:!1},function(){Xe._getItemStyleCache(-1)})},Xe}Ot.getDerivedStateFromProps=function(Xe,_t){return og(Xe,_t),Ne(Xe),null};var mt=Ot.prototype;return mt.scrollTo=function(Xe){var _t=Xe.scrollLeft,vt=Xe.scrollTop;_t!==void 0&&(_t=Math.max(0,_t)),vt!==void 0&&(vt=Math.max(0,vt)),this.setState(function(Rt){return _t===void 0&&(_t=Rt.scrollLeft),vt===void 0&&(vt=Rt.scrollTop),Rt.scrollLeft===_t&&Rt.scrollTop===vt?null:{horizontalScrollDirection:Rt.scrollLeft<_t?"forward":"backward",scrollLeft:_t,scrollTop:vt,scrollUpdateWasRequested:!0,verticalScrollDirection:Rt.scrollTop<vt?"forward":"backward"}},this._resetIsScrollingDebounced)},mt.scrollToItem=function(Xe){var _t=Xe.align,vt=_t===void 0?"auto":_t,Rt=Xe.columnIndex,Kt=Xe.rowIndex,fr=this.props,kr=fr.columnCount,ln=fr.height,nn=fr.rowCount,Jr=fr.width,hn=this.state,it=hn.scrollLeft,je=hn.scrollTop,dt=S0();Rt!==void 0&&(Rt=Math.max(0,Math.min(Rt,kr-1))),Kt!==void 0&&(Kt=Math.max(0,Math.min(Kt,nn-1)));var Jt=N(this.props,this._instanceProps),pr=$(this.props,this._instanceProps),xr=pr>Jr?dt:0,Nr=Jt>ln?dt:0;this.scrollTo({scrollLeft:Rt!==void 0?V(this.props,Rt,vt,it,this._instanceProps,Nr):it,scrollTop:Kt!==void 0?J(this.props,Kt,vt,je,this._instanceProps,xr):je})},mt.componentDidMount=function(){var Xe=this.props,_t=Xe.initialScrollLeft,vt=Xe.initialScrollTop;if(this._outerRef!=null){var Rt=this._outerRef;typeof _t=="number"&&(Rt.scrollLeft=_t),typeof vt=="number"&&(Rt.scrollTop=vt)}this._callPropsCallbacks()},mt.componentDidUpdate=function(){var Xe=this.props.direction,_t=this.state,vt=_t.scrollLeft,Rt=_t.scrollTop,Kt=_t.scrollUpdateWasRequested;if(Kt&&this._outerRef!=null){var fr=this._outerRef;if(Xe==="rtl")switch(Yv()){case"negative":fr.scrollLeft=-vt;break;case"positive-ascending":fr.scrollLeft=vt;break;default:var kr=fr.clientWidth,ln=fr.scrollWidth;fr.scrollLeft=ln-kr-vt;break}else fr.scrollLeft=Math.max(0,vt);fr.scrollTop=Math.max(0,Rt)}this._callPropsCallbacks()},mt.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ng(this._resetIsScrollingTimeoutId)},mt.render=function(){var Xe=this.props,_t=Xe.children,vt=Xe.className,Rt=Xe.columnCount,Kt=Xe.direction,fr=Xe.height,kr=Xe.innerRef,ln=Xe.innerElementType,nn=Xe.innerTagName,Jr=Xe.itemData,hn=Xe.itemKey,it=hn===void 0?ig:hn,je=Xe.outerElementType,dt=Xe.outerTagName,Jt=Xe.rowCount,pr=Xe.style,xr=Xe.useIsScrolling,Nr=Xe.width,Wr=this.state.isScrolling,on=this._getHorizontalRangeToRender(),Yn=on[0],sn=on[1],bn=this._getVerticalRangeToRender(),Hi=bn[0],ua=bn[1],li=[];if(Rt>0&&Jt)for(var La=Hi;La<=ua;La++)for(var so=Yn;so<=sn;so++)li.push((0,re.createElement)(_t,{columnIndex:so,data:Jr,isScrolling:xr?Wr:void 0,key:it({columnIndex:so,data:Jr,rowIndex:La}),rowIndex:La,style:this._getItemStyle(La,so)}));var Ho=N(this.props,this._instanceProps),eo=$(this.props,this._instanceProps);return(0,re.createElement)(je||dt||"div",{className:vt,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,Co.Z)({position:"relative",height:fr,width:Nr,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:Kt},pr)},(0,re.createElement)(ln||nn||"div",{children:li,ref:kr,style:{height:Ho,pointerEvents:Wr?"none":void 0,width:eo}}))},mt._callPropsCallbacks=function(){var Xe=this.props,_t=Xe.columnCount,vt=Xe.onItemsRendered,Rt=Xe.onScroll,Kt=Xe.rowCount;if(typeof vt=="function"&&_t>0&&Kt>0){var fr=this._getHorizontalRangeToRender(),kr=fr[0],ln=fr[1],nn=fr[2],Jr=fr[3],hn=this._getVerticalRangeToRender(),it=hn[0],je=hn[1],dt=hn[2],Jt=hn[3];this._callOnItemsRendered(kr,ln,it,je,nn,Jr,dt,Jt)}if(typeof Rt=="function"){var pr=this.state,xr=pr.horizontalScrollDirection,Nr=pr.scrollLeft,Wr=pr.scrollTop,on=pr.scrollUpdateWasRequested,Yn=pr.verticalScrollDirection;this._callOnScroll(Nr,Wr,xr,Yn,on)}},mt._getHorizontalRangeToRender=function(){var Xe=this.props,_t=Xe.columnCount,vt=Xe.overscanColumnCount,Rt=Xe.overscanColumnsCount,Kt=Xe.overscanCount,fr=Xe.rowCount,kr=this.state,ln=kr.horizontalScrollDirection,nn=kr.isScrolling,Jr=kr.scrollLeft,hn=vt||Rt||Kt||1;if(_t===0||fr===0)return[0,0,0,0];var it=w(this.props,Jr,this._instanceProps),je=I(this.props,it,Jr,this._instanceProps),dt=!nn||ln==="backward"?Math.max(1,hn):1,Jt=!nn||ln==="forward"?Math.max(1,hn):1;return[Math.max(0,it-dt),Math.max(0,Math.min(_t-1,je+Jt)),it,je]},mt._getVerticalRangeToRender=function(){var Xe=this.props,_t=Xe.columnCount,vt=Xe.overscanCount,Rt=Xe.overscanRowCount,Kt=Xe.overscanRowsCount,fr=Xe.rowCount,kr=this.state,ln=kr.isScrolling,nn=kr.verticalScrollDirection,Jr=kr.scrollTop,hn=Rt||Kt||vt||1;if(_t===0||fr===0)return[0,0,0,0];var it=Se(this.props,Jr,this._instanceProps),je=et(this.props,it,Jr,this._instanceProps),dt=!ln||nn==="backward"?Math.max(1,hn):1,Jt=!ln||nn==="forward"?Math.max(1,hn):1;return[Math.max(0,it-dt),Math.max(0,Math.min(fr-1,je+Jt)),it,je]},Ot}(re.PureComponent),p.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},p}var og=function(p,m){var w=p.children,I=p.direction,P=p.height,N=p.innerTagName,$=p.outerTagName,V=p.overscanColumnsCount,J=p.overscanCount,se=p.overscanRowsCount,Te=p.width,Se=m.instance},ky=50,Iu=function(p,m){var w=p.rowCount,I=m.rowMetadataMap,P=m.estimatedRowHeight,N=m.lastMeasuredRowIndex,$=0;if(N>=w&&(N=w-1),N>=0){var V=I[N];$=V.offset+V.size}var J=w-N-1,se=J*P;return $+se},E0=function(p,m){var w=p.columnCount,I=m.columnMetadataMap,P=m.estimatedColumnWidth,N=m.lastMeasuredColumnIndex,$=0;if(N>=w&&(N=w-1),N>=0){var V=I[N];$=V.offset+V.size}var J=w-N-1,se=J*P;return $+se},Cf=function(p,m,w,I){var P,N,$;if(p==="column"?(P=I.columnMetadataMap,N=m.columnWidth,$=I.lastMeasuredColumnIndex):(P=I.rowMetadataMap,N=m.rowHeight,$=I.lastMeasuredRowIndex),w>$){var V=0;if($>=0){var J=P[$];V=J.offset+J.size}for(var se=$+1;se<=w;se++){var Te=N(se);P[se]={offset:V,size:Te},V+=Te}p==="column"?I.lastMeasuredColumnIndex=w:I.lastMeasuredRowIndex=w}return P[w]},Fy=function(p,m,w,I){var P,N;p==="column"?(P=w.columnMetadataMap,N=w.lastMeasuredColumnIndex):(P=w.rowMetadataMap,N=w.lastMeasuredRowIndex);var $=N>0?P[N].offset:0;return $>=I?Ks(p,m,w,N,0,I):Ny(p,m,w,Math.max(0,N),I)},Ks=function(p,m,w,I,P,N){for(;P<=I;){var $=P+Math.floor((I-P)/2),V=Cf(p,m,$,w).offset;if(V===N)return $;V<N?P=$+1:V>N&&(I=$-1)}return P>0?P-1:0},Ny=function(p,m,w,I,P){for(var N=p==="column"?m.columnCount:m.rowCount,$=1;I<N&&Cf(p,m,I,w).offset<P;)I+=$,$*=2;return Ks(p,m,w,Math.min(I,N-1),Math.floor(I/2),P)},Kf=function(p,m,w,I,P,N,$){var V=p==="column"?m.width:m.height,J=Cf(p,m,w,N),se=p==="column"?E0(m,N):Iu(m,N),Te=Math.max(0,Math.min(se-V,J.offset)),Se=Math.max(0,J.offset-V+$+J.size);switch(I==="smart"&&(P>=Se-V&&P<=Te+V?I="auto":I="center"),I){case"start":return Te;case"end":return Se;case"center":return Math.round(Se+(Te-Se)/2);case"auto":default:return P>=Se&&P<=Te?P:Se>Te||P<Se?Se:Te}},lg=ag({getColumnOffset:function(p,m,w){return Cf("column",p,m,w).offset},getColumnStartIndexForOffset:function(p,m,w){return Fy("column",p,w,m)},getColumnStopIndexForStartIndex:function(p,m,w,I){for(var P=p.columnCount,N=p.width,$=Cf("column",p,m,I),V=w+N,J=$.offset+$.size,se=m;se<P-1&&J<V;)se++,J+=Cf("column",p,se,I).size;return se},getColumnWidth:function(p,m,w){return w.columnMetadataMap[m].size},getEstimatedTotalHeight:Iu,getEstimatedTotalWidth:E0,getOffsetForColumnAndAlignment:function(p,m,w,I,P,N){return Kf("column",p,m,w,I,P,N)},getOffsetForRowAndAlignment:function(p,m,w,I,P,N){return Kf("row",p,m,w,I,P,N)},getRowOffset:function(p,m,w){return Cf("row",p,m,w).offset},getRowHeight:function(p,m,w){return w.rowMetadataMap[m].size},getRowStartIndexForOffset:function(p,m,w){return Fy("row",p,w,m)},getRowStopIndexForStartIndex:function(p,m,w,I){for(var P=p.rowCount,N=p.height,$=Cf("row",p,m,I),V=w+N,J=$.offset+$.size,se=m;se<P-1&&J<V;)se++,J+=Cf("row",p,se,I).size;return se},initInstanceProps:function(p,m){var w=p,I=w.estimatedColumnWidth,P=w.estimatedRowHeight,N={columnMetadataMap:{},estimatedColumnWidth:I||ky,estimatedRowHeight:P||ky,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return m.resetAfterColumnIndex=function($,V){V===void 0&&(V=!0),m.resetAfterIndices({columnIndex:$,shouldForceUpdate:V})},m.resetAfterRowIndex=function($,V){V===void 0&&(V=!0),m.resetAfterIndices({rowIndex:$,shouldForceUpdate:V})},m.resetAfterIndices=function($){var V=$.columnIndex,J=$.rowIndex,se=$.shouldForceUpdate,Te=se===void 0?!0:se;typeof V=="number"&&(N.lastMeasuredColumnIndex=Math.min(N.lastMeasuredColumnIndex,V-1)),typeof J=="number"&&(N.lastMeasuredRowIndex=Math.min(N.lastMeasuredRowIndex,J-1)),m._getItemStyleCache(-1),Te&&m.forceUpdate()},N},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(p){var m=p.columnWidth,w=p.rowHeight}}),V1=150,Hy=function(p,m){return p},zy=null,_x=null;function Wy(d){var p,m=d.getItemOffset,w=d.getEstimatedTotalSize,I=d.getItemSize,P=d.getOffsetForIndexAndAlignment,N=d.getStartIndexForOffset,$=d.getStopIndexForStartIndex,V=d.initInstanceProps,J=d.shouldResetStyleCacheOnItemSizeChange,se=d.validateProps;return p=function(Te){rg(Se,Te);function Se(ft){var Ue;return Ue=Te.call(this,ft)||this,Ue._instanceProps=V(Ue.props,(0,Wv.Z)(Ue)),Ue._outerRef=void 0,Ue._resetIsScrollingTimeoutId=null,Ue.state={instance:(0,Wv.Z)(Ue),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof Ue.props.initialScrollOffset=="number"?Ue.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},Ue._callOnItemsRendered=void 0,Ue._callOnItemsRendered=dc(function(Ne,Ct,Ot,mt){return Ue.props.onItemsRendered({overscanStartIndex:Ne,overscanStopIndex:Ct,visibleStartIndex:Ot,visibleStopIndex:mt})}),Ue._callOnScroll=void 0,Ue._callOnScroll=dc(function(Ne,Ct,Ot){return Ue.props.onScroll({scrollDirection:Ne,scrollOffset:Ct,scrollUpdateWasRequested:Ot})}),Ue._getItemStyle=void 0,Ue._getItemStyle=function(Ne){var Ct=Ue.props,Ot=Ct.direction,mt=Ct.itemSize,Wt=Ct.layout,Xe=Ue._getItemStyleCache(J&&mt,J&&Wt,J&&Ot),_t;if(Xe.hasOwnProperty(Ne))_t=Xe[Ne];else{var vt=m(Ue.props,Ne,Ue._instanceProps),Rt=I(Ue.props,Ne,Ue._instanceProps),Kt=Ot==="horizontal"||Wt==="horizontal",fr=Ot==="rtl",kr=Kt?vt:0;Xe[Ne]=_t={position:"absolute",left:fr?void 0:kr,right:fr?kr:void 0,top:Kt?0:vt,height:Kt?"100%":Rt,width:Kt?Rt:"100%"}}return _t},Ue._getItemStyleCache=void 0,Ue._getItemStyleCache=dc(function(Ne,Ct,Ot){return{}}),Ue._onScrollHorizontal=function(Ne){var Ct=Ne.currentTarget,Ot=Ct.clientWidth,mt=Ct.scrollLeft,Wt=Ct.scrollWidth;Ue.setState(function(Xe){if(Xe.scrollOffset===mt)return null;var _t=Ue.props.direction,vt=mt;if(_t==="rtl")switch(Yv()){case"negative":vt=-mt;break;case"positive-descending":vt=Wt-Ot-mt;break}return vt=Math.max(0,Math.min(vt,Wt-Ot)),{isScrolling:!0,scrollDirection:Xe.scrollOffset<vt?"forward":"backward",scrollOffset:vt,scrollUpdateWasRequested:!1}},Ue._resetIsScrollingDebounced)},Ue._onScrollVertical=function(Ne){var Ct=Ne.currentTarget,Ot=Ct.clientHeight,mt=Ct.scrollHeight,Wt=Ct.scrollTop;Ue.setState(function(Xe){if(Xe.scrollOffset===Wt)return null;var _t=Math.max(0,Math.min(Wt,mt-Ot));return{isScrolling:!0,scrollDirection:Xe.scrollOffset<_t?"forward":"backward",scrollOffset:_t,scrollUpdateWasRequested:!1}},Ue._resetIsScrollingDebounced)},Ue._outerRefSetter=function(Ne){var Ct=Ue.props.outerRef;Ue._outerRef=Ne,typeof Ct=="function"?Ct(Ne):Ct!=null&&typeof Ct=="object"&&Ct.hasOwnProperty("current")&&(Ct.current=Ne)},Ue._resetIsScrollingDebounced=function(){Ue._resetIsScrollingTimeoutId!==null&&ng(Ue._resetIsScrollingTimeoutId),Ue._resetIsScrollingTimeoutId=$v(Ue._resetIsScrolling,V1)},Ue._resetIsScrolling=function(){Ue._resetIsScrollingTimeoutId=null,Ue.setState({isScrolling:!1},function(){Ue._getItemStyleCache(-1,null)})},Ue}Se.getDerivedStateFromProps=function(Ue,Ne){return Ku(Ue,Ne),se(Ue),null};var et=Se.prototype;return et.scrollTo=function(Ue){Ue=Math.max(0,Ue),this.setState(function(Ne){return Ne.scrollOffset===Ue?null:{scrollDirection:Ne.scrollOffset<Ue?"forward":"backward",scrollOffset:Ue,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},et.scrollToItem=function(Ue,Ne){Ne===void 0&&(Ne="auto");var Ct=this.props,Ot=Ct.itemCount,mt=Ct.layout,Wt=this.state.scrollOffset;Ue=Math.max(0,Math.min(Ue,Ot-1));var Xe=0;if(this._outerRef){var _t=this._outerRef;mt==="vertical"?Xe=_t.scrollWidth>_t.clientWidth?S0():0:Xe=_t.scrollHeight>_t.clientHeight?S0():0}this.scrollTo(P(this.props,Ue,Ne,Wt,this._instanceProps,Xe))},et.componentDidMount=function(){var Ue=this.props,Ne=Ue.direction,Ct=Ue.initialScrollOffset,Ot=Ue.layout;if(typeof Ct=="number"&&this._outerRef!=null){var mt=this._outerRef;Ne==="horizontal"||Ot==="horizontal"?mt.scrollLeft=Ct:mt.scrollTop=Ct}this._callPropsCallbacks()},et.componentDidUpdate=function(){var Ue=this.props,Ne=Ue.direction,Ct=Ue.layout,Ot=this.state,mt=Ot.scrollOffset,Wt=Ot.scrollUpdateWasRequested;if(Wt&&this._outerRef!=null){var Xe=this._outerRef;if(Ne==="horizontal"||Ct==="horizontal")if(Ne==="rtl")switch(Yv()){case"negative":Xe.scrollLeft=-mt;break;case"positive-ascending":Xe.scrollLeft=mt;break;default:var _t=Xe.clientWidth,vt=Xe.scrollWidth;Xe.scrollLeft=vt-_t-mt;break}else Xe.scrollLeft=mt;else Xe.scrollTop=mt}this._callPropsCallbacks()},et.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ng(this._resetIsScrollingTimeoutId)},et.render=function(){var Ue=this.props,Ne=Ue.children,Ct=Ue.className,Ot=Ue.direction,mt=Ue.height,Wt=Ue.innerRef,Xe=Ue.innerElementType,_t=Ue.innerTagName,vt=Ue.itemCount,Rt=Ue.itemData,Kt=Ue.itemKey,fr=Kt===void 0?Hy:Kt,kr=Ue.layout,ln=Ue.outerElementType,nn=Ue.outerTagName,Jr=Ue.style,hn=Ue.useIsScrolling,it=Ue.width,je=this.state.isScrolling,dt=Ot==="horizontal"||kr==="horizontal",Jt=dt?this._onScrollHorizontal:this._onScrollVertical,pr=this._getRangeToRender(),xr=pr[0],Nr=pr[1],Wr=[];if(vt>0)for(var on=xr;on<=Nr;on++)Wr.push((0,re.createElement)(Ne,{data:Rt,key:fr(on,Rt),index:on,isScrolling:hn?je:void 0,style:this._getItemStyle(on)}));var Yn=w(this.props,this._instanceProps);return(0,re.createElement)(ln||nn||"div",{className:Ct,onScroll:Jt,ref:this._outerRefSetter,style:(0,Co.Z)({position:"relative",height:mt,width:it,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:Ot},Jr)},(0,re.createElement)(Xe||_t||"div",{children:Wr,ref:Wt,style:{height:dt?"100%":Yn,pointerEvents:je?"none":void 0,width:dt?Yn:"100%"}}))},et._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var Ue=this.props.itemCount;if(Ue>0){var Ne=this._getRangeToRender(),Ct=Ne[0],Ot=Ne[1],mt=Ne[2],Wt=Ne[3];this._callOnItemsRendered(Ct,Ot,mt,Wt)}}if(typeof this.props.onScroll=="function"){var Xe=this.state,_t=Xe.scrollDirection,vt=Xe.scrollOffset,Rt=Xe.scrollUpdateWasRequested;this._callOnScroll(_t,vt,Rt)}},et._getRangeToRender=function(){var Ue=this.props,Ne=Ue.itemCount,Ct=Ue.overscanCount,Ot=this.state,mt=Ot.isScrolling,Wt=Ot.scrollDirection,Xe=Ot.scrollOffset;if(Ne===0)return[0,0,0,0];var _t=N(this.props,Xe,this._instanceProps),vt=$(this.props,_t,Xe,this._instanceProps),Rt=!mt||Wt==="backward"?Math.max(1,Ct):1,Kt=!mt||Wt==="forward"?Math.max(1,Ct):1;return[Math.max(0,_t-Rt),Math.max(0,Math.min(Ne-1,vt+Kt)),_t,vt]},Se}(re.PureComponent),p.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},p}var Ku=function(p,m){var w=p.children,I=p.direction,P=p.height,N=p.layout,$=p.innerTagName,V=p.outerTagName,J=p.width,se=m.instance;if(0)var Te},Gy=50,jh=function(p,m,w){var I=p,P=I.itemSize,N=w.itemMetadataMap,$=w.lastMeasuredIndex;if(m>$){var V=0;if($>=0){var J=N[$];V=J.offset+J.size}for(var se=$+1;se<=m;se++){var Te=P(se);N[se]={offset:V,size:Te},V+=Te}w.lastMeasuredIndex=m}return N[m]},M0=function(p,m,w){var I=m.itemMetadataMap,P=m.lastMeasuredIndex,N=P>0?I[P].offset:0;return N>=w?$y(p,m,P,0,w):X1(p,m,Math.max(0,P),w)},$y=function(p,m,w,I,P){for(;I<=w;){var N=I+Math.floor((w-I)/2),$=jh(p,N,m).offset;if($===P)return N;$<P?I=N+1:$>P&&(w=N-1)}return I>0?I-1:0},X1=function(p,m,w,I){for(var P=p.itemCount,N=1;w<P&&jh(p,w,m).offset<I;)w+=N,N*=2;return $y(p,m,Math.min(w,P-1),Math.floor(w/2),I)},sg=function(p,m){var w=p.itemCount,I=m.itemMetadataMap,P=m.estimatedItemSize,N=m.lastMeasuredIndex,$=0;if(N>=w&&(N=w-1),N>=0){var V=I[N];$=V.offset+V.size}var J=w-N-1,se=J*P;return $+se},T0=Wy({getItemOffset:function(p,m,w){return jh(p,m,w).offset},getItemSize:function(p,m,w){return w.itemMetadataMap[m].size},getEstimatedTotalSize:sg,getOffsetForIndexAndAlignment:function(p,m,w,I,P,N){var $=p.direction,V=p.height,J=p.layout,se=p.width,Te=$==="horizontal"||J==="horizontal",Se=Te?se:V,et=jh(p,m,P),ft=sg(p,P),Ue=Math.max(0,Math.min(ft-Se,et.offset)),Ne=Math.max(0,et.offset-Se+et.size+N);switch(w==="smart"&&(I>=Ne-Se&&I<=Ue+Se?w="auto":w="center"),w){case"start":return Ue;case"end":return Ne;case"center":return Math.round(Ne+(Ue-Ne)/2);case"auto":default:return I>=Ne&&I<=Ue?I:I<Ne?Ne:Ue}},getStartIndexForOffset:function(p,m,w){return M0(p,w,m)},getStopIndexForStartIndex:function(p,m,w,I){for(var P=p.direction,N=p.height,$=p.itemCount,V=p.layout,J=p.width,se=P==="horizontal"||V==="horizontal",Te=se?J:N,Se=jh(p,m,I),et=w+Te,ft=Se.offset+Se.size,Ue=m;Ue<$-1&&ft<et;)Ue++,ft+=jh(p,Ue,I).size;return Ue},initInstanceProps:function(p,m){var w=p,I=w.estimatedItemSize,P={itemMetadataMap:{},estimatedItemSize:I||Gy,lastMeasuredIndex:-1};return m.resetAfterIndex=function(N,$){$===void 0&&($=!0),P.lastMeasuredIndex=Math.min(P.lastMeasuredIndex,N-1),m._getItemStyleCache(-1),$&&m.forceUpdate()},P},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(p){var m=p.itemSize}}),Uy=ag({getColumnOffset:function(p,m){var w=p.columnWidth;return m*w},getColumnWidth:function(p,m){var w=p.columnWidth;return w},getRowOffset:function(p,m){var w=p.rowHeight;return m*w},getRowHeight:function(p,m){var w=p.rowHeight;return w},getEstimatedTotalHeight:function(p){var m=p.rowCount,w=p.rowHeight;return w*m},getEstimatedTotalWidth:function(p){var m=p.columnCount,w=p.columnWidth;return w*m},getOffsetForColumnAndAlignment:function(p,m,w,I,P,N){var $=p.columnCount,V=p.columnWidth,J=p.width,se=Math.max(0,$*V-J),Te=Math.min(se,m*V),Se=Math.max(0,m*V-J+N+V);switch(w==="smart"&&(I>=Se-J&&I<=Te+J?w="auto":w="center"),w){case"start":return Te;case"end":return Se;case"center":var et=Math.round(Se+(Te-Se)/2);return et<Math.ceil(J/2)?0:et>se+Math.floor(J/2)?se:et;case"auto":default:return I>=Se&&I<=Te?I:Se>Te||I<Se?Se:Te}},getOffsetForRowAndAlignment:function(p,m,w,I,P,N){var $=p.rowHeight,V=p.height,J=p.rowCount,se=Math.max(0,J*$-V),Te=Math.min(se,m*$),Se=Math.max(0,m*$-V+N+$);switch(w==="smart"&&(I>=Se-V&&I<=Te+V?w="auto":w="center"),w){case"start":return Te;case"end":return Se;case"center":var et=Math.round(Se+(Te-Se)/2);return et<Math.ceil(V/2)?0:et>se+Math.floor(V/2)?se:et;case"auto":default:return I>=Se&&I<=Te?I:Se>Te||I<Se?Se:Te}},getColumnStartIndexForOffset:function(p,m){var w=p.columnWidth,I=p.columnCount;return Math.max(0,Math.min(I-1,Math.floor(m/w)))},getColumnStopIndexForStartIndex:function(p,m,w){var I=p.columnWidth,P=p.columnCount,N=p.width,$=m*I,V=Math.ceil((N+w-$)/I);return Math.max(0,Math.min(P-1,m+V-1))},getRowStartIndexForOffset:function(p,m){var w=p.rowHeight,I=p.rowCount;return Math.max(0,Math.min(I-1,Math.floor(m/w)))},getRowStopIndexForStartIndex:function(p,m,w){var I=p.rowHeight,P=p.rowCount,N=p.height,$=m*I,V=Math.ceil((N+w-$)/I);return Math.max(0,Math.min(P-1,m+V-1))},initInstanceProps:function(p){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(p){var m=p.columnWidth,w=p.rowHeight}}),Ru=Wy({getItemOffset:function(p,m){var w=p.itemSize;return m*w},getItemSize:function(p,m){var w=p.itemSize;return w},getEstimatedTotalSize:function(p){var m=p.itemCount,w=p.itemSize;return w*m},getOffsetForIndexAndAlignment:function(p,m,w,I,P,N){var $=p.direction,V=p.height,J=p.itemCount,se=p.itemSize,Te=p.layout,Se=p.width,et=$==="horizontal"||Te==="horizontal",ft=et?Se:V,Ue=Math.max(0,J*se-ft),Ne=Math.min(Ue,m*se),Ct=Math.max(0,m*se-ft+se+N);switch(w==="smart"&&(I>=Ct-ft&&I<=Ne+ft?w="auto":w="center"),w){case"start":return Ne;case"end":return Ct;case"center":{var Ot=Math.round(Ct+(Ne-Ct)/2);return Ot<Math.ceil(ft/2)?0:Ot>Ue+Math.floor(ft/2)?Ue:Ot}case"auto":default:return I>=Ct&&I<=Ne?I:I<Ct?Ct:Ne}},getStartIndexForOffset:function(p,m){var w=p.itemCount,I=p.itemSize;return Math.max(0,Math.min(w-1,Math.floor(m/I)))},getStopIndexForStartIndex:function(p,m,w){var I=p.direction,P=p.height,N=p.itemCount,$=p.itemSize,V=p.layout,J=p.width,se=I==="horizontal"||V==="horizontal",Te=m*$,Se=se?J:P,et=Math.ceil((Se+w-Te)/$);return Math.max(0,Math.min(N-1,m+et-1))},initInstanceProps:function(p){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(p){var m=p.itemSize}});function vc(d,p){for(var m in d)if(!(m in p))return!0;for(var w in p)if(d[w]!==p[w])return!0;return!1}var bf=null,jv=null;function O0(d,p){var m=d.style,w=_objectWithoutPropertiesLoose(d,bf),I=p.style,P=_objectWithoutPropertiesLoose(p,jv);return!vc(m,I)&&!vc(w,P)}function A0(d,p){return!O0(this.props,d)||vc(this.state,p)}var Yy=tt(99212),Vd=tt.n(Yy),uu=function(p){var m=p.text,w=p.keyword,I=p.className,P=I===void 0?"":I;if(!m||!w)return re.createElement("span",{className:P},m);var N=new RegExp(w.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"gi"),$=m.match(N)||[],V=m.split(N).map(function(J,se){return se>0?[re.createElement("span",{className:"highlight",key:se},$[se-1]),J]:J});return re.createElement("span",{className:P},V)},qf=uu,Oa;function F(d){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},F(d)}function X(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function ue(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?X(Object(m),!0).forEach(function(w){pl(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):X(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function ge(d){return zr(d)||ar(d)||Ma(d)||Ke()}function Ke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ar(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function zr(d){if(Array.isArray(d))return hs(d)}function Qn(d,p){return Qf(d)||zc(d,p)||Ma(d,p)||ta()}function ta(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ma(d,p){if(d){if(typeof d=="string")return hs(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return hs(d,p)}}function hs(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function zc(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function Qf(d){if(Array.isArray(d))return d}function pl(d,p,m){return p=I0(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function I0(d){var p=pc(d,"string");return F(p)=="symbol"?p:String(p)}function pc(d,p){if(F(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(F(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}var jy=Zt.version&&Zt.version.startsWith("5"),R0=Zt.DatePicker.RangePicker;co().locale("zh-cn"),Vd().locale("zh-cn");var Jf="YYYY-MM-DD",$o=function(d){return d.IsInValues="IsInValues",d.IsEqualTo="IsEqualTo",d.IsStartsWith="IsStartsWith",d.IsEndsWith="IsEndsWith",d.IsNotStartsWith="IsNotStartsWith",d.IsNotEndsWith="IsNotEndsWith",d.Contains="Contains",d.DoesntContain="DoesntContain",d.IsNotEqualTo="IsNotEqualTo",d.IsDate="IsDate",d.IsBetweenDate="IsBetweenDate",d.IsTextDate="IsTextDate",d.IsBetween="IsBetween",d}({}),Rs=function(p){return p.replace(/'/g,'"')},Z1=function(p,m,w){return!isNaN(Number(m))&&!isNaN(Number(w))?"".concat(p," BETWEEN ").concat(m," AND ").concat(w):isNaN(Number(m))?isNaN(Number(w))?"":"".concat(p," <= ").concat(w):"".concat(p," >= ").concat(m)},Ex=(Oa={},pl(pl(pl(pl(pl(pl(pl(pl(pl(pl(Oa,$o.IsInValues,{toFunc:function(p){return function(m,w){var I;return p==null||(I=p.value)===null||I===void 0?void 0:I.includes(m[w])}},toSQL:function(p,m){return"".concat(p," IN (").concat((m.value||[]).map(function(w){return"'".concat(Rs(w),"'")}).join(","),")")},toSQLJson:function(p,m){return{column:p,operator:"in",value:(m.value||[]).map(function(w){return Rs(w)}),type:"string"}}}),$o.IsEqualTo,{toSQL:function(p,m){return"".concat(p," = '").concat(Rs(m.value),"'")},toFunc:function(p){return function(m,w){return(0,oe.toString)(p==null?void 0:p.value)===(0,oe.toString)(m[w])}},toSQLJson:function(p,m){return{column:p,operator:"equal",value:Rs(m.value),type:"string"}}}),$o.IsStartsWith,{toSQL:function(p,m){return"".concat(p," LIKE '").concat(Rs(m.value),"%'")},toFunc:function(p){return function(m,w){return(0,oe.toString)(m[w]).startsWith((0,oe.toString)(p.value))}},toSQLJson:function(p,m){return{column:p,operator:"likestart",value:Rs(m.value),type:"string"}}}),$o.IsEndsWith,{toSQL:function(p,m){return"".concat(p," LIKE '%").concat(Rs(m.value),"'")},toFunc:function(p){return function(m,w){return(0,oe.toString)(m[w]).endsWith((0,oe.toString)(p.value))}},toSQLJson:function(p,m){return{column:p,operator:"likeend",value:Rs(m.value),type:"string"}}}),$o.IsNotStartsWith,{toSQL:function(p,m){return"".concat(p," NOT LIKE '").concat(Rs(m.value),"%'")},toFunc:function(p){return function(m,w){return!(0,oe.toString)(m[w]).startsWith((0,oe.toString)(p.value))}},toSQLJson:function(p,m){return{column:p,operator:"notlikestart",value:Rs(m.value),type:"string"}}}),$o.IsNotEndsWith,{toSQL:function(p,m){return"".concat(p," NOT LIKE '%").concat(Rs(m.value),"'")},toFunc:function(p){return function(m,w){return!(0,oe.toString)(m[w]).endsWith((0,oe.toString)(p.value))}},toSQLJson:function(p,m){return{column:p,operator:"notlikeend",value:Rs(m.value),type:"string"}}}),$o.Contains,{toSQL:function(p,m){return"".concat(p," LIKE '%").concat(Rs(m.value),"%'")},toFunc:function(p){return function(m,w){return(0,oe.toString)(m[w]).includes((0,oe.toString)(p.value))}},toSQLJson:function(p,m){return{column:p,operator:"like",value:Rs(m.value),type:"string"}}}),$o.DoesntContain,{toSQL:function(p,m){return"".concat(p," NOT LIKE '%").concat(Rs(m.value),"%'")},toFunc:function(p){return function(m,w){return!(0,oe.toString)(m[w]).includes((0,oe.toString)(p.value))}},toSQLJson:function(p,m){return{column:p,operator:"notlike",value:Rs(m.value),type:"string"}}}),$o.IsNotEqualTo,{toSQL:function(p,m){return"".concat(p," <> '").concat(Rs(m.value),"'")},toFunc:function(p){return function(m,w){return(0,oe.toString)(p.value)!==(0,oe.toString)(m[w])}},toSQLJson:function(p,m){return{column:p,operator:"notequal",value:Rs(m.value),type:"string"}}}),$o.IsDate,{toSQL:function(p,m){var w=co()(m.value).format("YYYYMMDD");return"".concat(p," IS ").concat(w)},toFunc:function(p){return function(m,w){return co()(m[w]).isSame(p.value,"day")}},toSQLJson:function(p,m){return{column:p,operator:"equal",value:co()(m.value).format("YYYYMMDD"),type:"datetime"}}}),pl(pl(pl(Oa,$o.IsBetweenDate,{toSQL:function(p,m){var w=co()(m.value[0]).format("YYYYMMDD"),I=co()(m.value[1]).format("YYYYMMDD");return Z1(p,w,I)},toFunc:function(p){return function(m,w){return co()(m[w]).isSameOrAfter(p.value[0],"day")&&co()(m[w]).isSameOrBefore(p.value[1],"day")}},toSQLJson:function(p,m){return{column:p,operator:"between",value:[co()(m.value[0]).format("YYYYMMDD"),co()(m.value[1]).format("YYYYMMDD")],type:"datetime"}}}),$o.IsTextDate,{toSQL:function(p,m){var w=co()(m.value).format("YYYYMMDD");return"".concat(p," IS ").concat(w)},toFunc:function(p){return function(m,w){return co()(m[w]).isSame(p.value,"day")}},toSQLJson:function(p,m){return{column:p,operator:"equal",value:co()(m.value).format("YYYYMMDD"),type:"datetime"}}}),$o.IsBetween,{toSQL:function(p,m){var w=m.value,I=w.min,P=w.max;return Z1(p,I,P)},toFunc:function(p){var m=p.value,w=m.min,I=m.max;return function(P,N){var $=P[N];return!isNaN(Number(w))&&!isNaN(Number(I))?$>=w&&$<=I:isNaN(Number(w))?isNaN(Number(I))?!0:$<=I:$>=w}},toSQLJson:function(p,m){return{column:p,operator:"between",value:[m.value.min,m.value.max],type:"double"}}})),Di=function(d){return d.RangeSelect="RangeSelect",d.ValueSelect="ValueSelect",d.ConditionSelect="ConditionSelect",d.DateSelect="DateSelect",d}(Di||{}),wf=[{key:Di.RangeSelect,value:"\u8303\u56F4\u7B5B\u9009"},{key:Di.ValueSelect,value:"\u9009\u503C\u7B5B\u9009"}],q2=[{key:Di.ValueSelect,value:"\u9009\u503C\u7B5B\u9009"},{key:Di.ConditionSelect,value:"\u6761\u4EF6\u7B5B\u9009"}],Q2=[{key:Di.RangeSelect,value:"\u8303\u56F4\u7B5B\u9009"},{key:Di.DateSelect,value:"\u65F6\u95F4\u7B5B\u9009"}],K1=function(){return!0},J2=function(p){var m=Object.keys(p);if(m.length===0)return K1;var w=m.map(function(I){var P=p[I].filterLogic;if(!P||!P.type)return K1;try{var N=Ex[P.type],$=N.toFunc(P);return function(V){return $(V,I)}}catch(V){return console.error(V),K1}});return function(I){return!w.some(function(P){return!P(I)})}},Vv=[{value:"IsEqualTo",label:"\u7B49\u4E8E"},{value:"IsNotEqualTo",label:"\u4E0D\u7B49\u4E8E"},{value:"Contains",label:"\u5305\u542B"},{value:"DoesntContain",label:"\u4E0D\u5305\u542B"},{value:"IsStartsWith",label:"\u5F00\u5934\u662F"},{value:"IsEndsWith",label:"\u7ED3\u5C3E\u662F"},{value:"IsNotStartsWith",label:"\u5F00\u5934\u4E0D\u662F"},{value:"IsNotEndsWith",label:"\u7ED3\u5C3E\u4E0D\u662F"}],Vh=function(p){var m,w=p.checkboxValue,I=p.setCheckboxValue,P=p.fieldName,N=rr(),$=N.spreadsheet,V=(0,re.useState)(""),J=Qn(V,2),se=J[0],Te=J[1],Se=$==null||(m=$.dataCfg)===null||m===void 0||(m=m.data)===null||m===void 0||(m=m.filter(function(ft){var Ue;return(Ue=String(ft==null?void 0:ft[P]))===null||Ue===void 0?void 0:Ue.includes(se)}))===null||m===void 0?void 0:m.map(function(ft){return String(ft==null?void 0:ft[P])}),et=["ALL"].concat(ge(new Set(Se)));return ie().createElement("div",{className:"sort-content-numselect"},ie().createElement(Zt.Input,{prefix:ie().createElement(Re,{type:"dataphin-icon anticon icon-sousuojiedian"}),onChange:function(Ue){Te(Ue.target.value)},placeholder:"\u641C\u7D22",value:se}),ie().createElement(Ru,{className:"list",height:200,width:"100%",itemCount:et.length,itemSize:32,itemData:et},function(ft){var Ue,Ne=ft.index,Ct=ft.style,Ot=ft.data,mt=(Ue=Ot[Ne])!==null&&Ue!==void 0?Ue:"";return ie().createElement("div",{style:ue(ue({},Ct),{},{paddingLeft:"2em"}),className:"listItem"},Ne===0?ie().createElement(Zt.Checkbox,{className:"checkboxItem",checked:w.length===Ot.length-1,onChange:function(){w.length===Ot.length-1?I([]):I(Ot.slice(1))}},ie().createElement(qf,{className:"sort-content-numselect-text",text:"\u5168\u9009",keyword:se})):ie().createElement(Zt.Checkbox,{className:"checkboxItem",checked:w.includes(Ot[Ne]),onChange:function(Xe){I(function(_t){return _t.includes(Ot[Ne])?_t.filter(function(vt){return vt!==Ot[Ne]}):[].concat(ge(_t),[Ot[Ne]])})}},ie().createElement(qf,{className:"sort-content-numselect-text",text:Ot[Ne],keyword:se})))}))},Vy=function(p){switch(p){case Ti.String:return Di.ValueSelect;case Ti.Date:return Di.RangeSelect;case Ti.Number:return Di.RangeSelect;default:return Di.ValueSelect}};function ug(d){var p,m,w=d.params,I=d.onCancel,P=d.resolver,N=rr(),$=N.spreadsheet,V=N.commandManager,J=N.theme,se=ku(w.x,w.y,320,417),Te=Ql(wi.m.MODIFYCOLCONFIG,V).colConfigs[w.fieldName],Se=function(qi){var pa,Qi,Ua=Te==null||(pa=Te.filterLogic)===null||pa===void 0?void 0:pa.type;if(Ua===$o.IsInValues&&qi===Di.ValueSelect||Ua===$o.IsBetween&&qi===Di.RangeSelect||Ua===$o.IsBetweenDate&&qi===Di.RangeSelect||Ua===$o.IsDate&&qi===Di.DateSelect||Ua===$o.IsTextDate&&qi===$o.IsTextDate){var Ao;return Te==null||(Ao=Te.filterLogic)===null||Ao===void 0?void 0:Ao.value}if(Vv!=null&&(Qi=Vv.map(function(Ws){return Ws.value}))!==null&&Qi!==void 0&&Qi.includes(Ua)&&qi===Di.ConditionSelect){var _l;return{if:Ua,value:Te==null||(_l=Te.filterLogic)===null||_l===void 0?void 0:_l.value}}},et=(Te==null?void 0:Te.contentType)||Ti.String,ft=(0,re.useState)((Te==null||(p=Te.filterLogic)===null||p===void 0?void 0:p.radioType)||Vy(et)),Ue=Qn(ft,2),Ne=Ue[0],Ct=Ue[1],Ot=(0,re.useState)((Te==null||(m=Te.filterLogic)===null||m===void 0?void 0:m.type)===$o.IsTextDate),mt=Qn(Ot,2),Wt=mt[0],Xe=mt[1],_t=(0,re.useState)(Se($o.IsTextDate)||""),vt=Qn(_t,2),Rt=vt[0],Kt=vt[1],fr=(0,re.useState)(Se(Di.ValueSelect)||[]),kr=Qn(fr,2),ln=kr[0],nn=kr[1],Jr=(0,re.useState)(Se(Di.RangeSelect)||{min:void 0,max:void 0}),hn=Qn(Jr,2),it=hn[0],je=hn[1],dt=(0,re.useState)(Se(Di.ConditionSelect)||{if:"IsEqualTo",value:""}),Jt=Qn(dt,2),pr=Jt[0],xr=Jt[1],Nr=(0,re.useState)(Se(Di.RangeSelect)||[]),Wr=Qn(Nr,2),on=Wr[0],Yn=Wr[1],sn=(0,re.useState)(Se(Di.DateSelect)||""),bn=Qn(sn,2),Hi=bn[0],ua=bn[1],li=function(){return et===Ti.Number?wf:et===Ti.Date?Q2:q2},La=(0,re.useRef)(),so=function(){if(Ne===Di.ValueSelect)return{type:$o.IsInValues,value:ln};if(Ne===Di.ConditionSelect)return{type:pr.if,value:pr.value};if(Ne===Di.RangeSelect&&et===Ti.Number)return{type:$o.IsBetween,value:it};if(Ne===Di.RangeSelect&&et===Ti.Date)return{type:Wt?$o.IsTextDate:$o.IsBetweenDate,value:Wt?Rt:on};if(Ne===Di.DateSelect)return{type:Wt?$o.IsTextDate:$o.IsDate,value:Wt?Rt:Hi}},Ho=function(){if(et===Ti.Number){if(Ne===Di.RangeSelect)return ie().createElement("div",{className:"sort-content-numrange"},ie().createElement(Zt.InputNumber,{value:it.min,onChange:function(pa){je({min:pa,max:it.max})},placeholder:"min\u503C"}),ie().createElement("span",{className:"sort-content-link"},"~"),ie().createElement(Zt.InputNumber,{value:it.max,onChange:function(pa){je({min:it.min,max:pa})},placeholder:"max\u503C"}));if(Ne===Di.ValueSelect)return ie().createElement(Vh,{checkboxValue:ln,setCheckboxValue:nn,fieldName:w==null?void 0:w.fieldName})}else if(et===Ti.Date){if(Ne===Di.RangeSelect)return ie().createElement("div",{className:"sort-content-dateRange"},Wt?ie().createElement(Zt.Input,{value:Rt,onChange:function(pa){Kt(pa.target.value)},placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"}):ie().createElement(R0,{value:on!=null&&on[0]?[jy?Vd()(on==null?void 0:on[0],Jf):co()(on==null?void 0:on[0],Jf),jy?Vd()(on==null?void 0:on[1],Jf):co()(on==null?void 0:on[1],Jf)]:[],onChange:function(pa,Qi){Yn(Qi)},placeholder:["\u9009\u62E9\u8D77\u59CB\u65E5\u671F","\u9009\u62E9\u7ED3\u675F\u65E5\u671F"],format:Jf,getCalendarContainer:function(pa){return pa.parentElement},renderExtraFooter:function(){return ie().createElement("div",{className:"sort-content-dateRange-footer"},ie().createElement(Zt.Button,{onClick:I},"\u53D6\u6D88"),ie().createElement(Zt.Button,{type:"primary"},"\u786E\u8BA4"))}}),ie().createElement("span",{className:"sort-content-dateRange-link",onClick:function(){Xe(function(pa){return!pa})}},Wt?"\u9009\u62E9\u65E5\u671F":"\u6587\u672C\u8F93\u5165"));if(Ne===Di.DateSelect)return ie().createElement("div",{className:"sort-content-dateRange"},Wt?ie().createElement(Zt.Input,{value:Rt,onChange:function(pa){Kt(pa.target.value)},placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"}):ie().createElement(Zt.DatePicker,{value:Hi&&co()(Hi,Jf),format:Jf,onChange:function(pa,Qi){ua(Qi)},placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4"}),ie().createElement("span",{className:"sort-content-dateRange-link",onClick:function(){Xe(function(pa){return!pa})}},Wt?"\u9009\u62E9\u65E5\u671F":"\u6587\u672C\u8F93\u5165"))}else{if(Ne===Di.ValueSelect)return ie().createElement(Vh,{checkboxValue:ln,setCheckboxValue:nn,fieldName:w==null?void 0:w.fieldName});if(Ne===Di.ConditionSelect)return ie().createElement("div",{className:"sort-content-textSelct"},ie().createElement(Zt.Select,{defaultValue:pr.if,onChange:function(pa){xr({if:pa,value:pr.value})},getPopupContainer:function(pa){return pa.parentNode}},Vv==null?void 0:Vv.map(function(qi){return ie().createElement(Zt.Select.Option,{key:qi.value},qi.label)})),ie().createElement(Zt.Input,{value:pr.value,onChange:function(pa){var Qi;xr({if:pr.if,value:pa==null||(Qi=pa.target)===null||Qi===void 0?void 0:Qi.value})},placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",style:{width:178,height:28}}))}};function eo(){V.commit({id:wi.m.MODIFYCOLCONFIG,params:{colId:w.fieldName,value:{filterLogic:{}}}}),P(!0)}return ie().createElement("div",{className:fe()("weave-sheetquery-sort-container",{dark:J==="dark"}),style:ue(ue({},se),{},{width:320}),ref:La},ie().createElement(Zt.Radio.Group,{className:"sort-tab",value:Ne,onChange:function(qi){return Ct(qi.target.value)},size:"small"},li().map(function(Wa){return ie().createElement(Zt.Radio.Button,{value:Wa.key},Wa.value)})),ie().createElement("div",{className:"sort-content"},ie().createElement("div",{className:"sort-content-name"},"\u7B5B\u9009\u5B57\u6BB5\uFF1A",(w==null?void 0:w.fieldName)||""),Ho()),ie().createElement("div",{className:"sort-bottom"},ie().createElement("div",{className:"left",onClick:eo},ie().createElement(Re,{type:"one-icon icon-shuaxin2 anticon-dpicon"}),"\u6E05\u9664\u7B5B\u9009"),ie().createElement("div",{className:"right"},ie().createElement(Zt.Button,{onClick:I},"\u53D6\u6D88"),ie().createElement(Zt.Button,{className:"sort-bottom-primary",type:"primary",onClick:function(){var qi,pa;V.commit({id:wi.m.MODIFYCOLCONFIG,params:{colId:w.fieldName,value:{filterLogic:{radioType:Ne,type:(qi=so())===null||qi===void 0?void 0:qi.type,value:(pa=so())===null||pa===void 0?void 0:pa.value}}}}),P(!0)}},"\u786E\u5B9A"))))}function Xd(d){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Xd(d)}function xf(d){return q1(d)||e_(d)||D0(d)||cg()}function cg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e_(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function q1(d){if(Array.isArray(d))return Wc(d)}function Mx(d,p){return Xv(d)||Xh(d,p)||D0(d,p)||t_()}function t_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D0(d,p){if(d){if(typeof d=="string")return Wc(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Wc(d,p)}}function Wc(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function Xh(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function Xv(d){if(Array.isArray(d))return d}function fg(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,Xy(w.key),w)}}function Q1(d,p,m){return p&&fg(d.prototype,p),m&&fg(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function Xy(d){var p=Tx(d,"string");return Xd(p)=="symbol"?p:String(p)}function Tx(d,p){if(Xd(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Xd(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function Ox(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function Ax(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&Gc(d,p)}function Gc(d,p){return Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},Gc(d,p)}function r_(d){var p=i_();return function(){var w=Zy(d),I;if(p){var P=Zy(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return J1(this,I)}}function J1(d,p){if(p&&(Xd(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n_(d)}function n_(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function i_(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function Zy(d){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Zy(d)}var a_=null,L0=function(p){if(typeof p=="number"||typeof p=="bigint")return p;if(typeof p=="string")try{return p.includes(".")?Number(p):BigInt(p)}catch(m){return 0}};function Ix(d){return function(p,m){for(var w=0;w<d.length;w++){var I=d[w](p,m);if(I!==0)return I}return 0}}var hg=function(d,p,m){var w=J2(d.colConfigs),I=p.commandManager.getDataModel(Kp);p.dataSet.handleDimensionValueFilter=function(){console.time("filter");var P=Object.entries(I.dimensionExpandedMap).map(function($){var V=Mx($,2),J=V[0],se=V[1],Te={};return function(Se){return!se||se.length===0?!0:Te[Se[J]]?!1:(se.indexOf(Se[J])!=-1&&(Te[Se[J]]=!0),!0)}}),N=(0,oe.filter)(this.getMovableRows(),w);this.displayData=[].concat(xf(this.getStartRows()),xf((0,oe.filter)(N,function($){return P.length===0?!0:P.every(function(V){return V($)})})),xf(this.getEndRows())),this.displayDataWithDimensionHidden=[].concat(xf(this.getStartRows()),xf(N),xf(this.getEndRows())),console.timeEnd("filter")},p.dataSet.handleDimensionValuesSort=function(){console.time("sort");var P=Xc(d,m),N=P.dimensions,$=(this.spreadsheet.dataCfg.sortParams||[]).map(function(se){var Te=se.sortFieldId,Se=se.sortMethod,et=function(Ct,Ot){return 0};if(!Te)return et;if([ye.Xzc.ASC,ye.Xzc.DESC].includes(Se)){var ft,Ue;((ft=d[Te])===null||ft===void 0?void 0:ft.contentType)===Ti.Number?et=function(Ct,Ot){var mt=L0(Ct[Te]),Wt=L0(Ot[Te]),Xe=ye.Xzc.ASC===Se?mt:Wt,_t=ye.Xzc.ASC===Se?Wt:mt;return Xe>_t?1:Xe<_t?-1:0}:((Ue=d[Te])===null||Ue===void 0?void 0:Ue.contentType)===Ti.Date?et=function(Ct,Ot){var mt,Wt,Xe=co()((mt=Ct==null?void 0:Ct[Te])!==null&&mt!==void 0?mt:0),_t=co()((Wt=Ot==null?void 0:Ot[Te])!==null&&Wt!==void 0?Wt:0),vt=ye.Xzc.ASC===Se?Xe:_t,Rt=ye.Xzc.ASC===Se?_t:Xe;return vt>Rt?1:vt<Rt?-1:0}:et=function(Ct,Ot){var mt,Wt,Xe=(mt=Ct[Te])!==null&&mt!==void 0?mt:"",_t=(Wt=Ot[Te])!==null&&Wt!==void 0?Wt:"",vt=ye.Xzc.ASC===Se?Xe:_t,Rt=ye.Xzc.ASC===Se?_t:Xe,Kt=/^\d*[\.]?\d*$/,fr=/[a-zA-Z]/;if(Kt.test(vt)&&Kt.test(Rt)){var kr=L0(vt),ln=L0(Rt);return kr>ln?1:kr<ln?-1:0}else return fr.test(vt)||fr.test(Rt)?vt>Rt?1:vt<Rt?-1:0:vt.localeCompare(Rt,"zh-Hans-CN")}}return et}),V=function(Te,Se){for(var et=0;et<N.length;et++){var ft=N[et],Ue=Te[ft],Ne=Se[ft];if(Ue>Ne)return 1;if(Ue<Ne)return-1}return 0},J=Ix([V].concat($));this.displayData=[].concat(xf(this.getStartRows()),xf(this.getMovableRows().sort(J)),xf(this.getEndRows())),console.timeEnd("sort")}},Ky,ll,Ar,cu,ra,P0,B0,Zh,Zv,Zd,eb,qy,tb,Rx,Kd,dg,Dx,Lx,Px,rb,o_,Kv,qd,k0,Bx,Sf,nb,kx,Fx,vg,qv,Qd,F0,_f,N0,sl,eh,ib,Jd,Nx,ev,tv,l_,Du,Kh,ul,s_,u_,Uo,zl,$c,qh,pg,ab,c_,ob,lb,Qy,Qh,f_,gg,H0,Po,Jy,Jh,ed,Ef,z0,eC,Qv,sb,gc,Xo,ds,tC,Wl,bi,An,mc,Pl,gl,W0,Ds,Gl,mg,$i,Oi,G0,Lu,$0,Jv,td,Hx,yc,fu,ep,tp,Mf,zx,Wx,rv,Pu,Ni,ur,rC,Ls,Br,en,th,nC,yg,iC,ml,rp,Bo,ub,cb,np,Cg,vs,Gx,fb,Cc,Bl,Tf,ip,Ps,Zo,aC,qu,U0,Bs;function bo(d){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},bo(d)}function ks(d,p,m,w){m&&Object.defineProperty(d,p,{enumerable:m.enumerable,configurable:m.configurable,writable:m.writable,value:m.initializer?m.initializer.call(w):void 0})}function Fi(d,p){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}function bc(d){return oC(d)||wc(d)||h_(d)||$x()}function $x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h_(d,p){if(d){if(typeof d=="string")return lC(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return lC(d,p)}}function wc(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function oC(d){if(Array.isArray(d))return lC(d)}function lC(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function sC(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function la(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?sC(Object(m),!0).forEach(function(w){sa(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):sC(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function sa(d,p,m){return p=fo(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function ps(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function uC(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,fo(w.key),w)}}function na(d,p,m){return p&&uC(d.prototype,p),m&&uC(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function fo(d){var p=d_(d,"string");return bo(p)=="symbol"?p:String(p)}function d_(d,p){if(bo(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(bo(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function hu(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&hb(d,p)}function hb(d,p){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},hb(d,p)}function gs(d){var p=v_();return function(){var w=Uc(d),I;if(p){var P=Uc(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return ca(this,I)}}function ca(d,p){if(p&&(bo(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ms(d)}function ms(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function v_(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function Uc(d){return Uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Uc(d)}function Nn(d,p,m,w,I){var P={};return Object.keys(w).forEach(function(N){P[N]=w[N]}),P.enumerable=!!P.enumerable,P.configurable=!!P.configurable,("value"in P||P.initializer)&&(P.writable=!0),P=m.slice().reverse().reduce(function(N,$){return $(d,p,N)||N},P),I&&P.initializer!==void 0&&(P.value=P.initializer?P.initializer.call(I):void 0,P.initializer=void 0),P.initializer===void 0&&(Object.defineProperty(d,p,P),P=null),P}var db=function(){return(0,oe.uniqueId)("chartId")},jT=(Ky=(0,Bn.mY)(wi.m.FILTER),ll=(0,Bn.wx)(),Ar=(0,Bn.MP)(),Ky(cu=(ra=function(d){hu(m,d);var p=gs(m);function m(){return ps(this,m),p.apply(this,arguments)}return na(m,[{key:"execute",value:function(I){var P,N=this._cmdObject.params,$=I.dataCfg.filterParams;if((P=N.filteredValues)!==null&&P!==void 0&&P.length)I.emit(ye.ch4.RANGE_FILTER,N);else{var V=$.filter(function(J){return J.filterKey!==N.filterKey});return I.dataCfg.filterParams=V,I.emit(ye.ch4.RANGE_FILTERED,I.dataSet.getDisplayDataSet())}}}],[{key:"test",value:function(I){return new m(I)}}]),m}(Hl),Nn(ra,"test",[ll],Object.getOwnPropertyDescriptor(ra,"test"),ra),Nn(ra.prototype,"execute",[Ar],Object.getOwnPropertyDescriptor(ra.prototype,"execute"),ra.prototype),ra))||cu),Fs=(P0=(0,Bn.mY)(wi.m.SORT),B0=(0,Bn.wx)(),Zh=(0,Bn.MP)(),P0(Zv=(Zd=function(d){hu(m,d);var p=gs(m);function m(){return ps(this,m),p.apply(this,arguments)}return na(m,[{key:"triggerSort",value:function(I){var P=this._cmdObject.params;Array.isArray(P)&&P.forEach(function($){return $.sortFunc=mf(I)});var N=I.dataCfg;I.setDataCfg(la(la({},N),{},{sortParams:P})),I.emit(ye.ch4.RANGE_SORTED,I.dataSet.getDisplayDataSet())}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),Nn(Zd,"transform",[B0],Object.getOwnPropertyDescriptor(Zd,"transform"),Zd),Nn(Zd.prototype,"triggerSort",[Zh],Object.getOwnPropertyDescriptor(Zd.prototype,"triggerSort"),Zd.prototype),Zd))||Zv),RM=(eb=(0,Bn.mY)(wi.m.FILTERBYEXP),qy=(0,Bn.wx)(),tb=(0,Bn.MP)(),eb(Rx=(Kd=function(d){hu(m,d);var p=gs(m);function m(){return ps(this,m),p.apply(this,arguments)}return na(m,[{key:"triggerSort",value:function(I){var P=this._cmdObject.params,N=P.expression,$=P.fieldName,V=I.dataCfg,J=V.filterParams,se=bc(J);if(N.value){var Te={filterKey:$,customFilter:iv(N,$)},Se=J.findIndex(function(et){return et.filterKey===$});Se!==-1?se[Se]=Te:se.push(Te)}else se=J.filter(function(et){return et.filterKey!==$});I.dataCfg.filterParams=se,I.render(!0),I.emit(ye.ch4.RANGE_FILTERED,I.dataSet.getDisplayDataSet())}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),Nn(Kd,"transform",[qy],Object.getOwnPropertyDescriptor(Kd,"transform"),Kd),Nn(Kd.prototype,"triggerSort",[tb],Object.getOwnPropertyDescriptor(Kd.prototype,"triggerSort"),Kd.prototype),Kd))||Rx),Y0=(dg=(0,Bn.vQ)(wi.C.Instance),Dx=(0,ea.vg)(),dg(Lx=(Px=function(){function d(){ps(this,d),ks(this,"cols",rb,this)}return na(d,[{key:"add",value:function(m){this.cols.includes(m)||this.cols.push(m)}},{key:"clear",value:function(){this.cols=[]}},{key:"remove",value:function(m){var w=this.cols.findIndex(function(I){return m===I});w!==-1&&this.cols.splice(w,1)}}]),d}(),rb=Nn(Px.prototype,"cols",[Dx],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Px))||Lx),vb=(o_=(0,Bn.mY)(wi.m.FREEZECOL),Kv=(0,Bn.P8)(Y0),qd=(0,Bn.wx)(),k0=(0,Bn.MP)(),o_(Bx=(Sf=function(d){hu(m,d);var p=gs(m);function m(){var w;ps(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),ks(w,"data",nb,ms(w)),w}return na(m,[{key:"triggerFreeze",value:function(I,P){var N=this._cmdObject.params;N.type==="ADD"?this.data.add(N.col):this.data.remove(N.col)}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),nb=Nn(Sf.prototype,"data",[Kv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn(Sf,"transform",[qd],Object.getOwnPropertyDescriptor(Sf,"transform"),Sf),Nn(Sf.prototype,"triggerFreeze",[k0],Object.getOwnPropertyDescriptor(Sf.prototype,"triggerFreeze"),Sf.prototype),Sf))||Bx),DM=(kx=(0,Bn.mY)(wi.m.SPLITCOL),Fx=(0,Bn.wv)(),vg=(0,Bn.P8)(Y0),qv=(0,Bn.wx)(),Qd=(0,Bn.MP)(),kx(F0=Fx(F0=(_f=function(d){hu(m,d);var p=gs(m);function m(){var w;ps(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),ks(w,"data",N0,ms(w)),w}return na(m,[{key:"splitCols",value:function(I,P){var N=this._cmdObject.params,$=N.sep,V=N.colId,J=N.preset,se=P.dataTransformer.addPipe(function(et){if($&&!J)return et.map(function(ft){return!(0,oe.isNull)(ft[V])&&!(0,oe.isUndefined)(ft[V])&&(ft[V]||"").split($).map(function(Ue,Ne){ft["".concat(V,"_").concat(Ne)]=Ue}),ft});if(J==="KV")return et.map(function(ft){if(!(0,oe.isNull)(ft[V])&&!(0,oe.isUndefined)(ft[V])){var Ue=ft[V].split("^");Ue.map(function(Ne){var Ct=Ne.split("=");ft[Ct[0]]=Ct[1]})}return ft})}),Te={};I.dataSet.originData.map(function(et){if($&&!J){if(!(0,oe.isNull)(et[V])&&!(0,oe.isUndefined)(et[V]))for(var ft=(et[V]||"").split($).length,Ue=0;Ue<ft;Ue++){var Ne="".concat(V,"_").concat(Ue);Te[Ne]=!0}return}if(J==="KV"){if(!(0,oe.isNull)(et[V])&&!(0,oe.isUndefined)(et[V])){var Ct=et[V].split("^");Ct.map(function(Ot){var mt=Ot.split("=");mt[0]&&(Te[mt[0]]=!0)})}return}});var Se=P.columnTransformer.addPipe(function(et){var ft=Object.keys(Te).map(function(Ct){return{name:Ct}});if(ft.length<=1)return et;var Ue=bc(et),Ne=Ue.findIndex(function(Ct){return Ct.name===V});return Ue.splice.apply(Ue,[Ne+1,0].concat(bc(ft))),Ue});return function(){se(),Se()}}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),N0=Nn(_f.prototype,"data",[vg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn(_f,"transform",[qv],Object.getOwnPropertyDescriptor(_f,"transform"),_f),Nn(_f.prototype,"splitCols",[Qd],Object.getOwnPropertyDescriptor(_f.prototype,"splitCols"),_f.prototype),_f))||F0)||F0),kl=(sl=(0,Bn.vQ)(),eh=(0,ea.vg)(),sl(ib=(Jd=function(){function d(){ps(this,d),ks(this,"charts",Nx,this)}return na(d,[{key:"add",value:function(m){this.charts.includes(m)||this.charts.push(m)}},{key:"remove",value:function(m){var w=this.charts.findIndex(function(I){return m===I.id});w!==-1&&this.charts.splice(w,1)}}]),d}(),Nx=Nn(Jd.prototype,"charts",[eh],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Jd))||ib),p_=(ev=(0,Bn.vQ)(),tv=(0,ea.vg)(),ev(l_=(Du=function(){function d(){ps(this,d),ks(this,"conditions",Kh,this)}return na(d,[{key:"add",value:function(m){this.conditions.includes(m)||this.conditions.push(m)}},{key:"remove",value:function(m){var w=this.conditions.findIndex(function(I){return m===I.id});w!==-1&&this.conditions.splice(w,1)}}]),d}(),Kh=Nn(Du.prototype,"conditions",[tv],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Du))||l_),pb=(ul=(0,Bn.mY)(wi.m.ADDCHART),s_=(0,Bn.wv)(),u_=(0,Bn.P8)(kl),Uo=(0,Bn.wx)(),zl=(0,Bn.MP)(),ul($c=s_($c=(qh=function(d){hu(m,d);var p=gs(m);function m(){var w;ps(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),ks(w,"data",pg,ms(w)),w}return na(m,[{key:"addChart",value:function(){var I=this;return this._cmdObject.params.id=db(),this.data.add(this._cmdObject.params),function(){I.data.remove(I._cmdObject.params.id)}}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),pg=Nn(qh.prototype,"data",[u_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn(qh,"transform",[Uo],Object.getOwnPropertyDescriptor(qh,"transform"),qh),Nn(qh.prototype,"addChart",[zl],Object.getOwnPropertyDescriptor(qh.prototype,"addChart"),qh.prototype),qh))||$c)||$c),g_=(ab=(0,Bn.mY)(wi.m.REMOVECHART),c_=(0,Bn.P8)(kl),ob=(0,Bn.wx)(),lb=(0,Bn.MP)(),ab(Qy=(Qh=function(d){hu(m,d);var p=gs(m);function m(){var w;ps(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),ks(w,"data",f_,ms(w)),w}return na(m,[{key:"addChart",value:function(){this.data.remove(this._cmdObject.params)}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),f_=Nn(Qh.prototype,"data",[c_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn(Qh,"transform",[ob],Object.getOwnPropertyDescriptor(Qh,"transform"),Qh),Nn(Qh.prototype,"addChart",[lb],Object.getOwnPropertyDescriptor(Qh.prototype,"addChart"),Qh.prototype),Qh))||Qy),LM=(gg=(0,Bn.mY)(wi.m.APPLYCONDITION),H0=(0,Bn.wv)(),Po=(0,Bn.P8)(p_),Jy=(0,Bn.wx)(),Jh=(0,Bn.MP)(),gg(ed=H0(ed=(Ef=function(d){hu(m,d);var p=gs(m);function m(){var w;ps(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),ks(w,"data",z0,ms(w)),w}return na(m,[{key:"addCondition",value:function(I,P){var N=this;this._cmdObject.params.id=db(),this.data.add(this._cmdObject.params);var $=this._cmdObject.params.colId,V=P.columnTransformer.addPipe(function(J){var se=bc(J),Te=iv(N._cmdObject.params,$),Se=function(Ue){return Te(sa({},$,Ue))?N._cmdObject.params.color:null},et=se.find(function(ft){return ft.name===$});return et&&(Array.isArray(et.conditionalFormatters)?et.conditionalFormatters.push(Se):et.conditionalFormatters=[Se]),se});return function(){N.data.remove(N._cmdObject.params.id),V()}}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),z0=Nn(Ef.prototype,"data",[Po],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn(Ef,"transform",[Jy],Object.getOwnPropertyDescriptor(Ef,"transform"),Ef),Nn(Ef.prototype,"addCondition",[Jh],Object.getOwnPropertyDescriptor(Ef.prototype,"addCondition"),Ef.prototype),Ef))||ed)||ed),PM=(eC=(0,Bn.mY)(wi.m.EDITCELL),Qv=(0,Bn.wv)(),sb=(0,Bn.wx)(),gc=(0,Bn.MP)(),eC(Xo=Qv(Xo=(ds=function(d){hu(m,d);var p=gs(m);function m(){return ps(this,m),p.apply(this,arguments)}return na(m,[{key:"edit",value:function(I,P){var N=this,$=I.dataSet.originData,V=this._cmdObject.params,J=V.rowIndex,se=V.valueField,Te=V.newValue;return $[J]&&bo($[J][se])!==void 0&&($[J][se]=Te),function(){$[J]&&bo($[J][se])!==void 0&&($[J][se]=N._cmdObject.params.oldValue)}}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),Nn(ds,"transform",[sb],Object.getOwnPropertyDescriptor(ds,"transform"),ds),Nn(ds.prototype,"edit",[gc],Object.getOwnPropertyDescriptor(ds.prototype,"edit"),ds.prototype),ds))||Xo)||Xo),m_=(tC=(0,Bn.mY)(wi.m.ADDROW),Wl=(0,Bn.wv)(),bi=(0,Bn.wx)(),An=(0,Bn.MP)(),tC(mc=Wl(mc=(Pl=function(d){hu(m,d);var p=gs(m);function m(){return ps(this,m),p.apply(this,arguments)}return na(m,[{key:"addRow",value:function(I,P){var N=this._cmdObject.params,$=N.count,V=N.index,J=N.presetData,se=I.dataSet.originData;if(J)se.splice.apply(se,[V,0].concat(bc([].concat(J))));else{for(var Te=new Array($),Se=0;Se<$;Te[Se++]={});se.splice.apply(se,[V,0].concat(Te))}return function(){se.splice(V,$)}}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),Nn(Pl,"transform",[bi],Object.getOwnPropertyDescriptor(Pl,"transform"),Pl),Nn(Pl.prototype,"addRow",[An],Object.getOwnPropertyDescriptor(Pl.prototype,"addRow"),Pl.prototype),Pl))||mc)||mc),$l=(gl=(0,Bn.mY)(wi.m.ADDCOL),W0=(0,Bn.wv)(),Ds=(0,Bn.wx)(),Gl=(0,Bn.MP)(),gl(mg=W0(mg=($i=function(d){hu(m,d);var p=gs(m);function m(){return ps(this,m),p.apply(this,arguments)}return na(m,[{key:"addColumn",value:function(I,P){var N=this._cmdObject.params,$=N.name,V=N.colId,J=N.computedLogic,se=!1,Te=P.dataTransformer.addPipe(function(et){return!se&&et.forEach(function(ft){ft[$]=""}),se=!0,et}),Se=P.columnTransformer.addPipe(function(et){var ft=bc(et),Ue=ft.findIndex(function(Ne){return Ne.name===V});return ft.splice(Ue+1,0,{name:$}),ft});return function(){Se(),Te()}}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),Nn($i,"transform",[Ds],Object.getOwnPropertyDescriptor($i,"transform"),$i),Nn($i.prototype,"addColumn",[Gl],Object.getOwnPropertyDescriptor($i.prototype,"addColumn"),$i.prototype),$i))||mg)||mg),j0=(Oi=(0,Bn.mY)(wi.m.REMOVEROW),G0=(0,Bn.wv)(),Lu=(0,Bn.wx)(),$0=(0,Bn.MP)(),Oi(Jv=G0(Jv=(td=function(d){hu(m,d);var p=gs(m);function m(){return ps(this,m),p.apply(this,arguments)}return na(m,[{key:"removeRow",value:function(I,P){var N=this._cmdObject.params,$=N.count,V=N.index,J=I.dataSet.originData,se=J.splice(V,$);return function(){J.splice.apply(J,[V,0].concat(bc(se)))}}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),Nn(td,"transform",[Lu],Object.getOwnPropertyDescriptor(td,"transform"),td),Nn(td.prototype,"removeRow",[$0],Object.getOwnPropertyDescriptor(td.prototype,"removeRow"),td.prototype),td))||Jv)||Jv),gb=(Hx=(0,Bn.mY)(wi.m.MODIFYCOLCONFIG),yc=(0,Bn.wv)(),fu=(0,Bn.P8)(Gh),ep=(0,Bn.P8)(Kp),tp=(0,Bn.P8)(Nl),Mf=(0,Bn.P8)(Y0),zx=(0,Bn.wx)(),Wx=(0,Bn.MP)(),Hx(rv=yc(rv=(Pu=function(d){hu(m,d);var p=gs(m);function m(){var w;ps(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),ks(w,"data",Ni,ms(w)),ks(w,"dimExpandData",ur,ms(w)),ks(w,"dimPrecedence",rC,ms(w)),ks(w,"freezeData",Ls,ms(w)),w}return na(m,[{key:"modify",value:function(I,P){var N=this,$=this._cmdObject.params,V=$.value,J=$.colId,se=this.data.modify(J,V),Te=this.freezeData.cols.indexOf(J)!==-1,Se=V.type&&V.type&(qa.isAggregation|qa.isDimension)&&!Te;Se&&this.freezeData.add(J);var et=V.type&&~V.type&(qa.isAggregation|qa.isDimension)&&Te;return et&&this.freezeData.remove(J),V.type&qa.isDimension||this.dimExpandData.resetDimExpansion(J),hg(this.data,I,this.dimPrecedence),function(){N.data.modify(J,se),hg(N.data,I,N.dimPrecedence),Se&&N.freezeData.remove(J),et&&N.freezeData.add(J)}}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),Ni=Nn(Pu.prototype,"data",[fu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ur=Nn(Pu.prototype,"dimExpandData",[ep],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rC=Nn(Pu.prototype,"dimPrecedence",[tp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ls=Nn(Pu.prototype,"freezeData",[Mf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn(Pu,"transform",[zx],Object.getOwnPropertyDescriptor(Pu,"transform"),Pu),Nn(Pu.prototype,"modify",[Wx],Object.getOwnPropertyDescriptor(Pu.prototype,"modify"),Pu.prototype),Pu))||rv)||rv),Ux=(Br=(0,Bn.mY)(wi.m.EXPANDDIM),en=(0,Bn.wv)(),th=(0,Bn.P8)(Kp),nC=(0,Bn.P8)(Gh),yg=(0,Bn.P8)(Nl),iC=(0,Bn.wx)(),ml=(0,Bn.MP)(),Br(rp=en(rp=(Bo=function(d){hu(m,d);var p=gs(m);function m(){var w;ps(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),ks(w,"data",ub,ms(w)),ks(w,"dataConfig",cb,ms(w)),ks(w,"dimPrecedence",np,ms(w)),w}return na(m,[{key:"expandDim",value:function(I,P){var N=this,$=this._cmdObject.params,V=$.field,J=$.value,se=$.expanded;return this.data.change(V,J,se),hg(this.dataConfig,I,this.dimPrecedence),function(){N.data.change(V,J,!se),hg(N.dataConfig,I,N.dimPrecedence)}}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),ub=Nn(Bo.prototype,"data",[th],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cb=Nn(Bo.prototype,"dataConfig",[nC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),np=Nn(Bo.prototype,"dimPrecedence",[yg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn(Bo,"transform",[iC],Object.getOwnPropertyDescriptor(Bo,"transform"),Bo),Nn(Bo.prototype,"expandDim",[ml],Object.getOwnPropertyDescriptor(Bo.prototype,"expandDim"),Bo.prototype),Bo))||rp)||rp),y_=(Cg=(0,Bn.mY)(wi.m.RENAMECOL),vs=(0,Bn.wv)(),Gx=(0,Bn.P8)(Gh),fb=(0,Bn.wx)(),Cc=(0,Bn.MP)(),Cg(Bl=vs(Bl=(Tf=function(d){hu(m,d);var p=gs(m);function m(){var w;ps(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),ks(w,"data",ip,ms(w)),w}return na(m,[{key:"renameCol",value:function(I,P){var N=this,$=this._cmdObject.params,V=$.newName,J=$.colId,se=I.dataCfg.meta.findIndex(function(et){return et.field===J});if(se>-1){var Te=I.dataCfg.meta[se].name;I.dataCfg.meta[se].displayName=V,I.dataCfg.meta[se].name=V;var Se=this.data.modify(J,{alias:V});return function(){I.dataCfg.meta[se].displayName=Te,I.dataCfg.meta[se].name=Te,N.data.modify(J,Se)}}}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),ip=Nn(Tf.prototype,"data",[Gx],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn(Tf,"transform",[fb],Object.getOwnPropertyDescriptor(Tf,"transform"),Tf),Nn(Tf.prototype,"renameCol",[Cc],Object.getOwnPropertyDescriptor(Tf.prototype,"renameCol"),Tf.prototype),Tf))||Bl)||Bl),mb=(Ps=(0,Bn.mY)(wi.m.REMOVECOL),Zo=(0,Bn.wv)(),aC=(0,Bn.wx)(),qu=(0,Bn.MP)(),Ps(U0=Zo(U0=(Bs=function(d){hu(m,d);var p=gs(m);function m(){return ps(this,m),p.apply(this,arguments)}return na(m,[{key:"renameCol",value:function(I,P){var N=this._cmdObject.params.colId,$=P.columnTransformer.addPipe(function(V){var J=bc(V),se=J.findIndex(function(Te){return Te.name===N});return J.splice(se,1),J});return $}}],[{key:"transform",value:function(I){return new m(I)}}]),m}(Hl),Nn(Bs,"transform",[aC],Object.getOwnPropertyDescriptor(Bs,"transform"),Bs),Nn(Bs.prototype,"renameCol",[qu],Object.getOwnPropertyDescriptor(Bs.prototype,"renameCol"),Bs.prototype),Bs))||U0)||U0);function ap(d){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},ap(d)}var Yx,yb,bg,Yc,ki,V0,op,wg,Bu,cC,X0;function Ul(d,p,m,w){m&&Object.defineProperty(d,p,{enumerable:m.enumerable,configurable:m.configurable,writable:m.writable,value:m.initializer?m.initializer.call(w):void 0})}function lp(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,Z0(w.key),w)}}function xg(d,p,m){return p&&lp(d.prototype,p),m&&lp(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function Z0(d){var p=jx(d,"string");return ap(p)=="symbol"?p:String(p)}function jx(d,p){if(ap(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(ap(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function Qu(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function K0(d,p,m,w,I){var P={};return Object.keys(w).forEach(function(N){P[N]=w[N]}),P.enumerable=!!P.enumerable,P.configurable=!!P.configurable,("value"in P||P.initializer)&&(P.writable=!0),P=m.slice().reverse().reduce(function(N,$){return $(d,p,N)||N},P),I&&P.initializer!==void 0&&(P.value=P.initializer?P.initializer.call(I):void 0,P.initializer=void 0),P.initializer===void 0&&(Object.defineProperty(d,p,P),P=null),P}function Of(d,p){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}var C_=(Yx=(0,Bn.ZR)("EditCellMeta"),yb=(0,ea.vg)(),bg=(0,ea.vg)(),Yc=(0,ea.vg)(),ki=(0,ea.vg)(),Yx(V0=(op=xg(function d(){Qu(this,d),Ul(this,"rowIndex",wg,this),Ul(this,"valueField",Bu,this),Ul(this,"newValue",cC,this),Ul(this,"oldValue",X0,this)}),wg=K0(op.prototype,"rowIndex",[yb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bu=K0(op.prototype,"valueField",[bg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cC=K0(op.prototype,"newValue",[Yc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X0=K0(op.prototype,"oldValue",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),op))||V0);function nv(d){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},nv(d)}function b_(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function rh(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,Na(w.key),w)}}function w_(d,p,m){return p&&rh(d.prototype,p),m&&rh(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function Na(d){var p=Sg(d,"string");return nv(p)=="symbol"?p:String(p)}function Sg(d,p){if(nv(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(nv(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function Cb(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&_g(d,p)}function _g(d,p){return _g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},_g(d,p)}function du(d){var p=ys();return function(){var w=rd(d),I;if(p){var P=rd(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return jc(this,I)}}function jc(d,p){if(p&&(nv(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return io(d)}function io(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function ys(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function rd(d){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},rd(d)}var Ns=function(d){return d.commit="commit",d.undo="undo",d.redo="redo",d.recovered="recovered",d}({}),tl=function(p){return(p==null?void 0:p.recordId)!==void 0},q0=function(d){Cb(m,d);var p=du(m);function m(){var w;b_(this,m),w=p.call(this),w.current=void 0,w.future=void 0,w.spreadsheet=void 0,w.dataTransformer=void 0,w.columnTransformer=void 0,w.optionsTransformer=void 0,w.executeCommand=function(P){var N=wa.Z.transformers.get(P.id),$=wa.Z.executables.get(P.id),V=N(P),J=Reflect.getMetadata("AutoRevert",V.constructor),se=Reflect.getMetadata("dataModels",V.constructor);if(se&&Object.keys(se).forEach(function(Se){var et=wa.Z.instancedModels.get(io(w)).get(se[Se]);et||(et=wa.Z.models.get(se[Se])),V[Se]=et}),N){if(!P.synchronized){var Te=V[$](w.spreadsheet,io(w));J&&(0,oe.isFunction)(Te)&&(V._cmdObject.revert=Te)}return V.setExecuted(!0),V}return null},w.current=[],w.future=[],w.dataTransformer=new Yp,w.columnTransformer=new Yp,w.optionsTransformer=new Yp;var I=new Map;return Bn.yU.map(function(P){return P(I)}),wa.Z.instancedModels.set(io(w),I),w}return w_(m,[{key:"setSpreadSheet",value:function(I){this.spreadsheet=I}},{key:"getDataModel",value:function(I){return wa.Z.instancedModels.get(this).get(I)||wa.Z.models.get(I)}},{key:"rerunTransformers",value:function(){var I=this.getDataModel(Gh),P=this.getDataModel(Nl),N=up(I,P);this.columnTransformer.addNamedPipe("orderDim",function($){return $.sort(N)})}},{key:"maybeAddTimestamp",value:function(I){return I.timestamp||(I.timestamp=Date.now()),I}},{key:"commit",value:function(I,P){var N=this;if(Array.isArray(I))this.current.push(I.map(this.maybeAddTimestamp).map(function(V){return N.executeCommand(V)}).filter(Boolean));else{var $=this.executeCommand(this.maybeAddTimestamp(I));$&&this.current.push($)}P||(this.rerunTransformers(),this.spreadsheet.render(!0),this.emit(Ns.commit,I))}},{key:"undo",value:function(){if(this.current.length){var I=this.current[this.current.length-1];if(this.spreadsheet.logger&&this.spreadsheet.logger(Gr.undo),Array.isArray(I)){if(I.every(function(N){return N==null?void 0:N.isRevertable()})){this.current.pop(),this.future.push(I);for(var P=I.length-1;P>=0;P--)I[P].revert()}}else I.isRevertable()&&(this.current.pop(),this.future.push(I),I.revert());this.rerunTransformers(),this.spreadsheet.render(!0),this.emit(Ns.undo,I)}}},{key:"redo",value:function(){if(this.future.length){this.spreadsheet.logger&&this.spreadsheet.logger(Gr.redo);var I=this.future.pop();Array.isArray(I)?this.commit(I.map(function(P){return P._cmdObject})):this.commit(I._cmdObject),this.rerunTransformers(),this.emit(Ns.redo,I)}}},{key:"save",value:function(){var I=this.current.map(function(P){return Array.isArray(P)?P.map(function(N){return N.toJSON()}):P.toJSON()});return I}},{key:"markAllAsSynchronized",value:function(){this.current.forEach(function(I){Array.isArray(I)?I.forEach(function(P){P._cmdObject.synchronized=!0}):I._cmdObject.synchronized=!0})}},{key:"recover",value:function(I){var P=this,N=performance.now();try{for(var $=JSON.parse(I),V=-1,J=$.length-1;J>=0;J--)if(tl($[J])){V=J;break}for(var se=function(){var et=Te===$.length-1,ft=Te<=V;Te===0&&(ea.k3.paused=!0),et&&(ea.k3.paused=!1);var Ue=$[Te],Ne=$[Te+1];if(tl(Ue))return 1;if(Array.isArray(Ue))Ue.forEach(function(Ot){if(Ot.params&&Ot.params[Bn.FL]){var mt=wa.Z.modelCtors.get(Ot.params[Bn.FL]);Gp(mt,Ot.params,{}),Ot.params=Gp(mt,Ot.params,{})}tl(Ne)&&(Ot.rollbackId=Ne.recordId),ft&&(Ot.synchronized=!0)}),P.commit(Ue,!et);else{if(Ue.params&&Ue.params[Bn.FL]){var Ct=wa.Z.modelCtors.get(Ue.params[Bn.FL]);Gp(Ct,Ue.params,{}),Ue.params=Gp(Ct,Ue.params,{})}ft&&(Ue.synchronized=!0),tl(Ne)&&(Ue.rollbackId=Ne.recordId),P.commit(Ue,!et)}},Te=0;Te<$.length;Te++)se();this.spreadsheet.logger(Gr.loadEdits,{elapsed:performance.now()-N}),this.emit(Ns.recovered),this.dataTransformer.addPipe(function(Se){return Se}),this.spreadsheet.render()}catch(Se){console.error(Se);return}}}]),m}(zp.Z);function nh(d){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},nh(d)}function Q0(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function Je(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?Q0(Object(m),!0).forEach(function(w){sp(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Q0(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function sp(d,p,m){return p=J0(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function J0(d){var p=fC(d,"string");return nh(p)=="symbol"?p:String(p)}function fC(d,p){if(nh(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(nh(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function ih(d){return x_(d)||em(d)||qs(d)||Vx()}function Vx(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qs(d,p){if(d){if(typeof d=="string")return tm(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return tm(d,p)}}function em(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function x_(d){if(Array.isArray(d))return tm(d)}function tm(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}var Vc=function d(p){var m;if(!p)return null;if(p instanceof ye.esq||p instanceof ye.UhE)return p;var w=(m=p.cfg)===null||m===void 0?void 0:m.parent;return w?d(w):null},Ya=function(p){var m=Vc(p.shape),w;return m instanceof ye.esq&&(w=m.getMeta().valueField),m instanceof ye.UhE&&(w=m.getMeta().field),w},Ju=function(p,m,w,I,P,N){var $=(0,oe.findIndex)(w,function(Se,et){var ft=p-((0,oe.isNil)(N)?0:N)+P.x;return ft>=Se&&ft<w[et+1]},0);$=Math.max($,0);var V=(0,oe.findIndex)(w,function(Se,et){var ft=P.width+p+P.x;return ft>=Se&&ft<w[et+1]},$);V=Math.min(V===-1?1/0:V,w.length-2);var J=I.getIndexRange(m+P.y,P.height+m+P.y),se=J.start,Te=J.end;return[$,V,se,Te]},nd=function(p,m){var w=m.dataSet.getDisplayDataSet()[p];return m.dataSet.originData.findIndex(function(I){return I===w})},hC=function(p,m,w){var I=p.facet,P=p.options,N=P.frozenRowCount,$=N===void 0?0:N,V=P.frozenTrailingRowCount,J=V===void 0?0:V,se=P.frozenColCount,Te=P.frozenTrailingColCount,Se=p.frozenColGroup,et=p.frozenTrailingColGroup,ft=p.frozenRowGroup,Ue=p.frozenTrailingRowGroup,Ne=I.layoutResult.colLeafNodes,Ct=I.getScrollOffset(),Ot=Ct.scrollX,mt=Ct.scrollY,Wt=I.getCellRange(),Xe=I.panelBBox,_t=Xe.viewportHeight,vt=Xe.viewportWidth,Rt=Se?Math.floor(Se.getBBox().width):0,Kt=et?Math.floor(et.getBBox().width):0,fr=ft?Math.floor(ft.getBBox().height):0,kr=Ue?Math.floor(Ue.getBBox().height):0,ln=Ju(Ot,mt,I.viewCellWidths,I.viewCellHeights,{width:vt-Rt-Kt,height:_t-fr-kr,x:Rt,y:fr},I.getRealScrollX(I.cornerBBox.width)),nn=null,Jr=null,hn=Ne.find(function(je){return je.colIndex===w});if(w<=ln[0]&&w>=se?nn=hn.x-Rt:w>=ln[1]&&w<Ne.length-Te&&(nn=hn.x+hn.width-vt+Kt),m<=ln[2]&&m>Wt.start+$-1)Jr=I.viewCellHeights.getCellOffsetY(Wt.start+m),Jr=Jr-fr;else if(m>=ln[3]&&m<Wt.end-J+1){var it=I.viewCellHeights.getCellOffsetY(Wt.start+m+1);Jr=it+kr-_t}return{offsetX:nn,offsetY:Jr}},id=function(p,m,w){var I=w.facet,P=w.interaction,N=w.options,$=I.layoutResult.colLeafNodes,V=I.getScrollOffset(),J=V.scrollX,se=V.scrollY,Te=hC(w,p,m),Se=Te.offsetX,et=Te.offsetY;(Se!==null||et!==null)&&I.scrollWithAnimation({offsetX:{value:Se===null?J:Se},offsetY:{value:et===null?se:et}}),$[m]&&P.changeState({stateName:ye._61.SELECTED,cells:[{colIndex:m,rowIndex:p,id:(0,ye.KQ4)(String(p),$[m].id),type:ye.Czd.DATA_CELL}]})},rm=function(p,m){return(0,oe.get)((m||[]).filter(function(w){return w.sortFieldId===p}),"[0].sortMethod","NONE")||"NONE"},dC=function(p,m){var w=(m||[]).filter(function(I){return I.filterKey===p});return{filterKey:p,filteredValues:(0,oe.get)(w,"[0].filteredValues",[]),customFilter:(0,oe.get)(w,"[0].customFilter",void 0)}},ku=function(p,m,w,I){var P={},N=window,$=N.innerHeight,V=N.innerWidth,J=N.scrollY,se=N.scrollX;return P.position="absolute",P.zIndex=1e3,P.width=w,p+w>V?P.left=V+se-w-20:P.left=p+se,m+I>$?P.bottom=-(J-20):P.top=m+J,P},ad=function(p,m){return p.length?m.length?[p[0]].concat(ih(p.slice(1).filter(function(w){return m.includes(w[is])}))):p:[]},Qs=function(p){return p.map(function(m,w){return Je(Je({},m),{},sp({},is,w))})},bb=function(p){return p.map(function(m,w){var I=Je({},m);return delete I[ROW_ID_PROP],I})},nm=function(p,m,w,I){var P=p.find(function(V){return V[I]===m}),N=p.findIndex(function(V){return V[I]===w}),$=p.filter(function(V){return V[I]!==m});return $.splice(N,0,P),$},im=function(p){return(p==null?void 0:p.map(function(m){return typeof m=="string"?m:m.key}))||[]},iv=function(p,m){var w;if(p.op1&&p.value1){var I={funcA:{key:p.op,operand:p.value},funcB:{key:p.op1,operand:p.value1},type:p.condition};w=I}else{var P={key:p.op,operand:p.value};w=P}var N=Hp(w),$=N.filter.bind(N),V=function(se){return se&&se[m]&&$(se[m])};return V.serialize=N.serialize.bind(N),V.original=p,V},xc=function(p){var m=p.sort,w=p.logger,I=p.fieldName,P=p.spreadsheet,N=p.commandManager,$=p.append,V=$===void 0?!1:$;w&&w(Gr.sortCol),m==="NONE"?wb(I,P,N):Xx(I,P,m,N,V)},wb=function(p,m,w){var I=m.dataCfg,P=(0,oe.cloneDeep)(I.sortParams);w.commit({id:wi.m.SORT,params:I.sortParams.filter(function(N){return N.sortFieldId!==p}),revert:function(){m.setDataCfg(Je(Je({},I),{},{sortParams:P})),m.render(!0),m.emit(ye.ch4.RANGE_SORTED,m.dataSet.getDisplayDataSet())}})},Xx=function(p,m,w,I,P){var N=m.dataCfg,$=(0,oe.cloneDeep)(N.sortParams),V=P?N.sortParams.filter(function(J){return J.sortFieldId!==p}).concat({sortFieldId:p,sortMethod:w}):[{sortFieldId:p,sortMethod:w}];I.commit({id:wi.m.SORT,params:V,revert:function(){m.setDataCfg(Je(Je({},N),{},{sortParams:$})),m.render(!0),m.emit(ye.ch4.RANGE_SORTED,m.dataSet.getDisplayDataSet())}})},Zx=function(p){try{var m=/^/.test(p)&&!/{/g.test(p),w=p.split("^"),I=m&&w.length>1&&w.every(function(P){return/=/.test(P)});return I}catch(P){return!1}},am=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return function(m){return p.length?p.reduce(function(w,I){return I(w)},m):m}},Ko=function(p,m){var w;return isFunction(m)?m(p):(p==null||(w=p.dataSet)===null||w===void 0?void 0:w.originData)||[]},xb=function(p){var m=function($){if($===0)return"A";for(var V="";$>0;)V=String.fromCharCode($%26+65)+V,$=Math.floor($/26);return V},w=p[0]||[],I=w.map(function(N,$){return{name:N,displayName:m($)}}),P=p.map(function(N,$){var V={};return N.forEach(function(J,se){V[w[se]]=$===0?w[se]:J}),V});return{columns:I,content:P}},vC=function(p){var m=p.dataCfg.fields.columns.map(function(I){return I.toString()}),w=[m];return p.dataSet.originData.forEach(function(I,P){P===0&&I[m[0]]===m[0]||w.push(m.map(function(N){var $=I[N];return $===void 0?"":$}))}),w},pC=function(p){return typeof p!="string"?!1:/^=/.test(p)&&p.length>=2},av=function(p,m){var w=p.dataSet.originData,I=p.interaction.getInteractedCells().filter(function(P){return P.cellType===ye.Czd.DATA_CELL});m.commit(I.map(function(P){var N=P.getMeta(),$=N.rowIndex,V=N.valueField,J=nd($,p),se=new C_;if(J!==-1)return se.oldValue=w[$][V],se.newValue="",se.rowIndex=J,se.valueField=V,se}).filter(Boolean).map(function(P){return{id:wi.m.EDITCELL,params:P}}))},up=function(p,m){var w=Xc(p,m),I=w.dimensions,P=w.aggregations,N=[].concat(ih(I),ih(P.map(function($){return $.col})));return function($,V){var J=N.indexOf($.name),se=N.indexOf(V.name);return J!==-1&&se!==-1?J-se:J!==-1?-1:se!==-1?1:m.hasEdge($.name,V.name)?-1:m.hasEdge(V.name,$.name)?1:0}},Xc=function(p,m){var w={dimensions:[],aggregations:[]};return Object.keys(p.colConfigs).forEach(function(I){var P,N;((P=p.colConfigs[I])===null||P===void 0?void 0:P.type)&qa.isDimension&&w.dimensions.push(I),((N=p.colConfigs[I])===null||N===void 0?void 0:N.type)&qa.isAggregation&&w.aggregations.push({col:I,aggregateType:p.colConfigs[I].aggregateType})}),m&&m.getOrderedDimensions&&(w.dimensions=m.getOrderedDimensions(w.dimensions)),w},od=[],gC=function(p){return od.push(p),function(){var m=od.findIndex(function(w){return w===p});m!==-1&&od.splice(m,1)}};function ah(d){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},ah(d)}var mC=["className","text","line","italic","keyword","placement","overlayClassName","alwaysHidden","getPopupContainer","customTooltipRender","ellipsisInMiddle"],cp=["className","text","length","line","italic","placement","keyword","overlayClassName","alwaysHidden","getPopupContainer","customTooltipRender","ellipsisInMiddle","ellipsisHeadLen","ellipsisTailLen"];function ov(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function Sb(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?ov(Object(m),!0).forEach(function(w){yC(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):ov(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function yC(d,p,m){return p=bC(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function oh(d,p){if(d==null)return{};var m=_b(d,p),w,I;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(d);for(I=0;I<P.length;I++)w=P[I],!(p.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(d,w)&&(m[w]=d[w])}return m}function _b(d,p){if(d==null)return{};var m={},w=Object.keys(d),I,P;for(P=0;P<w.length;P++)I=w[P],!(p.indexOf(I)>=0)&&(m[I]=d[I]);return m}function om(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&ko(d,p)}function ko(d,p){return ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},ko(d,p)}function Zc(d){var p=lh();return function(){var w=CC(d),I;if(p){var P=CC(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return yl(this,I)}}function yl(d,p){if(p&&(ah(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eb(d)}function Eb(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function lh(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function CC(d){return CC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},CC(d)}function Mb(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,bC(w.key),w)}}function Kx(d,p,m){return p&&Mb(d.prototype,p),m&&Mb(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function bC(d){var p=S_(d,"string");return ah(p)=="symbol"?p:String(p)}function S_(d,p){if(ah(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(ah(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function Tb(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var wC=function(p){var m;return["i","l"].includes(p)?m=.3:p.match(/[a-z0-9_-]/)?m=.5:p.match(/[A-Z/]/)?m=.6:m=1,m},BM=function(p,m){for(var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,P=[],N=0,$=0,V=p.length-1,J=!0;N<m&&$<=V;){var se=p[J?$:V];P.push(se),N+=wC(se),J?((w===0||w>$)&&$++,J=!1):((I===0||I>p.length-V)&&V--,J=!0)}if($===V&&m+2>N&&($++,P.push(p[$])),$===V+1)return p;var Te=p.substring(0,$),Se=p.substring(V+1,p.length);return"".concat(Te,"...").concat(Se)};function kM(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:14,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!d||typeof d!="string")return"";if(m)return BM(d,p,w,I);for(var P=[],N=0,$=0;N<p&&$<d.length;){var V=d[$];P.push(V),N+=wC(V),$++}$===d.length-1&&p+2>N&&P.push(d[$]);var J=P.join("");return J===d?J:"".concat(J,"...")}var __=Kx(function d(){Tb(this,d),this.className="",this.text="",this.length=void 0,this.line=void 0,this.italic=!1,this.placement="topLeft",this.keyword="",this.overlayClassName="",this.alwaysHidden=void 0,this.getPopupContainer=void 0,this.customTooltipRender=void 0,this.ellipsisInMiddle=!1,this.ellipsisHeadLen=void 0,this.ellipsisTailLen=void 0}),sh=function(d){om(m,d);var p=Zc(m);function m(){var w;Tb(this,m);for(var I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=p.call.apply(p,[this].concat(P)),w.el=void 0,w.state={tooltipVisible:!1},w.handleTooltipVisibleChange=function($){$?w.checkOverflow()&&w.setState({tooltipVisible:!0}):w.setState({tooltipVisible:!1})},w}return Kx(m,[{key:"checkOverflow",value:function(){var I=this.el;return!!(I&&I.scrollHeight>I.clientHeight)}},{key:"getDecoratedChildren",value:function(I,P,N,$,V){var J=N?re.createElement(qf,{text:I,keyword:N}):I;return P?re.createElement("i",{className:$},J):re.createElement("span",{className:$},J)}},{key:"renderByLine",value:function(){var I=this,P=this.props,N=P.className,$=P.text,V=P.line,J=P.italic,se=P.keyword,Te=P.placement,Se=P.overlayClassName,et=P.alwaysHidden,ft=P.getPopupContainer,Ue=P.customTooltipRender,Ne=P.ellipsisInMiddle,Ct=oh(P,mC),Ot=this.state.tooltipVisible,mt=this.getDecoratedChildren(String($),J,se,N,Se),Wt=re.cloneElement(mt,Sb({className:fe()("multi-line",{"single-line":V===1},N),style:{WebkitLineClamp:V},ref:function(_t){I.el=_t}},Ct));return et?Wt:Ue?Ue(Wt):re.createElement(Zt.Tooltip,{overlayClassName:Se,getPopupContainer:ft,visible:Ot,onVisibleChange:this.handleTooltipVisibleChange,mouseEnterDelay:.3,title:$,placement:Te},Wt)}},{key:"renderByLength",value:function(){var I=this.props,P=I.className,N=I.text,$=I.length,V=I.line,J=I.italic,se=I.placement,Te=se===void 0?"topLeft":se,Se=I.keyword,et=I.overlayClassName,ft=I.alwaysHidden,Ue=I.getPopupContainer,Ne=I.customTooltipRender,Ct=I.ellipsisInMiddle,Ot=I.ellipsisHeadLen,mt=I.ellipsisTailLen,Wt=oh(I,cp),Xe="".concat(N),_t=kM(Xe,$,Ct,Ot,Ot?0:mt),vt=re.cloneElement(this.getDecoratedChildren(_t,J,Se,P,et),Wt);if(Ne)return Ne(vt);var Rt=_t!==Xe&&!ft?re.createElement(Zt.Tooltip,{title:Xe,placement:Te,overlayClassName:et,getPopupContainer:Ue,overlayStyle:{wordWrap:"break-word",wordBreak:"break-all"}},vt):vt;return Rt}},{key:"render",value:function(){var I=this.props,P=I.text,N=I.length,$=I.line;return P==null||!String(P)?null:($&&N&&console.warn("[Abbr] \u8BF7\u4E0D\u8981\u540C\u65F6\u914D\u7F6E `line` \u548C `length` \u5C5E\u6027\uFF0C\u5C06\u4F18\u5148\u4F7F\u7528 `line` \u5C5E\u6027"),$?this.renderByLine():this.renderByLength())}}]),m}(re.PureComponent);sh.defaultProps=new __;var Ha=sh;function vu(d){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},vu(d)}function qx(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function uh(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?qx(Object(m),!0).forEach(function(w){Eg(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):qx(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function Eg(d,p,m){return p=Qx(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function Qx(d){var p=Jx(d,"string");return vu(p)=="symbol"?p:String(p)}function Jx(d,p){if(vu(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(vu(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function lm(d,p){return Ab(d)||sm(d,p)||lv(d,p)||fp()}function fp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lv(d,p){if(d){if(typeof d=="string")return Ob(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Ob(d,p)}}function Ob(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function sm(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function Ab(d){if(Array.isArray(d))return d}var Ib=function(p){var m={};return p.forEach(function(w){m[w]=!0}),m},Rb=function(p){var m=p.params,w=p.value,I=p.onChange,P=p.showAllOpts,N=P===void 0?!1:P,$=p.className,V=$===void 0?"":$,J=p.showSort,se=J===void 0?!1:J,Te=p.isMultipleSelect,Se=Te===void 0?!1:Te,et=p.sort,ft=p.skipNum,Ue=p.setDirty,Ne=Ue===void 0?function(){}:Ue,Ct=p.sortChange,Ot=(0,re.useState)(""),mt=lm(Ot,2),Wt=mt[0],Xe=mt[1],_t=rr(),vt=_t.spreadsheet,Rt=(0,re.useState)(!1),Kt=lm(Rt,2),fr=Kt[0],kr=Kt[1],ln=m.fieldName,nn=m.filterParams,Jr=function(bn){return fr?bn:bn.toLowerCase()},hn=ie().useMemo(function(){return dC(ln,nn).filteredValues.length===0},[ln,nn]),it=hn&&!N,je=function(bn){return Se&&Array.isArray(bn)?bn.join(","):bn},dt=ie().useMemo(function(){var sn=(0,oe.isNumber)(ft)?ft:1,bn=function(ua){return ua.slice(sn).map(function(li){return li[ln]})};return{originalData:bn(vt.dataSet.originData),fieldData:(0,oe.uniqBy)(bn(Array.prototype.slice.apply(it?vt.dataSet.getDisplayDataSet():vt.dataSet.originData)),je),collateralFilteredValues:it?(0,oe.uniqBy)((0,oe.difference)(bn(vt.dataSet.originData),bn(vt.dataSet.getDisplayDataSet())),je):[]}},[vt.dataSet.originData,ln,hn,ft]),Jt=dt.fieldData,pr=dt.collateralFilteredValues,xr=dt.originalData,Nr=ie().useMemo(function(){return(0,oe.countBy)(hn?vt.dataSet.getDisplayDataSet():vt.dataSet.originData,function(sn){return je(sn[ln])})},[vt.dataSet.originData,ln,hn]),Wr=function(bn){hn&&pr.forEach(function(Hi){bn[Hi]=!0}),Wt&&(0,oe.difference)(xr,on).map(function(Hi){bn[Hi]=!0}),I(bn)};(0,re.useEffect)(function(){Wr(Ib(dC(ln,nn).filteredValues.concat(pr)))},[]);var on=ie().useMemo(function(){return Jt.filter(function(sn){return Wt?typeof sn=="string"?Jr(sn).includes(Jr(Wt)):!1:!0})},[Wt,Jt,fr]);(0,re.useEffect)(function(){Wt&&Yn(Wt)},[fr]);var Yn=function(bn){Xe(bn||""),Ne(function(li){return uh(uh({},li),{},{filter:!0})});var Hi={},ua=Jt.filter(function(li){return bn&&typeof li=="string"?!Jr(li).includes(Jr(bn)):!1});ua.concat(pr).forEach(function(li){Hi[li]=!0}),Wr(Hi)};return ie().createElement("div",{className:fe()(["fieldByValue",V,"dp-field-by-value-wrapper"])},se&&ie().createElement(Zt.Radio.Group,{onChange:Ct,value:et||"NONE"},ie().createElement(Zt.Radio,{value:"NONE"},Ei("noSort")),ie().createElement(Zt.Radio,{value:"ASC"},Ei("asc")),ie().createElement(Zt.Radio,{value:"DESC"},Ei("desc"))),ie().createElement(Zt.Input.Search,{className:"weave-filter-search",value:Wt,disabled:Se,suffix:ie().createElement(Zt.Tooltip,{title:"\u5339\u914D\u5927\u5C0F\u5199"},ie().createElement("div",{onClick:function(){kr(!fr)},className:fe()(["matchCase",{active:fr}])},"Aa")),onChange:function(bn){return Yn(bn.target.value)},placeholder:Ei("filterSearch")}),Se&&ie().createElement(Zt.Alert,{message:"\u591A\u9009\u5217\u6682\u4E0D\u652F\u6301\u914D\u7F6E\u7B5B\u9009",type:"warning",showIcon:!0,closable:!0,style:{padding:"2px 15px"}}),ie().createElement("div",{className:"checkbox"},ie().createElement(Zt.Checkbox,{className:"checkAll",disabled:Se,checked:on.every(function(sn){return!w[sn]}),indeterminate:on.some(function(sn){return!w[sn]})&&!on.every(function(sn){return!w[sn]}),onChange:function(bn){var Hi=bn.target.checked;Ne(function(li){return uh(uh({},li),{},{filter:!0})});var ua={};on.forEach(function(li){ua[li]=!Hi}),Wr(ua)}},ie().createElement("div",{className:"checkboxText"},Ei("selectAll")))),ie().createElement(Ru,{className:"list",height:225,width:"100%",itemCount:on.length,itemSize:32,itemData:on},function(sn){var bn,Hi=sn.index,ua=sn.style,li=sn.data,La=(bn=li[Hi])!==null&&bn!==void 0?bn:"";return ie().createElement("div",{style:uh({},ua),className:"listItem"},ie().createElement(Zt.Checkbox,{className:"checkboxItem",checked:!w[li[Hi]],disabled:Se,onChange:function(Ho){Ne(function(Wa){return uh(uh({},Wa),{},{filter:!0})});var eo=uh(uh({},w),{},Eg({},li[Hi],!Ho.target.checked));Wr(eo)}},ie().createElement(Ha,{className:"checkboxText",text:La+"",line:1})),ie().createElement("span",null,Nr[li[Hi]]||0))}))};function hp(d){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},hp(d)}function Af(d){return ld(d)||eS(d)||ba(d)||E_()}function E_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eS(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function ld(d){if(Array.isArray(d))return fm(d)}function Kc(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function um(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?Kc(Object(m),!0).forEach(function(w){Mg(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Kc(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function Mg(d,p,m){return p=dp(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function dp(d){var p=If(d,"string");return hp(p)=="symbol"?p:String(p)}function If(d,p){if(hp(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(hp(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function Tg(d,p){return Fu(d)||sd(d,p)||ba(d,p)||cm()}function cm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ba(d,p){if(d){if(typeof d=="string")return fm(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return fm(d,p)}}function fm(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function sd(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function Fu(d){if(Array.isArray(d))return d}var Hs=function(p){var m=p.value,w=p.onChange,I=p.fieldName,P=p.inPlace,N=P===void 0?!1:P,$=rr(),V=$.spreadsheet,J=$.theme,se=(0,re.useState)([!1,!1]),Te=Tg(se,2),Se=Te[0],et=Te[1],ft=(0,re.useRef)(),Ue=(0,re.useState)(0),Ne=Tg(Ue,2),Ct=Ne[0],Ot=Ne[1],mt=function(Kt,fr){if(N)return m[Kt]=fr,Ot(function(kr){return kr+1}),w(m);w(um(um({},m),{},Mg({},Kt,fr)))},Wt=function(Kt,fr){if(N)return Kt.forEach(function(ln,nn){return m[ln]=fr[nn]}),Ot(function(ln){return ln+1}),w(m);var kr={};Kt.forEach(function(ln,nn){kr[Kt[nn]]=fr[nn]}),w(um(um({},m),kr))},Xe=function(Kt){return ie().createElement(Zt.Select,{className:"select",value:m[Kt],onSelect:function(kr){mt(Kt,kr)},getPopupContainer:function(){return ft.current},dropdownClassName:"weave-select-dropdown"},Object.keys(Np).map(function(fr){return ie().createElement(Zt.Select.Option,{label:Ei("filterExpressions.".concat(fr)),value:fr},Ei("filterExpressions.".concat(fr)))}))},_t=V.dataSet.originData.slice(1),vt=function(Kt,fr){var kr=(0,oe.uniq)(_t.filter(function(ln){var nn,Jr;return(nn=ln[I])===null||nn===void 0?void 0:nn.includes((Jr=m[Kt])!==null&&Jr!==void 0?Jr:"")}).map(function(ln){return ln[I]}));return ie().createElement(Zt.Popover,{placement:"bottom",trigger:"click",visible:Se[fr],onVisibleChange:function(nn){et(function(Jr){var hn=Af(Jr);return hn[fr]=nn,hn})},overlayClassName:"popover".concat(" dp-filter-exp-popover-wrapper weave-filter-pop weave-popover-antd-update"),content:ie().createElement(Ru,{className:"list",height:240,width:"100%",itemCount:kr.length,itemSize:30,itemData:kr},function(ln){var nn=ln.index,Jr=ln.style,hn=ln.data,it=hn[nn]+"";return ie().createElement("div",{style:um({},Jr),className:fe()("expListItem",Mg({},"dark-theme",J==="dark")),onClick:function(dt){dt.stopPropagation(),mt(Kt,it);var Jt=Af(Se);Jt[fr]=!1,et(Jt)}},ie().createElement(Ha,{text:it,line:1}))})},ie().createElement(Zt.Input,{placeholder:"\u8BF7\u8F93\u5165\u7B5B\u9009\u5185\u5BB9",className:"input",value:m[Kt],onChange:function(nn){mt(Kt,nn.target.value)}}))};return ie().createElement("div",{className:fe()("advancedFilterConfig",N&&"light"),ref:ft},Xe("op"),vt("value",0),m.op1?ie().createElement(Zt.Radio.Group,{className:"radio",value:m.condition,onChange:function(Kt){mt("condition",Kt.target.value)}},ie().createElement(Zt.Radio,{value:It.AND},It.AND),ie().createElement(Zt.Radio,{value:It.OR},It.OR)):ie().createElement("div",{className:"addFilterConfig",onClick:function(){Wt(["op1","condition"],[m.op,It.AND])}},ie().createElement(Re,{className:"icon",type:"one-icon icon-jiahao anticon-dpicon"}),"\u6DFB\u52A0\u6761\u4EF6"),m.op1?ie().createElement("div",null,Xe("op1"),vt("value1",1)):null)},Sc=function(p){var m=p.params,w=p.value,I=p.onChange;return ie().createElement(Hs,{value:w,onChange:I,fieldName:m.fieldName})};function vp(d){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},vp(d)}function ud(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function Rf(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?ud(Object(m),!0).forEach(function(w){Ba(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):ud(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function Ba(d,p,m){return p=Li(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function Li(d){var p=tS(d,"string");return vp(p)=="symbol"?p:String(p)}function tS(d,p){if(vp(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(vp(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function qc(d,p){return Db(d)||hm(d,p)||_c(d,p)||rS()}function rS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _c(d,p){if(d){if(typeof d=="string")return ch(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return ch(d,p)}}function ch(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function hm(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function Db(d){if(Array.isArray(d))return d}var Nu=function(d){return d.ByValue="value",d.ByExpression="exp",d}({}),Lb=function(p){var m,w,I,P,N=p.onCancel,$=p.params,V=p.resolver,J=rr(),se=J.spreadsheet,Te=J.logger,Se=J.commandManager,et=se==null||(m=se.dataCfg)===null||m===void 0?void 0:m.filterParams,ft=se==null||(w=se.dataCfg)===null||w===void 0?void 0:w.sortParams,Ue=$.fieldName,Ne=$.skipNum,Ct=(0,re.useState)({filter:!1,sort:!1}),Ot=qc(Ct,2),mt=Ot[0],Wt=Ot[1],Xe=!!((I=se.dataCfg.meta)!==null&&I!==void 0&&I.filter(function(Qi){return Qi.field===Ue&&Qi.colType===zi.MULTIPLE})[0]),_t=(0,re.useRef)(),vt=(0,re.useState)(320),Rt=qc(vt,2),Kt=Rt[0],fr=Rt[1],kr=ie().useMemo(function(){var Qi,Ua=se==null||(Qi=se.theme)===null||Qi===void 0||(Qi=Qi.background)===null||Qi===void 0?void 0:Qi.color;return Ua===oa},[]),ln=dC(Ue,se.dataCfg.filterParams),nn=(0,re.useRef)(null),Jr=ku($.x,$.y,320,417);ie().useEffect(function(){var Qi=function(Ao){var _l=function(El){El<300?fr(300):El>600?fr(600):fr(El)};if(Ao.target===nn.current){var Ws=Ao.clientX,Nf=(0,oe.throttle)(function(xs){xs.preventDefault();var El=xs.clientX-Ws+Kt;_l(El)},15),Ah=function xs(El){El.preventDefault(),El.stopPropagation();var kp=El.clientX-Ws+Kt;_l(kp),document.removeEventListener("mouseup",xs),document.removeEventListener("mousemove",Nf)};document.addEventListener("mousemove",Nf),document.addEventListener("mouseup",Ah)}};return document.addEventListener("mousedown",Qi),function(){document.removeEventListener("mousedown",Qi)}},[Kt]);var hn=(0,re.useState)(ln.customFilter?Nu.ByExpression:Nu.ByValue),it=qc(hn,2),je=it[0],dt=it[1],Jt=(0,re.useState)({}),pr=qc(Jt,2),xr=pr[0],Nr=pr[1],Wr=ie().useState(rm(Ue,ft)),on=qc(Wr,2),Yn=on[0],sn=on[1];ie().useLayoutEffect(function(){var Qi=function(Ao){var _l,Ws=Ao.target;if(!((_l=_t.current)!==null&&_l!==void 0&&_l.contains(Ws))&&Ws.parentNode){if(Ws.nodeName==="INPUT")return;N()}};return window.addEventListener("click",Qi),function(){window.removeEventListener("click",Qi)}},[_t.current]);var bn=(0,re.useState)(Yn),Hi=qc(bn,1),ua=Hi[0],li=function(Ua){sn(Ua.target.value)},La=(0,re.useState)(ln.customFilter?(P=ln.customFilter)===null||P===void 0?void 0:P.original:{op:Object.keys(Np)[0],value:""}),so=qc(La,2),Ho=so[0],eo=so[1],Wa=function(Ua,Ao,_l){return ie().createElement("div",{className:fe()(["weave-field-filter-tab-item",_l,{active:je===Ua}]),onClick:function(){dt(Ua)}},Ao)},qi=function(){je===Nu.ByValue?(Nr({}),sn("NONE")):eo(Rf(Rf({},Ho),{},{op1:null,value:"",value1:""})),Wt(function(Ua){return Rf(Rf({},Ua),{},{filter:!0})})},pa=function(Ua){Yn!==ua&&xc({sort:Yn,spreadsheet:se,logger:Te,fieldName:Ue,commandManager:Se}),je===Nu.ByValue?mt.filter&&(Te&&Te(Gr.filterCol),Se.commit({id:wi.m.FILTER,params:{filterKey:Ue,filteredValues:Object.entries(xr).map(function(Ao){var _l=qc(Ao,2),Ws=_l[0],Nf=_l[1];if(Nf)return Ws}).filter(function(Ao){return!(0,oe.isUndefined)(Ao)&&!(0,oe.isNull)(Ao)})},revert:function(){se.emit(ye.ch4.RANGE_FILTER,ln)}})):(Te&&Te(Gr.filterExpressionClick),Se.commit({id:wi.m.FILTERBYEXP,params:{expression:Ho,fieldName:Ue},revert:function(){se.emit(ye.ch4.RANGE_FILTER,ln)}})),V(!0)};return ie().createElement("div",{className:fe()("weave-field-filter-modal",{light:kr},"dp-filter-modal-wrapper"),style:Rf(Rf({},Jr),{},{width:Kt}),ref:_t,"data-testid":"weave-field-filter-modal"},ie().createElement("div",{className:"resizable",ref:nn,"data-testid":"resizable"}),ie().createElement("div",{className:fe()("tab","ant-modal-body")},Wa(Nu.ByValue,"\u6309\u5185\u5BB9","left"),Wa(Nu.ByExpression,"\u6309\u6761\u4EF6","right")),ie().createElement("div",{className:fe()("weave-field-filter-container","ant-modal-body")},je===Nu.ByValue?ie().createElement(Rb,{value:xr,params:Rf(Rf({},$),{},{filterParams:et}),isMultipleSelect:Xe,skipNum:Ne,onChange:function(Ua){Nr(Ua)},setDirty:Wt,showSort:!0,sort:Yn,sortChange:li}):ie().createElement(Sc,{value:Ho,params:$,onChange:function(Ua){eo(Ua)}})),ie().createElement("div",{className:fe()("footer","ant-modal-footer")},ie().createElement("div",{className:"left",onClick:qi},ie().createElement(Re,{type:"one-icon icon-shuaxin2 anticon-dpicon"}),"\u6E05\u9664\u7B5B\u9009"),ie().createElement("div",{className:"right"},ie().createElement(Zt.Button,{type:"ghost",onClick:N,className:"btn"},"\u53D6\u6D88"),ie().createElement(Zt.Button,{type:"primary",onClick:pa,className:"btn"},"\u786E\u5B9A"))))},Qa=tt(64649),cl=tt(50189),Qc=tt(13285),ja=tt(8136),Yo=tt(53782),Pb=tt(37220),nS=tt(99664),xC=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Og=void 0;function zs(d,p){var m=d.prefixCls,w=d.invalidate,I=d.item,P=d.renderItem,N=d.responsive,$=d.responsiveDisabled,V=d.registerSize,J=d.itemKey,se=d.className,Te=d.style,Se=d.children,et=d.display,ft=d.order,Ue=d.component,Ne=Ue===void 0?"div":Ue,Ct=(0,Yo.Z)(d,xC),Ot=N&&!et;function mt(Rt){V(J,Rt)}re.useEffect(function(){return function(){mt(null)}},[]);var Wt=P&&I!==Og?P(I):Se,Xe;w||(Xe={opacity:Ot?0:1,height:Ot?0:Og,overflowY:Ot?"hidden":Og,order:N?ft:Og,pointerEvents:Ot?"none":Og,position:Ot?"absolute":Og});var _t={};Ot&&(_t["aria-hidden"]=!0);var vt=re.createElement(Ne,(0,Co.Z)({className:fe()(!w&&m,se),style:(0,cl.Z)((0,cl.Z)({},Xe),Te)},_t,Ct,{ref:p}),Wt);return N&&(vt=re.createElement(Pb.Z,{onResize:function(Kt){var fr=Kt.offsetWidth;mt(fr)},disabled:$},vt)),vt}var Bb=re.forwardRef(zs);Bb.displayName="Item";var sv=Bb,iS=tt(44771),Fo=tt(94068);function SC(d){if(typeof MessageChannel=="undefined")(0,Fo.Z)(d);else{var p=new MessageChannel;p.port1.onmessage=function(){return d()},p.port2.postMessage(void 0)}}function Hu(){var d=re.useRef(null),p=function(w){d.current||(d.current=[],SC(function(){(0,ht.unstable_batchedUpdates)(function(){d.current.forEach(function(I){I()}),d.current=null})})),d.current.push(w)};return p}function _C(d,p){var m=re.useState(p),w=(0,ja.Z)(m,2),I=w[0],P=w[1],N=(0,iS.Z)(function($){d(function(){P($)})});return[I,N]}var fh=ie().createContext(null),_n=["component"],M_=["className"],aS=["className"],EC=function(p,m){var w=re.useContext(fh);if(!w){var I=p.component,P=I===void 0?"div":I,N=(0,Yo.Z)(p,_n);return re.createElement(P,(0,Co.Z)({},N,{ref:m}))}var $=w.className,V=(0,Yo.Z)(w,M_),J=p.className,se=(0,Yo.Z)(p,aS);return re.createElement(fh.Provider,{value:null},re.createElement(sv,(0,Co.Z)({ref:m,className:fe()($,J)},V,se)))},cd=re.forwardRef(EC);cd.displayName="RawItem";var kb=cd,Fb=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Nb="responsive",dm="invalidate";function T_(d){return"+ ".concat(d.length," ...")}function Va(d,p){var m=d.prefixCls,w=m===void 0?"rc-overflow":m,I=d.data,P=I===void 0?[]:I,N=d.renderItem,$=d.renderRawItem,V=d.itemKey,J=d.itemWidth,se=J===void 0?10:J,Te=d.ssr,Se=d.style,et=d.className,ft=d.maxCount,Ue=d.renderRest,Ne=d.renderRawRest,Ct=d.suffix,Ot=d.component,mt=Ot===void 0?"div":Ot,Wt=d.itemComponent,Xe=d.onVisibleChange,_t=(0,Yo.Z)(d,Fb),vt=Te==="full",Rt=Hu(),Kt=_C(Rt,null),fr=(0,ja.Z)(Kt,2),kr=fr[0],ln=fr[1],nn=kr||0,Jr=_C(Rt,new Map),hn=(0,ja.Z)(Jr,2),it=hn[0],je=hn[1],dt=_C(Rt,0),Jt=(0,ja.Z)(dt,2),pr=Jt[0],xr=Jt[1],Nr=_C(Rt,0),Wr=(0,ja.Z)(Nr,2),on=Wr[0],Yn=Wr[1],sn=_C(Rt,0),bn=(0,ja.Z)(sn,2),Hi=bn[0],ua=bn[1],li=(0,re.useState)(null),La=(0,ja.Z)(li,2),so=La[0],Ho=La[1],eo=(0,re.useState)(null),Wa=(0,ja.Z)(eo,2),qi=Wa[0],pa=Wa[1],Qi=re.useMemo(function(){return qi===null&&vt?Number.MAX_SAFE_INTEGER:qi||0},[qi,kr]),Ua=(0,re.useState)(!1),Ao=(0,ja.Z)(Ua,2),_l=Ao[0],Ws=Ao[1],Nf="".concat(w,"-item"),Ah=Math.max(pr,on),xs=ft===Nb,El=P.length&&xs,kp=ft===dm,Sv=El||typeof ft=="number"&&P.length>ft,Hf=(0,re.useMemo)(function(){var Wi=P;return El?kr===null&&vt?Wi=P:Wi=P.slice(0,Math.min(P.length,nn/se)):typeof ft=="number"&&(Wi=P.slice(0,ft)),Wi},[P,se,kr,ft,El]),_v=(0,re.useMemo)(function(){return El?P.slice(Qi+1):P.slice(Hf.length)},[P,Hf,El,Qi]),zf=(0,re.useCallback)(function(Wi,po){var pi;return typeof V=="function"?V(Wi):(pi=V&&(Wi==null?void 0:Wi[V]))!==null&&pi!==void 0?pi:po},[V]),Ih=(0,re.useCallback)(N||function(Wi){return Wi},[N]);function Rh(Wi,po,pi){qi===Wi&&(po===void 0||po===so)||(pa(Wi),pi||(Ws(Wi<P.length-1),Xe==null||Xe(Wi)),po!==void 0&&Ho(po))}function a0(Wi,po){ln(po.clientWidth)}function Dc(Wi,po){je(function(pi){var Zi=new Map(pi);return po===null?Zi.delete(Wi):Zi.set(Wi,po),Zi})}function Fl(Wi,po){Yn(po),xr(on)}function ax(Wi,po){ua(po)}function Ev(Wi){return it.get(zf(Hf[Wi],Wi))}(0,nS.Z)(function(){if(nn&&typeof Ah=="number"&&Hf){var Wi=Hi,po=Hf.length,pi=po-1;if(!po){Rh(0,null);return}for(var Zi=0;Zi<po;Zi+=1){var Sa=Ev(Zi);if(vt&&(Sa=Sa||0),Sa===void 0){Rh(Zi-1,void 0,!0);break}if(Wi+=Sa,pi===0&&Wi<=nn||Zi===pi-1&&Wi+Ev(pi)<=nn){Rh(pi,null);break}else if(Wi+Ah>nn){Rh(Zi-1,Wi-Sa-Hi+on);break}}Ct&&Ev(0)+Hi>nn&&Ho(null)}},[nn,it,on,Hi,zf,Hf]);var ox=_l&&!!_v.length,Mv={};so!==null&&El&&(Mv={position:"absolute",left:so,top:0});var o0={prefixCls:Nf,responsive:El,component:Wt,invalidate:kp},vi=$?function(Wi,po){var pi=zf(Wi,po);return re.createElement(fh.Provider,{key:pi,value:(0,cl.Z)((0,cl.Z)({},o0),{},{order:po,item:Wi,itemKey:pi,registerSize:Dc,display:po<=Qi})},$(Wi,po))}:function(Wi,po){var pi=zf(Wi,po);return re.createElement(sv,(0,Co.Z)({},o0,{order:po,key:pi,item:Wi,renderItem:Ih,itemKey:pi,registerSize:Dc,display:po<=Qi}))},to,D2={order:ox?Qi:Number.MAX_SAFE_INTEGER,className:"".concat(Nf,"-rest"),registerSize:Fl,display:ox};if(Ne)Ne&&(to=re.createElement(fh.Provider,{value:(0,cl.Z)((0,cl.Z)({},o0),D2)},Ne(_v)));else{var nl=Ue||T_;to=re.createElement(sv,(0,Co.Z)({},o0,D2),typeof nl=="function"?nl(_v):nl)}var Ai=re.createElement(mt,(0,Co.Z)({className:fe()(!kp&&w,et),style:Se,ref:p},_t),Hf.map(vi),Sv?to:null,Ct&&re.createElement(sv,(0,Co.Z)({},o0,{responsive:xs,responsiveDisabled:!El,order:Qi,className:"".concat(Nf,"-suffix"),registerSize:ax,display:!0,style:Mv}),Ct));return xs&&(Ai=re.createElement(Pb.Z,{onResize:a0,disabled:!El},Ai)),Ai}var Cl=re.forwardRef(Va);Cl.displayName="Overflow",Cl.Item=kb,Cl.RESPONSIVE=Nb,Cl.INVALIDATE=dm;var ho=Cl,Cs=ho,Js=tt(24391),hh=tt(46882),Df=tt(74485),Ag=re.createContext(null);function ec(d,p){return d===void 0?null:"".concat(d,"-").concat(p)}function MC(d){var p=re.useContext(Ag);return ec(p,d)}var O_=tt(8805),dh=["children","locked"],Ec=re.createContext(null);function oS(d,p){var m=(0,cl.Z)({},d);return Object.keys(p).forEach(function(w){var I=p[w];I!==void 0&&(m[w]=I)}),m}function Ig(d){var p=d.children,m=d.locked,w=(0,Yo.Z)(d,dh),I=re.useContext(Ec),P=(0,O_.Z)(function(){return oS(I,w)},[I,w],function(N,$){return!m&&(N[0]!==$[0]||!(0,hh.Z)(N[1],$[1],!0))});return re.createElement(Ec.Provider,{value:P},p)}var Hb=[],zb=re.createContext(null);function uv(){return re.useContext(zb)}var vm=re.createContext(Hb);function fd(d){var p=re.useContext(vm);return re.useMemo(function(){return d!==void 0?[].concat((0,Qc.Z)(p),[d]):p},[p,d])}var pp=re.createContext(null),Aa=re.createContext({}),pm=Aa,Wb=tt(5661);function Rg(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if((0,Wb.Z)(d)){var m=d.nodeName.toLowerCase(),w=["input","select","textarea","button"].includes(m)||d.isContentEditable||m==="a"&&!!d.getAttribute("href"),I=d.getAttribute("tabindex"),P=Number(I),N=null;return I&&!Number.isNaN(P)?N=P:w&&N===null&&(N=0),w&&d.disabled&&(N=null),N!==null&&(N>=0||p&&N<0)}return!1}function gm(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=(0,Qc.Z)(d.querySelectorAll("*")).filter(function(w){return Rg(w,p)});return Rg(d,p)&&m.unshift(d),m}var Lf=null;function mm(){Lf=document.activeElement}function lS(){Lf=null}function Gb(){if(Lf)try{Lf.focus()}catch(d){}}function pu(d,p){if(p.keyCode===9){var m=gm(d),w=m[p.shiftKey?0:m.length-1],I=w===document.activeElement||d===document.activeElement;if(I){var P=m[p.shiftKey?m.length-1:0];P.focus(),p.preventDefault()}}}var ia={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(p){var m=p.keyCode;if(p.altKey&&!p.ctrlKey||p.metaKey||m>=ia.F1&&m<=ia.F12)return!1;switch(m){case ia.ALT:case ia.CAPS_LOCK:case ia.CONTEXT_MENU:case ia.CTRL:case ia.DOWN:case ia.END:case ia.ESC:case ia.HOME:case ia.INSERT:case ia.LEFT:case ia.MAC_FF_META:case ia.META:case ia.NUMLOCK:case ia.NUM_CENTER:case ia.PAGE_DOWN:case ia.PAGE_UP:case ia.PAUSE:case ia.PRINT_SCREEN:case ia.RIGHT:case ia.SHIFT:case ia.UP:case ia.WIN_KEY:case ia.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(p){if(p>=ia.ZERO&&p<=ia.NINE||p>=ia.NUM_ZERO&&p<=ia.NUM_MULTIPLY||p>=ia.A&&p<=ia.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&p===0)return!0;switch(p){case ia.SPACE:case ia.QUESTION_MARK:case ia.NUM_PLUS:case ia.NUM_MINUS:case ia.NUM_PERIOD:case ia.NUM_DIVISION:case ia.SEMICOLON:case ia.DASH:case ia.EQUALS:case ia.COMMA:case ia.PERIOD:case ia.SLASH:case ia.APOSTROPHE:case ia.SINGLE_QUOTE:case ia.OPEN_SQUARE_BRACKET:case ia.BACKSLASH:case ia.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},gu=ia,TC=gu.LEFT,Jc=gu.RIGHT,$b=gu.UP,mu=gu.DOWN,hd=gu.ENTER,sS=gu.ESC,dd=gu.HOME,Dg=gu.END,Lg=[$b,mu,TC,Jc];function OC(d,p,m,w){var I,P="prev",N="next",$="children",V="parent";if(d==="inline"&&w===hd)return{inlineTrigger:!0};var J=(0,Qa.Z)((0,Qa.Z)({},$b,P),mu,N),se=(0,Qa.Z)((0,Qa.Z)((0,Qa.Z)((0,Qa.Z)({},TC,m?N:P),Jc,m?P:N),mu,$),hd,$),Te=(0,Qa.Z)((0,Qa.Z)((0,Qa.Z)((0,Qa.Z)((0,Qa.Z)((0,Qa.Z)({},$b,P),mu,N),hd,$),sS,V),TC,m?$:V),Jc,m?V:$),Se={inline:J,horizontal:se,vertical:Te,inlineSub:J,horizontalSub:Te,verticalSub:Te},et=(I=Se["".concat(d).concat(p?"":"Sub")])===null||I===void 0?void 0:I[w];switch(et){case P:return{offset:-1,sibling:!0};case N:return{offset:1,sibling:!0};case V:return{offset:-1,sibling:!1};case $:return{offset:1,sibling:!1};default:return null}}function uS(d){for(var p=d;p;){if(p.getAttribute("data-menu-list"))return p;p=p.parentElement}return null}function A_(d,p){for(var m=d||document.activeElement;m;){if(p.has(m))return m;m=m.parentElement}return null}function gp(d,p){var m=gm(d,!0);return m.filter(function(w){return p.has(w)})}function Ub(d,p,m){var w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!d)return null;var I=gp(d,p),P=I.length,N=I.findIndex(function($){return m===$});return w<0?N===-1?N=P-1:N-=1:w>0&&(N+=1),N=(N+P)%P,I[N]}var AC=function(p,m){var w=new Set,I=new Map,P=new Map;return p.forEach(function(N){var $=document.querySelector("[data-menu-id='".concat(ec(m,N),"']"));$&&(w.add($),P.set($,N),I.set(N,$))}),{elements:w,key2element:I,element2key:P}};function I_(d,p,m,w,I,P,N,$,V,J){var se=re.useRef(),Te=re.useRef();Te.current=p;var Se=function(){Fo.Z.cancel(se.current)};return re.useEffect(function(){return function(){Se()}},[]),function(et){var ft=et.which;if([].concat(Lg,[hd,sS,dd,Dg]).includes(ft)){var Ue=P(),Ne=AC(Ue,w),Ct=Ne,Ot=Ct.elements,mt=Ct.key2element,Wt=Ct.element2key,Xe=mt.get(p),_t=A_(Xe,Ot),vt=Wt.get(_t),Rt=OC(d,N(vt,!0).length===1,m,ft);if(!Rt&&ft!==dd&&ft!==Dg)return;(Lg.includes(ft)||[dd,Dg].includes(ft))&&et.preventDefault();var Kt=function(je){if(je){var dt=je,Jt=je.querySelector("a");Jt!=null&&Jt.getAttribute("href")&&(dt=Jt);var pr=Wt.get(je);$(pr),Se(),se.current=(0,Fo.Z)(function(){Te.current===pr&&dt.focus()})}};if([dd,Dg].includes(ft)||Rt.sibling||!_t){var fr;!_t||d==="inline"?fr=I.current:fr=uS(_t);var kr,ln=gp(fr,Ot);ft===dd?kr=ln[0]:ft===Dg?kr=ln[ln.length-1]:kr=Ub(fr,Ot,_t,Rt.offset),Kt(kr)}else if(Rt.inlineTrigger)V(vt);else if(Rt.offset>0)V(vt,!0),Se(),se.current=(0,Fo.Z)(function(){Ne=AC(Ue,w);var it=_t.getAttribute("aria-controls"),je=document.getElementById(it),dt=Ub(je,Ne.elements);Kt(dt)},5);else if(Rt.offset<0){var nn=N(vt,!0),Jr=nn[nn.length-2],hn=mt.get(Jr);V(Jr,!1),Kt(hn)}}J==null||J(et)}}function R_(d){Promise.resolve().then(d)}var Yb="__RC_UTIL_PATH_SPLIT__",Pg=function(p){return p.join(Yb)},D_=function(p){return p.split(Yb)},vh="rc-menu-more";function IC(){var d=re.useState({}),p=(0,ja.Z)(d,2),m=p[1],w=(0,re.useRef)(new Map),I=(0,re.useRef)(new Map),P=re.useState([]),N=(0,ja.Z)(P,2),$=N[0],V=N[1],J=(0,re.useRef)(0),se=(0,re.useRef)(!1),Te=function(){se.current||m({})},Se=(0,re.useCallback)(function(mt,Wt){var Xe=Pg(Wt);I.current.set(Xe,mt),w.current.set(mt,Xe),J.current+=1;var _t=J.current;R_(function(){_t===J.current&&Te()})},[]),et=(0,re.useCallback)(function(mt,Wt){var Xe=Pg(Wt);I.current.delete(Xe),w.current.delete(mt)},[]),ft=(0,re.useCallback)(function(mt){V(mt)},[]),Ue=(0,re.useCallback)(function(mt,Wt){var Xe=w.current.get(mt)||"",_t=D_(Xe);return Wt&&$.includes(_t[0])&&_t.unshift(vh),_t},[$]),Ne=(0,re.useCallback)(function(mt,Wt){return mt.filter(function(Xe){return Xe!==void 0}).some(function(Xe){var _t=Ue(Xe,!0);return _t.includes(Wt)})},[Ue]),Ct=function(){var Wt=(0,Qc.Z)(w.current.keys());return $.length&&Wt.push(vh),Wt},Ot=(0,re.useCallback)(function(mt){var Wt="".concat(w.current.get(mt)).concat(Yb),Xe=new Set;return(0,Qc.Z)(I.current.keys()).forEach(function(_t){_t.startsWith(Wt)&&Xe.add(I.current.get(_t))}),Xe},[]);return re.useEffect(function(){return function(){se.current=!0}},[]),{registerPath:Se,unregisterPath:et,refreshOverflowKeys:ft,isSubPathKey:Ne,getKeyPath:Ue,getKeys:Ct,getSubPathKeys:Ot}}function zu(d){var p=re.useRef(d);p.current=d;var m=re.useCallback(function(){for(var w,I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return(w=p.current)===null||w===void 0?void 0:w.call.apply(w,[p].concat(P))},[]);return d?m:void 0}var L_=Math.random().toFixed(5).toString().slice(2),cS=0;function fS(d){var p=(0,Js.Z)(d,{value:d}),m=(0,ja.Z)(p,2),w=m[0],I=m[1];return re.useEffect(function(){cS+=1;var P="".concat(L_,"-").concat(cS);I("rc-menu-uuid-".concat(P))},[]),w}var hS=tt(22951),dS=tt(91976),vS=tt(67591),vd=tt(9689);function ym(d,p){var m=Object.assign({},d);return Array.isArray(p)&&p.forEach(function(w){delete m[w]}),m}var cv=tt(79986);function Da(d,p,m,w){var I=re.useContext(Ec),P=I.activeKey,N=I.onActive,$=I.onInactive,V={active:P===d};return p||(V.onMouseEnter=function(J){m==null||m({key:d,domEvent:J}),N(d)},V.onMouseLeave=function(J){w==null||w({key:d,domEvent:J}),$(d)}),V}function P_(d){var p=re.useContext(Ec),m=p.mode,w=p.rtl,I=p.inlineIndent;if(m!=="inline")return null;var P=d;return w?{paddingRight:P*I}:{paddingLeft:P*I}}function yu(d){var p=d.icon,m=d.props,w=d.children,I;return p===null||p===!1?null:(typeof p=="function"?I=re.createElement(p,(0,cl.Z)({},m)):typeof p!="boolean"&&(I=p),I||w||null)}var RC=["item"];function Cm(d){var p=d.item,m=(0,Yo.Z)(d,RC);return Object.defineProperty(m,"item",{get:function(){return(0,Df.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),p}}),m}var DC=["title","attribute","elementRef"],pS=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],tc=["active"],bm=function(d){(0,vS.Z)(m,d);var p=(0,vd.Z)(m);function m(){return(0,hS.Z)(this,m),p.apply(this,arguments)}return(0,dS.Z)(m,[{key:"render",value:function(){var I=this.props,P=I.title,N=I.attribute,$=I.elementRef,V=(0,Yo.Z)(I,DC),J=ym(V,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,Df.ZP)(!N,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),re.createElement(Cs.Item,(0,Co.Z)({},N,{title:typeof P=="string"?P:void 0},J,{ref:$}))}}]),m}(re.Component),fv=re.forwardRef(function(d,p){var m=d.style,w=d.className,I=d.eventKey,P=d.warnKey,N=d.disabled,$=d.itemIcon,V=d.children,J=d.role,se=d.onMouseEnter,Te=d.onMouseLeave,Se=d.onClick,et=d.onKeyDown,ft=d.onFocus,Ue=(0,Yo.Z)(d,pS),Ne=MC(I),Ct=re.useContext(Ec),Ot=Ct.prefixCls,mt=Ct.onItemClick,Wt=Ct.disabled,Xe=Ct.overflowDisabled,_t=Ct.itemIcon,vt=Ct.selectedKeys,Rt=Ct.onActive,Kt=re.useContext(pm),fr=Kt._internalRenderMenuItem,kr="".concat(Ot,"-item"),ln=re.useRef(),nn=re.useRef(),Jr=Wt||N,hn=(0,cv.x1)(p,nn),it=fd(I),je=function(li){return{key:I,keyPath:(0,Qc.Z)(it).reverse(),item:ln.current,domEvent:li}},dt=$||_t,Jt=Da(I,Jr,se,Te),pr=Jt.active,xr=(0,Yo.Z)(Jt,tc),Nr=vt.includes(I),Wr=P_(it.length),on=function(li){if(!Jr){var La=je(li);Se==null||Se(Cm(La)),mt(La)}},Yn=function(li){if(et==null||et(li),li.which===gu.ENTER){var La=je(li);Se==null||Se(Cm(La)),mt(La)}},sn=function(li){Rt(I),ft==null||ft(li)},bn={};d.role==="option"&&(bn["aria-selected"]=Nr);var Hi=re.createElement(bm,(0,Co.Z)({ref:ln,elementRef:hn,role:J===null?"none":J||"menuitem",tabIndex:N?null:-1,"data-menu-id":Xe&&Ne?null:Ne},ym(Ue,["extra"]),xr,bn,{component:"li","aria-disabled":N,style:(0,cl.Z)((0,cl.Z)({},Wr),m),className:fe()(kr,(0,Qa.Z)((0,Qa.Z)((0,Qa.Z)({},"".concat(kr,"-active"),pr),"".concat(kr,"-selected"),Nr),"".concat(kr,"-disabled"),Jr),w),onClick:on,onKeyDown:Yn,onFocus:sn}),V,re.createElement(yu,{props:(0,cl.Z)((0,cl.Z)({},d),{},{isSelected:Nr}),icon:dt}));return fr&&(Hi=fr(Hi,d,{selected:Nr})),Hi});function gS(d,p){var m=d.eventKey,w=uv(),I=fd(m);return re.useEffect(function(){if(w)return w.registerPath(m,I),function(){w.unregisterPath(m,I)}},[I]),w?null:re.createElement(fv,(0,Co.Z)({},d,{ref:p}))}var bl=re.forwardRef(gS),LC=["className","children"],B_=function(p,m){var w=p.className,I=p.children,P=(0,Yo.Z)(p,LC),N=re.useContext(Ec),$=N.prefixCls,V=N.mode,J=N.rtl;return re.createElement("ul",(0,Co.Z)({className:fe()($,J&&"".concat($,"-rtl"),"".concat($,"-sub"),"".concat($,"-").concat(V==="inline"?"inline":"vertical"),w),role:"menu"},P,{"data-menu-list":!0,ref:m}),I)},jo=re.forwardRef(B_);jo.displayName="SubMenuList";var jb=jo,ao=tt(27406);function ph(d,p){return(0,ao.Z)(d).map(function(m,w){if(re.isValidElement(m)){var I,P,N=m.key,$=(I=(P=m.props)===null||P===void 0?void 0:P.eventKey)!==null&&I!==void 0?I:N,V=$==null;V&&($="tmp_key-".concat([].concat((0,Qc.Z)(p),[w]).join("-")));var J={key:$,eventKey:$};return re.cloneElement(m,J)}return m})}var k_=tt(73328),To={adjustX:1,adjustY:1},mp={topLeft:{points:["bl","tl"],overflow:To},topRight:{points:["br","tr"],overflow:To},bottomLeft:{points:["tl","bl"],overflow:To},bottomRight:{points:["tr","br"],overflow:To},leftTop:{points:["tr","tl"],overflow:To},leftBottom:{points:["br","bl"],overflow:To},rightTop:{points:["tl","tr"],overflow:To},rightBottom:{points:["bl","br"],overflow:To}},Mi={topLeft:{points:["bl","tl"],overflow:To},topRight:{points:["br","tr"],overflow:To},bottomLeft:{points:["tl","bl"],overflow:To},bottomRight:{points:["tr","br"],overflow:To},rightTop:{points:["tr","tl"],overflow:To},rightBottom:{points:["br","bl"],overflow:To},leftTop:{points:["tl","tr"],overflow:To},leftBottom:{points:["bl","br"],overflow:To}},Vb=null;function fl(d,p,m){if(p)return p;if(m)return m[d]||m.other}var wm={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function PC(d){var p=d.prefixCls,m=d.visible,w=d.children,I=d.popup,P=d.popupStyle,N=d.popupClassName,$=d.popupOffset,V=d.disabled,J=d.mode,se=d.onVisibleChange,Te=re.useContext(Ec),Se=Te.getPopupContainer,et=Te.rtl,ft=Te.subMenuOpenDelay,Ue=Te.subMenuCloseDelay,Ne=Te.builtinPlacements,Ct=Te.triggerSubMenuAction,Ot=Te.forceSubMenuRender,mt=Te.rootClassName,Wt=Te.motion,Xe=Te.defaultMotions,_t=re.useState(!1),vt=(0,ja.Z)(_t,2),Rt=vt[0],Kt=vt[1],fr=et?(0,cl.Z)((0,cl.Z)({},Mi),Ne):(0,cl.Z)((0,cl.Z)({},mp),Ne),kr=wm[J],ln=fl(J,Wt,Xe),nn=re.useRef(ln);J!=="inline"&&(nn.current=ln);var Jr=(0,cl.Z)((0,cl.Z)({},nn.current),{},{leavedClassName:"".concat(p,"-hidden"),removeOnLeave:!1,motionAppear:!0}),hn=re.useRef();return re.useEffect(function(){return hn.current=(0,Fo.Z)(function(){Kt(m)}),function(){Fo.Z.cancel(hn.current)}},[m]),re.createElement(k_.Z,{prefixCls:p,popupClassName:fe()("".concat(p,"-popup"),(0,Qa.Z)({},"".concat(p,"-rtl"),et),N,mt),stretch:J==="horizontal"?"minWidth":null,getPopupContainer:Se,builtinPlacements:fr,popupPlacement:kr,popupVisible:Rt,popup:I,popupStyle:P,popupAlign:$&&{offset:$},action:V?[]:[Ct],mouseEnterDelay:ft,mouseLeaveDelay:Ue,onPopupVisibleChange:se,forceRender:Ot,popupMotion:Jr,fresh:!0},w)}var No=tt(26728);function Bg(d){var p=d.id,m=d.open,w=d.keyPath,I=d.children,P="inline",N=re.useContext(Ec),$=N.prefixCls,V=N.forceSubMenuRender,J=N.motion,se=N.defaultMotions,Te=N.mode,Se=re.useRef(!1);Se.current=Te===P;var et=re.useState(!Se.current),ft=(0,ja.Z)(et,2),Ue=ft[0],Ne=ft[1],Ct=Se.current?m:!1;re.useEffect(function(){Se.current&&Ne(!1)},[Te]);var Ot=(0,cl.Z)({},fl(P,J,se));w.length>1&&(Ot.motionAppear=!1);var mt=Ot.onVisibleChanged;return Ot.onVisibleChanged=function(Wt){return!Se.current&&!Wt&&Ne(!0),mt==null?void 0:mt(Wt)},Ue?null:re.createElement(Ig,{mode:P,locked:!Se.current},re.createElement(No.default,(0,Co.Z)({visible:Ct},Ot,{forceRender:V,removeOnLeave:!1,leavedClassName:"".concat($,"-hidden")}),function(Wt){var Xe=Wt.className,_t=Wt.style;return re.createElement(jb,{id:p,className:Xe,style:_t},I)}))}var Yl=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],yp=["active"],Xb=re.forwardRef(function(d,p){var m=d.style,w=d.className,I=d.title,P=d.eventKey,N=d.warnKey,$=d.disabled,V=d.internalPopupClose,J=d.children,se=d.itemIcon,Te=d.expandIcon,Se=d.popupClassName,et=d.popupOffset,ft=d.popupStyle,Ue=d.onClick,Ne=d.onMouseEnter,Ct=d.onMouseLeave,Ot=d.onTitleClick,mt=d.onTitleMouseEnter,Wt=d.onTitleMouseLeave,Xe=(0,Yo.Z)(d,Yl),_t=MC(P),vt=re.useContext(Ec),Rt=vt.prefixCls,Kt=vt.mode,fr=vt.openKeys,kr=vt.disabled,ln=vt.overflowDisabled,nn=vt.activeKey,Jr=vt.selectedKeys,hn=vt.itemIcon,it=vt.expandIcon,je=vt.onItemClick,dt=vt.onOpenChange,Jt=vt.onActive,pr=re.useContext(pm),xr=pr._internalRenderSubMenuItem,Nr=re.useContext(pp),Wr=Nr.isSubPathKey,on=fd(),Yn="".concat(Rt,"-submenu"),sn=kr||$,bn=re.useRef(),Hi=re.useRef(),ua=se!=null?se:hn,li=Te!=null?Te:it,La=fr.includes(P),so=!ln&&La,Ho=Wr(Jr,P),eo=Da(P,sn,mt,Wt),Wa=eo.active,qi=(0,Yo.Z)(eo,yp),pa=re.useState(!1),Qi=(0,ja.Z)(pa,2),Ua=Qi[0],Ao=Qi[1],_l=function(Fl){sn||Ao(Fl)},Ws=function(Fl){_l(!0),Ne==null||Ne({key:P,domEvent:Fl})},Nf=function(Fl){_l(!1),Ct==null||Ct({key:P,domEvent:Fl})},Ah=re.useMemo(function(){return Wa||(Kt!=="inline"?Ua||Wr([nn],P):!1)},[Kt,Wa,nn,Ua,P,Wr]),xs=P_(on.length),El=function(Fl){sn||(Ot==null||Ot({key:P,domEvent:Fl}),Kt==="inline"&&dt(P,!La))},kp=zu(function(Dc){Ue==null||Ue(Cm(Dc)),je(Dc)}),Sv=function(Fl){Kt!=="inline"&&dt(P,Fl)},Hf=function(){Jt(P)},_v=_t&&"".concat(_t,"-popup"),zf=re.createElement("div",(0,Co.Z)({role:"menuitem",style:xs,className:"".concat(Yn,"-title"),tabIndex:sn?null:-1,ref:bn,title:typeof I=="string"?I:null,"data-menu-id":ln&&_t?null:_t,"aria-expanded":so,"aria-haspopup":!0,"aria-controls":_v,"aria-disabled":sn,onClick:El,onFocus:Hf},qi),I,re.createElement(yu,{icon:Kt!=="horizontal"?li:void 0,props:(0,cl.Z)((0,cl.Z)({},d),{},{isOpen:so,isSubMenu:!0})},re.createElement("i",{className:"".concat(Yn,"-arrow")}))),Ih=re.useRef(Kt);if(Kt!=="inline"&&on.length>1?Ih.current="vertical":Ih.current=Kt,!ln){var Rh=Ih.current;zf=re.createElement(PC,{mode:Rh,prefixCls:Yn,visible:!V&&so&&Kt!=="inline",popupClassName:Se,popupOffset:et,popupStyle:ft,popup:re.createElement(Ig,{mode:Rh==="horizontal"?"vertical":Rh},re.createElement(jb,{id:_v,ref:Hi},J)),disabled:sn,onVisibleChange:Sv},zf)}var a0=re.createElement(Cs.Item,(0,Co.Z)({ref:p,role:"none"},Xe,{component:"li",style:m,className:fe()(Yn,"".concat(Yn,"-").concat(Kt),w,(0,Qa.Z)((0,Qa.Z)((0,Qa.Z)((0,Qa.Z)({},"".concat(Yn,"-open"),so),"".concat(Yn,"-active"),Ah),"".concat(Yn,"-selected"),Ho),"".concat(Yn,"-disabled"),sn)),onMouseEnter:Ws,onMouseLeave:Nf}),zf,!ln&&re.createElement(Bg,{id:_v,open:so,keyPath:on},J));return xr&&(a0=xr(a0,d,{selected:Ho,active:Ah,open:so,disabled:sn})),re.createElement(Ig,{onItemClick:kp,mode:Kt==="horizontal"?"vertical":Kt,itemIcon:ua,expandIcon:li},a0)}),F_=re.forwardRef(function(d,p){var m=d.eventKey,w=d.children,I=fd(m),P=ph(w,I),N=uv();re.useEffect(function(){if(N)return N.registerPath(m,I),function(){N.unregisterPath(m,I)}},[I]);var $;return N?$=P:$=re.createElement(Xb,(0,Co.Z)({ref:p},d),P),re.createElement(vm.Provider,{value:I},$)}),Cu=F_,mS=tt(33940);function BC(d){var p=d.className,m=d.style,w=re.useContext(Ec),I=w.prefixCls,P=uv();return P?null:re.createElement("li",{role:"separator",className:fe()("".concat(I,"-item-divider"),p),style:m})}var yS=["className","title","eventKey","children"],xm=re.forwardRef(function(d,p){var m=d.className,w=d.title,I=d.eventKey,P=d.children,N=(0,Yo.Z)(d,yS),$=re.useContext(Ec),V=$.prefixCls,J="".concat(V,"-item-group");return re.createElement("li",(0,Co.Z)({ref:p,role:"presentation"},N,{onClick:function(Te){return Te.stopPropagation()},className:fe()(J,m)}),re.createElement("div",{role:"presentation",className:"".concat(J,"-title"),title:typeof w=="string"?w:void 0},w),re.createElement("ul",{role:"group",className:"".concat(J,"-list")},P))}),FM=re.forwardRef(function(d,p){var m=d.eventKey,w=d.children,I=fd(m),P=ph(w,I),N=uv();return N?P:re.createElement(xm,(0,Co.Z)({ref:p},ym(d,["warnKey"])),P)}),pd=FM,kg=["label","children","key","type","extra"];function Sm(d,p,m){var w=p.item,I=p.group,P=p.submenu,N=p.divider;return(d||[]).map(function($,V){if($&&(0,mS.Z)($)==="object"){var J=$,se=J.label,Te=J.children,Se=J.key,et=J.type,ft=J.extra,Ue=(0,Yo.Z)(J,kg),Ne=Se!=null?Se:"tmp-".concat(V);return Te||et==="group"?et==="group"?re.createElement(I,(0,Co.Z)({key:Ne},Ue,{title:se}),Sm(Te,p,m)):re.createElement(P,(0,Co.Z)({key:Ne},Ue,{title:se}),Sm(Te,p,m)):et==="divider"?re.createElement(N,(0,Co.Z)({key:Ne},Ue)):re.createElement(w,(0,Co.Z)({key:Ne},Ue,{extra:ft}),se,(!!ft||ft===0)&&re.createElement("span",{className:"".concat(m,"-item-extra")},ft))}return null}).filter(function($){return $})}function kC(d,p,m,w,I){var P=d,N=(0,cl.Z)({divider:BC,item:bl,group:pd,submenu:Cu},w);return p&&(P=Sm(p,N,I)),ph(P,m)}var Cp=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],Fg=[],Zb=re.forwardRef(function(d,p){var m,w=d,I=w.prefixCls,P=I===void 0?"rc-menu":I,N=w.rootClassName,$=w.style,V=w.className,J=w.tabIndex,se=J===void 0?0:J,Te=w.items,Se=w.children,et=w.direction,ft=w.id,Ue=w.mode,Ne=Ue===void 0?"vertical":Ue,Ct=w.inlineCollapsed,Ot=w.disabled,mt=w.disabledOverflow,Wt=w.subMenuOpenDelay,Xe=Wt===void 0?.1:Wt,_t=w.subMenuCloseDelay,vt=_t===void 0?.1:_t,Rt=w.forceSubMenuRender,Kt=w.defaultOpenKeys,fr=w.openKeys,kr=w.activeKey,ln=w.defaultActiveFirst,nn=w.selectable,Jr=nn===void 0?!0:nn,hn=w.multiple,it=hn===void 0?!1:hn,je=w.defaultSelectedKeys,dt=w.selectedKeys,Jt=w.onSelect,pr=w.onDeselect,xr=w.inlineIndent,Nr=xr===void 0?24:xr,Wr=w.motion,on=w.defaultMotions,Yn=w.triggerSubMenuAction,sn=Yn===void 0?"hover":Yn,bn=w.builtinPlacements,Hi=w.itemIcon,ua=w.expandIcon,li=w.overflowedIndicator,La=li===void 0?"...":li,so=w.overflowedIndicatorPopupClassName,Ho=w.getPopupContainer,eo=w.onClick,Wa=w.onOpenChange,qi=w.onKeyDown,pa=w.openAnimation,Qi=w.openTransitionName,Ua=w._internalRenderMenuItem,Ao=w._internalRenderSubMenuItem,_l=w._internalComponents,Ws=(0,Yo.Z)(w,Cp),Nf=re.useMemo(function(){return[kC(Se,Te,Fg,_l,P),kC(Se,Te,Fg,{},P)]},[Se,Te,_l]),Ah=(0,ja.Z)(Nf,2),xs=Ah[0],El=Ah[1],kp=re.useState(!1),Sv=(0,ja.Z)(kp,2),Hf=Sv[0],_v=Sv[1],zf=re.useRef(),Ih=fS(ft),Rh=et==="rtl",a0=(0,Js.Z)(Kt,{value:fr,postState:function(Ga){return Ga||Fg}}),Dc=(0,ja.Z)(a0,2),Fl=Dc[0],ax=Dc[1],Ev=function(Ga){var Ml=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Wf(){ax(Ga),Wa==null||Wa(Ga)}Ml?(0,ht.flushSync)(Wf):Wf()},ox=re.useState(Fl),Mv=(0,ja.Z)(ox,2),o0=Mv[0],vi=Mv[1],to=re.useRef(!1),D2=re.useMemo(function(){return(Ne==="inline"||Ne==="vertical")&&Ct?["vertical",Ct]:[Ne,!1]},[Ne,Ct]),nl=(0,ja.Z)(D2,2),Ai=nl[0],Wi=nl[1],po=Ai==="inline",pi=re.useState(Ai),Zi=(0,ja.Z)(pi,2),Sa=Zi[0],Io=Zi[1],fM=re.useState(Wi),MT=(0,ja.Z)(fM,2),$O=MT[0],TT=MT[1];re.useEffect(function(){Io(Ai),TT(Wi),to.current&&(po?ax(o0):Ev(Fg))},[Ai,Wi]);var D1=re.useState(0),hM=(0,ja.Z)(D1,2),L2=hM[0],OT=hM[1],Xl=L2>=xs.length-1||Sa!=="horizontal"||mt;re.useEffect(function(){po&&vi(Fl)},[Fl]),re.useEffect(function(){return to.current=!0,function(){to.current=!1}},[]);var l0=IC(),P2=l0.registerPath,dM=l0.unregisterPath,vM=l0.refreshOverflowKeys,lx=l0.isSubPathKey,UO=l0.getKeyPath,pM=l0.getKeys,B2=l0.getSubPathKeys,sx=re.useMemo(function(){return{registerPath:P2,unregisterPath:dM}},[P2,dM]),YO=re.useMemo(function(){return{isSubPathKey:lx}},[lx]);re.useEffect(function(){vM(Xl?Fg:xs.slice(L2+1).map(function(ts){return ts.key}))},[L2,Xl]);var AT=(0,Js.Z)(kr||ln&&((m=xs[0])===null||m===void 0?void 0:m.key),{value:kr}),Ed=(0,ja.Z)(AT,2),fy=Ed[0],ux=Ed[1],IT=zu(function(ts){ux(ts)}),gM=zu(function(){ux(void 0)});(0,re.useImperativeHandle)(p,function(){return{list:zf.current,focus:function(Ga){var Ml,Wf=pM(),Lc=AC(Wf,Ih),fx=Lc.elements,P1=Lc.key2element,hy=Lc.element2key,wM=gp(zf.current,fx),XO=fy!=null?fy:wM[0]?hy.get(wM[0]):(Ml=xs.find(function(rs){return!rs.props.disabled}))===null||Ml===void 0?void 0:Ml.key,B1=P1.get(XO);if(XO&&B1){var hx;B1==null||(hx=B1.focus)===null||hx===void 0||hx.call(B1,Ga)}}}});var RT=(0,Js.Z)(je||[],{value:dt,postState:function(Ga){return Array.isArray(Ga)?Ga:Ga==null?Fg:[Ga]}}),DT=(0,ja.Z)(RT,2),L1=DT[0],k2=DT[1],jO=function(Ga){if(Jr){var Ml=Ga.key,Wf=L1.includes(Ml),Lc;it?Wf?Lc=L1.filter(function(P1){return P1!==Ml}):Lc=[].concat((0,Qc.Z)(L1),[Ml]):Lc=[Ml],k2(Lc);var fx=(0,cl.Z)((0,cl.Z)({},Ga),{},{selectedKeys:Lc});Wf?pr==null||pr(fx):Jt==null||Jt(fx)}!it&&Fl.length&&Sa!=="inline"&&Ev(Fg)},mM=zu(function(ts){eo==null||eo(Cm(ts)),jO(ts)}),yM=zu(function(ts,Ga){var Ml=Fl.filter(function(Lc){return Lc!==ts});if(Ga)Ml.push(ts);else if(Sa!=="inline"){var Wf=B2(ts);Ml=Ml.filter(function(Lc){return!Wf.has(Lc)})}(0,hh.Z)(Fl,Ml,!0)||Ev(Ml,!0)}),CM=function(Ga,Ml){var Wf=Ml!=null?Ml:!Fl.includes(Ga);yM(Ga,Wf)},LT=I_(Sa,fy,Rh,Ih,zf,pM,UO,ux,CM,qi);re.useEffect(function(){_v(!0)},[]);var VO=re.useMemo(function(){return{_internalRenderMenuItem:Ua,_internalRenderSubMenuItem:Ao}},[Ua,Ao]),PT=Sa!=="horizontal"||mt?xs:xs.map(function(ts,Ga){return re.createElement(Ig,{key:ts.key,overflowDisabled:Ga>L2},ts)}),bM=re.createElement(Cs,(0,Co.Z)({id:ft,ref:zf,prefixCls:"".concat(P,"-overflow"),component:"ul",itemComponent:bl,className:fe()(P,"".concat(P,"-root"),"".concat(P,"-").concat(Sa),V,(0,Qa.Z)((0,Qa.Z)({},"".concat(P,"-inline-collapsed"),$O),"".concat(P,"-rtl"),Rh),N),dir:et,style:$,role:"menu",tabIndex:se,data:PT,renderRawItem:function(Ga){return Ga},renderRawRest:function(Ga){var Ml=Ga.length,Wf=Ml?xs.slice(-Ml):null;return re.createElement(Cu,{eventKey:vh,title:La,disabled:Xl,internalPopupClose:Ml===0,popupClassName:so},Wf)},maxCount:Sa!=="horizontal"||mt?Cs.INVALIDATE:Cs.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Ga){OT(Ga)},onKeyDown:LT},Ws));return re.createElement(pm.Provider,{value:VO},re.createElement(Ag.Provider,{value:Ih},re.createElement(Ig,{prefixCls:P,rootClassName:N,mode:Sa,openKeys:Fl,rtl:Rh,disabled:Ot,motion:Hf?Wr:null,defaultMotions:Hf?on:null,activeKey:fy,onActive:IT,onInactive:gM,selectedKeys:L1,inlineIndent:Nr,subMenuOpenDelay:Xe,subMenuCloseDelay:vt,forceSubMenuRender:Rt,builtinPlacements:bn,triggerSubMenuAction:sn,getPopupContainer:Ho,itemIcon:Hi,expandIcon:ua,onItemClick:mM,onOpenChange:yM},re.createElement(pp.Provider,{value:YO},bM),re.createElement("div",{style:{display:"none"},"aria-hidden":!0},re.createElement(zb.Provider,{value:sx},El)))))}),_m=Zb,Ng=_m;Ng.Item=bl,Ng.SubMenu=Cu,Ng.ItemGroup=pd,Ng.Divider=BC;var Em=Ng,Kb=tt(30808);function FC(d,p){return d.classList?!!p&&d.classList.contains(p):(" "+(d.className.baseVal||d.className)+" ").indexOf(" "+p+" ")!==-1}function qb(d,p){d.classList?d.classList.add(p):FC(d,p)||(typeof d.className=="string"?d.className=d.className+" "+p:d.setAttribute("class",(d.className&&d.className.baseVal||"")+" "+p))}function NC(d,p){return d.replace(new RegExp("(^|\\s)"+p+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function N_(d,p){d.classList?d.classList.remove(p):typeof d.className=="string"?d.className=NC(d.className,p):d.setAttribute("class",NC(d.className&&d.className.baseVal||"",p))}var Qb={disabled:!1},Jb=ie().createContext(null),H_=function(p){return p.scrollTop},hv="unmounted",gh="exited",jl="entering",bu="entered",Mm="exiting",mh=function(d){rg(p,d);function p(w,I){var P;P=d.call(this,w,I)||this;var N=I,$=N&&!N.isMounting?w.enter:w.appear,V;return P.appearStatus=null,w.in?$?(V=gh,P.appearStatus=jl):V=bu:w.unmountOnExit||w.mountOnEnter?V=hv:V=gh,P.state={status:V},P.nextCallback=null,P}p.getDerivedStateFromProps=function(I,P){var N=I.in;return N&&P.status===hv?{status:gh}:null};var m=p.prototype;return m.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},m.componentDidUpdate=function(I){var P=null;if(I!==this.props){var N=this.state.status;this.props.in?N!==jl&&N!==bu&&(P=jl):(N===jl||N===bu)&&(P=Mm)}this.updateStatus(!1,P)},m.componentWillUnmount=function(){this.cancelNextCallback()},m.getTimeouts=function(){var I=this.props.timeout,P,N,$;return P=N=$=I,I!=null&&typeof I!="number"&&(P=I.exit,N=I.enter,$=I.appear!==void 0?I.appear:N),{exit:P,enter:N,appear:$}},m.updateStatus=function(I,P){if(I===void 0&&(I=!1),P!==null)if(this.cancelNextCallback(),P===jl){if(this.props.unmountOnExit||this.props.mountOnEnter){var N=this.props.nodeRef?this.props.nodeRef.current:Ht().findDOMNode(this);N&&H_(N)}this.performEnter(I)}else this.performExit();else this.props.unmountOnExit&&this.state.status===gh&&this.setState({status:hv})},m.performEnter=function(I){var P=this,N=this.props.enter,$=this.context?this.context.isMounting:I,V=this.props.nodeRef?[$]:[Ht().findDOMNode(this),$],J=V[0],se=V[1],Te=this.getTimeouts(),Se=$?Te.appear:Te.enter;if(!I&&!N||Qb.disabled){this.safeSetState({status:bu},function(){P.props.onEntered(J)});return}this.props.onEnter(J,se),this.safeSetState({status:jl},function(){P.props.onEntering(J,se),P.onTransitionEnd(Se,function(){P.safeSetState({status:bu},function(){P.props.onEntered(J,se)})})})},m.performExit=function(){var I=this,P=this.props.exit,N=this.getTimeouts(),$=this.props.nodeRef?void 0:Ht().findDOMNode(this);if(!P||Qb.disabled){this.safeSetState({status:gh},function(){I.props.onExited($)});return}this.props.onExit($),this.safeSetState({status:Mm},function(){I.props.onExiting($),I.onTransitionEnd(N.exit,function(){I.safeSetState({status:gh},function(){I.props.onExited($)})})})},m.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},m.safeSetState=function(I,P){P=this.setNextCallback(P),this.setState(I,P)},m.setNextCallback=function(I){var P=this,N=!0;return this.nextCallback=function($){N&&(N=!1,P.nextCallback=null,I($))},this.nextCallback.cancel=function(){N=!1},this.nextCallback},m.onTransitionEnd=function(I,P){this.setNextCallback(P);var N=this.props.nodeRef?this.props.nodeRef.current:Ht().findDOMNode(this),$=I==null&&!this.props.addEndListener;if(!N||$){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var V=this.props.nodeRef?[this.nextCallback]:[N,this.nextCallback],J=V[0],se=V[1];this.props.addEndListener(J,se)}I!=null&&setTimeout(this.nextCallback,I)},m.render=function(){var I=this.state.status;if(I===hv)return null;var P=this.props,N=P.children,$=P.in,V=P.mountOnEnter,J=P.unmountOnExit,se=P.appear,Te=P.enter,Se=P.exit,et=P.timeout,ft=P.addEndListener,Ue=P.onEnter,Ne=P.onEntering,Ct=P.onEntered,Ot=P.onExit,mt=P.onExiting,Wt=P.onExited,Xe=P.nodeRef,_t=(0,Kb.Z)(P,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ie().createElement(Jb.Provider,{value:null},typeof N=="function"?N(I,_t):ie().cloneElement(ie().Children.only(N),_t))},p}(ie().Component);mh.contextType=Jb,mh.propTypes={};function gd(){}mh.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gd,onEntering:gd,onEntered:gd,onExit:gd,onExiting:gd,onExited:gd},mh.UNMOUNTED=hv,mh.EXITED=gh,mh.ENTERING=jl,mh.ENTERED=bu,mh.EXITING=Mm;var NM=mh,z_=function(p,m){return p&&m&&m.split(" ").forEach(function(w){return qb(p,w)})},ew=function(p,m){return p&&m&&m.split(" ").forEach(function(w){return N_(p,w)})},Hg=function(d){rg(p,d);function p(){for(var w,I=arguments.length,P=new Array(I),N=0;N<I;N++)P[N]=arguments[N];return w=d.call.apply(d,[this].concat(P))||this,w.appliedClasses={appear:{},enter:{},exit:{}},w.onEnter=function($,V){var J=w.resolveArguments($,V),se=J[0],Te=J[1];w.removeClasses(se,"exit"),w.addClass(se,Te?"appear":"enter","base"),w.props.onEnter&&w.props.onEnter($,V)},w.onEntering=function($,V){var J=w.resolveArguments($,V),se=J[0],Te=J[1],Se=Te?"appear":"enter";w.addClass(se,Se,"active"),w.props.onEntering&&w.props.onEntering($,V)},w.onEntered=function($,V){var J=w.resolveArguments($,V),se=J[0],Te=J[1],Se=Te?"appear":"enter";w.removeClasses(se,Se),w.addClass(se,Se,"done"),w.props.onEntered&&w.props.onEntered($,V)},w.onExit=function($){var V=w.resolveArguments($),J=V[0];w.removeClasses(J,"appear"),w.removeClasses(J,"enter"),w.addClass(J,"exit","base"),w.props.onExit&&w.props.onExit($)},w.onExiting=function($){var V=w.resolveArguments($),J=V[0];w.addClass(J,"exit","active"),w.props.onExiting&&w.props.onExiting($)},w.onExited=function($){var V=w.resolveArguments($),J=V[0];w.removeClasses(J,"exit"),w.addClass(J,"exit","done"),w.props.onExited&&w.props.onExited($)},w.resolveArguments=function($,V){return w.props.nodeRef?[w.props.nodeRef.current,$]:[$,V]},w.getClassNames=function($){var V=w.props.classNames,J=typeof V=="string",se=J&&V?V+"-":"",Te=J?""+se+$:V[$],Se=J?Te+"-active":V[$+"Active"],et=J?Te+"-done":V[$+"Done"];return{baseClassName:Te,activeClassName:Se,doneClassName:et}},w}var m=p.prototype;return m.addClass=function(I,P,N){var $=this.getClassNames(P)[N+"ClassName"],V=this.getClassNames("enter"),J=V.doneClassName;P==="appear"&&N==="done"&&J&&($+=" "+J),N==="active"&&I&&H_(I),$&&(this.appliedClasses[P][N]=$,z_(I,$))},m.removeClasses=function(I,P){var N=this.appliedClasses[P],$=N.base,V=N.active,J=N.done;this.appliedClasses[P]={},$&&ew(I,$),V&&ew(I,V),J&&ew(I,J)},m.render=function(){var I=this.props,P=I.classNames,N=(0,Kb.Z)(I,["classNames"]);return ie().createElement(NM,(0,Co.Z)({},N,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},p}(ie().Component);Hg.defaultProps={classNames:""},Hg.propTypes={};var CS=Hg;function zg(d,p){return $_(d)||G_(d,p)||tw(d,p)||W_()}function W_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tw(d,p){if(d){if(typeof d=="string")return bS(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return bS(d,p)}}function bS(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function G_(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function $_(d){if(Array.isArray(d))return d}function wS(d){var p=d.visible,m=d.children,w=d.onEntered,I=w===void 0?function(){}:w,P=ie().useState(!1),N=zg(P,2),$=N[0],V=N[1];return ie().useLayoutEffect(function(){V(p)},[p]),ie().createElement(CS,{in:$,timeout:300,classNames:"appear-transition",onEntered:I},m)}var U_=tt(6659),Y_=tt.n(U_),dv=new(Y_());function bp(d){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},bp(d)}function rw(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function HC(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?rw(Object(m),!0).forEach(function(w){xS(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):rw(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function xS(d,p,m){return p=nw(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function nw(d){var p=SS(d,"string");return bp(p)=="symbol"?p:String(p)}function SS(d,p){if(bp(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(bp(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function _S(d,p){return Om(d)||wp(d,p)||Tm(d,p)||zC()}function zC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tm(d,p){if(d){if(typeof d=="string")return WC(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return WC(d,p)}}function WC(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function wp(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function Om(d){if(Array.isArray(d))return d}var ES=function(p){var m,w,I,P=p.resolver,N=p.params,$=rr(),V=$.spreadsheet,J=$.logger,se=$.commandManager,Te=re.useState(!1),Se=_S(Te,2),et=Se[0],ft=Se[1],Ue=re.useRef(),Ne=re.useRef();re.useEffect(function(){var vt=function(Kt){var fr;Ne!=null&&(fr=Ne.current)!==null&&fr!==void 0&&fr.contains(Kt.target)||et&&P(!1)};return window.addEventListener("mousemove",vt),function(){window.removeEventListener("mousemove",vt)}},[P,et]),re.useEffect(function(){var vt=function(Kt){Math.abs(N.x+8-Kt.clientX)<10&&Math.abs(N.y+8-Kt.clientY)<10&&_t(Kt.clientX,Kt.clientY)};return window.addEventListener("click",vt),function(){return window.removeEventListener("click",vt)}},[]);var Ct=re.useMemo(function(){var vt,Rt=V==null||(vt=V.theme)===null||vt===void 0||(vt=vt.background)===null||vt===void 0?void 0:vt.color;return Rt===oa},[V==null||(m=V.theme)===null||m===void 0||(m=m.background)===null||m===void 0?void 0:m.color]),Ot=ku(N.x,N.y,94,133),mt=rm(N.fieldName,V==null||(w=V.dataCfg)===null||w===void 0?void 0:w.sortParams),Wt=function(Rt){xc({sort:Rt===mt?"NONE":Rt,spreadsheet:V,fieldName:N.fieldName,logger:J,commandManager:se})},Xe=V==null||(I=V.dataCfg)===null||I===void 0||(I=I.types)===null||I===void 0?void 0:I[N.fieldName],_t=function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N.x,Kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N.y;P(!1);var fr=HC(HC({},N),{},{x:Rt,y:Kt});qr(Am.get(yh.SortPopover),fr,V)};return re.createElement(wS,{visible:!0,onEntered:function(){ft(!0)}},re.createElement("div",{className:fe()("column-menu-container","col-menu-modal-container"),ref:Ne,style:Ot,onMouseDown:function(Rt){return Rt.stopPropagation()}},re.createElement(Em,{getPopupContainer:function(Rt){return Ne.current},ref:Ue,className:fe()("menu",{light:Ct}),onSelect:function(Rt){[ye.Xzc.ASC,ye.Xzc.DESC].includes(Rt.key)?Wt(Rt.key):(J&&J(Gr.setType),dv.emit("typeChange",{fieldName:N.fieldName,type:Rt.key})),P(!1)}},re.createElement(bl,{key:ye.Xzc.ASC},re.createElement("div",{className:"sort"},re.createElement(Re,{type:"one-icon dataphin-icon icon-riqi1"}),"\u5347\u5E8F",mt===ye.Xzc.ASC?re.createElement(Re,{className:"icon",type:"one-icon icon-duihao anticon-dpicon"}):null)),re.createElement(bl,{key:ye.Xzc.DESC},re.createElement("div",{className:"sort"},re.createElement(Re,{type:"one-icon dataphin-icon icon-riqi"}),"\u964D\u5E8F",mt===ye.Xzc.DESC?re.createElement(Re,{className:"icon",type:"one-icon icon-duihao anticon-dpicon"}):null)),re.createElement(bl,{key:"filter"},re.createElement("div",{onClick:function(Rt){_t(Rt.clientX,Rt.clientY)}},re.createElement(Re,{type:"one-icon icon-shaixuan3"}),"\u7B5B\u9009")),re.createElement(Cu,{getPopupContainer:function(Rt){return Ne.current},popupClassName:fe()("menu",{light:Ct}),popupOffset:[0,0],rootClassName:"menu",key:"col",title:re.createElement("div",{className:"colSubmenu"},re.createElement(Re,{type:"one-icon icon-site-special anticon-dpicon"}),"\u5217\u8BBE\u7F6E")},re.createElement(bl,{key:Ti.Number},re.createElement("div",{className:"subMenuItem"},"\u6570\u503C",Xe===Ti.Number?re.createElement(Re,{type:"one-icon icon-duihao anticon-dpicon"}):null)),re.createElement(bl,{key:Ti.String},re.createElement("div",{className:"subMenuItem"},"\u5B57\u7B26\u4E32",Xe===Ti.String?re.createElement(Re,{type:"one-icon icon-duihao anticon-dpicon"}):null)),re.createElement(bl,{key:Ti.Date},re.createElement("div",{className:"subMenuItem"},"\u65E5\u671F",Xe===Ti.Date?re.createElement(Re,{type:"one-icon icon-duihao anticon-dpicon"}):null))))))},Mc=ES,yh=function(d){return d.SortPopover="SortPopover",d.ColumnMenu="ColumnMenu",d.EditInput="EditInput",d}(yh||{}),Am=new Map,GC=function(p,m){Am.set(p,m)};GC(yh.SortPopover,Lb),GC(yh.ColumnMenu,Mc);var MS=tt(16532);function xp(d){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},xp(d)}function TS(d){return X_(d)||V_(d)||AS(d)||j_()}function j_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function X_(d){if(Array.isArray(d))return iw(d)}function Z_(d,p){return q_(d)||K_(d,p)||AS(d,p)||OS()}function OS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AS(d,p){if(d){if(typeof d=="string")return iw(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return iw(d,p)}}function iw(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function K_(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function q_(d){if(Array.isArray(d))return d}function HM(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function aw(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,Im(w.key),w)}}function zM(d,p,m){return p&&aw(d.prototype,p),m&&aw(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function IS(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function vv(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?IS(Object(m),!0).forEach(function(w){$C(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):IS(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function $C(d,p,m){return p=Im(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function Im(d){var p=ow(d,"string");return xp(p)=="symbol"?p:String(p)}function ow(d,p){if(xp(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(xp(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}var lw=Symbol("PlaceHolderRowSymbol"),UC=function(p){return p+1},RS=function(p,m){var w,I,P=[],N=[],$={pre:{},next:{}};if(p&&(w=Object.keys(p))!==null&&w!==void 0&&w.length)for(var V in p)P.push({key:p[V]});if(m&&(I=Object.keys(m))!==null&&I!==void 0&&I.length)for(var J in m)N.push({key:m[J]});for(var se=Math.max(P.length,N.length),Te=0;Te<se;Te++){var Se="".concat(UC(Te));P.length&&P.length-1>=Te?N[Te]!==void 0?isEqual(P[Te],N[Te])||($.pre[Se]=!0,$.next[Se]=!0):$.pre[Se]=!0:$.next[Se]=!0}return p&&lw in p&&($.pre={}),m&&lw in m&&($.next={}),$},WM=function(p,m){if(!(!(p!=null&&p.length)&&!(m!=null&&m.length))){for(var w=Math.max(p.length,m.length),I=0;I<w;I++){var P=p[I],N=m[I];if(!isEqual(P,N)){var $=RS(P,N);$!=null&&$.pre&&Object.keys($==null?void 0:$.pre).length&&(p[I]=vv(vv({},P),$==null?void 0:$.pre)),$!=null&&$.next&&Object.keys($==null?void 0:$.next).length&&(m[I]=vv(vv({},N),$==null?void 0:$.next))}}return{prevData:p,nextData:m}}},GM=function(p,m){return p>=0&&p<m.length},$M=null;function DS(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function wu(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?DS(Object(m),!0).forEach(function(w){UM(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):DS(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function UM(d,p,m){return p=Wg(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function pv(d){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},pv(d)}function sw(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function uw(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,Wg(w.key),w)}}function cw(d,p,m){return p&&uw(d.prototype,p),m&&uw(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function Wg(d){var p=YC(d,"string");return pv(p)=="symbol"?p:String(p)}function YC(d,p){if(pv(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(pv(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function Pf(){return typeof Reflect!="undefined"&&Reflect.get?Pf=Reflect.get.bind():Pf=function(p,m,w){var I=LS(p,m);if(I){var P=Object.getOwnPropertyDescriptor(I,m);return P.get?P.get.call(arguments.length<3?p:w):P.value}},Pf.apply(this,arguments)}function LS(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=ef(d),d!==null););return d}function fw(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&Rm(d,p)}function Rm(d,p){return Rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},Rm(d,p)}function Gg(d){var p=J_();return function(){var w=ef(d),I;if(p){var P=ef(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return Q_(this,I)}}function Q_(d,p){if(p&&(pv(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YM(d)}function YM(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function J_(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function ef(d){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},ef(d)}var Tc=function(p){var m;return(m=p==null?void 0:p.position)!==null&&m!==void 0?m:"right"};(0,ye.q5g)("filterIcon",dn),(0,ye.q5g)("sortUp",kn),(0,ye.q5g)("sortDown",wr),(0,ye.q5g)("maskIcon",ei),(0,ye.q5g)("newMaskIcon",yi),(0,ye.q5g)("newMaskTowIcon",Ln),(0,ye.q5g)("refresh",fa);var Sp={none:"filterIcon",asc:"sortUp",desc:"sortDown",mask:"maskIcon",newMask:"newMaskIcon",refresh:"refresh",newMaskTowIcon:"newMaskTowIcon"},hw=function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(p.getMeta().showIconInColumnCell)return!1;var w=p.getMeta();return w.rowIndex===0&&w.colIndex>0&&m},jC=26,PS=74,$g=4,VC=26,Ug=16,Dm=4,eE=4,tE=jC+$g-Dm,XC=PS+$g-Dm,BS="#effbe5",rE="#ffefe5",kS=function(d){fw(m,d);var p=Gg(m);function m(w,I){var P;return sw(this,m),P=p.call(this,w,I),P.isRowHeader=!1,P.isMaskCol=!1,P}return cw(m,[{key:"initCell",value:function(){var I;this.isRowHeader=hw(this,this.spreadsheet.dataCfg.sortable||!1),this.isRowHeader&&(this.isMaskCol=Qr.test(this.getFormattedFieldValue().formattedValue)),Pf(ef(m.prototype),"initCell",this).call(this),!this.meta.showIconInColumnCell&&this.drawActionIcon(),(I=this.spreadsheet.dataCfg)!==null&&I!==void 0&&I.compareType&&this.drawCompareColor(),this.meta.useDiagnosis&&this.getDiagniosis();var P=this.spreadsheet.dataCfg.data[this.meta.rowIndex];P&&lw in P&&this.drawPlaceholder()}},{key:"showTooltip",value:function(I){var P=I.clientX,N=I.clientY;this.spreadsheet.tooltip.show({content:"\u5F53\u524D\u5B57\u6BB5\u5206\u533A\u7684\u6570\u636E\u672A\u4EA7\u51FA",position:{x:P,y:N}})}},{key:"getFormattedFieldValue",value:function(){var I=this,P=Pf(ef(m.prototype),"getFormattedFieldValue",this).call(this);return od.forEach(function(N){N.condition(I,I.spreadsheet)&&(P.formattedValue=N.parse(I,I.spreadsheet))}),P}},{key:"compareToolTip",value:function(I){var P,N=this,$=I.clientX,V=I.clientY,J=this.meta,se=J.colIndex,Te=J.rowIndex,Se=this.spreadsheet.dataCfg;(Se==null?void 0:Se.showCompareDetail)!==!1&&(P=Se.data)!==null&&P!==void 0&&(P=P[Te])!==null&&P!==void 0&&P[se]&&(this.spreadsheet.tooltip.show({content:"\u53CC\u51FB\u4EE5\u67E5\u770B\u8BE6\u7EC6\u6BD4\u5BF9\u5185\u5BB9",position:{x:$,y:V}}),this.on("mouseout",function(et){N.spreadsheet.tooltip.hide()}))}},{key:"clearCompareToolTip",value:function(I){var P=I.clientX,N=I.clientY;this.spreadsheet.tooltip.hide()}},{key:"drawTextShape",value:function(){var I=this.meta,P=I.valueField,N=I.rowIndex,$=I.spreadsheet,V=$.dataCfg,J=(0,oe.get)(V,"data.".concat(N,".").concat(P,"diffPosition")),se=Array.isArray(J)&&(0,oe.size)(J)>0;se&&this.drawDiffTextShape(),Pf(ef(m.prototype),"drawTextShape",this).call(this)}},{key:"drawDiffTextShape",value:function(){var I=this,P=this.meta,N=P.valueField,$=P.rowIndex,V=P.spreadsheet,J=this.spreadsheet.dataCfg.compareType==="src"?"#ff9c6e80":"#95de6480",se=this.getFormattedFieldValue(),Te=se.formattedValue,Se=Pf(ef(m.prototype),"getMaxTextWidth",this).call(this),et=this.getTextStyle(),ft=this.spreadsheet,Ue=ft.options.placeholder,Ne=ft.measureTextWidth,Ct=(0,ye.o3g)(this,Ue),Ot=(0,ye.Lov)({measureTextWidth:Ne,text:Te,maxWidth:Se,fontParam:et,placeholder:Ct}),mt=this.getTextPosition(),Wt=(0,oe.endsWith)(Ot,ye.SBE),Xe=new as(V,$,N,Wt?Ot.replace(ye.SBE,""):Ot).caculate(),_t=Yf({isEllips:Wt,diffResult:Xe,textStyle:et,ellips:ye.SBE});_t.forEach(function(vt,Rt){if(pv(vt)==="object"){var Kt={width:Ne(vt.value,et),textAlign:et.textAlign,height:10,fill:J,x:Os({textMap:_t,index:Rt,x:mt.x,measureTextWidth:Ne,textStyle:et}),y:mt.y-5};(0,ye.gO9)(I,Kt)}})}},{key:"getCellArea",value:function(){var I=this.meta,P=I.x,N=I.y,$=I.height,V=I.width,J=this.spreadsheet.dataCfg.summaryRowCfg;if(J&&J.visible&&!this.meta.showIconInColumnCell&&this.meta.rowIndex===J.rowIndex){var se=Ja,Te=(this.spreadsheet.options.style.rowCfg.heightByField||{})[String(this.meta.rowIndex)];return Te&&(se=Te-J.height),{x:P,y:N,height:se,width:V}}return{x:P,y:N,height:$,width:V}}},{key:"getTextStyle",value:function(){var I=Pf(ef(m.prototype),"getTextStyle",this).call(this),P=this.spreadsheet.dataCfg.types,N=this.meta.valueField;return P[N]===Ti.Number&&(I.textAlign="right"),I}},{key:"getStyle",value:function(){var I,P=Pf(ef(m.prototype),"getStyle",this).call(this),N=this.meta,$=N.colIndex,V=N.rowIndex,J=N.fieldValue,se=N.valueField,Te=N.x,Se=N.y,et=N.newDesensitize,ft=this.spreadsheet.dataCfg;if((I=ft.data)!==null&&I!==void 0&&(I=I[V])!==null&&I!==void 0&&I[$]){var Ue,Ne=(Ue=this.spreadsheet.theme)===null||Ue===void 0?void 0:Ue.compareTable,Ct;if((ft==null?void 0:ft.compareType)==="src"){var Ot;Ct=(Ne==null||(Ot=Ne.sourceTable)===null||Ot===void 0?void 0:Ot.background)||rE}else{var mt;Ct=(Ne==null||(mt=Ne.targetTable)===null||mt===void 0?void 0:mt.background)||BS}return wu(wu({},P),{},{cell:wu(wu({},P.cell),{},{backgroundColor:Ct,crossBackgroundColor:Ct})})}return this.isRowHeader&&this.isMaskCol?wu(wu({},P),{},{cell:wu(wu({},P.cell),{},{padding:wu(wu({},P.cell.padding),{},{left:et?XC+P.cell.padding.left:tE+P.cell.padding.left})})}):P}},{key:"getIconStyle",value:function(){var I,P,N=(I=this.theme)===null||I===void 0||(I=I.dataCell)===null||I===void 0?void 0:I.icon,$=N.size,V=N.margin,J=this.findFieldCondition((P=this.conditions)===null||P===void 0?void 0:P.icon),se={size:$,margin:V,position:Tc(J)};if(J||this.isRowHeader)return se}},{key:"isInproduced",value:function(){var I=this.getCustomMeta();return!!(I!=null&&I.inproduced)}},{key:"getCustomMeta",value:function(){var I=this.meta;return(0,oe.find)(I.spreadsheet.dataCfg.meta,{field:I.field||I.value||I.valueField})}},{key:"drawBackgroundShape",value:function(){var I,P=this,N=this.getBackgroundColor(),$=N.backgroundColor,V=N.backgroundColorOpacity,J=$,se=(I=this.getCustomMeta())===null||I===void 0?void 0:I.conditionalFormatters;se&&Array.isArray(se)?J=se.reduce(function(Te,Se){return Se(P.meta.fieldValue)||Te},J):this.isRowHeader&&this.isInproduced()&&(J="#3b273f"),this.backgroundShape=(0,ye.gO9)(this,wu(wu({},this.getCellArea()),{},{fill:J,fillOpacity:V}))}},{key:"drawActionIcon",value:function(){var I=this,P=this.getCellArea(),N=P.x,$=this.getContentArea(),V=$.x,J=$.width;if(this.isRowHeader){var se,Te,Se,et,ft,Ue,Ne,Ct,Ot,mt,Wt=rm(this.meta.valueField,this.spreadsheet.dataCfg.sortParams),Xe=dC(this.meta.valueField,this.spreadsheet.dataCfg.filterParams),_t=Xe.filteredValues.length||Xe.customFilter,vt=this.spreadsheet.theme.filterIcon,Rt={fill:(vt==null?void 0:vt.color)||"white",name:Sp[Wt.toLowerCase()]},Kt=this.getIconPosition(),fr=this.getCellArea(),kr=(se=this.theme)===null||se===void 0||(se=se.dataCell)===null||se===void 0?void 0:se.icon,ln=kr.size,nn=ln===void 0?0:ln,Jr=kr.margin,hn={x:V+J-((Te=Jr==null?void 0:Jr.right)!==null&&Te!==void 0?Te:0)-nn+eE,y:Kt.y},it=_t?((Se=this.spreadsheet.theme.filterIcon)===null||Se===void 0?void 0:Se.activeBackground)||((et=this.spreadsheet.theme.background)===null||et===void 0?void 0:et.color)||"#fff":((ft=this.spreadsheet.theme.filterIcon)===null||ft===void 0?void 0:ft.background)||((Ue=this.spreadsheet.theme.background)===null||Ue===void 0?void 0:Ue.color)||"#fff",je=(0,ye.gO9)(this,wu(wu({},hn),{},{width:nn,height:nn,lineWidth:2,lineJoin:"round",fill:_t?((Ne=this.spreadsheet.theme.filterIcon)===null||Ne===void 0?void 0:Ne.activeBackground)||((Ct=this.spreadsheet.theme.background)===null||Ct===void 0?void 0:Ct.color)||"#fff":((Ot=this.spreadsheet.theme.filterIcon)===null||Ot===void 0?void 0:Ot.background)||((mt=this.spreadsheet.theme.background)===null||mt===void 0?void 0:mt.color)||"#fff"})),dt=(0,ye.hYO)(this,wu({x:hn.x+3,y:hn.y+3,width:nn-6,height:nn-6},Rt));if(this.isMaskCol){var Jt=fr.height<Ug,pr=this.meta.desensitizeRefresh?Sp.newMaskTowIcon:Sp.newMask;if(this.meta.newDesensitize){var xr=(0,ye.hYO)(this,{x:N+$g,y:Jt?fr.y:fr.y+(fr.height-Ug)/2,width:XC,height:Jt?fr.height:Ug,name:pr,cursor:"pointer"});if(this.meta.desensitizeRefresh){var Nr=Jt?fr.height:Ug,Wr=Jt?fr.y:fr.y+(fr.height-Ug)/2,on=(0,ye.hYO)(this,{x:N+XC-12,y:Wr+2,width:10,height:Nr-4,name:Sp.refresh,cursor:"pointer"});on.on("click",function(bn){I.spreadsheet.emit(Ol.CLICK_DESENSITIZED_FIELD,wu(wu({},I),{},{hasRefresh:!0}))})}xr.on("click",function(bn){I.spreadsheet.emit(Ol.CLICK_DESENSITIZED_FIELD,I)})}else{var Yn=(0,ye.hYO)(this,{x:N+$g,y:Jt?fr.y:fr.y+2,width:jC,height:Jt?fr.height:VC,name:Sp.mask,cursor:"pointer"});Yn.on("click",function(bn){I.spreadsheet.emit(Ol.CLICK_DESENSITIZED_FIELD,I)})}}this.conditionIconShape=dt;var sn=function(Hi,ua){var li;if((Hi==null||(li=Hi.fromShape)===null||li===void 0||(li=li.attrs)===null||li===void 0?void 0:li.name)!=="filterIcon"){je.attr({fill:I.spreadsheet.theme.filterIcon.hoverBackground||it});var La={x:Hi.clientX-8,y:Hi.clientY-8,fieldName:I.meta.valueField,type:ua};ua==="filter"?qr(Am.get(yh.SortPopover),La,I.spreadsheet):qr(Am.get(yh.ColumnMenu),La,I.spreadsheet,ua!=null?ua:"columnMenu",{onCleanUp:function(){return je&&je.attr({fill:it})}})}};dt.on("click",function(bn){sn(bn,"filter")}),je.on("mouseover",sn),je.on("click",function(bn){sn(bn,"filter")})}}},{key:"drawCompareColor",value:function(){var I,P=this.meta,N=P.colIndex,$=P.rowIndex,V=P.x,J=P.y,se=P.height,Te=P.width,Se=this.spreadsheet.dataCfg;if((I=Se.data)!==null&&I!==void 0&&(I=I[$])!==null&&I!==void 0&&I[N]){this.backgroundShape.on("mousemove",this.compareToolTip.bind(this));return}this.backgroundShape.on("mousemove",this.clearCompareToolTip.bind(this))}},{key:"getDiagniosis",value:function(){var I=this,P=this.meta,N=P.rowIndex,$=P.width,V=P.x,J=(0,oe.get)(this.spreadsheet.getColumnNodes(),"0.width",35),se=[V,V+$],Te=document.getElementById("diagniosis_row_head_".concat(N));this.on("mouseover",(0,oe.throttle)(function(Se){var et,ft;!Te&&N!==0&&qr(Pn,{width:J,height:(et=I.backgroundShape.attr())===null||et===void 0?void 0:et.height,x:0,y:(ft=I.backgroundShape.attr())===null||ft===void 0?void 0:ft.y,rowIndex:N,renderedXBoundary:se},I.spreadsheet)},10))}},{key:"getPloyLinePoint",value:function(){for(var I=this.getCellArea(),P=I.x,N=I.y,$=I.height,V=I.width,J=$/3,se=2*J,Te=(String(V/J).includes(".")?(0,oe.round)(V/J)+1:V/J)+2,Se=[],et=0;et<Te;et++)switch(et){case 0:Se.push([P,N+se]);break;case 2:Se.push([P,N+J],[P,N]);break;case Te-2:Se.push([P+V,N+se],[P+V-se,N]);break;case Te-1:Se.push([P+V-J,N],[P+V,N+J]);break;default:if(et%2===0){var ft=P+J*(et-3),Ue=P+J*(et-2);Se.push([ft,N],[Ue,N])}else{var Ne=P+J*et,Ct=P+J*(et+1),Ot=Ct>P+V?P+V:Ct;Se.push([Ne,N+$],[Ot,N+$])}break}return Se}},{key:"drawPlaceholder",value:function(){(0,ye.JVc)(this,{points:this.getPloyLinePoint(),stroke:this.spreadsheet.theme.cornerCell.cell.verticalBorderColor,strokeOpacity:.7})}}]),m}(ye.esq),dw=kS;function Yg(d){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Yg(d)}function vw(){"use strict";vw=function(){return p};var d,p={},m=Object.prototype,w=m.hasOwnProperty,I=Object.defineProperty||function(it,je,dt){it[je]=dt.value},P=typeof Symbol=="function"?Symbol:{},N=P.iterator||"@@iterator",$=P.asyncIterator||"@@asyncIterator",V=P.toStringTag||"@@toStringTag";function J(it,je,dt){return Object.defineProperty(it,je,{value:dt,enumerable:!0,configurable:!0,writable:!0}),it[je]}try{J({},"")}catch(it){J=function(dt,Jt,pr){return dt[Jt]=pr}}function se(it,je,dt,Jt){var pr=je&&je.prototype instanceof Ct?je:Ct,xr=Object.create(pr.prototype),Nr=new Jr(Jt||[]);return I(xr,"_invoke",{value:fr(it,dt,Nr)}),xr}function Te(it,je,dt){try{return{type:"normal",arg:it.call(je,dt)}}catch(Jt){return{type:"throw",arg:Jt}}}p.wrap=se;var Se="suspendedStart",et="suspendedYield",ft="executing",Ue="completed",Ne={};function Ct(){}function Ot(){}function mt(){}var Wt={};J(Wt,N,function(){return this});var Xe=Object.getPrototypeOf,_t=Xe&&Xe(Xe(hn([])));_t&&_t!==m&&w.call(_t,N)&&(Wt=_t);var vt=mt.prototype=Ct.prototype=Object.create(Wt);function Rt(it){["next","throw","return"].forEach(function(je){J(it,je,function(dt){return this._invoke(je,dt)})})}function Kt(it,je){function dt(pr,xr,Nr,Wr){var on=Te(it[pr],it,xr);if(on.type!=="throw"){var Yn=on.arg,sn=Yn.value;return sn&&Yg(sn)=="object"&&w.call(sn,"__await")?je.resolve(sn.__await).then(function(bn){dt("next",bn,Nr,Wr)},function(bn){dt("throw",bn,Nr,Wr)}):je.resolve(sn).then(function(bn){Yn.value=bn,Nr(Yn)},function(bn){return dt("throw",bn,Nr,Wr)})}Wr(on.arg)}var Jt;I(this,"_invoke",{value:function(xr,Nr){function Wr(){return new je(function(on,Yn){dt(xr,Nr,on,Yn)})}return Jt=Jt?Jt.then(Wr,Wr):Wr()}})}function fr(it,je,dt){var Jt=Se;return function(pr,xr){if(Jt===ft)throw new Error("Generator is already running");if(Jt===Ue){if(pr==="throw")throw xr;return{value:d,done:!0}}for(dt.method=pr,dt.arg=xr;;){var Nr=dt.delegate;if(Nr){var Wr=kr(Nr,dt);if(Wr){if(Wr===Ne)continue;return Wr}}if(dt.method==="next")dt.sent=dt._sent=dt.arg;else if(dt.method==="throw"){if(Jt===Se)throw Jt=Ue,dt.arg;dt.dispatchException(dt.arg)}else dt.method==="return"&&dt.abrupt("return",dt.arg);Jt=ft;var on=Te(it,je,dt);if(on.type==="normal"){if(Jt=dt.done?Ue:et,on.arg===Ne)continue;return{value:on.arg,done:dt.done}}on.type==="throw"&&(Jt=Ue,dt.method="throw",dt.arg=on.arg)}}}function kr(it,je){var dt=je.method,Jt=it.iterator[dt];if(Jt===d)return je.delegate=null,dt==="throw"&&it.iterator.return&&(je.method="return",je.arg=d,kr(it,je),je.method==="throw")||dt!=="return"&&(je.method="throw",je.arg=new TypeError("The iterator does not provide a '"+dt+"' method")),Ne;var pr=Te(Jt,it.iterator,je.arg);if(pr.type==="throw")return je.method="throw",je.arg=pr.arg,je.delegate=null,Ne;var xr=pr.arg;return xr?xr.done?(je[it.resultName]=xr.value,je.next=it.nextLoc,je.method!=="return"&&(je.method="next",je.arg=d),je.delegate=null,Ne):xr:(je.method="throw",je.arg=new TypeError("iterator result is not an object"),je.delegate=null,Ne)}function ln(it){var je={tryLoc:it[0]};1 in it&&(je.catchLoc=it[1]),2 in it&&(je.finallyLoc=it[2],je.afterLoc=it[3]),this.tryEntries.push(je)}function nn(it){var je=it.completion||{};je.type="normal",delete je.arg,it.completion=je}function Jr(it){this.tryEntries=[{tryLoc:"root"}],it.forEach(ln,this),this.reset(!0)}function hn(it){if(it||it===""){var je=it[N];if(je)return je.call(it);if(typeof it.next=="function")return it;if(!isNaN(it.length)){var dt=-1,Jt=function pr(){for(;++dt<it.length;)if(w.call(it,dt))return pr.value=it[dt],pr.done=!1,pr;return pr.value=d,pr.done=!0,pr};return Jt.next=Jt}}throw new TypeError(Yg(it)+" is not iterable")}return Ot.prototype=mt,I(vt,"constructor",{value:mt,configurable:!0}),I(mt,"constructor",{value:Ot,configurable:!0}),Ot.displayName=J(mt,V,"GeneratorFunction"),p.isGeneratorFunction=function(it){var je=typeof it=="function"&&it.constructor;return!!je&&(je===Ot||(je.displayName||je.name)==="GeneratorFunction")},p.mark=function(it){return Object.setPrototypeOf?Object.setPrototypeOf(it,mt):(it.__proto__=mt,J(it,V,"GeneratorFunction")),it.prototype=Object.create(vt),it},p.awrap=function(it){return{__await:it}},Rt(Kt.prototype),J(Kt.prototype,$,function(){return this}),p.AsyncIterator=Kt,p.async=function(it,je,dt,Jt,pr){pr===void 0&&(pr=Promise);var xr=new Kt(se(it,je,dt,Jt),pr);return p.isGeneratorFunction(je)?xr:xr.next().then(function(Nr){return Nr.done?Nr.value:xr.next()})},Rt(vt),J(vt,V,"Generator"),J(vt,N,function(){return this}),J(vt,"toString",function(){return"[object Generator]"}),p.keys=function(it){var je=Object(it),dt=[];for(var Jt in je)dt.push(Jt);return dt.reverse(),function pr(){for(;dt.length;){var xr=dt.pop();if(xr in je)return pr.value=xr,pr.done=!1,pr}return pr.done=!0,pr}},p.values=hn,Jr.prototype={constructor:Jr,reset:function(je){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(nn),!je)for(var dt in this)dt.charAt(0)==="t"&&w.call(this,dt)&&!isNaN(+dt.slice(1))&&(this[dt]=d)},stop:function(){this.done=!0;var je=this.tryEntries[0].completion;if(je.type==="throw")throw je.arg;return this.rval},dispatchException:function(je){if(this.done)throw je;var dt=this;function Jt(Yn,sn){return Nr.type="throw",Nr.arg=je,dt.next=Yn,sn&&(dt.method="next",dt.arg=d),!!sn}for(var pr=this.tryEntries.length-1;pr>=0;--pr){var xr=this.tryEntries[pr],Nr=xr.completion;if(xr.tryLoc==="root")return Jt("end");if(xr.tryLoc<=this.prev){var Wr=w.call(xr,"catchLoc"),on=w.call(xr,"finallyLoc");if(Wr&&on){if(this.prev<xr.catchLoc)return Jt(xr.catchLoc,!0);if(this.prev<xr.finallyLoc)return Jt(xr.finallyLoc)}else if(Wr){if(this.prev<xr.catchLoc)return Jt(xr.catchLoc,!0)}else{if(!on)throw new Error("try statement without catch or finally");if(this.prev<xr.finallyLoc)return Jt(xr.finallyLoc)}}}},abrupt:function(je,dt){for(var Jt=this.tryEntries.length-1;Jt>=0;--Jt){var pr=this.tryEntries[Jt];if(pr.tryLoc<=this.prev&&w.call(pr,"finallyLoc")&&this.prev<pr.finallyLoc){var xr=pr;break}}xr&&(je==="break"||je==="continue")&&xr.tryLoc<=dt&&dt<=xr.finallyLoc&&(xr=null);var Nr=xr?xr.completion:{};return Nr.type=je,Nr.arg=dt,xr?(this.method="next",this.next=xr.finallyLoc,Ne):this.complete(Nr)},complete:function(je,dt){if(je.type==="throw")throw je.arg;return je.type==="break"||je.type==="continue"?this.next=je.arg:je.type==="return"?(this.rval=this.arg=je.arg,this.method="return",this.next="end"):je.type==="normal"&&dt&&(this.next=dt),Ne},finish:function(je){for(var dt=this.tryEntries.length-1;dt>=0;--dt){var Jt=this.tryEntries[dt];if(Jt.finallyLoc===je)return this.complete(Jt.completion,Jt.afterLoc),nn(Jt),Ne}},catch:function(je){for(var dt=this.tryEntries.length-1;dt>=0;--dt){var Jt=this.tryEntries[dt];if(Jt.tryLoc===je){var pr=Jt.completion;if(pr.type==="throw"){var xr=pr.arg;nn(Jt)}return xr}}throw new Error("illegal catch attempt")},delegateYield:function(je,dt,Jt){return this.delegate={iterator:hn(je),resultName:dt,nextLoc:Jt},this.method==="next"&&(this.arg=d),Ne}},p}function gv(d,p,m,w,I,P,N){try{var $=d[P](N),V=$.value}catch(J){m(J);return}$.done?p(V):Promise.resolve(V).then(w,I)}function jM(d){return function(){var p=this,m=arguments;return new Promise(function(w,I){var P=d.apply(p,m);function N(V){gv(P,w,I,N,$,"next",V)}function $(V){gv(P,w,I,N,$,"throw",V)}N(void 0)})}}var nE=function(p){return/^\s*$/.test(p)},VM=function(p){var m=useSpreadSheet(),w=m.spreadsheet,I=m.commandManager,P=m.logger,N=p.disablePaste,$=p.disableModifyColumns,V=$===void 0?[]:$;return useEffect(function(){var J=function(){var se=jM(vw().mark(function Te(Se){var et,ft,Ue,Ne,Ct,Ot,mt,Wt,Xe,_t,vt,Rt,Kt,fr,kr;return vw().wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:et=!0;try{ft=w.interaction.getInteractedCells().filter(function(Jr){return Jr.cellType===CellTypes.DATA_CELL})[0].getMeta(),Ue=document.activeElement,ft&&et&&(Ue==null?void 0:Ue.tagName)==="BODY"&&(Ne=ft.rowIndex,Ct=ft.colIndex,Ot=w.dataSet.originData,mt=Se.clipboardData,Wt=[],mt.types.includes("text/html")?(_t=new DOMParser().parseFromString(mt.getData("text/html"),"text/html"),vt=Array.from(_t.querySelectorAll("table tr")),vt.length===0?Wt=[[((Xe=_t.querySelectorAll("span")[0])===null||Xe===void 0?void 0:Xe.textContent)||""]]:Wt=vt.map(function(Jr){return Array.from(Jr.children).map(function(hn){var it=hn.textContent||"";return nE(it)?"":it.trimEnd()})})):mt.types.includes("text/plain")&&(mt.getData("text/plain").includes(`
`)?Wt=mt.getData("text/plain").split(`
`).map(function(Jr){return Jr.split("	")}):Wt=[[mt.getData("text/plain")]]),Wt.length===1&&Wt[0].length===1?(Rt=(Wt[0][0]||"").replace(/^\"|\"$/g,""),Kt=w.interaction.getInteractedCells().filter(function(Jr){return Jr instanceof DataCell}).map(function(Jr){var hn=new EditCellMeta,it=Jr.getMeta(),je=it.rowIndex,dt=it.valueField,Jt=getDisplayRowMappedIndex(je,w);return hn.oldValue=Ot[je][dt],hn.newValue=Rt,hn.rowIndex=Jt,hn.valueField=dt,hn}).filter(Boolean).filter(function(Jr){return!V.includes(Jr.valueField)}).map(function(Jr){return{id:CommandId.EDITCELL,params:Jr}}),I.commit(Kt)):(fr=w.dataCfg.fields.columns,kr=flatten(Wt.map(function(Jr,hn){var it=getDisplayRowMappedIndex(Ne+hn,w);if(it===-1){var je={};return fr.slice(Ct-1,Jr.length).forEach(function(dt,Jt){je[dt]=Jr[Jt]}),{id:CommandId.ADDROW,params:{count:1,index:w.dataSet.originData.length,presetData:je}}}else return Jr.map(function(dt,Jt){var pr=(dt||"").replace(/^\"|\"$/g,""),xr=Ct+Jt-1;if(xr<=fr.length){var Nr=fr[xr],Wr=new EditCellMeta;return Wr.oldValue=Ot[Ne][Nr],Wr.newValue=pr,Wr.rowIndex=it,Wr.valueField=Nr,Wr}}).filter(Boolean).filter(function(dt){return!V.includes(dt.valueField)}).map(function(dt){return{id:CommandId.EDITCELL,params:dt}})}).reverse()),I.commit(kr)),w.emit(CustomS2Event.PASTE_SUCCESS,Se,w.dataSet.originData),P(S2tableLogKey.pasteFromClipboard))}catch(Jr){console.info(Jr)}case 2:case"end":return nn.stop()}},Te)}));return function(Se){return se.apply(this,arguments)}}();return N||window.addEventListener("paste",J),function(){window.removeEventListener("paste",J)}},[N,V]),null};function FS(d,p){return md(d)||jg(d,p)||NS(d,p)||XM()}function XM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NS(d,p){if(d){if(typeof d=="string")return HS(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return HS(d,p)}}function HS(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function jg(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function md(d){if(Array.isArray(d))return d}var Ch=function(d){return d.TOP="top",d.BOTTOM="bottom",d}(Ch||{}),ZM=function(){var p,m=useSpreadSheet(),w=m.spreadsheet,I=React.useState(),P=FS(I,2),N=P[0],$=P[1],V=React.useRef(),J=debounce(function(Se){var et=w.facet.panelBBox.originalHeight,ft=w.facet.panelBBox.viewportHeight,Ue=et-ft;if(Ue<100){N&&$(null);return}var Ne=Se.scrollY;if(V.current!==Ne){var Ct=Ue/2;Ne>=Ct?$(Ch.TOP):$(Ch.BOTTOM),V.current=Ne}},300);useS2EventHandler(S2Event.GLOBAL_SCROLL,J);var se=React.useMemo(function(){return N===Ch.TOP?i18n("backTop"):i18n("backBottom")},[N]),Te=React.useCallback(function(){if(N===Ch.TOP)scrollToCell(0,0,w);else{var Se,et=(w==null||(Se=w.dataSet)===null||Se===void 0?void 0:Se.originData)||[];scrollToCell(et.length-1,1,w)}},[N,w==null||(p=w.dataSet)===null||p===void 0?void 0:p.originData]);return N?React.createElement(React.Fragment,null,React.createElement(Tooltip,{title:se,placement:"left"},React.createElement("div",{className:"back-top-icon","data-scroll":N===Ch.TOP,onClick:Te},React.createElement(AliIcon,{type:"anticon anticon-dpicon one-icon icon-zhiding"})))):null},iE=function(){var p=useSpreadSheet(),m=p.spreadsheet,w=p.commandManager;return React.useEffect(function(){var I=function(N){try{var $=N.keyCode||N.which,V=m.interaction.getInteractedCells().filter(function(se){return se.cellType===CellTypes.DATA_CELL}),J=document.activeElement;$===8&&V!==null&&V!==void 0&&V.length&&(J==null?void 0:J.tagName)==="BODY"&&(N.preventDefault(),N.stopPropagation(),deleteContent(m,w))}catch(se){console.info(se)}};return window.addEventListener("keydown",I),function(){window.removeEventListener("keydown",I)}},[]),null},Vg=function(p){var m=p.nodeList,w=m===void 0?[]:m,I=p.left,P=p.top,N=p.onDragStart,$=p.onDragEnd,V=p.onDragOver,J=p.onDragEnter,se=p.onDrop;return React.createElement("div",{className:"weave-column-drag-container"},React.createElement("div",{className:"weave-column-drag-container-list",style:{left:"-".concat(I||0,"px"),top:"".concat(P||0,"px")}},w==null?void 0:w.map(function(Te){return React.createElement("div",{style:{width:"".concat(Te.width,"px"),height:"".concat(Te.height,"px"),userSelect:"none"},"data-cell":Te.id,draggable:!0,onDragStart:N,onDragEnd:$,onDragOver:V,onDragEnter:J,onDrop:se})})))},bh=null;function Lm(d){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Lm(d)}function zS(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function rc(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?zS(Object(m),!0).forEach(function(w){pw(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):zS(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function pw(d,p,m){return p=WS(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function WS(d){var p=aE(d,"string");return Lm(p)=="symbol"?p:String(p)}function aE(d,p){if(Lm(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Lm(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function nc(d,p){return oE(d)||$S(d,p)||GS(d,p)||Pm()}function Pm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GS(d,p){if(d){if(typeof d=="string")return ZC(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return ZC(d,p)}}function ZC(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function $S(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function oE(d){if(Array.isArray(d))return d}var yd,Bm={left:0,top:0},lE=function(){var p=useSpreadSheet(),m=p.spreadsheet,w=React.useState(),I=nc(w,2),P=I[0],N=I[1],$=React.useState(Bm),V=nc($,2),J=V[0],se=V[1],Te=React.useState([]),Se=nc(Te,2),et=Se[0],ft=Se[1],Ue=React.useCallback(function(vt){m.interaction.changeState({stateName:InteractionStateName.SELECTED,cells:[{colIndex:vt.colIndex,rowIndex:vt.rowIndex,id:vt.id,type:CellTypes.COL_CELL}]})},[m]),Ne=React.useCallback(function(vt){var Rt,Kt=vt.getMeta();Ue(Kt),ft(((Rt=Kt.parent)===null||Rt===void 0?void 0:Rt.children)||[]),N(Kt)},[]),Ct=React.useCallback(function(vt){var Rt=m.getCell(vt.target);yd=setTimeout(function(){var Kt=m.facet.getScrollOffset();se(function(fr){return rc(rc({},fr),{},{left:Kt.scrollX})}),Ne(Rt)},300)},[m]),Ot=React.useCallback(function(){clearTimeout(yd),ft([]),N(null)},[yd]),mt=React.useCallback(function(vt){vt.preventDefault()},[]),Wt=React.useCallback(function(){clearTimeout(yd),ft([]),N(null)},[yd]),Xe=React.useCallback(function(vt){var Rt,Kt=(Rt=vt.target)===null||Rt===void 0?void 0:Rt.getAttribute("data-cell"),fr=et.find(function(kr){return kr.id===Kt});fr&&fr.id!==P.id&&(Ue(fr),m.emit(CustomS2Event.COLCELL_DRAGEND,fr,P))},[P,m]),_t=React.useCallback(function(vt){var Rt,Kt=(Rt=vt.target)===null||Rt===void 0?void 0:Rt.getAttribute("data-cell"),fr=et.find(function(kr){return kr.id===Kt});fr&&Ue(fr)},[et]);return useS2EventHandler(S2Event.COL_CELL_MOUSE_DOWN,Ct),useS2EventHandler(S2Event.GLOBAL_MOUSE_UP,Ot),P?React.createElement(ColumnModal,{nodeList:et,left:J==null?void 0:J.left,top:J==null?void 0:J.top,onDragEnd:Wt,onDragOver:mt,onDragEnter:_t,onDrop:Xe}):null};function Cd(d){return km(d)||sE(d)||KC(d)||gw()}function gw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KC(d,p){if(d){if(typeof d=="string")return mw(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return mw(d,p)}}function sE(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function km(d){if(Array.isArray(d))return mw(d)}function mw(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function Fm(){return Fm=Object.assign?Object.assign.bind():function(d){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(d[w]=m[w])}return d},Fm.apply(this,arguments)}var Nm=function(d){return d.BEFORE_TABLE="BEFORE_TABLE",d.AFTER_TABLE="AFTER_TABLE",d}({}),Hm={childContribution:[],wrapperContribution:[]};function US(d,p){var m=function(I){return ie().forwardRef(function(P,N){return ie().createElement(I,Fm({},P,{ref:N,scopedPlugins:p.childContribution}))})};return p&&p.wrapperContribution.push(m),(p||Hm).wrapperContribution.reduce(function(w,I){return I(w)},d)}var YS=function(p){if(p.childContribution){var m;(m=Hm.childContribution).push.apply(m,Cd([].concat(p.childContribution)))}if(p.wrapperContribution){var w;(w=Hm.wrapperContribution).push.apply(w,Cd([].concat(p.wrapperContribution)))}},jS=function(p){return US(US(KE),p)},yw=null,Wu=tt(15934),zm=function(d){return d.spin="spin",d.loading="loading",d.none="none",d}({}),uE=function(p,m){var w="open".concat(Date.now()),I=ie().createElement(Zt.Button,{type:"primary",size:"small",onClick:function(){p(),Zt.notification.close(w)}},"\u91CD\u8BD5");Zt.notification.error({message:"\u91CD\u8BD5\u5931\u8D25",btn:I,duration:null,key:w,onClose:m})},qC=function d(p){return new Promise(function(m,w){p().then(m).catch(function(I){uE(function(){return d(p).then(m,w)},function(){w(I)})})})},cE=function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zm.loading,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,I=ie().lazy(function(){return qC(p)});return function(P){return ie().createElement(re.Suspense,{fallback:w?ie().createElement("div",{className:fe()("dynamic-import-loading",m)},ie().createElement(Zt.Spin,null)):null},ie().createElement(I,P))}},Wm=cE,fE=function(){var d=function(p,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,I){w.__proto__=I}||function(w,I){for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(w[P]=I[P])},d(p,m)};return function(p,m){d(p,m);function w(){this.constructor=p}p.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}}(),rl=function(){return rl=Object.assign||function(d){for(var p,m=1,w=arguments.length;m<w;m++){p=arguments[m];for(var I in p)Object.prototype.hasOwnProperty.call(p,I)&&(d[I]=p[I])}return d},rl.apply(this,arguments)},Cw={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Xg={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Gm={width:"20px",height:"20px",position:"absolute"},bw={top:rl(rl({},Cw),{top:"-5px"}),right:rl(rl({},Xg),{left:void 0,right:"-5px"}),bottom:rl(rl({},Cw),{top:void 0,bottom:"-5px"}),left:rl(rl({},Xg),{left:"-5px"}),topRight:rl(rl({},Gm),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:rl(rl({},Gm),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:rl(rl({},Gm),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:rl(rl({},Gm),{left:"-10px",top:"-10px",cursor:"nw-resize"})},$m=function(d){fE(p,d);function p(){var m=d!==null&&d.apply(this,arguments)||this;return m.onMouseDown=function(w){m.props.onResizeStart(w,m.props.direction)},m.onTouchStart=function(w){m.props.onResizeStart(w,m.props.direction)},m}return p.prototype.render=function(){return re.createElement("div",{className:this.props.className||"",style:rl(rl({position:"absolute",userSelect:"none"},bw[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},p}(re.PureComponent),ww=function(){var d=function(p,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,I){w.__proto__=I}||function(w,I){for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(w[P]=I[P])},d(p,m)};return function(p,m){d(p,m);function w(){this.constructor=p}p.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}}(),Bf=function(){return Bf=Object.assign||function(d){for(var p,m=1,w=arguments.length;m<w;m++){p=arguments[m];for(var I in p)Object.prototype.hasOwnProperty.call(p,I)&&(d[I]=p[I])}return d},Bf.apply(this,arguments)},VS={width:"auto",height:"auto"},mv=function(d,p,m){return Math.max(Math.min(d,m),p)},xw=function(d,p,m){var w=Math.round(d/p);return w*p+m*(w-1)},_p=function(d,p){return new RegExp(d,"i").test(p)},Gu=function(d){return!!(d.touches&&d.touches.length)},wh=function(d){return!!((d.clientX||d.clientX===0)&&(d.clientY||d.clientY===0))},Sw=function(d,p,m){m===void 0&&(m=0);var w=p.reduce(function(P,N,$){return Math.abs(N-d)<Math.abs(p[P]-d)?$:P},0),I=Math.abs(p[w]-d);return m===0||I<m?p[w]:d},_w=function(d){return d=d.toString(),d==="auto"||d.endsWith("px")||d.endsWith("%")||d.endsWith("vh")||d.endsWith("vw")||d.endsWith("vmax")||d.endsWith("vmin")?d:d+"px"},QC=function(d,p,m,w){if(d&&typeof d=="string"){if(d.endsWith("px"))return Number(d.replace("px",""));if(d.endsWith("%")){var I=Number(d.replace("%",""))/100;return p*I}if(d.endsWith("vw")){var I=Number(d.replace("vw",""))/100;return m*I}if(d.endsWith("vh")){var I=Number(d.replace("vh",""))/100;return w*I}}return d},Ew=function(d,p,m,w,I,P,N){return w=QC(w,d.width,p,m),I=QC(I,d.height,p,m),P=QC(P,d.width,p,m),N=QC(N,d.height,p,m),{maxWidth:typeof w=="undefined"?void 0:Number(w),maxHeight:typeof I=="undefined"?void 0:Number(I),minWidth:typeof P=="undefined"?void 0:Number(P),minHeight:typeof N=="undefined"?void 0:Number(N)}},JC=function(d){return Array.isArray(d)?d:[d,d]},Mw=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],XS="__resizable_base__",Tw=function(d){ww(p,d);function p(m){var w,I,P,N,$=d.call(this,m)||this;return $.ratio=1,$.resizable=null,$.parentLeft=0,$.parentTop=0,$.resizableLeft=0,$.resizableRight=0,$.resizableTop=0,$.resizableBottom=0,$.targetLeft=0,$.targetTop=0,$.appendBase=function(){if(!$.resizable||!$.window)return null;var V=$.parentNode;if(!V)return null;var J=$.window.document.createElement("div");return J.style.width="100%",J.style.height="100%",J.style.position="absolute",J.style.transform="scale(0, 0)",J.style.left="0",J.style.flex="0 0 100%",J.classList?J.classList.add(XS):J.className+=XS,V.appendChild(J),J},$.removeBase=function(V){var J=$.parentNode;J&&J.removeChild(V)},$.state={isResizing:!1,width:(I=(w=$.propsSize)===null||w===void 0?void 0:w.width)!==null&&I!==void 0?I:"auto",height:(N=(P=$.propsSize)===null||P===void 0?void 0:P.height)!==null&&N!==void 0?N:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},$.onResizeStart=$.onResizeStart.bind($),$.onMouseMove=$.onMouseMove.bind($),$.onMouseUp=$.onMouseUp.bind($),$}return Object.defineProperty(p.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||VS},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"size",{get:function(){var m=0,w=0;if(this.resizable&&this.window){var I=this.resizable.offsetWidth,P=this.resizable.offsetHeight,N=this.resizable.style.position;N!=="relative"&&(this.resizable.style.position="relative"),m=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:I,w=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:P,this.resizable.style.position=N}return{width:m,height:w}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"sizeStyle",{get:function(){var m=this,w=this.props.size,I=function($){var V;if(typeof m.state[$]=="undefined"||m.state[$]==="auto")return"auto";if(m.propsSize&&m.propsSize[$]&&(!((V=m.propsSize[$])===null||V===void 0)&&V.toString().endsWith("%"))){if(m.state[$].toString().endsWith("%"))return m.state[$].toString();var J=m.getParentSize(),se=Number(m.state[$].toString().replace("px","")),Te=se/J[$]*100;return Te+"%"}return _w(m.state[$])},P=w&&typeof w.width!="undefined"&&!this.state.isResizing?_w(w.width):I("width"),N=w&&typeof w.height!="undefined"&&!this.state.isResizing?_w(w.height):I("height");return{width:P,height:N}},enumerable:!1,configurable:!0}),p.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var m=this.appendBase();if(!m)return{width:0,height:0};var w=!1,I=this.parentNode.style.flexWrap;I!=="wrap"&&(w=!0,this.parentNode.style.flexWrap="wrap"),m.style.position="relative",m.style.minWidth="100%",m.style.minHeight="100%";var P={width:m.offsetWidth,height:m.offsetHeight};return w&&(this.parentNode.style.flexWrap=I),this.removeBase(m),P},p.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},p.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},p.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var m=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:m.flexBasis!=="auto"?m.flexBasis:void 0})}},p.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},p.prototype.createSizeForCssProperty=function(m,w){var I=this.propsSize&&this.propsSize[w];return this.state[w]==="auto"&&this.state.original[w]===m&&(typeof I=="undefined"||I==="auto")?"auto":m},p.prototype.calculateNewMaxFromBoundary=function(m,w){var I=this.props.boundsByDirection,P=this.state.direction,N=I&&_p("left",P),$=I&&_p("top",P),V,J;if(this.props.bounds==="parent"){var se=this.parentNode;se&&(V=N?this.resizableRight-this.parentLeft:se.offsetWidth+(this.parentLeft-this.resizableLeft),J=$?this.resizableBottom-this.parentTop:se.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(V=N?this.resizableRight:this.window.innerWidth-this.resizableLeft,J=$?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(V=N?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),J=$?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return V&&Number.isFinite(V)&&(m=m&&m<V?m:V),J&&Number.isFinite(J)&&(w=w&&w<J?w:J),{maxWidth:m,maxHeight:w}},p.prototype.calculateNewSizeFromDirection=function(m,w){var I=this.props.scale||1,P=JC(this.props.resizeRatio||1),N=P[0],$=P[1],V=this.state,J=V.direction,se=V.original,Te=this.props,Se=Te.lockAspectRatio,et=Te.lockAspectRatioExtraHeight,ft=Te.lockAspectRatioExtraWidth,Ue=se.width,Ne=se.height,Ct=et||0,Ot=ft||0;return _p("right",J)&&(Ue=se.width+(m-se.x)*N/I,Se&&(Ne=(Ue-Ot)/this.ratio+Ct)),_p("left",J)&&(Ue=se.width-(m-se.x)*N/I,Se&&(Ne=(Ue-Ot)/this.ratio+Ct)),_p("bottom",J)&&(Ne=se.height+(w-se.y)*$/I,Se&&(Ue=(Ne-Ct)*this.ratio+Ot)),_p("top",J)&&(Ne=se.height-(w-se.y)*$/I,Se&&(Ue=(Ne-Ct)*this.ratio+Ot)),{newWidth:Ue,newHeight:Ne}},p.prototype.calculateNewSizeFromAspectRatio=function(m,w,I,P){var N=this.props,$=N.lockAspectRatio,V=N.lockAspectRatioExtraHeight,J=N.lockAspectRatioExtraWidth,se=typeof P.width=="undefined"?10:P.width,Te=typeof I.width=="undefined"||I.width<0?m:I.width,Se=typeof P.height=="undefined"?10:P.height,et=typeof I.height=="undefined"||I.height<0?w:I.height,ft=V||0,Ue=J||0;if($){var Ne=(Se-ft)*this.ratio+Ue,Ct=(et-ft)*this.ratio+Ue,Ot=(se-Ue)/this.ratio+ft,mt=(Te-Ue)/this.ratio+ft,Wt=Math.max(se,Ne),Xe=Math.min(Te,Ct),_t=Math.max(Se,Ot),vt=Math.min(et,mt);m=mv(m,Wt,Xe),w=mv(w,_t,vt)}else m=mv(m,se,Te),w=mv(w,Se,et);return{newWidth:m,newHeight:w}},p.prototype.setBoundingClientRect=function(){var m=1/(this.props.scale||1);if(this.props.bounds==="parent"){var w=this.parentNode;if(w){var I=w.getBoundingClientRect();this.parentLeft=I.left*m,this.parentTop=I.top*m}}if(this.props.bounds&&typeof this.props.bounds!="string"){var P=this.props.bounds.getBoundingClientRect();this.targetLeft=P.left*m,this.targetTop=P.top*m}if(this.resizable){var N=this.resizable.getBoundingClientRect(),$=N.left,V=N.top,J=N.right,se=N.bottom;this.resizableLeft=$*m,this.resizableRight=J*m,this.resizableTop=V*m,this.resizableBottom=se*m}},p.prototype.onResizeStart=function(m,w){if(!(!this.resizable||!this.window)){var I=0,P=0;if(m.nativeEvent&&wh(m.nativeEvent)?(I=m.nativeEvent.clientX,P=m.nativeEvent.clientY):m.nativeEvent&&Gu(m.nativeEvent)&&(I=m.nativeEvent.touches[0].clientX,P=m.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var N=this.props.onResizeStart(m,w,this.resizable);if(N===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var $,V=this.window.getComputedStyle(this.resizable);if(V.flexBasis!=="auto"){var J=this.parentNode;if(J){var se=this.window.getComputedStyle(J).flexDirection;this.flexDir=se.startsWith("row")?"row":"column",$=V.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var Te={original:{x:I,y:P,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Bf(Bf({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(m.target).cursor||"auto"}),direction:w,flexBasis:$};this.setState(Te)}},p.prototype.onMouseMove=function(m){var w=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&Gu(m))try{m.preventDefault(),m.stopPropagation()}catch(xr){}var I=this.props,P=I.maxWidth,N=I.maxHeight,$=I.minWidth,V=I.minHeight,J=Gu(m)?m.touches[0].clientX:m.clientX,se=Gu(m)?m.touches[0].clientY:m.clientY,Te=this.state,Se=Te.direction,et=Te.original,ft=Te.width,Ue=Te.height,Ne=this.getParentSize(),Ct=Ew(Ne,this.window.innerWidth,this.window.innerHeight,P,N,$,V);P=Ct.maxWidth,N=Ct.maxHeight,$=Ct.minWidth,V=Ct.minHeight;var Ot=this.calculateNewSizeFromDirection(J,se),mt=Ot.newHeight,Wt=Ot.newWidth,Xe=this.calculateNewMaxFromBoundary(P,N);this.props.snap&&this.props.snap.x&&(Wt=Sw(Wt,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(mt=Sw(mt,this.props.snap.y,this.props.snapGap));var _t=this.calculateNewSizeFromAspectRatio(Wt,mt,{width:Xe.maxWidth,height:Xe.maxHeight},{width:$,height:V});if(Wt=_t.newWidth,mt=_t.newHeight,this.props.grid){var vt=xw(Wt,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),Rt=xw(mt,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),Kt=this.props.snapGap||0,fr=Kt===0||Math.abs(vt-Wt)<=Kt?vt:Wt,kr=Kt===0||Math.abs(Rt-mt)<=Kt?Rt:mt;Wt=fr,mt=kr}var ln={width:Wt-et.width,height:mt-et.height};if(ft&&typeof ft=="string"){if(ft.endsWith("%")){var nn=Wt/Ne.width*100;Wt=nn+"%"}else if(ft.endsWith("vw")){var Jr=Wt/this.window.innerWidth*100;Wt=Jr+"vw"}else if(ft.endsWith("vh")){var hn=Wt/this.window.innerHeight*100;Wt=hn+"vh"}}if(Ue&&typeof Ue=="string"){if(Ue.endsWith("%")){var nn=mt/Ne.height*100;mt=nn+"%"}else if(Ue.endsWith("vw")){var Jr=mt/this.window.innerWidth*100;mt=Jr+"vw"}else if(Ue.endsWith("vh")){var hn=mt/this.window.innerHeight*100;mt=hn+"vh"}}var it={width:this.createSizeForCssProperty(Wt,"width"),height:this.createSizeForCssProperty(mt,"height")};this.flexDir==="row"?it.flexBasis=it.width:this.flexDir==="column"&&(it.flexBasis=it.height);var je=this.state.width!==it.width,dt=this.state.height!==it.height,Jt=this.state.flexBasis!==it.flexBasis,pr=je||dt||Jt;pr&&(0,ht.flushSync)(function(){w.setState(it)}),this.props.onResize&&pr&&this.props.onResize(m,Se,this.resizable,ln)}},p.prototype.onMouseUp=function(m){var w,I,P=this.state,N=P.isResizing,$=P.direction,V=P.original;if(!(!N||!this.resizable)){var J={width:this.size.width-V.width,height:this.size.height-V.height};this.props.onResizeStop&&this.props.onResizeStop(m,$,this.resizable,J),this.props.size&&this.setState({width:(w=this.props.size.width)!==null&&w!==void 0?w:"auto",height:(I=this.props.size.height)!==null&&I!==void 0?I:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Bf(Bf({},this.state.backgroundStyle),{cursor:"auto"})})}},p.prototype.updateSize=function(m){var w,I;this.setState({width:(w=m.width)!==null&&w!==void 0?w:"auto",height:(I=m.height)!==null&&I!==void 0?I:"auto"})},p.prototype.renderResizer=function(){var m=this,w=this.props,I=w.enable,P=w.handleStyles,N=w.handleClasses,$=w.handleWrapperStyle,V=w.handleWrapperClass,J=w.handleComponent;if(!I)return null;var se=Object.keys(I).map(function(Te){return I[Te]!==!1?re.createElement($m,{key:Te,direction:Te,onResizeStart:m.onResizeStart,replaceStyles:P&&P[Te],className:N&&N[Te]},J&&J[Te]?J[Te]:null):null});return re.createElement("div",{className:V,style:$},se)},p.prototype.render=function(){var m=this,w=Object.keys(this.props).reduce(function(N,$){return Mw.indexOf($)!==-1||(N[$]=m.props[$]),N},{}),I=Bf(Bf(Bf({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(I.flexBasis=this.state.flexBasis);var P=this.props.as||"div";return re.createElement(P,Bf({style:I,className:this.props.className},w,{ref:function(N){N&&(m.resizable=N)}}),this.state.isResizing&&re.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},p.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},p}(re.PureComponent);function Ep(d){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Ep(d)}var Ow=["overlayClassName","getInitailPositon","savePosition","children","zIndex"];function Um(){return Um=Object.assign?Object.assign.bind():function(d){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(d[w]=m[w])}return d},Um.apply(this,arguments)}function Aw(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function Ym(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?Aw(Object(m),!0).forEach(function(w){hE(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Aw(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function hE(d,p,m){return p=dE(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function dE(d){var p=ZS(d,"string");return Ep(p)=="symbol"?p:String(p)}function ZS(d,p){if(Ep(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Ep(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function KS(d,p){return QS(d)||gE(d,p)||pE(d,p)||vE()}function vE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pE(d,p){if(d){if(typeof d=="string")return qS(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return qS(d,p)}}function qS(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function gE(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function QS(d){if(Array.isArray(d))return d}function e1(d,p){if(d==null)return{};var m=Iw(d,p),w,I;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(d);for(I=0;I<P.length;I++)w=P[I],!(p.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(d,w)&&(m[w]=d[w])}return m}function Iw(d,p){if(d==null)return{};var m={},w=Object.keys(d),I,P;for(P=0;P<w.length;P++)I=w[P],!(p.indexOf(I)>=0)&&(m[I]=d[I]);return m}var JS=function(p,m){return Math.min(Math.max(p,0),m)},mE=function(p){var m=p.overlayClassName,w=p.getInitailPositon,I=p.savePosition,P=I===void 0?oe.noop:I,N=p.children,$=p.zIndex,V=e1(p,Ow),J=w(),se=J.position,Te=J.size,Se=ie().useState(se),et=KS(Se,2),ft=et[0],Ue=et[1],Ne=ie().useState(Te),Ct=KS(Ne,2),Ot=Ct[0],mt=Ct[1],Wt=ie().useRef(!1),Xe=ie().useRef({x:0,y:0}),_t=ie().useRef({width:0,height:0});ie().useEffect(function(){var Kt=(0,oe.throttle)(function(kr){if(Wt.current){kr.preventDefault();var ln=kr.clientX,nn=kr.clientY,Jr=ln-Xe.current.x,hn=nn-Xe.current.y,it=window.innerHeight-Te.height,je=window.innerWidth-Te.width;Ue(function(dt){return{top:JS(dt.top+hn,it),right:JS(dt.right-Jr,je)}}),Xe.current={x:ln,y:nn}}},10,{leading:!0}),fr=function(){P&&P(ft,Ot),Wt.current=!1};return window.addEventListener("mousemove",Kt),window.addEventListener("mouseup",fr),function(){window.removeEventListener("mousemove",Kt),window.removeEventListener("mouseup",fr)}},[P,ft,Ot,Wt.current]);var vt=function(fr){return fr.stopPropagation()},Rt=function(fr){fr.stopPropagation(),fr.preventDefault(),Wt.current=!0,Xe.current={x:fr.clientX,y:fr.clientY}};return ie().createElement("div",{className:m,style:Ym(Ym(Ym({},ft),Ot),{},{zIndex:$},V.style)},ie().createElement(Tw,Um({},V,{onResizeStart:function(){_t.current=Ym({},Ot)},onResize:function(fr,kr,ln,nn){var Jr,hn,it=(_t==null||(Jr=_t.current)===null||Jr===void 0?void 0:Jr.width)+nn.width,je=(_t==null||(hn=_t.current)===null||hn===void 0?void 0:hn.height)+nn.height;mt({width:it,height:je})},size:Ot,maxWidth:window.innerWidth,maxHeight:window.innerHeight}),oe.isFunction?N({onClick:vt,onMouseDown:Rt}):N))},e2=mE,yE=tt(14214),yv=tt(30095);function CE(d,p){return wE(d)||Dw(d,p)||bE(d,p)||Rw()}function Rw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bE(d,p){if(d){if(typeof d=="string")return jm(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return jm(d,p)}}function jm(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function Dw(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function wE(d){if(Array.isArray(d))return d}var t1=new Wu.IL,Lw=function(p){var m,w=p.params,I=p.onCancel,P=p.resolver,N=(0,re.useState)(!0),$=CE(N,2),V=$[0],J=$[1],se=w.chartId,Te=rr(),Se=Te.spreadsheet,et=Te.commandManager,ft=Al(wi.m.ADDCHART,et),Ue=se?ft.charts.find(function(Xe){return Xe.id===se}):t1,Ne=(0,ea.Re)(Ue);(0,re.useEffect)(function(){t1.reset(),t1.type=Wu.oX.PIE},[]);var Ct=im((m=Se.dataCfg.fields)===null||m===void 0?void 0:m.columns).map(function(Xe){return{name:Xe,id:Xe}}),Ot=function(_t,vt){Ue[_t]=vt},mt=function(){et.commit({id:wi.m.ADDCHART,params:Ue}),t1=new Wu.IL,Wt()},Wt=function(){J(!1),setTimeout(function(){P(!0)},300)};return ie().createElement(Zt.Drawer,{title:"\u56FE\u8868\u914D\u7F6E",placement:"right",visible:V,onClose:Wt,width:388,className:"weave-chart-config"},ie().createElement(Zt.Radio.Group,{value:Ne.type,onChange:function(_t){Ot("type",_t.target.value)}},ie().createElement(Zt.Radio.Button,{value:Wu.oX.PIE},"Pie"),ie().createElement(Zt.Radio.Button,{value:Wu.oX.LINE},"Line"),ie().createElement(Zt.Radio.Button,{value:Wu.oX.BAR},"Bar")),ie().createElement(yv.Z,{label:ie().createElement("div",{className:"real-label"},Ue.type===Wu.oX.PIE?"\u5207\u7247\uFF1A":"X\u8F74\uFF1A"),value:Ne.x,valueWidth:276,onChange:function(_t){Ot("x",_t)},columns:Ct}),ie().createElement(yv.Z,{label:ie().createElement("div",{className:"inline-label"},ie().createElement("div",{className:"inline-label-label real-label"},Ue.type===Wu.oX.PIE?"\u6570\u503C\uFF1A":"Y\u8F74\uFF1A"),ie().createElement(yE.Z,{value:Ne.aggregation,onChange:function(_t){Ot("aggregation",_t)}})),value:Ne.y,valueWidth:160,onChange:function(_t){Ot("y",_t)},columns:Ct}),Ue.type!==Wu.oX.PIE&&ie().createElement(yv.Z,{label:ie().createElement("span",{className:"real-label"},"\u62C6\u5206\uFF1A"),value:Ne.split,onChange:function(_t){Ot("split",_t)},valueWidth:276,columns:Ct}),ie().createElement("div",{className:"chart-group"},!se&&ie().createElement(Zt.Button,{type:"primary",onClick:mt,style:{paddingRight:"1em"}},"\u6DFB\u52A0"),ie().createElement(Zt.Button,{onClick:Wt},"\u53D6\u6D88")))},t2=Lw;function Cv(d){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Cv(d)}var xE=["chartConfig"];function r1(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function n1(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?r1(Object(m),!0).forEach(function(w){SE(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):r1(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function SE(d,p,m){return p=r2(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function r2(d){var p=_E(d,"string");return Cv(p)=="symbol"?p:String(p)}function _E(d,p){if(Cv(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Cv(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(d){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(d[w]=m[w])}return d},Zg.apply(this,arguments)}function n2(d,p){return kw(d)||i1(d,p)||Bw(d,p)||Pw()}function Pw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bw(d,p){if(d){if(typeof d=="string")return Vm(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Vm(d,p)}}function Vm(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function i1(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function kw(d){if(Array.isArray(d))return d}function a1(d,p){if(d==null)return{};var m=i2(d,p),w,I;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(d);for(I=0;I<P.length;I++)w=P[I],!(p.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(d,w)&&(m[w]=d[w])}return m}function i2(d,p){if(d==null)return{};var m={},w=Object.keys(d),I,P;for(P=0;P<w.length;P++)I=w[P],!(p.indexOf(I)>=0)&&(m[I]=d[I]);return m}var bd=Wm(function(){return Promise.all([tt.e(632),tt.e(575)]).then(tt.bind(tt,39153))},"spin"),Fw=Wm(function(){return Promise.all([tt.e(632),tt.e(757)]).then(tt.bind(tt,28581))},"spin"),Nw=Wm(function(){return Promise.all([tt.e(632),tt.e(552)]).then(tt.bind(tt,74121))},"spin"),EE=function(p){var m=p.chartConfig,w=a1(p,xE),I=(0,re.useState)(0),P=n2(I,2),N=P[0],$=P[1],V=rr(),J=V.spreadsheet,se=V.theme,Te=V.commandManager,Se=function(){switch(m.type){case Wu.oX.PIE:return ie().createElement(bd,Zg({},w,{reloadSignal:N,theme:se}));case Wu.oX.LINE:return ie().createElement(Nw,Zg({},w,{reloadSignal:N,theme:se}));case Wu.oX.BAR:return ie().createElement(Fw,Zg({},w,{reloadSignal:N,theme:se}));default:return ie().createElement(Nw,Zg({},w,{reloadSignal:N,theme:se}))}},et={backgroundColor:se==="dark"?"#222c3f":"white",color:se==="dark"?"white":"#222c3f",boxShadow:se==="dark"?null:"0 4px 10px 0 rgb(0 0 0 / 40%)",border:se==="dark"?"1px solid rgba(255, 255, 255, 0.08)":null,borderRadius:"4px"};return ie().createElement(e2,{zIndex:12,overlayClassName:fe()("weave-chart-container","chart-draggable"),style:n1({position:"fixed"},et),getInitailPositon:function(){return{position:{top:window.innerHeight/2-300,right:40},size:{width:400,height:300}}}},function(ft){var Ue=ft.onClick,Ne=ft.onMouseDown;return ie().createElement(ie().Fragment,null,ie().createElement("div",{className:fe()("s2-chart-header","async-header"),style:n1(n1({},et),{},{boxShadow:"none",borderBottom:"1px solid rgba(255, 255, 255, 0.08)"}),onClick:Ue,onDoubleClick:function(Ot){qr(t2,{chartId:w.id},J)},onMouseDown:Ne},ie().createElement("div",null,m.type),ie().createElement("div",{style:{cursor:"pointer"}},ie().createElement(Re,{type:"one-icon dataphin-icon icon-filetree-op-reload",onClick:function(){$(function(Ot){return Ot+1})}}),ie().createElement(Re,{type:"one-icon icon-guanbixiao",onClick:function(){Te.commit({id:wi.m.REMOVECHART,params:m.id})}}))),Se())})},Hw=EE;function Xm(d){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Xm(d)}function zw(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function a2(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?zw(Object(m),!0).forEach(function(w){ME(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):zw(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function ME(d,p,m){return p=TE(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function TE(d){var p=OE(d,"string");return Xm(p)=="symbol"?p:String(p)}function OE(d,p){if(Xm(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Xm(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function AE(d){var p=d.tableData,m=d.columns,w=rr(),I=w.commandManager,P=Al(wi.m.ADDCHART,I);return ie().createElement(ie().Fragment,null,P.charts.map(function(N){return ie().createElement(Hw,{chartConfig:N,tableData:p,settingVisible:!1,columns:m.map(function($){return a2(a2({},$),{},{id:$.name})}),value:N,id:N.id})}))}var IE=re.createContext({});function RE(){return re.useContext(IE)}var DE=null,LE=tt(36012),o1=tt.n(LE),Zm=function(p){var m=p.enableCopy,w=p.disabled;if(w)return null;var I=ie().useCallback(function(P){var N=cr().get(P,"target.cfg.parent");if(N)var $,V,J,se=Zt.Modal.info({className:"s2-cell-detail",title:Ei("currentFieldValue"),content:ie().createElement("div",{className:fe()("cell-detail-modal","weave-cell-detail-container")},($=((V=N.meta)===null||V===void 0?void 0:V.fieldValue)||"")!==null&&$!==void 0&&$.includes(`
`)?ie().createElement("textarea",{disabled:!0,className:"text-area",value:N.meta.fieldValue}):(J=N.meta)===null||J===void 0?void 0:J.fieldValue,N.meta&&m?ie().createElement(Zt.Button,{className:"copy",onClick:function(){o1()(N.meta.fieldValue),Zt.message.success(Ei("copySuccess")),Te()}},Ei("copy")):null)}),Te=se.destroy},[]);return Es(ye.ch4.DATA_CELL_DOUBLE_CLICK,I),null},o2=ie().memo(Zm);function wo(d){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},wo(d)}function xu(d,p,m){return p=l1(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function l1(d){var p=wd(d,"string");return wo(p)=="symbol"?p:String(p)}function wd(d,p){if(wo(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(wo(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function Kg(d,p){return xd(d)||PE(d,p)||s1(d,p)||bv()}function bv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s1(d,p){if(d){if(typeof d=="string")return l2(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return l2(d,p)}}function l2(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function PE(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function xd(d){if(Array.isArray(d))return d}var u1=function(p,m){return typeof p!="string"?(0,oe.toString)(p):m?p:p.toLowerCase()},s2=function(p,m,w,I){if(!p)return[];var P=[];return m.forEach(function(N,$){$===0?w.forEach(function(V,J){var se;(se=u1((V==null?void 0:V.id)||N[V.name],I))!==null&&se!==void 0&&se.includes(u1(p,I))&&P.push({col:J+1,row:$,id:N==null?void 0:N[is]})}):w.forEach(function(V,J){var se;(se=u1(N[V.name]||"",I))!==null&&se!==void 0&&se.includes(u1(p,I))&&P.push({col:J+1,row:$,id:N==null?void 0:N[is]})})}),P},c1=ie().memo(function(d){var p,m=d.showSearch,w=d.onShowSearchChange,I=w===void 0?oe.noop:w,P=d.columns,N=d.sortedColumn,$=d.onSearch,V=d.filterSearch,J=d.toggleFilterSearch,se=d.sortFilterCfg,Te=(0,re.useRef)(null),Se=(0,re.useState)(""),et=Kg(Se,2),ft=et[0],Ue=et[1],Ne=(0,re.useState)(!1),Ct=Kg(Ne,2),Ot=Ct[0],mt=Ct[1],Wt=(0,re.useState)(!1),Xe=Kg(Wt,2),_t=Xe[0],vt=Xe[1],Rt=(0,re.useState)([]),Kt=Kg(Rt,2),fr=Kt[0],kr=Kt[1],ln=(0,re.useState)(-1),nn=Kg(ln,2),Jr=nn[0],hn=nn[1],it=rr(),je=it.spreadsheet,dt=it.logger,Jt=it.theme,pr=ie().useMemo(function(){var sn;return(je==null||(sn=je.theme)===null||sn===void 0||(sn=sn.background)===null||sn===void 0?void 0:sn.color)===oa?"light":Jt},[Jt,je==null||(p=je.theme)===null||p===void 0||(p=p.background)===null||p===void 0?void 0:p.color]),xr=ie().useCallback(function(sn){sn.key==="f"&&(sn.metaKey||sn.ctrlKey)&&(sn.preventDefault(),sn.stopPropagation(),Ot||(mt(!0),dt(Gr.search),I(!0)),Te&&Te.current&&Te.current.focus()),sn.key==="Escape"&&Ot&&(mt(!1),I(!1))},[je,Ot]);Ms(xr),(0,re.useEffect)(function(){m!==Ot&&!(0,oe.isNil)(m)&&(mt(m),m&&setTimeout(function(){Te&&Te.current&&Te.current.focus()},0))},[m,Ot]);var Nr=function(){ft===""&&mt(!1),I(!1),hn(-1),kr([]),$==null||$([]),Ue("")},Wr=function(bn,Hi){var ua=bn.length,li=Hi+1;li>=ua&&(li=0),hn(li);var La=bn[li];id(La.row,La.col,je)},on=function(bn){var Hi=bn.length,ua=Jr-1;ua<0&&(ua=Hi-1),hn(ua);var li=bn[ua];id(li.row,li.col,je)},Yn=function(bn){var Hi=[];je&&(Hi=je.dataSet.getDisplayDataSet());var ua=function(eo){return s2(bn,eo,P.slice().sort(function(Wa,qi){return N.indexOf(Wa.name)-N.indexOf(qi.name)}),_t)},li=ua(Hi);if($==null||$(li),V){var La=ad(Hi,li.map(function(Ho){return Ho.id})),so=ua(La);li=so}kr(li),hn(-1),li.length>0&&Wr(li,-1)};return(0,re.useEffect)(function(){ft&&setTimeout(function(){Yn(ft)},0)},[V,se,_t]),Ot?ie().createElement("div",{className:fe()("weave-search-container","dp-spreadsheet-search",xu(xu({},"search-dark",pr==="dark"),"search-light",pr==="light"))},ie().createElement(Zt.Input.Search,{ref:function(bn){Te.current=bn},className:fe()("input-search","dp-spreadsheet-search-input"),value:ft,prefix:ie().createElement(Re,{onClick:function(){fr.length>0&&Wr(fr,Jr)},type:"one-icon icon-sousuo1 anticon-dpicon",className:fe()("search-icon",xu(xu({},"search-dark",pr==="dark"),"search-light",pr==="light"))}),onChange:function(bn){Ue(bn.target.value),Yn(bn.target.value)},onPressEnter:function(bn){fr.length>0&&Wr(fr,Jr)}}),ie().createElement("div",{className:fe()("active-index","active-index")},ie().createElement("div",{className:fe()("btn","prev","btns")},ie().createElement(Re,{onClick:function(){fr.length>0&&on(fr)},type:"one-icon icon-danjiantouwangzuo anticon-dpicon",className:"search-icon"})),Jr>-1?ie().createElement("div",null,Jr+1,"/",fr.length):Ei("noResult"),ie().createElement("div",{className:fe()("btn","next","btns")},ie().createElement(Re,{onClick:function(){fr.length>0&&Wr(fr,Jr)},type:"one-icon icon-danjiantouwangyou anticon-dpicon",className:"search-icon"}))),ie().createElement(Zt.Tooltip,{title:"\u5339\u914D\u5927\u5C0F\u5199"},ie().createElement("div",{onClick:function(){vt(!_t)},className:fe()(["matchCase",{active:_t,iconLight:pr==="light"},"match-case-icon"])},"Aa")),ie().createElement(Zt.Tooltip,{title:V?"\u53D6\u6D88\u8FC7\u6EE4":"\u8FC7\u6EE4"},ie().createElement(Re,{onClick:function(){return J()},type:"one-icon icon-FILTERguolv anticon-dpicon",className:fe()(["filter-icon",{active:V,iconLight:pr==="light"}])})),ie().createElement(Re,{onClick:function(){return Nr()},type:"one-icon icon-guanbixiao anticon-dpicon",className:fe()("close-icon",{iconLight:pr==="light"})})):null},function(d,p){return!!((0,oe.isEqual)(d.columns,p.columns)&&(0,oe.isEqual)(d.filterSearch,p.filterSearch)&&(0,oe.isEqual)(d.showSearch,p.showSearch)&&(0,oe.isEqual)(d.sortFilterCfg,p.sortFilterCfg)&&(0,oe.isEqual)(d.sortedColumn,p.sortedColumn))}),xh=c1,Sh=function(p){return p.key==="a"&&(p.metaKey||p.ctrlKey)},KM=function(){var p=rr(),m=p.spreadsheet,w=ie().useCallback(function(I){if(m&&Sh(I)){if(document.activeElement!==document.body)return;I.stopPropagation(),I.preventDefault(),m.logger(Gr.selectAllByKey),m.interaction.selectAll()}},[m]);return Ms(w),null},u2=ie().memo(KM),f1=function(p){var m=p.dataCfg.meta.map(function(w){return w.field});return m.every(function(w,I){return Number(w.slice((0,oe.size)(w)-(0,oe.size)("".concat(I+1)),(0,oe.size)(w)))===I+1})},Sd=function(p,m){var w=p.dataCfg.meta;return(w.find(function(I){return I.name===m})||{field:m}).field},Mp=function(p,m){var w=p.dataSet.getDisplayDataSet()[0]||{},I=p.dataSet.getDisplayDataSet(),P=I.length,N=f1(p),$=0,V=[],J=(0,oe.pick)(w,Object.keys(w).filter(function(mt){return w[mt]&&Qr.test(w[mt])})),se=p.interaction.getState().cells,Te=se&&se.every(function(mt){return mt.type===ye.Czd.ROW_CELL}),Se=se&&se.every(function(mt){return mt.type===ye.Czd.COL_CELL});if(se&&se.every(function(mt){return mt.type===ye.Czd.DATA_CELL})){var et=se.map(function(mt){return mt.rowIndex}),ft=se.map(function(mt){return Sd(p,mt.id.split("[&]")[1])}),Ue=Object.keys(J).filter(function(mt){return ft.includes(mt)}),Ne=new Set(se).size;Ne===1?$=1:$=et[et.length-1]-et[0]+1,V=Ue}else $=P,V=N?Object.values(J):Object.keys(J);if(m===ye.lbT.COL||Se){if(Se){var Ct=se.map(function(mt){return Sd(p,mt.id.split("[&]")[1])}),Ot=Object.keys(J).filter(function(mt){return Ct.includes(mt)});V=Ot}$=P}return(m===ye.lbT.ROW||Te)&&(Te&&($=se.length),V=N?Object.values(J):Object.keys(J)),V=V.map(function(mt){return(0,oe.get)(p.dataCfg.meta.find(function(Wt){return Wt.field===mt}),"desensitizes[0]")}).filter(Boolean),{length:$,sensitiveField:V}},wl=function(p){return p.key==="c"&&(p.metaKey||p.ctrlKey)},BE=function(){var p=rr(),m=p.spreadsheet,w=ie().useCallback(function(I){if(document.activeElement===document.body&&m&&wl(I)){m.logger(Gr.copyByKey);try{(0,ye.aPw)(m)}catch(V){m.logger(Gr.errorCollect,{error:V,fields:m.dataCfg.fields,id:Gr.copyByKey})}var P=Mp(m),N=P.length,$=P.sensitiveField;m.logger(Gr.copyLineNumAndSensitiveData,{length:N,sensitiveField:$}),Zt.message.success(Ei("copySuccess"))}},[m]);return Ms(w),null},h1=ie().memo(BE);function Ww(d,p){return Uw(d)||$w(d,p)||d1(d,p)||Gw()}function Gw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d1(d,p){if(d){if(typeof d=="string")return c2(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return c2(d,p)}}function c2(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function $w(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function Uw(d){if(Array.isArray(d))return d}var qM=6,kE=ie().memo(function(d){var p=d.item,m=d.renderSummaryCell,w=d.s2Instance,I=d.typeHints;return m(p,w.dataSet.getDisplayDataSet(),I,w)}),QM=function(p){var m,w,I=p.renderSummaryCell,P=p.cfg,N=p.customHeights,$=p.sheetWidth,V=p.typeHints,J=p.showIconInColumnCell,se=J,Te=rr(),Se=Te.spreadsheet,et=Te.theme;if(!I||!Se||!P||!P.visible||!((m=Se.dataCfg.summaryRowCfg)!==null&&m!==void 0&&m.visible))return null;var ft=Se.getColumnNodes().filter(function(fr){return fr.field!==ye.O6N}).reduce(function(fr,kr){return fr+=kr.width},0);if(!N[String(P==null?void 0:P.rowIndex)]&&!se)return null;var Ue=(0,re.useState)(0),Ne=Ww(Ue,2),Ct=Ne[0],Ot=Ne[1],mt=function(kr){Ot(kr.scrollX)};Es(ye.ch4.LAYOUT_CELL_SCROLL,mt);var Wt=N[String(P.rowIndex)],Xe=Se.options,_t=Xe.showSeriesNumber,vt=_t?(w=Se.facet.layoutResult.colLeafNodes[0])===null||w===void 0?void 0:w.width:0,Rt=Se.facet.layoutResult.colLeafNodes.reduce(function(fr,kr){return fr+=kr.width},0)-vt,Kt=Wt-P.height;return ie().createElement("div",{className:"weave-summary-row-container-wrapper",style:{top:"".concat(se?Xe.style.colCfg.height:Xe.style.colCfg.height+Kt+Se.facet.viewCellHeights.getCellOffsetY(P.rowIndex),"px"),width:Math.min($-vt-qM,ft),height:P.height,left:"".concat(vt,"px")},onWheel:function(kr){var ln=Se.facet.getScrollOffset(),nn=ln.scrollX,Jr=ln.scrollY,hn=nn+kr.deltaX,it=Jr+kr.deltaY;Se.updateScrollOffset({offsetX:{value:hn>=0?hn:0,animate:!1},offsetY:{value:it>=0?it:0,animate:!1}})}},ie().createElement("div",{className:["weave-summary-row-container"].join(" "),style:{width:Rt,transform:"translateX(".concat(-Ct,"px)")}},Se.facet.layoutResult.colLeafNodes.map(function(fr,kr){return _t&&kr===0?null:ie().createElement("div",{key:fr.id+$+fr.width,style:{width:"".concat(fr.width,"px"),height:"100%"},className:["summary-row-cell","weave-summary-row-cell",{light:et==="light"}].join(" ")},ie().createElement(kE,{renderSummaryCell:I,item:fr,s2Instance:Se,typeHints:V}))})))},Km=QM;function Tp(d){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Tp(d)}function FE(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function qg(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?FE(Object(m),!0).forEach(function(w){Yw(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):FE(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function Yw(d,p,m){return p=JM(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function JM(d){var p=NE(d,"string");return Tp(p)=="symbol"?p:String(p)}function NE(d,p){if(Tp(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Tp(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function qm(d,p){return eT(d)||f2(d,p)||Vw(d,p)||jw()}function jw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vw(d,p){if(d){if(typeof d=="string")return Qm(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Qm(d,p)}}function Qm(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function f2(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function eT(d){if(Array.isArray(d))return d}var Op=function(p){var m=p.params,w=m.x,I=m.y,P=m.colId,N=p.onCancel,$=p.resolver,V=ku(w,I,200,170),J=(0,re.useState)("success"),se=qm(J,2),Te=se[0],Se=se[1],et=rr(),ft=et.commandManager,Ue=et.theme,Ne=et.logger,Ct=et.spreadsheet,Ot=(0,re.useState)(""),mt=qm(Ot,2),Wt=mt[0],Xe=mt[1],_t=function(){Te!=="error"&&(Ne&&Ne(Gr.splitCol),ft.commit([{id:wi.m.ADDCOL,params:{name:Wt,colId:P}},{id:wi.m.MODIFYCOLCONFIG,params:{colId:Wt,value:{type:0|qa.isComputed}}}]),$(!0))},vt=function(Kt){if(!Kt){Se("error");return}Ct.dataCfg.fields.columns.map(function(fr){return typeof fr=="string"?fr:fr.key}).includes(Kt)?Se("error"):Se("success")};return ie().createElement("div",{style:qg({},V),className:fe()("weave-split-column-container",Ue==="dark"?"dark":"white")},ie().createElement(Zt.Form,{layout:"vertical"},ie().createElement(Zt.Form.Item,{validateStatus:Te,required:!0,help:Te==="error"?"\u5B57\u6BB5\u540D\u5DF2\u5B58\u5728":"",label:ie().createElement("span",{style:{color:Ue==="dark"?"white":"black"}},"\u5B57\u6BB5\u540D")},ie().createElement(Zt.Input,{onChange:function(Kt){var fr=Kt.target.value.replace(/['"]+/g,"");Xe(fr),vt(fr)}}))),ie().createElement("div",{className:fe()("buttons","weave-split-column-buttons")},ie().createElement(Zt.Button,{onClick:N},"\u53D6\u6D88"),ie().createElement(Zt.Button,{type:"primary",onClick:_t},"\u786E\u5B9A")))},v1=Op;function Qg(d){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Qg(d)}function Jm(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function Jg(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?Jm(Object(m),!0).forEach(function(w){tT(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Jm(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function tT(d,p,m){return p=h2(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function h2(d){var p=p1(d,"string");return Qg(p)=="symbol"?p:String(p)}function p1(d,p){if(Qg(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Qg(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function ey(d,p){return m1(d)||g1(d,p)||ty(d,p)||HE()}function HE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ty(d,p){if(d){if(typeof d=="string")return Ap(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Ap(d,p)}}function Ap(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function g1(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function m1(d){if(Array.isArray(d))return d}var wv=function(p){var m,w,I=p.resolver,P=p.params,N=rr(),$=N.spreadsheet,V=N.logger,J=N.commandManager,se=re.useState(!1),Te=ey(se,2),Se=Te[0],et=Te[1],ft=re.useRef(),Ue=Al(wi.m.MODIFYCOLCONFIG,J).colConfigs[P.fieldName],Ne=(Ue==null?void 0:Ue.type)||qa.isOriginal,Ct=(Ue==null?void 0:Ue.contentType)||Ti.String,Ot=(Ue==null?void 0:Ue.aggregateType)||_a.COUNT;re.useEffect(function(){var Rt=function(fr){var kr;ft!=null&&(kr=ft.current)!==null&&kr!==void 0&&kr.contains(fr.target)||Se&&I(!1)};return window.addEventListener("mousemove",Rt),function(){window.removeEventListener("mousemove",Rt)}},[I,Se]);var mt=re.useMemo(function(){var Rt,Kt=$==null||(Rt=$.theme)===null||Rt===void 0||(Rt=Rt.background)===null||Rt===void 0?void 0:Rt.color;return Kt===oa},[$==null||(m=$.theme)===null||m===void 0||(m=m.background)===null||m===void 0?void 0:m.color]),Wt=ku(P.x,P.y,130,220),Xe=rm(P.fieldName,$==null||(w=$.dataCfg)===null||w===void 0?void 0:w.sortParams),_t=function(Kt){xc({sort:Kt===Xe?"NONE":Kt,spreadsheet:$,fieldName:P.fieldName,logger:V,commandManager:J,append:!0})},vt=function(){var Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P.x,fr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P.y;I(!1);var kr=Jg(Jg({},P),{},{x:Kt,y:fr});qr(ug,kr,$)};return re.createElement(wS,{visible:!0,onEntered:function(){et(!0)}},re.createElement("div",{className:fe()("column-menu-container","col-menu-modal-container","slim"),ref:ft,style:Wt,onMouseDown:function(Kt){return Kt.stopPropagation()}},re.createElement(Em,{getPopupContainer:function(Kt){return ft.current},className:fe()("menu",{light:mt}),style:{width:130},onSelect:function(Kt){[ye.Xzc.ASC,ye.Xzc.DESC].includes(Kt.key)?_t(Kt.key):(V&&V(Gr.setType),dv.emit("typeChange",{fieldName:P.fieldName,type:Kt.key})),I(!1)}},re.createElement(bl,{key:ye.Xzc.ASC},re.createElement("div",{className:"sort"},re.createElement(Re,{type:"one-icon dataphin-icon icon-riqi1"}),"\u5347\u5E8F",Xe===ye.Xzc.ASC?re.createElement(Re,{className:"icon",type:"one-icon icon-duihao anticon-dpicon"}):null)),re.createElement(bl,{key:ye.Xzc.DESC},re.createElement("div",{className:"sort"},re.createElement(Re,{type:"one-icon dataphin-icon icon-riqi"}),"\u964D\u5E8F",Xe===ye.Xzc.DESC?re.createElement(Re,{className:"icon",type:"one-icon icon-duihao anticon-dpicon"}):null)),re.createElement(bl,{key:"filter"},re.createElement("div",{onClick:function(Kt){vt(Kt.clientX,Kt.clientY)}},re.createElement(Re,{type:"one-icon icon-shaixuan3"}),"\u7B5B\u9009")),re.createElement(Em.Divider,null),Ne&qa.isAggregation?re.createElement(re.Fragment,null,re.createElement(bl,{key:"aggregate",onClick:function(){J.commit({id:wi.m.MODIFYCOLCONFIG,params:{colId:P.fieldName,value:{type:Ne&~qa.isAggregation}}})}},"\u53D6\u6D88\u8BBE\u4E3A\u6C47\u603B\u503C"),re.createElement(Cu,{getPopupContainer:function(Kt){return ft.current},popupClassName:fe()("menu",{light:mt}),popupOffset:[0,0],rootClassName:"menu",key:"aggregateType",title:re.createElement("div",{className:"colSubmenu"},"\u6C47\u603B\u7C7B\u578B")},[{name:"\u8BA1\u6570",type:_a.COUNT},{name:"\u53BB\u91CD\u8BA1\u6570",type:_a.COUNT_DISTINCT}].concat(Ct===Ti.Number?[{name:"\u6C42\u548C",type:_a.SUM},{name:"\u6700\u5C0F\u503C",type:_a.MIN},{name:"\u6700\u5927\u503C",type:_a.MAX},{name:"\u4E2D\u4F4D\u6570",type:_a.MEDIAN},{name:"\u5E73\u5747\u503C",type:_a.AVERAGE}]:[]).map(function(Rt){return re.createElement(bl,{key:Rt.type,disabled:Ot===Rt.type},re.createElement("div",{className:"subMenuItem",onClick:function(){J.commit({id:wi.m.MODIFYCOLCONFIG,params:{colId:P.fieldName,value:{aggregateType:Rt.type}}})}},Rt.name,Ot===Rt.type?re.createElement(Re,{type:"one-icon icon-duihao anticon-dpicon"}):null))}))):re.createElement(bl,{key:"aggregate",onClick:function(){J.commit({id:wi.m.MODIFYCOLCONFIG,params:{colId:P.fieldName,value:{type:(Ne|qa.isAggregation)&~qa.isDimension}}})}},"\u8BBE\u4E3A\u6C47\u603B\u503C"),Ne&qa.isDimension?re.createElement(bl,{key:"dimension",onClick:function(){J.commit({id:wi.m.MODIFYCOLCONFIG,params:{colId:P.fieldName,value:{type:Ne&~qa.isDimension}}})}},"\u53D6\u6D88\u8BBE\u4E3A\u5206\u7C7B\u7EF4\u5EA6"):re.createElement(bl,{key:"dimension",onClick:function(){J.commit({id:wi.m.MODIFYCOLCONFIG,params:{colId:P.fieldName,value:{type:(Ne|qa.isDimension)&~qa.isAggregation}}}),window.dispatchEvent(new CustomEvent("weave:triggersidebar",{detail:"aggregate"}))}},"\u8BBE\u4E3A\u5206\u7C7B\u7EF4\u5EA6"),re.createElement(Cu,{getPopupContainer:function(Kt){return ft.current},popupClassName:fe()("menu",{light:mt}),popupOffset:[0,0],rootClassName:"menu",key:"col",title:re.createElement("div",{className:"colSubmenu"},"\u5B57\u6BB5\u7C7B\u578B")},[{name:"\u5B57\u7B26\u4E32",type:Ti.String},{name:"\u6570\u503C",type:Ti.Number},{name:"\u65E5\u671F",type:Ti.Date}].map(function(Rt){return re.createElement(bl,{key:Rt.type,disabled:Ct===Rt.type},re.createElement("div",{className:"subMenuItem",onClick:function(){J.commit({id:wi.m.MODIFYCOLCONFIG,params:{colId:P.fieldName,value:{contentType:Rt.type}}})}},Rt.name,Ct===Rt.type?re.createElement(Re,{type:"one-icon icon-duihao anticon-dpicon"}):null))})),re.createElement(Em.Divider,null),re.createElement(bl,{key:"create",onClick:function(Kt){$.logger(Gr.addCol),qr(v1,{x:P.x,y:P.y,colId:P.fieldName},$)}},"\u65B0\u589E\u7A7A\u5B57\u6BB5"),re.createElement(bl,{key:"rename",onClick:function(){var Kt={target:P.cell};$.emit(ye.ch4.COL_CELL_DOUBLE_CLICK,Kt)}},"\u5B57\u6BB5\u91CD\u547D\u540D"),re.createElement(bl,{key:"delete",onClick:function(){J.commit({params:{colId:P.fieldName},id:wi.m.REMOVECOL})}},"\u5220\u9664\u5B57\u6BB5"))))},_h=wv;function e0(d){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e0(d)}var y1=void 0;function Ip(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function zE(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?Ip(Object(m),!0).forEach(function(w){ry(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Ip(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function ry(d,p,m){return p=Xw(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function Xw(d){var p=tf(d,"string");return e0(p)=="symbol"?p:String(p)}function tf(d,p){if(e0(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(e0(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function WE(d,p){return Kw(d)||Zw(d,p)||da(d,p)||d2()}function d2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function da(d,p){if(d){if(typeof d=="string")return v2(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return v2(d,p)}}function v2(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function Zw(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function Kw(d){if(Array.isArray(d))return d}var GE=function(p){var m=p.meunItem,w=p.event,I=p.spreadsheet,P=p.commandManager,N=p.resolver,$=ie().useState(),V=WE($,2),J=V[0],se=V[1],Te=ie().useCallback(function(){!m.disabled&&m.onClick(w,I,P,J),N(!0)},[w,I,P,N,m,J]),Se=ie().useCallback(function(Ue){Ue.stopPropagation(),Te()},[Te]),et=ie().useCallback(function(Ue){return se(Ue)},[]),ft=ie().useCallback(function(){return Te()},[Te]);return ie().createElement("div",{onClick:Se},m.icon,ie().cloneElement(m.text,{onChange:et,onCallback:ft}))},$E=function(p){var m=p.params,w=p.onCancel,I=p.resolver,P=m.x,N=m.y,$=m.menus,V=m.event,J=m.menusWidth,se=rr(),Te=se.spreadsheet,Se=se.theme,et=se.commandManager,ft=ie().useMemo(function(){return J||$.reduce(function(mt,Wt){if(ie().isValidElement(Wt.text))return 0;var Xe;return Math.max(((Xe=Wt.text)===null||Xe===void 0?void 0:Xe.length)||0,mt)},0)*30+20},[$,J]),Ue=ku(P,N,ft,$.length*28),Ne=ie().useMemo(function(){var mt;return(Te==null||(mt=Te.theme)===null||mt===void 0||(mt=mt.background)===null||mt===void 0?void 0:mt.color)===oa?"light":Se},[Se,Te.theme.background.color]);ie().useEffect(function(){var mt=function(Xe){I(!1)};return window.addEventListener("mousedown",mt),function(){window.removeEventListener("mousedown",mt)}},[I]);var Ct=function(Wt){return ie().isValidElement(Wt.text)?ie().createElement(GE,{meunItem:Wt,event:V,spreadsheet:Te,commandManager:et,resolver:I}):ie().createElement(ie().Fragment,null,Wt.icon,Wt.text)},Ot=function mt(Wt){return Wt.map(function(Xe,_t){return Xe.children&&Xe.father?ie().createElement(Zt.Menu.SubMenu,{title:ie().createElement(ie().Fragment,null,Xe.father.icon,Xe.father.text),className:fe()("dp-spreadsheet-contextmenu-item"),popupClassName:fe()("weave-table-context-menu","dp-spreadsheet-contextmenu",ry(ry({},"contextmenu-dark",Ne==="dark"),"contextmenu-light",Ne==="light")),onTitleClick:function(){Xe.father.onClick(V,Te,et),I(!0)}},mt(Xe.children)):Xe.popconfirm?ie().createElement(Zt.Popconfirm,{placement:Xe.popconPlacement||"bottomRight",title:Xe.popconfirmText,okText:Xe.popconfirmOkText,cancelText:Xe.popconfirmCancelText,onConfirm:function(){Xe.onClick(V,Te,et),I(!0)}},ie().createElement(Zt.Menu.Item,{className:fe()("dp-spreadsheet-contextmenu-item"),disabled:Xe.disabled,key:_t},Xe.icon,Xe.text)):ie().createElement(Zt.Menu.Item,{className:fe()("dp-spreadsheet-contextmenu-item"),disabled:Xe.disabled,key:_t,onClick:function(){Xe.onClick(V,Te,et),I(!0)}},Ct(Xe))})};return ie().createElement("div",{onMouseDown:function(Wt){Wt.stopPropagation()}},ie().createElement(Zt.Menu,{style:Ue,className:fe()("weave-table-context-menu","dp-spreadsheet-contextmenu",ry(ry({},"contextmenu-dark",Ne==="dark"),"contextmenu-light",Ne==="light"))},Ot($)))},S=function(p){var m=rr(),w=m.spreadsheet,I=p.menus,P=p.menusWidth,N=p.useDataExploreMenu,$=ie().useCallback(function(V){V.preventDefault();var J=w.getCell(V.target);if(J){var se=J.getMeta(),Te=se.colId,Se=se.rowIndex,et=se.colIndex;!w.interaction.isSelectedCell(J)&&!w.interaction.isAllSelectedState()&&(w.interaction.addIntercepts([ye.DYf.HOVER]),w.interaction.changeState({stateName:ye._61.SELECTED,force:!0,cells:[{colIndex:et,rowIndex:Se,id:(0,ye.KQ4)(String(Se),Te),type:ye.Czd.DATA_CELL}]}))}if(N){var ft;V.preventDefault();var Ue=w.getCell(V.target);if((ft=Ue.getMeta())!==null&&ft!==void 0&&ft.valueField){var Ne={x:V.clientX,y:V.clientY,fieldName:Ue.getMeta().valueField,skipNum:0,type:"columnMenu",cell:y1};qr(_h,Ne,w);return}}I.length&&(V.preventDefault(),qr($E,{menus:I.map(function(Ct){return zE(zE({},Ct),{},{text:(0,oe.isFunction)(Ct.text)?Ct.text(V,w):Ct.text,disabled:Ct.condition&&!Ct.condition(V,w)})}),menusWidth:P,x:V.clientX,y:V.clientY,event:V},w))},[I,P,w]);return Es(ye.ch4.GLOBAL_CONTEXT_MENU,$),null},T=S;function L(){var d=rr(),p=d.spreadsheet,m=(0,re.useRef)(),w=(0,re.useRef)(),I=function(N){clearTimeout(w.current);var $=N.info.meta.field;if(m.current&&m.current.info.meta.field===$&&(m.current=null,N.style.colCfg.widthByFieldValue)){var V=p.dataSet.originData.reduce(function(J,se){var Te=se[$]||"";return Math.max(J,Math.round(p.measureTextWidthRoughly(Te))+40)},Math.round(p.measureTextWidthRoughly($))+40);N.style.colCfg.widthByFieldValue[N.info.id]=Math.min(V,500),p.emit(ye.ch4.LAYOUT_RESIZE_COL_WIDTH,N)}m.current=N,w.current=setTimeout(function(){m.current=null},200)};return Es(ye.ch4.LAYOUT_RESIZE_COL_WIDTH,I),null}function G(d){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},G(d)}function Z(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function K(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?Z(Object(m),!0).forEach(function(w){ne(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Z(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function ne(d,p,m){return p=ae(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function ae(d){var p=we(d,"string");return G(p)=="symbol"?p:String(p)}function we(d,p){if(G(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(G(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function De(d,p){return zt(d)||ot(d,p)||ke(d,p)||We()}function We(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ke(d,p){if(d){if(typeof d=="string")return He(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return He(d,p)}}function He(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function ot(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function zt(d){if(Array.isArray(d))return d}var Cr=function(p){var m=p.value,w=p.onChange,I=p.fields,P=p.filterCfg,N=p.columns,$=(0,re.useState)({}),V=De($,2),J=V[0],se=V[1],Te=Object.values(J).filter(function(Se){return!!Se}).length||0;return ie().createElement("div",{className:fe()(["filterModalItemByValue","filter-modal-item-by-val"])},ie().createElement(Zt.Select,{className:"select",value:m.filterKey,onSelect:function(et){w(K(K({},m),{},{filterKey:et,filteredValues:[]})),se({})}},I.map(function(Se){var et,ft;return ie().createElement(Zt.Select.Option,{key:Se},(et=(ft=N.find(function(Ue){return Ue.name===Se}))===null||ft===void 0?void 0:ft.id)!==null&&et!==void 0?et:Se)})),ie().createElement(Zt.Popover,{onVisibleChange:function(et){et||w(K(K({},m),{},{filteredValues:Object.entries(J).map(function(ft){var Ue=De(ft,2),Ne=Ue[0],Ct=Ue[1];if(Ct)return Ne}).filter(Boolean)}))},content:ie().createElement(ie().Fragment,null,ie().createElement(Rb,{className:"filterModalItemByValuePopover",value:J,showAllOpts:!0,params:{fieldName:m.filterKey,filterParams:P},onChange:function(et){se(et)}})),overlayClassName:"weave-popover-antd-update"},"\u8BBE\u7F6E\u7B5B\u9009\u503C\uFF08\u5DF2\u7B5B\u53BB".concat(Te,"\u9879\uFF09")))};function mr(d){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},mr(d)}function Er(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function Ir(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?Er(Object(m),!0).forEach(function(w){pn(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Er(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function pn(d,p,m){return p=Ur(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function Ur(d){var p=$n(d,"string");return mr(p)=="symbol"?p:String(p)}function $n(d,p){if(mr(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(mr(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}var Cn=function(p){var m=p.onChange,w=p.value,I=p.fields,P=p.columns;return ie().createElement("div",{className:fe()(["filter-modal-item-by-exp","filterModalItemByExp"])},ie().createElement(Zt.Select,{className:"select",value:w.filterKey,onSelect:function($){m(Ir(Ir({},w),{},{filterKey:$}))}},I.map(function(N){var $,V;return ie().createElement(Zt.Select.Option,{key:N},($=(V=P.find(function(J){return J.name===N}))===null||V===void 0?void 0:V.id)!==null&&$!==void 0?$:N)})),ie().createElement(Hs,{value:w==null?void 0:w.advancedCfg,fieldName:w.filterKey,onChange:function($){m(Ir(Ir({},w),{},{advancedCfg:$}))}}))};function Un(d){"@babel/helpers - typeof";return Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Un(d)}function ii(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function mi(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?ii(Object(m),!0).forEach(function(w){Ia(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):ii(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function Ia(d,p,m){return p=ka(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function ka(d){var p=Vl(d,"string");return Un(p)=="symbol"?p:String(p)}function Vl(d,p){if(Un(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Un(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function hl(d){return bs(d)||es(d)||Eh(d)||qo()}function qo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function es(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function bs(d){if(Array.isArray(d))return Su(d)}function oo(d,p){return eu(d)||Ac(d,p)||Eh(d,p)||Oc()}function Oc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eh(d,p){if(d){if(typeof d=="string")return Su(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Su(d,p)}}function Su(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function Ac(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function eu(d){if(Array.isArray(d))return d}var Rp=function(p){var m,w=p.visible,I=p.onVisibleChange,P=p.columns,N=rr(),$=N.spreadsheet,V=(0,re.useState)([]),J=oo(V,2),se=J[0],Te=J[1];(0,re.useEffect)(function(){if(w){var Ne;Te(hl(((Ne=$==null?void 0:$.dataCfg.filterParams)!==null&&Ne!==void 0?Ne:[]).map(function(Ct){return Ct.customFilter?mi(mi({},Ct),{},{advancedCfg:Ct.customFilter.original}):Ct})))}},[w]);var Se=se.map(function(Ne){return Ne.filterKey}),et=im($==null||(m=$.dataCfg)===null||m===void 0||(m=m.fields)===null||m===void 0?void 0:m.columns),ft=et.filter(function(Ne){return!Se.includes(Ne)}),Ue=function(){Te([].concat(hl(se),[{filterKey:ft==null?void 0:ft[0],filteredValues:[]}]))};return ie().createElement(Zt.Modal,{title:"\u8BBE\u7F6E\u7B5B\u9009",width:611,visible:w,centered:!0,maskClosable:!1,onCancel:function(){I(!1)},onOk:function(){var Ct=se.filter(function(Ot){return!(Ot.advancedCfg&&!Ot.advancedCfg.value)}).map(function(Ot){return Ot.advancedCfg?{filterKey:Ot.filterKey,customFilter:iv(Ot.advancedCfg,Ot.filterKey)}:{filterKey:Ot.filterKey,filteredValues:Ot.filteredValues}});$.dataCfg.filterParams=Ct,$.render(!0),$.emit(ye.ch4.RANGE_FILTERED,$.dataSet.getDisplayDataSet()),I(!1)}},ie().createElement("div",{draggable:!0},se.map(function(Ne){var Ct={columns:P,value:Ne,onChange:function(mt){Te(function(Wt){return Wt.map(function(Xe){return Xe.filterKey===Ne.filterKey?mt:Xe})})},fields:[Ne.filterKey].concat(hl(ft)),filterCfg:se};return ie().createElement(Zf,{className:"weave-item-wrapper",onDrop:function(mt,Wt){Te(nm(se,mt,Wt,"filterKey"))},onDelete:function(mt){Te(se.filter(function(Wt){return Wt.filterKey!==mt}))},id:Ne.filterKey},ie().createElement("div",{className:"weave-filter-item"},ie().createElement(Zt.Select,{className:"filterMethod",value:Ne.advancedCfg?Nu.ByExpression:Nu.ByValue,onSelect:function(mt){Te(function(Wt){return Wt.map(function(Xe){if(Xe.filterKey===Ne.filterKey){var _t=mi({},Xe);return mt===Nu.ByExpression?mi(mi({},Xe),{},{advancedCfg:{op:Object.keys(Np)[0],value:""}}):(delete _t.advancedCfg,_t)}return Xe})})}},ie().createElement(Zt.Select.Option,{key:Nu.ByValue},"\u6309\u6570\u503C"),ie().createElement(Zt.Select.Option,{key:Nu.ByExpression},"\u6309\u6761\u4EF6")),Ne.advancedCfg?ie().createElement(Cn,Ct):ie().createElement(Cr,Ct)))}),ft.length?ie().createElement("div",{className:"weave-add-filter",onClick:function(){Ue()}},ie().createElement(Re,{type:"one-icon icon-jiahao anticon-dpicon"}),"\u65B0\u589E\u7B5B\u9009\u9879"):null))},_d=function(){var p=rr(),m=p.spreadsheet;return(0,re.useEffect)(function(){var w=function(){m&&setTimeout(function(){var N;(N=m.hdAdapter)===null||N===void 0||N.renderByDevicePixelRatioChanged()},500)},I=window.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)"));return I.addEventListener("change",w),function(){return I.removeEventListener("change",w)}},[m]),null},rf=ie().memo(_d),Dp={test:function(p){var m=p.getFieldValue();return/^(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})$/.test(m||"")},content:function(p,m){var w=m.logger,I=p.getFieldValue();return ie().createElement("a",{href:I,target:"_blank",onClick:function(){return w&&w(Gr.acceptUrlHint)}},ie().createElement(Ha,{text:I,line:1}))}},t0={test:function(p){var m=p.getFieldValue();return Zx(m)},content:function(p,m){var w=m.commandManager,I=m.logger;return ie().createElement("a",{onClick:function(){I&&I(Gr.splitKVCol),w.commit({id:wi.m.SPLITCOL,params:{preset:"KV",colId:p.getMeta().valueField}})}},"\u4EE5Exinfo\u683C\u5F0F\u62C6\u5206")}},va=[Dp,t0],za=function(p){return va.push(p)};function xo(){var d=rr(),p=d.spreadsheet,m=d.logger,w=d.theme;Es(ye.ch4.GLOBAL_SCROLL,function(){p==null||p.hideTooltip()});var I=ie().useCallback(function(P){var N=p.getCell(P.target);if(p.hideTooltip(),N&&N instanceof ye.f4X){var $={x:P.clientX,y:P.clientY},V=va.filter(function(J){return J.test(N)});V.length&&(m&&m(Gr.triggerHint),p.tooltip.show({position:$,content:ie().createElement(ie().Fragment,null,V.map(function(J){return ie().createElement("div",{className:"hint-provided"},J.content(N,d))}))}),w==="dark"?p.tooltip.container.classList.add("dp-spreadsheet-hint-dark"):p.tooltip.container.classList.remove("dp-spreadsheet-hint-dark"))}},[p,w]);return Es(ye.ch4.DATA_CELL_CLICK,I),null}function xl(d){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},xl(d)}function Ic(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function tu(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,nf(w.key),w)}}function $u(d,p,m){return p&&tu(d.prototype,p),m&&tu(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function nf(d){var p=af(d,"string");return xl(p)=="symbol"?p:String(p)}function af(d,p){if(xl(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(xl(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}var ny=function(){function d(){Ic(this,d),this.conditions=[]}return $u(d,[{key:"validate",value:function(){return this.conditions.every(function(m){return m()})}},{key:"addCondition",value:function(m){this.conditions.push(m)}},{key:"removeCondition",value:function(m){this.conditions=this.conditions.filter(function(w){return w!==m})}}]),d}(),lo=new ny;function iy(){var d=rr(),p=d.logger,m=d.commandManager,w=ie().useCallback(function(I){I.key==="z"&&(I.metaKey||I.ctrlKey)&&I.shiftKey?lo.validate()&&m.redo():I.key==="z"&&(I.metaKey||I.ctrlKey)&&lo.validate()&&m.undo()},[]);return Ms(w),null}function qw(d,p){return ZT(d)||XT(d,p)||UE(d,p)||VT()}function VT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UE(d,p){if(d){if(typeof d=="string")return rT(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return rT(d,p)}}function rT(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function XT(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function ZT(d){if(Array.isArray(d))return d}function KT(d){var p=ie().useState(),m=qw(p,2),w=m[1],I=ie().useCallback(function(){return w({})},[d]);ie().useEffect(function(){I()},[I])}var kf="rgba(255,255,255,0.08)",YE="#0E131D",Qw="#1b2333",Sl="#363b46",Xi="#252b37",p2="#254904",qT="#622301",Jw={resizeArea:{size:4,interactionState:{hover:{backgroundOpacity:0}}},cornerCell:{cell:{padding:{top:12,right:8,bottom:12,left:8}},bolderText:{fontFamily:"Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Heiti SC, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif",opacity:.4}},splitLine:{horizontalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderColorOpacity:1,verticalBorderWidth:1,shadowWidth:10},rowCell:{seriesText:{fontFamily:"Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Heiti SC, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif",opacity:.4,fontSize:15,textBaseline:"middle"},icon:void 0,seriesNumberWidth:35,text:{fontFamily:"Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Heiti SC, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif",opacity:.4,fontSize:15,textBaseline:"middle"},cell:{padding:{top:0,right:0,bottom:0,left:0},interactionState:{hover:{backgroundOpacity:1}},verticalBorderWidth:1,horizontalBorderWidth:1}},colCell:{icon:{size:12,margin:{left:0,right:0}},cell:{verticalBorderWidth:1,horizontalBorderWidth:1,padding:{top:12,right:12,bottom:12,left:12},interactionState:{hover:{backgroundOpacity:1}}},bolderText:{opacity:.4,fontFamily:"Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Heiti SC, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif"}},dataCell:{text:{fontFamily:"Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Heiti SC, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif"},icon:{size:18,margin:{left:4,right:0}},cell:{interactionState:{hover:{backgroundOpacity:1},hoverFocus:{backgroundOpacity:1,borderColor:"blue"},selected:{backgroundOpacity:1},unselected:{backgroundOpacity:1,opacity:1},prepareSelect:{}},verticalBorderWidth:1,horizontalBorderWidth:1,padding:{top:12,right:12,bottom:12,left:12},backgroundColorOpacity:.9}}},g2=cr().merge({},Jw,{filterIcon:{background:YE,activeBackground:"rgba(250,250,250,0.2)",hoverBackground:"rgba(250,250,250,0.1)"},background:{color:Qw},scrollBar:{trackColor:"rgba(0,0,0,0)",thumbHoverColor:"rgba(240, 241, 245,0.5)",thumbColor:"rgba(240, 241, 245,0.2)"},cornerCell:{cell:{horizontalBorderColor:kf,verticalBorderColor:kf,backgroundColor:Qw},bolderText:{opacity:.4}},splitLine:{horizontalBorderColor:kf,verticalBorderColor:kf,shadowColors:{left:"rgba(0,0,0,0.1)",right:"rgba(0,0,0,0)"}},rowCell:{seriesText:{fill:"#fff"},text:{fill:"#fff",opacity:.7,fontSize:12},cell:{backgroundColor:Qw,interactionState:{hover:{backgroundColor:Xi},selected:{backgroundColor:Sl}},horizontalBorderColor:kf,verticalBorderColor:kf,verticalBorderWidth:1,horizontalBorderWidth:1}},colCell:{cell:{horizontalBorderColor:kf,verticalBorderColor:kf,backgroundColor:Qw,interactionState:{hover:{backgroundColor:Xi,backgroundOpacity:1},selected:{backgroundColor:Sl}}},text:{fill:"#fff"},bolderText:{fill:"#fff",opacity:.8}},dataCell:{cell:{interactionState:{hover:{backgroundColor:"#252b37",backgroundOpacity:1},hoverFocus:{backgroundColor:Sl,backgroundOpacity:1,borderColor:"#3485FF"},selected:{backgroundColor:Sl,backgroundOpacity:1},unselected:{backgroundOpacity:1,opacity:1},prepareSelect:{borderColor:"#3485FF"}},horizontalBorderColor:kf,verticalBorderColor:kf,backgroundColor:YE,crossBackgroundColor:YE},text:{fill:"#fff",textAlign:"left"}},compareTable:{targetTable:{background:p2},sourceTable:{background:qT}}}),QT=cr().merge({},Jw,{filterIcon:{color:"#000",activeBackground:"rgba(107, 112, 131, 0.5)"},resizeArea:{interactionState:{hover:{backgroundOpacity:.05},selected:{backgroundOpacity:.05}}},cornerCell:{cell:{padding:{top:0,right:8,bottom:0,left:8},backgroundColor:"#fff",backgroundColorOpacity:1},bolderText:{opacity:.4}},splitLine:{horizontalBorderWidth:1,verticalBorderWidth:1,shadowWidth:3,verticalBorderColor:"#E7E6EA",horizontalBorderColor:"#E7E6EA"},rowCell:{bolderText:{opacity:.85,fill:"#000",fontFamily:"Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Heiti SC, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif",fontSize:12},text:{opacity:.85,fill:"#000",fontFamily:"Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Heiti SC, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif",fontSize:12},cell:{backgroundColor:"#fff",backgroundColorOpacity:1,padding:{top:0,right:0,bottom:0,left:0},interactionState:{hover:{backgroundColor:"#4876ff",backgroundOpacity:.05},selected:{backgroundColor:"#4876ff",backgroundOpacity:.15,borderColor:"#4876ff",borderOpacity:.8}}}},colCell:{cell:{backgroundColor:"#fff",backgroundColorOpacity:1,padding:{top:0,right:12,bottom:0,left:12},interactionState:{hover:{backgroundColor:"#4876ff",backgroundOpacity:.3},selected:{backgroundColor:"#4876ff",backgroundOpacity:.15,borderColor:"#4876ff",borderOpacity:.8}}},bolderText:{opacity:.85,fill:"#000",fontFamily:"Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Heiti SC, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif",fontSize:12,fontWeight:"bold"},text:{opacity:.85,fill:"#000",fontFamily:"Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Heiti SC, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif",fontSize:12,fontWeight:"bold"}},dataCell:{icon:{size:14,margin:{left:4,right:0}},bolderText:{opacity:.65,fill:"#000",fontFamily:"Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Heiti SC, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif",fontSize:12,fontWeight:"normal"},text:{opacity:.65,fill:"#000",fontFamily:"Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Heiti SC, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif",fontSize:12,textAlign:"left",fontWeight:"normal"},cell:{backgroundColor:"#fff",crossBackgroundColor:"#fff",interactionState:{selected:{backgroundColor:"#4876ff",backgroundOpacity:.15,borderColor:"#4876ff",borderOpacity:.8}},padding:{top:0,right:12,bottom:0,left:12}}}}),nT=["columns","data","refreshKey","onChange","onEditBlur","onCreated","editable","hoverable","expandVacancy","widthOffset","antdStyleContext","heightOffset","theme","sortable","onFiltered","showSearch","onShowSearchChange","contextMenu","contextMenuWidth","log","lang","s2Options","useDataExploreMenu","children","seriesNumberStartOffset","summaryRowCfg","renderSummaryCell","enableCopy","showSortModal","showFilterModal","onShowSortModalChange","onShowFilterModalChange","onFilterParamsChange","onSortParamsChange","onDataCellDoubleClick","onDataCellSelectMove","useDefaultFieldDetail","disableCellDetail","compareType","onColCellClick","useDiagnosis","containerStyle","Toolbar","showIconInColumnCell","showCompareDetail","dataCellError","tableMode","scopedPlugins","newDesensitize","desensitizeRefresh"];function ay(d){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},ay(d)}function ex(){return ex=Object.assign?Object.assign.bind():function(d){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(d[w]=m[w])}return d},ex.apply(this,arguments)}function of(d,p){return tO(d)||aT(d,p)||eO(d,p)||JT()}function JT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eO(d,p){if(d){if(typeof d=="string")return iT(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return iT(d,p)}}function iT(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function aT(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function tO(d){if(Array.isArray(d))return d}function oT(d,p){if(d==null)return{};var m=rO(d,p),w,I;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(d);for(I=0;I<P.length;I++)w=P[I],!(p.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(d,w)&&(m[w]=d[w])}return m}function rO(d,p){if(d==null)return{};var m={},w=Object.keys(d),I,P;for(P=0;P<w.length;P++)I=w[P],!(p.indexOf(I)>=0)&&(m[I]=d[I]);return m}function jE(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function ya(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?jE(Object(m),!0).forEach(function(w){oy(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):jE(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function oy(d,p,m){return p=nO(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function nO(d){var p=VE(d,"string");return ay(p)=="symbol"?p:String(p)}function VE(d,p){if(ay(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(ay(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}var iO=function(p,m){return m.every(function(w){var I=w[p];return I===p||(0,oe.isNil)(I)?!0:typeof I=="number"||typeof I=="bigint"||typeof I=="string"&&!Number.isNaN(Number(I))})},XE=function(p,m){var w={};return m.forEach(function(I){w[I.name]=iO(I.name,p)?Ti.Number:Ti.String}),w},ZE=0,EA=function(p,m){var w=m.indexOf(p);return w===-1?0:w-m.length},lT=function(p,m,w,I){var P=w.sortable,N=P===void 0?!1:P,$=w.frozenCols,V=$===void 0?[]:$,J=w.summaryRowCfg,se=w.rowsForSearchFilter,Te=se===void 0?[]:se,Se=w.compareType,et=w.showCompareDetail,ft=w.dataCellError,Ue=w.comparesheet;return{fields:{columns:p.map(function(Ne){return Ne.name}),rows:[],values:[]},meta:p.map(function(Ne){return ya(ya({},Ne),{},{field:Ne.name,name:Ne.displayName,cn:Ne.cn||"",inproduced:Ne.inproduced||!1,formatter:Ne.formatter||function(Ct){return typeof Ct=="string"?Ct.replace(/\n/g,"\\n"):Ct}})}),data:ad(m,Te),types:I,sortable:N,summaryRowCfg:J,compareType:Se,comparesheet:Ue,showCompareDetail:et,dataCellError:ft}},m2=ie().forwardRef(function(d,p){var m,w,I=d.columns,P=d.data,N=d.refreshKey,$=d.onChange,V=d.onEditBlur,J=d.onCreated,se=J===void 0?oe.noop:J,Te=d.editable,Se=Te===void 0?!1:Te,et=d.hoverable,ft=et===void 0?!1:et,Ue=d.expandVacancy,Ne=Ue===void 0?!1:Ue,Ct=d.widthOffset,Ot=Ct===void 0?0:Ct,mt=d.antdStyleContext,Wt=mt===void 0?{}:mt,Xe=d.heightOffset,_t=Xe===void 0?0:Xe,vt=d.theme,Rt=vt===void 0?"dark":vt,Kt=d.sortable,fr=Kt===void 0?!1:Kt,kr=d.onFiltered,ln=kr===void 0?function(Zn){return Zn}:kr,nn=d.showSearch,Jr=d.onShowSearchChange,hn=d.contextMenu,it=hn===void 0?[]:hn,je=d.contextMenuWidth,dt=d.log,Jt=dt===void 0?oe.noop:dt,pr=d.lang,xr=pr===void 0?Fn.zh_CN:pr,Nr=d.s2Options,Wr=Nr===void 0?{}:Nr,on=d.useDataExploreMenu,Yn=on===void 0?!1:on,sn=d.children,bn=d.seriesNumberStartOffset,Hi=d.summaryRowCfg,ua=d.renderSummaryCell,li=d.enableCopy,La=li===void 0?!0:li,so=d.showSortModal,Ho=so===void 0?!1:so,eo=d.showFilterModal,Wa=eo===void 0?!1:eo,qi=d.onShowSortModalChange,pa=qi===void 0?oe.noop:qi,Qi=d.onShowFilterModalChange,Ua=Qi===void 0?oe.noop:Qi,Ao=d.onFilterParamsChange,_l=Ao===void 0?oe.noop:Ao,Ws=d.onSortParamsChange,Nf=Ws===void 0?oe.noop:Ws,Ah=d.onDataCellDoubleClick,xs=Ah===void 0?oe.noop:Ah,El=d.onDataCellSelectMove,kp=El===void 0?oe.noop:El,Sv=d.useDefaultFieldDetail,Hf=Sv===void 0?!0:Sv,_v=d.disableCellDetail,zf=_v===void 0?!1:_v,Ih=d.compareType,Rh=d.onColCellClick,a0=d.useDiagnosis,Dc=a0===void 0?!1:a0,Fl=d.containerStyle,ax=Fl===void 0?{}:Fl,Ev=d.Toolbar,ox=d.showIconInColumnCell,Mv=ox===void 0?!1:ox,o0=d.showCompareDetail,vi=d.dataCellError,to=d.tableMode,D2=to===void 0?go.table:to,nl=d.scopedPlugins,Ai=d.newDesensitize,Wi=d.desensitizeRefresh,po=oT(d,nT),pi,Zi=(0,re.useRef)(null),Sa=(0,re.useState)([]),Io=of(Sa,2),fM=Io[0],MT=Io[1],$O=(0,re.useState)({}),TT=of($O,2),D1=TT[0],hM=TT[1],L2=(0,re.useState)(Hi),OT=of(L2,2),Xl=OT[0],l0=OT[1],P2=D2===go.table,dM=RE(),vM=dM.sourceTable,lx=dM.targetTable;(0,re.useEffect)(function(){l0(Hi)},[Hi]);var UO=(0,re.useState)(lT([],[],{sortable:fr,frozenCols:[],summaryRowCfg:Xl,compareType:Ih,comparesheet:{sourceTable:vM,targetTable:lx},showCompareDetail:o0,dataCellError:vi},D1)),pM=of(UO,2),B2=pM[0],sx=pM[1];KT(P2);var YO=(0,re.useState)(function(){return new q0}),AT=of(YO,1),Ed=AT[0],fy=(0,ea.Re)(Ed.dataTransformer),ux=(0,ea.Re)(Ed.columnTransformer),IT=(0,ea.Re)(Ed.optionsTransformer),gM=Al(wi.m.FREEZECOL,Ed),RT=(0,ea.P$)(gM.cols),DT=(0,re.useState)(!1),L1=of(DT,2),k2=L1[0],jO=L1[1],mM=(0,re.useState)([]),yM=of(mM,2),CM=yM[0],LT=yM[1],VO=(0,re.useState)([]),PT=of(VO,2),bM=PT[0],ts=PT[1],Ga=(0,re.useState)({}),Ml=of(Ga,2),Wf=Ml[0],Lc=Ml[1],fx=(0,re.useState)({}),P1=of(fx,2),hy=P1[0],wM=P1[1],XO=(0,re.useState)({}),B1=of(XO,2),hx=B1[0],rs=B1[1],ZO=(0,re.useState)({}),BT=of(ZO,2),xM=BT[0],KO=BT[1],zL=function(){if(Zi.current)return Zi.current};ie().useImperativeHandle(p,function(){return{getS2Ref:zL}},[]),typeof Rt=="string"?Rt==="dark"?pi=g2:pi=QT:pi=Rt;var kT=Wr==null||(m=Wr.style)===null||m===void 0?void 0:m.layoutWidthType,YI=I.some(function(Zn){return Zn.cn}),bR=(0,re.useState)((0,oe.merge)({width:0,height:0,showSeriesNumber:!0,hdAdapter:!0,placeholder:"",showDefaultHeaderActionIcon:!1,dataCell:function(ui){return ui.colIndex===0?new Ys(ya(ya({},ui),{},{showIconInColumnCell:Mv,useDiagnosis:Dc,newDesensitize:Ai,desensitizeRefresh:Wi}),Zi.current):new dw(ya(ya({},ui),{},{showIconInColumnCell:Mv,useDiagnosis:Dc,newDesensitize:Ai,desensitizeRefresh:Wi}),Zi.current)},colCell:function(ui,ro,$a){var Zl;return ui.colIndex===0?Zl=new Nt(ui,ro,$a):YI?Zl=new _e(ui,ro,$a):Zl=new ye.UhE(ui,ro,$a),Zl},interaction:{enableCopy:!1,selectedCellsSpotlight:!1,selectedCellHighlight:!0,hoverHighlight:!0,scrollSpeedRatio:{horizontal:2,vertical:1},autoResetSheetStyle:!1,scrollbarPosition:ye.Lau.CANVAS,resize:{rowResizeType:ye.NqB.CURRENT}},style:{layoutWidthType:kT,colCfg:{height:YI?50:25,heightByField:hx,widthByFieldValue:hy},cellCfg:{height:31},rowCfg:{heightByField:xM},device:"pc"},tooltip:{showTooltip:!1,className:"dp-spreasheet-tooltip"},layoutCoordinate:function(ui,ro,$a){var Zl,Bc;if(!($a.field===ye.O6N||kT&&kT!=="compact")){var s0=((Zl=ui.options.style)===null||Zl===void 0||(Zl=Zl.colCfg)===null||Zl===void 0?void 0:Zl.widthByFieldValue)||{},Tv=(Bc=ui.dataCfg.data)===null||Bc===void 0||(Bc=Bc[0])===null||Bc===void 0?void 0:Bc[$a.field],Ov=ui.backgroundGroup.cfg.canvas.cfg.width-35,ac=(0,oe.size)(ui.dataCfg.fields.columns)*200,wR=(0,oe.size)(ui.dataCfg.fields.columns),u0=s0[$a.value];if(u0)return u0;if(!(0,oe.isNil)(Ih))return ac<Ov?$a.width=Ov/wR:$a.width=200;if(Tv){var QO,JO,eA,tA,rA,nA,iA,aA,dy=(QO=ui.theme.dataCell)===null||QO===void 0?void 0:QO.icon,F2=(JO=ui.theme.colCell)===null||JO===void 0?void 0:JO.cell,N2=Math.max(ui.measureTextWidth(Tv,(eA=ui.theme.colCell)===null||eA===void 0?void 0:eA.text),ui.measureTextWidth($a.field,(tA=ui.theme.colCell)===null||tA===void 0?void 0:tA.text))+((F2==null||(rA=F2.padding)===null||rA===void 0?void 0:rA.left)||0)+((F2==null||(nA=F2.padding)===null||nA===void 0?void 0:nA.right)||0)+((dy==null?void 0:dy.size)||0)+((dy==null||(iA=dy.margin)===null||iA===void 0?void 0:iA.left)||0)+((dy==null||(aA=dy.margin)===null||aA===void 0?void 0:aA.right)||0);Qr.test(Tv)&&(N2+=Ai?XC:tE),N2=Math.max(N2,100),N2=Math.min(N2,340),$a.width=Math.max($a.width,N2)}Ne||$a.width>340&&!s0[$a.value]&&($a.width=340);var oA=ui.dataCfg.summaryRowCfg;oA&&oA.visible&&ua&&!s0[$a.value]&&($a.width=Math.max(232,$a.width,oA.width))}}},Wr)),jI=of(bR,2),qO=jI[0],Md=jI[1];(0,re.useEffect)(function(){(0,oe.isNumber)(bn)&&Md(function(Zn){return ya(ya({},Zn),{},{seriesNumberStartOffset:bn})})},[bn]),(0,re.useEffect)(function(){if(Xl&&Xl.visible&&!Mv&&!(0,oe.isNil)(Xl==null?void 0:Xl.rowIndex)){KO(function(Zn){return ya(ya({},Zn),{},oy({},String(Xl.rowIndex),Xl.height+Ja||300))});return}Xl&&Mv&&(Xl.visible?rs(function(Zn){return ya(ya({},Zn),{},oy({},ye.O6N,Xl.height+(0,oe.get)(Wr,"style.colCfg.height",25)))}):rs(function(Zn){return ya(ya({},Zn),{},oy({},ye.O6N,(0,oe.get)(Wr,"style.colCfg.height",25)))})),Xl&&!(0,oe.isNil)(Xl==null?void 0:Xl.rowIndex)&&KO(function(Zn){return ya(ya({},Zn),{},oy({},String(Xl.rowIndex),null))})},[Xl,Mv]);var Td=(0,re.useRef)(null);(0,re.useLayoutEffect)(function(){if(Td.current){var Zn=Td.current,ui=Zn.offsetWidth,ro=Zn.offsetHeight;Md(function($a){return ya(ya({},$a),{},{width:ui,height:ro})})}},[N]),(0,re.useEffect)(function(){Lc({})},[fM]),(0,re.useEffect)(function(){var Zn=Qs(P);MT(Zn),hM(XE(Zn,I))},[P]),(0,re.useEffect)(function(){Zi.current.typeHints=D1},[D1]),(0,re.useEffect)(function(){Object.keys(Wr).length&&Md(function(Zn){return(0,oe.merge)(Zn,Wr)})},[Wr]);var ic=(0,oe.partition)([].concat(Hm.childContribution,nl).filter(Boolean),function(Zn){return Zn.signature&&Zn.signature===Nm.BEFORE_TABLE}),VI=of(ic,2),FT=VI[0],XI=VI[1],SM=function(){var ui=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return I.forEach(function(ro){return delete ro.conditionalFormatters}),Object.assign(lT(am(ux.transformers)(I),am(fy.transformers)(fM),ya({sortable:fr,frozenCols:RT,summaryRowCfg:Xl,rowsForSearchFilter:CM,compareType:Ih,comparesheet:{sourceTable:vM,targetTable:lx},showCompareDetail:o0,dataCellError:vi},ui),D1),{})};(0,re.useEffect)(function(){var Zn=(0,ea.YP)(IT,"transformers",function(){Md(am(IT.transformers))});return function(){return Zn.dispose()}},[Md]),(0,re.useEffect)(function(){var Zn=(0,ea.YP)(fy,"transformers",function(){sx(SM())}),ui=(0,ea.YP)(ux,"transformers",function(){sx(SM())});return function(){ui.dispose(),Zn.dispose()}},[sx,SM]),qO.frozenColCount!==gM.cols.length+1&&Md(function(Zn){return ya(ya({},Zn),{},{frozenColCount:gM.cols.length+1})}),(0,re.useEffect)(function(){sx(SM())},[fM,I,RT,D1,Xl,CM,vi,vM,lx]),(0,re.useEffect)(function(){if(k2&&bM.length)LT(bM.map(function(ui){return ui.id}));else if(CM.length){LT([]);var Zn=SM({rowsForSearchFilter:[]});Zi.current.setDataCfg(Zn),Zi.current.dataSet.setDataCfg(Zn)}},[k2,bM]);var Pc=(0,re.useCallback)(function(Zn,ui,ro){return Zi.current=new ye.HZt(Zn,ui,ro),ZE++,Zi.current.__id=ZE,ft||(Zi.current.off(ye.ch4.DATA_CELL_HOVER),Zi.current.off(ye.ch4.COL_CELL_HOVER),Zi.current.off(ye.ch4.ROW_CELL_HOVER)),Zi.current.logger=function($a,Zl){Jt($a,Zl)},Zi.current.commandManager=Ed,se(Zi.current),Zi.current},[]);(0,re.useEffect)(function(){Jt(Gr.mount)},[]),(0,re.useEffect)(function(){if(Td.current){var Zn=Td.current,ui=new ResizeObserver((0,oe.debounce)(function(){if(Td.current){var ro=Td.current,$a=ro.offsetWidth,Zl=ro.offsetHeight;if(Zl===0||$a===0)return;Md(function(Bc){return ya(ya({},Bc),{},{width:$a-Ot,height:Zl-_t-(Ev?36:0)})})}},200));return ui.observe(Zn),function(){ui.unobserve(Zn)}}},[_t,Ev,Ot]),(0,re.useEffect)(function(){xr&&Gi(xr)},[xr]),(0,re.useLayoutEffect)(function(){if(Td.current){var Zn=function($a){Math.abs($a.deltaX)>10&&$a.preventDefault()},ui=Td.current;return ui.addEventListener("wheel",Zn),function(){return ui.removeEventListener("wheel",Zn)}}},[Td.current]),(0,re.useEffect)(function(){(!(0,oe.isNil)(hx)||!(0,oe.isNil)(hy)||!(0,oe.isNil)(xM))&&Md(function(Zn){var ui,ro;return ya(ya({},Zn),{},{style:ya(ya({},Zn.style),{},{colCfg:ya(ya({},(ui=Zn.style)===null||ui===void 0?void 0:ui.colCfg),{},{widthByFieldValue:hy,heightByField:hx}),rowCfg:ya(ya({},(ro=Zn.style)===null||ro===void 0?void 0:ro.rowCfg),{},{heightByField:xM})})})})},[hx,hy,xM]),(0,re.useEffect)(function(){if(Zi.current){var Zn=Zi.current,ui=function(Ov){Lc(function(ac){return ya(ya({},ac),{},{filterParams:Zn.dataCfg.filterParams})}),_l(Zn.dataCfg.filterParams),setTimeout(function(){var ac;ln(((ac=Zi.current)===null||ac===void 0||(ac=ac.dataSet)===null||ac===void 0?void 0:ac.getDisplayDataSet())||[])})},ro=function(Ov){Lc(function(ac){return ya(ya({},ac),{},{sortParams:Zn.dataCfg.sortParams})}),Nf(Zn.dataCfg.sortParams)},$a=function(){return Jt(Gr.brushSelection)},Zl=function(Ov){wM(function(ac){return ya(ya({},ac),(0,oe.get)(Ov,"style.colCfg.widthByFieldValue")||{})}),Jt(Gr.dragColWidth)},Bc=function(Ov){rs(function(ac){return ya(ya({},ac),(0,oe.get)(Ov,"style.colCfg.heightByField")||{})}),Jt(Gr.dragColHeight)},s0=function(Ov){KO(function(ac){return ya(ya({},ac),(0,oe.get)(Ov,"style.rowCfg.heightByField")||{})}),Jt(Gr.dragRowHeight)};return Zi.current.on(ye.ch4.RANGE_FILTERED,ui),Zi.current.on(ye.ch4.RANGE_SORTED,ro),Zi.current.on(ye.ch4.DATA_CELL_BRUSH_SELECTION,$a),Zi.current.on(ye.ch4.LAYOUT_RESIZE_COL_WIDTH,Zl),Zi.current.on(ye.ch4.LAYOUT_RESIZE_COL_HEIGHT,Bc),Zi.current.on(ye.ch4.LAYOUT_RESIZE_ROW_HEIGHT,s0),function(){Zn.off(ye.ch4.RANGE_FILTERED,ui),Zn.off(ye.ch4.RANGE_SORTED,ro),Zn.off(ye.ch4.DATA_CELL_BRUSH_SELECTION,$a),Zn.off(ye.ch4.LAYOUT_RESIZE_COL_WIDTH,Zl),Zn.off(ye.ch4.LAYOUT_RESIZE_COL_HEIGHT,Bc),Zn.off(ye.ch4.LAYOUT_RESIZE_ROW_HEIGHT,s0)}}},[ln,Zi.current]);var ZI=ie().useMemo(function(){var Zn=typeof Rt=="string"?Rt:"dark";return Hr.theme=Zn,Hr.antdStyleContext=Wt,Ed.setSpreadSheet(Zi.current),{spreadsheet:Zi.current,logger:Jt,theme:Zn,commandManager:Ed}},[Jt,Zi.current,Rt,Ed,Wt]);return(0,re.useEffect)(function(){return dv.on("typeChange",function(Zn){hM(function(ui){return ya(ya({},ui),{},oy({},Zn.fieldName,Zn.type))})}),function(){dv.removeAllListeners()}},[]),ie().createElement(hr.Provider,{value:ZI},ie().createElement(xo,null),ie().createElement(AE,{tableData:B2.data,columns:I}),ie().createElement(Au,{columns:I,visible:Ho,onVisibleChange:pa}),ie().createElement(Rp,{columns:I,visible:Wa,onVisibleChange:Ua}),ie().createElement(u2,null),ie().createElement(T,{menus:it,menusWidth:je,useDataExploreMenu:Yn}),La?ie().createElement(h1,null):null,sn,ie().createElement(rf,null),ie().createElement(iy,null),ie().createElement(L,null),ie().createElement(xh,{showSearch:nn,onShowSearchChange:Jr,columns:I,sortedColumn:im((w=B2.fields)===null||w===void 0?void 0:w.columns),filterSearch:k2,toggleFilterSearch:function(){k2||Jt(Gr.searchFilter),jO(function(ui){return!ui})},sortFilterCfg:Wf,onSearch:function(ui){ts(ui)}}),Ev&&ie().createElement(Ev,ex({},d,{summaryRowCfg:Xl,setSummaryRowCfg:l0})),FT.length&&Zi.current?FT.map(function(Zn){return ie().createElement(Zn,d)}):null,ie().createElement("div",{className:["s2-table-container","dp-spreadsheet-container"].join(" "),ref:Td,style:ya(ya({},ax),{},{display:{hidden:"none"}[d.hidden?"hidden":"block"]}),onClick:function(){var ui,ro,$a=document.activeElement;(ui=$a.classList)!==null&&ui!==void 0&&ui.contains("monaco-mouse-cursor-text")&&(ro=Td.current)!==null&&ro!==void 0&&ro.contains($a)||$a.blur&&$a.blur()}},!Se&&Hf&&!zf?ie().createElement(o2,{enableCopy:!0,disabled:!Hf}):null,P2?ie().createElement(Km,{renderSummaryCell:ua,cfg:Xl,showIconInColumnCell:Mv,customHeights:xM,sheetWidth:qO.width,typeHints:D1}):null,P2?ie().createElement(ut.HZ,ex({},po,{dataCfg:B2,adaptive:!1,options:qO,onDataCellSelectMove:function(ui){kp(ui)},onDataCellDoubleClick:function(ui){var ro,$a,Zl,Bc,s0=ui==null||(ro=ui.viewMeta)===null||ro===void 0||(ro=ro.spreadsheet)===null||ro===void 0||(ro=ro.dataCfg)===null||ro===void 0?void 0:ro.data,Tv=ui==null||($a=ui.viewMeta)===null||$a===void 0?void 0:$a.rowIndex,Ov=ui==null||(Zl=ui.viewMeta)===null||Zl===void 0?void 0:Zl.colIndex;if((0,oe.isNil)(Ih)){xs(ui.viewMeta);return}if(s0!=null&&(Bc=s0[Tv])!==null&&Bc!==void 0&&Bc[Ov]){xs(ui.viewMeta);return}},spreadsheet:Pc,onColCellClick:Rh||function(Zn){if(Zn.viewMeta.colIndex===0){var ui;Jt(Gr.selectAllByClick),(ui=Zi.current)===null||ui===void 0||ui.interaction.changeState({stateName:ye._61.ALL_SELECTED})}},themeCfg:{theme:pi,name:"default"}})):null,XI.length&&Zi.current?XI.map(function(Zn){return ie().createElement(Zn,d)}):null))});m2.displayName="BaseTable";var KE=m2,y2=function(){return addHOCEnhancer(m2)};function C1(d){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},C1(d)}function qE(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function MA(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?qE(Object(m),!0).forEach(function(w){Lp(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):qE(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function Lp(d,p,m){return p=t(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function sT(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function h(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,t(w.key),w)}}function f(d,p,m){return p&&h(d.prototype,p),m&&h(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function t(d){var p=c(d,"string");return C1(p)=="symbol"?p:String(p)}function c(d,p){if(C1(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(C1(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function v(){return typeof Reflect!="undefined"&&Reflect.get?v=Reflect.get.bind():v=function(p,m,w){var I=y(p,m);if(I){var P=Object.getOwnPropertyDescriptor(I,m);return P.get?P.get.call(arguments.length<3?p:w):P.value}},v.apply(this,arguments)}function y(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=Y(d),d!==null););return d}function b(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&M(d,p)}function M(d,p){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},M(d,p)}function A(d){var p=W();return function(){var w=Y(d),I;if(p){var P=Y(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return B(this,I)}}function B(d,p){if(p&&(C1(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H(d)}function H(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function W(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function Y(d){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},Y(d)}var Q=function(p){var m;return(m=p==null?void 0:p.position)!==null&&m!==void 0?m:"right"};(0,ye.q5g)("filterIcon",dn),(0,ye.q5g)("sortUp",kn),(0,ye.q5g)("sortDown",wr),(0,ye.q5g)("maskIcon",ei);var te={none:"filterIcon",asc:"sortUp",desc:"sortDown",mask:"maskIcon"},he=26,Me=4,Fe=26,Qe=4,nt=4,pt=he+Me-Qe,Qt=null,Sr=null,Mr=null;function Or(){return Or=Object.assign?Object.assign.bind():function(d){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(d[w]=m[w])}return d},Or.apply(this,arguments)}function Xr(d){"@babel/helpers - typeof";return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Xr(d)}function tn(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function ti(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?tn(Object(m),!0).forEach(function(w){ri(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):tn(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function ri(d,p,m){return p=Yi(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function Yi(d){var p=xa(d,"string");return Xr(p)=="symbol"?p:String(p)}function xa(d,p){if(Xr(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Xr(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function vo(d,p){return Rc(d)||Oo(d,p)||ws(d,p)||_u()}function _u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ws(d,p){if(d){if(typeof d=="string")return Uu(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Uu(d,p)}}function Uu(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function Oo(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function Rc(d){if(Array.isArray(d))return d}function b1(d,p){if(d==null)return{};var m=w1(d,p),w,I;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(d);for(I=0;I<P.length;I++)w=P[I],!(p.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(d,w)&&(m[w]=d[w])}return m}function w1(d,p){if(d==null)return{};var m={},w=Object.keys(d),I,P;for(P=0;P<w.length;P++)I=w[P],!(p.indexOf(I)>=0)&&(m[I]=d[I]);return m}var C2=function(p){var m=p.refToOtherTable,w=useSpreadSheet(),I=useCallback(function(P){var N=P.scrollX,$=P.scrollY,V=m==null?void 0:m.current.getS2Ref();if(V&&w.spreadsheet)try{V.facet.setScrollOffset({scrollX:N,scrollY:$}),V.facet.startScroll(!0)}catch(J){console.error(J)}},[w]);return useS2EventHandler(S2Event.GLOBAL_SCROLL,I),null},TA=null,OA=null;function Pp(){return Pp=Object.assign?Object.assign.bind():function(d){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(d[w]=m[w])}return d},Pp.apply(this,arguments)}function b2(d){return lO(d)||oO(d)||sO(d)||aO()}function aO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oO(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function lO(d){if(Array.isArray(d))return S1(d)}function x1(d,p){return uO(d)||w2(d,p)||sO(d,p)||AA()}function AA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sO(d,p){if(d){if(typeof d=="string")return S1(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return S1(d,p)}}function S1(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function w2(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function uO(d){if(Array.isArray(d))return d}var uT=0,x2=function(){return uT++},cT=function(p){var m=p.name,w=p.active,I=p.onClick;return ie().createElement("div",{className:fe()(w&&"workbook-tab-active","workbook-tab-tabitem"),onClick:I},m)},cO=ie().forwardRef(function(d,p){var m=(0,re.useState)([{name:"Sheet1",id:x2()}]),w=x1(m,2),I=w[0],P=w[1],N=(0,re.useState)(I[0].id),$=x1(N,2),V=$[0],J=$[1],se=d.theme,Te=d.children,Se=d.heightOffset;typeof se!="string"&&(se="light");var et=function(){P([].concat(b2(I),[{name:"Sheet".concat(I.length+1),id:x2()}]))};return ie().createElement(ie().Fragment,null,I.map(function(ft){return V===ft.id?ie().createElement(KE,Pp({},d,{ref:p,heightOffset:(Se||0)+24}),Te):ie().createElement(KE,Pp({},d,{heightOffset:(Se||0)+24,containerStyle:{display:"none"}}))}),ie().createElement("div",{className:fe()("workbook-toolbar",se==="dark"&&"dark-theme")},ie().createElement(Re,{type:"one-icon dataphin-icon icon-tianjia",style:{fontSize:"15px"},onClick:et}),I.map(function(ft){return ie().createElement(cT,{name:ft.name,active:ft.id===V,onClick:function(){return J(ft.id)}})})))});cO.displayName="Workbook";var fT=null,Ff=function(d){return d.Pivot="pivot",d.Bar="bar",d.Line="line",d.Pie="pie",d.Filter="filter",d.Sort="sort",d.Search="search",d.Download="download",d.Share="share",d.Explore="explore",d.Transform="transform",d.SplitView="splitView",d.Excel="excel",d.Pin="pin",d.Border="border",d.Log="log",d.HideColumn="hideColumn",d.Table="table",d.HoverHighlight="hoverHighlight",d.AddChart="AddChart",d.Undo="Undo",d.Redo="Redo",d.Save="Save",d.Load="Load",d.Refresh="Refresh",d.ToggleEdit="ToggleEdit",d.ViewModification="ViewModification",d.modeChange="modeChange",d.pivotMode="pivotMode",d.tableMode="tableMode",d.remark="remark",d}({}),ly={renderIcon:function(p){var m,w=!!((m=p.options)!==null&&m!==void 0&&(m=m.interaction)!==null&&m!==void 0&&m.hoverHighlight);return ie().createElement("div",{className:fe()("iconContainer",{active:!!w})},ie().createElement(Re,{type:"dataphin-icon icon-gaoliangsuozaihang1"}))},label:"\u9AD8\u4EAE",id:Ff.HoverHighlight,onClick:function(p){var m=!(0,oe.get)(p,"options.interaction.hoverHighlight",!1);p.setOptions({interaction:{hoverHighlight:m}}),p.render()}},hT=null,b6={renderIcon:function(p){return ie().createElement("div",{className:fe()("iconContainer")},ie().createElement(Re,{type:"dataphin-icon icon-charutubiao"}))},label:"\u63D2\u5165\u56FE\u8868",id:Ff.AddChart,onClick:function(p){qr(t2,{},p)}},IA=null,Bp={renderIcon:function(p){var m=p==null?void 0:p.commandManager.future.length;return ie().createElement("div",{className:fe()("iconContainer",{active:m})},ie().createElement(Re,{type:"dataphin-icon icon-zhongzuo"}))},label:"\u91CD\u505A",id:Ff.Redo,onClick:function(p){var m;lo.validate()&&((m=p.commandManager)===null||m===void 0||m.redo())}},RA=null,lf={renderIcon:function(p){var m=!!(p!=null&&p.commandManager.current.length);if(m){var w=p==null?void 0:p.commandManager,I=w.current[w.current.length-1];m=Array.isArray(I)?!0:I.isRevertable()}return ie().createElement("div",{className:fe()("iconContainer",{active:m})},ie().createElement(Re,{type:"dataphin-icon icon-chehui"}))},label:"\u64A4\u9500",id:Ff.Undo,onClick:function(p){var m;lo.validate()&&((m=p.commandManager)===null||m===void 0||m.undo())}},_1=null,sy={renderIcon:function(p,m){return ie().createElement("div",{className:fe()("iconContainer")},ie().createElement(Re,{type:"one-icon  icon-refresh"}))},label:"\u5237\u65B0\u6570\u636E",id:Ff.Refresh,onClick:function(p,m,w){p.render(!0)}},vD=null,Mh={renderIcon:function(p,m){var w=p.dataCfg.filterParams.length;return ie().createElement("div",{className:fe()("iconContainer",{active:w})},ie().createElement(Re,{type:"dataphin-icon icon-filetree-op-filter"}))},label:"\u7B5B\u9009",id:Ff.Filter,onClick:function(p,m,w){w.onShowFilterModalChange(!0)}},pD=null,w6={renderIcon:function(p,m){var w=p==null?void 0:p.dataCfg.sortParams.length;return ie().createElement("div",{className:fe()("iconContainer",{active:w})},ie().createElement(Re,{type:"dataphin-icon icon-paixu2"}))},label:"\u6392\u5E8F",id:Ff.Sort,onClick:function(p,m,w){w.onShowSortModalChange(!0)}},gD=null,mD={renderIcon:function(p,m){var w=m.isEditable;return ie().createElement("div",{className:fe()("iconContainer",{active:w})},ie().createElement(Re,{type:"one-icon  icon-bianji2"}))},label:"\u7F16\u8F91",id:Ff.ToggleEdit,onClick:function(p,m,w){var I;(I=p.dataCfg)!==null&&I!==void 0&&I.canEdit?w.setIsEditable(!w.isEditable):Zt.message.warning("\u5F53\u524D\u8868\u683C\u4E0D\u53EF\u7F16\u8F91")}},DA=null,fO=function(p){var m=p.onCancel,w=rr(),I=w.commandManager;return ie().createElement(Zt.Modal,{title:"\u7F16\u8F91",centered:!0,visible:!0,maskClosable:!0,onCancel:m,onOk:m},ie().createElement("div",{style:{maxHeight:"500px",overflow:"auto"}},I.current.map(function(P){return Array.isArray(P)?ie().createElement("div",null,"\u7EC4\u5408\u547D\u4EE4","\u53EF\u64A4\u56DE"):ie().createElement("div",null,P.humanReadable().name," ",P.isRevertable()?"\u53EF\u64A4\u56DE":"\u4E0D\u53EF\u64A4\u56DE")})))},x6=fO,LA={renderIcon:function(p){var m=!!(p!=null&&p.commandManager.current.length);return ie().createElement("div",{className:fe()("iconContainer",{active:m})},ie().createElement(Re,{type:"dataphin-icon icon-lishitab",style:{transform:"rotateY(180deg)"}}))},label:"\u67E5\u770B\u7F16\u8F91",id:Ff.ViewModification,onClick:function(p){qr(x6,{},p)}},yD=null,CD={renderIcon:function(p,m){var w=m.tableMode===go.pivot;return ie().createElement("div",{className:fe()("iconContainer",{active:w})},ie().createElement(Re,{type:"one-icon dataphin-icon icon-tablebeifen"}))},id:Ff.pivotMode,label:Ei("pivotTable"),onClick:function(p,m,w){p.logger&&p.logger(Gr.toggleMode);var I=w.onTableModeChange;I==null||I(go.pivot)}},bD={renderIcon:function(p,m){var w=m.tableMode===go.table;return ie().createElement("div",{className:fe()("iconContainer",{active:w})},ie().createElement(Re,{type:"one-icon dataphin-icon icon-biaodanmoshi"}))},id:Ff.tableMode,label:Ei("baseTable"),onClick:function(p,m,w){p.logger&&p.logger(Gr.toggleMode);var I=w.onTableModeChange;I==null||I(go.table)}},wD={renderIcon:function(p,m){var w,I=!!((w=m.summaryRowCfg)!==null&&w!==void 0&&w.visible),P=m.tableMode!==go.table;return ie().createElement("div",{className:fe()("iconContainer",{active:I,disabled:P})},ie().createElement(Re,{type:"dataphin-icon icon-chaxun"}))},label:"\u6570\u636E\u63A2\u67E5",id:Ff.Explore,onClick:function(p,m,w){var I,P=!!((I=w.summaryRowCfg)!==null&&I!==void 0&&I.visible),N=w.tableMode!==go.table;N||(P||p.logger(Gr.dataExplore),w.setSummaryRowCfg(P?{height:200,width:232,rowIndex:0,visible:!1}:{height:200,width:232,rowIndex:0,visible:!0}))}},xD=null,S6={renderIcon:function(p){var m,w=(m=p.dataCfg)===null||m===void 0?void 0:m.hasRemark;return ie().createElement("div",{className:fe()("iconContainer",{active:w})},ie().createElement(Re,{type:"dataphin-icon icon-huihua-xiankuang"}))},label:Ei("addRemark"),id:Ff.remark,onClick:function(p){var m;if((m=p.dataCfg)!==null&&m!==void 0&&m.canEdit){var w;p.setDataCfg({hasRemark:!((w=p.dataCfg)!==null&&w!==void 0&&w.hasRemark)}),p.render(!0)}else Zt.message.warning("\u60A8\u6CA1\u6709\u6743\u9650\u7F16\u8F91\u5907\u6CE8")}},SD=null;function _6(d,p){return O6(d)||T6(d,p)||M6(d,p)||E6()}function E6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M6(d,p){if(d){if(typeof d=="string")return hO(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return hO(d,p)}}function hO(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function T6(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function O6(d){if(Array.isArray(d))return d}var _D=function(p){var m=useSpreadSheet(),w=m.theme,I=m.spreadsheet;if(!I)return null;var P=React.useState(0),N=_6(P,2),$=N[0],V=N[1],J=[Undo,Redo,Refresh,ToggleEdit,{id:ToolBarFeature.Border},tableMode,pivotMode,{id:ToolBarFeature.Border},Insight,AddChart,Filter,Sort,{id:ToolBarFeature.Border},ViewModification,HoverHighlight,Remark],se=!0,Te=function(et){if(ToolBarFeature.Border===et.id)return React.createElement("div",{className:"border"});if(et)return React.createElement("div",{className:"toolbarItem",style:{color:w==="dark"?"white":"black"},onClick:function(Ue){et==null||et.onClick(I,Ue,p),V(function(Ne){return Ne+1})}},React.createElement(Tooltip,{title:et.label&&isFunction(et.label)?et.label(I,p):et.label,placement:se?"bottom":"top"},et.renderIcon(I,p)))};return React.createElement("div",{className:cx("weave-toolbar",w==="dark"?"dark":"white")},J.map(function(Se){return Te(Se)}))},ED=null,S2;function uy(d){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},uy(d)}function Xa(d,p,m){return p=A6(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function A6(d){var p=I6(d,"string");return uy(p)=="symbol"?p:String(p)}function I6(d,p){if(uy(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(uy(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}var Za={dataPreview:"a2545.b34910",search:"a2545.b34910.c89467.d186403",searchFilter:"a2545.b34910.c302074",fullScreen:"a2545.b34910.c89472.d186395",copyByKey:"a2545.b34910.c89468.d186400",copyByMenu:"a2545.b34910.c89468.d186399",export:"a2545.b34910.c89471.d186396",errorCollect:"a2545.b34910.c336407",brushSelect:"a2545.b34910.c89473.d186393",selectAllByClick:"a2545.b34910.c90009.d186401",selectAllByKey:"a2545.b34910.c90009.d186402",loadData:"a2545.b34910.c90008.d186394",dragColWidth:"a2545.b34910.c89470.d186456",dragColHeight:"a2545.b34910.c89470.d186397",colDisplaySetting:"a2545.b34910.c89469.d186398",clickRowColTransform:"a2545.b34910.c90010.d186404",frozenCol:"a2545.b34910.c91509.d189451",filterExpression:"a2545.b34910.c96290",editCell:"a2545.b34910.c96309",filterCol:"a2545.b34910.c96828",sortCol:"a2545.b34910.c96827",time:"a2545.b34910.c101881",dragRowHeight:"a2545.b34910.c89470.d186457",splitViewByClick:"a2545.b34910.c101356.d212124",splitViewByDrag:"a2545.b34910.c101356.d212126",switchTabOrder:"a2545.b34910.c101356.d212125",dataExplore:"a2545.b34910.c107459",sortManage:"a2545.b34910.c107458",setType:"a2545.b34910.c107460",webExcel:"a2545.b34910.c107466",jsonFieldDetail:"a2545.b34910.c108526.d224886",textFieldDetail:"a2545.b34910.c108526.d224884",exinfoFieldDetail:"a2545.b34910.c108526.d224885",toolbarExpand:"a2545.b34910.c109065.d225879",toolbarCollapse:"a2545.b34910.c109065.d225878",redo:"a2545.b34910.c118932",undo:"a2545.b34910.c118934",openDiagnosis:"a2545.b34910.c124341",acceptUrlHint:"a2545.b34910.c124344",acceptKVSplitHint:"a2545.b34910.c300458",splitCol:"a2545.b34910.c301104",copyLineNumAndSensitiveData:"a2545.b34910.c307767",pasteFromClipboard:"a2545.b34910.c308326",addRow:"a2545.b34910.c308539",removeRow:"a2545.b34910.c308540",toggleMode:"a2545.b34910.c310666",loadEdits:"a2545.b56538.c310776",conditionalFormatting:" a2545.b56538.c310862",exportData:"a2545.b56538.c314564",diffTable:"a2545.b61237",diffCaculate:"a2545.b61237.c315039",graphRecommendation:"a2545.b34910.c320048",useFormulaEngine:"a2545.b56538.c320569"},MD=(S2={},Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(S2,Gr.brushSelection,Za.brushSelect),Gr.copyByClick,Za.copyByMenu),Gr.copyByKey,Za.copyByKey),Gr.dragColHeight,Za.dragColHeight),Gr.dragColWidth,Za.dragColWidth),Gr.mount,Za.dataPreview),Gr.selectAllByClick,Za.selectAllByClick),Gr.selectAllByKey,Za.selectAllByKey),Gr.frozenCol,Za.frozenCol),Gr.editCell,Za.editCell),Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(S2,Gr.filterExpressionClick,Za.filterExpression),Gr.filterCol,Za.filterCol),Gr.sortCol,Za.sortCol),Gr.search,Za.search),Gr.searchFilter,Za.searchFilter),Gr.dragRowHeight,Za.dragRowHeight),Gr.setType,Za.setType),Gr.sortManage,Za.sortManage),Gr.undo,Za.sortManage),Gr.redo,Za.sortManage),Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(S2,Gr.detailJson,Za.jsonFieldDetail),Gr.detailText,Za.textFieldDetail),Gr.detailExt,Za.exinfoFieldDetail),Gr.openDiagnosis,Za.openDiagnosis),Gr.acceptUrlHint,Za.acceptUrlHint),Gr.splitKVCol,Za.acceptKVSplitHint),Gr.splitCol,Za.splitCol),Gr.addRow,Za.addRow),Gr.removeRow,Za.removeRow),Gr.toggleMode,Za.toggleMode),Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(S2,Gr.loadEdits,Za.loadEdits),Gr.exportData,Za.exportData),Gr.conditionalFormatting,Za.conditionalFormatting),Gr.copyLineNumAndSensitiveData,Za.copyLineNumAndSensitiveData),Gr.diffTable,Za.diffTable),Gr.diffCaculate,Za.diffCaculate),Gr.graphRecommendation,Za.graphRecommendation),Gr.useFormulaEngine,Za.useFormulaEngine),Gr.errorCollect,Za.errorCollect));function R6(d){return P6(d)||L6(d)||D6(d)||PA()}function PA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D6(d,p){if(d){if(typeof d=="string")return xv(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return xv(d,p)}}function L6(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function P6(d){if(Array.isArray(d))return xv(d)}function xv(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}var TD=function(p){return{text:i18n("clear"),onClick:function(w,I){var P=I.interaction.getInteractedCells().filter(function($){return $ instanceof TableSeriesCell}).map(function($){return Number($.getMeta().rowId)}),N=I.interaction.getInteractedCells().filter(function($){return $ instanceof DataCell}).map(function($){return $.getMeta()});return p(function($){var V=R6($);return P.forEach(function(J){V[J]={}}),N.forEach(function(J){V[J.rowIndex][J.valueField]=null}),V}),w},condition:function(w,I){return!!I.interaction.getInteractedCells().length}}},OD=null;function QE(d){"@babel/helpers - typeof";return QE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},QE(d)}function cy(){"use strict";cy=function(){return p};var d,p={},m=Object.prototype,w=m.hasOwnProperty,I=Object.defineProperty||function(it,je,dt){it[je]=dt.value},P=typeof Symbol=="function"?Symbol:{},N=P.iterator||"@@iterator",$=P.asyncIterator||"@@asyncIterator",V=P.toStringTag||"@@toStringTag";function J(it,je,dt){return Object.defineProperty(it,je,{value:dt,enumerable:!0,configurable:!0,writable:!0}),it[je]}try{J({},"")}catch(it){J=function(dt,Jt,pr){return dt[Jt]=pr}}function se(it,je,dt,Jt){var pr=je&&je.prototype instanceof Ct?je:Ct,xr=Object.create(pr.prototype),Nr=new Jr(Jt||[]);return I(xr,"_invoke",{value:fr(it,dt,Nr)}),xr}function Te(it,je,dt){try{return{type:"normal",arg:it.call(je,dt)}}catch(Jt){return{type:"throw",arg:Jt}}}p.wrap=se;var Se="suspendedStart",et="suspendedYield",ft="executing",Ue="completed",Ne={};function Ct(){}function Ot(){}function mt(){}var Wt={};J(Wt,N,function(){return this});var Xe=Object.getPrototypeOf,_t=Xe&&Xe(Xe(hn([])));_t&&_t!==m&&w.call(_t,N)&&(Wt=_t);var vt=mt.prototype=Ct.prototype=Object.create(Wt);function Rt(it){["next","throw","return"].forEach(function(je){J(it,je,function(dt){return this._invoke(je,dt)})})}function Kt(it,je){function dt(pr,xr,Nr,Wr){var on=Te(it[pr],it,xr);if(on.type!=="throw"){var Yn=on.arg,sn=Yn.value;return sn&&QE(sn)=="object"&&w.call(sn,"__await")?je.resolve(sn.__await).then(function(bn){dt("next",bn,Nr,Wr)},function(bn){dt("throw",bn,Nr,Wr)}):je.resolve(sn).then(function(bn){Yn.value=bn,Nr(Yn)},function(bn){return dt("throw",bn,Nr,Wr)})}Wr(on.arg)}var Jt;I(this,"_invoke",{value:function(xr,Nr){function Wr(){return new je(function(on,Yn){dt(xr,Nr,on,Yn)})}return Jt=Jt?Jt.then(Wr,Wr):Wr()}})}function fr(it,je,dt){var Jt=Se;return function(pr,xr){if(Jt===ft)throw new Error("Generator is already running");if(Jt===Ue){if(pr==="throw")throw xr;return{value:d,done:!0}}for(dt.method=pr,dt.arg=xr;;){var Nr=dt.delegate;if(Nr){var Wr=kr(Nr,dt);if(Wr){if(Wr===Ne)continue;return Wr}}if(dt.method==="next")dt.sent=dt._sent=dt.arg;else if(dt.method==="throw"){if(Jt===Se)throw Jt=Ue,dt.arg;dt.dispatchException(dt.arg)}else dt.method==="return"&&dt.abrupt("return",dt.arg);Jt=ft;var on=Te(it,je,dt);if(on.type==="normal"){if(Jt=dt.done?Ue:et,on.arg===Ne)continue;return{value:on.arg,done:dt.done}}on.type==="throw"&&(Jt=Ue,dt.method="throw",dt.arg=on.arg)}}}function kr(it,je){var dt=je.method,Jt=it.iterator[dt];if(Jt===d)return je.delegate=null,dt==="throw"&&it.iterator.return&&(je.method="return",je.arg=d,kr(it,je),je.method==="throw")||dt!=="return"&&(je.method="throw",je.arg=new TypeError("The iterator does not provide a '"+dt+"' method")),Ne;var pr=Te(Jt,it.iterator,je.arg);if(pr.type==="throw")return je.method="throw",je.arg=pr.arg,je.delegate=null,Ne;var xr=pr.arg;return xr?xr.done?(je[it.resultName]=xr.value,je.next=it.nextLoc,je.method!=="return"&&(je.method="next",je.arg=d),je.delegate=null,Ne):xr:(je.method="throw",je.arg=new TypeError("iterator result is not an object"),je.delegate=null,Ne)}function ln(it){var je={tryLoc:it[0]};1 in it&&(je.catchLoc=it[1]),2 in it&&(je.finallyLoc=it[2],je.afterLoc=it[3]),this.tryEntries.push(je)}function nn(it){var je=it.completion||{};je.type="normal",delete je.arg,it.completion=je}function Jr(it){this.tryEntries=[{tryLoc:"root"}],it.forEach(ln,this),this.reset(!0)}function hn(it){if(it||it===""){var je=it[N];if(je)return je.call(it);if(typeof it.next=="function")return it;if(!isNaN(it.length)){var dt=-1,Jt=function pr(){for(;++dt<it.length;)if(w.call(it,dt))return pr.value=it[dt],pr.done=!1,pr;return pr.value=d,pr.done=!0,pr};return Jt.next=Jt}}throw new TypeError(QE(it)+" is not iterable")}return Ot.prototype=mt,I(vt,"constructor",{value:mt,configurable:!0}),I(mt,"constructor",{value:Ot,configurable:!0}),Ot.displayName=J(mt,V,"GeneratorFunction"),p.isGeneratorFunction=function(it){var je=typeof it=="function"&&it.constructor;return!!je&&(je===Ot||(je.displayName||je.name)==="GeneratorFunction")},p.mark=function(it){return Object.setPrototypeOf?Object.setPrototypeOf(it,mt):(it.__proto__=mt,J(it,V,"GeneratorFunction")),it.prototype=Object.create(vt),it},p.awrap=function(it){return{__await:it}},Rt(Kt.prototype),J(Kt.prototype,$,function(){return this}),p.AsyncIterator=Kt,p.async=function(it,je,dt,Jt,pr){pr===void 0&&(pr=Promise);var xr=new Kt(se(it,je,dt,Jt),pr);return p.isGeneratorFunction(je)?xr:xr.next().then(function(Nr){return Nr.done?Nr.value:xr.next()})},Rt(vt),J(vt,V,"Generator"),J(vt,N,function(){return this}),J(vt,"toString",function(){return"[object Generator]"}),p.keys=function(it){var je=Object(it),dt=[];for(var Jt in je)dt.push(Jt);return dt.reverse(),function pr(){for(;dt.length;){var xr=dt.pop();if(xr in je)return pr.value=xr,pr.done=!1,pr}return pr.done=!0,pr}},p.values=hn,Jr.prototype={constructor:Jr,reset:function(je){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(nn),!je)for(var dt in this)dt.charAt(0)==="t"&&w.call(this,dt)&&!isNaN(+dt.slice(1))&&(this[dt]=d)},stop:function(){this.done=!0;var je=this.tryEntries[0].completion;if(je.type==="throw")throw je.arg;return this.rval},dispatchException:function(je){if(this.done)throw je;var dt=this;function Jt(Yn,sn){return Nr.type="throw",Nr.arg=je,dt.next=Yn,sn&&(dt.method="next",dt.arg=d),!!sn}for(var pr=this.tryEntries.length-1;pr>=0;--pr){var xr=this.tryEntries[pr],Nr=xr.completion;if(xr.tryLoc==="root")return Jt("end");if(xr.tryLoc<=this.prev){var Wr=w.call(xr,"catchLoc"),on=w.call(xr,"finallyLoc");if(Wr&&on){if(this.prev<xr.catchLoc)return Jt(xr.catchLoc,!0);if(this.prev<xr.finallyLoc)return Jt(xr.finallyLoc)}else if(Wr){if(this.prev<xr.catchLoc)return Jt(xr.catchLoc,!0)}else{if(!on)throw new Error("try statement without catch or finally");if(this.prev<xr.finallyLoc)return Jt(xr.finallyLoc)}}}},abrupt:function(je,dt){for(var Jt=this.tryEntries.length-1;Jt>=0;--Jt){var pr=this.tryEntries[Jt];if(pr.tryLoc<=this.prev&&w.call(pr,"finallyLoc")&&this.prev<pr.finallyLoc){var xr=pr;break}}xr&&(je==="break"||je==="continue")&&xr.tryLoc<=dt&&dt<=xr.finallyLoc&&(xr=null);var Nr=xr?xr.completion:{};return Nr.type=je,Nr.arg=dt,xr?(this.method="next",this.next=xr.finallyLoc,Ne):this.complete(Nr)},complete:function(je,dt){if(je.type==="throw")throw je.arg;return je.type==="break"||je.type==="continue"?this.next=je.arg:je.type==="return"?(this.rval=this.arg=je.arg,this.method="return",this.next="end"):je.type==="normal"&&dt&&(this.next=dt),Ne},finish:function(je){for(var dt=this.tryEntries.length-1;dt>=0;--dt){var Jt=this.tryEntries[dt];if(Jt.finallyLoc===je)return this.complete(Jt.completion,Jt.afterLoc),nn(Jt),Ne}},catch:function(je){for(var dt=this.tryEntries.length-1;dt>=0;--dt){var Jt=this.tryEntries[dt];if(Jt.tryLoc===je){var pr=Jt.completion;if(pr.type==="throw"){var xr=pr.arg;nn(Jt)}return xr}}throw new Error("illegal catch attempt")},delegateYield:function(je,dt,Jt){return this.delegate={iterator:hn(je),resultName:dt,nextLoc:Jt},this.method==="next"&&(this.arg=d),Ne}},p}function BA(d,p,m,w,I,P,N){try{var $=d[P](N),V=$.value}catch(J){m(J);return}$.done?p(V):Promise.resolve(V).then(w,I)}function dT(d){return function(){var p=this,m=arguments;return new Promise(function(w,I){var P=d.apply(p,m);function N(V){BA(P,w,I,N,$,"next",V)}function $(V){BA(P,w,I,N,$,"throw",V)}N(void 0)})}}function kA(d,p,m){var w=document.createElement("a"),I=new Uint8Array([239,187,191]),P=new Blob([I,d],{type:m});w.href=URL.createObjectURL(P),w.download=p,w.click()}var AD={text:Ei("copy"),onClick:function(p,m){m.logger(Gr.copyByClick),(0,ye.aPw)(m);var w=Mp(m),I=w.length,P=w.sensitiveField;m.logger(Gr.copyLineNumAndSensitiveData,{length:I,sensitiveField:P}),Zt.message.success(Ei("copyTip"))},icon:ie().createElement(Re,{type:"anticon anticon-dpicon icon-copy-english-name"}),condition:function(p,m){return!!m.interaction.getInteractedCells().length}},ID={text:Ei("copyRow"),onClick:function(p,m){m.logger(Gr.copyByClick);var w=(0,ye.TVL)(m,ye.lbT.ROW),I=Mp(m,ye.lbT.ROW),P=I.length,N=I.sensitiveField;m.logger(Gr.copyLineNumAndSensitiveData,{length:P,sensitiveField:N}),(0,ye.vQq)(w).then(function(){Zt.message.success(Ei("copyTip"))})},icon:ie().createElement(Re,{type:"anticon anticon-dpicon icon-copy-english-name"}),condition:function(p,m){return!!m.interaction.getInteractedCells().length}},RD={text:Ei("copyCol"),onClick:function(p,m){m.logger(Gr.copyByClick);var w=(0,ye.TVL)(m,ye.lbT.COL),I=Mp(m,ye.lbT.COL),P=I.length,N=I.sensitiveField;m.logger(Gr.copyLineNumAndSensitiveData,{length:P,sensitiveField:N}),(0,ye.vQq)(w).then(function(){Zt.message.success(Ei("copyTip"))})},icon:ie().createElement(Re,{type:"anticon anticon-dpicon icon-copy-english-name"}),condition:function(p,m){return!!m.interaction.getInteractedCells().length}},zn={text:Ei("copyColHeader"),onClick:function(){var d=dT(cy().mark(function m(w,I){var P,N,$,V;return cy().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return I.logger(Gr.copyByClick),P=I.getColumnLeafNodes().filter(function(Te){return Te.colIndex!==0}),N=I.interaction.getInteractedCells(),$=N.map(function(Te){return Te.getMeta()}).reduce(function(Te,Se){return Te.find(function(et){return et===Se.colIndex})||Te.push(Se.colIndex),Te},[]),V=P.filter(function(Te){return $.includes(Te.colIndex)}).reduce(function(Te,Se){return Te+Se.field+"	"},"").slice(0,-1),se.next=7,(0,ye.vQq)(V);case 7:Zt.message.success(Ei("copyTip"));case 8:case"end":return se.stop()}},m)}));function p(m,w){return d.apply(this,arguments)}return p}(),icon:ie().createElement(Re,{type:"anticon anticon-dpicon icon-copy-english-name"}),condition:function(p,m){return!!m.interaction.getInteractedCells().length}},sf={text:Ei("copyRowHeader"),onClick:function(){var d=dT(cy().mark(function m(w,I){var P,N;return cy().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return I.logger(Gr.copyByClick),P=I.interaction.getInteractedCells().map(function(J){return J.getMeta()}),N=P.reduce(function(J,se){return J.find(function(Te){return Te===se.rowIndex})||J.push(se.rowIndex),J},[]).reduce(function(J,se){return J+se+`
`},"").slice(0,-1),V.next=5,(0,ye.vQq)(N);case 5:Zt.message.success(Ei("copyTip"));case 6:case"end":return V.stop()}},m)}));function p(m,w){return d.apply(this,arguments)}return p}(),icon:ie().createElement(Re,{type:"anticon anticon-dpicon icon-copy-english-name"}),condition:function(p,m){return!!m.interaction.getInteractedCells().length}},DD={text:Ei("downloadTxt"),onClick:function(){var d=dT(cy().mark(function m(w,I){var P;return cy().wrap(function($){for(;;)switch($.prev=$.next){case 0:I.logger(Gr.copyByClick),P=(0,ye.TVL)(I,ye.lbT.ALL),kA(P,"a.txt","text/plain");case 3:case"end":return $.stop()}},m)}));function p(m,w){return d.apply(this,arguments)}return p}(),icon:ie().createElement(Re,{type:"anticon anticon-dpicon icon-copy-english-name"})},LD={text:Ei("downloadCsv"),onClick:function(){var d=dT(cy().mark(function m(w,I){var P,N;return cy().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:P=im(I.dataCfg.fields.columns),N=I.dataSet.getDisplayDataSet().map(function(J){return P.map(function(se){return(0,ye.Wb9)(J[se])}).join(",")}).join(`\r
`),I.logger(Gr.copyByClick),kA(N,"a.csv","text/csv");case 4:case"end":return V.stop()}},m)}));function p(m,w){return d.apply(this,arguments)}return p}(),icon:ie().createElement(Re,{type:"anticon anticon-dpicon icon-copy-english-name"})},PD=null,B6=function(p){return{text:i18n("deleteRow"),onClick:function(w,I){var P=I.interaction.getInteractedCells().filter(function(N){return N instanceof TableSeriesCell}).map(function(N){return Number(N.getMeta().rowId)});return p(function(N){return N.filter(function($,V){return!P.includes(V)})}),w},condition:function(w,I){return I.interaction.getInteractedCells().some(function(P){return P instanceof TableSeriesCell})}}},BD=null,kD=function(p){return{text:i18n("insertRow"),onClick:function(w,I){var P=I.interaction.getInteractedCells()[0].getMeta(),N=P.rowIndex;return p(function($){return $.slice(0,N).concat([{}]).concat($.slice(N))}),w},condition:function(w,I){return I.interaction.getInteractedCells().some(function(P){return P instanceof TableSeriesCell})}}},FD=null;function Th(d,p){return N6(d)||F6(d,p)||k6(d,p)||dO()}function dO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k6(d,p){if(d){if(typeof d=="string")return FA(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return FA(d,p)}}function FA(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function F6(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function N6(d){if(Array.isArray(d))return d}var ru=function(p){var m=p.onChange,w=p.onCallback,I=ie().useState(1),P=Th(I,2),N=P[0],$=P[1],V=ie().useCallback(function(Te){Te.stopPropagation()},[]),J=ie().useCallback(function(Te){var Se=Te.target.value;Se>100?Se=100:Se.indexOf("e")!==-1&&(Se=Se.replace("e","")),m==null||m({lines:Se}),$(Se)},[m]),se=ie().useCallback(function(){w==null||w(N)},[N,w]);return ie().createElement("div",null,"\u63D2\u5165",ie().createElement(Zt.Input,{type:"number",style:{width:"40px"},min:1,max:100,onClick:V,size:"small",value:N,onChange:J,onPressEnter:se}),"\u884C")},ND={text:ie().createElement(ru,null),onClick:function(p,m,w){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{lines:1},P=m.interaction.getInteractedCells()[0].getMeta(),N=P.rowIndex;return m.logger(Gr.addRow),w.commit({id:wi.m.ADDROW,params:{count:+I.lines,index:nd(N,m)+1}}),p},condition:function(p,m){return m.interaction.getInteractedCells().some(function(w){return w instanceof ye.DUx})}},HD=null,zD={text:Ei("addCol"),onClick:function(p,m,w){var I=Ya(p);return m.logger(Gr.addCol),qr(v1,{x:p.clientX,y:p.clientY,colId:I},m),p},condition:function(p,m){return m.interaction.getInteractedCells().some(function(w){return w instanceof ye.esq})}},H6=null,WD={text:Ei("deleteRow"),onClick:function(p,m,w){var I=(0,oe.uniq)(m.interaction.getInteractedCells().map(function(P){return P.getMeta().rowIndex}));return m.logger(Gr.removeRow),w.commit(I.map(function(P){return nd(P,m)}).sort(function(P,N){return N-P}).map(function(P){return{id:wi.m.REMOVEROW,params:{count:1,index:P}}})),p},condition:function(p,m){return m.interaction.getInteractedCells().some(function(w){return w instanceof ye.DUx})}},NA=null,z6=function(p){return{text:i18n("insertCol"),onClick:function(w,I){var P=I.interaction.getInteractedCells()[0].getMeta(),N=P.rowIndex;return p(function($){return $.slice(0,N).concat([{}]).concat($.slice(N))}),w}}},GD=null;function Oh(d){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Oh(d)}function HA(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function W6(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?HA(Object(m),!0).forEach(function(w){G6(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):HA(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function G6(d,p,m){return p=$6(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function $6(d){var p=U6(d,"string");return Oh(p)=="symbol"?p:String(p)}function U6(d,p){if(Oh(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(Oh(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function Y6(d,p){return Z6(d)||X6(d,p)||V6(d,p)||j6()}function j6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V6(d,p){if(d){if(typeof d=="string")return zA(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return zA(d,p)}}function zA(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function X6(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function Z6(d){if(Array.isArray(d))return d}var K6=function(p){var m=p.params,w=m.x,I=m.y,P=m.colId,N=p.onCancel,$=p.resolver,V=ku(w,I,200,170),J=rr(),se=J.commandManager,Te=J.theme,Se=J.logger,et=(0,re.useState)(""),ft=Y6(et,2),Ue=ft[0],Ne=ft[1],Ct=function(){Se&&Se(Gr.splitCol),se.commit({id:wi.m.SPLITCOL,params:{sep:Ue,colId:P}}),$(!0)};return ie().createElement("div",{style:W6({},V),className:fe()("weave-split-column-container",Te==="dark"?"dark":"white")},ie().createElement(Zt.Form,{layout:"vertical"},ie().createElement(Zt.Form.Item,{label:ie().createElement("span",{style:{color:Te==="dark"?"white":"black"}},"\u5206\u9694\u7B26")},ie().createElement(Zt.Input,{onChange:function(mt){return Ne(mt.target.value)}}))),ie().createElement("div",{className:fe()("buttons","weave-split-column-buttons")},ie().createElement(Zt.Button,{onClick:N},"\u53D6\u6D88"),ie().createElement(Zt.Button,{type:"primary",onClick:Ct},"\u786E\u5B9A")))},q6=K6,$D={text:Ei("splitCol"),onClick:function(p,m){var w=Ya(p);qr(q6,{x:p.clientX,y:p.clientY,colId:w},m)},icon:ie().createElement(Re,{type:"anticon dataphin-icon icon-chaifenlie"}),condition:function(p,m){return Vc(p.shape)}},UD=null,YD={text:Ei("hideCol"),onClick:function(p,m){var w=Ya(p);m.options.interaction.hiddenColumnFields.push(w),m.render()},icon:ie().createElement(Re,{type:"anticon anticon-dpicon icon-copy-english-name"}),condition:function(p){return Vc(p.shape)}},jD=null,WA=function(p,m){var w=m.options.frozenColCount||0,I=m.dataCfg.fields.columns||[],P=I.indexOf(p);return w>1&&P>=0&&P<w-1},GA={text:function(p,m){var w=Ya(p);return w&&WA(w,m)?Ei("unfrozen"):Ei("frozen")},onClick:function(p,m,w){var I=Ya(p),P=wa.Z.instancedModels.get(w).get(wi.m.FREEZECOL);I&&(WA(I,m)?w.commit({id:wi.m.FREEZECOL,params:{type:"REMOVE",col:I},revert:function(){P.add(I)}}):(m.logger(Gr.frozenCol),w.commit({id:wi.m.FREEZECOL,params:{type:"ADD",col:I},revert:function(){P.remove(I)}})))},icon:ie().createElement(Re,{type:"anticon anticon-dpicon icon-zhiding"}),condition:function(p,m){return Vc(p.shape)}},VD=null,XD={text:Ei("copyToExcel"),onClick:function(p,m){var w;m.logger(Gr.copyByClick);var I=m.dataSet.getFieldFormatter,P=!1;m.options.interaction||(m.options.interaction={copyWithFormat:!0},P=!0),(w=m.options.interaction)!==null&&w!==void 0&&w.copyWithFormat||(m.options.interaction.copyWithFormat=!0,P=!0),m.dataSet.getFieldFormatter=function(J){return function(se){return se&&(!isNaN(Number(se))&&se.length>11?'=CONCATENATE("'.concat(se,'")'):se)}},(0,ye.aPw)(m);var N=Mp(m),$=N.length,V=N.sensitiveField;m.logger(Gr.copyLineNumAndSensitiveData,{length:$,sensitiveField:V}),P&&m.options.interaction&&(m.options.interaction.copyWithFormat=!m.options.interaction.copyWithFormat),m.dataSet.getFieldFormatter=I,Zt.message.success(Ei("copyTip"))},icon:ie().createElement(Re,{type:"anticon anticon-dpicon icon-copy-english-name"}),condition:function(p,m){return!!m.interaction.getInteractedCells().length}},$A=null;function Eu(){return(Eu=Object.assign||function(d){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(d[w]=m[w])}return d}).apply(this,arguments)}function JE(d,p){if(d==null)return{};var m,w,I={},P=Object.keys(d);for(w=0;w<P.length;w++)p.indexOf(m=P[w])>=0||(I[m]=d[m]);return I}function eM(d){var p=(0,re.useRef)(d),m=(0,re.useRef)(function(w){p.current&&p.current(w)});return p.current=d,m.current}var _2=function(d,p,m){return p===void 0&&(p=0),m===void 0&&(m=1),d>m?m:d<p?p:d},E2=function(d){return"touches"in d},vO=function(d){return d&&d.ownerDocument.defaultView||self},UA=function(d,p,m){var w=d.getBoundingClientRect(),I=E2(p)?function(P,N){for(var $=0;$<P.length;$++)if(P[$].identifier===N)return P[$];return P[0]}(p.touches,m):p;return{left:_2((I.pageX-(w.left+vO(d).pageXOffset))/w.width),top:_2((I.pageY-(w.top+vO(d).pageYOffset))/w.height)}},vT=function(d){!E2(d)&&d.preventDefault()},pO=re.memo(function(d){var p=d.onMove,m=d.onKey,w=JE(d,["onMove","onKey"]),I=(0,re.useRef)(null),P=eM(p),N=eM(m),$=(0,re.useRef)(null),V=(0,re.useRef)(!1),J=(0,re.useMemo)(function(){var et=function(Ne){vT(Ne),(E2(Ne)?Ne.touches.length>0:Ne.buttons>0)&&I.current?P(UA(I.current,Ne,$.current)):Ue(!1)},ft=function(){return Ue(!1)};function Ue(Ne){var Ct=V.current,Ot=vO(I.current),mt=Ne?Ot.addEventListener:Ot.removeEventListener;mt(Ct?"touchmove":"mousemove",et),mt(Ct?"touchend":"mouseup",ft)}return[function(Ne){var Ct=Ne.nativeEvent,Ot=I.current;if(Ot&&(vT(Ct),!function(Wt,Xe){return Xe&&!E2(Wt)}(Ct,V.current)&&Ot)){if(E2(Ct)){V.current=!0;var mt=Ct.changedTouches||[];mt.length&&($.current=mt[0].identifier)}Ot.focus(),P(UA(Ot,Ct,$.current)),Ue(!0)}},function(Ne){var Ct=Ne.which||Ne.keyCode;Ct<37||Ct>40||(Ne.preventDefault(),N({left:Ct===39?.05:Ct===37?-.05:0,top:Ct===40?.05:Ct===38?-.05:0}))},Ue]},[N,P]),se=J[0],Te=J[1],Se=J[2];return(0,re.useEffect)(function(){return Se},[Se]),re.createElement("div",Eu({},w,{onTouchStart:se,onMouseDown:se,className:"react-colorful__interactive",ref:I,onKeyDown:Te,tabIndex:0,role:"slider"}))}),tM=function(d){return d.filter(Boolean).join(" ")},M2=function(d){var p=d.color,m=d.left,w=d.top,I=w===void 0?.5:w,P=tM(["react-colorful__pointer",d.className]);return re.createElement("div",{className:P,style:{top:100*I+"%",left:100*m+"%"}},re.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:p}}))},Qo=function(d,p,m){return p===void 0&&(p=0),m===void 0&&(m=Math.pow(10,p)),Math.round(m*d)/m},gO={grad:.9,turn:360,rad:360/(2*Math.PI)},pT=function(d){return E1(mO(d))},mO=function(d){return d[0]==="#"&&(d=d.substring(1)),d.length<6?{r:parseInt(d[0]+d[0],16),g:parseInt(d[1]+d[1],16),b:parseInt(d[2]+d[2],16),a:d.length===4?Qo(parseInt(d[3]+d[3],16)/255,2):1}:{r:parseInt(d.substring(0,2),16),g:parseInt(d.substring(2,4),16),b:parseInt(d.substring(4,6),16),a:d.length===8?Qo(parseInt(d.substring(6,8),16)/255,2):1}},yO=function(d,p){return p===void 0&&(p="deg"),Number(d)*(gO[p]||1)},YA=function(d){var p=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(d);return p?CO({h:yO(p[1],p[2]),s:Number(p[3]),l:Number(p[4]),a:p[5]===void 0?1:Number(p[5])/(p[6]?100:1)}):{h:0,s:0,v:0,a:1}},Q6=YA,CO=function(d){var p=d.s,m=d.l;return{h:d.h,s:(p*=(m<50?m:100-m)/100)>0?2*p/(m+p)*100:0,v:m+p,a:d.a}},rM=function(d){return t3(nM(d))},gT=function(d){var p=d.s,m=d.v,w=d.a,I=(200-p)*m/100;return{h:Qo(d.h),s:Qo(I>0&&I<200?p*m/100/(I<=100?I:200-I)*100:0),l:Qo(I/2),a:Qo(w,2)}},mT=function(d){var p=gT(d);return"hsl("+p.h+", "+p.s+"%, "+p.l+"%)"},yT=function(d){var p=gT(d);return"hsla("+p.h+", "+p.s+"%, "+p.l+"%, "+p.a+")"},nM=function(d){var p=d.h,m=d.s,w=d.v,I=d.a;p=p/360*6,m/=100,w/=100;var P=Math.floor(p),N=w*(1-m),$=w*(1-(p-P)*m),V=w*(1-(1-p+P)*m),J=P%6;return{r:Qo(255*[w,$,N,N,V,w][J]),g:Qo(255*[V,w,w,$,N,N][J]),b:Qo(255*[N,N,V,w,w,$][J]),a:Qo(I,2)}},CT=function(d){var p=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(d);return p?iM({h:yO(p[1],p[2]),s:Number(p[3]),v:Number(p[4]),a:p[5]===void 0?1:Number(p[5])/(p[6]?100:1)}):{h:0,s:0,v:0,a:1}},J6=CT,bO=function(d){var p=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(d);return p?E1({r:Number(p[1])/(p[2]?100/255:1),g:Number(p[3])/(p[4]?100/255:1),b:Number(p[5])/(p[6]?100/255:1),a:p[7]===void 0?1:Number(p[7])/(p[8]?100:1)}):{h:0,s:0,v:0,a:1}},e3=bO,bT=function(d){var p=d.toString(16);return p.length<2?"0"+p:p},t3=function(d){var p=d.r,m=d.g,w=d.b,I=d.a,P=I<1?bT(Qo(255*I)):"";return"#"+bT(p)+bT(m)+bT(w)+P},E1=function(d){var p=d.r,m=d.g,w=d.b,I=d.a,P=Math.max(p,m,w),N=P-Math.min(p,m,w),$=N?P===p?(m-w)/N:P===m?2+(w-p)/N:4+(p-m)/N:0;return{h:Qo(60*($<0?$+6:$)),s:Qo(P?N/P*100:0),v:Qo(P/255*100),a:I}},iM=function(d){return{h:Qo(d.h),s:Qo(d.s),v:Qo(d.v),a:Qo(d.a,2)}},jA=re.memo(function(d){var p=d.hue,m=d.onChange,w=tM(["react-colorful__hue",d.className]);return re.createElement("div",{className:w},re.createElement(pO,{onMove:function(I){m({h:360*I.left})},onKey:function(I){m({h:_2(p+360*I.left,0,360)})},"aria-label":"Hue","aria-valuenow":Qo(p),"aria-valuemax":"360","aria-valuemin":"0"},re.createElement(M2,{className:"react-colorful__hue-pointer",left:p/360,color:mT({h:p,s:100,v:100,a:1})})))}),VA=re.memo(function(d){var p=d.hsva,m=d.onChange,w={backgroundColor:mT({h:p.h,s:100,v:100,a:1})};return re.createElement("div",{className:"react-colorful__saturation",style:w},re.createElement(pO,{onMove:function(I){m({s:100*I.left,v:100-100*I.top})},onKey:function(I){m({s:_2(p.s+100*I.left,0,100),v:_2(p.v-100*I.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Qo(p.s)+"%, Brightness "+Qo(p.v)+"%"},re.createElement(M2,{className:"react-colorful__saturation-pointer",top:1-p.v/100,left:p.s/100,color:mT(p)})))}),r0=function(d,p){if(d===p)return!0;for(var m in d)if(d[m]!==p[m])return!1;return!0},tx=function(d,p){return d.replace(/\s/g,"")===p.replace(/\s/g,"")},XA=function(d,p){return d.toLowerCase()===p.toLowerCase()||r0(mO(d),mO(p))};function wO(d,p,m){var w=eM(m),I=(0,re.useState)(function(){return d.toHsva(p)}),P=I[0],N=I[1],$=(0,re.useRef)({color:p,hsva:P});(0,re.useEffect)(function(){if(!d.equal(p,$.current.color)){var J=d.toHsva(p);$.current={hsva:J,color:p},N(J)}},[p,d]),(0,re.useEffect)(function(){var J;r0(P,$.current.hsva)||d.equal(J=d.fromHsva(P),$.current.color)||($.current={hsva:P,color:J},w(J))},[P,d,w]);var V=(0,re.useCallback)(function(J){N(function(se){return Object.assign({},se,J)})},[]);return[P,V]}var ZA,r3=typeof window!="undefined"?re.useLayoutEffect:re.useEffect,xO=function(){return ZA||tt.nc},ZD=function(d){ZA=d},KA=new Map,qA=function(d){r3(function(){var p=d.current?d.current.ownerDocument:document;if(p!==void 0&&!KA.has(p)){var m=p.createElement("style");m.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,KA.set(p,m);var w=xO();w&&m.setAttribute("nonce",w),p.head.appendChild(m)}},[])},rx=function(d){var p=d.className,m=d.colorModel,w=d.color,I=w===void 0?m.defaultColor:w,P=d.onChange,N=JE(d,["className","colorModel","color","onChange"]),$=(0,re.useRef)(null);qA($);var V=wO(m,I,P),J=V[0],se=V[1],Te=tM(["react-colorful",p]);return re.createElement("div",Eu({},N,{ref:$,className:Te}),re.createElement(VA,{hsva:J,onChange:se}),re.createElement(jA,{hue:J.h,onChange:se,className:"react-colorful__last-control"}))},n3={defaultColor:"000",toHsva:pT,fromHsva:function(d){return rM({h:d.h,s:d.s,v:d.v,a:1})},equal:XA},SO=function(d){return re.createElement(rx,Eu({},d,{colorModel:n3}))},aM=function(d){var p=d.className,m=d.hsva,w=d.onChange,I={backgroundImage:"linear-gradient(90deg, "+yT(Object.assign({},m,{a:0}))+", "+yT(Object.assign({},m,{a:1}))+")"},P=tM(["react-colorful__alpha",p]),N=Qo(100*m.a);return e.createElement("div",{className:P},e.createElement("div",{className:"react-colorful__alpha-gradient",style:I}),e.createElement(pO,{onMove:function($){w({a:$.left})},onKey:function($){w({a:_2(m.a+$.left)})},"aria-label":"Alpha","aria-valuetext":N+"%","aria-valuenow":N,"aria-valuemin":"0","aria-valuemax":"100"},e.createElement(M2,{className:"react-colorful__alpha-pointer",left:m.a,color:yT(m)})))},M1=function(d){var p=d.className,m=d.colorModel,w=d.color,I=w===void 0?m.defaultColor:w,P=d.onChange,N=JE(d,["className","colorModel","color","onChange"]),$=r(null);qA($);var V=wO(m,I,P),J=V[0],se=V[1],Te=tM(["react-colorful",p]);return e.createElement("div",Eu({},N,{ref:$,className:Te}),e.createElement(VA,{hsva:J,onChange:se}),e.createElement(jA,{hue:J.h,onChange:se}),e.createElement(aM,{hsva:J,onChange:se,className:"react-colorful__last-control"}))},_O={defaultColor:"0001",toHsva:pT,fromHsva:rM,equal:XA},KD=function(d){return e.createElement(M1,Eu({},d,{colorModel:_O}))},i3={defaultColor:{h:0,s:0,l:0,a:1},toHsva:CO,fromHsva:gT,equal:r0},qD=function(d){return e.createElement(M1,Eu({},d,{colorModel:i3}))},QA={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:YA,fromHsva:yT,equal:tx},QD=function(d){return e.createElement(M1,Eu({},d,{colorModel:QA}))},JA={defaultColor:{h:0,s:0,l:0},toHsva:function(d){return CO({h:d.h,s:d.s,l:d.l,a:1})},fromHsva:function(d){return{h:(p=gT(d)).h,s:p.s,l:p.l};var p},equal:r0},eI=function(d){return e.createElement(rx,Eu({},d,{colorModel:JA}))},EO={defaultColor:"hsl(0, 0%, 0%)",toHsva:Q6,fromHsva:mT,equal:tx},JD=function(d){return e.createElement(rx,Eu({},d,{colorModel:EO}))},a3={defaultColor:{h:0,s:0,v:0,a:1},toHsva:function(d){return d},fromHsva:iM,equal:r0},eL=function(d){return e.createElement(M1,Eu({},d,{colorModel:a3}))},o3={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:CT,fromHsva:function(d){var p=iM(d);return"hsva("+p.h+", "+p.s+"%, "+p.v+"%, "+p.a+")"},equal:tx},tL=function(d){return e.createElement(M1,Eu({},d,{colorModel:o3}))},l3={defaultColor:{h:0,s:0,v:0},toHsva:function(d){return{h:d.h,s:d.s,v:d.v,a:1}},fromHsva:function(d){var p=iM(d);return{h:p.h,s:p.s,v:p.v}},equal:r0},rL=function(d){return e.createElement(rx,Eu({},d,{colorModel:l3}))},s3={defaultColor:"hsv(0, 0%, 0%)",toHsva:J6,fromHsva:function(d){var p=iM(d);return"hsv("+p.h+", "+p.s+"%, "+p.v+"%)"},equal:tx},nL=function(d){return e.createElement(rx,Eu({},d,{colorModel:s3}))},u3={defaultColor:{r:0,g:0,b:0,a:1},toHsva:E1,fromHsva:nM,equal:r0},iL=function(d){return e.createElement(M1,Eu({},d,{colorModel:u3}))},c3={defaultColor:"rgba(0, 0, 0, 1)",toHsva:bO,fromHsva:function(d){var p=nM(d);return"rgba("+p.r+", "+p.g+", "+p.b+", "+p.a+")"},equal:tx},aL=function(d){return e.createElement(M1,Eu({},d,{colorModel:c3}))},MO={defaultColor:{r:0,g:0,b:0},toHsva:function(d){return E1({r:d.r,g:d.g,b:d.b,a:1})},fromHsva:function(d){return{r:(p=nM(d)).r,g:p.g,b:p.b};var p},equal:r0},oL=function(d){return e.createElement(rx,Eu({},d,{colorModel:MO}))},f3={defaultColor:"rgb(0, 0, 0)",toHsva:e3,fromHsva:function(d){var p=nM(d);return"rgb("+p.r+", "+p.g+", "+p.b+")"},equal:tx},h3=function(d){return e.createElement(rx,Eu({},d,{colorModel:f3}))},d3=/^#?([0-9A-F]{3,8})$/i,v3=function(d){var p=d.color,m=p===void 0?"":p,w=d.onChange,I=d.onBlur,P=d.escape,N=d.validate,$=d.format,V=d.process,J=JE(d,["color","onChange","onBlur","escape","validate","format","process"]),se=o(function(){return P(m)}),Te=se[0],Se=se[1],et=eM(w),ft=eM(I),Ue=a(function(Ct){var Ot=P(Ct.target.value);Se(Ot),N(Ot)&&et(V?V(Ot):Ot)},[P,V,N,et]),Ne=a(function(Ct){N(Ct.target.value)||Se(P(m)),ft(Ct)},[m,P,N,ft]);return n(function(){Se(P(m))},[m,P]),e.createElement("input",Eu({},J,{value:$?$(Te):Te,spellCheck:"false",onChange:Ue,onBlur:Ne}))},tI=function(d){return"#"+d},lL=function(d){var p=d.prefixed,m=d.alpha,w=JE(d,["prefixed","alpha"]),I=a(function(N){return N.replace(/([^0-9A-F]+)/gi,"").substring(0,m?8:6)},[m]),P=a(function(N){return function($,V){var J=d3.exec($),se=J?J[1].length:0;return se===3||se===6||!!V&&se===4||!!V&&se===8}(N,m)},[m]);return e.createElement(v3,Eu({},w,{escape:I,format:p?tI:void 0,process:tI,validate:P}))};function oM(d){"@babel/helpers - typeof";return oM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},oM(d)}var rI,wT,xT,nI,TO,OO,AO,iI,IO,RO,n0,aI,oI,DO,lI,nx,sI,lM,uI;function p3(d,p){return C3(d)||y3(d,p)||m3(d,p)||g3()}function g3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m3(d,p){if(d){if(typeof d=="string")return cI(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return cI(d,p)}}function cI(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function y3(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function C3(d){if(Array.isArray(d))return d}function T1(d,p,m,w){m&&Object.defineProperty(d,p,{enumerable:m.enumerable,configurable:m.configurable,writable:m.writable,value:m.initializer?m.initializer.call(w):void 0})}function b3(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function ST(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,w3(w.key),w)}}function fI(d,p,m){return p&&ST(d.prototype,p),m&&ST(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function w3(d){var p=LO(d,"string");return oM(p)=="symbol"?p:String(p)}function LO(d,p){if(oM(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(oM(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function O1(d,p,m,w,I){var P={};return Object.keys(w).forEach(function(N){P[N]=w[N]}),P.enumerable=!!P.enumerable,P.configurable=!!P.configurable,("value"in P||P.initializer)&&(P.writable=!0),P=m.slice().reverse().reduce(function(N,$){return $(d,p,N)||N},P),I&&P.initializer!==void 0&&(P.value=P.initializer?P.initializer.call(I):void 0,P.initializer=void 0),P.initializer===void 0&&(Object.defineProperty(d,p,P),P=null),P}function sL(d,p){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}var hI=(rI=(0,Bn.ZR)("ConditionConfig"),wT=(0,ea.vg)(),xT=(0,ea.vg)(),nI=(0,ea.vg)(),TO=(0,ea.vg)(),OO=(0,ea.vg)(),AO=(0,ea.vg)(),iI=(0,ea.vg)(),IO=(0,ea.vg)(),rI(RO=(n0=function(){function d(){b3(this,d),T1(this,"op",aI,this),T1(this,"value",oI,this),T1(this,"op1",DO,this),T1(this,"value1",lI,this),T1(this,"condition",nx,this),T1(this,"id",sI,this),T1(this,"colId",lM,this),T1(this,"color",uI,this)}return fI(d,[{key:"reset",value:function(){this.id=null,this.colId=null,this.op=null,this.value=null,this.op1=null,this.value1=null,this.condition=null,this.color=null}}]),d}(),aI=O1(n0.prototype,"op",[wT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oI=O1(n0.prototype,"value",[xT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),DO=O1(n0.prototype,"op1",[nI],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lI=O1(n0.prototype,"value1",[TO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nx=O1(n0.prototype,"condition",[OO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sI=O1(n0.prototype,"id",[AO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lM=O1(n0.prototype,"colId",[iI],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uI=O1(n0.prototype,"color",[IO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n0))||RO),PO=new hI,x3=function(p){var m=p.params,w=p.onCancel,I=p.resolver,P=(0,re.useState)(!0),N=p3(P,2),$=N[0],V=N[1],J=m.configId,se=m.colId,Te=rr(),Se=Te.commandManager,et=Al(wi.m.APPLYCONDITION,Se),ft=function(){V(!1),PO=new hI,setTimeout(function(){I(!0)},300)},Ue=function(){Ne.colId=se,Se.commit({id:wi.m.APPLYCONDITION,params:Ne}),ft()},Ne=J?et.conditions.find(function(Ct){return Ct.id===J}):PO;return(0,re.useEffect)(function(){PO.reset()},[]),ie().createElement(Zt.Drawer,{title:Ei("conditionalFormatting"),placement:"right",visible:$,onClose:ft},ie().createElement(Zt.Form.Item,{label:"\u6761\u4EF6"},ie().createElement(Hs,{value:Ne,onChange:function(){},fieldName:se,inPlace:!0})),ie().createElement(Zt.Form.Item,{label:"\u683C\u5F0F"},ie().createElement(SO,{color:Ne.color,onChange:function(Ot){return Ne.color=Ot}})),ie().createElement(Zt.Button,{onClick:ft},"\u53D6\u6D88"),ie().createElement(Zt.Button,{type:"primary",onClick:Ue},"\u786E\u5B9A"))},dI=x3,uL={text:Ei("conditionalFormatting"),onClick:function(p,m){var w=Ya(p);m.logger(Gr.conditionalFormatting),qr(dI,{colId:w},m)},icon:ie().createElement(Re,{type:"anticon dataphin-icon icon-tiaojiangeshi"}),condition:function(p,m){return Vc(p.shape)}},cL=null,fL={text:Ei("deleteCell"),onClick:function(p,m,w){return av(m,w),p},icon:ie().createElement(Re,{type:"one-icon dataphin-icon icon-filetree-recycle weave-del-content-icon"}),condition:function(p,m){return m.interaction.getInteractedCells().some(function(w){return w.cellType===ye.Czd.DATA_CELL})}},hL=null,S3={text:Ei("adaptiveCol"),onClick:function(p,m,w){var I=Ya(p),P=m.getColumnLeafNodes().reduce(function(N,$){var V=$.value,J=m.dataSet.originData.reduce(function(se,Te){var Se=Te[$.field]||"";return Math.max(se,Math.round(m.measureTextWidthRoughly(Se))+50)},Math.round(m.measureTextWidthRoughly(V))+50);return N[V]=Math.min(500,J),N},{});return m.emit(ye.ch4.LAYOUT_RESIZE_COL_WIDTH,{info:{meta:{field:I}},style:{colCfg:{widthByFieldValue:P}}}),p},condition:function(p,m){return m.interaction.getInteractedCells().some(function(w){return w instanceof ye.esq})}},vI=null,_3={text:Ei("addRemark"),onClick:function(p,m){var w;if((w=m.dataCfg)!==null&&w!==void 0&&w.canEdit){var I;m.setDataCfg({hasRemark:!((I=m.dataCfg)!==null&&I!==void 0&&I.hasRemark)}),m.render(!0)}else Zt.message.warning("\u60A8\u6CA1\u6709\u6743\u9650\u7F16\u8F91\u5907\u6CE8")},icon:ie().createElement(Re,{type:"dataphin-icon anticon icon-huihua-xiankuang"}),condition:function(p,m){return m.interaction.getInteractedCells().some(function(w){return w instanceof ye.DUx})}},dL=null,E3=function(p){var m=p.interaction.getState().cells||[];if(cr().size(m)===1){var w=m.reduce(function(I,P){return I.find(function(N){return N===P.rowIndex})||I.push(P.rowIndex),I},[]);return w}else return[]},vL={text:Ei("diagnosisRow"),onClick:function(p,m){var w=E3(m)[0];qr(Dr,{index:w},m)},icon:ie().createElement(Re,{type:"anticon anticon-dpicon icon-copy-english-name"}),condition:function(p,m){return!!m.interaction.getInteractedCells().length}},pL=null;function pI(d){return O3(d)||T3(d)||gI(d)||M3()}function M3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gI(d,p){if(d){if(typeof d=="string")return BO(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return BO(d,p)}}function T3(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function O3(d){if(Array.isArray(d))return BO(d)}function BO(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}var gL=null,mI=null,mL=null,yI=null;function CI(d){return d.map(function(p){var m=p.getMeta();return{id:m.id,colIndex:m.colIndex,rowIndex:m.rowIndex,type:CellTypes.DATA_CELL}})}var bI=function(p){var m=p.split("$").filter(Boolean);return typeof m[0]=="string"&&!isNaN(toNumber(m[1]))};function A3(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p=arguments.length>1?arguments[1]:void 0,m=arguments.length>2?arguments[2]:void 0,w=[],I=cloneDeep(p),P=d.split(":"),N=P[0].split("$").filter(Boolean),$=P[1].split("$").filter(Boolean),V=p.indexOf(p.find(function(Se){return Se.field===N[0]})),J=p.indexOf(p.find(function(Se){return Se.field===$[0]})),se=I.filter(function(Se,et){return et>=V&&et<=J}).map(function(Se){return Se.field});se.forEach(function(Se){var et=m.filter(function(ft){return ft.getMeta().valueField===Se});w=[].concat(pI(w),pI(et))});var Te=w.filter(function(Se){var et=Se.getMeta(),ft=et.rowIndex;return N[1]===$[1]?ft===toNumber(N[1])-1:ft>=toNumber(N[1])-1&&ft<=toNumber($[1])-1});return{cells:Te,metaCells:CI(Te)}}function I3(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p=arguments.length>1?arguments[1]:void 0,m=d.split("$").filter(Boolean),w=p.filter(function(I){var P=I.getMeta(),N=P.rowIndex,$=P.valueField;return N===toNumber(m[1])-1&&$===m[0]});return{cells:w,metaCells:CI(w)}}function yL(d){if(d)try{if(isArray(d)){var p=head(d),m=last(d),w=p.getMeta(),I=w.rowIndex,P=w.valueField,N=m.getMeta(),$=N.rowIndex,V=N.valueField,J=I===$&&P===V;return J?"$".concat(P,"$").concat(I+1):"$".concat(P,"$").concat(I+1,":$").concat(V,"$").concat($+1)}var se=d.getMeta(),Te=se.rowIndex,Se=se.valueField;return"$".concat(Se,"$").concat(Te+1)}catch(et){return""}}function wI(d){var p=d.split(",");if(size(p)===0)return!0;var m=every(p,function(w){return toString(w).includes("$")?yI.test(w)?w.split(":").every(function(I){return bI(I)}):bI(w):!1});return m}function CL(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",m=arguments.length>2?arguments[2]:void 0;try{var w=wI(p);if(w){var I=p.split(",").length;if(I===0)return{isPass:!1,message:"\u8BF7\u8F93\u5165\u9009\u533A\u5B57\u6BB5"};if(I===1){if(yI.test(p)){var P=A3(p,m,d),N=P.cells,$=P.metaCells;return{cells:N,isPass:!0,message:"",metaCells:$}}var V=I3(p,d),J=V.cells,se=V.metaCells;return{cells:J,isPass:!0,message:"",metaCells:se}}}else throw new Error("\u975E\u6B63\u786E\u683C\u5F0F")}catch(Te){return{isPass:!1,message:Te.message}}}function ix(d,p){return P3(d)||L3(d,p)||D3(d,p)||R3()}function R3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3(d,p){if(d){if(typeof d=="string")return xI(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return xI(d,p)}}function xI(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function L3(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function P3(d){if(Array.isArray(d))return d}var B3=function(p){var m=p.params,w=m.onOk,I=w===void 0?noop:w,P=m.onCancel,N=P===void 0?noop:P,$=p.resolver,V=useSpreadSheet(),J=V.spreadsheet,se=React.useState(""),Te=ix(se,2),Se=Te[0],et=Te[1],ft=React.useState(""),Ue=ix(ft,2),Ne=Ue[0],Ct=Ue[1],Ot=React.useMemo(function(){return J.interaction.getPanelGroupAllDataCells()},[J]);React.useEffect(function(){J.interaction.reset()},[]),React.useEffect(function(){var Xe=navigator.userAgent,_t=function(kr){kr.key==="Escape"&&$(!0),kr.key==="Meta"&&macRegExp.test(Xe)&&Ct(kr.key),kr.key==="Control"&&winRegExp.test(Xe)&&Ct(kr.key)},vt=function(kr){kr.stopPropagation();var ln=get(kr,"propagationPath.1"),nn=J.interaction.isSelectedCell(ln),Jr=Ne==="Meta"&&macRegExp.test(Xe)||Ne==="Control"&&winRegExp.test(Xe);et(function(hn){return Jr?nn?hn.concat(size(hn)===0?formatCellToInput(ln):",".concat(formatCellToInput(ln))):hn.split(",").filter(function(it){return it!==formatCellToInput(ln)}).join(","):nn?formatCellToInput(ln):""})},Rt=function(kr){et(formatCellToInput(kr))},Kt=function(kr){Ct("")};return J.on(S2Event.DATA_CELL_CLICK,vt),J.on(S2Event.DATA_CELL_BRUSH_SELECTION,Rt),document.addEventListener("keydown",_t),document.addEventListener("keyup",Kt),function(){document.removeEventListener("keydown",_t),document.removeEventListener("keyup",Kt),J.off(S2Event.DATA_CELL_CLICK,vt),J.off(S2Event.DATA_CELL_BRUSH_SELECTION,Rt)}},[J,Ne]);var mt=React.useCallback(function(Xe){et(Xe.target.value)},[]),Wt=React.useCallback(function(Xe){if(Xe.stopPropagation(),Xe.key==="Enter"){var _t=validateInput(Ot,Se,J.dataCfg.meta),vt=_t.cells,Rt=_t.isPass,Kt=_t.message,fr=_t.metaCells;Rt&&J.interaction.changeState({cells:fr,stateName:InteractionStateName.SELECTED})}},[Ot,Se,J]);return React.createElement(Draggable,{overlayClassName:"selection-range-modal",className:"selection-range-container",zIndex:13,style:{position:"fixed"},getInitailPositon:function(){return{position:{top:window.innerHeight/2-30,right:30},size:{width:242,height:178}}}},function(Xe){var _t=Xe.onClick,vt=Xe.onMouseDown;return React.createElement(React.Fragment,null,React.createElement("div",{className:"selection-range-head",onMouseDown:vt,onClick:_t},"\u9009\u533A"),React.createElement("div",{className:"selection-range-content"},"\u6570\u636E\u6765\u6E90",React.createElement(Input,{value:Se,onChange:mt,onKeyDown:function(Kt){return Kt.stopPropagation()},onKeyUp:Wt}),React.createElement("span",{className:"selection-range-content-footer"},React.createElement(Button,{onClick:function(Kt){N(Kt),$(!0)}},"\u53D6\u6D88"),React.createElement(Button,{type:"primary",onClick:function(Kt){I(Kt),$(!0)}},"\u786E\u5B9A"))))})},T2=null;function O2(d){"@babel/helpers - typeof";return O2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},O2(d)}function SI(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function bL(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?SI(Object(m),!0).forEach(function(w){k3(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):SI(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function k3(d,p,m){return p=EI(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function wL(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function _I(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,EI(w.key),w)}}function xL(d,p,m){return p&&_I(d.prototype,p),m&&_I(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function EI(d){var p=F3(d,"string");return O2(p)=="symbol"?p:String(p)}function F3(d,p){if(O2(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(O2(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function kO(){return typeof Reflect!="undefined"&&Reflect.get?kO=Reflect.get.bind():kO=function(p,m,w){var I=N3(p,m);if(I){var P=Object.getOwnPropertyDescriptor(I,m);return P.get?P.get.call(arguments.length<3?p:w):P.value}},kO.apply(this,arguments)}function N3(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=A1(d),d!==null););return d}function MI(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&FO(d,p)}function FO(d,p){return FO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},FO(d,p)}function SL(d){var p=z3();return function(){var w=A1(d),I;if(p){var P=A1(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return TI(this,I)}}function TI(d,p){if(p&&(O2(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H3(d)}function H3(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function z3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function A1(d){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},A1(d)}function _L(d,p){var m=d.dataCfg,w=m.filterParams,I=m.sortParams,P=I==null?void 0:I.some(function($){return($==null?void 0:$.sortMethod)&&$.sortFieldId===p&&($==null?void 0:$.sortMethod)!=="NONE"}),N=w==null?void 0:w.some(function($){var V;return($==null?void 0:$.filterKey)===p&&($==null||(V=$.filteredValues)===null||V===void 0?void 0:V.length)});return P||N}var EL=null,ML=null;function i0(d){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},i0(d)}function OI(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function AI(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?OI(Object(m),!0).forEach(function(w){W3(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):OI(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function W3(d,p,m){return p=I1(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function G3(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function II(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,I1(w.key),w)}}function $3(d,p,m){return p&&II(d.prototype,p),m&&II(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function I1(d){var p=U3(d,"string");return i0(p)=="symbol"?p:String(p)}function U3(d,p){if(i0(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(i0(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function A2(){return typeof Reflect!="undefined"&&Reflect.get?A2=Reflect.get.bind():A2=function(p,m,w){var I=Y3(p,m);if(I){var P=Object.getOwnPropertyDescriptor(I,m);return P.get?P.get.call(arguments.length<3?p:w):P.value}},A2.apply(this,arguments)}function Y3(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=R1(d),d!==null););return d}function j3(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&_T(d,p)}function _T(d,p){return _T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},_T(d,p)}function V3(d){var p=K3();return function(){var w=R1(d),I;if(p){var P=R1(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return X3(this,I)}}function X3(d,p){if(p&&(i0(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z3(d)}function Z3(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function K3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function R1(d){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},R1(d)}var q3=function(d){j3(m,d);var p=V3(m);function m(){return G3(this,m),p.apply(this,arguments)}return $3(m,[{key:"initCell",value:function(){A2(R1(m.prototype),"initCell",this).call(this)}},{key:"update",value:function(){A2(R1(m.prototype),"update",this).call(this),this.drawBorder(),this.getTextStyle()}},{key:"drawBorder",value:function(){var I,P=this.meta,N=P.rowIndex,$=P.colIndex,V=P.x,J=P.y,se=P.width,Te=P.height,Se=((I=this.spreadsheet.dataCfg)===null||I===void 0?void 0:I.dataCellError)||[];Se!=null&&Se.includes("".concat(N,"-").concat($))&&this.addShape("polyline",{attrs:{stroke:"red",fill:"transparent",lineWidth:1,points:[[V+1,J+1],[V+se-1,J+1],[V+se-1,J+Te-1],[V+1,J+Te-1],[V+1,J]]}})}},{key:"getTextStyle",value:function(){var I,P=A2(R1(m.prototype),"getTextStyle",this).call(this),N=this.spreadsheet.dataCfg.types,$=this.meta.valueField,V=this.spreadsheet.theme,J=V==null||(I=V.background)===null||I===void 0?void 0:I.color,se=J===oa?"#00000059":"#ffffff59";return N[$]===Ti.Number&&(P.textAlign="left"),this.meta.fieldValue==="\\N"?AI(AI({},P),{},{fill:se}):P}}]),m}(dw),RI=null;function I2(d){"@babel/helpers - typeof";return I2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},I2(d)}function DI(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function NO(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?DI(Object(m),!0).forEach(function(w){Q3(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):DI(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function Q3(d,p,m){return p=PI(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function TL(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function LI(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,PI(w.key),w)}}function OL(d,p,m){return p&&LI(d.prototype,p),m&&LI(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function PI(d){var p=J3(d,"string");return I2(p)=="symbol"?p:String(p)}function J3(d,p){if(I2(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(I2(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function ET(){return typeof Reflect!="undefined"&&Reflect.get?ET=Reflect.get.bind():ET=function(p,m,w){var I=eR(p,m);if(I){var P=Object.getOwnPropertyDescriptor(I,m);return P.get?P.get.call(arguments.length<3?p:w):P.value}},ET.apply(this,arguments)}function eR(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=sM(d),d!==null););return d}function AL(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&HO(d,p)}function HO(d,p){return HO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},HO(d,p)}function tR(d){var p=iR();return function(){var w=sM(d),I;if(p){var P=sM(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return rR(this,I)}}function rR(d,p){if(p&&(I2(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nR(d)}function nR(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function iR(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function sM(d){return sM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},sM(d)}var IL=function(p){var m;return(m=p==null?void 0:p.position)!==null&&m!==void 0?m:"right"};(0,ye.q5g)("filterIcon",dn),(0,ye.q5g)("sortUp",kn),(0,ye.q5g)("sortDown",wr),(0,ye.q5g)("maskIcon",ei);var RL={none:"filterIcon",asc:"sortUp",desc:"sortDown",mask:"maskIcon"},aR=26,oR=4,lR=26,sR=4,DL=4,LL=aR+oR-sR,uR=null,PL=null;function uM(d){"@babel/helpers - typeof";return uM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},uM(d)}function BI(d,p){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);p&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),m.push.apply(m,w)}return m}function kI(d){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?BI(Object(m),!0).forEach(function(w){cR(d,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):BI(Object(m)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(m,w))})}return d}function cR(d,p,m){return p=fR(p),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m,d}function fR(d){var p=FI(d,"string");return uM(p)=="symbol"?p:String(p)}function FI(d,p){if(uM(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(uM(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function hR(d,p){return zI(d)||vR(d,p)||dR(d,p)||NI()}function NI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dR(d,p){if(d){if(typeof d=="string")return HI(d,p);var m=Object.prototype.toString.call(d).slice(8,-1);if(m==="Object"&&d.constructor&&(m=d.constructor.name),m==="Map"||m==="Set")return Array.from(d);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return HI(d,p)}}function HI(d,p){(p==null||p>d.length)&&(p=d.length);for(var m=0,w=new Array(p);m<p;m++)w[m]=d[m];return w}function vR(d,p){var m=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(m!=null){var w,I,P,N,$=[],V=!0,J=!1;try{if(P=(m=m.call(d)).next,p===0){if(Object(m)!==m)return;V=!1}else for(;!(V=(w=P.call(m)).done)&&($.push(w.value),$.length!==p);V=!0);}catch(se){J=!0,I=se}finally{try{if(!V&&m.return!=null&&(N=m.return(),Object(N)!==N))return}finally{if(J)throw I}}return $}}function zI(d){if(Array.isArray(d))return d}var BL=function(p){var m=p.resolver,w=p.params,I=useSpreadSheet(),P=I.commandManager,N=I.theme,$=w.x,V=w.y,J=w.initialValue,se=w.rowIndex,Te=w.field,Se=React.useRef(null),et=getDisplayStyle($,V,400,200),ft=React.useState(J),Ue=hR(ft,2),Ne=Ue[0],Ct=Ue[1],Ot=React.useCallback(function(Xe){var _t=new EditCellMeta;_t.oldValue=J,_t.newValue=Xe,_t.rowIndex=se,_t.valueField=Te,P.commit({id:CommandId.EDITCELL,params:_t})},[]),mt=React.useCallback(function(Xe){Ct(Xe.target.value),Ot(Xe.target.value)},[]),Wt=React.useCallback(function(){Ot(Ne),m(!1)},[Ne]);return React.useEffect(function(){Se.current.focus()},[]),React.createElement("span",{style:kI(kI({},et),{},{position:"absolute"}),onBlur:Wt},React.createElement(Input.TextArea,{className:classnames("weave-edit-cell",N==="dark"&&"dark"),value:Ne,onChange:mt,onBlur:Wt,onKeyDown:function(_t){return _t.stopPropagation()},style:{width:"100%"},ref:Se,placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"}))},kL=null;function R2(d){"@babel/helpers - typeof";return R2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},R2(d)}function FL(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function WI(d,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,pR(w.key),w)}}function GI(d,p,m){return p&&WI(d.prototype,p),m&&WI(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function pR(d){var p=gR(d,"string");return R2(p)=="symbol"?p:String(p)}function gR(d,p){if(R2(d)!="object"||!d)return d;var m=d[Symbol.toPrimitive];if(m!==void 0){var w=m.call(d,p||"default");if(R2(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}function zO(){return typeof Reflect!="undefined"&&Reflect.get?zO=Reflect.get.bind():zO=function(p,m,w){var I=mR(p,m);if(I){var P=Object.getOwnPropertyDescriptor(I,m);return P.get?P.get.call(arguments.length<3?p:w):P.value}},zO.apply(this,arguments)}function mR(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=cM(d),d!==null););return d}function NL(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&WO(d,p)}function WO(d,p){return WO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){return w.__proto__=I,w},WO(d,p)}function GO(d){var p=$I();return function(){var w=cM(d),I;if(p){var P=cM(this).constructor;I=Reflect.construct(w,arguments,P)}else I=w.apply(this,arguments);return yR(this,I)}}function yR(d,p){if(p&&(R2(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CR(d)}function CR(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function $I(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function cM(d){return cM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},cM(d)}var HL=null,UI=null},78020:function(ai,Sn,tt){"use strict";tt.d(Sn,{Z:function(){return xt}});var Ve=tt(85556),ye=tt(87363),ut=tt(20859),oe=tt(34898),cr=tt(24252);function re(gt,er){if(cr.Z){if(!gt)return er;var Lt;return(0,oe.mf)(gt)?Lt=gt():"current"in gt?Lt=gt.current:Lt=gt,Lt}}var ie=tt(34182);function Ft(gt,er){if(gt===er)return!0;for(var Lt=0;Lt<gt.length;Lt++)if(!Object.is(gt[Lt],er[Lt]))return!1;return!0}var Dt=function(gt){var er=function(Lt,Nt,Tr){var vr=(0,ye.useRef)(!1),Yr=(0,ye.useRef)([]),mn=(0,ye.useRef)([]),Mn=(0,ye.useRef)();gt(function(){var Fr,Rn=Array.isArray(Tr)?Tr:[Tr],Wn=Rn.map(function(Ge){return re(Ge)});if(!vr.current){vr.current=!0,Yr.current=Wn,mn.current=Nt,Mn.current=Lt();return}(Wn.length!==Yr.current.length||!Ft(Yr.current,Wn)||!Ft(mn.current,Nt))&&((Fr=Mn.current)===null||Fr===void 0||Fr.call(Mn),Yr.current=Wn,mn.current=Nt,Mn.current=Lt())}),(0,ie.Z)(function(){var Fr;(Fr=Mn.current)===null||Fr===void 0||Fr.call(Mn),vr.current=!1})};return er},or=Dt,kt=or(ye.useEffect),Mt=kt;function U(gt,er,Lt){Lt===void 0&&(Lt={});var Nt=Lt.enable,Tr=Nt===void 0?!0:Nt,vr=(0,ut.Z)(er);Mt(function(){if(Tr){var Yr=re(Lt.target,window);if(Yr!=null&&Yr.addEventListener){var mn=function(Fr){return vr.current(Fr)},Mn=Array.isArray(gt)?gt:[gt];return Mn.forEach(function(Fr){Yr.addEventListener(Fr,mn,{capture:Lt.capture,once:Lt.once,passive:Lt.passive})}),function(){Mn.forEach(function(Fr){Yr.removeEventListener(Fr,mn,{capture:Lt.capture})})}}}},[gt,Lt.capture,Lt.once,Lt.passive,Tr],Lt.target)}var D=U,Pt=tt(64632),lt=tt(90158),Gt="AHOOKS_SYNC_STORAGE_EVENT_NAME";function lr(gt){function er(Lt,Nt){Nt===void 0&&(Nt={});var Tr,vr=Nt.listenStorageChange,Yr=vr===void 0?!1:vr,mn=Nt.onError,Mn=mn===void 0?function(Ce){console.error(Ce)}:mn;try{Tr=gt()}catch(Ce){Mn(Ce)}var Fr=function(Ce){return Nt.serializer?Nt.serializer(Ce):JSON.stringify(Ce)},Rn=function(Ce){return Nt.deserializer?Nt.deserializer(Ce):JSON.parse(Ce)};function Wn(){try{var Ce=Tr==null?void 0:Tr.getItem(Lt);if(Ce)return Rn(Ce)}catch(be){Mn(be)}return(0,oe.mf)(Nt.defaultValue)?Nt.defaultValue():Nt.defaultValue}var Ge=(0,Ve.CR)((0,ye.useState)(Wn),2),Et=Ge[0],Rr=Ge[1];(0,lt.Z)(function(){Rr(Wn())},[Lt]);var un=function(Ce){var be=(0,oe.mf)(Ce)?Ce(Et):Ce;Yr||Rr(be);try{var Ae=void 0,_e=Tr==null?void 0:Tr.getItem(Lt);(0,oe.G7)(be)?(Ae=null,Tr==null||Tr.removeItem(Lt)):(Ae=Fr(be),Tr==null||Tr.setItem(Lt,Ae)),dispatchEvent(new CustomEvent(Gt,{detail:{key:Lt,newValue:Ae,oldValue:_e,storageArea:Tr}}))}catch(ze){Mn(ze)}},yn=function(Ce){Ce.key!==Lt||Ce.storageArea!==Tr||Rr(Wn())},Vt=function(Ce){yn(Ce.detail)};return D("storage",yn,{enable:Yr}),D(Gt,Vt,{enable:Yr}),[Et,(0,Pt.Z)(un)]}return er}var tr=lr(function(){return cr.Z?localStorage:void 0}),xt=tr},29512:function(ai,Sn,tt){"use strict";tt.d(Sn,{Z:function(){return D}});var Ve={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},ye=Ve,ut=tt(50189),oe=tt(13674),cr=(0,ut.Z)((0,ut.Z)({},oe.z),{},{locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA",yearFormat:"YYYY\u5E74",cellDateFormat:"D",monthBeforeYear:!1}),re=cr,Ft={placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]};const Dt={lang:Object.assign({placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeQuarterPlaceholder:["\u5F00\u59CB\u5B63\u5EA6","\u7ED3\u675F\u5B63\u5EA6"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"]},re),timePickerLocale:Object.assign({},Ft)};Dt.lang.ok="\u786E\u5B9A";var or=Dt,kt=or;const Mt="${label}\u4E0D\u662F\u4E00\u4E2A\u6709\u6548\u7684${type}";var D={locale:"zh-cn",Pagination:ye,DatePicker:or,TimePicker:Ft,Calendar:kt,global:{placeholder:"\u8BF7\u9009\u62E9"},Table:{filterTitle:"\u7B5B\u9009",filterConfirm:"\u786E\u5B9A",filterReset:"\u91CD\u7F6E",filterEmptyText:"\u65E0\u7B5B\u9009\u9879",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7B5B\u9009\u9879\u4E2D\u641C\u7D22",emptyText:"\u6682\u65E0\u6570\u636E",selectAll:"\u5168\u9009\u5F53\u9875",selectInvert:"\u53CD\u9009\u5F53\u9875",selectNone:"\u6E05\u7A7A\u6240\u6709",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5E8F",expand:"\u5C55\u5F00\u884C",collapse:"\u5173\u95ED\u884C",triggerDesc:"\u70B9\u51FB\u964D\u5E8F",triggerAsc:"\u70B9\u51FB\u5347\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",justOkText:"\u77E5\u9053\u4E86"},Tour:{Next:"\u4E0B\u4E00\u6B65",Previous:"\u4E0A\u4E00\u6B65",Finish:"\u7ED3\u675F\u5BFC\u89C8"},Popconfirm:{cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A"},Transfer:{titles:["",""],searchPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5F53\u9875",removeCurrent:"\u5220\u9664\u5F53\u9875",selectAll:"\u5168\u9009\u6240\u6709",deselectAll:"\u53D6\u6D88\u5168\u9009",removeAll:"\u5220\u9664\u5168\u90E8",selectInvert:"\u53CD\u9009\u5F53\u9875"},Upload:{uploading:"\u6587\u4EF6\u4E0A\u4F20\u4E2D",removeFile:"\u5220\u9664\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",previewFile:"\u9884\u89C8\u6587\u4EF6",downloadFile:"\u4E0B\u8F7D\u6587\u4EF6"},Empty:{description:"\u6682\u65E0\u6570\u636E"},Icon:{icon:"\u56FE\u6807"},Text:{edit:"\u7F16\u8F91",copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00",collapse:"\u6536\u8D77"},Form:{optional:"\uFF08\u53EF\u9009\uFF09",defaultValidateMessages:{default:"\u5B57\u6BB5\u9A8C\u8BC1\u9519\u8BEF${label}",required:"\u8BF7\u8F93\u5165${label}",enum:"${label}\u5FC5\u987B\u662F\u5176\u4E2D\u4E00\u4E2A[${enum}]",whitespace:"${label}\u4E0D\u80FD\u4E3A\u7A7A\u5B57\u7B26",date:{format:"${label}\u65E5\u671F\u683C\u5F0F\u65E0\u6548",parse:"${label}\u4E0D\u80FD\u8F6C\u6362\u4E3A\u65E5\u671F",invalid:"${label}\u662F\u4E00\u4E2A\u65E0\u6548\u65E5\u671F"},types:{string:Mt,method:Mt,array:Mt,object:Mt,number:Mt,date:Mt,boolean:Mt,integer:Mt,float:Mt,regexp:Mt,email:Mt,url:Mt,hex:Mt},string:{len:"${label}\u987B\u4E3A${len}\u4E2A\u5B57\u7B26",min:"${label}\u6700\u5C11${min}\u4E2A\u5B57\u7B26",max:"${label}\u6700\u591A${max}\u4E2A\u5B57\u7B26",range:"${label}\u987B\u5728${min}-${max}\u5B57\u7B26\u4E4B\u95F4"},number:{len:"${label}\u5FC5\u987B\u7B49\u4E8E${len}",min:"${label}\u6700\u5C0F\u503C\u4E3A${min}",max:"${label}\u6700\u5927\u503C\u4E3A${max}",range:"${label}\u987B\u5728${min}-${max}\u4E4B\u95F4"},array:{len:"\u987B\u4E3A${len}\u4E2A${label}",min:"\u6700\u5C11${min}\u4E2A${label}",max:"\u6700\u591A${max}\u4E2A${label}",range:"${label}\u6570\u91CF\u987B\u5728${min}-${max}\u4E4B\u95F4"},pattern:{mismatch:"${label}\u4E0E\u6A21\u5F0F\u4E0D\u5339\u914D${pattern}"}}},Image:{preview:"\u9884\u89C8"},QRCode:{expired:"\u4E8C\u7EF4\u7801\u8FC7\u671F",refresh:"\u70B9\u51FB\u5237\u65B0",scanned:"\u5DF2\u626B\u63CF"},ColorPicker:{presetEmpty:"\u6682\u65E0",transparent:"\u65E0\u8272",singleColor:"\u5355\u8272",gradientColor:"\u6E10\u53D8\u8272"}}},36012:function(ai,Sn,tt){"use strict";var Ve=tt(93185),ye={"text/plain":"Text","text/html":"Url",default:"Text"},ut="Copy to clipboard: #{key}, Enter";function oe(re){var ie=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return re.replace(/#{\s*key\s*}/g,ie)}function cr(re,ie){var Ft,Dt,or,kt,Mt,U,D=!1;ie||(ie={}),Ft=ie.debug||!1;try{or=Ve(),kt=document.createRange(),Mt=document.getSelection(),U=document.createElement("span"),U.textContent=re,U.ariaHidden="true",U.style.all="unset",U.style.position="fixed",U.style.top=0,U.style.clip="rect(0, 0, 0, 0)",U.style.whiteSpace="pre",U.style.webkitUserSelect="text",U.style.MozUserSelect="text",U.style.msUserSelect="text",U.style.userSelect="text",U.addEventListener("copy",function(lt){if(lt.stopPropagation(),ie.format)if(lt.preventDefault(),typeof lt.clipboardData=="undefined"){Ft&&console.warn("unable to use e.clipboardData"),Ft&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var Gt=ye[ie.format]||ye.default;window.clipboardData.setData(Gt,re)}else lt.clipboardData.clearData(),lt.clipboardData.setData(ie.format,re);ie.onCopy&&(lt.preventDefault(),ie.onCopy(lt.clipboardData))}),document.body.appendChild(U),kt.selectNodeContents(U),Mt.addRange(kt);var Pt=document.execCommand("copy");if(!Pt)throw new Error("copy command was unsuccessful");D=!0}catch(lt){Ft&&console.error("unable to copy using execCommand: ",lt),Ft&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(ie.format||"text",re),ie.onCopy&&ie.onCopy(window.clipboardData),D=!0}catch(Gt){Ft&&console.error("unable to copy using clipboardData: ",Gt),Ft&&console.error("falling back to prompt"),Dt=oe("message"in ie?ie.message:ut),window.prompt(Dt,re)}}finally{Mt&&(typeof Mt.removeRange=="function"?Mt.removeRange(kt):Mt.removeAllRanges()),U&&document.body.removeChild(U),or()}return D}ai.exports=cr},32655:function(ai,Sn,tt){"use strict";tt.d(Sn,{qY:function(){return U}});var Ve=tt(27061),ye=function(xt,gt,er){if(er||arguments.length===2)for(var Lt=0,Nt=gt.length,Tr;Lt<Nt;Lt++)(Tr||!(Lt in gt))&&(Tr||(Tr=Array.prototype.slice.call(gt,0,Lt)),Tr[Lt]=gt[Lt]);return xt.concat(Tr||Array.prototype.slice.call(gt))},ut=function(){function xt(gt,er,Lt){this.name=gt,this.version=er,this.os=Lt,this.type="browser"}return xt}(),oe=function(){function xt(gt){this.version=gt,this.type="node",this.name="node",this.os=Ve.platform}return xt}(),cr=function(){function xt(gt,er,Lt,Nt){this.name=gt,this.version=er,this.os=Lt,this.bot=Nt,this.type="bot-device"}return xt}(),re=function(){function xt(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return xt}(),ie=function(){function xt(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return xt}(),Ft=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Dt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,or=3,kt=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Ft]],Mt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function U(xt){return xt?lt(xt):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new ie:typeof navigator!="undefined"?lt(navigator.userAgent):lr()}function D(xt){return xt!==""&&kt.reduce(function(gt,er){var Lt=er[0],Nt=er[1];if(gt)return gt;var Tr=Nt.exec(xt);return!!Tr&&[Lt,Tr]},!1)}function Pt(xt){var gt=D(xt);return gt?gt[0]:null}function lt(xt){var gt=D(xt);if(!gt)return null;var er=gt[0],Lt=gt[1];if(er==="searchbot")return new re;var Nt=Lt[1]&&Lt[1].split(".").join("_").split("_").slice(0,3);Nt?Nt.length<or&&(Nt=ye(ye([],Nt,!0),tr(or-Nt.length),!0)):Nt=[];var Tr=Nt.join("."),vr=Gt(xt),Yr=Dt.exec(xt);return Yr&&Yr[1]?new cr(er,Tr,vr,Yr[1]):new ut(er,Tr,vr)}function Gt(xt){for(var gt=0,er=Mt.length;gt<er;gt++){var Lt=Mt[gt],Nt=Lt[0],Tr=Lt[1],vr=Tr.exec(xt);if(vr)return Nt}return null}function lr(){var xt=typeof Ve!="undefined"&&Ve.version;return xt?new oe(Ve.version.slice(1)):null}function tr(xt){for(var gt=[],er=0;er<xt;er++)gt.push("0");return gt}},6659:function(ai){"use strict";var Sn=Object.prototype.hasOwnProperty,tt="~";function Ve(){}Object.create&&(Ve.prototype=Object.create(null),new Ve().__proto__||(tt=!1));function ye(re,ie,Ft){this.fn=re,this.context=ie,this.once=Ft||!1}function ut(re,ie,Ft,Dt,or){if(typeof Ft!="function")throw new TypeError("The listener must be a function");var kt=new ye(Ft,Dt||re,or),Mt=tt?tt+ie:ie;return re._events[Mt]?re._events[Mt].fn?re._events[Mt]=[re._events[Mt],kt]:re._events[Mt].push(kt):(re._events[Mt]=kt,re._eventsCount++),re}function oe(re,ie){--re._eventsCount===0?re._events=new Ve:delete re._events[ie]}function cr(){this._events=new Ve,this._eventsCount=0}cr.prototype.eventNames=function(){var ie=[],Ft,Dt;if(this._eventsCount===0)return ie;for(Dt in Ft=this._events)Sn.call(Ft,Dt)&&ie.push(tt?Dt.slice(1):Dt);return Object.getOwnPropertySymbols?ie.concat(Object.getOwnPropertySymbols(Ft)):ie},cr.prototype.listeners=function(ie){var Ft=tt?tt+ie:ie,Dt=this._events[Ft];if(!Dt)return[];if(Dt.fn)return[Dt.fn];for(var or=0,kt=Dt.length,Mt=new Array(kt);or<kt;or++)Mt[or]=Dt[or].fn;return Mt},cr.prototype.listenerCount=function(ie){var Ft=tt?tt+ie:ie,Dt=this._events[Ft];return Dt?Dt.fn?1:Dt.length:0},cr.prototype.emit=function(ie,Ft,Dt,or,kt,Mt){var U=tt?tt+ie:ie;if(!this._events[U])return!1;var D=this._events[U],Pt=arguments.length,lt,Gt;if(D.fn){switch(D.once&&this.removeListener(ie,D.fn,void 0,!0),Pt){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,Ft),!0;case 3:return D.fn.call(D.context,Ft,Dt),!0;case 4:return D.fn.call(D.context,Ft,Dt,or),!0;case 5:return D.fn.call(D.context,Ft,Dt,or,kt),!0;case 6:return D.fn.call(D.context,Ft,Dt,or,kt,Mt),!0}for(Gt=1,lt=new Array(Pt-1);Gt<Pt;Gt++)lt[Gt-1]=arguments[Gt];D.fn.apply(D.context,lt)}else{var lr=D.length,tr;for(Gt=0;Gt<lr;Gt++)switch(D[Gt].once&&this.removeListener(ie,D[Gt].fn,void 0,!0),Pt){case 1:D[Gt].fn.call(D[Gt].context);break;case 2:D[Gt].fn.call(D[Gt].context,Ft);break;case 3:D[Gt].fn.call(D[Gt].context,Ft,Dt);break;case 4:D[Gt].fn.call(D[Gt].context,Ft,Dt,or);break;default:if(!lt)for(tr=1,lt=new Array(Pt-1);tr<Pt;tr++)lt[tr-1]=arguments[tr];D[Gt].fn.apply(D[Gt].context,lt)}}return!0},cr.prototype.on=function(ie,Ft,Dt){return ut(this,ie,Ft,Dt,!1)},cr.prototype.once=function(ie,Ft,Dt){return ut(this,ie,Ft,Dt,!0)},cr.prototype.removeListener=function(ie,Ft,Dt,or){var kt=tt?tt+ie:ie;if(!this._events[kt])return this;if(!Ft)return oe(this,kt),this;var Mt=this._events[kt];if(Mt.fn)Mt.fn===Ft&&(!or||Mt.once)&&(!Dt||Mt.context===Dt)&&oe(this,kt);else{for(var U=0,D=[],Pt=Mt.length;U<Pt;U++)(Mt[U].fn!==Ft||or&&!Mt[U].once||Dt&&Mt[U].context!==Dt)&&D.push(Mt[U]);D.length?this._events[kt]=D.length===1?D[0]:D:oe(this,kt)}return this},cr.prototype.removeAllListeners=function(ie){var Ft;return ie?(Ft=tt?tt+ie:ie,this._events[Ft]&&oe(this,Ft)):(this._events=new Ve,this._eventsCount=0),this},cr.prototype.off=cr.prototype.removeListener,cr.prototype.addListener=cr.prototype.on,cr.prefixed=tt,cr.EventEmitter=cr,ai.exports=cr},90968:function(ai,Sn,tt){"use strict";tt.d(Sn,{WT:function(){return ye}});var Ve=1e-6,ye=typeof Float32Array!="undefined"?Float32Array:Array,ut=Math.random;function oe(Ft){ye=Ft}var cr=Math.PI/180;function re(Ft){return Ft*cr}function ie(Ft,Dt){return Math.abs(Ft-Dt)<=Ve*Math.max(1,Math.abs(Ft),Math.abs(Dt))}Math.hypot||(Math.hypot=function(){for(var Ft=0,Dt=arguments.length;Dt--;)Ft+=arguments[Dt]*arguments[Dt];return Math.sqrt(Ft)})},91312:function(ai,Sn,tt){"use strict";tt.d(Sn,{Jp:function(){return Mt},U_:function(){return Dt},Us:function(){return Gt},vc:function(){return lt},xJ:function(){return lr}});function Ve(){var Ge=new glMatrix.ARRAY_TYPE(9);return glMatrix.ARRAY_TYPE!=Float32Array&&(Ge[1]=0,Ge[2]=0,Ge[3]=0,Ge[5]=0,Ge[6]=0,Ge[7]=0),Ge[0]=1,Ge[4]=1,Ge[8]=1,Ge}function ye(Ge,Et){return Ge[0]=Et[0],Ge[1]=Et[1],Ge[2]=Et[2],Ge[3]=Et[4],Ge[4]=Et[5],Ge[5]=Et[6],Ge[6]=Et[8],Ge[7]=Et[9],Ge[8]=Et[10],Ge}function ut(Ge){var Et=new glMatrix.ARRAY_TYPE(9);return Et[0]=Ge[0],Et[1]=Ge[1],Et[2]=Ge[2],Et[3]=Ge[3],Et[4]=Ge[4],Et[5]=Ge[5],Et[6]=Ge[6],Et[7]=Ge[7],Et[8]=Ge[8],Et}function oe(Ge,Et){return Ge[0]=Et[0],Ge[1]=Et[1],Ge[2]=Et[2],Ge[3]=Et[3],Ge[4]=Et[4],Ge[5]=Et[5],Ge[6]=Et[6],Ge[7]=Et[7],Ge[8]=Et[8],Ge}function cr(Ge,Et,Rr,un,yn,Vt,Ce,be,Ae){var _e=new glMatrix.ARRAY_TYPE(9);return _e[0]=Ge,_e[1]=Et,_e[2]=Rr,_e[3]=un,_e[4]=yn,_e[5]=Vt,_e[6]=Ce,_e[7]=be,_e[8]=Ae,_e}function re(Ge,Et,Rr,un,yn,Vt,Ce,be,Ae,_e){return Ge[0]=Et,Ge[1]=Rr,Ge[2]=un,Ge[3]=yn,Ge[4]=Vt,Ge[5]=Ce,Ge[6]=be,Ge[7]=Ae,Ge[8]=_e,Ge}function ie(Ge){return Ge[0]=1,Ge[1]=0,Ge[2]=0,Ge[3]=0,Ge[4]=1,Ge[5]=0,Ge[6]=0,Ge[7]=0,Ge[8]=1,Ge}function Ft(Ge,Et){if(Ge===Et){var Rr=Et[1],un=Et[2],yn=Et[5];Ge[1]=Et[3],Ge[2]=Et[6],Ge[3]=Rr,Ge[5]=Et[7],Ge[6]=un,Ge[7]=yn}else Ge[0]=Et[0],Ge[1]=Et[3],Ge[2]=Et[6],Ge[3]=Et[1],Ge[4]=Et[4],Ge[5]=Et[7],Ge[6]=Et[2],Ge[7]=Et[5],Ge[8]=Et[8];return Ge}function Dt(Ge,Et){var Rr=Et[0],un=Et[1],yn=Et[2],Vt=Et[3],Ce=Et[4],be=Et[5],Ae=Et[6],_e=Et[7],ze=Et[8],Bt=ze*Ce-be*_e,at=-ze*Vt+be*Ae,wt=_e*Vt-Ce*Ae,fe=Rr*Bt+un*at+yn*wt;return fe?(fe=1/fe,Ge[0]=Bt*fe,Ge[1]=(-ze*un+yn*_e)*fe,Ge[2]=(be*un-yn*Ce)*fe,Ge[3]=at*fe,Ge[4]=(ze*Rr-yn*Ae)*fe,Ge[5]=(-be*Rr+yn*Vt)*fe,Ge[6]=wt*fe,Ge[7]=(-_e*Rr+un*Ae)*fe,Ge[8]=(Ce*Rr-un*Vt)*fe,Ge):null}function or(Ge,Et){var Rr=Et[0],un=Et[1],yn=Et[2],Vt=Et[3],Ce=Et[4],be=Et[5],Ae=Et[6],_e=Et[7],ze=Et[8];return Ge[0]=Ce*ze-be*_e,Ge[1]=yn*_e-un*ze,Ge[2]=un*be-yn*Ce,Ge[3]=be*Ae-Vt*ze,Ge[4]=Rr*ze-yn*Ae,Ge[5]=yn*Vt-Rr*be,Ge[6]=Vt*_e-Ce*Ae,Ge[7]=un*Ae-Rr*_e,Ge[8]=Rr*Ce-un*Vt,Ge}function kt(Ge){var Et=Ge[0],Rr=Ge[1],un=Ge[2],yn=Ge[3],Vt=Ge[4],Ce=Ge[5],be=Ge[6],Ae=Ge[7],_e=Ge[8];return Et*(_e*Vt-Ce*Ae)+Rr*(-_e*yn+Ce*be)+un*(Ae*yn-Vt*be)}function Mt(Ge,Et,Rr){var un=Et[0],yn=Et[1],Vt=Et[2],Ce=Et[3],be=Et[4],Ae=Et[5],_e=Et[6],ze=Et[7],Bt=Et[8],at=Rr[0],wt=Rr[1],fe=Rr[2],st=Rr[3],Tt=Rr[4],ir=Rr[5],bt=Rr[6],sr=Rr[7],dr=Rr[8];return Ge[0]=at*un+wt*Ce+fe*_e,Ge[1]=at*yn+wt*be+fe*ze,Ge[2]=at*Vt+wt*Ae+fe*Bt,Ge[3]=st*un+Tt*Ce+ir*_e,Ge[4]=st*yn+Tt*be+ir*ze,Ge[5]=st*Vt+Tt*Ae+ir*Bt,Ge[6]=bt*un+sr*Ce+dr*_e,Ge[7]=bt*yn+sr*be+dr*ze,Ge[8]=bt*Vt+sr*Ae+dr*Bt,Ge}function U(Ge,Et,Rr){var un=Et[0],yn=Et[1],Vt=Et[2],Ce=Et[3],be=Et[4],Ae=Et[5],_e=Et[6],ze=Et[7],Bt=Et[8],at=Rr[0],wt=Rr[1];return Ge[0]=un,Ge[1]=yn,Ge[2]=Vt,Ge[3]=Ce,Ge[4]=be,Ge[5]=Ae,Ge[6]=at*un+wt*Ce+_e,Ge[7]=at*yn+wt*be+ze,Ge[8]=at*Vt+wt*Ae+Bt,Ge}function D(Ge,Et,Rr){var un=Et[0],yn=Et[1],Vt=Et[2],Ce=Et[3],be=Et[4],Ae=Et[5],_e=Et[6],ze=Et[7],Bt=Et[8],at=Math.sin(Rr),wt=Math.cos(Rr);return Ge[0]=wt*un+at*Ce,Ge[1]=wt*yn+at*be,Ge[2]=wt*Vt+at*Ae,Ge[3]=wt*Ce-at*un,Ge[4]=wt*be-at*yn,Ge[5]=wt*Ae-at*Vt,Ge[6]=_e,Ge[7]=ze,Ge[8]=Bt,Ge}function Pt(Ge,Et,Rr){var un=Rr[0],yn=Rr[1];return Ge[0]=un*Et[0],Ge[1]=un*Et[1],Ge[2]=un*Et[2],Ge[3]=yn*Et[3],Ge[4]=yn*Et[4],Ge[5]=yn*Et[5],Ge[6]=Et[6],Ge[7]=Et[7],Ge[8]=Et[8],Ge}function lt(Ge,Et){return Ge[0]=1,Ge[1]=0,Ge[2]=0,Ge[3]=0,Ge[4]=1,Ge[5]=0,Ge[6]=Et[0],Ge[7]=Et[1],Ge[8]=1,Ge}function Gt(Ge,Et){var Rr=Math.sin(Et),un=Math.cos(Et);return Ge[0]=un,Ge[1]=Rr,Ge[2]=0,Ge[3]=-Rr,Ge[4]=un,Ge[5]=0,Ge[6]=0,Ge[7]=0,Ge[8]=1,Ge}function lr(Ge,Et){return Ge[0]=Et[0],Ge[1]=0,Ge[2]=0,Ge[3]=0,Ge[4]=Et[1],Ge[5]=0,Ge[6]=0,Ge[7]=0,Ge[8]=1,Ge}function tr(Ge,Et){return Ge[0]=Et[0],Ge[1]=Et[1],Ge[2]=0,Ge[3]=Et[2],Ge[4]=Et[3],Ge[5]=0,Ge[6]=Et[4],Ge[7]=Et[5],Ge[8]=1,Ge}function xt(Ge,Et){var Rr=Et[0],un=Et[1],yn=Et[2],Vt=Et[3],Ce=Rr+Rr,be=un+un,Ae=yn+yn,_e=Rr*Ce,ze=un*Ce,Bt=un*be,at=yn*Ce,wt=yn*be,fe=yn*Ae,st=Vt*Ce,Tt=Vt*be,ir=Vt*Ae;return Ge[0]=1-Bt-fe,Ge[3]=ze-ir,Ge[6]=at+Tt,Ge[1]=ze+ir,Ge[4]=1-_e-fe,Ge[7]=wt-st,Ge[2]=at-Tt,Ge[5]=wt+st,Ge[8]=1-_e-Bt,Ge}function gt(Ge,Et){var Rr=Et[0],un=Et[1],yn=Et[2],Vt=Et[3],Ce=Et[4],be=Et[5],Ae=Et[6],_e=Et[7],ze=Et[8],Bt=Et[9],at=Et[10],wt=Et[11],fe=Et[12],st=Et[13],Tt=Et[14],ir=Et[15],bt=Rr*be-un*Ce,sr=Rr*Ae-yn*Ce,dr=Rr*_e-Vt*Ce,Pr=un*Ae-yn*be,an=un*_e-Vt*be,fn=yn*_e-Vt*Ae,qn=ze*st-Bt*fe,cn=ze*Tt-at*fe,Kr=ze*ir-wt*fe,rt=Bt*Tt-at*st,de=Bt*ir-wt*st,ve=at*ir-wt*Tt,ce=bt*ve-sr*de+dr*rt+Pr*Kr-an*cn+fn*qn;return ce?(ce=1/ce,Ge[0]=(be*ve-Ae*de+_e*rt)*ce,Ge[1]=(Ae*Kr-Ce*ve-_e*cn)*ce,Ge[2]=(Ce*de-be*Kr+_e*qn)*ce,Ge[3]=(yn*de-un*ve-Vt*rt)*ce,Ge[4]=(Rr*ve-yn*Kr+Vt*cn)*ce,Ge[5]=(un*Kr-Rr*de-Vt*qn)*ce,Ge[6]=(st*fn-Tt*an+ir*Pr)*ce,Ge[7]=(Tt*dr-fe*fn-ir*sr)*ce,Ge[8]=(fe*an-st*dr+ir*bt)*ce,Ge):null}function er(Ge,Et,Rr){return Ge[0]=2/Et,Ge[1]=0,Ge[2]=0,Ge[3]=0,Ge[4]=-2/Rr,Ge[5]=0,Ge[6]=-1,Ge[7]=1,Ge[8]=1,Ge}function Lt(Ge){return"mat3("+Ge[0]+", "+Ge[1]+", "+Ge[2]+", "+Ge[3]+", "+Ge[4]+", "+Ge[5]+", "+Ge[6]+", "+Ge[7]+", "+Ge[8]+")"}function Nt(Ge){return Math.hypot(Ge[0],Ge[1],Ge[2],Ge[3],Ge[4],Ge[5],Ge[6],Ge[7],Ge[8])}function Tr(Ge,Et,Rr){return Ge[0]=Et[0]+Rr[0],Ge[1]=Et[1]+Rr[1],Ge[2]=Et[2]+Rr[2],Ge[3]=Et[3]+Rr[3],Ge[4]=Et[4]+Rr[4],Ge[5]=Et[5]+Rr[5],Ge[6]=Et[6]+Rr[6],Ge[7]=Et[7]+Rr[7],Ge[8]=Et[8]+Rr[8],Ge}function vr(Ge,Et,Rr){return Ge[0]=Et[0]-Rr[0],Ge[1]=Et[1]-Rr[1],Ge[2]=Et[2]-Rr[2],Ge[3]=Et[3]-Rr[3],Ge[4]=Et[4]-Rr[4],Ge[5]=Et[5]-Rr[5],Ge[6]=Et[6]-Rr[6],Ge[7]=Et[7]-Rr[7],Ge[8]=Et[8]-Rr[8],Ge}function Yr(Ge,Et,Rr){return Ge[0]=Et[0]*Rr,Ge[1]=Et[1]*Rr,Ge[2]=Et[2]*Rr,Ge[3]=Et[3]*Rr,Ge[4]=Et[4]*Rr,Ge[5]=Et[5]*Rr,Ge[6]=Et[6]*Rr,Ge[7]=Et[7]*Rr,Ge[8]=Et[8]*Rr,Ge}function mn(Ge,Et,Rr,un){return Ge[0]=Et[0]+Rr[0]*un,Ge[1]=Et[1]+Rr[1]*un,Ge[2]=Et[2]+Rr[2]*un,Ge[3]=Et[3]+Rr[3]*un,Ge[4]=Et[4]+Rr[4]*un,Ge[5]=Et[5]+Rr[5]*un,Ge[6]=Et[6]+Rr[6]*un,Ge[7]=Et[7]+Rr[7]*un,Ge[8]=Et[8]+Rr[8]*un,Ge}function Mn(Ge,Et){return Ge[0]===Et[0]&&Ge[1]===Et[1]&&Ge[2]===Et[2]&&Ge[3]===Et[3]&&Ge[4]===Et[4]&&Ge[5]===Et[5]&&Ge[6]===Et[6]&&Ge[7]===Et[7]&&Ge[8]===Et[8]}function Fr(Ge,Et){var Rr=Ge[0],un=Ge[1],yn=Ge[2],Vt=Ge[3],Ce=Ge[4],be=Ge[5],Ae=Ge[6],_e=Ge[7],ze=Ge[8],Bt=Et[0],at=Et[1],wt=Et[2],fe=Et[3],st=Et[4],Tt=Et[5],ir=Et[6],bt=Et[7],sr=Et[8];return Math.abs(Rr-Bt)<=glMatrix.EPSILON*Math.max(1,Math.abs(Rr),Math.abs(Bt))&&Math.abs(un-at)<=glMatrix.EPSILON*Math.max(1,Math.abs(un),Math.abs(at))&&Math.abs(yn-wt)<=glMatrix.EPSILON*Math.max(1,Math.abs(yn),Math.abs(wt))&&Math.abs(Vt-fe)<=glMatrix.EPSILON*Math.max(1,Math.abs(Vt),Math.abs(fe))&&Math.abs(Ce-st)<=glMatrix.EPSILON*Math.max(1,Math.abs(Ce),Math.abs(st))&&Math.abs(be-Tt)<=glMatrix.EPSILON*Math.max(1,Math.abs(be),Math.abs(Tt))&&Math.abs(Ae-ir)<=glMatrix.EPSILON*Math.max(1,Math.abs(Ae),Math.abs(ir))&&Math.abs(_e-bt)<=glMatrix.EPSILON*Math.max(1,Math.abs(_e),Math.abs(bt))&&Math.abs(ze-sr)<=glMatrix.EPSILON*Math.max(1,Math.abs(ze),Math.abs(sr))}var Rn=null,Wn=null},29617:function(ai,Sn,tt){"use strict";tt.d(Sn,{$X:function(){return Ft},AK:function(){return Tr},EU:function(){return Et},Fp:function(){return D},Fv:function(){return Nt},I6:function(){return yn},IH:function(){return ie},TE:function(){return lr},VV:function(){return U},bA:function(){return lt},kE:function(){return xt},kK:function(){return Rn},lu:function(){return be}});var Ve=tt(90968);function ye(){var fe=new Ve.WT(2);return Ve.WT!=Float32Array&&(fe[0]=0,fe[1]=0),fe}function ut(fe){var st=new glMatrix.ARRAY_TYPE(2);return st[0]=fe[0],st[1]=fe[1],st}function oe(fe,st){var Tt=new glMatrix.ARRAY_TYPE(2);return Tt[0]=fe,Tt[1]=st,Tt}function cr(fe,st){return fe[0]=st[0],fe[1]=st[1],fe}function re(fe,st,Tt){return fe[0]=st,fe[1]=Tt,fe}function ie(fe,st,Tt){return fe[0]=st[0]+Tt[0],fe[1]=st[1]+Tt[1],fe}function Ft(fe,st,Tt){return fe[0]=st[0]-Tt[0],fe[1]=st[1]-Tt[1],fe}function Dt(fe,st,Tt){return fe[0]=st[0]*Tt[0],fe[1]=st[1]*Tt[1],fe}function or(fe,st,Tt){return fe[0]=st[0]/Tt[0],fe[1]=st[1]/Tt[1],fe}function kt(fe,st){return fe[0]=Math.ceil(st[0]),fe[1]=Math.ceil(st[1]),fe}function Mt(fe,st){return fe[0]=Math.floor(st[0]),fe[1]=Math.floor(st[1]),fe}function U(fe,st,Tt){return fe[0]=Math.min(st[0],Tt[0]),fe[1]=Math.min(st[1],Tt[1]),fe}function D(fe,st,Tt){return fe[0]=Math.max(st[0],Tt[0]),fe[1]=Math.max(st[1],Tt[1]),fe}function Pt(fe,st){return fe[0]=Math.round(st[0]),fe[1]=Math.round(st[1]),fe}function lt(fe,st,Tt){return fe[0]=st[0]*Tt,fe[1]=st[1]*Tt,fe}function Gt(fe,st,Tt,ir){return fe[0]=st[0]+Tt[0]*ir,fe[1]=st[1]+Tt[1]*ir,fe}function lr(fe,st){var Tt=st[0]-fe[0],ir=st[1]-fe[1];return Math.hypot(Tt,ir)}function tr(fe,st){var Tt=st[0]-fe[0],ir=st[1]-fe[1];return Tt*Tt+ir*ir}function xt(fe){var st=fe[0],Tt=fe[1];return Math.hypot(st,Tt)}function gt(fe){var st=fe[0],Tt=fe[1];return st*st+Tt*Tt}function er(fe,st){return fe[0]=-st[0],fe[1]=-st[1],fe}function Lt(fe,st){return fe[0]=1/st[0],fe[1]=1/st[1],fe}function Nt(fe,st){var Tt=st[0],ir=st[1],bt=Tt*Tt+ir*ir;return bt>0&&(bt=1/Math.sqrt(bt)),fe[0]=st[0]*bt,fe[1]=st[1]*bt,fe}function Tr(fe,st){return fe[0]*st[0]+fe[1]*st[1]}function vr(fe,st,Tt){var ir=st[0]*Tt[1]-st[1]*Tt[0];return fe[0]=fe[1]=0,fe[2]=ir,fe}function Yr(fe,st,Tt,ir){var bt=st[0],sr=st[1];return fe[0]=bt+ir*(Tt[0]-bt),fe[1]=sr+ir*(Tt[1]-sr),fe}function mn(fe,st){st=st||1;var Tt=glMatrix.RANDOM()*2*Math.PI;return fe[0]=Math.cos(Tt)*st,fe[1]=Math.sin(Tt)*st,fe}function Mn(fe,st,Tt){var ir=st[0],bt=st[1];return fe[0]=Tt[0]*ir+Tt[2]*bt,fe[1]=Tt[1]*ir+Tt[3]*bt,fe}function Fr(fe,st,Tt){var ir=st[0],bt=st[1];return fe[0]=Tt[0]*ir+Tt[2]*bt+Tt[4],fe[1]=Tt[1]*ir+Tt[3]*bt+Tt[5],fe}function Rn(fe,st,Tt){var ir=st[0],bt=st[1];return fe[0]=Tt[0]*ir+Tt[3]*bt+Tt[6],fe[1]=Tt[1]*ir+Tt[4]*bt+Tt[7],fe}function Wn(fe,st,Tt){var ir=st[0],bt=st[1];return fe[0]=Tt[0]*ir+Tt[4]*bt+Tt[12],fe[1]=Tt[1]*ir+Tt[5]*bt+Tt[13],fe}function Ge(fe,st,Tt,ir){var bt=st[0]-Tt[0],sr=st[1]-Tt[1],dr=Math.sin(ir),Pr=Math.cos(ir);return fe[0]=bt*Pr-sr*dr+Tt[0],fe[1]=bt*dr+sr*Pr+Tt[1],fe}function Et(fe,st){var Tt=fe[0],ir=fe[1],bt=st[0],sr=st[1],dr=Math.sqrt(Tt*Tt+ir*ir)*Math.sqrt(bt*bt+sr*sr),Pr=dr&&(Tt*bt+ir*sr)/dr;return Math.acos(Math.min(Math.max(Pr,-1),1))}function Rr(fe){return fe[0]=0,fe[1]=0,fe}function un(fe){return"vec2("+fe[0]+", "+fe[1]+")"}function yn(fe,st){return fe[0]===st[0]&&fe[1]===st[1]}function Vt(fe,st){var Tt=fe[0],ir=fe[1],bt=st[0],sr=st[1];return Math.abs(Tt-bt)<=glMatrix.EPSILON*Math.max(1,Math.abs(Tt),Math.abs(bt))&&Math.abs(ir-sr)<=glMatrix.EPSILON*Math.max(1,Math.abs(ir),Math.abs(sr))}var Ce=null,be=Ft,Ae=null,_e=null,ze=null,Bt=null,at=null,wt=function(){var fe=ye();return function(st,Tt,ir,bt,sr,dr){var Pr,an;for(Tt||(Tt=2),ir||(ir=0),bt?an=Math.min(bt*Tt+ir,st.length):an=st.length,Pr=ir;Pr<an;Pr+=Tt)fe[0]=st[Pr],fe[1]=st[Pr+1],sr(fe,fe,dr),st[Pr]=fe[0],st[Pr+1]=fe[1];return st}}()},17728:function(ai,Sn,tt){var Ve,ye=function(){var ut=String.fromCharCode,oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",re={};function ie(Dt,or){if(!re[Dt]){re[Dt]={};for(var kt=0;kt<Dt.length;kt++)re[Dt][Dt.charAt(kt)]=kt}return re[Dt][or]}var Ft={compressToBase64:function(Dt){if(Dt==null)return"";var or=Ft._compress(Dt,6,function(kt){return oe.charAt(kt)});switch(or.length%4){default:case 0:return or;case 1:return or+"===";case 2:return or+"==";case 3:return or+"="}},decompressFromBase64:function(Dt){return Dt==null?"":Dt==""?null:Ft._decompress(Dt.length,32,function(or){return ie(oe,Dt.charAt(or))})},compressToUTF16:function(Dt){return Dt==null?"":Ft._compress(Dt,15,function(or){return ut(or+32)})+" "},decompressFromUTF16:function(Dt){return Dt==null?"":Dt==""?null:Ft._decompress(Dt.length,16384,function(or){return Dt.charCodeAt(or)-32})},compressToUint8Array:function(Dt){for(var or=Ft.compress(Dt),kt=new Uint8Array(or.length*2),Mt=0,U=or.length;Mt<U;Mt++){var D=or.charCodeAt(Mt);kt[Mt*2]=D>>>8,kt[Mt*2+1]=D%256}return kt},decompressFromUint8Array:function(Dt){if(Dt==null)return Ft.decompress(Dt);for(var or=new Array(Dt.length/2),kt=0,Mt=or.length;kt<Mt;kt++)or[kt]=Dt[kt*2]*256+Dt[kt*2+1];var U=[];return or.forEach(function(D){U.push(ut(D))}),Ft.decompress(U.join(""))},compressToEncodedURIComponent:function(Dt){return Dt==null?"":Ft._compress(Dt,6,function(or){return cr.charAt(or)})},decompressFromEncodedURIComponent:function(Dt){return Dt==null?"":Dt==""?null:(Dt=Dt.replace(/ /g,"+"),Ft._decompress(Dt.length,32,function(or){return ie(cr,Dt.charAt(or))}))},compress:function(Dt){return Ft._compress(Dt,16,function(or){return ut(or)})},_compress:function(Dt,or,kt){if(Dt==null)return"";var Mt,U,D={},Pt={},lt="",Gt="",lr="",tr=2,xt=3,gt=2,er=[],Lt=0,Nt=0,Tr;for(Tr=0;Tr<Dt.length;Tr+=1)if(lt=Dt.charAt(Tr),Object.prototype.hasOwnProperty.call(D,lt)||(D[lt]=xt++,Pt[lt]=!0),Gt=lr+lt,Object.prototype.hasOwnProperty.call(D,Gt))lr=Gt;else{if(Object.prototype.hasOwnProperty.call(Pt,lr)){if(lr.charCodeAt(0)<256){for(Mt=0;Mt<gt;Mt++)Lt=Lt<<1,Nt==or-1?(Nt=0,er.push(kt(Lt)),Lt=0):Nt++;for(U=lr.charCodeAt(0),Mt=0;Mt<8;Mt++)Lt=Lt<<1|U&1,Nt==or-1?(Nt=0,er.push(kt(Lt)),Lt=0):Nt++,U=U>>1}else{for(U=1,Mt=0;Mt<gt;Mt++)Lt=Lt<<1|U,Nt==or-1?(Nt=0,er.push(kt(Lt)),Lt=0):Nt++,U=0;for(U=lr.charCodeAt(0),Mt=0;Mt<16;Mt++)Lt=Lt<<1|U&1,Nt==or-1?(Nt=0,er.push(kt(Lt)),Lt=0):Nt++,U=U>>1}tr--,tr==0&&(tr=Math.pow(2,gt),gt++),delete Pt[lr]}else for(U=D[lr],Mt=0;Mt<gt;Mt++)Lt=Lt<<1|U&1,Nt==or-1?(Nt=0,er.push(kt(Lt)),Lt=0):Nt++,U=U>>1;tr--,tr==0&&(tr=Math.pow(2,gt),gt++),D[Gt]=xt++,lr=String(lt)}if(lr!==""){if(Object.prototype.hasOwnProperty.call(Pt,lr)){if(lr.charCodeAt(0)<256){for(Mt=0;Mt<gt;Mt++)Lt=Lt<<1,Nt==or-1?(Nt=0,er.push(kt(Lt)),Lt=0):Nt++;for(U=lr.charCodeAt(0),Mt=0;Mt<8;Mt++)Lt=Lt<<1|U&1,Nt==or-1?(Nt=0,er.push(kt(Lt)),Lt=0):Nt++,U=U>>1}else{for(U=1,Mt=0;Mt<gt;Mt++)Lt=Lt<<1|U,Nt==or-1?(Nt=0,er.push(kt(Lt)),Lt=0):Nt++,U=0;for(U=lr.charCodeAt(0),Mt=0;Mt<16;Mt++)Lt=Lt<<1|U&1,Nt==or-1?(Nt=0,er.push(kt(Lt)),Lt=0):Nt++,U=U>>1}tr--,tr==0&&(tr=Math.pow(2,gt),gt++),delete Pt[lr]}else for(U=D[lr],Mt=0;Mt<gt;Mt++)Lt=Lt<<1|U&1,Nt==or-1?(Nt=0,er.push(kt(Lt)),Lt=0):Nt++,U=U>>1;tr--,tr==0&&(tr=Math.pow(2,gt),gt++)}for(U=2,Mt=0;Mt<gt;Mt++)Lt=Lt<<1|U&1,Nt==or-1?(Nt=0,er.push(kt(Lt)),Lt=0):Nt++,U=U>>1;for(;;)if(Lt=Lt<<1,Nt==or-1){er.push(kt(Lt));break}else Nt++;return er.join("")},decompress:function(Dt){return Dt==null?"":Dt==""?null:Ft._decompress(Dt.length,32768,function(or){return Dt.charCodeAt(or)})},_decompress:function(Dt,or,kt){var Mt=[],U,D=4,Pt=4,lt=3,Gt="",lr=[],tr,xt,gt,er,Lt,Nt,Tr,vr={val:kt(0),position:or,index:1};for(tr=0;tr<3;tr+=1)Mt[tr]=tr;for(gt=0,Lt=Math.pow(2,2),Nt=1;Nt!=Lt;)er=vr.val&vr.position,vr.position>>=1,vr.position==0&&(vr.position=or,vr.val=kt(vr.index++)),gt|=(er>0?1:0)*Nt,Nt<<=1;switch(U=gt){case 0:for(gt=0,Lt=Math.pow(2,8),Nt=1;Nt!=Lt;)er=vr.val&vr.position,vr.position>>=1,vr.position==0&&(vr.position=or,vr.val=kt(vr.index++)),gt|=(er>0?1:0)*Nt,Nt<<=1;Tr=ut(gt);break;case 1:for(gt=0,Lt=Math.pow(2,16),Nt=1;Nt!=Lt;)er=vr.val&vr.position,vr.position>>=1,vr.position==0&&(vr.position=or,vr.val=kt(vr.index++)),gt|=(er>0?1:0)*Nt,Nt<<=1;Tr=ut(gt);break;case 2:return""}for(Mt[3]=Tr,xt=Tr,lr.push(Tr);;){if(vr.index>Dt)return"";for(gt=0,Lt=Math.pow(2,lt),Nt=1;Nt!=Lt;)er=vr.val&vr.position,vr.position>>=1,vr.position==0&&(vr.position=or,vr.val=kt(vr.index++)),gt|=(er>0?1:0)*Nt,Nt<<=1;switch(Tr=gt){case 0:for(gt=0,Lt=Math.pow(2,8),Nt=1;Nt!=Lt;)er=vr.val&vr.position,vr.position>>=1,vr.position==0&&(vr.position=or,vr.val=kt(vr.index++)),gt|=(er>0?1:0)*Nt,Nt<<=1;Mt[Pt++]=ut(gt),Tr=Pt-1,D--;break;case 1:for(gt=0,Lt=Math.pow(2,16),Nt=1;Nt!=Lt;)er=vr.val&vr.position,vr.position>>=1,vr.position==0&&(vr.position=or,vr.val=kt(vr.index++)),gt|=(er>0?1:0)*Nt,Nt<<=1;Mt[Pt++]=ut(gt),Tr=Pt-1,D--;break;case 2:return lr.join("")}if(D==0&&(D=Math.pow(2,lt),lt++),Mt[Tr])Gt=Mt[Tr];else if(Tr===Pt)Gt=xt+xt.charAt(0);else return null;lr.push(Gt),Mt[Pt++]=xt+Gt.charAt(0),D--,xt=Gt,D==0&&(D=Math.pow(2,lt),lt++)}}};return Ft}();Ve=function(){return ye}.call(Sn,tt,Sn,ai),Ve!==void 0&&(ai.exports=Ve)},61320:function(ai,Sn,tt){ai=tt.nmd(ai);(function(Ve,ye){ai.exports=ye()})(this,function(){"use strict";var Ve;function ye(){return Ve.apply(null,arguments)}function ut(F){Ve=F}function oe(F){return F instanceof Array||Object.prototype.toString.call(F)==="[object Array]"}function cr(F){return F!=null&&Object.prototype.toString.call(F)==="[object Object]"}function re(F,X){return Object.prototype.hasOwnProperty.call(F,X)}function ie(F){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(F).length===0;var X;for(X in F)if(re(F,X))return!1;return!0}function Ft(F){return F===void 0}function Dt(F){return typeof F=="number"||Object.prototype.toString.call(F)==="[object Number]"}function or(F){return F instanceof Date||Object.prototype.toString.call(F)==="[object Date]"}function kt(F,X){var ue=[],ge,Ke=F.length;for(ge=0;ge<Ke;++ge)ue.push(X(F[ge],ge));return ue}function Mt(F,X){for(var ue in X)re(X,ue)&&(F[ue]=X[ue]);return re(X,"toString")&&(F.toString=X.toString),re(X,"valueOf")&&(F.valueOf=X.valueOf),F}function U(F,X,ue,ge){return Hp(F,X,ue,ge,!0).utc()}function D(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Pt(F){return F._pf==null&&(F._pf=D()),F._pf}var lt;Array.prototype.some?lt=Array.prototype.some:lt=function(F){var X=Object(this),ue=X.length>>>0,ge;for(ge=0;ge<ue;ge++)if(ge in X&&F.call(this,X[ge],ge,X))return!0;return!1};function Gt(F){var X=null,ue=!1,ge=F._d&&!isNaN(F._d.getTime());if(ge&&(X=Pt(F),ue=lt.call(X.parsedDateParts,function(Ke){return Ke!=null}),ge=X.overflow<0&&!X.empty&&!X.invalidEra&&!X.invalidMonth&&!X.invalidWeekday&&!X.weekdayMismatch&&!X.nullInput&&!X.invalidFormat&&!X.userInvalidated&&(!X.meridiem||X.meridiem&&ue),F._strict&&(ge=ge&&X.charsLeftOver===0&&X.unusedTokens.length===0&&X.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(F))F._isValid=ge;else return ge;return F._isValid}function lr(F){var X=U(NaN);return F!=null?Mt(Pt(X),F):Pt(X).userInvalidated=!0,X}var tr=ye.momentProperties=[],xt=!1;function gt(F,X){var ue,ge,Ke,ar=tr.length;if(Ft(X._isAMomentObject)||(F._isAMomentObject=X._isAMomentObject),Ft(X._i)||(F._i=X._i),Ft(X._f)||(F._f=X._f),Ft(X._l)||(F._l=X._l),Ft(X._strict)||(F._strict=X._strict),Ft(X._tzm)||(F._tzm=X._tzm),Ft(X._isUTC)||(F._isUTC=X._isUTC),Ft(X._offset)||(F._offset=X._offset),Ft(X._pf)||(F._pf=Pt(X)),Ft(X._locale)||(F._locale=X._locale),ar>0)for(ue=0;ue<ar;ue++)ge=tr[ue],Ke=X[ge],Ft(Ke)||(F[ge]=Ke);return F}function er(F){gt(this,F),this._d=new Date(F._d!=null?F._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),xt===!1&&(xt=!0,ye.updateOffset(this),xt=!1)}function Lt(F){return F instanceof er||F!=null&&F._isAMomentObject!=null}function Nt(F){ye.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+F)}function Tr(F,X){var ue=!0;return Mt(function(){if(ye.deprecationHandler!=null&&ye.deprecationHandler(null,F),ue){var ge=[],Ke,ar,zr,Qn=arguments.length;for(ar=0;ar<Qn;ar++){if(Ke="",typeof arguments[ar]=="object"){Ke+=`
[`+ar+"] ";for(zr in arguments[0])re(arguments[0],zr)&&(Ke+=zr+": "+arguments[0][zr]+", ");Ke=Ke.slice(0,-2)}else Ke=arguments[ar];ge.push(Ke)}Nt(F+`
Arguments: `+Array.prototype.slice.call(ge).join("")+`
`+new Error().stack),ue=!1}return X.apply(this,arguments)},X)}var vr={};function Yr(F,X){ye.deprecationHandler!=null&&ye.deprecationHandler(F,X),vr[F]||(Nt(X),vr[F]=!0)}ye.suppressDeprecationWarnings=!1,ye.deprecationHandler=null;function mn(F){return typeof Function!="undefined"&&F instanceof Function||Object.prototype.toString.call(F)==="[object Function]"}function Mn(F){var X,ue;for(ue in F)re(F,ue)&&(X=F[ue],mn(X)?this[ue]=X:this["_"+ue]=X);this._config=F,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Fr(F,X){var ue=Mt({},F),ge;for(ge in X)re(X,ge)&&(cr(F[ge])&&cr(X[ge])?(ue[ge]={},Mt(ue[ge],F[ge]),Mt(ue[ge],X[ge])):X[ge]!=null?ue[ge]=X[ge]:delete ue[ge]);for(ge in F)re(F,ge)&&!re(X,ge)&&cr(F[ge])&&(ue[ge]=Mt({},ue[ge]));return ue}function Rn(F){F!=null&&this.set(F)}var Wn;Object.keys?Wn=Object.keys:Wn=function(F){var X,ue=[];for(X in F)re(F,X)&&ue.push(X);return ue};var Ge={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Et(F,X,ue){var ge=this._calendar[F]||this._calendar.sameElse;return mn(ge)?ge.call(X,ue):ge}function Rr(F,X,ue){var ge=""+Math.abs(F),Ke=X-ge.length,ar=F>=0;return(ar?ue?"+":"":"-")+Math.pow(10,Math.max(0,Ke)).toString().substr(1)+ge}var un=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,yn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Vt={},Ce={};function be(F,X,ue,ge){var Ke=ge;typeof ge=="string"&&(Ke=function(){return this[ge]()}),F&&(Ce[F]=Ke),X&&(Ce[X[0]]=function(){return Rr(Ke.apply(this,arguments),X[1],X[2])}),ue&&(Ce[ue]=function(){return this.localeData().ordinal(Ke.apply(this,arguments),F)})}function Ae(F){return F.match(/\[[\s\S]/)?F.replace(/^\[|\]$/g,""):F.replace(/\\/g,"")}function _e(F){var X=F.match(un),ue,ge;for(ue=0,ge=X.length;ue<ge;ue++)Ce[X[ue]]?X[ue]=Ce[X[ue]]:X[ue]=Ae(X[ue]);return function(Ke){var ar="",zr;for(zr=0;zr<ge;zr++)ar+=mn(X[zr])?X[zr].call(Ke,F):X[zr];return ar}}function ze(F,X){return F.isValid()?(X=Bt(X,F.localeData()),Vt[X]=Vt[X]||_e(X),Vt[X](F)):F.localeData().invalidDate()}function Bt(F,X){var ue=5;function ge(Ke){return X.longDateFormat(Ke)||Ke}for(yn.lastIndex=0;ue>=0&&yn.test(F);)F=F.replace(yn,ge),yn.lastIndex=0,ue-=1;return F}var at={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function wt(F){var X=this._longDateFormat[F],ue=this._longDateFormat[F.toUpperCase()];return X||!ue?X:(this._longDateFormat[F]=ue.match(un).map(function(ge){return ge==="MMMM"||ge==="MM"||ge==="DD"||ge==="dddd"?ge.slice(1):ge}).join(""),this._longDateFormat[F])}var fe="Invalid date";function st(){return this._invalidDate}var Tt="%d",ir=/\d{1,2}/;function bt(F){return this._ordinal.replace("%d",F)}var sr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function dr(F,X,ue,ge){var Ke=this._relativeTime[ue];return mn(Ke)?Ke(F,X,ue,ge):Ke.replace(/%d/i,F)}function Pr(F,X){var ue=this._relativeTime[F>0?"future":"past"];return mn(ue)?ue(X):ue.replace(/%s/i,X)}var an={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function fn(F){return typeof F=="string"?an[F]||an[F.toLowerCase()]:void 0}function qn(F){var X={},ue,ge;for(ge in F)re(F,ge)&&(ue=fn(ge),ue&&(X[ue]=F[ge]));return X}var cn={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Kr(F){var X=[],ue;for(ue in F)re(F,ue)&&X.push({unit:ue,priority:cn[ue]});return X.sort(function(ge,Ke){return ge.priority-Ke.priority}),X}var rt=/\d/,de=/\d\d/,ve=/\d{3}/,ce=/\d{4}/,xe=/[+-]?\d{6}/,Ee=/\d\d?/,Be=/\d\d\d\d?/,Re=/\d\d\d\d\d\d?/,ct=/\d{1,3}/,ht=/\d{1,4}/,Ht=/[+-]?\d{1,6}/,Yt=/\d+/,rr=/[+-]?\d+/,hr=/Z|[+-]\d\d:?\d\d/gi,Hr=/Z|[+-]\d\d(?::?\d\d)?/gi,Zt=/[+-]?\d+(\.\d{1,3})?/,qr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Qr=/^[1-9]\d?/,dn=/^([1-9]\d|\d)/,kn;kn={};function wr(F,X,ue){kn[F]=mn(X)?X:function(ge,Ke){return ge&&ue?ue:X}}function ei(F,X){return re(kn,F)?kn[F](X._strict,X._locale):new RegExp(Ln(F))}function Ln(F){return yi(F.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(X,ue,ge,Ke,ar){return ue||ge||Ke||ar}))}function yi(F){return F.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function fa(F){return F<0?Math.ceil(F)||0:Math.floor(F)}function _i(F){var X=+F,ue=0;return X!==0&&isFinite(X)&&(ue=fa(X)),ue}var Ja={};function Gr(F,X){var ue,ge=X,Ke;for(typeof F=="string"&&(F=[F]),Dt(X)&&(ge=function(ar,zr){zr[X]=_i(ar)}),Ke=F.length,ue=0;ue<Ke;ue++)Ja[F[ue]]=ge}function oi(F,X){Gr(F,function(ue,ge,Ke,ar){Ke._w=Ke._w||{},X(ue,Ke._w,Ke,ar)})}function is(F,X,ue){X!=null&&re(Ja,F)&&Ja[F](X,ue._a,ue,F)}function qa(F){return F%4===0&&F%100!==0||F%400===0}var _a=0,Ti=1,oa=2,zi=3,dl=4,go=5,Ol=6,Es=7,Gs=8;be("Y",0,0,function(){var F=this.year();return F<=9999?Rr(F,4):"+"+F}),be(0,["YY",2],0,function(){return this.year()%100}),be(0,["YYYY",4],0,"year"),be(0,["YYYYY",5],0,"year"),be(0,["YYYYYY",6,!0],0,"year"),wr("Y",rr),wr("YY",Ee,de),wr("YYYY",ht,ce),wr("YYYYY",Ht,xe),wr("YYYYYY",Ht,xe),Gr(["YYYYY","YYYYYY"],_a),Gr("YYYY",function(F,X){X[_a]=F.length===2?ye.parseTwoDigitYear(F):_i(F)}),Gr("YY",function(F,X){X[_a]=ye.parseTwoDigitYear(F)}),Gr("Y",function(F,X){X[_a]=parseInt(F,10)});function iu(F){return qa(F)?366:365}ye.parseTwoDigitYear=function(F){return _i(F)+(_i(F)>68?1900:2e3)};var ql=ju("FullYear",!0);function $f(){return qa(this.year())}function ju(F,X){return function(ue){return ue!=null?(Ms(this,F,ue),ye.updateOffset(this,X),this):au(this,F)}}function au(F,X){if(!F.isValid())return NaN;var ue=F._d,ge=F._isUTC;switch(X){case"Milliseconds":return ge?ue.getUTCMilliseconds():ue.getMilliseconds();case"Seconds":return ge?ue.getUTCSeconds():ue.getSeconds();case"Minutes":return ge?ue.getUTCMinutes():ue.getMinutes();case"Hours":return ge?ue.getUTCHours():ue.getHours();case"Date":return ge?ue.getUTCDate():ue.getDate();case"Day":return ge?ue.getUTCDay():ue.getDay();case"Month":return ge?ue.getUTCMonth():ue.getMonth();case"FullYear":return ge?ue.getUTCFullYear():ue.getFullYear();default:return NaN}}function Ms(F,X,ue){var ge,Ke,ar,zr,Qn;if(!(!F.isValid()||isNaN(ue))){switch(ge=F._d,Ke=F._isUTC,X){case"Milliseconds":return void(Ke?ge.setUTCMilliseconds(ue):ge.setMilliseconds(ue));case"Seconds":return void(Ke?ge.setUTCSeconds(ue):ge.setSeconds(ue));case"Minutes":return void(Ke?ge.setUTCMinutes(ue):ge.setMinutes(ue));case"Hours":return void(Ke?ge.setUTCHours(ue):ge.setHours(ue));case"Date":return void(Ke?ge.setUTCDate(ue):ge.setDate(ue));case"FullYear":break;default:return}ar=ue,zr=F.month(),Qn=F.date(),Qn=Qn===29&&zr===1&&!qa(ar)?28:Qn,Ke?ge.setUTCFullYear(ar,zr,Qn):ge.setFullYear(ar,zr,Qn)}}function Ts(F){return F=fn(F),mn(this[F])?this[F]():this}function Ph(F,X){if(typeof F=="object"){F=qn(F);var ue=Kr(F),ge,Ke=ue.length;for(ge=0;ge<Ke;ge++)this[ue[ge].unit](F[ue[ge].unit])}else if(F=fn(F),mn(this[F]))return this[F](X);return this}function ff(F,X){return(F%X+X)%X}var wa;Array.prototype.indexOf?wa=Array.prototype.indexOf:wa=function(F){var X;for(X=0;X<this.length;++X)if(this[X]===F)return X;return-1};function ea(F,X){if(isNaN(F)||isNaN(X))return NaN;var ue=ff(X,12);return F+=(X-ue)/12,ue===1?qa(F)?29:28:31-ue%7%2}be("M",["MM",2],"Mo",function(){return this.month()+1}),be("MMM",0,0,function(F){return this.localeData().monthsShort(this,F)}),be("MMMM",0,0,function(F){return this.localeData().months(this,F)}),wr("M",Ee,Qr),wr("MM",Ee,de),wr("MMM",function(F,X){return X.monthsShortRegex(F)}),wr("MMMM",function(F,X){return X.monthsRegex(F)}),Gr(["M","MM"],function(F,X){X[Ti]=_i(F)-1}),Gr(["MMM","MMMM"],function(F,X,ue,ge){var Ke=ue._locale.monthsParse(F,ge,ue._strict);Ke!=null?X[Ti]=Ke:Pt(ue).invalidMonth=F});var $s="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ql="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Al=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,lc=qr,Uf=qr;function St(F,X){return F?oe(this._months)?this._months[F.month()]:this._months[(this._months.isFormat||Al).test(X)?"format":"standalone"][F.month()]:oe(this._months)?this._months:this._months.standalone}function Pe(F,X){return F?oe(this._monthsShort)?this._monthsShort[F.month()]:this._monthsShort[Al.test(X)?"format":"standalone"][F.month()]:oe(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function yt(F,X,ue){var ge,Ke,ar,zr=F.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],ge=0;ge<12;++ge)ar=U([2e3,ge]),this._shortMonthsParse[ge]=this.monthsShort(ar,"").toLocaleLowerCase(),this._longMonthsParse[ge]=this.months(ar,"").toLocaleLowerCase();return ue?X==="MMM"?(Ke=wa.call(this._shortMonthsParse,zr),Ke!==-1?Ke:null):(Ke=wa.call(this._longMonthsParse,zr),Ke!==-1?Ke:null):X==="MMM"?(Ke=wa.call(this._shortMonthsParse,zr),Ke!==-1?Ke:(Ke=wa.call(this._longMonthsParse,zr),Ke!==-1?Ke:null)):(Ke=wa.call(this._longMonthsParse,zr),Ke!==-1?Ke:(Ke=wa.call(this._shortMonthsParse,zr),Ke!==-1?Ke:null))}function qt(F,X,ue){var ge,Ke,ar;if(this._monthsParseExact)return yt.call(this,F,X,ue);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),ge=0;ge<12;ge++){if(Ke=U([2e3,ge]),ue&&!this._longMonthsParse[ge]&&(this._longMonthsParse[ge]=new RegExp("^"+this.months(Ke,"").replace(".","")+"$","i"),this._shortMonthsParse[ge]=new RegExp("^"+this.monthsShort(Ke,"").replace(".","")+"$","i")),!ue&&!this._monthsParse[ge]&&(ar="^"+this.months(Ke,"")+"|^"+this.monthsShort(Ke,""),this._monthsParse[ge]=new RegExp(ar.replace(".",""),"i")),ue&&X==="MMMM"&&this._longMonthsParse[ge].test(F))return ge;if(ue&&X==="MMM"&&this._shortMonthsParse[ge].test(F))return ge;if(!ue&&this._monthsParse[ge].test(F))return ge}}function _r(F,X){if(!F.isValid())return F;if(typeof X=="string"){if(/^\d+$/.test(X))X=_i(X);else if(X=F.localeData().monthsParse(X),!Dt(X))return F}var ue=X,ge=F.date();return ge=ge<29?ge:Math.min(ge,ea(F.year(),ue)),F._isUTC?F._d.setUTCMonth(ue,ge):F._d.setMonth(ue,ge),F}function rn(F){return F!=null?(_r(this,F),ye.updateOffset(this,!0),this):au(this,"Month")}function xn(){return ea(this.year(),this.month())}function vn(F){return this._monthsParseExact?(re(this,"_monthsRegex")||Fa.call(this),F?this._monthsShortStrictRegex:this._monthsShortRegex):(re(this,"_monthsShortRegex")||(this._monthsShortRegex=lc),this._monthsShortStrictRegex&&F?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ii(F){return this._monthsParseExact?(re(this,"_monthsRegex")||Fa.call(this),F?this._monthsStrictRegex:this._monthsRegex):(re(this,"_monthsRegex")||(this._monthsRegex=Uf),this._monthsStrictRegex&&F?this._monthsStrictRegex:this._monthsRegex)}function Fa(){function F(ta,Ma){return Ma.length-ta.length}var X=[],ue=[],ge=[],Ke,ar,zr,Qn;for(Ke=0;Ke<12;Ke++)ar=U([2e3,Ke]),zr=yi(this.monthsShort(ar,"")),Qn=yi(this.months(ar,"")),X.push(zr),ue.push(Qn),ge.push(Qn),ge.push(zr);X.sort(F),ue.sort(F),ge.sort(F),this._monthsRegex=new RegExp("^("+ge.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+ue.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+X.join("|")+")","i")}function _o(F,X,ue,ge,Ke,ar,zr){var Qn;return F<100&&F>=0?(Qn=new Date(F+400,X,ue,ge,Ke,ar,zr),isFinite(Qn.getFullYear())&&Qn.setFullYear(F)):Qn=new Date(F,X,ue,ge,Ke,ar,zr),Qn}function vl(F){var X,ue;return F<100&&F>=0?(ue=Array.prototype.slice.call(arguments),ue[0]=F+400,X=new Date(Date.UTC.apply(null,ue)),isFinite(X.getUTCFullYear())&&X.setUTCFullYear(F)):X=new Date(Date.UTC.apply(null,arguments)),X}function Us(F,X,ue){var ge=7+X-ue,Ke=(7+vl(F,0,ge).getUTCDay()-X)%7;return-Ke+ge-1}function Eo(F,X,ue,ge,Ke){var ar=(7+ue-ge)%7,zr=Us(F,ge,Ke),Qn=1+7*(X-1)+ar+zr,ta,Ma;return Qn<=0?(ta=F-1,Ma=iu(ta)+Qn):Qn>iu(F)?(ta=F+1,Ma=Qn-iu(F)):(ta=F,Ma=Qn),{year:ta,dayOfYear:Ma}}function as(F,X,ue){var ge=Us(F.year(),X,ue),Ke=Math.floor((F.dayOfYear()-ge-1)/7)+1,ar,zr;return Ke<1?(zr=F.year()-1,ar=Ke+Os(zr,X,ue)):Ke>Os(F.year(),X,ue)?(ar=Ke-Os(F.year(),X,ue),zr=F.year()+1):(zr=F.year(),ar=Ke),{week:ar,year:zr}}function Os(F,X,ue){var ge=Us(F,X,ue),Ke=Us(F+1,X,ue);return(iu(F)-ge+Ke)/7}be("w",["ww",2],"wo","week"),be("W",["WW",2],"Wo","isoWeek"),wr("w",Ee,Qr),wr("ww",Ee,de),wr("W",Ee,Qr),wr("WW",Ee,de),oi(["w","ww","W","WW"],function(F,X,ue,ge){X[ge.substr(0,1)]=_i(F)});function Yf(F){return as(F,this._week.dow,this._week.doy).week}var hf={dow:0,doy:6};function Id(){return this._week.dow}function pe(){return this._week.doy}function Ie(F){var X=this.localeData().week(this);return F==null?X:this.add((F-X)*7,"d")}function qe(F){var X=as(this,1,4).week;return F==null?X:this.add((F-X)*7,"d")}be("d",0,"do","day"),be("dd",0,0,function(F){return this.localeData().weekdaysMin(this,F)}),be("ddd",0,0,function(F){return this.localeData().weekdaysShort(this,F)}),be("dddd",0,0,function(F){return this.localeData().weekdays(this,F)}),be("e",0,0,"weekday"),be("E",0,0,"isoWeekday"),wr("d",Ee),wr("e",Ee),wr("E",Ee),wr("dd",function(F,X){return X.weekdaysMinRegex(F)}),wr("ddd",function(F,X){return X.weekdaysShortRegex(F)}),wr("dddd",function(F,X){return X.weekdaysRegex(F)}),oi(["dd","ddd","dddd"],function(F,X,ue,ge){var Ke=ue._locale.weekdaysParse(F,ge,ue._strict);Ke!=null?X.d=Ke:Pt(ue).invalidWeekday=F}),oi(["d","e","E"],function(F,X,ue,ge){X[ge]=_i(F)});function jt(F,X){return typeof F!="string"?F:isNaN(F)?(F=X.weekdaysParse(F),typeof F=="number"?F:null):parseInt(F,10)}function Dr(F,X){return typeof F=="string"?X.weekdaysParse(F)%7||7:isNaN(F)?null:F}function jr(F,X){return F.slice(X,7).concat(F.slice(0,X))}var Pn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),fi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Hn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ci=qr,hi=qr,si=qr;function Vr(F,X){var ue=oe(this._weekdays)?this._weekdays:this._weekdays[F&&F!==!0&&this._weekdays.isFormat.test(X)?"format":"standalone"];return F===!0?jr(ue,this._week.dow):F?ue[F.day()]:ue}function Gn(F){return F===!0?jr(this._weekdaysShort,this._week.dow):F?this._weekdaysShort[F.day()]:this._weekdaysShort}function di(F){return F===!0?jr(this._weekdaysMin,this._week.dow):F?this._weekdaysMin[F.day()]:this._weekdaysMin}function ni(F,X,ue){var ge,Ke,ar,zr=F.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],ge=0;ge<7;++ge)ar=U([2e3,1]).day(ge),this._minWeekdaysParse[ge]=this.weekdaysMin(ar,"").toLocaleLowerCase(),this._shortWeekdaysParse[ge]=this.weekdaysShort(ar,"").toLocaleLowerCase(),this._weekdaysParse[ge]=this.weekdays(ar,"").toLocaleLowerCase();return ue?X==="dddd"?(Ke=wa.call(this._weekdaysParse,zr),Ke!==-1?Ke:null):X==="ddd"?(Ke=wa.call(this._shortWeekdaysParse,zr),Ke!==-1?Ke:null):(Ke=wa.call(this._minWeekdaysParse,zr),Ke!==-1?Ke:null):X==="dddd"?(Ke=wa.call(this._weekdaysParse,zr),Ke!==-1||(Ke=wa.call(this._shortWeekdaysParse,zr),Ke!==-1)?Ke:(Ke=wa.call(this._minWeekdaysParse,zr),Ke!==-1?Ke:null)):X==="ddd"?(Ke=wa.call(this._shortWeekdaysParse,zr),Ke!==-1||(Ke=wa.call(this._weekdaysParse,zr),Ke!==-1)?Ke:(Ke=wa.call(this._minWeekdaysParse,zr),Ke!==-1?Ke:null)):(Ke=wa.call(this._minWeekdaysParse,zr),Ke!==-1||(Ke=wa.call(this._weekdaysParse,zr),Ke!==-1)?Ke:(Ke=wa.call(this._shortWeekdaysParse,zr),Ke!==-1?Ke:null))}function jn(F,X,ue){var ge,Ke,ar;if(this._weekdaysParseExact)return ni.call(this,F,X,ue);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),ge=0;ge<7;ge++){if(Ke=U([2e3,1]).day(ge),ue&&!this._fullWeekdaysParse[ge]&&(this._fullWeekdaysParse[ge]=new RegExp("^"+this.weekdays(Ke,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[ge]=new RegExp("^"+this.weekdaysShort(Ke,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[ge]=new RegExp("^"+this.weekdaysMin(Ke,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[ge]||(ar="^"+this.weekdays(Ke,"")+"|^"+this.weekdaysShort(Ke,"")+"|^"+this.weekdaysMin(Ke,""),this._weekdaysParse[ge]=new RegExp(ar.replace(".",""),"i")),ue&&X==="dddd"&&this._fullWeekdaysParse[ge].test(F))return ge;if(ue&&X==="ddd"&&this._shortWeekdaysParse[ge].test(F))return ge;if(ue&&X==="dd"&&this._minWeekdaysParse[ge].test(F))return ge;if(!ue&&this._weekdaysParse[ge].test(F))return ge}}function Bi(F){if(!this.isValid())return F!=null?this:NaN;var X=au(this,"Day");return F!=null?(F=jt(F,this.localeData()),this.add(F-X,"d")):X}function Ui(F){if(!this.isValid())return F!=null?this:NaN;var X=(this.day()+7-this.localeData()._week.dow)%7;return F==null?X:this.add(F-X,"d")}function ma(F){if(!this.isValid())return F!=null?this:NaN;if(F!=null){var X=Dr(F,this.localeData());return this.day(this.day()%7?X:X-7)}else return this.day()||7}function Mo(F){return this._weekdaysParseExact?(re(this,"_weekdaysRegex")||As.call(this),F?this._weekdaysStrictRegex:this._weekdaysRegex):(re(this,"_weekdaysRegex")||(this._weekdaysRegex=ci),this._weekdaysStrictRegex&&F?this._weekdaysStrictRegex:this._weekdaysRegex)}function il(F){return this._weekdaysParseExact?(re(this,"_weekdaysRegex")||As.call(this),F?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(re(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=hi),this._weekdaysShortStrictRegex&&F?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function mo(F){return this._weekdaysParseExact?(re(this,"_weekdaysRegex")||As.call(this),F?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(re(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=si),this._weekdaysMinStrictRegex&&F?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function As(){function F(hs,zc){return zc.length-hs.length}var X=[],ue=[],ge=[],Ke=[],ar,zr,Qn,ta,Ma;for(ar=0;ar<7;ar++)zr=U([2e3,1]).day(ar),Qn=yi(this.weekdaysMin(zr,"")),ta=yi(this.weekdaysShort(zr,"")),Ma=yi(this.weekdays(zr,"")),X.push(Qn),ue.push(ta),ge.push(Ma),Ke.push(Qn),Ke.push(ta),Ke.push(Ma);X.sort(F),ue.sort(F),ge.sort(F),Ke.sort(F),this._weekdaysRegex=new RegExp("^("+Ke.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+ge.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+ue.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+X.join("|")+")","i")}function ou(){return this.hours()%12||12}function os(){return this.hours()||24}be("H",["HH",2],0,"hour"),be("h",["hh",2],0,ou),be("k",["kk",2],0,os),be("hmm",0,0,function(){return""+ou.apply(this)+Rr(this.minutes(),2)}),be("hmmss",0,0,function(){return""+ou.apply(this)+Rr(this.minutes(),2)+Rr(this.seconds(),2)}),be("Hmm",0,0,function(){return""+this.hours()+Rr(this.minutes(),2)}),be("Hmmss",0,0,function(){return""+this.hours()+Rr(this.minutes(),2)+Rr(this.seconds(),2)});function Ys(F,X){be(F,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),X)})}Ys("a",!0),Ys("A",!1);function al(F,X){return X._meridiemParse}wr("a",al),wr("A",al),wr("H",Ee,dn),wr("h",Ee,Qr),wr("k",Ee,Qr),wr("HH",Ee,de),wr("hh",Ee,de),wr("kk",Ee,de),wr("hmm",Be),wr("hmmss",Re),wr("Hmm",Be),wr("Hmmss",Re),Gr(["H","HH"],zi),Gr(["k","kk"],function(F,X,ue){var ge=_i(F);X[zi]=ge===24?0:ge}),Gr(["a","A"],function(F,X,ue){ue._isPm=ue._locale.isPM(F),ue._meridiem=F}),Gr(["h","hh"],function(F,X,ue){X[zi]=_i(F),Pt(ue).bigHour=!0}),Gr("hmm",function(F,X,ue){var ge=F.length-2;X[zi]=_i(F.substr(0,ge)),X[dl]=_i(F.substr(ge)),Pt(ue).bigHour=!0}),Gr("hmmss",function(F,X,ue){var ge=F.length-4,Ke=F.length-2;X[zi]=_i(F.substr(0,ge)),X[dl]=_i(F.substr(ge,2)),X[go]=_i(F.substr(Ke)),Pt(ue).bigHour=!0}),Gr("Hmm",function(F,X,ue){var ge=F.length-2;X[zi]=_i(F.substr(0,ge)),X[dl]=_i(F.substr(ge))}),Gr("Hmmss",function(F,X,ue){var ge=F.length-4,Ke=F.length-2;X[zi]=_i(F.substr(0,ge)),X[dl]=_i(F.substr(ge,2)),X[go]=_i(F.substr(Ke))});function Tu(F){return(F+"").toLowerCase().charAt(0)==="p"}var Is=/[ap]\.?m?\.?/i,lu=ju("Hours",!0);function ha(F,X,ue){return F>11?ue?"pm":"PM":ue?"am":"AM"}var Vn={calendar:Ge,longDateFormat:at,invalidDate:fe,ordinal:Tt,dayOfMonthOrdinalParse:ir,relativeTime:sr,months:$s,monthsShort:Ql,week:hf,weekdays:Pn,weekdaysMin:Hn,weekdaysShort:fi,meridiemParse:Is},$r={},Fn={},Ri;function Ki(F,X){var ue,ge=Math.min(F.length,X.length);for(ue=0;ue<ge;ue+=1)if(F[ue]!==X[ue])return ue;return ge}function Gi(F){return F&&F.toLowerCase().replace("_","-")}function Do(F){for(var X=0,ue,ge,Ke,ar;X<F.length;){for(ar=Gi(F[X]).split("-"),ue=ar.length,ge=Gi(F[X+1]),ge=ge?ge.split("-"):null;ue>0;){if(Ke=Lo(ar.slice(0,ue).join("-")),Ke)return Ke;if(ge&&ge.length>=ue&&Ki(ar,ge)>=ue-1)break;ue--}X++}return Ri}function Ei(F){return!!(F&&F.match("^[^/\\\\]*$"))}function Lo(F){var X=null,ue;if($r[F]===void 0&&ai&&ai.exports&&Ei(F))try{X=Ri._abbr,ue=void 0,Object(function(){var Ke=new Error("Cannot find module 'undefined'");throw Ke.code="MODULE_NOT_FOUND",Ke}()),yo(X)}catch(ge){$r[F]=null}return $r[F]}function yo(F,X){var ue;return F&&(Ft(X)?ue=Rl(F):ue=ol(F,X),ue?Ri=ue:typeof console!="undefined"&&console.warn&&console.warn("Locale "+F+" not found. Did you forget to load it?")),Ri._abbr}function ol(F,X){if(X!==null){var ue,ge=Vn;if(X.abbr=F,$r[F]!=null)Yr("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),ge=$r[F]._config;else if(X.parentLocale!=null)if($r[X.parentLocale]!=null)ge=$r[X.parentLocale]._config;else if(ue=Lo(X.parentLocale),ue!=null)ge=ue._config;else return Fn[X.parentLocale]||(Fn[X.parentLocale]=[]),Fn[X.parentLocale].push({name:F,config:X}),null;return $r[F]=new Rn(Fr(ge,X)),Fn[F]&&Fn[F].forEach(function(Ke){ol(Ke.name,Ke.config)}),yo(F),$r[F]}else return delete $r[F],null}function Il(F,X){if(X!=null){var ue,ge,Ke=Vn;$r[F]!=null&&$r[F].parentLocale!=null?$r[F].set(Fr($r[F]._config,X)):(ge=Lo(F),ge!=null&&(Ke=ge._config),X=Fr(Ke,X),ge==null&&(X.abbr=F),ue=new Rn(X),ue.parentLocale=$r[F],$r[F]=ue),yo(F)}else $r[F]!=null&&($r[F].parentLocale!=null?($r[F]=$r[F].parentLocale,F===yo()&&yo(F)):$r[F]!=null&&delete $r[F]);return $r[F]}function Rl(F){var X;if(F&&F._locale&&F._locale._abbr&&(F=F._locale._abbr),!F)return Ri;if(!oe(F)){if(X=Lo(F),X)return X;F=[F]}return Do(F)}function Vu(){return Wn($r)}function js(F){var X,ue=F._a;return ue&&Pt(F).overflow===-2&&(X=ue[Ti]<0||ue[Ti]>11?Ti:ue[oa]<1||ue[oa]>ea(ue[_a],ue[Ti])?oa:ue[zi]<0||ue[zi]>24||ue[zi]===24&&(ue[dl]!==0||ue[go]!==0||ue[Ol]!==0)?zi:ue[dl]<0||ue[dl]>59?dl:ue[go]<0||ue[go]>59?go:ue[Ol]<0||ue[Ol]>999?Ol:-1,Pt(F)._overflowDayOfYear&&(X<_a||X>oa)&&(X=oa),Pt(F)._overflowWeeks&&X===-1&&(X=Es),Pt(F)._overflowWeekday&&X===-1&&(X=Gs),Pt(F).overflow=X),F}var Rd=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Lv=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Dd=/Z|[+-]\d\d(?::?\d\d)?/,uo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Dl=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pv=/^\/?Date\((-?\d+)/i,Vs=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,jf={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Le(F){var X,ue,ge=F._i,Ke=Rd.exec(ge)||Lv.exec(ge),ar,zr,Qn,ta,Ma=uo.length,hs=Dl.length;if(Ke){for(Pt(F).iso=!0,X=0,ue=Ma;X<ue;X++)if(uo[X][1].exec(Ke[1])){zr=uo[X][0],ar=uo[X][2]!==!1;break}if(zr==null){F._isValid=!1;return}if(Ke[3]){for(X=0,ue=hs;X<ue;X++)if(Dl[X][1].exec(Ke[3])){Qn=(Ke[2]||" ")+Dl[X][0];break}if(Qn==null){F._isValid=!1;return}}if(!ar&&Qn!=null){F._isValid=!1;return}if(Ke[4])if(Dd.exec(Ke[4]))ta="Z";else{F._isValid=!1;return}F._f=zr+(Qn||"")+(ta||""),Ld(F)}else F._isValid=!1}function It(F,X,ue,ge,Ke,ar){var zr=[Xt(F),Ql.indexOf(X),parseInt(ue,10),parseInt(ge,10),parseInt(Ke,10)];return ar&&zr.push(parseInt(ar,10)),zr}function Xt(F){var X=parseInt(F,10);return X<=49?2e3+X:X<=999?1900+X:X}function nr(F){return F.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Lr(F,X,ue){if(F){var ge=fi.indexOf(F),Ke=new Date(X[0],X[1],X[2]).getDay();if(ge!==Ke)return Pt(ue).weekdayMismatch=!0,ue._isValid=!1,!1}return!0}function Tn(F,X,ue){if(F)return jf[F];if(X)return 0;var ge=parseInt(ue,10),Ke=ge%100,ar=(ge-Ke)/100;return ar*60+Ke}function Ci(F){var X=Vs.exec(nr(F._i)),ue;if(X){if(ue=It(X[4],X[3],X[2],X[5],X[6],X[7]),!Lr(X[1],ue,F))return;F._a=ue,F._tzm=Tn(X[8],X[9],X[10]),F._d=vl.apply(null,F._a),F._d.setUTCMinutes(F._d.getUTCMinutes()-F._tzm),Pt(F).rfc2822=!0}else F._isValid=!1}function Ea(F){var X=Pv.exec(F._i);if(X!==null){F._d=new Date(+X[1]);return}if(Le(F),F._isValid===!1)delete F._isValid;else return;if(Ci(F),F._isValid===!1)delete F._isValid;else return;F._strict?F._isValid=!1:ye.createFromInputFallback(F)}ye.createFromInputFallback=Tr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(F){F._d=new Date(F._i+(F._useUTC?" UTC":""))});function Jo(F,X,ue){return F!=null?F:X!=null?X:ue}function ls(F){var X=new Date(ye.now());return F._useUTC?[X.getUTCFullYear(),X.getUTCMonth(),X.getUTCDate()]:[X.getFullYear(),X.getMonth(),X.getDate()]}function ss(F){var X,ue,ge=[],Ke,ar,zr;if(!F._d){for(Ke=ls(F),F._w&&F._a[oa]==null&&F._a[Ti]==null&&sc(F),F._dayOfYear!=null&&(zr=Jo(F._a[_a],Ke[_a]),(F._dayOfYear>iu(zr)||F._dayOfYear===0)&&(Pt(F)._overflowDayOfYear=!0),ue=vl(zr,0,F._dayOfYear),F._a[Ti]=ue.getUTCMonth(),F._a[oa]=ue.getUTCDate()),X=0;X<3&&F._a[X]==null;++X)F._a[X]=ge[X]=Ke[X];for(;X<7;X++)F._a[X]=ge[X]=F._a[X]==null?X===2?1:0:F._a[X];F._a[zi]===24&&F._a[dl]===0&&F._a[go]===0&&F._a[Ol]===0&&(F._nextDay=!0,F._a[zi]=0),F._d=(F._useUTC?vl:_o).apply(null,ge),ar=F._useUTC?F._d.getUTCDay():F._d.getDay(),F._tzm!=null&&F._d.setUTCMinutes(F._d.getUTCMinutes()-F._tzm),F._nextDay&&(F._a[zi]=24),F._w&&typeof F._w.d!="undefined"&&F._w.d!==ar&&(Pt(F).weekdayMismatch=!0)}}function sc(F){var X,ue,ge,Ke,ar,zr,Qn,ta,Ma;X=F._w,X.GG!=null||X.W!=null||X.E!=null?(ar=1,zr=4,ue=Jo(X.GG,F._a[_a],as(Go(),1,4).year),ge=Jo(X.W,1),Ke=Jo(X.E,1),(Ke<1||Ke>7)&&(ta=!0)):(ar=F._locale._week.dow,zr=F._locale._week.doy,Ma=as(Go(),ar,zr),ue=Jo(X.gg,F._a[_a],Ma.year),ge=Jo(X.w,Ma.week),X.d!=null?(Ke=X.d,(Ke<0||Ke>6)&&(ta=!0)):X.e!=null?(Ke=X.e+ar,(X.e<0||X.e>6)&&(ta=!0)):Ke=ar),ge<1||ge>Os(ue,ar,zr)?Pt(F)._overflowWeeks=!0:ta!=null?Pt(F)._overflowWeekday=!0:(Qn=Eo(ue,ge,Ke,ar,zr),F._a[_a]=Qn.year,F._dayOfYear=Qn.dayOfYear)}ye.ISO_8601=function(){},ye.RFC_2822=function(){};function Ld(F){if(F._f===ye.ISO_8601){Le(F);return}if(F._f===ye.RFC_2822){Ci(F);return}F._a=[],Pt(F).empty=!0;var X=""+F._i,ue,ge,Ke,ar,zr,Qn=X.length,ta=0,Ma,hs;for(Ke=Bt(F._f,F._locale).match(un)||[],hs=Ke.length,ue=0;ue<hs;ue++)ar=Ke[ue],ge=(X.match(ei(ar,F))||[])[0],ge&&(zr=X.substr(0,X.indexOf(ge)),zr.length>0&&Pt(F).unusedInput.push(zr),X=X.slice(X.indexOf(ge)+ge.length),ta+=ge.length),Ce[ar]?(ge?Pt(F).empty=!1:Pt(F).unusedTokens.push(ar),is(ar,ge,F)):F._strict&&!ge&&Pt(F).unusedTokens.push(ar);Pt(F).charsLeftOver=Qn-ta,X.length>0&&Pt(F).unusedInput.push(X),F._a[zi]<=12&&Pt(F).bigHour===!0&&F._a[zi]>0&&(Pt(F).bigHour=void 0),Pt(F).parsedDateParts=F._a.slice(0),Pt(F).meridiem=F._meridiem,F._a[zi]=wy(F._locale,F._a[zi],F._meridiem),Ma=Pt(F).era,Ma!==null&&(F._a[_a]=F._locale.erasConvertYear(Ma,F._a[_a])),ss(F),js(F)}function wy(F,X,ue){var ge;return ue==null?X:F.meridiemHour!=null?F.meridiemHour(X,ue):(F.isPM!=null&&(ge=F.isPM(ue),ge&&X<12&&(X+=12),!ge&&X===12&&(X=0)),X)}function xy(F){var X,ue,ge,Ke,ar,zr,Qn=!1,ta=F._f.length;if(ta===0){Pt(F).invalidFormat=!0,F._d=new Date(NaN);return}for(Ke=0;Ke<ta;Ke++)ar=0,zr=!1,X=gt({},F),F._useUTC!=null&&(X._useUTC=F._useUTC),X._f=F._f[Ke],Ld(X),Gt(X)&&(zr=!0),ar+=Pt(X).charsLeftOver,ar+=Pt(X).unusedTokens.length*10,Pt(X).score=ar,Qn?ar<ge&&(ge=ar,ue=X):(ge==null||ar<ge||zr)&&(ge=ar,ue=X,zr&&(Qn=!0));Mt(F,ue||X)}function Sy(F){if(!F._d){var X=qn(F._i),ue=X.day===void 0?X.date:X.day;F._a=kt([X.year,X.month,ue,X.hour,X.minute,X.second,X.millisecond],function(ge){return ge&&parseInt(ge,10)}),ss(F)}}function Np(F){var X=new er(js(Pd(F)));return X._nextDay&&(X.add(1,"d"),X._nextDay=void 0),X}function Pd(F){var X=F._i,ue=F._f;return F._locale=F._locale||Rl(F._l),X===null||ue===void 0&&X===""?lr({nullInput:!0}):(typeof X=="string"&&(F._i=X=F._locale.preparse(X)),Lt(X)?new er(js(X)):(or(X)?F._d=X:oe(ue)?xy(F):ue?Ld(F):Bv(F),Gt(F)||(F._d=null),F))}function Bv(F){var X=F._i;Ft(X)?F._d=new Date(ye.now()):or(X)?F._d=new Date(X.valueOf()):typeof X=="string"?Ea(F):oe(X)?(F._a=kt(X.slice(0),function(ue){return parseInt(ue,10)}),ss(F)):cr(X)?Sy(F):Dt(X)?F._d=new Date(X):ye.createFromInputFallback(F)}function Hp(F,X,ue,ge,Ke){var ar={};return(X===!0||X===!1)&&(ge=X,X=void 0),(ue===!0||ue===!1)&&(ge=ue,ue=void 0),(cr(F)&&ie(F)||oe(F)&&F.length===0)&&(F=void 0),ar._isAMomentObject=!0,ar._useUTC=ar._isUTC=Ke,ar._l=ue,ar._i=F,ar._f=X,ar._strict=ge,Np(ar)}function Go(F,X,ue,ge){return Hp(F,X,ue,ge,!1)}var wi=Tr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var F=Go.apply(null,arguments);return this.isValid()&&F.isValid()?F<this?this:F:lr()}),zp=Tr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var F=Go.apply(null,arguments);return this.isValid()&&F.isValid()?F>this?this:F:lr()});function Ca(F,X){var ue,ge;if(X.length===1&&oe(X[0])&&(X=X[0]),!X.length)return Go();for(ue=X[0],ge=1;ge<X.length;++ge)(!X[ge].isValid()||X[ge][F](ue))&&(ue=X[ge]);return ue}function Vf(){var F=[].slice.call(arguments,0);return Ca("isBefore",F)}function su(){var F=[].slice.call(arguments,0);return Ca("isAfter",F)}var _y=function(){return Date.now?Date.now():+new Date},df=["year","quarter","month","week","day","hour","minute","second","millisecond"];function f0(F){var X,ue=!1,ge,Ke=df.length;for(X in F)if(re(F,X)&&!(wa.call(df,X)!==-1&&(F[X]==null||!isNaN(F[X]))))return!1;for(ge=0;ge<Ke;++ge)if(F[df[ge]]){if(ue)return!1;parseFloat(F[df[ge]])!==_i(F[df[ge]])&&(ue=!0)}return!0}function Xf(){return this._isValid}function h0(){return cc(NaN)}function vf(F){var X=qn(F),ue=X.year||0,ge=X.quarter||0,Ke=X.month||0,ar=X.week||X.isoWeek||0,zr=X.day||0,Qn=X.hour||0,ta=X.minute||0,Ma=X.second||0,hs=X.millisecond||0;this._isValid=f0(X),this._milliseconds=+hs+Ma*1e3+ta*6e4+Qn*1e3*60*60,this._days=+zr+ar*7,this._months=+Ke+ge*3+ue*12,this._data={},this._locale=Rl(),this._bubble()}function uc(F){return F instanceof vf}function us(F){return F<0?Math.round(-1*F)*-1:Math.round(F)}function Bd(F,X,ue){var ge=Math.min(F.length,X.length),Ke=Math.abs(F.length-X.length),ar=0,zr;for(zr=0;zr<ge;zr++)(ue&&F[zr]!==X[zr]||!ue&&_i(F[zr])!==_i(X[zr]))&&ar++;return ar+Ke}function Ou(F,X){be(F,0,0,function(){var ue=this.utcOffset(),ge="+";return ue<0&&(ue=-ue,ge="-"),ge+Rr(~~(ue/60),2)+X+Rr(~~ue%60,2)})}Ou("Z",":"),Ou("ZZ",""),wr("Z",Hr),wr("ZZ",Hr),Gr(["Z","ZZ"],function(F,X,ue){ue._useUTC=!0,ue._tzm=Wp(Hr,F)});var N1=/([\+\-]|\d\d)/gi;function Wp(F,X){var ue=(X||"").match(F),ge,Ke,ar;return ue===null?null:(ge=ue[ue.length-1]||[],Ke=(ge+"").match(N1)||["-",0,0],ar=+(Ke[1]*60)+_i(Ke[2]),ar===0?0:Ke[0]==="+"?ar:-ar)}function Bh(F,X){var ue,ge;return X._isUTC?(ue=X.clone(),ge=(Lt(F)||or(F)?F.valueOf():Go(F).valueOf())-ue.valueOf(),ue._d.setTime(ue._d.valueOf()+ge),ye.updateOffset(ue,!1),ue):Go(F).local()}function Fc(F){return-Math.round(F._d.getTimezoneOffset())}ye.updateOffset=function(){};function Gp(F,X,ue){var ge=this._offset||0,Ke;if(!this.isValid())return F!=null?this:NaN;if(F!=null){if(typeof F=="string"){if(F=Wp(Hr,F),F===null)return this}else Math.abs(F)<16&&!ue&&(F=F*60);return!this._isUTC&&X&&(Ke=Fc(this)),this._offset=F,this._isUTC=!0,Ke!=null&&this.add(Ke,"m"),ge!==F&&(!X||this._changeInProgress?wx(this,cc(F-ge,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ye.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?ge:Fc(this)}function X2(F,X){return F!=null?(typeof F!="string"&&(F=-F),this.utcOffset(F,X),this):-this.utcOffset()}function gx(F){return this.utcOffset(0,F)}function Z2(F){return this._isUTC&&(this.utcOffset(0,F),this._isUTC=!1,F&&this.subtract(Fc(this),"m")),this}function K2(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var F=Wp(hr,this._i);F!=null?this.utcOffset(F):this.utcOffset(0,!0)}return this}function mx(F){return this.isValid()?(F=F?Go(F).utcOffset():0,(this.utcOffset()-F)%60===0):!1}function kh(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function $p(){if(!Ft(this._isDSTShifted))return this._isDSTShifted;var F={},X;return gt(F,this),F=Pd(F),F._a?(X=F._isUTC?U(F._a):Go(F._a),this._isDSTShifted=this.isValid()&&Bd(F._a,X.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Up(){return this.isValid()?!this._isUTC:!1}function Ey(){return this.isValid()?this._isUTC:!1}function My(){return this.isValid()?this._isUTC&&this._offset===0:!1}var yx=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Cx=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function cc(F,X){var ue=F,ge=null,Ke,ar,zr;return uc(F)?ue={ms:F._milliseconds,d:F._days,M:F._months}:Dt(F)||!isNaN(+F)?(ue={},X?ue[X]=+F:ue.milliseconds=+F):(ge=yx.exec(F))?(Ke=ge[1]==="-"?-1:1,ue={y:0,d:_i(ge[oa])*Ke,h:_i(ge[zi])*Ke,m:_i(ge[dl])*Ke,s:_i(ge[go])*Ke,ms:_i(us(ge[Ol]*1e3))*Ke}):(ge=Cx.exec(F))?(Ke=ge[1]==="-"?-1:1,ue={y:kd(ge[2],Ke),M:kd(ge[3],Ke),w:kd(ge[4],Ke),d:kd(ge[5],Ke),h:kd(ge[6],Ke),m:kd(ge[7],Ke),s:kd(ge[8],Ke)}):ue==null?ue={}:typeof ue=="object"&&("from"in ue||"to"in ue)&&(zr=bx(Go(ue.from),Go(ue.to)),ue={},ue.ms=zr.milliseconds,ue.M=zr.months),ar=new vf(ue),uc(F)&&re(F,"_locale")&&(ar._locale=F._locale),uc(F)&&re(F,"_isValid")&&(ar._isValid=F._isValid),ar}cc.fn=vf.prototype,cc.invalid=h0;function kd(F,X){var ue=F&&parseFloat(F.replace(",","."));return(isNaN(ue)?0:ue)*X}function Xu(F,X){var ue={};return ue.months=X.month()-F.month()+(X.year()-F.year())*12,F.clone().add(ue.months,"M").isAfter(X)&&--ue.months,ue.milliseconds=+X-+F.clone().add(ue.months,"M"),ue}function bx(F,X){var ue;return F.isValid()&&X.isValid()?(X=Bh(X,F),F.isBefore(X)?ue=Xu(F,X):(ue=Xu(X,F),ue.milliseconds=-ue.milliseconds,ue.months=-ue.months),ue):{milliseconds:0,months:0}}function pf(F,X){return function(ue,ge){var Ke,ar;return ge!==null&&!isNaN(+ge)&&(Yr(X,"moment()."+X+"(period, number) is deprecated. Please use moment()."+X+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ar=ue,ue=ge,ge=ar),Ke=cc(ue,ge),wx(this,Ke,F),this}}function wx(F,X,ue,ge){var Ke=X._milliseconds,ar=us(X._days),zr=us(X._months);F.isValid()&&(ge=ge==null?!0:ge,zr&&_r(F,au(F,"Month")+zr*ue),ar&&Ms(F,"Date",au(F,"Date")+ar*ue),Ke&&F._d.setTime(F._d.valueOf()+Ke*ue),ge&&ye.updateOffset(F,ar||zr))}var Yp=pf(1,"add"),Bn=pf(-1,"subtract");function kv(F){return typeof F=="string"||F instanceof String}function Ty(F){return Lt(F)||or(F)||kv(F)||Dt(F)||d0(F)||Fh(F)||F===null||F===void 0}function Fh(F){var X=cr(F)&&!ie(F),ue=!1,ge=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Ke,ar,zr=ge.length;for(Ke=0;Ke<zr;Ke+=1)ar=ge[Ke],ue=ue||re(F,ar);return X&&ue}function d0(F){var X=oe(F),ue=!1;return X&&(ue=F.filter(function(ge){return!Dt(ge)&&kv(F)}).length===0),X&&ue}function fc(F){var X=cr(F)&&!ie(F),ue=!1,ge=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Ke,ar;for(Ke=0;Ke<ge.length;Ke+=1)ar=ge[Ke],ue=ue||re(F,ar);return X&&ue}function H1(F,X){var ue=F.diff(X,"days",!0);return ue<-6?"sameElse":ue<-1?"lastWeek":ue<0?"lastDay":ue<1?"sameDay":ue<2?"nextDay":ue<7?"nextWeek":"sameElse"}function jp(F,X){arguments.length===1&&(arguments[0]?Ty(arguments[0])?(F=arguments[0],X=void 0):fc(arguments[0])&&(X=arguments[0],F=void 0):(F=void 0,X=void 0));var ue=F||Go(),ge=Bh(ue,this).startOf("day"),Ke=ye.calendarFormat(this,ge)||"sameElse",ar=X&&(mn(X[Ke])?X[Ke].call(this,ue):X[Ke]);return this.format(ar||this.localeData().calendar(Ke,this,Go(ue)))}function Nh(){return new er(this)}function z1(F,X){var ue=Lt(F)?F:Go(F);return this.isValid()&&ue.isValid()?(X=fn(X)||"millisecond",X==="millisecond"?this.valueOf()>ue.valueOf():ue.valueOf()<this.clone().startOf(X).valueOf()):!1}function Fd(F,X){var ue=Lt(F)?F:Go(F);return this.isValid()&&ue.isValid()?(X=fn(X)||"millisecond",X==="millisecond"?this.valueOf()<ue.valueOf():this.clone().endOf(X).valueOf()<ue.valueOf()):!1}function W1(F,X,ue,ge){var Ke=Lt(F)?F:Go(F),ar=Lt(X)?X:Go(X);return this.isValid()&&Ke.isValid()&&ar.isValid()?(ge=ge||"()",(ge[0]==="("?this.isAfter(Ke,ue):!this.isBefore(Ke,ue))&&(ge[1]===")"?this.isBefore(ar,ue):!this.isAfter(ar,ue))):!1}function G1(F,X){var ue=Lt(F)?F:Go(F),ge;return this.isValid()&&ue.isValid()?(X=fn(X)||"millisecond",X==="millisecond"?this.valueOf()===ue.valueOf():(ge=ue.valueOf(),this.clone().startOf(X).valueOf()<=ge&&ge<=this.clone().endOf(X).valueOf())):!1}function $1(F,X){return this.isSame(F,X)||this.isAfter(F,X)}function v0(F,X){return this.isSame(F,X)||this.isBefore(F,X)}function Vp(F,X,ue){var ge,Ke,ar;if(!this.isValid())return NaN;if(ge=Bh(F,this),!ge.isValid())return NaN;switch(Ke=(ge.utcOffset()-this.utcOffset())*6e4,X=fn(X),X){case"year":ar=Xp(this,ge)/12;break;case"month":ar=Xp(this,ge);break;case"quarter":ar=Xp(this,ge)/3;break;case"second":ar=(this-ge)/1e3;break;case"minute":ar=(this-ge)/6e4;break;case"hour":ar=(this-ge)/36e5;break;case"day":ar=(this-ge-Ke)/864e5;break;case"week":ar=(this-ge-Ke)/6048e5;break;default:ar=this-ge}return ue?ar:fa(ar)}function Xp(F,X){if(F.date()<X.date())return-Xp(X,F);var ue=(X.year()-F.year())*12+(X.month()-F.month()),ge=F.clone().add(ue,"months"),Ke,ar;return X-ge<0?(Ke=F.clone().add(ue-1,"months"),ar=(X-ge)/(ge-Ke)):(Ke=F.clone().add(ue+1,"months"),ar=(X-ge)/(Ke-ge)),-(ue+ar)||0}ye.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",ye.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Fv(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Nv(F){if(!this.isValid())return null;var X=F!==!0,ue=X?this.clone().utc():this;return ue.year()<0||ue.year()>9999?ze(ue,X?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):mn(Date.prototype.toISOString)?X?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ze(ue,"Z")):ze(ue,X?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Nd(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var F="moment",X="",ue,ge,Ke,ar;return this.isLocal()||(F=this.utcOffset()===0?"moment.utc":"moment.parseZone",X="Z"),ue="["+F+'("]',ge=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Ke="-MM-DD[T]HH:mm:ss.SSS",ar=X+'[")]',this.format(ue+ge+Ke+ar)}function Zp(F){F||(F=this.isUtc()?ye.defaultFormatUtc:ye.defaultFormat);var X=ze(this,F);return this.localeData().postformat(X)}function p0(F,X){return this.isValid()&&(Lt(F)&&F.isValid()||Go(F).isValid())?cc({to:this,from:F}).locale(this.locale()).humanize(!X):this.localeData().invalidDate()}function U1(F){return this.from(Go(),F)}function Oy(F,X){return this.isValid()&&(Lt(F)&&F.isValid()||Go(F).isValid())?cc({from:this,to:F}).locale(this.locale()).humanize(!X):this.localeData().invalidDate()}function g0(F){return this.to(Go(),F)}function m0(F){var X;return F===void 0?this._locale._abbr:(X=Rl(F),X!=null&&(this._locale=X),this)}var y0=Tr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(F){return F===void 0?this.localeData():this.locale(F)});function C0(){return this._locale}var Hv=1e3,Pa=60*Hv,Hd=60*Pa,Ll=(365*400+97)*24*Hd;function Hh(F,X){return(F%X+X)%X}function zh(F,X,ue){return F<100&&F>=0?new Date(F+400,X,ue)-Ll:new Date(F,X,ue).valueOf()}function Vi(F,X,ue){return F<100&&F>=0?Date.UTC(F+400,X,ue)-Ll:Date.UTC(F,X,ue)}function Ay(F){var X,ue;if(F=fn(F),F===void 0||F==="millisecond"||!this.isValid())return this;switch(ue=this._isUTC?Vi:zh,F){case"year":X=ue(this.year(),0,1);break;case"quarter":X=ue(this.year(),this.month()-this.month()%3,1);break;case"month":X=ue(this.year(),this.month(),1);break;case"week":X=ue(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":X=ue(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":X=ue(this.year(),this.month(),this.date());break;case"hour":X=this._d.valueOf(),X-=Hh(X+(this._isUTC?0:this.utcOffset()*Pa),Hd);break;case"minute":X=this._d.valueOf(),X-=Hh(X,Pa);break;case"second":X=this._d.valueOf(),X-=Hh(X,Hv);break}return this._d.setTime(X),ye.updateOffset(this,!0),this}function zv(F){var X,ue;if(F=fn(F),F===void 0||F==="millisecond"||!this.isValid())return this;switch(ue=this._isUTC?Vi:zh,F){case"year":X=ue(this.year()+1,0,1)-1;break;case"quarter":X=ue(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":X=ue(this.year(),this.month()+1,1)-1;break;case"week":X=ue(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":X=ue(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":X=ue(this.year(),this.month(),this.date()+1)-1;break;case"hour":X=this._d.valueOf(),X+=Hd-Hh(X+(this._isUTC?0:this.utcOffset()*Pa),Hd)-1;break;case"minute":X=this._d.valueOf(),X+=Pa-Hh(X,Pa)-1;break;case"second":X=this._d.valueOf(),X+=Hv-Hh(X,Hv)-1;break}return this._d.setTime(X),ye.updateOffset(this,!0),this}function el(){return this._d.valueOf()-(this._offset||0)*6e4}function b0(){return Math.floor(this.valueOf()/1e3)}function Wh(){return new Date(this.valueOf())}function Gh(){var F=this;return[F.year(),F.month(),F.date(),F.hour(),F.minute(),F.second(),F.millisecond()]}function Nl(){var F=this;return{years:F.year(),months:F.month(),date:F.date(),hours:F.hours(),minutes:F.minutes(),seconds:F.seconds(),milliseconds:F.milliseconds()}}function Kp(){return this.isValid()?this.toISOString():null}function $h(){return Gt(this)}function cs(){return Mt({},Pt(this))}function hc(){return Pt(this).overflow}function Iy(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}be("N",0,0,"eraAbbr"),be("NN",0,0,"eraAbbr"),be("NNN",0,0,"eraAbbr"),be("NNNN",0,0,"eraName"),be("NNNNN",0,0,"eraNarrow"),be("y",["y",1],"yo","eraYear"),be("y",["yy",2],0,"eraYear"),be("y",["yyy",3],0,"eraYear"),be("y",["yyyy",4],0,"eraYear"),wr("N",Xs),wr("NN",Xs),wr("NNN",Xs),wr("NNNN",Uh),wr("NNNNN",Nc),Gr(["N","NN","NNN","NNNN","NNNNN"],function(F,X,ue,ge){var Ke=ue._locale.erasParse(F,ge,ue._strict);Ke?Pt(ue).era=Ke:Pt(ue).invalidEra=F}),wr("y",Yt),wr("yy",Yt),wr("yyy",Yt),wr("yyyy",Yt),wr("yo",xx),Gr(["y","yy","yyy","yyyy"],_a),Gr(["yo"],function(F,X,ue,ge){var Ke;ue._locale._eraYearOrdinalRegex&&(Ke=F.match(ue._locale._eraYearOrdinalRegex)),ue._locale.eraYearOrdinalParse?X[_a]=ue._locale.eraYearOrdinalParse(F,Ke):X[_a]=parseInt(F,10)});function zd(F,X){var ue,ge,Ke,ar=this._eras||Rl("en")._eras;for(ue=0,ge=ar.length;ue<ge;++ue){switch(typeof ar[ue].since){case"string":Ke=ye(ar[ue].since).startOf("day"),ar[ue].since=Ke.valueOf();break}switch(typeof ar[ue].until){case"undefined":ar[ue].until=1/0;break;case"string":Ke=ye(ar[ue].until).startOf("day").valueOf(),ar[ue].until=Ke.valueOf();break}}return ar}function qp(F,X,ue){var ge,Ke,ar=this.eras(),zr,Qn,ta;for(F=F.toUpperCase(),ge=0,Ke=ar.length;ge<Ke;++ge)if(zr=ar[ge].name.toUpperCase(),Qn=ar[ge].abbr.toUpperCase(),ta=ar[ge].narrow.toUpperCase(),ue)switch(X){case"N":case"NN":case"NNN":if(Qn===F)return ar[ge];break;case"NNNN":if(zr===F)return ar[ge];break;case"NNNNN":if(ta===F)return ar[ge];break}else if([zr,Qn,ta].indexOf(F)>=0)return ar[ge]}function Qp(F,X){var ue=F.since<=F.until?1:-1;return X===void 0?ye(F.since).year():ye(F.since).year()+(X-F.offset)*ue}function Wd(){var F,X,ue,ge=this.localeData().eras();for(F=0,X=ge.length;F<X;++F)if(ue=this.clone().startOf("day").valueOf(),ge[F].since<=ue&&ue<=ge[F].until||ge[F].until<=ue&&ue<=ge[F].since)return ge[F].name;return""}function Zu(){var F,X,ue,ge=this.localeData().eras();for(F=0,X=ge.length;F<X;++F)if(ue=this.clone().startOf("day").valueOf(),ge[F].since<=ue&&ue<=ge[F].until||ge[F].until<=ue&&ue<=ge[F].since)return ge[F].narrow;return""}function Jp(){var F,X,ue,ge=this.localeData().eras();for(F=0,X=ge.length;F<X;++F)if(ue=this.clone().startOf("day").valueOf(),ge[F].since<=ue&&ue<=ge[F].until||ge[F].until<=ue&&ue<=ge[F].since)return ge[F].abbr;return""}function Hl(){var F,X,ue,ge,Ke=this.localeData().eras();for(F=0,X=Ke.length;F<X;++F)if(ue=Ke[F].since<=Ke[F].until?1:-1,ge=this.clone().startOf("day").valueOf(),Ke[F].since<=ge&&ge<=Ke[F].until||Ke[F].until<=ge&&ge<=Ke[F].since)return(this.year()-ye(Ke[F].since).year())*ue+Ke[F].offset;return this.year()}function Zf(F){return re(this,"_erasNameRegex")||Gd.call(this),F?this._erasNameRegex:this._erasRegex}function w0(F){return re(this,"_erasAbbrRegex")||Gd.call(this),F?this._erasAbbrRegex:this._erasRegex}function co(F){return re(this,"_erasNarrowRegex")||Gd.call(this),F?this._erasNarrowRegex:this._erasRegex}function Xs(F,X){return X.erasAbbrRegex(F)}function Uh(F,X){return X.erasNameRegex(F)}function Nc(F,X){return X.erasNarrowRegex(F)}function xx(F,X){return X._eraYearOrdinalRegex||Yt}function Gd(){var F=[],X=[],ue=[],ge=[],Ke,ar,zr,Qn,ta,Ma=this.eras();for(Ke=0,ar=Ma.length;Ke<ar;++Ke)zr=yi(Ma[Ke].name),Qn=yi(Ma[Ke].abbr),ta=yi(Ma[Ke].narrow),X.push(zr),F.push(Qn),ue.push(ta),ge.push(zr),ge.push(Qn),ge.push(ta);this._erasRegex=new RegExp("^("+ge.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+X.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+F.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+ue.join("|")+")","i")}be(0,["gg",2],0,function(){return this.weekYear()%100}),be(0,["GG",2],0,function(){return this.isoWeekYear()%100});function eg(F,X){be(0,[F,F.length],0,X)}eg("gggg","weekYear"),eg("ggggg","weekYear"),eg("GGGG","isoWeekYear"),eg("GGGGG","isoWeekYear"),wr("G",rr),wr("g",rr),wr("GG",Ee,de),wr("gg",Ee,de),wr("GGGG",ht,ce),wr("gggg",ht,ce),wr("GGGGG",Ht,xe),wr("ggggg",Ht,xe),oi(["gggg","ggggg","GGGG","GGGGG"],function(F,X,ue,ge){X[ge.substr(0,2)]=_i(F)}),oi(["gg","GG"],function(F,X,ue,ge){X[ge]=ye.parseTwoDigitYear(F)});function Ry(F){return Ud.call(this,F,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function x0(F){return Ud.call(this,F,this.isoWeek(),this.isoWeekday(),1,4)}function Dy(){return Os(this.year(),1,4)}function fs(){return Os(this.isoWeekYear(),1,4)}function $d(){var F=this.localeData()._week;return Os(this.year(),F.dow,F.doy)}function Y1(){var F=this.localeData()._week;return Os(this.weekYear(),F.dow,F.doy)}function Ud(F,X,ue,ge,Ke){var ar;return F==null?as(this,ge,Ke).year:(ar=Os(F,ge,Ke),X>ar&&(X=ar),Ly.call(this,F,X,ue,ge,Ke))}function Ly(F,X,ue,ge,Ke){var ar=Eo(F,X,ue,ge,Ke),zr=vl(ar.year,0,ar.dayOfYear);return this.year(zr.getUTCFullYear()),this.month(zr.getUTCMonth()),this.date(zr.getUTCDate()),this}be("Q",0,"Qo","quarter"),wr("Q",rt),Gr("Q",function(F,X){X[Ti]=(_i(F)-1)*3});function gf(F){return F==null?Math.ceil((this.month()+1)/3):this.month((F-1)*3+this.month()%3)}be("D",["DD",2],"Do","date"),wr("D",Ee,Qr),wr("DD",Ee,de),wr("Do",function(F,X){return F?X._dayOfMonthOrdinalParse||X._ordinalParse:X._dayOfMonthOrdinalParseLenient}),Gr(["D","DD"],oa),Gr("Do",function(F,X){X[oa]=_i(F.match(Ee)[0])});var tg=ju("Date",!0);be("DDD",["DDDD",3],"DDDo","dayOfYear"),wr("DDD",ct),wr("DDDD",ve),Gr(["DDD","DDDD"],function(F,X,ue){ue._dayOfYear=_i(F)});function Yh(F){var X=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return F==null?X:this.add(F-X,"d")}be("m",["mm",2],0,"minute"),wr("m",Ee,dn),wr("mm",Ee,de),Gr(["m","mm"],dl);var Py=ju("Minutes",!1);be("s",["ss",2],0,"second"),wr("s",Ee,dn),wr("ss",Ee,de),Gr(["s","ss"],go);var Jl=ju("Seconds",!1);be("S",0,0,function(){return~~(this.millisecond()/100)}),be(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),be(0,["SSS",3],0,"millisecond"),be(0,["SSSS",4],0,function(){return this.millisecond()*10}),be(0,["SSSSS",5],0,function(){return this.millisecond()*100}),be(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),be(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),be(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),be(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),wr("S",ct,rt),wr("SS",ct,de),wr("SSS",ct,ve);var Au,Hc;for(Au="SSSS";Au.length<=9;Au+="S")wr(Au,Yt);function mf(F,X){X[Ol]=_i(("0."+F)*1e3)}for(Au="S";Au.length<=9;Au+="S")Gr(Au,mf);Hc=ju("Milliseconds",!1),be("z",0,0,"zoneAbbr"),be("zz",0,0,"zoneName");function Co(){return this._isUTC?"UTC":""}function Wv(){return this._isUTC?"Coordinated Universal Time":""}var On=er.prototype;On.add=Yp,On.calendar=jp,On.clone=Nh,On.diff=Vp,On.endOf=zv,On.format=Zp,On.from=p0,On.fromNow=U1,On.to=Oy,On.toNow=g0,On.get=Ts,On.invalidAt=hc,On.isAfter=z1,On.isBefore=Fd,On.isBetween=W1,On.isSame=G1,On.isSameOrAfter=$1,On.isSameOrBefore=v0,On.isValid=$h,On.lang=y0,On.locale=m0,On.localeData=C0,On.max=zp,On.min=wi,On.parsingFlags=cs,On.set=Ph,On.startOf=Ay,On.subtract=Bn,On.toArray=Gh,On.toObject=Nl,On.toDate=Wh,On.toISOString=Nv,On.inspect=Nd,typeof Symbol!="undefined"&&Symbol.for!=null&&(On[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),On.toJSON=Kp,On.toString=Fv,On.unix=b0,On.valueOf=el,On.creationData=Iy,On.eraName=Wd,On.eraNarrow=Zu,On.eraAbbr=Jp,On.eraYear=Hl,On.year=ql,On.isLeapYear=$f,On.weekYear=Ry,On.isoWeekYear=x0,On.quarter=On.quarters=gf,On.month=rn,On.daysInMonth=xn,On.week=On.weeks=Ie,On.isoWeek=On.isoWeeks=qe,On.weeksInYear=$d,On.weeksInWeekYear=Y1,On.isoWeeksInYear=Dy,On.isoWeeksInISOWeekYear=fs,On.date=tg,On.day=On.days=Bi,On.weekday=Ui,On.isoWeekday=ma,On.dayOfYear=Yh,On.hour=On.hours=lu,On.minute=On.minutes=Py,On.second=On.seconds=Jl,On.millisecond=On.milliseconds=Hc,On.utcOffset=Gp,On.utc=gx,On.local=Z2,On.parseZone=K2,On.hasAlignedHourOffset=mx,On.isDST=kh,On.isLocal=Up,On.isUtcOffset=Ey,On.isUtc=My,On.isUTC=My,On.zoneAbbr=Co,On.zoneName=Wv,On.dates=Tr("dates accessor is deprecated. Use date instead.",tg),On.months=Tr("months accessor is deprecated. Use month instead",rn),On.years=Tr("years accessor is deprecated. Use year instead",ql),On.zone=Tr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",X2),On.isDSTShifted=Tr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",$p);function rg(F){return Go(F*1e3)}function By(){return Go.apply(null,arguments).parseZone()}function Gv(F){return F}var Ta=Rn.prototype;Ta.calendar=Et,Ta.longDateFormat=wt,Ta.invalidDate=st,Ta.ordinal=bt,Ta.preparse=Gv,Ta.postformat=Gv,Ta.relativeTime=dr,Ta.pastFuture=Pr,Ta.set=Mn,Ta.eras=zd,Ta.erasParse=qp,Ta.erasConvertYear=Qp,Ta.erasAbbrRegex=w0,Ta.erasNameRegex=Zf,Ta.erasNarrowRegex=co,Ta.months=St,Ta.monthsShort=Pe,Ta.monthsParse=qt,Ta.monthsRegex=Ii,Ta.monthsShortRegex=vn,Ta.week=Yf,Ta.firstDayOfYear=pe,Ta.firstDayOfWeek=Id,Ta.weekdays=Vr,Ta.weekdaysMin=di,Ta.weekdaysShort=Gn,Ta.weekdaysParse=jn,Ta.weekdaysRegex=Mo,Ta.weekdaysShortRegex=il,Ta.weekdaysMinRegex=mo,Ta.isPM=Tu,Ta.meridiem=ha;function yf(F,X,ue,ge){var Ke=Rl(),ar=U().set(ge,X);return Ke[ue](ar,F)}function dc(F,X,ue){if(Dt(F)&&(X=F,F=void 0),F=F||"",X!=null)return yf(F,X,ue,"month");var ge,Ke=[];for(ge=0;ge<12;ge++)Ke[ge]=yf(F,ge,ue,"month");return Ke}function Yd(F,X,ue,ge){typeof F=="boolean"?(Dt(X)&&(ue=X,X=void 0),X=X||""):(X=F,ue=X,F=!1,Dt(X)&&(ue=X,X=void 0),X=X||"");var Ke=Rl(),ar=F?Ke._week.dow:0,zr,Qn=[];if(ue!=null)return yf(X,(ue+ar)%7,ge,"day");for(zr=0;zr<7;zr++)Qn[zr]=yf(X,(zr+ar)%7,ge,"day");return Qn}function ji(F,X){return dc(F,X,"months")}function ng(F,X){return dc(F,X,"monthsShort")}function $v(F,X,ue){return Yd(F,X,ue,"weekdays")}function Uv(F,X,ue){return Yd(F,X,ue,"weekdaysShort")}function S0(F,X,ue){return Yd(F,X,ue,"weekdaysMin")}yo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(F){var X=F%10,ue=_i(F%100/10)===1?"th":X===1?"st":X===2?"nd":X===3?"rd":"th";return F+ue}}),ye.lang=Tr("moment.lang is deprecated. Use moment.locale instead.",yo),ye.langData=Tr("moment.langData is deprecated. Use moment.localeData instead.",Rl);var Zs=Math.abs;function Yv(){var F=this._data;return this._milliseconds=Zs(this._milliseconds),this._days=Zs(this._days),this._months=Zs(this._months),F.milliseconds=Zs(F.milliseconds),F.seconds=Zs(F.seconds),F.minutes=Zs(F.minutes),F.hours=Zs(F.hours),F.months=Zs(F.months),F.years=Zs(F.years),this}function jd(F,X,ue,ge){var Ke=cc(X,ue);return F._milliseconds+=ge*Ke._milliseconds,F._days+=ge*Ke._days,F._months+=ge*Ke._months,F._bubble()}function ig(F,X){return jd(this,F,X,1)}function j1(F,X){return jd(this,F,X,-1)}function _0(F){return F<0?Math.floor(F):Math.ceil(F)}function Sx(){var F=this._milliseconds,X=this._days,ue=this._months,ge=this._data,Ke,ar,zr,Qn,ta;return F>=0&&X>=0&&ue>=0||F<=0&&X<=0&&ue<=0||(F+=_0(og(ue)+X)*864e5,X=0,ue=0),ge.milliseconds=F%1e3,Ke=fa(F/1e3),ge.seconds=Ke%60,ar=fa(Ke/60),ge.minutes=ar%60,zr=fa(ar/60),ge.hours=zr%24,X+=fa(zr/24),ta=fa(ag(X)),ue+=ta,X-=_0(og(ta)),Qn=fa(ue/12),ue%=12,ge.days=X,ge.months=ue,ge.years=Qn,this}function ag(F){return F*4800/146097}function og(F){return F*146097/4800}function ky(F){if(!this.isValid())return NaN;var X,ue,ge=this._milliseconds;if(F=fn(F),F==="month"||F==="quarter"||F==="year")switch(X=this._days+ge/864e5,ue=this._months+ag(X),F){case"month":return ue;case"quarter":return ue/3;case"year":return ue/12}else switch(X=this._days+Math.round(og(this._months)),F){case"week":return X/7+ge/6048e5;case"day":return X+ge/864e5;case"hour":return X*24+ge/36e5;case"minute":return X*1440+ge/6e4;case"second":return X*86400+ge/1e3;case"millisecond":return Math.floor(X*864e5)+ge;default:throw new Error("Unknown unit "+F)}}function Iu(F){return function(){return this.as(F)}}var E0=Iu("ms"),Cf=Iu("s"),Fy=Iu("m"),Ks=Iu("h"),Ny=Iu("d"),Kf=Iu("w"),lg=Iu("M"),V1=Iu("Q"),Hy=Iu("y"),zy=E0;function _x(){return cc(this)}function Wy(F){return F=fn(F),this.isValid()?this[F+"s"]():NaN}function Ku(F){return function(){return this.isValid()?this._data[F]:NaN}}var Gy=Ku("milliseconds"),jh=Ku("seconds"),M0=Ku("minutes"),$y=Ku("hours"),X1=Ku("days"),sg=Ku("months"),T0=Ku("years");function Uy(){return fa(this.days()/7)}var Ru=Math.round,vc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function bf(F,X,ue,ge,Ke){return Ke.relativeTime(X||1,!!ue,F,ge)}function jv(F,X,ue,ge){var Ke=cc(F).abs(),ar=Ru(Ke.as("s")),zr=Ru(Ke.as("m")),Qn=Ru(Ke.as("h")),ta=Ru(Ke.as("d")),Ma=Ru(Ke.as("M")),hs=Ru(Ke.as("w")),zc=Ru(Ke.as("y")),Qf=ar<=ue.ss&&["s",ar]||ar<ue.s&&["ss",ar]||zr<=1&&["m"]||zr<ue.m&&["mm",zr]||Qn<=1&&["h"]||Qn<ue.h&&["hh",Qn]||ta<=1&&["d"]||ta<ue.d&&["dd",ta];return ue.w!=null&&(Qf=Qf||hs<=1&&["w"]||hs<ue.w&&["ww",hs]),Qf=Qf||Ma<=1&&["M"]||Ma<ue.M&&["MM",Ma]||zc<=1&&["y"]||["yy",zc],Qf[2]=X,Qf[3]=+F>0,Qf[4]=ge,bf.apply(null,Qf)}function O0(F){return F===void 0?Ru:typeof F=="function"?(Ru=F,!0):!1}function A0(F,X){return vc[F]===void 0?!1:X===void 0?vc[F]:(vc[F]=X,F==="s"&&(vc.ss=X-1),!0)}function Yy(F,X){if(!this.isValid())return this.localeData().invalidDate();var ue=!1,ge=vc,Ke,ar;return typeof F=="object"&&(X=F,F=!1),typeof F=="boolean"&&(ue=F),typeof X=="object"&&(ge=Object.assign({},vc,X),X.s!=null&&X.ss==null&&(ge.ss=X.s-1)),Ke=this.localeData(),ar=jv(this,!ue,ge,Ke),ue&&(ar=Ke.pastFuture(+this,ar)),Ke.postformat(ar)}var Vd=Math.abs;function uu(F){return(F>0)-(F<0)||+F}function qf(){if(!this.isValid())return this.localeData().invalidDate();var F=Vd(this._milliseconds)/1e3,X=Vd(this._days),ue=Vd(this._months),ge,Ke,ar,zr,Qn=this.asSeconds(),ta,Ma,hs,zc;return Qn?(ge=fa(F/60),Ke=fa(ge/60),F%=60,ge%=60,ar=fa(ue/12),ue%=12,zr=F?F.toFixed(3).replace(/\.?0+$/,""):"",ta=Qn<0?"-":"",Ma=uu(this._months)!==uu(Qn)?"-":"",hs=uu(this._days)!==uu(Qn)?"-":"",zc=uu(this._milliseconds)!==uu(Qn)?"-":"",ta+"P"+(ar?Ma+ar+"Y":"")+(ue?Ma+ue+"M":"")+(X?hs+X+"D":"")+(Ke||ge||F?"T":"")+(Ke?zc+Ke+"H":"")+(ge?zc+ge+"M":"")+(F?zc+zr+"S":"")):"P0D"}var Oa=vf.prototype;Oa.isValid=Xf,Oa.abs=Yv,Oa.add=ig,Oa.subtract=j1,Oa.as=ky,Oa.asMilliseconds=E0,Oa.asSeconds=Cf,Oa.asMinutes=Fy,Oa.asHours=Ks,Oa.asDays=Ny,Oa.asWeeks=Kf,Oa.asMonths=lg,Oa.asQuarters=V1,Oa.asYears=Hy,Oa.valueOf=zy,Oa._bubble=Sx,Oa.clone=_x,Oa.get=Wy,Oa.milliseconds=Gy,Oa.seconds=jh,Oa.minutes=M0,Oa.hours=$y,Oa.days=X1,Oa.weeks=Uy,Oa.months=sg,Oa.years=T0,Oa.humanize=Yy,Oa.toISOString=qf,Oa.toString=qf,Oa.toJSON=qf,Oa.locale=m0,Oa.localeData=C0,Oa.toIsoString=Tr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qf),Oa.lang=y0,be("X",0,0,"unix"),be("x",0,0,"valueOf"),wr("x",rr),wr("X",Zt),Gr("X",function(F,X,ue){ue._d=new Date(parseFloat(F)*1e3)}),Gr("x",function(F,X,ue){ue._d=new Date(_i(F))});return ye.version="2.30.1",ut(Go),ye.fn=On,ye.min=Vf,ye.max=su,ye.now=_y,ye.utc=U,ye.unix=rg,ye.months=ji,ye.isDate=or,ye.locale=yo,ye.invalid=lr,ye.duration=cc,ye.isMoment=Lt,ye.weekdays=$v,ye.parseZone=By,ye.localeData=Rl,ye.isDuration=uc,ye.monthsShort=ng,ye.weekdaysMin=S0,ye.defineLocale=ol,ye.updateLocale=Il,ye.locales=Vu,ye.weekdaysShort=Uv,ye.normalizeUnits=fn,ye.relativeTimeRounding=O0,ye.relativeTimeThreshold=A0,ye.calendarFormat=H1,ye.prototype=On,ye.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},ye})},16532:function(ai){(function(Sn,tt){ai.exports=tt()})(this,()=>(()=>{"use strict";var Sn={644:(ut,oe,cr)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.objectifyLcs=oe.objectifyArray=oe.stringifyArray=void 0;var re=cr(950),ie=cr(924);function Ft(kt,Mt){var U=Mt.toString(),D=kt.forward[U];return D||(D=String.fromCharCode(kt.pointer),kt.forward[U]=D,kt.backward[D]=U,kt.pointer++),D}function Dt(kt){return function(Mt){return kt.indexOf(Mt.state)>=0}}function or(kt,Mt,U){switch(!0){case kt.state===ie.SES_DELETE:case kt.state===ie.SES_ADD:kt.left=kt.right=Mt;break;case(kt.state===ie.SES_COMMON&&U===-1):kt.left=Mt;break;case(kt.state===ie.SES_COMMON&&U===1):kt.right=Mt}}oe.stringifyArray=function(kt,Mt){var U={forward:{},backward:{},pointer:1};return[kt.map(function(D){return Ft(U,D)}).join(""),Mt.map(function(D){return Ft(U,D)}).join(""),U]},oe.objectifyArray=function(kt,Mt,U,D){var Pt=U.map(function(lt){return(0,re.createResultItem)(D.backward[lt.left],D.backward[lt.right],lt.state)});return Pt.filter(Dt([ie.SES_COMMON,ie.SES_DELETE])).forEach(function(lt,Gt){return or(lt,kt[Gt],-1)}),Pt.filter(Dt([ie.SES_COMMON,ie.SES_ADD])).forEach(function(lt,Gt){return or(lt,Mt[Gt],1)}),Pt},oe.objectifyLcs=function(kt,Mt){return Mt.filter(function(U){return U.state===ie.SES_COMMON}).map(function(U){return U.right})}},924:(ut,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.position=oe.SES_ADD=oe.SES_COMMON=oe.SES_DELETE=void 0,oe.SES_DELETE=-1,oe.SES_COMMON=0,oe.SES_ADD=1,oe.position=function(cr,re,ie){return{x:cr,y:re,k:ie}}},73:(ut,oe,cr)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.onp=void 0;var re=cr(924),ie=cr(950);function Ft(or,kt){return or.length>=kt.length?{a:kt,b:or,m:kt.length,n:or.length,reverse:!0,offset:kt.length+1}:{a:or,b:kt,m:or.length,n:kt.length,reverse:!1,offset:or.length+1}}function Dt(or,kt,Mt,U,D,Pt,lt){for(var Gt=Ft(or,kt),lr=Gt.a,tr=Gt.b,xt=Gt.n,gt=Gt.m,er=Gt.offset,Lt=Pt>lt?Mt[D-1+er]:Mt[D+1+er],Nt=Math.max(Pt,lt),Tr=Nt-D;Tr<gt&&Nt<xt&&lr[Tr]===tr[Nt];)++Tr,++Nt;return Mt[D+er]=U.length,U[U.length]=(0,re.position)(Tr,Nt,Lt),Nt}oe.onp=function(or,kt){var Mt=function(lt,Gt){for(var lr=Ft(lt,Gt),tr=lr.n,xt=lr.m,gt=lr.offset,er=[],Lt=[],Nt=tr-xt,Tr=xt+tr+3,vr={},Yr=0;Yr<Tr;Yr++)vr[Yr]=re.SES_DELETE,er[Yr]=re.SES_DELETE;var mn=re.SES_DELETE;do{for(var Mn=-++mn;Mn<=Nt-1;Mn++)vr[Mn+gt]=Dt(lt,Gt,er,Lt,Mn,vr[Mn-1+gt]+1,vr[Mn+1+gt]);for(Mn=Nt+mn;Mn>=Nt+1;Mn--)vr[Mn+gt]=Dt(lt,Gt,er,Lt,Mn,vr[Mn-1+gt]+1,vr[Mn+1+gt]);vr[Nt+gt]=Dt(lt,Gt,er,Lt,Nt,vr[Nt-1+gt]+1,vr[Nt+1+gt])}while(vr[Nt+gt]!==tr);for(var Fr=Nt+2*mn,Rn=[],Wn=er[Nt+gt];Wn!==re.SES_DELETE;)Rn[Rn.length]=(0,re.position)(Lt[Wn].x,Lt[Wn].y,null),Wn=Lt[Wn].k;return[Rn,Fr]}(or,kt),U=Mt[0],D=Mt[1],Pt=function(lt,Gt,lr){for(var tr=Ft(lt,Gt),xt=tr.a,gt=tr.b,er=tr.reverse,Lt=[],Nt=0,Tr=0,vr="",Yr=lr.length-1;Yr>=0;Yr--)for(;Tr<lr[Yr].x||Nt<lr[Yr].y;)lr[Yr].y-lr[Yr].x>Nt-Tr?(Lt[Lt.length]=er?(0,ie.createResultItem)(gt[Nt],gt[Nt],re.SES_DELETE):(0,ie.createResultItem)(gt[Nt],gt[Nt],re.SES_ADD),++Nt):lr[Yr].y-lr[Yr].x<Nt-Tr?(Lt[Lt.length]=er?(0,ie.createResultItem)(xt[Tr],xt[Tr],re.SES_ADD):(0,ie.createResultItem)(xt[Tr],xt[Tr],re.SES_DELETE),++Tr):(Lt[Lt.length]=(0,ie.createResultItem)(xt[Tr],gt[Nt],re.SES_COMMON),vr+=xt[Tr],++Tr,++Nt);return[Lt,vr]}(or,kt,U);return[Pt[0],D,Pt[1]]}},950:(ut,oe)=>{function cr(re,ie,Ft){return{left:re,right:ie,state:Ft}}Object.defineProperty(oe,"__esModule",{value:!0}),oe.createTextResults=oe.createResultItem=void 0,oe.createResultItem=cr,oe.createTextResults=function(re){if(re.length===0)return[];var ie=cr(re[0].left,re[0].right,re[0].state),Ft=[ie];return re.slice(1).forEach(function(Dt){Dt.state!==ie.state?(ie=cr(Dt.left,Dt.right,Dt.state),Ft.push(ie)):(ie.left+=Dt.left,ie.right+=Dt.right)}),Ft}}},tt={};function Ve(ut){var oe=tt[ut];if(oe!==void 0)return oe.exports;var cr=tt[ut]={exports:{}};return Sn[ut](cr,cr.exports,Ve),cr.exports}var ye={};return(()=>{var ut=ye;Object.defineProperty(ut,"__esModule",{value:!0}),ut.diffArray=ut.diffText=ut.SES_ADD=ut.SES_COMMON=ut.SES_DELETE=void 0;var oe=Ve(924);Object.defineProperty(ut,"SES_DELETE",{enumerable:!0,get:function(){return oe.SES_DELETE}}),Object.defineProperty(ut,"SES_COMMON",{enumerable:!0,get:function(){return oe.SES_COMMON}}),Object.defineProperty(ut,"SES_ADD",{enumerable:!0,get:function(){return oe.SES_ADD}});var cr=Ve(950),re=Ve(73),ie=Ve(644);ut.diffText=function(Ft,Dt){var or=(0,re.onp)(Ft,Dt),kt=or[0];return{distance:or[1],lcs:or[2],results:(0,cr.createTextResults)(kt)}},ut.diffArray=function(Ft,Dt){var or=(0,ie.stringifyArray)(Ft,Dt),kt=or[0],Mt=or[1],U=or[2],D=(0,re.onp)(kt,Mt),Pt=D[0],lt=D[1],Gt=(0,ie.objectifyArray)(Ft,Dt,Pt,U);return{distance:lt,lcs:(0,ie.objectifyLcs)(U,Gt),results:Gt}}})(),ye})())},13674:function(ai,Sn,tt){"use strict";tt.d(Sn,{z:function(){return Ve}});var Ve={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}},18706:function(ai,Sn,tt){var Ve=tt(27061);var ye;(function(ut){(function(oe){var cr=typeof tt.g=="object"?tt.g:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),re=ie(ut);typeof cr.Reflect=="undefined"?cr.Reflect=ut:re=ie(cr.Reflect,re),oe(re);function ie(Ft,Dt){return function(or,kt){typeof Ft[or]!="function"&&Object.defineProperty(Ft,or,{configurable:!0,writable:!0,value:kt}),Dt&&Dt(or,kt)}}})(function(oe){var cr=Object.prototype.hasOwnProperty,re=typeof Symbol=="function",ie=re&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",Ft=re&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",Dt=typeof Object.create=="function",or={__proto__:[]}instanceof Array,kt=!Dt&&!or,Mt={create:Dt?function(){return ve(Object.create(null))}:or?function(){return ve({__proto__:null})}:function(){return ve({})},has:kt?function(ce,xe){return cr.call(ce,xe)}:function(ce,xe){return xe in ce},get:kt?function(ce,xe){return cr.call(ce,xe)?ce[xe]:void 0}:function(ce,xe){return ce[xe]}},U=Object.getPrototypeOf(Function),D=typeof Ve=="object"&&Ve.env&&Ve.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",Pt=!D&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Kr(),lt=!D&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:rt(),Gt=!D&&typeof WeakMap=="function"?WeakMap:de(),lr=new Gt;function tr(ce,xe,Ee,Be){if(be(Ee)){if(!Tt(ce))throw new TypeError;if(!bt(xe))throw new TypeError;return Mn(ce,xe)}else{if(!Tt(ce))throw new TypeError;if(!ze(xe))throw new TypeError;if(!ze(Be)&&!be(Be)&&!Ae(Be))throw new TypeError;return Ae(Be)&&(Be=void 0),Ee=st(Ee),Fr(ce,xe,Ee,Be)}}oe("decorate",tr);function xt(ce,xe){function Ee(Be,Re){if(!ze(Be))throw new TypeError;if(!be(Re)&&!sr(Re))throw new TypeError;un(ce,xe,Be,Re)}return Ee}oe("metadata",xt);function gt(ce,xe,Ee,Be){if(!ze(Ee))throw new TypeError;return be(Be)||(Be=st(Be)),un(ce,xe,Ee,Be)}oe("defineMetadata",gt);function er(ce,xe,Ee){if(!ze(xe))throw new TypeError;return be(Ee)||(Ee=st(Ee)),Wn(ce,xe,Ee)}oe("hasMetadata",er);function Lt(ce,xe,Ee){if(!ze(xe))throw new TypeError;return be(Ee)||(Ee=st(Ee)),Ge(ce,xe,Ee)}oe("hasOwnMetadata",Lt);function Nt(ce,xe,Ee){if(!ze(xe))throw new TypeError;return be(Ee)||(Ee=st(Ee)),Et(ce,xe,Ee)}oe("getMetadata",Nt);function Tr(ce,xe,Ee){if(!ze(xe))throw new TypeError;return be(Ee)||(Ee=st(Ee)),Rr(ce,xe,Ee)}oe("getOwnMetadata",Tr);function vr(ce,xe){if(!ze(ce))throw new TypeError;return be(xe)||(xe=st(xe)),yn(ce,xe)}oe("getMetadataKeys",vr);function Yr(ce,xe){if(!ze(ce))throw new TypeError;return be(xe)||(xe=st(xe)),Vt(ce,xe)}oe("getOwnMetadataKeys",Yr);function mn(ce,xe,Ee){if(!ze(xe))throw new TypeError;be(Ee)||(Ee=st(Ee));var Be=Rn(xe,Ee,!1);if(be(Be)||!Be.delete(ce))return!1;if(Be.size>0)return!0;var Re=lr.get(xe);return Re.delete(Ee),Re.size>0||lr.delete(xe),!0}oe("deleteMetadata",mn);function Mn(ce,xe){for(var Ee=ce.length-1;Ee>=0;--Ee){var Be=ce[Ee],Re=Be(xe);if(!be(Re)&&!Ae(Re)){if(!bt(Re))throw new TypeError;xe=Re}}return xe}function Fr(ce,xe,Ee,Be){for(var Re=ce.length-1;Re>=0;--Re){var ct=ce[Re],ht=ct(xe,Ee,Be);if(!be(ht)&&!Ae(ht)){if(!ze(ht))throw new TypeError;Be=ht}}return Be}function Rn(ce,xe,Ee){var Be=lr.get(ce);if(be(Be)){if(!Ee)return;Be=new Pt,lr.set(ce,Be)}var Re=Be.get(xe);if(be(Re)){if(!Ee)return;Re=new Pt,Be.set(xe,Re)}return Re}function Wn(ce,xe,Ee){var Be=Ge(ce,xe,Ee);if(Be)return!0;var Re=cn(xe);return Ae(Re)?!1:Wn(ce,Re,Ee)}function Ge(ce,xe,Ee){var Be=Rn(xe,Ee,!1);return be(Be)?!1:wt(Be.has(ce))}function Et(ce,xe,Ee){var Be=Ge(ce,xe,Ee);if(Be)return Rr(ce,xe,Ee);var Re=cn(xe);if(!Ae(Re))return Et(ce,Re,Ee)}function Rr(ce,xe,Ee){var Be=Rn(xe,Ee,!1);if(!be(Be))return Be.get(ce)}function un(ce,xe,Ee,Be){var Re=Rn(Ee,Be,!0);Re.set(ce,xe)}function yn(ce,xe){var Ee=Vt(ce,xe),Be=cn(ce);if(Be===null)return Ee;var Re=yn(Be,xe);if(Re.length<=0)return Ee;if(Ee.length<=0)return Re;for(var ct=new lt,ht=[],Ht=0,Yt=Ee;Ht<Yt.length;Ht++){var rr=Yt[Ht],hr=ct.has(rr);hr||(ct.add(rr),ht.push(rr))}for(var Hr=0,Zt=Re;Hr<Zt.length;Hr++){var rr=Zt[Hr],hr=ct.has(rr);hr||(ct.add(rr),ht.push(rr))}return ht}function Vt(ce,xe){var Ee=[],Be=Rn(ce,xe,!1);if(be(Be))return Ee;for(var Re=Be.keys(),ct=Pr(Re),ht=0;;){var Ht=fn(ct);if(!Ht)return Ee.length=ht,Ee;var Yt=an(Ht);try{Ee[ht]=Yt}catch(rr){try{qn(ct)}finally{throw rr}}ht++}}function Ce(ce){if(ce===null)return 1;switch(typeof ce){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return ce===null?1:6;default:return 6}}function be(ce){return ce===void 0}function Ae(ce){return ce===null}function _e(ce){return typeof ce=="symbol"}function ze(ce){return typeof ce=="object"?ce!==null:typeof ce=="function"}function Bt(ce,xe){switch(Ce(ce)){case 0:return ce;case 1:return ce;case 2:return ce;case 3:return ce;case 4:return ce;case 5:return ce}var Ee=xe===3?"string":xe===5?"number":"default",Be=dr(ce,ie);if(Be!==void 0){var Re=Be.call(ce,Ee);if(ze(Re))throw new TypeError;return Re}return at(ce,Ee==="default"?"number":Ee)}function at(ce,xe){if(xe==="string"){var Ee=ce.toString;if(ir(Ee)){var Be=Ee.call(ce);if(!ze(Be))return Be}var Re=ce.valueOf;if(ir(Re)){var Be=Re.call(ce);if(!ze(Be))return Be}}else{var Re=ce.valueOf;if(ir(Re)){var Be=Re.call(ce);if(!ze(Be))return Be}var ct=ce.toString;if(ir(ct)){var Be=ct.call(ce);if(!ze(Be))return Be}}throw new TypeError}function wt(ce){return!!ce}function fe(ce){return""+ce}function st(ce){var xe=Bt(ce,3);return _e(xe)?xe:fe(xe)}function Tt(ce){return Array.isArray?Array.isArray(ce):ce instanceof Object?ce instanceof Array:Object.prototype.toString.call(ce)==="[object Array]"}function ir(ce){return typeof ce=="function"}function bt(ce){return typeof ce=="function"}function sr(ce){switch(Ce(ce)){case 3:return!0;case 4:return!0;default:return!1}}function dr(ce,xe){var Ee=ce[xe];if(Ee!=null){if(!ir(Ee))throw new TypeError;return Ee}}function Pr(ce){var xe=dr(ce,Ft);if(!ir(xe))throw new TypeError;var Ee=xe.call(ce);if(!ze(Ee))throw new TypeError;return Ee}function an(ce){return ce.value}function fn(ce){var xe=ce.next();return xe.done?!1:xe}function qn(ce){var xe=ce.return;xe&&xe.call(ce)}function cn(ce){var xe=Object.getPrototypeOf(ce);if(typeof ce!="function"||ce===U||xe!==U)return xe;var Ee=ce.prototype,Be=Ee&&Object.getPrototypeOf(Ee);if(Be==null||Be===Object.prototype)return xe;var Re=Be.constructor;return typeof Re!="function"||Re===ce?xe:Re}function Kr(){var ce={},xe=[],Ee=function(){function ht(Ht,Yt,rr){this._index=0,this._keys=Ht,this._values=Yt,this._selector=rr}return ht.prototype["@@iterator"]=function(){return this},ht.prototype[Ft]=function(){return this},ht.prototype.next=function(){var Ht=this._index;if(Ht>=0&&Ht<this._keys.length){var Yt=this._selector(this._keys[Ht],this._values[Ht]);return Ht+1>=this._keys.length?(this._index=-1,this._keys=xe,this._values=xe):this._index++,{value:Yt,done:!1}}return{value:void 0,done:!0}},ht.prototype.throw=function(Ht){throw this._index>=0&&(this._index=-1,this._keys=xe,this._values=xe),Ht},ht.prototype.return=function(Ht){return this._index>=0&&(this._index=-1,this._keys=xe,this._values=xe),{value:Ht,done:!0}},ht}();return function(){function ht(){this._keys=[],this._values=[],this._cacheKey=ce,this._cacheIndex=-2}return Object.defineProperty(ht.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ht.prototype.has=function(Ht){return this._find(Ht,!1)>=0},ht.prototype.get=function(Ht){var Yt=this._find(Ht,!1);return Yt>=0?this._values[Yt]:void 0},ht.prototype.set=function(Ht,Yt){var rr=this._find(Ht,!0);return this._values[rr]=Yt,this},ht.prototype.delete=function(Ht){var Yt=this._find(Ht,!1);if(Yt>=0){for(var rr=this._keys.length,hr=Yt+1;hr<rr;hr++)this._keys[hr-1]=this._keys[hr],this._values[hr-1]=this._values[hr];return this._keys.length--,this._values.length--,Ht===this._cacheKey&&(this._cacheKey=ce,this._cacheIndex=-2),!0}return!1},ht.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=ce,this._cacheIndex=-2},ht.prototype.keys=function(){return new Ee(this._keys,this._values,Be)},ht.prototype.values=function(){return new Ee(this._keys,this._values,Re)},ht.prototype.entries=function(){return new Ee(this._keys,this._values,ct)},ht.prototype["@@iterator"]=function(){return this.entries()},ht.prototype[Ft]=function(){return this.entries()},ht.prototype._find=function(Ht,Yt){return this._cacheKey!==Ht&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Ht)),this._cacheIndex<0&&Yt&&(this._cacheIndex=this._keys.length,this._keys.push(Ht),this._values.push(void 0)),this._cacheIndex},ht}();function Be(ht,Ht){return ht}function Re(ht,Ht){return Ht}function ct(ht,Ht){return[ht,Ht]}}function rt(){return function(){function ce(){this._map=new Pt}return Object.defineProperty(ce.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),ce.prototype.has=function(xe){return this._map.has(xe)},ce.prototype.add=function(xe){return this._map.set(xe,xe),this},ce.prototype.delete=function(xe){return this._map.delete(xe)},ce.prototype.clear=function(){this._map.clear()},ce.prototype.keys=function(){return this._map.keys()},ce.prototype.values=function(){return this._map.values()},ce.prototype.entries=function(){return this._map.entries()},ce.prototype["@@iterator"]=function(){return this.keys()},ce.prototype[Ft]=function(){return this.keys()},ce}()}function de(){var ce=16,xe=Mt.create(),Ee=Be();return function(){function Yt(){this._key=Be()}return Yt.prototype.has=function(rr){var hr=Re(rr,!1);return hr!==void 0?Mt.has(hr,this._key):!1},Yt.prototype.get=function(rr){var hr=Re(rr,!1);return hr!==void 0?Mt.get(hr,this._key):void 0},Yt.prototype.set=function(rr,hr){var Hr=Re(rr,!0);return Hr[this._key]=hr,this},Yt.prototype.delete=function(rr){var hr=Re(rr,!1);return hr!==void 0?delete hr[this._key]:!1},Yt.prototype.clear=function(){this._key=Be()},Yt}();function Be(){var Yt;do Yt="@@WeakMap@@"+Ht();while(Mt.has(xe,Yt));return xe[Yt]=!0,Yt}function Re(Yt,rr){if(!cr.call(Yt,Ee)){if(!rr)return;Object.defineProperty(Yt,Ee,{value:Mt.create()})}return Yt[Ee]}function ct(Yt,rr){for(var hr=0;hr<rr;++hr)Yt[hr]=Math.random()*255|0;return Yt}function ht(Yt){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(Yt)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(Yt)):ct(new Uint8Array(Yt),Yt):ct(new Array(Yt),Yt)}function Ht(){var Yt=ht(ce);Yt[6]=Yt[6]&79|64,Yt[8]=Yt[8]&191|128;for(var rr="",hr=0;hr<ce;++hr){var Hr=Yt[hr];(hr===4||hr===6||hr===8)&&(rr+="-"),Hr<16&&(rr+="0"),rr+=Hr.toString(16).toLowerCase()}return rr}}function ve(ce){return ce.__=void 0,delete ce.__,ce}})})(ye||(ye={}))},93185:function(ai){ai.exports=function(){var Sn=document.getSelection();if(!Sn.rangeCount)return function(){};for(var tt=document.activeElement,Ve=[],ye=0;ye<Sn.rangeCount;ye++)Ve.push(Sn.getRangeAt(ye));switch(tt.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":tt.blur();break;default:tt=null;break}return Sn.removeAllRanges(),function(){Sn.type==="Caret"&&Sn.removeAllRanges(),Sn.rangeCount||Ve.forEach(function(ut){Sn.addRange(ut)}),tt&&tt.focus()}}},85556:function(ai,Sn,tt){"use strict";tt.d(Sn,{CR:function(){return Gt},Jh:function(){return U},XA:function(){return lt},ZT:function(){return ye},_T:function(){return oe},ev:function(){return xt},mG:function(){return Mt},pi:function(){return ut},pr:function(){return tr}});var Ve=function(Vt,Ce){return Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,Ae){be.__proto__=Ae}||function(be,Ae){for(var _e in Ae)Object.prototype.hasOwnProperty.call(Ae,_e)&&(be[_e]=Ae[_e])},Ve(Vt,Ce)};function ye(Vt,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Class extends value "+String(Ce)+" is not a constructor or null");Ve(Vt,Ce);function be(){this.constructor=Vt}Vt.prototype=Ce===null?Object.create(Ce):(be.prototype=Ce.prototype,new be)}var ut=function(){return ut=Object.assign||function(Ce){for(var be,Ae=1,_e=arguments.length;Ae<_e;Ae++){be=arguments[Ae];for(var ze in be)Object.prototype.hasOwnProperty.call(be,ze)&&(Ce[ze]=be[ze])}return Ce},ut.apply(this,arguments)};function oe(Vt,Ce){var be={};for(var Ae in Vt)Object.prototype.hasOwnProperty.call(Vt,Ae)&&Ce.indexOf(Ae)<0&&(be[Ae]=Vt[Ae]);if(Vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _e=0,Ae=Object.getOwnPropertySymbols(Vt);_e<Ae.length;_e++)Ce.indexOf(Ae[_e])<0&&Object.prototype.propertyIsEnumerable.call(Vt,Ae[_e])&&(be[Ae[_e]]=Vt[Ae[_e]]);return be}function cr(Vt,Ce,be,Ae){var _e=arguments.length,ze=_e<3?Ce:Ae===null?Ae=Object.getOwnPropertyDescriptor(Ce,be):Ae,Bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ze=Reflect.decorate(Vt,Ce,be,Ae);else for(var at=Vt.length-1;at>=0;at--)(Bt=Vt[at])&&(ze=(_e<3?Bt(ze):_e>3?Bt(Ce,be,ze):Bt(Ce,be))||ze);return _e>3&&ze&&Object.defineProperty(Ce,be,ze),ze}function re(Vt,Ce){return function(be,Ae){Ce(be,Ae,Vt)}}function ie(Vt,Ce,be,Ae,_e,ze){function Bt(an){if(an!==void 0&&typeof an!="function")throw new TypeError("Function expected");return an}for(var at=Ae.kind,wt=at==="getter"?"get":at==="setter"?"set":"value",fe=!Ce&&Vt?Ae.static?Vt:Vt.prototype:null,st=Ce||(fe?Object.getOwnPropertyDescriptor(fe,Ae.name):{}),Tt,ir=!1,bt=be.length-1;bt>=0;bt--){var sr={};for(var dr in Ae)sr[dr]=dr==="access"?{}:Ae[dr];for(var dr in Ae.access)sr.access[dr]=Ae.access[dr];sr.addInitializer=function(an){if(ir)throw new TypeError("Cannot add initializers after decoration has completed");ze.push(Bt(an||null))};var Pr=(0,be[bt])(at==="accessor"?{get:st.get,set:st.set}:st[wt],sr);if(at==="accessor"){if(Pr===void 0)continue;if(Pr===null||typeof Pr!="object")throw new TypeError("Object expected");(Tt=Bt(Pr.get))&&(st.get=Tt),(Tt=Bt(Pr.set))&&(st.set=Tt),(Tt=Bt(Pr.init))&&_e.unshift(Tt)}else(Tt=Bt(Pr))&&(at==="field"?_e.unshift(Tt):st[wt]=Tt)}fe&&Object.defineProperty(fe,Ae.name,st),ir=!0}function Ft(Vt,Ce,be){for(var Ae=arguments.length>2,_e=0;_e<Ce.length;_e++)be=Ae?Ce[_e].call(Vt,be):Ce[_e].call(Vt);return Ae?be:void 0}function Dt(Vt){return typeof Vt=="symbol"?Vt:"".concat(Vt)}function or(Vt,Ce,be){return typeof Ce=="symbol"&&(Ce=Ce.description?"[".concat(Ce.description,"]"):""),Object.defineProperty(Vt,"name",{configurable:!0,value:be?"".concat(be," ",Ce):Ce})}function kt(Vt,Ce){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Vt,Ce)}function Mt(Vt,Ce,be,Ae){function _e(ze){return ze instanceof be?ze:new be(function(Bt){Bt(ze)})}return new(be||(be=Promise))(function(ze,Bt){function at(st){try{fe(Ae.next(st))}catch(Tt){Bt(Tt)}}function wt(st){try{fe(Ae.throw(st))}catch(Tt){Bt(Tt)}}function fe(st){st.done?ze(st.value):_e(st.value).then(at,wt)}fe((Ae=Ae.apply(Vt,Ce||[])).next())})}function U(Vt,Ce){var be={label:0,sent:function(){if(ze[0]&1)throw ze[1];return ze[1]},trys:[],ops:[]},Ae,_e,ze,Bt=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Bt.next=at(0),Bt.throw=at(1),Bt.return=at(2),typeof Symbol=="function"&&(Bt[Symbol.iterator]=function(){return this}),Bt;function at(fe){return function(st){return wt([fe,st])}}function wt(fe){if(Ae)throw new TypeError("Generator is already executing.");for(;Bt&&(Bt=0,fe[0]&&(be=0)),be;)try{if(Ae=1,_e&&(ze=fe[0]&2?_e.return:fe[0]?_e.throw||((ze=_e.return)&&ze.call(_e),0):_e.next)&&!(ze=ze.call(_e,fe[1])).done)return ze;switch(_e=0,ze&&(fe=[fe[0]&2,ze.value]),fe[0]){case 0:case 1:ze=fe;break;case 4:return be.label++,{value:fe[1],done:!1};case 5:be.label++,_e=fe[1],fe=[0];continue;case 7:fe=be.ops.pop(),be.trys.pop();continue;default:if(ze=be.trys,!(ze=ze.length>0&&ze[ze.length-1])&&(fe[0]===6||fe[0]===2)){be=0;continue}if(fe[0]===3&&(!ze||fe[1]>ze[0]&&fe[1]<ze[3])){be.label=fe[1];break}if(fe[0]===6&&be.label<ze[1]){be.label=ze[1],ze=fe;break}if(ze&&be.label<ze[2]){be.label=ze[2],be.ops.push(fe);break}ze[2]&&be.ops.pop(),be.trys.pop();continue}fe=Ce.call(Vt,be)}catch(st){fe=[6,st],_e=0}finally{Ae=ze=0}if(fe[0]&5)throw fe[1];return{value:fe[0]?fe[1]:void 0,done:!0}}}var D=Object.create?function(Vt,Ce,be,Ae){Ae===void 0&&(Ae=be);var _e=Object.getOwnPropertyDescriptor(Ce,be);(!_e||("get"in _e?!Ce.__esModule:_e.writable||_e.configurable))&&(_e={enumerable:!0,get:function(){return Ce[be]}}),Object.defineProperty(Vt,Ae,_e)}:function(Vt,Ce,be,Ae){Ae===void 0&&(Ae=be),Vt[Ae]=Ce[be]};function Pt(Vt,Ce){for(var be in Vt)be!=="default"&&!Object.prototype.hasOwnProperty.call(Ce,be)&&D(Ce,Vt,be)}function lt(Vt){var Ce=typeof Symbol=="function"&&Symbol.iterator,be=Ce&&Vt[Ce],Ae=0;if(be)return be.call(Vt);if(Vt&&typeof Vt.length=="number")return{next:function(){return Vt&&Ae>=Vt.length&&(Vt=void 0),{value:Vt&&Vt[Ae++],done:!Vt}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(Vt,Ce){var be=typeof Symbol=="function"&&Vt[Symbol.iterator];if(!be)return Vt;var Ae=be.call(Vt),_e,ze=[],Bt;try{for(;(Ce===void 0||Ce-- >0)&&!(_e=Ae.next()).done;)ze.push(_e.value)}catch(at){Bt={error:at}}finally{try{_e&&!_e.done&&(be=Ae.return)&&be.call(Ae)}finally{if(Bt)throw Bt.error}}return ze}function lr(){for(var Vt=[],Ce=0;Ce<arguments.length;Ce++)Vt=Vt.concat(Gt(arguments[Ce]));return Vt}function tr(){for(var Vt=0,Ce=0,be=arguments.length;Ce<be;Ce++)Vt+=arguments[Ce].length;for(var Ae=Array(Vt),_e=0,Ce=0;Ce<be;Ce++)for(var ze=arguments[Ce],Bt=0,at=ze.length;Bt<at;Bt++,_e++)Ae[_e]=ze[Bt];return Ae}function xt(Vt,Ce,be){if(be||arguments.length===2)for(var Ae=0,_e=Ce.length,ze;Ae<_e;Ae++)(ze||!(Ae in Ce))&&(ze||(ze=Array.prototype.slice.call(Ce,0,Ae)),ze[Ae]=Ce[Ae]);return Vt.concat(ze||Array.prototype.slice.call(Ce))}function gt(Vt){return this instanceof gt?(this.v=Vt,this):new gt(Vt)}function er(Vt,Ce,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae=be.apply(Vt,Ce||[]),_e,ze=[];return _e=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),at("next"),at("throw"),at("return",Bt),_e[Symbol.asyncIterator]=function(){return this},_e;function Bt(bt){return function(sr){return Promise.resolve(sr).then(bt,Tt)}}function at(bt,sr){Ae[bt]&&(_e[bt]=function(dr){return new Promise(function(Pr,an){ze.push([bt,dr,Pr,an])>1||wt(bt,dr)})},sr&&(_e[bt]=sr(_e[bt])))}function wt(bt,sr){try{fe(Ae[bt](sr))}catch(dr){ir(ze[0][3],dr)}}function fe(bt){bt.value instanceof gt?Promise.resolve(bt.value.v).then(st,Tt):ir(ze[0][2],bt)}function st(bt){wt("next",bt)}function Tt(bt){wt("throw",bt)}function ir(bt,sr){bt(sr),ze.shift(),ze.length&&wt(ze[0][0],ze[0][1])}}function Lt(Vt){var Ce,be;return Ce={},Ae("next"),Ae("throw",function(_e){throw _e}),Ae("return"),Ce[Symbol.iterator]=function(){return this},Ce;function Ae(_e,ze){Ce[_e]=Vt[_e]?function(Bt){return(be=!be)?{value:gt(Vt[_e](Bt)),done:!1}:ze?ze(Bt):Bt}:ze}}function Nt(Vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce=Vt[Symbol.asyncIterator],be;return Ce?Ce.call(Vt):(Vt=typeof lt=="function"?lt(Vt):Vt[Symbol.iterator](),be={},Ae("next"),Ae("throw"),Ae("return"),be[Symbol.asyncIterator]=function(){return this},be);function Ae(ze){be[ze]=Vt[ze]&&function(Bt){return new Promise(function(at,wt){Bt=Vt[ze](Bt),_e(at,wt,Bt.done,Bt.value)})}}function _e(ze,Bt,at,wt){Promise.resolve(wt).then(function(fe){ze({value:fe,done:at})},Bt)}}function Tr(Vt,Ce){return Object.defineProperty?Object.defineProperty(Vt,"raw",{value:Ce}):Vt.raw=Ce,Vt}var vr=Object.create?function(Vt,Ce){Object.defineProperty(Vt,"default",{enumerable:!0,value:Ce})}:function(Vt,Ce){Vt.default=Ce},Yr=function(Vt){return Yr=Object.getOwnPropertyNames||function(Ce){var be=[];for(var Ae in Ce)Object.prototype.hasOwnProperty.call(Ce,Ae)&&(be[be.length]=Ae);return be},Yr(Vt)};function mn(Vt){if(Vt&&Vt.__esModule)return Vt;var Ce={};if(Vt!=null)for(var be=Yr(Vt),Ae=0;Ae<be.length;Ae++)be[Ae]!=="default"&&D(Ce,Vt,be[Ae]);return vr(Ce,Vt),Ce}function Mn(Vt){return Vt&&Vt.__esModule?Vt:{default:Vt}}function Fr(Vt,Ce,be,Ae){if(be==="a"&&!Ae)throw new TypeError("Private accessor was defined without a getter");if(typeof Ce=="function"?Vt!==Ce||!Ae:!Ce.has(Vt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return be==="m"?Ae:be==="a"?Ae.call(Vt):Ae?Ae.value:Ce.get(Vt)}function Rn(Vt,Ce,be,Ae,_e){if(Ae==="m")throw new TypeError("Private method is not writable");if(Ae==="a"&&!_e)throw new TypeError("Private accessor was defined without a setter");if(typeof Ce=="function"?Vt!==Ce||!_e:!Ce.has(Vt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Ae==="a"?_e.call(Vt,be):_e?_e.value=be:Ce.set(Vt,be),be}function Wn(Vt,Ce){if(Ce===null||typeof Ce!="object"&&typeof Ce!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof Vt=="function"?Ce===Vt:Vt.has(Ce)}function Ge(Vt,Ce,be){if(Ce!=null){if(typeof Ce!="object"&&typeof Ce!="function")throw new TypeError("Object expected.");var Ae,_e;if(be){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Ae=Ce[Symbol.asyncDispose]}if(Ae===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Ae=Ce[Symbol.dispose],be&&(_e=Ae)}if(typeof Ae!="function")throw new TypeError("Object not disposable.");_e&&(Ae=function(){try{_e.call(this)}catch(ze){return Promise.reject(ze)}}),Vt.stack.push({value:Ce,dispose:Ae,async:be})}else be&&Vt.stack.push({async:!0});return Ce}var Et=typeof SuppressedError=="function"?SuppressedError:function(Vt,Ce,be){var Ae=new Error(be);return Ae.name="SuppressedError",Ae.error=Vt,Ae.suppressed=Ce,Ae};function Rr(Vt){function Ce(ze){Vt.error=Vt.hasError?new Et(ze,Vt.error,"An error was suppressed during disposal."):ze,Vt.hasError=!0}var be,Ae=0;function _e(){for(;be=Vt.stack.pop();)try{if(!be.async&&Ae===1)return Ae=0,Vt.stack.push(be),Promise.resolve().then(_e);if(be.dispose){var ze=be.dispose.call(be.value);if(be.async)return Ae|=2,Promise.resolve(ze).then(_e,function(Bt){return Ce(Bt),_e()})}else Ae|=1}catch(Bt){Ce(Bt)}if(Ae===1)return Vt.hasError?Promise.reject(Vt.error):Promise.resolve();if(Vt.hasError)throw Vt.error}return _e()}function un(Vt,Ce){return typeof Vt=="string"&&/^\.\.?\//.test(Vt)?Vt.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(be,Ae,_e,ze,Bt){return Ae?Ce?".jsx":".js":_e&&(!ze||!Bt)?be:_e+ze+"."+Bt.toLowerCase()+"js"}):Vt}var yn={__extends:ye,__assign:ut,__rest:oe,__decorate:cr,__param:re,__esDecorate:ie,__runInitializers:Ft,__propKey:Dt,__setFunctionName:or,__metadata:kt,__awaiter:Mt,__generator:U,__createBinding:D,__exportStar:Pt,__values:lt,__read:Gt,__spread:lr,__spreadArrays:tr,__spreadArray:xt,__await:gt,__asyncGenerator:er,__asyncDelegator:Lt,__asyncValues:Nt,__makeTemplateObject:Tr,__importStar:mn,__importDefault:Mn,__classPrivateFieldGet:Fr,__classPrivateFieldSet:Rn,__classPrivateFieldIn:Wn,__addDisposableResource:Ge,__disposeResources:Rr,__rewriteRelativeImportExtension:un}}}]);
