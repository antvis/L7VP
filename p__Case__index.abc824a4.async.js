(self.webpackChunk_antv_li_website=self.webpackChunk_antv_li_website||[]).push([[248],{93707:function(S,p,e){"use strict";e.d(p,{wy:function(){return M},QR:function(){return l},nK:function(){return T},z2:function(){return Z}});var m=e(69024),h=e.n(m),E=e(81821),o=e(28869),M=function(){var d=E.Modal.useModal(),r=h()(d,2),c=r[0],i=r[1],v=(0,o.TH)(),x=function(){v.pathname.includes("/builder/")||v.pathname.includes("/app/")?o.m8.push({pathname:"/project"}):o.m8.push({pathname:"/case"})};return{emptyModal:function(D){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x,j=5,O,L,B=c.warning({title:D,content:"".concat(j," \u79D2\u540E\u4F1A\u81EA\u52A8\u9000\u5230\u4E0A\u4E00\u9875\u9762\u3002"),onOk:function(){O&&clearInterval(O),L&&clearTimeout(L),P()}});O=setInterval(function(){j-=1,B.update({content:"".concat(j," \u79D2\u540E\u81EA\u52A8\u4F1A\u9000\u5230\u4E0A\u4E00\u9875\u9762\u3002")})},1e3),L=setTimeout(function(){clearInterval(O),B.destroy(),P()},j*1e3)},emptyContextHolder:i}},g=e(87363);function y(R){var d="https://private-alipayobjects.alipay.com/alipay-rmsdeploy-image/rmsportal/RKuAiriJqrUhyqW.png",r=new Image,c,i=function(x){c||(c=!0,r.src="",R(x))};return r.onload=function(){return i("responded")},r.onerror=function(){return i("error")},r.src=d,setTimeout(function(){return i("timeout")},1500)}var s="L7VP_DOT_NOT_SHOW_PROMPT_MODAL",a;function T(){var R=(0,g.useState)(!1),d=h()(R,2),r=d[0],c=d[1];return(0,g.useEffect)(function(){var i;(i=a)!==null&&i!==void 0||(a=new Promise(function(v){y(function(x){return v(x!=="timeout"&&x!=="error")})})),a.then(c)},[]),r}function l(){var R=["li.antv.antgroup.com","locationinsight.antv.antgroup.com"].includes(window.location.hostname),d=T(),r=E.Modal.useModal(),c=h()(r,2),i=c[0],v=c[1],x=R&&d;return(0,g.useEffect)(function(){if(x){var w=window.localStorage.getItem(s);if(!(w&&w!=="true"&&Date.now()-new Date(w).getTime()<5*24*60*60*1e3)){var D=function(){window.localStorage.setItem(s,new Date().toISOString())},P=function(){var O=window.location.href.replace(window.location.host,"li.antgroup-inc.cn");window.location.replace(O)};i.confirm({icon:null,title:"\u63D0\u793A",content:"\u5185\u7F51\u7528\u6237\u63A8\u8350\u8BBF\u95EE\u5185\u7F51\u7248\u4EE5\u83B7\u5F97\u5B8C\u6574\u7684\u529F\u80FD\u4F53\u9A8C\uFF5E",cancelText:"5 \u5929\u5185\u4E0D\u518D\u663E\u793A",okText:"\u7ACB\u5373\u524D\u5F80",onCancel:D,onOk:P})}}},[x]),v}var A=e(51490),C=e.n(A),k=e(91055),I=e.n(k),F=e(88104),V=e.n(F),W=e(25435),U=e(6079),G=e(12611),n=e(9256),K=e(81309),Z=function(d){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=(0,g.useState)([]),i=h()(c,2),v=i[0],x=i[1],w=(0,g.useState)(!1),D=h()(w,2),P=D[0],j=D[1],O=(0,g.useState)(null),L=h()(O,2),B=L[0],z=L[1],J=function(){var Q=V()(C()().mark(function N(){var t,f,b;return C()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return j(!0),u.prev=1,u.next=4,(0,K.nl)();case 4:return t=u.sent,Array.isArray(d)&&(t=t.filter(function($){return d.includes($.assetId)})),t=t.map(function($){return $.enable===!1?I()(I()({},$),{},{urls:[]}):$}),f=r.sandbox?I()(I()({},(0,G.isObject)(r.sandbox)?r.sandbox:{}),{},{injectEnv:(0,n.Rz)()}):!1,u.next=10,(0,W.loadAssetPackages)(t,I()(I()({},r),{},{sandbox:f}));case 10:b=u.sent,x(b),u.next=17;break;case 14:u.prev=14,u.t0=u.catch(1),z(new Error("\u8D44\u4EA7\u8BF7\u6C42\u6216\u52A0\u8F7D\u5931\u8D25, ".concat(u.t0)));case 17:return u.prev=17,j(!1),u.finish(17);case 20:case"end":return u.stop()}},N,null,[[1,14,17,20]])}));return function(){return Q.apply(this,arguments)}}();return(0,U.Z)(function(){J()},[d]),{assets:v,loading:P,error:B}}},63086:function(S,p,e){"use strict";e.r(p),e.d(p,{default:function(){return R}});var m=e(69024),h=e.n(m),E=e(16640),o=e(81821),M=e(87363),g=e(28869),y=e(49231),s=e.n(y),a=e(87651),T,l,A,C,k,I,F,V=function(){var r=o.theme.useToken,c=r(),i=c.token,v=i.colorBgElevated;return{cases:(0,a.iv)(T||(T=s()([`
      padding: 0 95px;
    `]))),catalogTitle:(0,a.iv)(l||(l=s()([`
      font-size: 16px;
      margin-bottom: 12px;
    `]))),caseCard:(0,a.iv)(A||(A=s()([`
      cursor: pointer;
    }
    `]))),caseImg:(0,a.iv)(C||(C=s()([`
      width: 100%;
      height: 240px;
      object-fit: cover;
    `]))),caseHead:(0,a.iv)(k||(k=s()([`
      position: absolute;
      top: 0;
      width: 100%;
      padding: 10px;
      display: flex !important;
      justify-content: space-between;
      align-items: center;
    `]))),caseTools:(0,a.iv)(I||(I=s()([`
      border-radius: 20px;
      &:hover {
        background: `,`;
      }
    `])),v),itemDescription:(0,a.iv)(F||(F=s()([`
      margin-bottom: 0 !important;
      min-height: 44px;
    `])))}},W=V,U=e(81309),G=e(93707),n=e(70293),K=o.Card.Meta,Z=function(){var r=W(),c=(0,M.useState)([]),i=h()(c,2),v=i[0],x=i[1],w=(0,M.useState)(!0),D=h()(w,2),P=D[0],j=D[1],O=(0,G.wy)(),L=O.emptyModal,B=O.emptyContextHolder,z=function(){return(0,U.uq)().then(function(t){x(t)}).catch(function(t){console.log("err: ",t)})};(0,M.useEffect)(function(){j(!0),z().finally(function(){return j(!1)})},[]);var J=function(t){var f=t.applicationConfig,b={projectName:"".concat(f==null?void 0:f.metadata.name,"_copy"),description:(f==null?void 0:f.metadata.description)||"",applicationConfig:f,assetPackageIds:t.assetPackageIds};(0,U.$L)(b).then(function(H){g.m8.push({pathname:"/project"})}).catch(function(){L("\u6DFB\u52A0\u5230\u9879\u76EE\u5931\u8D25")})},Q=function(t){var f,b=function(){var u=t.viewMode==="view"?"/app/".concat(t.id,"?type=case"):"/template/".concat(t.id,"?nav=layers");window.open(g.m8.createHref(u))};return(0,n.jsx)(o.Card,{className:r.caseCard,onClick:b,cover:(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{alt:t.name,className:r.caseImg,src:t.thumbnail}),(0,n.jsxs)("div",{className:r.caseHead,onClick:function(u){return u.stopPropagation()},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Tag,{color:t.type==="vis"?"green":"blue",bordered:!1,children:t.type==="vis"?"\u53EF\u89C6\u5206\u6790":t.type==="app"?"\u5E94\u7528\u6848\u4F8B":"\u5176\u4ED6\u6848\u4F8B"}),t.tags.map(function(H){return(0,n.jsx)(o.Tag,{color:"cyan",bordered:!1,children:H},H)})]}),(0,n.jsx)("div",{className:r.caseTools,children:(0,n.jsxs)(o.Space,{children:[(0,n.jsx)(o.Tooltip,{title:"\u9884\u89C8",children:(0,n.jsx)(o.Button,{type:"text",shape:"circle",icon:(0,n.jsx)(E.DesktopOutlined,{}),onClick:b})}),(0,n.jsx)(o.Tooltip,{title:"\u514B\u9686",children:(0,n.jsx)("span",{onClick:function(){return J(t)},children:(0,n.jsx)(o.Button,{type:"text",shape:"circle",icon:(0,n.jsx)(E.ForkOutlined,{})})},"create map")})]})})]})]}),children:(0,n.jsx)(K,{title:(0,n.jsx)("span",{title:t.name,children:t.name}),description:(0,n.jsx)(o.Typography.Paragraph,{className:r.itemDescription,type:"secondary",ellipsis:{rows:2,tooltip:t.description.length>40&&{title:t.description}},children:(f=t.description)!==null&&f!==void 0?f:"\u6682\u65E0\u63CF\u8FF0"})})})};return P?(0,n.jsx)("div",{style:{textAlign:"center",padding:"60px 50px"},children:(0,n.jsx)(o.Spin,{})}):(0,n.jsxs)("div",{className:r.cases,children:[(0,n.jsx)("div",{className:r.catalogTitle,children:"\u6848\u4F8B\u5217\u8868"}),(0,n.jsx)(o.Row,{gutter:[48,24],children:v.map(function(N){return(0,n.jsx)(o.Col,{xxl:6,xl:8,lg:12,md:12,sm:24,xs:24,children:Q(N)},N.id)})}),B]})},R=Z},164:function(S,p,e){"use strict";var m=e(87363),h=Symbol.for("react.element"),E=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,M=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function y(s,a,T){var l,A={},C=null,k=null;T!==void 0&&(C=""+T),a.key!==void 0&&(C=""+a.key),a.ref!==void 0&&(k=a.ref);for(l in a)o.call(a,l)&&!g.hasOwnProperty(l)&&(A[l]=a[l]);if(s&&s.defaultProps)for(l in a=s.defaultProps,a)A[l]===void 0&&(A[l]=a[l]);return{$$typeof:h,type:s,key:C,ref:k,props:A,_owner:M.current}}p.Fragment=E,p.jsx=y,p.jsxs=y},70293:function(S,p,e){"use strict";S.exports=e(164)},6079:function(S,p,e){"use strict";e.d(p,{Z:function(){return g}});var m=e(87363),h=e(54335),E=e.n(h),o=function(y,s){return y===void 0&&(y=[]),s===void 0&&(s=[]),E()(y,s)},M=function(y){return function(s,a){var T=(0,m.useRef)(),l=(0,m.useRef)(0);(a===void 0||!o(a,T.current))&&(l.current+=1),T.current=a,y(s,[l.current])}},g=M(m.useEffect)},49231:function(S){function p(e,m){return m||(m=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(m)}}))}S.exports=p,S.exports.__esModule=!0,S.exports.default=S.exports}}]);
